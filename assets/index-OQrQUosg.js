(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function kS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var jm={exports:{}},ru={};var vv;function NS(){if(vv)return ru;vv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return ru.Fragment=e,ru.jsx=n,ru.jsxs=n,ru}var Ev;function DS(){return Ev||(Ev=1,jm.exports=NS()),jm.exports}var T=DS(),Um={exports:{}},Se={};var Tv;function OS(){if(Tv)return Se;Tv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function M(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,Y={};function ie(V,te,le){this.props=V,this.context=te,this.refs=Y,this.updater=le||G}ie.prototype.isReactComponent={},ie.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},ie.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function re(){}re.prototype=ie.prototype;function ae(V,te,le){this.props=V,this.context=te,this.refs=Y,this.updater=le||G}var se=ae.prototype=new re;se.constructor=ae,K(se,ie.prototype),se.isPureReactComponent=!0;var pe=Array.isArray;function me(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function I(V,te,le){var fe=le.ref;return{$$typeof:r,type:V,key:te,ref:fe!==void 0?fe:null,props:le}}function O(V,te){return I(V.type,te,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function U(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(le){return te[le]})}var k=/\/+/g;function We(V,te){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):te.toString(36)}function ct(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(me,me):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function W(V,te,le,fe,be){var Ie=typeof V;(Ie==="undefined"||Ie==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Ie){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case r:case e:Ue=!0;break;case E:return Ue=V._init,W(Ue(V._payload),te,le,fe,be)}}if(Ue)return be=be(V),Ue=fe===""?"."+We(V,0):fe,pe(be)?(le="",Ue!=null&&(le=Ue.replace(k,"$&/")+"/"),W(be,te,le,"",function(Rs){return Rs})):be!=null&&(D(be)&&(be=O(be,le+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(k,"$&/")+"/")+Ue)),te.push(be)),1;Ue=0;var Lt=fe===""?".":fe+":";if(pe(V))for(var at=0;at<V.length;at++)fe=V[at],Ie=Lt+We(fe,at),Ue+=W(fe,te,le,Ie,be);else if(at=M(V),typeof at=="function")for(V=at.call(V),at=0;!(fe=V.next()).done;)fe=fe.value,Ie=Lt+We(fe,at++),Ue+=W(fe,te,le,Ie,be);else if(Ie==="object"){if(typeof V.then=="function")return W(ct(V),te,le,fe,be);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function H(V,te,le){if(V==null)return V;var fe=[],be=0;return W(V,fe,"","",function(Ie){return te.call(le,Ie,be++)}),fe}function he(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(le){(V._status===0||V._status===-1)&&(V._status=1,V._result=le)},function(le){(V._status===0||V._status===-1)&&(V._status=2,V._result=le)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var ke=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Be={map:H,forEach:function(V,te,le){H(V,function(){te.apply(this,arguments)},le)},count:function(V){var te=0;return H(V,function(){te++}),te},toArray:function(V){return H(V,function(te){return te})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Se.Activity=b,Se.Children=Be,Se.Component=ie,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=ae,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Se.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Se.cache=function(V){return function(){return V.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(V,te,le){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var fe=K({},V.props),be=V.key;if(te!=null)for(Ie in te.key!==void 0&&(be=""+te.key),te)!x.call(te,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&te.ref===void 0||(fe[Ie]=te[Ie]);var Ie=arguments.length-2;if(Ie===1)fe.children=le;else if(1<Ie){for(var Ue=Array(Ie),Lt=0;Lt<Ie;Lt++)Ue[Lt]=arguments[Lt+2];fe.children=Ue}return I(V.type,be,fe)},Se.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Se.createElement=function(V,te,le){var fe,be={},Ie=null;if(te!=null)for(fe in te.key!==void 0&&(Ie=""+te.key),te)x.call(te,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(be[fe]=te[fe]);var Ue=arguments.length-2;if(Ue===1)be.children=le;else if(1<Ue){for(var Lt=Array(Ue),at=0;at<Ue;at++)Lt[at]=arguments[at+2];be.children=Lt}if(V&&V.defaultProps)for(fe in Ue=V.defaultProps,Ue)be[fe]===void 0&&(be[fe]=Ue[fe]);return I(V,Ie,be)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(V){return{$$typeof:m,render:V}},Se.isValidElement=D,Se.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:he}},Se.memo=function(V,te){return{$$typeof:p,type:V,compare:te===void 0?null:te}},Se.startTransition=function(V){var te=C.T,le={};C.T=le;try{var fe=V(),be=C.S;be!==null&&be(le,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(me,ke)}catch(Ie){ke(Ie)}finally{te!==null&&le.types!==null&&(te.types=le.types),C.T=te}},Se.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Se.use=function(V){return C.H.use(V)},Se.useActionState=function(V,te,le){return C.H.useActionState(V,te,le)},Se.useCallback=function(V,te){return C.H.useCallback(V,te)},Se.useContext=function(V){return C.H.useContext(V)},Se.useDebugValue=function(){},Se.useDeferredValue=function(V,te){return C.H.useDeferredValue(V,te)},Se.useEffect=function(V,te){return C.H.useEffect(V,te)},Se.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Se.useId=function(){return C.H.useId()},Se.useImperativeHandle=function(V,te,le){return C.H.useImperativeHandle(V,te,le)},Se.useInsertionEffect=function(V,te){return C.H.useInsertionEffect(V,te)},Se.useLayoutEffect=function(V,te){return C.H.useLayoutEffect(V,te)},Se.useMemo=function(V,te){return C.H.useMemo(V,te)},Se.useOptimistic=function(V,te){return C.H.useOptimistic(V,te)},Se.useReducer=function(V,te,le){return C.H.useReducer(V,te,le)},Se.useRef=function(V){return C.H.useRef(V)},Se.useState=function(V){return C.H.useState(V)},Se.useSyncExternalStore=function(V,te,le){return C.H.useSyncExternalStore(V,te,le)},Se.useTransition=function(){return C.H.useTransition()},Se.version="19.2.3",Se}var bv;function jp(){return bv||(bv=1,Um.exports=OS()),Um.exports}var P=jp();const R=kS(P);var zm={exports:{}},iu={},Bm={exports:{}},qm={};var Av;function MS(){return Av||(Av=1,(function(r){function e(W,H){var he=W.length;W.push(H);e:for(;0<he;){var ke=he-1>>>1,Be=W[ke];if(0<o(Be,H))W[ke]=H,W[he]=Be,he=ke;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var H=W[0],he=W.pop();if(he!==H){W[0]=he;e:for(var ke=0,Be=W.length,V=Be>>>1;ke<V;){var te=2*(ke+1)-1,le=W[te],fe=te+1,be=W[fe];if(0>o(le,he))fe<Be&&0>o(be,le)?(W[ke]=be,W[fe]=he,ke=fe):(W[ke]=le,W[te]=he,ke=te);else if(fe<Be&&0>o(be,he))W[ke]=be,W[fe]=he,ke=fe;else break e}}return H}function o(W,H){var he=W.sortIndex-H.sortIndex;return he!==0?he:W.id-H.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],p=[],E=1,b=null,w=3,M=!1,G=!1,K=!1,Y=!1,ie=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function se(W){for(var H=n(p);H!==null;){if(H.callback===null)s(p);else if(H.startTime<=W)s(p),H.sortIndex=H.expirationTime,e(g,H);else break;H=n(p)}}function pe(W){if(K=!1,se(W),!G)if(n(g)!==null)G=!0,me||(me=!0,U());else{var H=n(p);H!==null&&ct(pe,H.startTime-W)}}var me=!1,C=-1,x=5,I=-1;function O(){return Y?!0:!(r.unstable_now()-I<x)}function D(){if(Y=!1,me){var W=r.unstable_now();I=W;var H=!0;try{e:{G=!1,K&&(K=!1,re(C),C=-1),M=!0;var he=w;try{t:{for(se(W),b=n(g);b!==null&&!(b.expirationTime>W&&O());){var ke=b.callback;if(typeof ke=="function"){b.callback=null,w=b.priorityLevel;var Be=ke(b.expirationTime<=W);if(W=r.unstable_now(),typeof Be=="function"){b.callback=Be,se(W),H=!0;break t}b===n(g)&&s(g),se(W)}else s(g);b=n(g)}if(b!==null)H=!0;else{var V=n(p);V!==null&&ct(pe,V.startTime-W),H=!1}}break e}finally{b=null,w=he,M=!1}H=void 0}}finally{H?U():me=!1}}}var U;if(typeof ae=="function")U=function(){ae(D)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,We=k.port2;k.port1.onmessage=D,U=function(){We.postMessage(null)}}else U=function(){ie(D,0)};function ct(W,H){C=ie(function(){W(r.unstable_now())},H)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(W){switch(w){case 1:case 2:case 3:var H=3;break;default:H=w}var he=w;w=H;try{return W()}finally{w=he}},r.unstable_requestPaint=function(){Y=!0},r.unstable_runWithPriority=function(W,H){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var he=w;w=W;try{return H()}finally{w=he}},r.unstable_scheduleCallback=function(W,H,he){var ke=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ke+he:ke):he=ke,W){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=he+Be,W={id:E++,callback:H,priorityLevel:W,startTime:he,expirationTime:Be,sortIndex:-1},he>ke?(W.sortIndex=he,e(p,W),n(g)===null&&W===n(p)&&(K?(re(C),C=-1):K=!0,ct(pe,he-ke))):(W.sortIndex=Be,e(g,W),G||M||(G=!0,me||(me=!0,U()))),W},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(W){var H=w;return function(){var he=w;w=H;try{return W.apply(this,arguments)}finally{w=he}}}})(qm)),qm}var Sv;function LS(){return Sv||(Sv=1,Bm.exports=MS()),Bm.exports}var Hm={exports:{}},Jt={};var wv;function VS(){if(wv)return Jt;wv=1;var r=jp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},Jt.flushSync=function(g){var p=h.T,E=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=E,s.d.f()}},Jt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Jt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Jt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:M}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:w,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Jt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Jt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Jt.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Jt.requestFormReset=function(g){s.d.r(g)},Jt.unstable_batchedUpdates=function(g,p){return g(p)},Jt.useFormState=function(g,p,E){return h.H.useFormState(g,p,E)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var xv;function PS(){if(xv)return Hm.exports;xv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hm.exports=VS(),Hm.exports}var Rv;function jS(){if(Rv)return iu;Rv=1;var r=LS(),e=jp(),n=PS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),t;if(d===l)return g(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,l=d;break}if(A===l){_=!0,l=f,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=f;break}if(A===l){_=!0,l=d,a=f;break}A=A.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var k=Symbol.for("react.client.reference");function We(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===k?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case ie:return"Profiler";case Y:return"StrictMode";case pe:return"Suspense";case me:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ae:return t.displayName||"Context";case re:return(t._context.displayName||"Context")+".Consumer";case se:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:We(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return We(t(i))}catch{}}return null}var ct=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ke=[],Be=-1;function V(t){return{current:t}}function te(t){0>Be||(t.current=ke[Be],ke[Be]=null,Be--)}function le(t,i){Be++,ke[Be]=t.current,t.current=i}var fe=V(null),be=V(null),Ie=V(null),Ue=V(null);function Lt(t,i){switch(le(Ie,i),le(be,t),le(fe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?q_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=q_(i),t=H_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(fe),le(fe,t)}function at(){te(fe),te(be),te(Ie)}function Rs(t){t.memoizedState!==null&&le(Ue,t);var i=fe.current,a=H_(i,t.type);i!==a&&(le(be,t),le(fe,a))}function Na(t){be.current===t&&(te(fe),te(be)),Ue.current===t&&(te(Ue),Jl._currentValue=he)}var Da,Oa;function pr(t){if(Da===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Da=i&&i[1]||"",Oa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Da+t+Oa}var Jo=!1;function Is(t,i){if(!t||Jo)return"";Jo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var F=$}Reflect.construct(t,[],ee)}else{try{ee.call()}catch($){F=$}t.call(ee.prototype)}}else{try{throw Error()}catch($){F=$}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&F&&typeof $.stack=="string")return[$.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var N=_.split(`
`),q=A.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===q.length)for(l=N.length-1,f=q.length-1;1<=l&&0<=f&&N[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==q[f]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=f);break}}}finally{Jo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?pr(a):""}function el(t,i){switch(t.tag){case 26:case 27:case 5:return pr(t.type);case 16:return pr("Lazy");case 13:return t.child!==i&&i!==null?pr("Suspense Fallback"):pr("Suspense");case 19:return pr("SuspenseList");case 0:case 15:return Is(t.type,!1);case 11:return Is(t.type.render,!1);case 1:return Is(t.type,!0);case 31:return pr("Activity");default:return""}}function tl(t){try{var i="",a=null;do i+=el(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var At=Object.prototype.hasOwnProperty,Vt=r.unstable_scheduleCallback,Ai=r.unstable_cancelCallback,zf=r.unstable_shouldYield,Hu=r.unstable_requestPaint,sn=r.unstable_now,Cs=r.unstable_getCurrentPriorityLevel,nl=r.unstable_ImmediatePriority,rl=r.unstable_UserBlockingPriority,Si=r.unstable_NormalPriority,Bf=r.unstable_LowPriority,Fu=r.unstable_IdlePriority,Gu=r.log,Ku=r.unstable_setDisableYieldValue,Yn=null,Ht=null;function Dn(t){if(typeof Gu=="function"&&Ku(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Yn,t)}catch{}}var gt=Math.clz32?Math.clz32:$u,Qu=Math.log,Ma=Math.LN2;function $u(t){return t>>>=0,t===0?32:31-(Qu(t)/Ma|0)|0}var gr=256,ks=262144,St=4194304;function yr(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _r(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=yr(l):(_&=A,_!==0?f=yr(_):a||(a=A&~t,a!==0&&(f=yr(a))))):(A=l&~d,A!==0?f=yr(A):_!==0?f=yr(_):a||(a=l&~t,a!==0&&(f=yr(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Wn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function qf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yu(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function vr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ns(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Hf(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,N=t.expirationTimes,q=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-gt(a),ee=1<<X;A[X]=0,N[X]=-1;var F=q[X];if(F!==null)for(q[X]=null,X=0;X<F.length;X++){var $=F[X];$!==null&&($.lane&=-536870913)}a&=~ee}l!==0&&Ds(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ds(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function il(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-gt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function sl(t,i){var a=i&-i;return a=(a&42)!==0?1:Os(a),(a&(t.suspendedLanes|i))!==0?0:a}function Os(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Kr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wu(){var t=H.p;return t!==0?t:(t=window.event,t===void 0?32:fv(t.type))}function Xn(t,i){var a=H.p;try{return H.p=t,i()}finally{H.p=a}}var Zn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Zn,Ut="__reactProps$"+Zn,Er="__reactContainer$"+Zn,La="__reactEvents$"+Zn,Ff="__reactListeners$"+Zn,Xu="__reactHandles$"+Zn,Zu="__reactResources$"+Zn,Tr="__reactMarker$"+Zn;function Va(t){delete t[wt],delete t[Ut],delete t[La],delete t[Ff],delete t[Xu]}function br(t){var i=t[wt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Er]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=W_(t);t!==null;){if(a=t[wt])return a;t=W_(t)}return i}t=a,a=t.parentNode}return null}function On(t){if(t=t[wt]||t[Er]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function vn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Ar(t){var i=t[Zu];return i||(i=t[Zu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xt(t){t[Tr]=!0}var al=new Set,ol={};function Sr(t,i){wr(t,i),wr(t+"Capture",i)}function wr(t,i){for(ol[t]=i,t=0;t<i.length;t++)al.add(i[t])}var ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ul={},cl={};function Ju(t){return At.call(cl,t)?!0:At.call(ul,t)?!1:ll.test(t)?cl[t]=!0:(ul[t]=!0,!1)}function Pa(t,i,a){if(Ju(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function En(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Rt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wi(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function hl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=wi(t)?"checked":"value";t._valueTracker=hl(t,i,""+t[i])}}function Ms(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=wi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function xr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ls=/[\n"\\]/g;function un(t){return t.replace(Ls,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ja(t,i,a,l,f,d,_,A){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+zt(i)):t.value!==""+zt(i)&&(t.value=""+zt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?fl(t,_,zt(i)):a!=null?fl(t,_,zt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+zt(A):t.removeAttribute("name")}function ec(t,i,a,l,f,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+zt(a):"",i=i!=null?""+zt(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function fl(t,i,a){i==="number"&&xr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function xi(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function tc(t,i,a){if(i!=null&&(i=""+zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+zt(a):""}function Ri(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ct(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function cn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var nc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||nc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function ml(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&dl(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&dl(t,d,i[d])}function Ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ii=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(t){return Ii.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Jn(){}var pl=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,Rr=null;function Vs(t){var i=On(t);if(i&&(t=i.stateNode)){var a=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(ja(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Ut]||null;if(!f)throw Error(s(90));ja(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ms(l)}break e;case"textarea":tc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&xi(t,!!a.multiple,i,!1)}}}var Ba=!1;function ki(t,i,a){if(Ba)return t(i,a);Ba=!0;try{var l=t(i);return l}finally{if(Ba=!1,(Ci!==null||Rr!==null)&&(Wc(),Ci&&(i=Ci,t=Rr,Rr=Ci=null,Vs(i),t)))for(i=0;i<t.length;i++)Vs(t[i])}}function er(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(Ln)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Ps=!1}var Ir=null,gl=null,js=null;function yl(){if(js)return js;var t,i=gl,a=i.length,l,f="value"in Ir?Ir.value:Ir.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return js=f.slice(t,1<l?1-l:void 0)}function Us(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Qr(){return!0}function tr(){return!1}function Ft(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Qr:tr,this.isPropagationStopped=tr,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qr)},persist:function(){},isPersistent:Qr}),i}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cr=Ft($r),Ni=b({},$r,{view:0,detail:0}),_l=Ft(Ni),Di,qa,kr,Ha=b({},Ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kr&&(kr&&t.type==="mousemove"?(Di=t.screenX-kr.screenX,qa=t.screenY-kr.screenY):qa=Di=0,kr=t),Di)},movementY:function(t){return"movementY"in t?t.movementY:qa}}),vl=Ft(Ha),zs=b({},Ha,{dataTransfer:0}),ic=Ft(zs),sc=b({},Ni,{relatedTarget:0}),Bs=Ft(sc),El=b({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),ac=Ft(El),Fa=b({},$r,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oc=Ft(Fa),lc=b({},$r,{data:0}),Nr=Ft(lc),uc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=hc[t])?!!i[t]:!1}function Oi(){return fc}var an=b({},Ni,{key:function(t){if(t.key){var i=uc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oi,charCode:function(t){return t.type==="keypress"?Us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dc=Ft(an),mc=b({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yr=Ft(mc),c=b({},Ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oi}),y=Ft(c),v=b({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ft(v),z=b({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ft(z),oe=b({},$r,{newState:0,oldState:0}),xe=Ft(oe),yt=[9,13,27,32],Fe=Ln&&"CompositionEvent"in window,ot=null;Ln&&"documentMode"in document&&(ot=document.documentMode);var Vn=Ln&&"TextEvent"in window&&!ot,Dr=Ln&&(!Fe||ot&&8<ot&&11>=ot),nr=" ",rr=!1;function qs(t,i){switch(t){case"keyup":return yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ka=!1;function eA(t,i){switch(t){case"compositionend":return Ga(i);case"keypress":return i.which!==32?null:(rr=!0,nr);case"textInput":return t=i.data,t===nr&&rr?null:t;default:return null}}function tA(t,i){if(Ka)return t==="compositionend"||!Fe&&qs(t,i)?(t=yl(),js=gl=Ir=null,Ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Dr&&i.locale!=="ko"?null:i.data;default:return null}}var nA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!nA[t.type]:i==="textarea"}function ey(t,i,a,l){Ci?Rr?Rr.push(l):Rr=[l]:Ci=l,i=rh(i,"onChange"),0<i.length&&(a=new Cr("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Tl=null,bl=null;function rA(t){V_(t,0)}function pc(t){var i=vn(t);if(Ms(i))return t}function ty(t,i){if(t==="change")return i}var ny=!1;if(Ln){var Gf;if(Ln){var Kf="oninput"in document;if(!Kf){var ry=document.createElement("div");ry.setAttribute("oninput","return;"),Kf=typeof ry.oninput=="function"}Gf=Kf}else Gf=!1;ny=Gf&&(!document.documentMode||9<document.documentMode)}function iy(){Tl&&(Tl.detachEvent("onpropertychange",sy),bl=Tl=null)}function sy(t){if(t.propertyName==="value"&&pc(bl)){var i=[];ey(i,bl,t,Mn(t)),ki(rA,i)}}function iA(t,i,a){t==="focusin"?(iy(),Tl=i,bl=a,Tl.attachEvent("onpropertychange",sy)):t==="focusout"&&iy()}function sA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pc(bl)}function aA(t,i){if(t==="click")return pc(i)}function oA(t,i){if(t==="input"||t==="change")return pc(i)}function lA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Tn=typeof Object.is=="function"?Object.is:lA;function Al(t,i){if(Tn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!At.call(i,f)||!Tn(t[f],i[f]))return!1}return!0}function ay(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oy(t,i){var a=ay(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ay(a)}}function ly(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ly(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function uy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=xr(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=xr(t.document)}return i}function Qf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var uA=Ln&&"documentMode"in document&&11>=document.documentMode,Qa=null,$f=null,Sl=null,Yf=!1;function cy(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yf||Qa==null||Qa!==xr(l)||(l=Qa,"selectionStart"in l&&Qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Sl&&Al(Sl,l)||(Sl=l,l=rh($f,"onSelect"),0<l.length&&(i=new Cr("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Qa)))}function Hs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var $a={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},Wf={},hy={};Ln&&(hy=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Fs(t){if(Wf[t])return Wf[t];if(!$a[t])return t;var i=$a[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in hy)return Wf[t]=i[a];return t}var fy=Fs("animationend"),dy=Fs("animationiteration"),my=Fs("animationstart"),cA=Fs("transitionrun"),hA=Fs("transitionstart"),fA=Fs("transitioncancel"),py=Fs("transitionend"),gy=new Map,Xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xf.push("scrollEnd");function ir(t,i){gy.set(t,i),Sr(i,[t])}var gc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],Ya=0,Zf=0;function yc(){for(var t=Ya,i=Zf=Ya=0;i<t;){var a=Pn[i];Pn[i++]=null;var l=Pn[i];Pn[i++]=null;var f=Pn[i];Pn[i++]=null;var d=Pn[i];if(Pn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&yy(a,f,d)}}function _c(t,i,a,l){Pn[Ya++]=t,Pn[Ya++]=i,Pn[Ya++]=a,Pn[Ya++]=l,Zf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jf(t,i,a,l){return _c(t,i,a,l),vc(t)}function Gs(t,i){return _c(t,null,null,i),vc(t)}function yy(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-gt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function vc(t){if(50<Kl)throw Kl=0,lm=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Wa={};function dA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,i,a,l){return new dA(t,i,a,l)}function ed(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wr(t,i){var a=t.alternate;return a===null?(a=bn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function _y(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ec(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")ed(t)&&(_=1);else if(typeof t=="string")_=_S(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=bn(31,a,i,f),t.elementType=I,t.lanes=d,t;case K:return Ks(a.children,f,d,i);case Y:_=8,f|=24;break;case ie:return t=bn(12,a,i,f|2),t.elementType=ie,t.lanes=d,t;case pe:return t=bn(13,a,i,f),t.elementType=pe,t.lanes=d,t;case me:return t=bn(19,a,i,f),t.elementType=me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:_=10;break e;case re:_=9;break e;case se:_=11;break e;case C:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=bn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Ks(t,i,a,l){return t=bn(7,t,l,i),t.lanes=a,t}function td(t,i,a){return t=bn(6,t,null,i),t.lanes=a,t}function vy(t){var i=bn(18,null,null,0);return i.stateNode=t,i}function nd(t,i,a){return i=bn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ey=new WeakMap;function jn(t,i){if(typeof t=="object"&&t!==null){var a=Ey.get(t);return a!==void 0?a:(i={value:t,source:i,stack:tl(i)},Ey.set(t,i),i)}return{value:t,source:i,stack:tl(i)}}var Xa=[],Za=0,Tc=null,wl=0,Un=[],zn=0,Mi=null,Or=1,Mr="";function Xr(t,i){Xa[Za++]=wl,Xa[Za++]=Tc,Tc=t,wl=i}function Ty(t,i,a){Un[zn++]=Or,Un[zn++]=Mr,Un[zn++]=Mi,Mi=t;var l=Or;t=Mr;var f=32-gt(l)-1;l&=~(1<<f),a+=1;var d=32-gt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Or=1<<32-gt(i)+f|a<<f|l,Mr=d+t}else Or=1<<d|a<<f|l,Mr=t}function rd(t){t.return!==null&&(Xr(t,1),Ty(t,1,0))}function id(t){for(;t===Tc;)Tc=Xa[--Za],Xa[Za]=null,wl=Xa[--Za],Xa[Za]=null;for(;t===Mi;)Mi=Un[--zn],Un[zn]=null,Mr=Un[--zn],Un[zn]=null,Or=Un[--zn],Un[zn]=null}function by(t,i){Un[zn++]=Or,Un[zn++]=Mr,Un[zn++]=Mi,Or=i.id,Mr=i.overflow,Mi=t}var Gt=null,it=null,je=!1,Li=null,Bn=!1,sd=Error(s(519));function Vi(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xl(jn(i,t)),sd}function Ay(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[wt]=t,i[Ut]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<$l.length;a++)De($l[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),ec(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),Ri(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||z_(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Jn),i=!0):i=!1,i||Vi(t,!0)}function Sy(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Gt=Gt.return}}function Ja(t){if(t!==Gt)return!1;if(!je)return Sy(t),je=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Am(t.type,t.memoizedProps)),a=!a),a&&it&&Vi(t),Sy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=Y_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=Y_(t)}else i===27?(i=it,Wi(t.type)?(t=Im,Im=null,it=t):it=i):it=Gt?Hn(t.stateNode.nextSibling):null;return!0}function Qs(){it=Gt=null,je=!1}function ad(){var t=Li;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Li=null),t}function xl(t){Li===null?Li=[t]:Li.push(t)}var od=V(null),$s=null,Zr=null;function Pi(t,i,a){le(od,i._currentValue),i._currentValue=a}function Jr(t){t._currentValue=od.current,te(od)}function ld(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function ud(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=f;for(var N=0;N<i.length;N++)if(A.context===i[N]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),ld(d.return,a,t),l||(_=null);break e}d=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),ld(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function eo(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var A=f.type;Tn(f.pendingProps.value,_.value)||(t!==null?t.push(A):t=[A])}}else if(f===Ue.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Jl):t=[Jl])}f=f.return}t!==null&&ud(i,t,a,l),i.flags|=262144}function bc(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ys(t){$s=t,Zr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return wy($s,t)}function Ac(t,i){return $s===null&&Ys(t),wy(t,i)}function wy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Zr===null){if(t===null)throw Error(s(308));Zr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Zr=Zr.next=i;return a}var mA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},pA=r.unstable_scheduleCallback,gA=r.unstable_NormalPriority,It={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cd(){return{controller:new mA,data:new Map,refCount:0}}function Rl(t){t.refCount--,t.refCount===0&&pA(gA,function(){t.controller.abort()})}var Il=null,hd=0,to=0,no=null;function yA(t,i){if(Il===null){var a=Il=[];hd=0,to=mm(),no={status:"pending",value:void 0,then:function(l){a.push(l)}}}return hd++,i.then(xy,xy),i}function xy(){if(--hd===0&&Il!==null){no!==null&&(no.status="fulfilled");var t=Il;Il=null,to=0,no=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function _A(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ry=W.S;W.S=function(t,i){c_=sn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&yA(t,i),Ry!==null&&Ry(t,i)};var Ws=V(null);function fd(){var t=Ws.current;return t!==null?t:nt.pooledCache}function Sc(t,i){i===null?le(Ws,Ws.current):le(Ws,i.pool)}function Iy(){var t=fd();return t===null?null:{parent:It._currentValue,pool:t}}var ro=Error(s(460)),dd=Error(s(474)),wc=Error(s(542)),xc={then:function(){}};function Cy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ky(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Jn,Jn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Dy(t),t;default:if(typeof i.status=="string")i.then(Jn,Jn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Dy(t),t}throw Zs=i,ro}}function Xs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zs=a,ro):a}}var Zs=null;function Ny(){if(Zs===null)throw Error(s(459));var t=Zs;return Zs=null,t}function Dy(t){if(t===ro||t===wc)throw Error(s(483))}var io=null,Cl=0;function Rc(t){var i=Cl;return Cl+=1,io===null&&(io=[]),ky(io,t,i)}function kl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ic(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Oy(t){function i(j,L){if(t){var B=j.deletions;B===null?(j.deletions=[L],j.flags|=16):B.push(L)}}function a(j,L){if(!t)return null;for(;L!==null;)i(j,L),L=L.sibling;return null}function l(j){for(var L=new Map;j!==null;)j.key!==null?L.set(j.key,j):L.set(j.index,j),j=j.sibling;return L}function f(j,L){return j=Wr(j,L),j.index=0,j.sibling=null,j}function d(j,L,B){return j.index=B,t?(B=j.alternate,B!==null?(B=B.index,B<L?(j.flags|=67108866,L):B):(j.flags|=67108866,L)):(j.flags|=1048576,L)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function A(j,L,B,Z){return L===null||L.tag!==6?(L=td(B,j.mode,Z),L.return=j,L):(L=f(L,B),L.return=j,L)}function N(j,L,B,Z){var ye=B.type;return ye===K?X(j,L,B.props.children,Z,B.key):L!==null&&(L.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&Xs(ye)===L.type)?(L=f(L,B.props),kl(L,B),L.return=j,L):(L=Ec(B.type,B.key,B.props,null,j.mode,Z),kl(L,B),L.return=j,L)}function q(j,L,B,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==B.containerInfo||L.stateNode.implementation!==B.implementation?(L=nd(B,j.mode,Z),L.return=j,L):(L=f(L,B.children||[]),L.return=j,L)}function X(j,L,B,Z,ye){return L===null||L.tag!==7?(L=Ks(B,j.mode,Z,ye),L.return=j,L):(L=f(L,B),L.return=j,L)}function ee(j,L,B){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=td(""+L,j.mode,B),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case M:return B=Ec(L.type,L.key,L.props,null,j.mode,B),kl(B,L),B.return=j,B;case G:return L=nd(L,j.mode,B),L.return=j,L;case x:return L=Xs(L),ee(j,L,B)}if(ct(L)||U(L))return L=Ks(L,j.mode,B,null),L.return=j,L;if(typeof L.then=="function")return ee(j,Rc(L),B);if(L.$$typeof===ae)return ee(j,Ac(j,L),B);Ic(j,L)}return null}function F(j,L,B,Z){var ye=L!==null?L.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ye!==null?null:A(j,L,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case M:return B.key===ye?N(j,L,B,Z):null;case G:return B.key===ye?q(j,L,B,Z):null;case x:return B=Xs(B),F(j,L,B,Z)}if(ct(B)||U(B))return ye!==null?null:X(j,L,B,Z,null);if(typeof B.then=="function")return F(j,L,Rc(B),Z);if(B.$$typeof===ae)return F(j,L,Ac(j,B),Z);Ic(j,B)}return null}function $(j,L,B,Z,ye){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(B)||null,A(L,j,""+Z,ye);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case M:return j=j.get(Z.key===null?B:Z.key)||null,N(L,j,Z,ye);case G:return j=j.get(Z.key===null?B:Z.key)||null,q(L,j,Z,ye);case x:return Z=Xs(Z),$(j,L,B,Z,ye)}if(ct(Z)||U(Z))return j=j.get(B)||null,X(L,j,Z,ye,null);if(typeof Z.then=="function")return $(j,L,B,Rc(Z),ye);if(Z.$$typeof===ae)return $(j,L,B,Ac(L,Z),ye);Ic(L,Z)}return null}function de(j,L,B,Z){for(var ye=null,qe=null,ge=L,Ce=L=0,Me=null;ge!==null&&Ce<B.length;Ce++){ge.index>Ce?(Me=ge,ge=null):Me=ge.sibling;var He=F(j,ge,B[Ce],Z);if(He===null){ge===null&&(ge=Me);break}t&&ge&&He.alternate===null&&i(j,ge),L=d(He,L,Ce),qe===null?ye=He:qe.sibling=He,qe=He,ge=Me}if(Ce===B.length)return a(j,ge),je&&Xr(j,Ce),ye;if(ge===null){for(;Ce<B.length;Ce++)ge=ee(j,B[Ce],Z),ge!==null&&(L=d(ge,L,Ce),qe===null?ye=ge:qe.sibling=ge,qe=ge);return je&&Xr(j,Ce),ye}for(ge=l(ge);Ce<B.length;Ce++)Me=$(ge,j,Ce,B[Ce],Z),Me!==null&&(t&&Me.alternate!==null&&ge.delete(Me.key===null?Ce:Me.key),L=d(Me,L,Ce),qe===null?ye=Me:qe.sibling=Me,qe=Me);return t&&ge.forEach(function(ts){return i(j,ts)}),je&&Xr(j,Ce),ye}function ve(j,L,B,Z){if(B==null)throw Error(s(151));for(var ye=null,qe=null,ge=L,Ce=L=0,Me=null,He=B.next();ge!==null&&!He.done;Ce++,He=B.next()){ge.index>Ce?(Me=ge,ge=null):Me=ge.sibling;var ts=F(j,ge,He.value,Z);if(ts===null){ge===null&&(ge=Me);break}t&&ge&&ts.alternate===null&&i(j,ge),L=d(ts,L,Ce),qe===null?ye=ts:qe.sibling=ts,qe=ts,ge=Me}if(He.done)return a(j,ge),je&&Xr(j,Ce),ye;if(ge===null){for(;!He.done;Ce++,He=B.next())He=ee(j,He.value,Z),He!==null&&(L=d(He,L,Ce),qe===null?ye=He:qe.sibling=He,qe=He);return je&&Xr(j,Ce),ye}for(ge=l(ge);!He.done;Ce++,He=B.next())He=$(ge,j,Ce,He.value,Z),He!==null&&(t&&He.alternate!==null&&ge.delete(He.key===null?Ce:He.key),L=d(He,L,Ce),qe===null?ye=He:qe.sibling=He,qe=He);return t&&ge.forEach(function(CS){return i(j,CS)}),je&&Xr(j,Ce),ye}function et(j,L,B,Z){if(typeof B=="object"&&B!==null&&B.type===K&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case M:e:{for(var ye=B.key;L!==null;){if(L.key===ye){if(ye=B.type,ye===K){if(L.tag===7){a(j,L.sibling),Z=f(L,B.props.children),Z.return=j,j=Z;break e}}else if(L.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&Xs(ye)===L.type){a(j,L.sibling),Z=f(L,B.props),kl(Z,B),Z.return=j,j=Z;break e}a(j,L);break}else i(j,L);L=L.sibling}B.type===K?(Z=Ks(B.props.children,j.mode,Z,B.key),Z.return=j,j=Z):(Z=Ec(B.type,B.key,B.props,null,j.mode,Z),kl(Z,B),Z.return=j,j=Z)}return _(j);case G:e:{for(ye=B.key;L!==null;){if(L.key===ye)if(L.tag===4&&L.stateNode.containerInfo===B.containerInfo&&L.stateNode.implementation===B.implementation){a(j,L.sibling),Z=f(L,B.children||[]),Z.return=j,j=Z;break e}else{a(j,L);break}else i(j,L);L=L.sibling}Z=nd(B,j.mode,Z),Z.return=j,j=Z}return _(j);case x:return B=Xs(B),et(j,L,B,Z)}if(ct(B))return de(j,L,B,Z);if(U(B)){if(ye=U(B),typeof ye!="function")throw Error(s(150));return B=ye.call(B),ve(j,L,B,Z)}if(typeof B.then=="function")return et(j,L,Rc(B),Z);if(B.$$typeof===ae)return et(j,L,Ac(j,B),Z);Ic(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,L!==null&&L.tag===6?(a(j,L.sibling),Z=f(L,B),Z.return=j,j=Z):(a(j,L),Z=td(B,j.mode,Z),Z.return=j,j=Z),_(j)):a(j,L)}return function(j,L,B,Z){try{Cl=0;var ye=et(j,L,B,Z);return io=null,ye}catch(ge){if(ge===ro||ge===wc)throw ge;var qe=bn(29,ge,null,j.mode);return qe.lanes=Z,qe.return=j,qe}}}var Js=Oy(!0),My=Oy(!1),ji=!1;function md(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ui(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zi(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=vc(t),yy(t,null,a),i}return _c(t,l,i,a),vc(t)}function Nl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,il(t,a)}}function gd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var yd=!1;function Dl(){if(yd){var t=no;if(t!==null)throw t}}function Ol(t,i,a,l){yd=!1;var f=t.updateQueue;ji=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var N=A,q=N.next;N.next=null,_===null?d=q:_.next=q,_=N;var X=t.alternate;X!==null&&(X=X.updateQueue,A=X.lastBaseUpdate,A!==_&&(A===null?X.firstBaseUpdate=q:A.next=q,X.lastBaseUpdate=N))}if(d!==null){var ee=f.baseState;_=0,X=q=N=null,A=d;do{var F=A.lane&-536870913,$=F!==A.lane;if($?(Oe&F)===F:(l&F)===F){F!==0&&F===to&&(yd=!0),X!==null&&(X=X.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var de=t,ve=A;F=i;var et=a;switch(ve.tag){case 1:if(de=ve.payload,typeof de=="function"){ee=de.call(et,ee,F);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ve.payload,F=typeof de=="function"?de.call(et,ee,F):de,F==null)break e;ee=b({},ee,F);break e;case 2:ji=!0}}F=A.callback,F!==null&&(t.flags|=64,$&&(t.flags|=8192),$=f.callbacks,$===null?f.callbacks=[F]:$.push(F))}else $={lane:F,tag:A.tag,payload:A.payload,callback:A.callback,next:null},X===null?(q=X=$,N=ee):X=X.next=$,_|=F;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;$=A,A=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);X===null&&(N=ee),f.baseState=N,f.firstBaseUpdate=q,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Gi|=_,t.lanes=_,t.memoizedState=ee}}function Ly(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Vy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ly(a[t],i)}var so=V(null),Cc=V(0);function Py(t,i){t=li,le(Cc,t),le(so,i),li=t|i.baseLanes}function _d(){le(Cc,li),le(so,so.current)}function vd(){li=Cc.current,te(so),te(Cc)}var An=V(null),qn=null;function Bi(t){var i=t.alternate;le(_t,_t.current&1),le(An,t),qn===null&&(i===null||so.current!==null||i.memoizedState!==null)&&(qn=t)}function Ed(t){le(_t,_t.current),le(An,t),qn===null&&(qn=t)}function jy(t){t.tag===22?(le(_t,_t.current),le(An,t),qn===null&&(qn=t)):qi()}function qi(){le(_t,_t.current),le(An,An.current)}function Sn(t){te(An),qn===t&&(qn=null),te(_t)}var _t=V(0);function kc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xm(a)||Rm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ei=0,Re=null,Ze=null,Ct=null,Nc=!1,ao=!1,ea=!1,Dc=0,Ml=0,oo=null,vA=0;function ft(){throw Error(s(321))}function Td(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Tn(t[a],i[a]))return!1;return!0}function bd(t,i,a,l,f,d){return ei=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?T0:Pd,ea=!1,d=a(l,f),ea=!1,ao&&(d=zy(i,a,l,f)),Uy(t),d}function Uy(t){W.H=Pl;var i=Ze!==null&&Ze.next!==null;if(ei=0,Ct=Ze=Re=null,Nc=!1,Ml=0,oo=null,i)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&bc(t)&&(kt=!0))}function zy(t,i,a,l){Re=t;var f=0;do{if(ao&&(oo=null),Ml=0,ao=!1,25<=f)throw Error(s(301));if(f+=1,Ct=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=b0,d=i(a,l)}while(ao);return d}function EA(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?Ll(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Re.flags|=1024),i}function Ad(){var t=Dc!==0;return Dc=0,t}function Sd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function wd(t){if(Nc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Nc=!1}ei=0,Ct=Ze=Re=null,ao=!1,Ml=Dc=0,oo=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Re.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function vt(){if(Ze===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=Ct===null?Re.memoizedState:Ct.next;if(i!==null)Ct=i,Ze=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Ct===null?Re.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(t){var i=Ml;return Ml+=1,oo===null&&(oo=[]),t=ky(oo,t,i),i=Re,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?T0:Pd),t}function Mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ll(t);if(t.$$typeof===ae)return Kt(t)}throw Error(s(438,String(t)))}function xd(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Oc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function ti(t,i){return typeof i=="function"?i(t):i}function Lc(t){var i=vt();return Rd(i,Ze,t)}function Rd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var A=_=null,N=null,q=i,X=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Oe&ee)===ee:(ei&ee)===ee){var F=q.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===to&&(X=!0);else if((ei&F)===F){q=q.next,F===to&&(X=!0);continue}else ee={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(A=N=ee,_=d):N=N.next=ee,Re.lanes|=F,Gi|=F;ee=q.action,ea&&a(d,ee),d=q.hasEagerState?q.eagerState:a(d,ee)}else F={lane:ee,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(A=N=F,_=d):N=N.next=F,Re.lanes|=ee,Gi|=ee;q=q.next}while(q!==null&&q!==i);if(N===null?_=d:N.next=A,!Tn(d,t.memoizedState)&&(kt=!0,X&&(a=no,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Id(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);Tn(d,i.memoizedState)||(kt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function By(t,i,a){var l=Re,f=vt(),d=je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Tn((Ze||f).memoizedState,a);if(_&&(f.memoizedState=a,kt=!0),f=f.queue,Nd(Fy.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,lo(9,{destroy:void 0},Hy.bind(null,l,f,a,i),null),nt===null)throw Error(s(349));d||(ei&127)!==0||qy(l,i,a)}return a}function qy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=Oc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Hy(t,i,a,l){i.value=a,i.getSnapshot=l,Gy(i)&&Ky(t)}function Fy(t,i,a){return a(function(){Gy(i)&&Ky(t)})}function Gy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Tn(t,a)}catch{return!0}}function Ky(t){var i=Gs(t,2);i!==null&&pn(i,t,2)}function Cd(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),ea){Dn(!0);try{a()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:t},i}function Qy(t,i,a,l){return t.baseState=a,Rd(t,Ze,typeof l=="function"?l:ti)}function TA(t,i,a,l,f){if(jc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,$y(i,d)):(d.next=a.next,i.pending=a.next=d)}}function $y(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=W.T,_={};W.T=_;try{var A=a(f,l),N=W.S;N!==null&&N(_,A),Yy(t,i,A)}catch(q){kd(t,i,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),W.T=d}}else try{d=a(f,l),Yy(t,i,d)}catch(q){kd(t,i,q)}}function Yy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wy(t,i,l)},function(l){return kd(t,i,l)}):Wy(t,i,a)}function Wy(t,i,a){i.status="fulfilled",i.value=a,Xy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,$y(t,a)))}function kd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Xy(i),i=i.next;while(i!==l)}t.action=null}function Xy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Zy(t,i){return i}function Jy(t,i){if(je){var a=nt.formState;if(a!==null){e:{var l=Re;if(je){if(it){t:{for(var f=it,d=Bn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Hn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){it=Hn(f.nextSibling),l=f.data==="F!";break e}}Vi(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zy,lastRenderedState:i},a.queue=l,a=_0.bind(null,Re,l),l.dispatch=a,l=Cd(!1),d=Vd.bind(null,Re,!1,l.queue),l=on(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=TA.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function e0(t){var i=vt();return t0(i,Ze,t)}function t0(t,i,a){if(i=Rd(t,i,Zy)[0],t=Lc(ti)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ll(i)}catch(_){throw _===ro?wc:_}else l=i;i=vt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,lo(9,{destroy:void 0},bA.bind(null,f,a),null)),[l,d,t]}function bA(t,i){t.action=i}function n0(t){var i=vt(),a=Ze;if(a!==null)return t0(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function lo(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=Oc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function r0(){return vt().memoizedState}function Vc(t,i,a,l){var f=on();Re.flags|=t,f.memoizedState=lo(1|i,{destroy:void 0},a,l===void 0?null:l)}function Pc(t,i,a,l){var f=vt();l=l===void 0?null:l;var d=f.memoizedState.inst;Ze!==null&&l!==null&&Td(l,Ze.memoizedState.deps)?f.memoizedState=lo(i,d,a,l):(Re.flags|=t,f.memoizedState=lo(1|i,d,a,l))}function i0(t,i){Vc(8390656,8,t,i)}function Nd(t,i){Pc(2048,8,t,i)}function AA(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=Oc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function s0(t){var i=vt().memoizedState;return AA({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function a0(t,i){return Pc(4,2,t,i)}function o0(t,i){return Pc(4,4,t,i)}function l0(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function u0(t,i,a){a=a!=null?a.concat([t]):null,Pc(4,4,l0.bind(null,i,t),a)}function Dd(){}function c0(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Td(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function h0(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Td(i,l[1]))return l[0];if(l=t(),ea){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,i],l}function Od(t,i,a){return a===void 0||(ei&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=f_(),Re.lanes|=t,Gi|=t,a)}function f0(t,i,a,l){return Tn(a,i)?a:so.current!==null?(t=Od(t,a,l),Tn(t,i)||(kt=!0),t):(ei&42)===0||(ei&1073741824)!==0&&(Oe&261930)===0?(kt=!0,t.memoizedState=a):(t=f_(),Re.lanes|=t,Gi|=t,i)}function d0(t,i,a,l,f){var d=H.p;H.p=d!==0&&8>d?d:8;var _=W.T,A={};W.T=A,Vd(t,!1,i,a);try{var N=f(),q=W.S;if(q!==null&&q(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=_A(N,l);Vl(t,i,X,Rn(t))}else Vl(t,i,l,Rn(t))}catch(ee){Vl(t,i,{then:function(){},status:"rejected",reason:ee},Rn())}finally{H.p=d,_!==null&&A.types!==null&&(_.types=A.types),W.T=_}}function SA(){}function Md(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=m0(t).queue;d0(t,f,i,he,a===null?SA:function(){return p0(t),a(l)})}function m0(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:he},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function p0(t){var i=m0(t);i.next===null&&(i=t.alternate.memoizedState),Vl(t,i.next.queue,{},Rn())}function Ld(){return Kt(Jl)}function g0(){return vt().memoizedState}function y0(){return vt().memoizedState}function wA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Rn();t=Ui(a);var l=zi(i,t,a);l!==null&&(pn(l,i,a),Nl(l,i,a)),i={cache:cd()},t.payload=i;return}i=i.return}}function xA(t,i,a){var l=Rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},jc(t)?v0(i,a):(a=Jf(t,i,a,l),a!==null&&(pn(a,t,l),E0(a,i,l)))}function _0(t,i,a){var l=Rn();Vl(t,i,a,l)}function Vl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(jc(t))v0(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,A=d(_,a);if(f.hasEagerState=!0,f.eagerState=A,Tn(A,_))return _c(t,i,f,0),nt===null&&yc(),!1}catch{}if(a=Jf(t,i,f,l),a!==null)return pn(a,t,l),E0(a,i,l),!0}return!1}function Vd(t,i,a,l){if(l={lane:2,revertLane:mm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},jc(t)){if(i)throw Error(s(479))}else i=Jf(t,a,l,2),i!==null&&pn(i,t,2)}function jc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function v0(t,i){ao=Nc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function E0(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,il(t,a)}}var Pl={readContext:Kt,use:Mc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};Pl.useEffectEvent=ft;var T0={readContext:Kt,use:Mc,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:i0,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Vc(4194308,4,l0.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Vc(4194308,4,t,i)},useInsertionEffect:function(t,i){Vc(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(ea){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var f=a(i);if(ea){Dn(!0);try{a(i)}finally{Dn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=xA.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=Cd(t);var i=t.queue,a=_0.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Dd,useDeferredValue:function(t,i){var a=on();return Od(a,t,i)},useTransition:function(){var t=Cd(!1);return t=d0.bind(null,Re,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,f=on();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(Oe&127)!==0||qy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,i0(Fy.bind(null,l,d,t),[t]),l.flags|=2048,lo(9,{destroy:void 0},Hy.bind(null,l,d,a,i),null),a},useId:function(){var t=on(),i=nt.identifierPrefix;if(je){var a=Mr,l=Or;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Dc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=vA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Ld,useFormState:Jy,useActionState:Jy,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Vd.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:xd,useCacheRefresh:function(){return on().memoizedState=wA.bind(null,Re)},useEffectEvent:function(t){var i=on(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Pd={readContext:Kt,use:Mc,useCallback:c0,useContext:Kt,useEffect:Nd,useImperativeHandle:u0,useInsertionEffect:a0,useLayoutEffect:o0,useMemo:h0,useReducer:Lc,useRef:r0,useState:function(){return Lc(ti)},useDebugValue:Dd,useDeferredValue:function(t,i){var a=vt();return f0(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Lc(ti)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:Ll(t),i]},useSyncExternalStore:By,useId:g0,useHostTransitionStatus:Ld,useFormState:e0,useActionState:e0,useOptimistic:function(t,i){var a=vt();return Qy(a,Ze,t,i)},useMemoCache:xd,useCacheRefresh:y0};Pd.useEffectEvent=s0;var b0={readContext:Kt,use:Mc,useCallback:c0,useContext:Kt,useEffect:Nd,useImperativeHandle:u0,useInsertionEffect:a0,useLayoutEffect:o0,useMemo:h0,useReducer:Id,useRef:r0,useState:function(){return Id(ti)},useDebugValue:Dd,useDeferredValue:function(t,i){var a=vt();return Ze===null?Od(a,t,i):f0(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Id(ti)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:Ll(t),i]},useSyncExternalStore:By,useId:g0,useHostTransitionStatus:Ld,useFormState:n0,useActionState:n0,useOptimistic:function(t,i){var a=vt();return Ze!==null?Qy(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:xd,useCacheRefresh:y0};b0.useEffectEvent=s0;function jd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ud={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Rn(),f=Ui(l);f.payload=i,a!=null&&(f.callback=a),i=zi(t,f,l),i!==null&&(pn(i,t,l),Nl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Rn(),f=Ui(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=zi(t,f,l),i!==null&&(pn(i,t,l),Nl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Rn(),l=Ui(a);l.tag=2,i!=null&&(l.callback=i),i=zi(t,l,a),i!==null&&(pn(i,t,a),Nl(i,t,a))}};function A0(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Al(a,l)||!Al(f,d):!0}function S0(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Ud.enqueueReplaceState(i,i.state,null)}function ta(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function w0(t){gc(t)}function x0(t){console.error(t)}function R0(t){gc(t)}function Uc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function I0(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function zd(t,i,a){return a=Ui(a),a.tag=3,a.payload={element:null},a.callback=function(){Uc(t,i)},a}function C0(t){return t=Ui(t),t.tag=3,t}function k0(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){I0(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){I0(i,a,l),typeof f!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function RA(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&eo(i,a,f,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return qn===null?Xc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===xc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),hm(t,l,f)),!1;case 22:return a.flags|=65536,l===xc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),hm(t,l,f)),!1}throw Error(s(435,a.tag))}return hm(t,l,f),Xc(),!1}if(je)return i=An.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==sd&&(t=Error(s(422),{cause:l}),xl(jn(t,a)))):(l!==sd&&(i=Error(s(423),{cause:l}),xl(jn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=jn(l,a),f=zd(t.stateNode,l,f),gd(t,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=jn(d,a),Gl===null?Gl=[d]:Gl.push(d),dt!==4&&(dt=2),i===null)return!0;l=jn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=zd(a.stateNode,l,t),gd(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ki===null||!Ki.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=C0(f),k0(f,t,a,l),gd(a,f),!1}a=a.return}while(a!==null);return!1}var Bd=Error(s(461)),kt=!1;function Qt(t,i,a,l){i.child=t===null?My(i,null,a,l):Js(i,t.child,a,l)}function N0(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return Ys(i),l=bd(t,i,a,_,d,f),A=Ad(),t!==null&&!kt?(Sd(t,i,f),ni(t,i,f)):(je&&A&&rd(i),i.flags|=1,Qt(t,i,l,f),i.child)}function D0(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!ed(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,O0(t,i,d,l,f)):(t=Ec(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Yd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Al,a(_,l)&&t.ref===i.ref)return ni(t,i,f)}return i.flags|=1,t=Wr(d,l),t.ref=i.ref,t.return=i,i.child=t}function O0(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(Al(d,l)&&t.ref===i.ref)if(kt=!1,i.pendingProps=l=d,Yd(t,f))(t.flags&131072)!==0&&(kt=!0);else return i.lanes=t.lanes,ni(t,i,f)}return qd(t,i,a,l,f)}function M0(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return L0(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Sc(i,d!==null?d.cachePool:null),d!==null?Py(i,d):_d(),jy(i);else return l=i.lanes=536870912,L0(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Sc(i,d.cachePool),Py(i,d),qi(),i.memoizedState=null):(t!==null&&Sc(i,null),_d(),qi());return Qt(t,i,f,a),i.child}function jl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function L0(t,i,a,l,f){var d=fd();return d=d===null?null:{parent:It._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Sc(i,null),_d(),jy(i),t!==null&&eo(t,i,l,!0),i.childLanes=f,null}function zc(t,i){return i=qc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function V0(t,i,a){return Js(i,t.child,null,a),t=zc(i,i.pendingProps),t.flags|=2,Sn(i),i.memoizedState=null,t}function IA(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(je){if(l.mode==="hidden")return t=zc(i,l),i.lanes=536870912,jl(null,t);if(Ed(i),(t=it)?(t=$_(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:Or,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},a=vy(t),a.return=i,i.child=a,Gt=i,it=null)):t=null,t===null)throw Vi(i);return i.lanes=536870912,null}return zc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Ed(i),f)if(i.flags&256)i.flags&=-257,i=V0(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(kt||eo(t,i,a,!1),f=(a&t.childLanes)!==0,kt||f){if(l=nt,l!==null&&(_=sl(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Gs(t,_),pn(l,t,_),Bd;Xc(),i=V0(t,i,a)}else t=d.treeContext,it=Hn(_.nextSibling),Gt=i,je=!0,Li=null,Bn=!1,t!==null&&by(i,t),i=zc(i,l),i.flags|=4096;return i}return t=Wr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Bc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function qd(t,i,a,l,f){return Ys(i),a=bd(t,i,a,l,void 0,f),l=Ad(),t!==null&&!kt?(Sd(t,i,f),ni(t,i,f)):(je&&l&&rd(i),i.flags|=1,Qt(t,i,a,f),i.child)}function P0(t,i,a,l,f,d){return Ys(i),i.updateQueue=null,a=zy(i,l,a,f),Uy(t),l=Ad(),t!==null&&!kt?(Sd(t,i,d),ni(t,i,d)):(je&&l&&rd(i),i.flags|=1,Qt(t,i,a,d),i.child)}function j0(t,i,a,l,f){if(Ys(i),i.stateNode===null){var d=Wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ud,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},md(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):Wa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(jd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Ud.enqueueReplaceState(d,d.state,null),Ol(i,l,d,f),Dl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,N=ta(a,A);d.props=N;var q=d.context,X=a.contextType;_=Wa,typeof X=="object"&&X!==null&&(_=Kt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||q!==_)&&S0(i,d,l,_),ji=!1;var F=i.memoizedState;d.state=F,Ol(i,l,d,f),Dl(),q=i.memoizedState,A||F!==q||ji?(typeof ee=="function"&&(jd(i,a,ee,l),q=i.memoizedState),(N=ji||A0(i,a,N,l,F,q,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,pd(t,i),_=i.memoizedProps,X=ta(a,_),d.props=X,ee=i.pendingProps,F=d.context,q=a.contextType,N=Wa,typeof q=="object"&&q!==null&&(N=Kt(q)),A=a.getDerivedStateFromProps,(q=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||F!==N)&&S0(i,d,l,N),ji=!1,F=i.memoizedState,d.state=F,Ol(i,l,d,f),Dl();var $=i.memoizedState;_!==ee||F!==$||ji||t!==null&&t.dependencies!==null&&bc(t.dependencies)?(typeof A=="function"&&(jd(i,a,A,l),$=i.memoizedState),(X=ji||A0(i,a,X,l,F,$,N)||t!==null&&t.dependencies!==null&&bc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Bc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Js(i,t.child,null,f),i.child=Js(i,null,a,f)):Qt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=ni(t,i,f),t}function U0(t,i,a,l){return Qs(),i.flags|=256,Qt(t,i,a,l),i.child}var Hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fd(t){return{baseLanes:t,cachePool:Iy()}}function Gd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=xn),t}function z0(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(je){if(f?Bi(i):qi(),(t=it)?(t=$_(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:Or,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},a=vy(t),a.return=i,i.child=a,Gt=i,it=null)):t=null,t===null)throw Vi(i);return Rm(t)?i.lanes=32:i.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(qi(),f=i.mode,A=qc({mode:"hidden",children:A},f),l=Ks(l,f,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,l=i.child,l.memoizedState=Fd(a),l.childLanes=Gd(t,_,a),i.memoizedState=Hd,jl(null,l)):(Bi(i),Kd(i,A))}var N=t.memoizedState;if(N!==null&&(A=N.dehydrated,A!==null)){if(d)i.flags&256?(Bi(i),i.flags&=-257,i=Qd(t,i,a)):i.memoizedState!==null?(qi(),i.child=t.child,i.flags|=128,i=null):(qi(),A=l.fallback,f=i.mode,l=qc({mode:"visible",children:l.children},f),A=Ks(A,f,a,null),A.flags|=2,l.return=i,A.return=i,l.sibling=A,i.child=l,Js(i,t.child,null,a),l=i.child,l.memoizedState=Fd(a),l.childLanes=Gd(t,_,a),i.memoizedState=Hd,i=jl(null,l));else if(Bi(i),Rm(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,xl({value:l,source:null,stack:null}),i=Qd(t,i,a)}else if(kt||eo(t,i,a,!1),_=(a&t.childLanes)!==0,kt||_){if(_=nt,_!==null&&(l=sl(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Gs(t,l),pn(_,t,l),Bd;xm(A)||Xc(),i=Qd(t,i,a)}else xm(A)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,it=Hn(A.nextSibling),Gt=i,je=!0,Li=null,Bn=!1,t!==null&&by(i,t),i=Kd(i,l.children),i.flags|=4096);return i}return f?(qi(),A=l.fallback,f=i.mode,N=t.child,q=N.sibling,l=Wr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,q!==null?A=Wr(q,A):(A=Ks(A,f,a,null),A.flags|=2),A.return=i,l.return=i,l.sibling=A,i.child=l,jl(null,l),l=i.child,A=t.child.memoizedState,A===null?A=Fd(a):(f=A.cachePool,f!==null?(N=It._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=Iy(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Gd(t,_,a),i.memoizedState=Hd,jl(t.child,l)):(Bi(i),a=t.child,t=a.sibling,a=Wr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Kd(t,i){return i=qc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function qc(t,i){return t=bn(22,t,null,i),t.lanes=0,t}function Qd(t,i,a){return Js(i,t.child,null,a),t=Kd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function B0(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),ld(t.return,i,a)}function $d(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function q0(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=_t.current,A=(_&2)!==0;if(A?(_=_&1|2,i.flags|=128):_&=1,le(_t,_),Qt(t,i,l,a),l=je?wl:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B0(t,a,i);else if(t.tag===19)B0(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&kc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),$d(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&kc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}$d(i,!0,a,null,d,l);break;case"together":$d(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ni(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Gi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(eo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Wr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Wr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Yd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&bc(t)))}function CA(t,i,a){switch(i.tag){case 3:Lt(i,i.stateNode.containerInfo),Pi(i,It,t.memoizedState.cache),Qs();break;case 27:case 5:Rs(i);break;case 4:Lt(i,i.stateNode.containerInfo);break;case 10:Pi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ed(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Bi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?z0(t,i,a):(Bi(i),t=ni(t,i,a),t!==null?t.sibling:null);Bi(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(eo(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return q0(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(_t,_t.current),l)break;return null;case 22:return i.lanes=0,M0(t,i,a,i.pendingProps);case 24:Pi(i,It,t.memoizedState.cache)}return ni(t,i,a)}function H0(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)kt=!0;else{if(!Yd(t,a)&&(i.flags&128)===0)return kt=!1,CA(t,i,a);kt=(t.flags&131072)!==0}else kt=!1,je&&(i.flags&1048576)!==0&&Ty(i,wl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Xs(i.elementType),i.type=t,typeof t=="function")ed(t)?(l=ta(t,l),i.tag=1,i=j0(null,i,t,l,a)):(i.tag=0,i=qd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===se){i.tag=11,i=N0(null,i,t,l,a);break e}else if(f===C){i.tag=14,i=D0(null,i,t,l,a);break e}}throw i=We(t)||t,Error(s(306,i,""))}}return i;case 0:return qd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=ta(l,i.pendingProps),j0(t,i,l,f,a);case 3:e:{if(Lt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,pd(t,i),Ol(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Pi(i,It,l),l!==d.cache&&ud(i,[It],a,!0),Dl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=U0(t,i,l,a);break e}else if(l!==f){f=jn(Error(s(424)),i),xl(f),i=U0(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,it=Hn(t.firstChild),Gt=i,je=!0,Li=null,Bn=!0,a=My(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Qs(),l===f){i=ni(t,i,a);break e}Qt(t,i,l,a)}i=i.child}return i;case 26:return Bc(t,i),t===null?(a=ev(i.type,null,i.pendingProps,null))?i.memoizedState=a:je||(a=i.type,t=i.pendingProps,l=ih(Ie.current).createElement(a),l[wt]=i,l[Ut]=t,$t(l,a,t),xt(l),i.stateNode=l):i.memoizedState=ev(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Rs(i),t===null&&je&&(l=i.stateNode=X_(i.type,i.pendingProps,Ie.current),Gt=i,Bn=!0,f=it,Wi(i.type)?(Im=f,it=Hn(l.firstChild)):it=f),Qt(t,i,i.pendingProps.children,a),Bc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&je&&((f=l=it)&&(l=sS(l,i.type,i.pendingProps,Bn),l!==null?(i.stateNode=l,Gt=i,it=Hn(l.firstChild),Bn=!1,f=!0):f=!1),f||Vi(i)),Rs(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Am(f,d)?l=null:_!==null&&Am(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=bd(t,i,EA,null,null,a),Jl._currentValue=f),Bc(t,i),Qt(t,i,l,a),i.child;case 6:return t===null&&je&&((t=a=it)&&(a=aS(a,i.pendingProps,Bn),a!==null?(i.stateNode=a,Gt=i,it=null,t=!0):t=!1),t||Vi(i)),null;case 13:return z0(t,i,a);case 4:return Lt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Js(i,null,l,a):Qt(t,i,l,a),i.child;case 11:return N0(t,i,i.type,i.pendingProps,a);case 7:return Qt(t,i,i.pendingProps,a),i.child;case 8:return Qt(t,i,i.pendingProps.children,a),i.child;case 12:return Qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Pi(i,i.type,l.value),Qt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Ys(i),f=Kt(f),l=l(f),i.flags|=1,Qt(t,i,l,a),i.child;case 14:return D0(t,i,i.type,i.pendingProps,a);case 15:return O0(t,i,i.type,i.pendingProps,a);case 19:return q0(t,i,a);case 31:return IA(t,i,a);case 22:return M0(t,i,a,i.pendingProps);case 24:return Ys(i),l=Kt(It),t===null?(f=fd(),f===null&&(f=nt,d=cd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},md(i),Pi(i,It,f)):((t.lanes&a)!==0&&(pd(t,i),Ol(i,null,null,a),Dl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Pi(i,It,l)):(l=d.cache,Pi(i,It,l),l!==f.cache&&ud(i,[It],a,!0))),Qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ri(t){t.flags|=4}function Wd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(g_())t.flags|=8192;else throw Zs=xc,dd}else t.flags&=-16777217}function F0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!sv(i))if(g_())t.flags|=8192;else throw Zs=xc,dd}function Hc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Yu():536870912,t.lanes|=i,fo|=i)}function Ul(t,i){if(!je)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function kA(t,i,a){var l=i.pendingProps;switch(id(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Jr(It),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ja(i)?ri(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ad())),st(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(ri(i),d!==null?(st(i),F0(i,d)):(st(i),Wd(i,f,null,l,a))):d?d!==t.memoizedState?(ri(i),st(i),F0(i,d)):(st(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ri(i),st(i),Wd(i,f,t,l,a)),null;case 27:if(Na(i),a=Ie.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ri(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=fe.current,Ja(i)?Ay(i):(t=X_(f,l,a),i.stateNode=t,ri(i))}return st(i),null;case 5:if(Na(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ri(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(d=fe.current,Ja(i))Ay(i);else{var _=ih(Ie.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[wt]=i,d[Ut]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch($t(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ri(i)}}return st(i),Wd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ri(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ie.current,Ja(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Gt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[wt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||z_(t.nodeValue,a)),t||Vi(i,!0)}else t=ih(t).createTextNode(l),t[wt]=i,i.stateNode=t}return st(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ja(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[wt]=i}else Qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),t=!1}else a=ad(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Sn(i),i):(Sn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ja(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[wt]=i}else Qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),f=!1}else f=ad(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Sn(i),i):(Sn(i),null)}return Sn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Hc(i,i.updateQueue),st(i),null);case 4:return at(),t===null&&_m(i.stateNode.containerInfo),st(i),null;case 10:return Jr(i.type),st(i),null;case 19:if(te(_t),l=i.memoizedState,l===null)return st(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Ul(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=kc(t),d!==null){for(i.flags|=128,Ul(l,!1),t=d.updateQueue,i.updateQueue=t,Hc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)_y(a,t),a=a.sibling;return le(_t,_t.current&1|2),je&&Xr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&sn()>$c&&(i.flags|=128,f=!0,Ul(l,!1),i.lanes=4194304)}else{if(!f)if(t=kc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Hc(i,t),Ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!je)return st(i),null}else 2*sn()-l.renderingStartTime>$c&&a!==536870912&&(i.flags|=128,f=!0,Ul(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,a=_t.current,le(_t,f?a&1|2:a&1),je&&Xr(i,l.treeForkCount),t):(st(i),null);case 22:case 23:return Sn(i),vd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&Hc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&te(Ws),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Jr(It),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function NA(t,i){switch(id(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Jr(It),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Na(i),null;case 31:if(i.memoizedState!==null){if(Sn(i),i.alternate===null)throw Error(s(340));Qs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Sn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Qs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(_t),null;case 4:return at(),null;case 10:return Jr(i.type),null;case 22:case 23:return Sn(i),vd(),t!==null&&te(Ws),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Jr(It),null;case 25:return null;default:return null}}function G0(t,i){switch(id(i),i.tag){case 3:Jr(It),at();break;case 26:case 27:case 5:Na(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Sn(i);break;case 13:Sn(i);break;case 19:te(_t);break;case 10:Jr(i.type);break;case 22:case 23:Sn(i),vd(),t!==null&&te(Ws);break;case 24:Jr(It)}}function zl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(A){Ye(i,i.return,A)}}function Hi(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=i;var N=a,q=A;try{q()}catch(X){Ye(f,N,X)}}}l=l.next}while(l!==d)}}catch(X){Ye(i,i.return,X)}}function K0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Vy(i,a)}catch(l){Ye(t,t.return,l)}}}function Q0(t,i,a){a.props=ta(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function Bl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ye(t,i,f)}}function Lr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ye(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ye(t,i,f)}else a.current=null}function $0(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ye(t,t.return,f)}}function Xd(t,i,a){try{var l=t.stateNode;JA(l,t.type,a,i),l[Ut]=i}catch(f){Ye(t,t.return,f)}}function Y0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Wi(t.type)||t.tag===4}function Zd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Y0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Wi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Jn));else if(l!==4&&(l===27&&Wi(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Jd(t,i,a),t=t.sibling;t!==null;)Jd(t,i,a),t=t.sibling}function Fc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Wi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Fc(t,i,a),t=t.sibling;t!==null;)Fc(t,i,a),t=t.sibling}function W0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);$t(i,l,a),i[wt]=t,i[Ut]=a}catch(d){Ye(t,t.return,d)}}var ii=!1,Nt=!1,em=!1,X0=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function DA(t,i){if(t=t.containerInfo,Tm=hh,t=uy(t),Qf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,A=-1,N=-1,q=0,X=0,ee=t,F=null;t:for(;;){for(var $;ee!==a||f!==0&&ee.nodeType!==3||(A=_+f),ee!==d||l!==0&&ee.nodeType!==3||(N=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),($=ee.firstChild)!==null;)F=ee,ee=$;for(;;){if(ee===t)break t;if(F===a&&++q===f&&(A=_),F===d&&++X===l&&(N=_),($=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=$}a=A===-1||N===-1?null:{start:A,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(bm={focusedElem:t,selectionRange:a},hh=!1,Bt=i;Bt!==null;)if(i=Bt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Bt=t;else for(;Bt!==null;){switch(i=Bt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=ta(a.type,f);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Ye(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)wm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Bt=t;break}Bt=i.return}}function Z0(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ai(t,a),l&4&&zl(5,a);break;case 1:if(ai(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var f=ta(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&K0(a),l&512&&Bl(a,a.return);break;case 3:if(ai(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Vy(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&l&4&&W0(a);case 26:case 5:ai(t,a),i===null&&l&4&&$0(a),l&512&&Bl(a,a.return);break;case 12:ai(t,a);break;case 31:ai(t,a),l&4&&t_(t,a);break;case 13:ai(t,a),l&4&&n_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=BA.bind(null,a),oS(t,a))));break;case 22:if(l=a.memoizedState!==null||ii,!l){i=i!==null&&i.memoizedState!==null||Nt,f=ii;var d=Nt;ii=l,(Nt=i)&&!d?oi(t,a,(a.subtreeFlags&8772)!==0):ai(t,a),ii=f,Nt=d}break;case 30:break;default:ai(t,a)}}function J0(t){var i=t.alternate;i!==null&&(t.alternate=null,J0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Va(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,hn=!1;function si(t,i,a){for(a=a.child;a!==null;)e_(t,i,a),a=a.sibling}function e_(t,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Nt||Lr(a,i),si(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Lr(a,i);var l=lt,f=hn;Wi(a.type)&&(lt=a.stateNode,hn=!1),si(t,i,a),Wl(a.stateNode),lt=l,hn=f;break;case 5:Nt||Lr(a,i);case 6:if(l=lt,f=hn,lt=null,si(t,i,a),lt=l,hn=f,lt!==null)if(hn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:lt!==null&&(hn?(t=lt,K_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),To(t)):K_(lt,a.stateNode));break;case 4:l=lt,f=hn,lt=a.stateNode.containerInfo,hn=!0,si(t,i,a),lt=l,hn=f;break;case 0:case 11:case 14:case 15:Hi(2,a,i),Nt||Hi(4,a,i),si(t,i,a);break;case 1:Nt||(Lr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Q0(a,i,l)),si(t,i,a);break;case 21:si(t,i,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,si(t,i,a),Nt=l;break;default:si(t,i,a)}}function t_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{To(t)}catch(a){Ye(i,i.return,a)}}}function n_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{To(t)}catch(a){Ye(i,i.return,a)}}function OA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new X0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new X0),i;default:throw Error(s(435,t.tag))}}function Gc(t,i){var a=OA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=qA.bind(null,t,l);l.then(f,f)}})}function fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(Wi(A.type)){lt=A.stateNode,hn=!1;break e}break;case 5:lt=A.stateNode,hn=!1;break e;case 3:case 4:lt=A.stateNode.containerInfo,hn=!0;break e}A=A.return}if(lt===null)throw Error(s(160));e_(d,_,f),lt=null,hn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)r_(i,t),i=i.sibling}var sr=null;function r_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),dn(t),l&4&&(Hi(3,t,t.return),zl(3,t),Hi(5,t,t.return));break;case 1:fn(i,t),dn(t),l&512&&(Nt||a===null||Lr(a,a.return)),l&64&&ii&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=sr;if(fn(i,t),dn(t),l&512&&(Nt||a===null||Lr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Tr]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),$t(d,l,a),d[wt]=t,xt(d),l=d;break e;case"link":var _=rv("link","href",f).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;case"meta":if(_=rv("meta","content",f).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[wt]=t,xt(d),l=d}t.stateNode=l}else iv(f,t.type,t.stateNode);else t.stateNode=nv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?iv(f,t.type,t.stateNode):nv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xd(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(i,t),dn(t),l&512&&(Nt||a===null||Lr(a,a.return)),a!==null&&l&4&&Xd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,t),dn(t),l&512&&(Nt||a===null||Lr(a,a.return)),t.flags&32){f=t.stateNode;try{cn(f,"")}catch(de){Ye(t,t.return,de)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Xd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(em=!0);break;case 6:if(fn(i,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){Ye(t,t.return,de)}}break;case 3:if(oh=null,f=sr,sr=sh(i.containerInfo),fn(i,t),sr=f,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{To(i.containerInfo)}catch(de){Ye(t,t.return,de)}em&&(em=!1,i_(t));break;case 4:l=sr,sr=sh(t.stateNode.containerInfo),fn(i,t),dn(t),sr=l;break;case 12:fn(i,t),dn(t);break;case 31:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gc(t,l)));break;case 13:fn(i,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qc=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,q=ii,X=Nt;if(ii=q||f,Nt=X||N,fn(i,t),Nt=X,ii=q,dn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||ii||Nt||na(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=N.stateNode;var ee=N.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;A.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(de){Ye(N,N.return,de)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(de){Ye(N,N.return,de)}}}else if(i.tag===18){if(a===null){N=i;try{var $=N.stateNode;f?Q_($,!0):Q_(N.stateNode,!1)}catch(de){Ye(N,N.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Gc(t,a))));break;case 19:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gc(t,l)));break;case 30:break;case 21:break;default:fn(i,t),dn(t)}}function dn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Y0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Zd(t);Fc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var A=Zd(t);Fc(t,A,_);break;case 3:case 4:var N=a.stateNode.containerInfo,q=Zd(t);Jd(t,q,N);break;default:throw Error(s(161))}}catch(X){Ye(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function i_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;i_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ai(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Z0(t,i.alternate,i),i=i.sibling}function na(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Hi(4,i,i.return),na(i);break;case 1:Lr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Q0(i,i.return,a),na(i);break;case 27:Wl(i.stateNode);case 26:case 5:Lr(i,i.return),na(i);break;case 22:i.memoizedState===null&&na(i);break;case 30:na(i);break;default:na(i)}t=t.sibling}}function oi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:oi(f,d,a),zl(4,d);break;case 1:if(oi(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Ye(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Ly(N[f],A)}catch(q){Ye(l,l.return,q)}}a&&_&64&&K0(d),Bl(d,d.return);break;case 27:W0(d);case 26:case 5:oi(f,d,a),a&&l===null&&_&4&&$0(d),Bl(d,d.return);break;case 12:oi(f,d,a);break;case 31:oi(f,d,a),a&&_&4&&t_(f,d);break;case 13:oi(f,d,a),a&&_&4&&n_(f,d);break;case 22:d.memoizedState===null&&oi(f,d,a),Bl(d,d.return);break;case 30:break;default:oi(f,d,a)}i=i.sibling}}function tm(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Rl(a))}function nm(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Rl(t))}function ar(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)s_(t,i,a,l),i=i.sibling}function s_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ar(t,i,a,l),f&2048&&zl(9,i);break;case 1:ar(t,i,a,l);break;case 3:ar(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Rl(t)));break;case 12:if(f&2048){ar(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ye(i,i.return,N)}}else ar(t,i,a,l);break;case 31:ar(t,i,a,l);break;case 13:ar(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ar(t,i,a,l):ql(t,i):d._visibility&2?ar(t,i,a,l):(d._visibility|=2,uo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&tm(_,i);break;case 24:ar(t,i,a,l),f&2048&&nm(i.alternate,i);break;default:ar(t,i,a,l)}}function uo(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,A=a,N=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:uo(d,_,A,N,f),zl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?uo(d,_,A,N,f):ql(d,_):(X._visibility|=2,uo(d,_,A,N,f)),f&&q&2048&&tm(_.alternate,_);break;case 24:uo(d,_,A,N,f),f&&q&2048&&nm(_.alternate,_);break;default:uo(d,_,A,N,f)}i=i.sibling}}function ql(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:ql(a,l),f&2048&&tm(l.alternate,l);break;case 24:ql(a,l),f&2048&&nm(l.alternate,l);break;default:ql(a,l)}i=i.sibling}}var Hl=8192;function co(t,i,a){if(t.subtreeFlags&Hl)for(t=t.child;t!==null;)a_(t,i,a),t=t.sibling}function a_(t,i,a){switch(t.tag){case 26:co(t,i,a),t.flags&Hl&&t.memoizedState!==null&&vS(a,sr,t.memoizedState,t.memoizedProps);break;case 5:co(t,i,a);break;case 3:case 4:var l=sr;sr=sh(t.stateNode.containerInfo),co(t,i,a),sr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Hl,Hl=16777216,co(t,i,a),Hl=l):co(t,i,a));break;default:co(t,i,a)}}function o_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Fl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,u_(l,t)}o_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)l_(t),t=t.sibling}function l_(t){switch(t.tag){case 0:case 11:case 15:Fl(t),t.flags&2048&&Hi(9,t,t.return);break;case 3:Fl(t);break;case 12:Fl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Kc(t)):Fl(t);break;default:Fl(t)}}function Kc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,u_(l,t)}o_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Hi(8,i,i.return),Kc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Kc(i));break;default:Kc(i)}t=t.sibling}}function u_(t,i){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Hi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var f=l.sibling,d=l.return;if(J0(l),l===a){Bt=null;break e}if(f!==null){f.return=d,Bt=f;break e}Bt=d}}}var MA={getCacheForType:function(t){var i=Kt(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Kt(It).controller.signal}},LA=typeof WeakMap=="function"?WeakMap:Map,Ge=0,nt=null,Ne=null,Oe=0,$e=0,wn=null,Fi=!1,ho=!1,rm=!1,li=0,dt=0,Gi=0,ra=0,im=0,xn=0,fo=0,Gl=null,mn=null,sm=!1,Qc=0,c_=0,$c=1/0,Yc=null,Ki=null,Pt=0,Qi=null,mo=null,ui=0,am=0,om=null,h_=null,Kl=0,lm=null;function Rn(){return(Ge&2)!==0&&Oe!==0?Oe&-Oe:W.T!==null?mm():Wu()}function f_(){if(xn===0)if((Oe&536870912)===0||je){var t=ks;ks<<=1,(ks&3932160)===0&&(ks=262144),xn=t}else xn=536870912;return t=An.current,t!==null&&(t.flags|=32),xn}function pn(t,i,a){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(po(t,0),$i(t,Oe,xn,!1)),Ns(t,a),((Ge&2)===0||t!==nt)&&(t===nt&&((Ge&2)===0&&(ra|=a),dt===4&&$i(t,Oe,xn,!1)),Vr(t))}function d_(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Wn(t,i),f=l?jA(t,i):cm(t,i,!0),d=l;do{if(f===0){ho&&!l&&$i(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!VA(a)){f=cm(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var A=t;f=Gl;var N=A.current.memoizedState.isDehydrated;if(N&&(po(A,_).flags|=256),_=cm(A,_,!1),_!==2){if(rm&&!N){A.errorRecoveryDisabledLanes|=d,ra|=d,f=4;break e}d=mn,mn=f,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){po(t,0),$i(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:$i(l,i,xn,!Fi);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Qc+300-sn(),10<f)){if($i(l,i,xn,!Fi),_r(l,0,!0)!==0)break e;ui=i,l.timeoutHandle=F_(m_.bind(null,l,a,mn,Yc,sm,i,xn,ra,fo,Fi,d,"Throttled",-0,0),f);break e}m_(l,a,mn,Yc,sm,i,xn,ra,fo,Fi,d,null,-0,0)}}break}while(!0);Vr(t)}function m_(t,i,a,l,f,d,_,A,N,q,X,ee,F,$){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},a_(i,d,ee);var de=(d&62914560)===d?Qc-sn():(d&4194048)===d?c_-sn():0;if(de=ES(ee,de),de!==null){ui=d,t.cancelPendingCommit=de(b_.bind(null,t,i,d,a,l,f,_,A,N,X,ee,null,F,$)),$i(t,d,_,!q);return}}b_(t,i,d,a,l,f,_,A,N)}function VA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Tn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function $i(t,i,a,l){i&=~im,i&=~ra,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-gt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Ds(t,a,i)}function Wc(){return(Ge&6)===0?(Ql(0),!1):!0}function um(){if(Ne!==null){if($e===0)var t=Ne.return;else t=Ne,Zr=$s=null,wd(t),io=null,Cl=0,t=Ne;for(;t!==null;)G0(t.alternate,t),t=t.return;Ne=null}}function po(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,nS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ui=0,um(),nt=t,Ne=a=Wr(t.current,null),Oe=i,$e=0,wn=null,Fi=!1,ho=Wn(t,i),rm=!1,fo=xn=im=ra=Gi=dt=0,mn=Gl=null,sm=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-gt(l),d=1<<f;i|=t[f],l&=~d}return li=i,yc(),a}function p_(t,i){Re=null,W.H=Pl,i===ro||i===wc?(i=Ny(),$e=3):i===dd?(i=Ny(),$e=4):$e=i===Bd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wn=i,Ne===null&&(dt=1,Uc(t,jn(i,t.current)))}function g_(){var t=An.current;return t===null?!0:(Oe&4194048)===Oe?qn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===qn:!1}function y_(){var t=W.H;return W.H=Pl,t===null?Pl:t}function __(){var t=W.A;return W.A=MA,t}function Xc(){dt=4,Fi||(Oe&4194048)!==Oe&&An.current!==null||(ho=!0),(Gi&134217727)===0&&(ra&134217727)===0||nt===null||$i(nt,Oe,xn,!1)}function cm(t,i,a){var l=Ge;Ge|=2;var f=y_(),d=__();(nt!==t||Oe!==i)&&(Yc=null,po(t,i)),i=!1;var _=dt;e:do try{if($e!==0&&Ne!==null){var A=Ne,N=wn;switch($e){case 8:um(),_=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(i=!0);var q=$e;if($e=0,wn=null,go(t,A,N,q),a&&ho){_=0;break e}break;default:q=$e,$e=0,wn=null,go(t,A,N,q)}}PA(),_=dt;break}catch(X){p_(t,X)}while(!0);return i&&t.shellSuspendCounter++,Zr=$s=null,Ge=l,W.H=f,W.A=d,Ne===null&&(nt=null,Oe=0,yc()),_}function PA(){for(;Ne!==null;)v_(Ne)}function jA(t,i){var a=Ge;Ge|=2;var l=y_(),f=__();nt!==t||Oe!==i?(Yc=null,$c=sn()+500,po(t,i)):ho=Wn(t,i);e:do try{if($e!==0&&Ne!==null){i=Ne;var d=wn;t:switch($e){case 1:$e=0,wn=null,go(t,i,d,1);break;case 2:case 9:if(Cy(d)){$e=0,wn=null,E_(i);break}i=function(){$e!==2&&$e!==9||nt!==t||($e=7),Vr(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Cy(d)?($e=0,wn=null,E_(i)):($e=0,wn=null,go(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var A=Ne;if(_?sv(_):A.stateNode.complete){$e=0,wn=null;var N=A.sibling;if(N!==null)Ne=N;else{var q=A.return;q!==null?(Ne=q,Zc(q)):Ne=null}break t}}$e=0,wn=null,go(t,i,d,5);break;case 6:$e=0,wn=null,go(t,i,d,6);break;case 8:um(),dt=6;break e;default:throw Error(s(462))}}UA();break}catch(X){p_(t,X)}while(!0);return Zr=$s=null,W.H=l,W.A=f,Ge=a,Ne!==null?0:(nt=null,Oe=0,yc(),dt)}function UA(){for(;Ne!==null&&!zf();)v_(Ne)}function v_(t){var i=H0(t.alternate,t,li);t.memoizedProps=t.pendingProps,i===null?Zc(t):Ne=i}function E_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=P0(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=P0(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:wd(i);default:G0(a,i),i=Ne=_y(i,li),i=H0(a,i,li)}t.memoizedProps=t.pendingProps,i===null?Zc(t):Ne=i}function go(t,i,a,l){Zr=$s=null,wd(i),io=null,Cl=0;var f=i.return;try{if(RA(t,f,i,a,Oe)){dt=1,Uc(t,jn(a,t.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;dt=1,Uc(t,jn(a,t.current)),Ne=null;return}i.flags&32768?(je||l===1?t=!0:ho||(Oe&536870912)!==0?t=!1:(Fi=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),T_(i,t)):Zc(i)}function Zc(t){var i=t;do{if((i.flags&32768)!==0){T_(i,Fi);return}t=i.return;var a=kA(i.alternate,i,li);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);dt===0&&(dt=5)}function T_(t,i){do{var a=NA(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);dt=6,Ne=null}function b_(t,i,a,l,f,d,_,A,N){t.cancelPendingCommit=null;do Jc();while(Pt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Zf,Hf(t,a,d,_,A,N),t===nt&&(Ne=nt=null,Oe=0),mo=i,Qi=t,ui=a,am=d,om=f,h_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,HA(Si,function(){return R_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=H.p,H.p=2,_=Ge,Ge|=4;try{DA(t,i,a)}finally{Ge=_,H.p=f,W.T=l}}Pt=1,A_(),S_(),w_()}}function A_(){if(Pt===1){Pt=0;var t=Qi,i=mo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=H.p;H.p=2;var f=Ge;Ge|=4;try{r_(i,t);var d=bm,_=uy(t.containerInfo),A=d.focusedElem,N=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&ly(A.ownerDocument.documentElement,A)){if(N!==null&&Qf(A)){var q=N.start,X=N.end;if(X===void 0&&(X=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(X,A.value.length);else{var ee=A.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var $=F.getSelection(),de=A.textContent.length,ve=Math.min(N.start,de),et=N.end===void 0?ve:Math.min(N.end,de);!$.extend&&ve>et&&(_=et,et=ve,ve=_);var j=oy(A,ve),L=oy(A,et);if(j&&L&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==L.node||$.focusOffset!==L.offset)){var B=ee.createRange();B.setStart(j.node,j.offset),$.removeAllRanges(),ve>et?($.addRange(B),$.extend(L.node,L.offset)):(B.setEnd(L.node,L.offset),$.addRange(B))}}}}for(ee=[],$=A;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ee.length;A++){var Z=ee[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}hh=!!Tm,bm=Tm=null}finally{Ge=f,H.p=l,W.T=a}}t.current=i,Pt=2}}function S_(){if(Pt===2){Pt=0;var t=Qi,i=mo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=H.p;H.p=2;var f=Ge;Ge|=4;try{Z0(t,i.alternate,i)}finally{Ge=f,H.p=l,W.T=a}}Pt=3}}function w_(){if(Pt===4||Pt===3){Pt=0,Hu();var t=Qi,i=mo,a=ui,l=h_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,mo=Qi=null,x_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ki=null),Kr(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Yn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,f=H.p,H.p=2,W.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{W.T=i,H.p=f}}(ui&3)!==0&&Jc(),Vr(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===lm?Kl++:(Kl=0,lm=t):Kl=0,Ql(0)}}function x_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Rl(i)))}function Jc(){return A_(),S_(),w_(),R_()}function R_(){if(Pt!==5)return!1;var t=Qi,i=am;am=0;var a=Kr(ui),l=W.T,f=H.p;try{H.p=32>a?32:a,W.T=null,a=om,om=null;var d=Qi,_=ui;if(Pt=0,mo=Qi=null,ui=0,(Ge&6)!==0)throw Error(s(331));var A=Ge;if(Ge|=4,l_(d.current),s_(d,d.current,_,a),Ge=A,Ql(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Yn,d)}catch{}return!0}finally{H.p=f,W.T=l,x_(t,i)}}function I_(t,i,a){i=jn(a,i),i=zd(t.stateNode,i,2),t=zi(t,i,2),t!==null&&(Ns(t,2),Vr(t))}function Ye(t,i,a){if(t.tag===3)I_(t,t,a);else for(;i!==null;){if(i.tag===3){I_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ki===null||!Ki.has(l))){t=jn(a,t),a=C0(2),l=zi(i,a,2),l!==null&&(k0(a,l,i,t),Ns(l,2),Vr(l));break}}i=i.return}}function hm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new LA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(rm=!0,f.add(a),t=zA.bind(null,t,i,a),i.then(t,t))}function zA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Oe&a)===a&&(dt===4||dt===3&&(Oe&62914560)===Oe&&300>sn()-Qc?(Ge&2)===0&&po(t,0):im|=a,fo===Oe&&(fo=0)),Vr(t)}function C_(t,i){i===0&&(i=Yu()),t=Gs(t,i),t!==null&&(Ns(t,i),Vr(t))}function BA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),C_(t,a)}function qA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),C_(t,a)}function HA(t,i){return Vt(t,i)}var eh=null,yo=null,fm=!1,th=!1,dm=!1,Yi=0;function Vr(t){t!==yo&&t.next===null&&(yo===null?eh=yo=t:yo=yo.next=t),th=!0,fm||(fm=!0,GA())}function Ql(t,i){if(!dm&&th){dm=!0;do for(var a=!1,l=eh;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=f&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,O_(l,d))}else d=Oe,d=_r(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(a=!0,O_(l,d));l=l.next}while(a);dm=!1}}function FA(){k_()}function k_(){th=fm=!1;var t=0;Yi!==0&&tS()&&(t=Yi);for(var i=sn(),a=null,l=eh;l!==null;){var f=l.next,d=N_(l,i);d===0?(l.next=null,a===null?eh=f:a.next=f,f===null&&(yo=a)):(a=l,(t!==0||(d&3)!==0)&&(th=!0)),l=f}Pt!==0&&Pt!==5||Ql(t),Yi!==0&&(Yi=0)}function N_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-gt(d),A=1<<_,N=f[_];N===-1?((A&a)===0||(A&l)!==0)&&(f[_]=qf(A,i)):N<=i&&(t.expiredLanes|=A),d&=~A}if(i=nt,a=Oe,a=_r(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ai(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ai(l),Kr(a)){case 2:case 8:a=rl;break;case 32:a=Si;break;case 268435456:a=Fu;break;default:a=Si}return l=D_.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ai(l),t.callbackPriority=2,t.callbackNode=null,2}function D_(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Jc()&&t.callbackNode!==a)return null;var l=Oe;return l=_r(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(d_(t,l,i),N_(t,sn()),t.callbackNode!=null&&t.callbackNode===a?D_.bind(null,t):null)}function O_(t,i){if(Jc())return null;d_(t,i,!0)}function GA(){rS(function(){(Ge&6)!==0?Vt(nl,FA):k_()})}function mm(){if(Yi===0){var t=to;t===0&&(t=gr,gr<<=1,(gr&261888)===0&&(gr=256)),Yi=t}return Yi}function M_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:za(""+t)}function L_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function KA(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=M_((f[Ut]||null).action),_=l.submitter;_&&(i=(i=_[Ut]||null)?M_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var A=new Cr("action","action",null,l,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yi!==0){var N=_?L_(f,_):new FormData(f);Md(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(A.preventDefault(),N=_?L_(f,_):new FormData(f),Md(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var pm=0;pm<Xf.length;pm++){var gm=Xf[pm],QA=gm.toLowerCase(),$A=gm[0].toUpperCase()+gm.slice(1);ir(QA,"on"+$A)}ir(fy,"onAnimationEnd"),ir(dy,"onAnimationIteration"),ir(my,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(cA,"onTransitionRun"),ir(hA,"onTransitionStart"),ir(fA,"onTransitionCancel"),ir(py,"onTransitionEnd"),wr("onMouseEnter",["mouseout","mouseover"]),wr("onMouseLeave",["mouseout","mouseover"]),wr("onPointerEnter",["pointerout","pointerover"]),wr("onPointerLeave",["pointerout","pointerover"]),Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function V_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var A=l[_],N=A.instance,q=A.currentTarget;if(A=A.listener,N!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=q;try{d(f)}catch(X){gc(X)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(A=l[_],N=A.instance,q=A.currentTarget,A=A.listener,N!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=q;try{d(f)}catch(X){gc(X)}f.currentTarget=null,d=N}}}}function De(t,i){var a=i[La];a===void 0&&(a=i[La]=new Set);var l=t+"__bubble";a.has(l)||(P_(i,t,2,!1),a.add(l))}function ym(t,i,a){var l=0;i&&(l|=4),P_(a,t,l,i)}var nh="_reactListening"+Math.random().toString(36).slice(2);function _m(t){if(!t[nh]){t[nh]=!0,al.forEach(function(a){a!=="selectionchange"&&(YA.has(a)||ym(a,!1,t),ym(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[nh]||(i[nh]=!0,ym("selectionchange",!1,i))}}function P_(t,i,a,l){switch(fv(i)){case 2:var f=AS;break;case 8:f=SS;break;default:f=Om}a=f.bind(null,i,a,t),f=void 0,!Ps||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function vm(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=br(A),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}A=A.parentNode}}l=l.return}ki(function(){var q=d,X=Mn(a),ee=[];e:{var F=gy.get(t);if(F!==void 0){var $=Cr,de=t;switch(t){case"keypress":if(Us(a)===0)break e;case"keydown":case"keyup":$=dc;break;case"focusin":de="focus",$=Bs;break;case"focusout":de="blur",$=Bs;break;case"beforeblur":case"afterblur":$=Bs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case fy:case dy:case my:$=ac;break;case py:$=S;break;case"scroll":case"scrollend":$=_l;break;case"wheel":$=Q;break;case"copy":case"cut":case"paste":$=oc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Yr;break;case"toggle":case"beforetoggle":$=xe}var ve=(i&4)!==0,et=!ve&&(t==="scroll"||t==="scrollend"),j=ve?F!==null?F+"Capture":null:F;ve=[];for(var L=q,B;L!==null;){var Z=L;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||j===null||(Z=er(L,j),Z!=null&&ve.push(Yl(L,Z,B))),et)break;L=L.return}0<ve.length&&(F=new $(F,de,null,a,X),ee.push({event:F,listeners:ve}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",F&&a!==pl&&(de=a.relatedTarget||a.fromElement)&&(br(de)||de[Er]))break e;if(($||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,$?(de=a.relatedTarget||a.toElement,$=q,de=de?br(de):null,de!==null&&(et=u(de),ve=de.tag,de!==et||ve!==5&&ve!==27&&ve!==6)&&(de=null)):($=null,de=q),$!==de)){if(ve=vl,Z="onMouseLeave",j="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Yr,Z="onPointerLeave",j="onPointerEnter",L="pointer"),et=$==null?F:vn($),B=de==null?F:vn(de),F=new ve(Z,L+"leave",$,a,X),F.target=et,F.relatedTarget=B,Z=null,br(X)===q&&(ve=new ve(j,L+"enter",de,a,X),ve.target=B,ve.relatedTarget=et,Z=ve),et=Z,$&&de)t:{for(ve=WA,j=$,L=de,B=0,Z=j;Z;Z=ve(Z))B++;Z=0;for(var ye=L;ye;ye=ve(ye))Z++;for(;0<B-Z;)j=ve(j),B--;for(;0<Z-B;)L=ve(L),Z--;for(;B--;){if(j===L||L!==null&&j===L.alternate){ve=j;break t}j=ve(j),L=ve(L)}ve=null}else ve=null;$!==null&&j_(ee,F,$,ve,!1),de!==null&&et!==null&&j_(ee,et,de,ve,!0)}}e:{if(F=q?vn(q):window,$=F.nodeName&&F.nodeName.toLowerCase(),$==="select"||$==="input"&&F.type==="file")var qe=ty;else if(Jg(F))if(ny)qe=oA;else{qe=sA;var ge=iA}else $=F.nodeName,!$||$.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Ua(q.elementType)&&(qe=ty):qe=aA;if(qe&&(qe=qe(t,q))){ey(ee,qe,a,X);break e}ge&&ge(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&fl(F,"number",F.value)}switch(ge=q?vn(q):window,t){case"focusin":(Jg(ge)||ge.contentEditable==="true")&&(Qa=ge,$f=q,Sl=null);break;case"focusout":Sl=$f=Qa=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,cy(ee,a,X);break;case"selectionchange":if(uA)break;case"keydown":case"keyup":cy(ee,a,X)}var Ce;if(Fe)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ka?qs(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Dr&&a.locale!=="ko"&&(Ka||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ka&&(Ce=yl()):(Ir=X,gl="value"in Ir?Ir.value:Ir.textContent,Ka=!0)),ge=rh(q,Me),0<ge.length&&(Me=new Nr(Me,t,null,a,X),ee.push({event:Me,listeners:ge}),Ce?Me.data=Ce:(Ce=Ga(a),Ce!==null&&(Me.data=Ce)))),(Ce=Vn?eA(t,a):tA(t,a))&&(Me=rh(q,"onBeforeInput"),0<Me.length&&(ge=new Nr("onBeforeInput","beforeinput",null,a,X),ee.push({event:ge,listeners:Me}),ge.data=Ce)),KA(ee,t,q,a,X)}V_(ee,i)})}function Yl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function rh(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=er(t,a),f!=null&&l.unshift(Yl(t,f,d)),f=er(t,i),f!=null&&l.push(Yl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function WA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function j_(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var A=a,N=A.alternate,q=A.stateNode;if(A=A.tag,N!==null&&N===l)break;A!==5&&A!==26&&A!==27||q===null||(N=q,f?(q=er(a,d),q!=null&&_.unshift(Yl(a,q,N))):f||(q=er(a,d),q!=null&&_.push(Yl(a,q,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var XA=/\r\n?/g,ZA=/\u0000|\uFFFD/g;function U_(t){return(typeof t=="string"?t:""+t).replace(XA,`
`).replace(ZA,"")}function z_(t,i){return i=U_(i),U_(t)===i}function Je(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&cn(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,l);break;case"style":ml(t,l,d);break;case"data":if(i!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=za(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",f.name,f,null),Je(t,i,"formEncType",f.formEncType,f,null),Je(t,i,"formMethod",f.formMethod,f,null),Je(t,i,"formTarget",f.formTarget,f,null)):(Je(t,i,"encType",f.encType,f,null),Je(t,i,"method",f.method,f,null),Je(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=za(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=za(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),Pa(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Pa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rc.get(a)||a,Pa(t,a,l))}}function Em(t,i,a,l,f,d){switch(a){case"style":ml(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ol.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Pa(t,a,l)}}}function $t(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}f&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var A=d=_=f=null,N=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Je(t,i,l,X,a,null)}}ec(t,d,A,N,q,_,f,!1);return;case"select":De("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:Je(t,i,f,A,a,null)}i=d,a=_,t.multiple=!!l,i!=null?xi(t,!!l,i,!1):a!=null&&xi(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Je(t,i,_,A,a,null)}Ri(t,l,f,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,i,N,l,a,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<$l.length;l++)De($l[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,q,l,a,null)}return;default:if(Ua(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Em(t,i,X,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Je(t,i,A,l,a,null))}function JA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,A=null,N=null,q=null,X=null;for($ in a){var ee=a[$];if(a.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty($)||Je(t,i,$,null,l,ee)}}for(var F in l){var $=l[F];if(ee=a[F],l.hasOwnProperty(F)&&($!=null||ee!=null))switch(F){case"type":d=$;break;case"name":f=$;break;case"checked":q=$;break;case"defaultChecked":X=$;break;case"value":_=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==ee&&Je(t,i,F,$,l,ee)}}ja(t,_,A,N,q,X,d,f);return;case"select":$=_=A=F=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":$=N;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":F=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==N&&Je(t,i,f,d,l,N)}i=A,a=_,l=$,F!=null?xi(t,!!a,F,!1):!!l!=!!a&&(i!=null?xi(t,!!a,i,!0):xi(t,!!a,a?[]:"",!1));return;case"textarea":$=F=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Je(t,i,A,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":F=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,i,_,f,l,d)}tc(t,F,$);return;case"option":for(var de in a)F=a[de],a.hasOwnProperty(de)&&F!=null&&!l.hasOwnProperty(de)&&(de==="selected"?t.selected=!1:Je(t,i,de,null,l,F));for(N in l)F=l[N],$=a[N],l.hasOwnProperty(N)&&F!==$&&(F!=null||$!=null)&&(N==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":Je(t,i,N,F,l,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)F=a[ve],a.hasOwnProperty(ve)&&F!=null&&!l.hasOwnProperty(ve)&&Je(t,i,ve,null,l,F);for(q in l)if(F=l[q],$=a[q],l.hasOwnProperty(q)&&F!==$&&(F!=null||$!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Je(t,i,q,F,l,$)}return;default:if(Ua(i)){for(var et in a)F=a[et],a.hasOwnProperty(et)&&F!==void 0&&!l.hasOwnProperty(et)&&Em(t,i,et,void 0,l,F);for(X in l)F=l[X],$=a[X],!l.hasOwnProperty(X)||F===$||F===void 0&&$===void 0||Em(t,i,X,F,l,$);return}}for(var j in a)F=a[j],a.hasOwnProperty(j)&&F!=null&&!l.hasOwnProperty(j)&&Je(t,i,j,null,l,F);for(ee in l)F=l[ee],$=a[ee],!l.hasOwnProperty(ee)||F===$||F==null&&$==null||Je(t,i,ee,F,l,$)}function B_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,A=f.duration;if(d&&A&&B_(_)){for(_=0,A=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],q=N.startTime;if(q>A)break;var X=N.transferSize,ee=N.initiatorType;X&&B_(ee)&&(N=N.responseEnd,_+=X*(N<A?1:(A-q)/(N-q)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Tm=null,bm=null;function ih(t){return t.nodeType===9?t:t.ownerDocument}function q_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Am(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Sm=null;function tS(){var t=window.event;return t&&t.type==="popstate"?t===Sm?!1:(Sm=t,!0):(Sm=null,!1)}var F_=typeof setTimeout=="function"?setTimeout:void 0,nS=typeof clearTimeout=="function"?clearTimeout:void 0,G_=typeof Promise=="function"?Promise:void 0,rS=typeof queueMicrotask=="function"?queueMicrotask:typeof G_<"u"?function(t){return G_.resolve(null).then(t).catch(iS)}:F_;function iS(t){setTimeout(function(){throw t})}function Wi(t){return t==="head"}function K_(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),To(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Wl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[Tr]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Wl(t.ownerDocument.body);a=f}while(a);To(i)}function Q_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function wm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wm(a),Va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function sS(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Tr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function aS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function $_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Hn(t.nextSibling),t===null))return null;return t}function xm(t){return t.data==="$?"||t.data==="$~"}function Rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function oS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Im=null;function Y_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Hn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function W_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function X_(t,i,a){switch(i=ih(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Wl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Va(t)}var Fn=new Map,Z_=new Set;function sh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ci=H.d;H.d={f:lS,r:uS,D:cS,C:hS,L:fS,m:dS,X:pS,S:mS,M:gS};function lS(){var t=ci.f(),i=Wc();return t||i}function uS(t){var i=On(t);i!==null&&i.tag===5&&i.type==="form"?p0(i):ci.r(t)}var _o=typeof document>"u"?null:document;function J_(t,i,a){var l=_o;if(l&&typeof i=="string"&&i){var f=un(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Z_.has(f)||(Z_.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),$t(i,"link",t),xt(i),l.head.appendChild(i)))}}function cS(t){ci.D(t),J_("dns-prefetch",t,null)}function hS(t,i){ci.C(t,i),J_("preconnect",t,i)}function fS(t,i,a){ci.L(t,i,a);var l=_o;if(l&&t&&i){var f='link[rel="preload"][as="'+un(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+un(a.imageSizes)+'"]')):f+='[href="'+un(t)+'"]';var d=f;switch(i){case"style":d=vo(t);break;case"script":d=Eo(t)}Fn.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Fn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Xl(d))||i==="script"&&l.querySelector(Zl(d))||(i=l.createElement("link"),$t(i,"link",t),xt(i),l.head.appendChild(i)))}}function dS(t,i){ci.m(t,i);var a=_o;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Eo(t)}if(!Fn.has(d)&&(t=b({rel:"modulepreload",href:t},i),Fn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zl(d)))return}l=a.createElement("link"),$t(l,"link",t),xt(l),a.head.appendChild(l)}}}function mS(t,i,a){ci.S(t,i,a);var l=_o;if(l&&t){var f=Ar(l).hoistableStyles,d=vo(t);i=i||"default";var _=f.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(Xl(d)))A.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Fn.get(d))&&Cm(t,a);var N=_=l.createElement("link");xt(N),$t(N,"link",t),N._p=new Promise(function(q,X){N.onload=q,N.onerror=X}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ah(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(d,_)}}}function pS(t,i){ci.X(t,i);var a=_o;if(a&&t){var l=Ar(a).hoistableScripts,f=Eo(t),d=l.get(f);d||(d=a.querySelector(Zl(f)),d||(t=b({src:t,async:!0},i),(i=Fn.get(f))&&km(t,i),d=a.createElement("script"),xt(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function gS(t,i){ci.M(t,i);var a=_o;if(a&&t){var l=Ar(a).hoistableScripts,f=Eo(t),d=l.get(f);d||(d=a.querySelector(Zl(f)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Fn.get(f))&&km(t,i),d=a.createElement("script"),xt(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function ev(t,i,a,l){var f=(f=Ie.current)?sh(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=vo(a.href),a=Ar(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=vo(a.href);var d=Ar(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Xl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),d||yS(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Eo(a),a=Ar(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function vo(t){return'href="'+un(t)+'"'}function Xl(t){return'link[rel="stylesheet"]['+t+"]"}function tv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function yS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),$t(i,"link",a),xt(i),t.head.appendChild(i))}function Eo(t){return'[src="'+un(t)+'"]'}function Zl(t){return"script[async]"+t}function nv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return i.instance=l,xt(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),$t(l,"style",f),ah(l,a.precedence,t),i.instance=l;case"stylesheet":f=vo(a.href);var d=t.querySelector(Xl(f));if(d)return i.state.loading|=4,i.instance=d,xt(d),d;l=tv(a),(f=Fn.get(f))&&Cm(l,f),d=(t.ownerDocument||t).createElement("link"),xt(d);var _=d;return _._p=new Promise(function(A,N){_.onload=A,_.onerror=N}),$t(d,"link",l),i.state.loading|=4,ah(d,a.precedence,t),i.instance=d;case"script":return d=Eo(a.src),(f=t.querySelector(Zl(d)))?(i.instance=f,xt(f),f):(l=a,(f=Fn.get(d))&&(l=b({},a),km(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),xt(f),$t(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,ah(l,a.precedence,t));return i.instance}function ah(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===i)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function km(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var oh=null;function rv(t,i,a){if(oh===null){var l=new Map,f=oh=new Map;f.set(a,l)}else f=oh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Tr]||d[wt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function iv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function _S(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function sv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function vS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=vo(l.href),d=i.querySelector(Xl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=lh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,xt(d);return}d=i.ownerDocument||i,l=tv(l),(f=Fn.get(f))&&Cm(l,f),d=d.createElement("link"),xt(d);var _=d;_._p=new Promise(function(A,N){_.onload=A,_.onerror=N}),$t(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=lh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Nm=0;function ES(t,i){return t.stylesheets&&t.count===0&&ch(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ch(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Nm===0&&(Nm=62500*eS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ch(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Nm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function lh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uh=null;function ch(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uh=new Map,i.forEach(TS,t),uh=null,lh.call(t))}function TS(t,i){if(!(i.state.loading&4)){var a=uh.get(t);if(a)var l=a.get(null);else{a=new Map,uh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=lh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Jl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function bS(t,i,a,l,f,d,_,A,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.hiddenUpdates=vr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function av(t,i,a,l,f,d,_,A,N,q,X,ee){return t=new bS(t,i,a,_,N,q,X,ee,A),i=1,d===!0&&(i|=24),d=bn(3,null,null,i),t.current=d,d.stateNode=t,i=cd(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},md(d),t}function ov(t){return t?(t=Wa,t):Wa}function lv(t,i,a,l,f,d){f=ov(f),l.context===null?l.context=f:l.pendingContext=f,l=Ui(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=zi(t,l,i),a!==null&&(pn(a,t,i),Nl(a,t,i))}function uv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Dm(t,i){uv(t,i),(t=t.alternate)&&uv(t,i)}function cv(t){if(t.tag===13||t.tag===31){var i=Gs(t,67108864);i!==null&&pn(i,t,67108864),Dm(t,67108864)}}function hv(t){if(t.tag===13||t.tag===31){var i=Rn();i=Os(i);var a=Gs(t,i);a!==null&&pn(a,t,i),Dm(t,i)}}var hh=!0;function AS(t,i,a,l){var f=W.T;W.T=null;var d=H.p;try{H.p=2,Om(t,i,a,l)}finally{H.p=d,W.T=f}}function SS(t,i,a,l){var f=W.T;W.T=null;var d=H.p;try{H.p=8,Om(t,i,a,l)}finally{H.p=d,W.T=f}}function Om(t,i,a,l){if(hh){var f=Mm(l);if(f===null)vm(t,i,l,fh,a),dv(t,l);else if(xS(f,t,i,a,l))l.stopPropagation();else if(dv(t,l),i&4&&-1<wS.indexOf(t)){for(;f!==null;){var d=On(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=yr(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var N=1<<31-gt(_);A.entanglements[1]|=N,_&=~N}Vr(d),(Ge&6)===0&&($c=sn()+500,Ql(0))}}break;case 31:case 13:A=Gs(d,2),A!==null&&pn(A,d,2),Wc(),Dm(d,2)}if(d=Mm(l),d===null&&vm(t,i,l,fh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else vm(t,i,l,null,a)}}function Mm(t){return t=Mn(t),Lm(t)}var fh=null;function Lm(t){if(fh=null,t=br(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return fh=t,null}function fv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cs()){case nl:return 2;case rl:return 8;case Si:case Bf:return 32;case Fu:return 268435456;default:return 32}default:return 32}}var Vm=!1,Xi=null,Zi=null,Ji=null,eu=new Map,tu=new Map,es=[],wS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dv(t,i){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":eu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(i.pointerId)}}function nu(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=On(i),i!==null&&cv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function xS(t,i,a,l,f){switch(i){case"focusin":return Xi=nu(Xi,t,i,a,l,f),!0;case"dragenter":return Zi=nu(Zi,t,i,a,l,f),!0;case"mouseover":return Ji=nu(Ji,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return eu.set(d,nu(eu.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,tu.set(d,nu(tu.get(d)||null,t,i,a,l,f)),!0}return!1}function mv(t){var i=br(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Xn(t.priority,function(){hv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Xn(t.priority,function(){hv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);pl=l,a.target.dispatchEvent(l),pl=null}else return i=On(a),i!==null&&cv(i),t.blockedOn=a,!1;i.shift()}return!0}function pv(t,i,a){dh(t)&&a.delete(i)}function RS(){Vm=!1,Xi!==null&&dh(Xi)&&(Xi=null),Zi!==null&&dh(Zi)&&(Zi=null),Ji!==null&&dh(Ji)&&(Ji=null),eu.forEach(pv),tu.forEach(pv)}function mh(t,i){t.blockedOn===i&&(t.blockedOn=null,Vm||(Vm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,RS)))}var ph=null;function gv(t){ph!==t&&(ph=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ph===t&&(ph=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(Lm(l||a)===null)continue;break}var d=On(a);d!==null&&(t.splice(i,3),i-=3,Md(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function To(t){function i(N){return mh(N,t)}Xi!==null&&mh(Xi,t),Zi!==null&&mh(Zi,t),Ji!==null&&mh(Ji,t),eu.forEach(i),tu.forEach(i);for(var a=0;a<es.length;a++){var l=es[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<es.length&&(a=es[0],a.blockedOn===null);)mv(a),a.blockedOn===null&&es.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Ut]||null;if(typeof d=="function")_||gv(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Ut]||null)A=_.formAction;else if(Lm(f)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),gv(a)}}}function yv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Pm(t){this._internalRoot=t}gh.prototype.render=Pm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Rn();lv(a,l,t,i,null,null)},gh.prototype.unmount=Pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;lv(t.current,2,null,t,null,null),Wc(),i[Er]=null}};function gh(t){this._internalRoot=t}gh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Wu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<es.length&&i!==0&&i<es[a].priority;a++);es.splice(a,0,t),a===0&&mv(t)}};var _v=e.version;if(_v!=="19.2.3")throw Error(s(527,_v,"19.2.3"));H.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var IS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{Yn=yh.inject(IS),Ht=yh}catch{}}return iu.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=w0,d=x0,_=R0;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=av(t,1,!1,null,null,a,l,null,f,d,_,yv),t[Er]=i.current,_m(t),new Pm(i)},iu.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=w0,_=x0,A=R0,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=av(t,1,!0,i,a??null,l,f,N,d,_,A,yv),i.context=ov(null),a=i.current,l=Rn(),l=Os(l),f=Ui(l),f.callback=null,zi(a,f,l),a=l,i.current.lanes=a,Ns(i,a),Vr(i),t[Er]=i.current,_m(t),new gh(i)},iu.version="19.2.3",iu}var Iv;function US(){if(Iv)return zm.exports;Iv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zm.exports=jS(),zm.exports}var zS=US();var Cv="popstate";function BS(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return up("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:vu(o)}return HS(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Qn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qS(){return Math.random().toString(36).substring(2,10)}function kv(r,e){return{usr:r.state,key:r.key,idx:e}}function up(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Bo(e):e,state:n,key:e&&e.key||s||qS()}}function vu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Bo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function HS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,p=E();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function E(){return(h.state||{idx:null}).idx}function b(){m="POP";let Y=E(),ie=Y==null?null:Y-p;p=Y,g&&g({action:m,location:K.location,delta:ie})}function w(Y,ie){m="PUSH";let re=up(K.location,Y,ie);p=E()+1;let ae=kv(re,p),se=K.createHref(re);try{h.pushState(ae,"",se)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;o.location.assign(se)}u&&g&&g({action:m,location:K.location,delta:1})}function M(Y,ie){m="REPLACE";let re=up(K.location,Y,ie);p=E();let ae=kv(re,p),se=K.createHref(re);h.replaceState(ae,"",se),u&&g&&g({action:m,location:K.location,delta:0})}function G(Y){return FS(Y)}let K={get action(){return m},get location(){return r(o,h)},listen(Y){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Cv,b),g=Y,()=>{o.removeEventListener(Cv,b),g=null}},createHref(Y){return e(o,Y)},createURL:G,encodeLocation(Y){let ie=G(Y);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:w,replace:M,go(Y){return h.go(Y)}};return K}function FS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:vu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function AE(r,e,n="/"){return GS(r,e,n,!1)}function GS(r,e,n,s){let o=typeof e=="string"?Bo(e):e,u=gi(o.pathname||"/",n);if(u==null)return null;let h=SE(r);KS(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=rw(u);m=tw(h[g],p,s)}return m}function SE(r,e=[],n=[],s="",o=!1){let u=(h,m,g=o,p)=>{let E={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=mi([s,E.relativePath]),w=n.concat(E);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),SE(h.children,e,w,b,g)),!(h.path==null&&!h.index)&&e.push({path:b,score:JS(b,h.index),routesMeta:w})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of wE(h.path))u(h,m,!0,g)}),e}function wE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=wE(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function KS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:ew(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var QS=/^:[\w-]+$/,$S=3,YS=2,WS=1,XS=10,ZS=-2,Nv=r=>r==="*";function JS(r,e){let n=r.split("/"),s=n.length;return n.some(Nv)&&(s+=ZS),e&&(s+=YS),n.filter(o=>!Nv(o)).reduce((o,u)=>o+(QS.test(u)?$S:u===""?WS:XS),s)}function ew(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function tw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Ph({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),w=g.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=Ph({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:mi([u,b.pathname]),pathnameBase:ow(mi([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=mi([u,b.pathnameBase]))}return h}function Ph(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=nw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:b},w)=>{if(E==="*"){let G=m[w]||"";h=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const M=m[w];return b&&!M?p[E]=void 0:p[E]=(M||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:r}}function nw(r,e=!1,n=!0){Qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function rw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function gi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var xE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iw=r=>xE.test(r);function sw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Bo(r):r,u;if(n)if(iw(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=Dv(n.substring(1),"/"):u=Dv(n,e)}else u=e;return{pathname:u,search:lw(s),hash:uw(o)}}function Dv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Fm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Up(r){let e=aw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function zp(r,e,n,s=!1){let o;typeof r=="string"?o=Bo(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),Fm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Fm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Fm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?e[b]:"/"}let g=sw(o,m),p=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var mi=r=>r.join("/").replace(/\/\/+/g,"/"),ow=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),lw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,uw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,cw=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function hw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function fw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var RE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function IE(r,e){let n=r;if(typeof n!="string"||!xE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(RE)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=gi(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Qn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CE=["POST","PUT","PATCH","DELETE"];new Set(CE);var dw=["GET",...CE];new Set(dw);var qo=P.createContext(null);qo.displayName="DataRouter";var uf=P.createContext(null);uf.displayName="DataRouterState";var mw=P.createContext(!1),kE=P.createContext({isTransitioning:!1});kE.displayName="ViewTransition";var pw=P.createContext(new Map);pw.displayName="Fetchers";var gw=P.createContext(null);gw.displayName="Await";var Nn=P.createContext(null);Nn.displayName="Navigation";var Nu=P.createContext(null);Nu.displayName="Location";var Gr=P.createContext({outlet:null,matches:[],isDataRoute:!1});Gr.displayName="Route";var Bp=P.createContext(null);Bp.displayName="RouteError";var NE="REACT_ROUTER_ERROR",yw="REDIRECT",_w="ROUTE_ERROR_RESPONSE";function vw(r){if(r.startsWith(`${NE}:${yw}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Ew(r){if(r.startsWith(`${NE}:${_w}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new cw(e.status,e.statusText,e.data)}catch{}}function Tw(r,{relative:e}={}){ut(Ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(Nn),{hash:o,pathname:u,search:h}=Du(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:mi([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Ho(){return P.useContext(Nu)!=null}function Ti(){return ut(Ho(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Nu).location}var DE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OE(r){P.useContext(Nn).static||P.useLayoutEffect(r)}function qp(){let{isDataRoute:r}=P.useContext(Gr);return r?Mw():bw()}function bw(){ut(Ho(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(qo),{basename:e,navigator:n}=P.useContext(Nn),{matches:s}=P.useContext(Gr),{pathname:o}=Ti(),u=JSON.stringify(Up(s)),h=P.useRef(!1);return OE(()=>{h.current=!0}),P.useCallback((g,p={})=>{if(Qn(h.current,DE),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=zp(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:mi([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,r])}P.createContext(null);function Du(r,{relative:e}={}){let{matches:n}=P.useContext(Gr),{pathname:s}=Ti(),o=JSON.stringify(Up(n));return P.useMemo(()=>zp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Aw(r,e){return ME(r,e)}function ME(r,e,n,s,o){ut(Ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(Nn),{matches:h}=P.useContext(Gr),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let re=b&&b.path||"";VE(p,!b||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let w=Ti(),M;if(e){let re=typeof e=="string"?Bo(e):e;ut(E==="/"||re.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${re.pathname}" was given in the \`location\` prop.`),M=re}else M=w;let G=M.pathname||"/",K=G;if(E!=="/"){let re=E.replace(/^\//,"").split("/");K="/"+G.replace(/^\//,"").split("/").slice(re.length).join("/")}let Y=AE(r,{pathname:K});Qn(b||Y!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Qn(Y==null||Y[Y.length-1].route.element!==void 0||Y[Y.length-1].route.Component!==void 0||Y[Y.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ie=Iw(Y&&Y.map(re=>Object.assign({},re,{params:Object.assign({},g,re.params),pathname:mi([E,u.encodeLocation?u.encodeLocation(re.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?E:mi([E,u.encodeLocation?u.encodeLocation(re.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathnameBase])})),h,n,s,o);return e&&ie?P.createElement(Nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},ie):ie}function Sw(){let r=Ow(),e=hw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,h)}var ww=P.createElement(Sw,null),LE=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Ew(r.digest);n&&(r=n)}let e=r!==void 0?P.createElement(Gr.Provider,{value:this.props.routeContext},P.createElement(Bp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?P.createElement(xw,{error:r},e):e}};LE.contextType=mw;var Gm=new WeakMap;function xw({children:r,error:e}){let{basename:n}=P.useContext(Nn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=vw(e.digest);if(s){let o=Gm.get(e);if(o)throw o;let u=IE(s.location,n);if(RE&&!Gm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Gm.set(e,h),h}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Rw({routeContext:r,match:e,children:n}){let s=P.useContext(qo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Gr.Provider,{value:r},n)}function Iw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let E=u.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);ut(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let b=u[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=E),b.route.id){let{loaderData:w,errors:M}=n,G=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!M||M[b.route.id]===void 0);if(b.route.lazy||G){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&s?(E,b)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:fw(n.matches),errorInfo:b})}:void 0;return u.reduceRight((E,b,w)=>{let M,G=!1,K=null,Y=null;n&&(M=h&&b.route.id?h[b.route.id]:void 0,K=b.route.errorElement||ww,m&&(g<0&&w===0?(VE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,Y=null):g===w&&(G=!0,Y=b.route.hydrateFallbackElement||null)));let ie=e.concat(u.slice(0,w+1)),re=()=>{let ae;return M?ae=K:G?ae=Y:b.route.Component?ae=P.createElement(b.route.Component,null):b.route.element?ae=b.route.element:ae=E,P.createElement(Rw,{match:b,routeContext:{outlet:E,matches:ie,isDataRoute:n!=null},children:ae})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?P.createElement(LE,{location:n.location,revalidation:n.revalidation,component:K,error:M,children:re(),routeContext:{outlet:null,matches:ie,isDataRoute:!0},onError:p}):re()},null)}function Hp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cw(r){let e=P.useContext(qo);return ut(e,Hp(r)),e}function kw(r){let e=P.useContext(uf);return ut(e,Hp(r)),e}function Nw(r){let e=P.useContext(Gr);return ut(e,Hp(r)),e}function Fp(r){let e=Nw(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Dw(){return Fp("useRouteId")}function Ow(){let r=P.useContext(Bp),e=kw("useRouteError"),n=Fp("useRouteError");return r!==void 0?r:e.errors?.[n]}function Mw(){let{router:r}=Cw("useNavigate"),e=Fp("useNavigate"),n=P.useRef(!1);return OE(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{Qn(n.current,DE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Ov={};function VE(r,e,n){!e&&!Ov[r]&&(Ov[r]=!0,Qn(!1,n))}P.memo(Lw);function Lw({routes:r,future:e,state:n,onError:s}){return ME(r,void 0,n,s,e)}function PE({to:r,replace:e,state:n,relative:s}){ut(Ho(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(Nn);Qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(Gr),{pathname:h}=Ti(),m=qp(),g=zp(r,Up(u),h,s==="path"),p=JSON.stringify(g);return P.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function hi(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Vw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ut(!Ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=P.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=Bo(n));let{pathname:p="/",search:E="",hash:b="",state:w=null,key:M="default"}=n,G=P.useMemo(()=>{let K=gi(p,m);return K==null?null:{location:{pathname:K,search:E,hash:b,state:w,key:M},navigationType:s}},[m,p,E,b,w,M,s]);return Qn(G!=null,`<Router basename="${m}"> is not able to match the URL "${p}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:P.createElement(Nn.Provider,{value:g},P.createElement(Nu.Provider,{children:e,value:G}))}function Pw({children:r,location:e}){return Aw(cp(r),e)}function cp(r,e=[]){let n=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,cp(s.props.children,u));return}ut(s.type===hi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=cp(s.props.children,u)),n.push(h)}),n}var wh="get",xh="application/x-www-form-urlencoded";function cf(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function jw(r){return cf(r)&&r.tagName.toLowerCase()==="button"}function Uw(r){return cf(r)&&r.tagName.toLowerCase()==="form"}function zw(r){return cf(r)&&r.tagName.toLowerCase()==="input"}function Bw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function qw(r,e){return r.button===0&&(!e||e==="_self")&&!Bw(r)}var _h=null;function Hw(){if(_h===null)try{new FormData(document.createElement("form"),0),_h=!1}catch{_h=!0}return _h}var Fw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Km(r){return r!=null&&!Fw.has(r)?(Qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xh}"`),null):r}function Gw(r,e){let n,s,o,u,h;if(Uw(r)){let m=r.getAttribute("action");s=m?gi(m,e):null,n=r.getAttribute("method")||wh,o=Km(r.getAttribute("enctype"))||xh,u=new FormData(r)}else if(jw(r)||zw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?gi(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||wh,o=Km(r.getAttribute("formenctype"))||Km(m.getAttribute("enctype"))||xh,u=new FormData(m,r),!Hw()){let{name:p,type:E,value:b}=r;if(E==="image"){let w=p?`${p}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else p&&u.append(p,b)}}else{if(cf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wh,s=null,o=xh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Kw(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&gi(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Qw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $w(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Yw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Qw(u,n);return h.links?h.links():[]}return[]}));return Jw(s.flat(1).filter($w).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Mv(r,e,n,s,o,u){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Ww(r,e,{includeHydrateFallback:n}={}){return Xw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Xw(r){return[...new Set(r)]}function Zw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Jw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Zw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function jE(){let r=P.useContext(qo);return Gp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ex(){let r=P.useContext(uf);return Gp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Kp=P.createContext(void 0);Kp.displayName="FrameworkContext";function UE(){let r=P.useContext(Kp);return Gp(r,"You must render this element inside a <HydratedRouter> element"),r}function tx(r,e){let n=P.useContext(Kp),[s,o]=P.useState(!1),[u,h]=P.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:b}=e,w=P.useRef(null);P.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let K=ie=>{ie.forEach(re=>{h(re.isIntersecting)})},Y=new IntersectionObserver(K,{threshold:.5});return w.current&&Y.observe(w.current),()=>{Y.disconnect()}}},[r]),P.useEffect(()=>{if(s){let K=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(K)}}},[s]);let M=()=>{o(!0)},G=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:su(m,M),onBlur:su(g,G),onMouseEnter:su(p,M),onMouseLeave:su(E,G),onTouchStart:su(b,M)}]:[!1,w,{}]}function su(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function nx({page:r,...e}){let{router:n}=jE(),s=P.useMemo(()=>AE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?P.createElement(ix,{page:r,matches:s,...e}):null}function rx(r){let{manifest:e,routeModules:n}=UE(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return Yw(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function ix({page:r,matches:e,...n}){let s=Ti(),{future:o,manifest:u,routeModules:h}=UE(),{basename:m}=jE(),{loaderData:g,matches:p}=ex(),E=P.useMemo(()=>Mv(r,e,p,u,s,"data"),[r,e,p,u,s]),b=P.useMemo(()=>Mv(r,e,p,u,s,"assets"),[r,e,p,u,s]),w=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let K=new Set,Y=!1;if(e.forEach(re=>{let ae=u.routes[re.route.id];!ae||!ae.hasLoader||(!E.some(se=>se.route.id===re.route.id)&&re.route.id in g&&h[re.route.id]?.shouldRevalidate||ae.hasClientLoader?Y=!0:K.add(re.route.id))}),K.size===0)return[];let ie=Kw(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return Y&&K.size>0&&ie.searchParams.set("_routes",e.filter(re=>K.has(re.route.id)).map(re=>re.route.id).join(",")),[ie.pathname+ie.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,e,r,h]),M=P.useMemo(()=>Ww(b,u),[b,u]),G=rx(b);return P.createElement(P.Fragment,null,w.map(K=>P.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...n})),M.map(K=>P.createElement("link",{key:K,rel:"modulepreload",href:K,...n})),G.map(({key:K,link:Y})=>P.createElement("link",{key:K,nonce:n.nonce,...Y})))}function sx(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ax=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ax&&(window.__reactRouterVersion="7.12.0")}catch{}function ox({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=P.useRef();o.current==null&&(o.current=BS({window:s,v5Compat:!0}));let u=o.current,[h,m]=P.useState({action:u.action,location:u.location}),g=P.useCallback(p=>{n===!1?m(p):P.startTransition(()=>m(p))},[n]);return P.useLayoutEffect(()=>u.listen(g),[u,g]),P.createElement(Vw,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var zE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jh=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:w,...M},G){let{basename:K,unstable_useTransitions:Y}=P.useContext(Nn),ie=typeof p=="string"&&zE.test(p),re=IE(p,K);p=re.to;let ae=Tw(p,{relative:o}),[se,pe,me]=tx(s,M),C=hx(p,{replace:h,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:Y});function x(O){e&&e(O),O.defaultPrevented||C(O)}let I=P.createElement("a",{...M,...me,href:re.absoluteURL||ae,onClick:re.isExternal||u?e:x,ref:sx(G,pe),target:g,"data-discover":!ie&&n==="render"?"true":void 0});return se&&!ie?P.createElement(P.Fragment,null,I,P.createElement(nx,{page:ae})):I});jh.displayName="Link";var lx=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},E){let b=Du(h,{relative:p.relative}),w=Ti(),M=P.useContext(uf),{navigator:G,basename:K}=P.useContext(Nn),Y=M!=null&&gx(b)&&m===!0,ie=G.encodeLocation?G.encodeLocation(b).pathname:b.pathname,re=w.pathname,ae=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(re=re.toLowerCase(),ae=ae?ae.toLowerCase():null,ie=ie.toLowerCase()),ae&&K&&(ae=gi(ae,K)||ae);const se=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let pe=re===ie||!o&&re.startsWith(ie)&&re.charAt(se)==="/",me=ae!=null&&(ae===ie||!o&&ae.startsWith(ie)&&ae.charAt(ie.length)==="/"),C={isActive:pe,isPending:me,isTransitioning:Y},x=pe?e:void 0,I;typeof s=="function"?I=s(C):I=[s,pe?"active":null,me?"pending":null,Y?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(C):u;return P.createElement(jh,{...p,"aria-current":x,className:I,ref:E,style:O,to:h,viewTransition:m},typeof g=="function"?g(C):g)});lx.displayName="NavLink";var ux=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=wh,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:w,...M},G)=>{let{unstable_useTransitions:K}=P.useContext(Nn),Y=mx(),ie=px(m,{relative:p}),re=h.toLowerCase()==="get"?"get":"post",ae=typeof m=="string"&&zE.test(m),se=pe=>{if(g&&g(pe),pe.defaultPrevented)return;pe.preventDefault();let me=pe.nativeEvent.submitter,C=me?.getAttribute("formmethod")||h,x=()=>Y(me||pe.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:w});K&&n!==!1?P.startTransition(()=>x()):x()};return P.createElement("form",{ref:G,method:re,action:ie,onSubmit:s?g:se,...M,"data-discover":!ae&&r==="render"?"true":void 0})});ux.displayName="Form";function cx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BE(r){let e=P.useContext(qo);return ut(e,cx(r)),e}function hx(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=qp(),E=Ti(),b=Du(r,{relative:u});return P.useCallback(w=>{if(qw(w,e)){w.preventDefault();let M=n!==void 0?n:vu(E)===vu(b),G=()=>p(r,{replace:M,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});g?P.startTransition(()=>G()):G()}},[E,p,b,n,s,e,r,o,u,h,m,g])}var fx=0,dx=()=>`__${String(++fx)}__`;function mx(){let{router:r}=BE("useSubmit"),{basename:e}=P.useContext(Nn),n=Dw(),s=r.fetch,o=r.navigate;return P.useCallback(async(u,h={})=>{let{action:m,method:g,encType:p,formData:E,body:b}=Gw(u,e);if(h.navigate===!1){let w=h.fetcherKey||dx();await s(w,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:b,formMethod:h.method||g,formEncType:h.encType||p,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:b,formMethod:h.method||g,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function px(r,{relative:e}={}){let{basename:n}=P.useContext(Nn),s=P.useContext(Gr);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Du(r||".",{relative:e})},h=Ti();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:mi([n,u.pathname])),vu(u)}function gx(r,{relative:e}={}){let n=P.useContext(kE);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=BE("useViewTransitionState"),o=Du(r,{relative:e});if(!n.isTransitioning)return!1;let u=gi(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=gi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ph(o.pathname,h)!=null||Ph(o.pathname,u)!=null}const yx=()=>{};var Lv={};const qE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},_x=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},HE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|p>>6,M=p&63;g||(M=64,h||(w=64)),s.push(n[E],n[b],n[w],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(qE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):_x(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||b==null)throw new vx;const w=u<<2|m>>4;if(s.push(w),p!==64){const M=m<<4&240|p>>2;if(s.push(M),b!==64){const G=p<<6&192|b;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class vx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ex=function(r){const e=qE(r);return HE.encodeByteArray(e,!0)},Uh=function(r){return Ex(r).replace(/\./g,"")},FE=function(r){try{return HE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Tx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bx=()=>Tx().__FIREBASE_DEFAULTS__,Ax=()=>{if(typeof process>"u"||typeof Lv>"u")return;const r=Lv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Sx=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&FE(r[1]);return e&&JSON.parse(e)},hf=()=>{try{return yx()||bx()||Ax()||Sx()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},GE=r=>hf()?.emulatorHosts?.[r],wx=r=>{const e=GE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},KE=()=>hf()?.config,QE=r=>hf()?.[`_${r}`];class xx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Fo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $E(r){return(await fetch(r,{credentials:"include"})).ok}function Rx(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Uh(JSON.stringify(n)),Uh(JSON.stringify(h)),""].join(".")}const du={};function Ix(){const r={prod:[],emulator:[]};for(const e of Object.keys(du))du[e]?r.emulator.push(e):r.prod.push(e);return r}function Cx(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Vv=!1;function YE(r,e){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||du[r]===e||du[r]||Vv)return;du[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=Ix().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,M){w.setAttribute("width","24"),w.setAttribute("id",M),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Vv=!0,h()},w}function E(w,M){w.setAttribute("id",M),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=Cx(s),M=n("text"),G=document.getElementById(M)||document.createElement("span"),K=n("learnmore"),Y=document.getElementById(K)||document.createElement("a"),ie=n("preprendIcon"),re=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ae=w.element;m(ae),E(Y,K);const se=p();g(re,ie),ae.append(re,G,Y,se),document.body.appendChild(ae)}u?(G.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function Nx(){const r=hf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Dx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Ox(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Mx(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Lx(){return!Nx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XE(){try{return typeof indexedDB=="object"}catch{return!1}}function ZE(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function Vx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Px="FirebaseError";class mr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Px,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ga.prototype.create)}}class ga{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?jx(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new mr(o,m,s)}}function jx(r,e){return r.replace(Ux,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Ux=/\{\$([^}]+)}/g;function zx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ds(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(Pv(u)&&Pv(h)){if(!ds(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Pv(r){return r!==null&&typeof r=="object"}function Ou(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ou(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function lu(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Bx(r,e){const n=new qx(r,e);return n.subscribe.bind(n)}class qx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Hx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Qm),o.error===void 0&&(o.error=Qm),o.complete===void 0&&(o.complete=Qm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hx(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Qm(){}const Fx=1e3,Gx=2,Kx=14400*1e3,Qx=.5;function jv(r,e=Fx,n=Gx){const s=e*Math.pow(n,r),o=Math.round(Qx*s*(Math.random()-.5)*2);return Math.min(Kx,s+o)}function pt(r){return r&&r._delegate?r._delegate:r}class hr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const sa="[DEFAULT]";class $x{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new xx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Wx(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Yx(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yx(r){return r===sa?void 0:r}function Wx(r){return r.instantiationMode==="EAGER"}class Xx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $x(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const Zx={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},Jx=Le.INFO,eR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},tR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=eR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ff{constructor(e){this.name=e,this._logLevel=Jx,this._logHandler=tR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const nR=(r,e)=>e.some(n=>r instanceof n);let Uv,zv;function rR(){return Uv||(Uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iR(){return zv||(zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JE=new WeakMap,hp=new WeakMap,eT=new WeakMap,$m=new WeakMap,Qp=new WeakMap;function sR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(ls(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&JE.set(n,r)}).catch(()=>{}),Qp.set(e,r),e}function aR(r){if(hp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});hp.set(r,e)}let fp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return hp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||eT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function oR(r){fp=r(fp)}function lR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Ym(this),e,...n);return eT.set(s,e.sort?e.sort():[e]),ls(s)}:iR().includes(r)?function(...e){return r.apply(Ym(this),e),ls(JE.get(this))}:function(...e){return ls(r.apply(Ym(this),e))}}function uR(r){return typeof r=="function"?lR(r):(r instanceof IDBTransaction&&aR(r),nR(r,rR())?new Proxy(r,fp):r)}function ls(r){if(r instanceof IDBRequest)return sR(r);if($m.has(r))return $m.get(r);const e=uR(r);return e!==r&&($m.set(r,e),Qp.set(e,r)),e}const Ym=r=>Qp.get(r);function tT(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=ls(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ls(h.result),g.oldVersion,g.newVersion,ls(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const cR=["get","getKey","getAll","getAllKeys","count"],hR=["put","add","delete","clear"],Wm=new Map;function Bv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=hR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||cR.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Wm.set(e,u),u}oR(r=>({...r,get:(e,n,s)=>Bv(e,n)||r.get(e,n,s),has:(e,n)=>!!Bv(e,n)||r.has(e,n)}));class fR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function dR(r){return r.getComponent()?.type==="VERSION"}const dp="@firebase/app",qv="0.14.7";const yi=new ff("@firebase/app"),mR="@firebase/app-compat",pR="@firebase/analytics-compat",gR="@firebase/analytics",yR="@firebase/app-check-compat",_R="@firebase/app-check",vR="@firebase/auth",ER="@firebase/auth-compat",TR="@firebase/database",bR="@firebase/data-connect",AR="@firebase/database-compat",SR="@firebase/functions",wR="@firebase/functions-compat",xR="@firebase/installations",RR="@firebase/installations-compat",IR="@firebase/messaging",CR="@firebase/messaging-compat",kR="@firebase/performance",NR="@firebase/performance-compat",DR="@firebase/remote-config",OR="@firebase/remote-config-compat",MR="@firebase/storage",LR="@firebase/storage-compat",VR="@firebase/firestore",PR="@firebase/ai",jR="@firebase/firestore-compat",UR="firebase",zR="12.8.0";const mp="[DEFAULT]",BR={[dp]:"fire-core",[mR]:"fire-core-compat",[gR]:"fire-analytics",[pR]:"fire-analytics-compat",[_R]:"fire-app-check",[yR]:"fire-app-check-compat",[vR]:"fire-auth",[ER]:"fire-auth-compat",[TR]:"fire-rtdb",[bR]:"fire-data-connect",[AR]:"fire-rtdb-compat",[SR]:"fire-fn",[wR]:"fire-fn-compat",[xR]:"fire-iid",[RR]:"fire-iid-compat",[IR]:"fire-fcm",[CR]:"fire-fcm-compat",[kR]:"fire-perf",[NR]:"fire-perf-compat",[DR]:"fire-rc",[OR]:"fire-rc-compat",[MR]:"fire-gcs",[LR]:"fire-gcs-compat",[VR]:"fire-fst",[jR]:"fire-fst-compat",[PR]:"fire-vertex","fire-js":"fire-js",[UR]:"fire-js-all"};const zh=new Map,qR=new Map,pp=new Map;function Hv(r,e){try{r.container.addComponent(e)}catch(n){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Hr(r){const e=r.name;if(pp.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;pp.set(e,r);for(const n of zh.values())Hv(n,r);for(const n of qR.values())Hv(n,r);return!0}function ya(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function or(r){return r==null?!1:r.settings!==void 0}const HR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new ga("app","Firebase",HR);class FR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}const Go=zR;function nT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:mp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw us.create("bad-app-name",{appName:String(o)});if(n||(n=KE()),!n)throw us.create("no-options");const u=zh.get(o);if(u){if(ds(n,u.options)&&ds(s,u.config))return u;throw us.create("duplicate-app",{appName:o})}const h=new Xx(o);for(const g of pp.values())h.addComponent(g);const m=new FR(n,s,h);return zh.set(o,m),m}function $p(r=mp){const e=zh.get(r);if(!e&&r===mp&&KE())return nT();if(!e)throw us.create("no-app",{appName:r});return e}function Kn(r,e,n){let s=BR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(h.join(" "));return}Hr(new hr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const GR="firebase-heartbeat-database",KR=1,Eu="firebase-heartbeat-store";let Xm=null;function rT(){return Xm||(Xm=tT(GR,KR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Eu)}catch(n){console.warn(n)}}}}).catch(r=>{throw us.create("idb-open",{originalErrorMessage:r.message})})),Xm}async function QR(r){try{const n=(await rT()).transaction(Eu),s=await n.objectStore(Eu).get(iT(r));return await n.done,s}catch(e){if(e instanceof mr)yi.warn(e.message);else{const n=us.create("idb-get",{originalErrorMessage:e?.message});yi.warn(n.message)}}}async function Fv(r,e){try{const s=(await rT()).transaction(Eu,"readwrite");await s.objectStore(Eu).put(e,iT(r)),await s.done}catch(n){if(n instanceof mr)yi.warn(n.message);else{const s=us.create("idb-set",{originalErrorMessage:n?.message});yi.warn(s.message)}}}function iT(r){return`${r.name}!${r.options.appId}`}const $R=1024,YR=30;class WR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Gv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>YR){const o=JR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Gv(),{heartbeatsToSend:n,unsentEntries:s}=XR(this._heartbeatsCache.heartbeats),o=Uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return yi.warn(e),""}}}function Gv(){return new Date().toISOString().substring(0,10)}function XR(r,e=$R){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Kv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Kv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ZR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XE()?ZE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Fv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Fv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Kv(r){return Uh(JSON.stringify({version:2,heartbeats:r})).length}function JR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function eI(r){Hr(new hr("platform-logger",e=>new fR(e),"PRIVATE")),Hr(new hr("heartbeat",e=>new WR(e),"PRIVATE")),Kn(dp,qv,r),Kn(dp,qv,"esm2020"),Kn("fire-js","")}eI("");function sT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tI=sT,aT=new ga("auth","Firebase",sT());const Bh=new ff("@firebase/auth");function nI(r,...e){Bh.logLevel<=Le.WARN&&Bh.warn(`Auth (${Go}): ${r}`,...e)}function Rh(r,...e){Bh.logLevel<=Le.ERROR&&Bh.error(`Auth (${Go}): ${r}`,...e)}function fr(r,...e){throw Yp(r,...e)}function jr(r,...e){return Yp(r,...e)}function oT(r,e,n){const s={...tI(),[e]:n};return new ga("auth","Firebase",s).create(e,{appName:r.name})}function cs(r){return oT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return aT.create(r,...e)}function Ee(r,e,...n){if(!r)throw Yp(e,...n)}function fi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Rh(e),new Error(e)}function _i(r,e){r||fi(e)}function gp(){return typeof self<"u"&&self.location?.href||""}function rI(){return Qv()==="http:"||Qv()==="https:"}function Qv(){return typeof self<"u"&&self.location?.protocol||null}function iI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rI()||WE()||"connection"in navigator)?navigator.onLine:!0}function sI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,_i(n>e,"Short delay should be less than long delay!"),this.isMobile=kx()||Ox()}get(){return iI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wp(r,e){_i(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class lT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const aI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const oI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lI=new Mu(3e4,6e4);function _a(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ts(r,e,n,s,o={}){return uT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Ou({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...u};return Dx()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Fo(r.emulatorConfig.host)&&(p.credentials="include"),lT.fetch()(await cT(r,r.config.apiHost,n,m),p)})}async function uT(r,e,n){r._canInitEmulator=!1;const s={...aI,...e};try{const o=new cI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw vh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw vh(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw vh(r,"user-disabled",h);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw oT(r,E,p);fr(r,E)}}catch(o){if(o instanceof mr)throw o;fr(r,"network-request-failed",{message:String(o)})}}async function df(r,e,n,s,o={}){const u=await Ts(r,e,n,s,o);return"mfaPendingCredential"in u&&fr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function cT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Wp(r.config,o):`${r.config.apiScheme}://${o}`;return oI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function uI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(jr(this.auth,"network-request-failed")),lI.get())})}}function vh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=jr(r,e,s);return o.customData._tokenResponse=n,o}function $v(r){return r!==void 0&&r.enterprise!==void 0}class hI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fI(r,e){return Ts(r,"GET","/v2/recaptchaConfig",_a(r,e))}async function dI(r,e){return Ts(r,"POST","/v1/accounts:delete",e)}async function qh(r,e){return Ts(r,"POST","/v1/accounts:lookup",e)}function mu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mI(r,e=!1){const n=pt(r),s=await n.getIdToken(e),o=Xp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:mu(Zm(o.auth_time)),issuedAtTime:mu(Zm(o.iat)),expirationTime:mu(Zm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Zm(r){return Number(r)*1e3}function Xp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=FE(n);return o?JSON.parse(o):(Rh("Failed to decode base64 JWT payload"),null)}catch(o){return Rh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Yv(r){const e=Xp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Tu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof mr&&pI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function pI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class gI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class yp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hh(r){const e=r.auth,n=await r.getIdToken(),s=await Tu(r,qh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?hT(o.providerUserInfo):[],h=_I(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new yp(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,E)}async function yI(r){const e=pt(r);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _I(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function hT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function vI(r,e){const n=await uT(r,{},async()=>{const s=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await cT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Fo(r.emulatorConfig.host)&&(g.credentials="include"),lT.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EI(r,e){return Ts(r,"POST","/v2/accounts:revokeToken",_a(r,e))}class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Yv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await vI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Ro;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return fi("not implemented")}}function ns(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class lr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new gI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new yp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Tu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mI(this,e)}reload(){return yI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new lr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Hh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(cs(this.auth));const e=await this.getIdToken();return await Tu(this,dI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:M,providerData:G,stsTokenManager:K}=n;Ee(b&&K,e,"internal-error");const Y=Ro.fromJSON(this.name,K);Ee(typeof b=="string",e,"internal-error"),ns(s,e.name),ns(o,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof M=="boolean",e,"internal-error"),ns(u,e.name),ns(h,e.name),ns(m,e.name),ns(g,e.name),ns(p,e.name),ns(E,e.name);const ie=new lr({uid:b,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:M,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:Y,createdAt:p,lastLoginAt:E});return G&&Array.isArray(G)&&(ie.providerData=G.map(re=>({...re}))),g&&(ie._redirectEventId=g),ie}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ro;o.updateFromServerResponse(n);const u=new lr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Hh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?hT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Ro;m.updateFromIdToken(s);const g=new lr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new yp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const Wv=new Map;function di(r){_i(r instanceof Function,"Expected a class definition");let e=Wv.get(r);return e?(_i(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Wv.set(r,e),e)}class fT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fT.type="NONE";const Xv=fT;function Ih(r,e,n){return`firebase:${r}:${e}:${n}`}class Io{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ih(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ih("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qh(this.auth,{idToken:e}).catch(()=>{});return n?lr._fromGetAccountInfoResponse(this.auth,n,e):null}return lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Io(di(Xv),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||di(Xv);const h=Ih(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(h);if(E){let b;if(typeof E=="string"){const w=await qh(e,{idToken:E}).catch(()=>{});if(!w)break;b=await lr._fromGetAccountInfoResponse(e,w,E)}else b=lr._fromJSON(e,E);p!==u&&(m=b),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Io(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new Io(u,e,s))}}function Zv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_T(e))return"Blackberry";if(vT(e))return"Webos";if(mT(e))return"Safari";if((e.includes("chrome/")||pT(e))&&!e.includes("edge/"))return"Chrome";if(yT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function dT(r=rn()){return/firefox\//i.test(r)}function mT(r=rn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pT(r=rn()){return/crios\//i.test(r)}function gT(r=rn()){return/iemobile/i.test(r)}function yT(r=rn()){return/android/i.test(r)}function _T(r=rn()){return/blackberry/i.test(r)}function vT(r=rn()){return/webos/i.test(r)}function Zp(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function TI(r=rn()){return Zp(r)&&!!window.navigator?.standalone}function bI(){return Mx()&&document.documentMode===10}function ET(r=rn()){return Zp(r)||yT(r)||vT(r)||_T(r)||/windows phone/i.test(r)||gT(r)}function TT(r,e=[]){let n;switch(r){case"Browser":n=Zv(rn());break;case"Worker":n=`${Zv(rn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Go}/${s}`}class AI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function SI(r,e={}){return Ts(r,"GET","/v2/passwordPolicy",_a(r,e))}const wI=6;class xI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class RI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jv(this),this.idTokenSubscription=new Jv(this),this.beforeStateQueue=new AI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=di(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qh(this,{idToken:e}),s=await lr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(or(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(cs(this));const n=e?pt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SI(this),n=new xI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ga("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await EI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&di(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&nI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ko(r){return pt(r)}class Jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Bx(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function II(r){mf=r}function bT(r){return mf.loadJS(r)}function CI(){return mf.recaptchaEnterpriseScript}function kI(){return mf.gapiScript}function NI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class DI{constructor(){this.enterprise=new OI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class OI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const MI="recaptcha-enterprise",AT="NO_RECAPTCHA";class LI{constructor(e){this.type=MI,this.auth=Ko(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{fI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new hI(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,h,m){const g=window.grecaptcha;$v(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(AT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&$v(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=CI();g.length!==0&&(g+=m),bT(g).then(()=>{o(m,u,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function e1(r,e,n,s=!1,o=!1){const u=new LI(r);let h;if(o)h=AT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function t1(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await e1(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await e1(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function VI(r,e){const n=ya(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ds(u,e??{}))return o;fr(o,"already-initialized")}return n.initialize({options:e})}function PI(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(di);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function jI(r,e,n){const s=Ko(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=ST(e),{host:h,port:m}=UI(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ds(p,s.config.emulator)&&ds(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Fo(h)?($E(`${u}//${h}${g}`),YE("Auth",!0)):zI()}function ST(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function UI(r){const e=ST(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:n1(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:n1(h)}}}function n1(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function zI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Jp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function BI(r,e){return Ts(r,"POST","/v1/accounts:signUp",e)}async function qI(r,e){return df(r,"POST","/v1/accounts:signInWithPassword",_a(r,e))}async function HI(r,e){return df(r,"POST","/v1/accounts:signInWithEmailLink",_a(r,e))}async function FI(r,e){return df(r,"POST","/v1/accounts:signInWithEmailLink",_a(r,e))}class bu extends Jp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new bu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new bu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return t1(e,n,"signInWithPassword",qI);case"emailLink":return HI(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return t1(e,s,"signUpPassword",BI);case"emailLink":return FI(e,{idToken:n,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Co(r,e){return df(r,"POST","/v1/accounts:signInWithIdp",_a(r,e))}const GI="http://localhost";class ca extends Jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ca(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Co(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Co(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Co(e,n)}buildRequest(){const e={requestUri:GI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ou(n)}return e}}function KI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QI(r){const e=ou(lu(r)).link,n=e?ou(lu(e)).deep_link_id:null,s=ou(lu(r)).deep_link_id;return(s?ou(lu(s)).link:null)||s||n||e||r}class eg{constructor(e){const n=ou(lu(e)),s=n.apiKey??null,o=n.oobCode??null,u=KI(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=QI(e);try{return new eg(n)}catch{return null}}}class Qo{constructor(){this.providerId=Qo.PROVIDER_ID}static credential(e,n){return bu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=eg.parseLink(n);return Ee(s,"argument-error"),bu._fromEmailAndCode(e,s.code,s.tenantId)}}Qo.PROVIDER_ID="password";Qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class wT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Lu extends wT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class rs extends Lu{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";class is extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ca._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return is.credential(n,s)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";class ss extends Lu{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";class as extends Lu{constructor(){super("twitter.com")}static credential(e,n){return ca._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return as.credential(n,s)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";class Oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await lr._fromIdTokenResponse(e,s,o),h=r1(s);return new Oo({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=r1(s);return new Oo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function r1(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Fh extends mr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Fh(e,n,s,o)}}function xT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(r,u,e,s):u})}async function $I(r,e,n=!1){const s=await Tu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Oo._forOperation(r,"link",s)}async function YI(r,e,n=!1){const{auth:s}=r;if(or(s.app))return Promise.reject(cs(s));const o="reauthenticate";try{const u=await Tu(r,xT(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const h=Xp(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(r.uid===m,s,"user-mismatch"),Oo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&fr(s,"user-mismatch"),u}}async function RT(r,e,n=!1){if(or(r.app))return Promise.reject(cs(r));const s="signIn",o=await xT(r,s,e),u=await Oo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function WI(r,e){return RT(Ko(r),e)}async function XI(r){const e=Ko(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ZI(r,e,n){return or(r.app)?Promise.reject(cs(r)):WI(pt(r),Qo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&XI(r),s})}function JI(r,e,n,s){return pt(r).onIdTokenChanged(e,n,s)}function eC(r,e,n){return pt(r).beforeAuthStateChanged(e,n)}function tC(r,e,n,s){return pt(r).onAuthStateChanged(e,n,s)}function nC(r){return pt(r).signOut()}const Gh="__sak";class IT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const rC=1e3,iC=10;class CT extends IT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ET(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);bI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,iC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},rC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CT.type="LOCAL";const sC=CT;class kT extends IT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kT.type="SESSION";const NT=kT;function aC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new pf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,u)),g=await aC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];function tg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class oC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=tg("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Ur(){return window}function lC(r){Ur().location.href=r}function DT(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function uC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cC(){return navigator?.serviceWorker?.controller||null}function hC(){return DT()?self:null}const OT="firebaseLocalStorageDb",fC=1,Kh="firebaseLocalStorage",MT="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gf(r,e){return r.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function dC(){const r=indexedDB.deleteDatabase(OT);return new Vu(r).toPromise()}function _p(){const r=indexedDB.open(OT,fC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Kh,{keyPath:MT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Kh)?e(s):(s.close(),await dC(),e(await _p()))})})}async function i1(r,e,n){const s=gf(r,!0).put({[MT]:e,value:n});return new Vu(s).toPromise()}async function mC(r,e){const n=gf(r,!1).get(e),s=await new Vu(n).toPromise();return s===void 0?null:s.value}function s1(r,e){const n=gf(r,!0).delete(e);return new Vu(n).toPromise()}const pC=800,gC=3;class LT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _p(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>gC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(hC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uC(),!this.activeServiceWorker)return;this.sender=new oC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _p();return await i1(e,Gh,"1"),await s1(e,Gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>i1(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>mC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>s1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=gf(o,!1).getAll();return new Vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LT.type="LOCAL";const yC=LT;new Mu(3e4,6e4);function _C(r,e){return e?di(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ng extends Jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vC(r){return RT(r.auth,new ng(r),r.bypassAuthState)}function EC(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),YI(n,new ng(r),r.bypassAuthState)}async function TC(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),$I(n,new ng(r),r.bypassAuthState)}class VT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vC;case"linkViaPopup":case"linkViaRedirect":return TC;case"reauthViaPopup":case"reauthViaRedirect":return EC;default:fr(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bC=new Mu(2e3,1e4);class xo extends VT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,xo.currentPopupAction&&xo.currentPopupAction.cancel(),xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bC.get())};e()}}xo.currentPopupAction=null;const AC="pendingRedirect",Ch=new Map;class SC extends VT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const s=await wC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wC(r,e){const n=IC(e),s=RC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function xC(r,e){Ch.set(r._key(),e)}function RC(r){return di(r._redirectPersistence)}function IC(r){return Ih(AC,r.config.apiKey,r.name)}async function CC(r,e,n=!1){if(or(r.app))return Promise.reject(cs(r));const s=Ko(r),o=_C(s,e),h=await new SC(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const kC=600*1e3;class NC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!PT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(jr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kC&&this.cachedEventUids.clear(),this.cachedEventUids.has(a1(e))}saveEventToCache(e){this.cachedEventUids.add(a1(e)),this.lastProcessedEventTime=Date.now()}}function a1(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function PT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function DC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PT(r);default:return!1}}async function OC(r,e={}){return Ts(r,"GET","/v1/projects",e)}const MC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LC=/^https?/;async function VC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await OC(r);for(const n of e)try{if(PC(n))return}catch{}fr(r,"unauthorized-domain")}function PC(r){const e=gp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!LC.test(n))return!1;if(MC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const jC=new Mu(3e4,6e4);function o1(){const r=Ur().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function UC(r){return new Promise((e,n)=>{function s(){o1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o1(),n(jr(r,"network-request-failed"))},timeout:jC.get()})}if(Ur().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ur().gapi?.load)s();else{const o=NI("iframefcb");return Ur()[o]=()=>{gapi.load?s():n(jr(r,"network-request-failed"))},bT(`${kI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw kh=null,e})}let kh=null;function zC(r){return kh=kh||UC(r),kh}const BC=new Mu(5e3,15e3),qC="__/auth/iframe",HC="emulator/auth/iframe",FC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KC(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Wp(e,HC):`https://${r.config.authDomain}/${qC}`,s={apiKey:e.apiKey,appName:r.name,v:Go},o=GC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ou(s).slice(1)}`}async function QC(r){const e=await zC(r),n=Ur().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:KC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=jr(r,"network-request-failed"),m=Ur().setTimeout(()=>{u(h)},BC.get());function g(){Ur().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}const $C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YC=500,WC=600,XC="_blank",ZC="http://localhost";class l1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JC(r,e,n,s=YC,o=WC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...$C,width:s.toString(),height:o.toString(),top:u,left:h},p=rn().toLowerCase();n&&(m=pT(p)?XC:n),dT(p)&&(e=e||ZC,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[M,G])=>`${w}${M}=${G},`,"");if(TI(p)&&m!=="_self")return ek(e||"",m),new l1(null);const b=window.open(e||"",m,E);Ee(b,r,"popup-blocked");try{b.focus()}catch{}return new l1(b)}function ek(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const tk="__/auth/handler",nk="emulator/auth/handler",rk=encodeURIComponent("fac");async function u1(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Go,eventId:o};if(e instanceof wT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",zx(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(e instanceof Lu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),p=g?`#${rk}=${encodeURIComponent(g)}`:"";return`${ik(r)}?${Ou(m).slice(1)}${p}`}function ik({config:r}){return r.emulator?Wp(r,nk):`https://${r.authDomain}/${tk}`}const Jm="webStorageSupport";class sk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NT,this._completeRedirectFn=CC,this._overrideRedirectResult=xC}async _openPopup(e,n,s,o){_i(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await u1(e,n,s,gp(),o);return JC(e,u,tg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await u1(e,n,s,gp(),o);return lC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(_i(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await QC(e),s=new NC(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jm,{type:Jm},o=>{const u=o?.[0]?.[Jm];u!==void 0&&n(!!u),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ET()||mT()||Zp()}}const ak=sk;var c1="@firebase/auth",h1="1.12.0";class ok{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lk(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uk(r){Hr(new hr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TT(r)},p=new RI(s,o,u,g);return PI(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Hr(new hr("auth-internal",e=>{const n=Ko(e.getProvider("auth").getImmediate());return(s=>new ok(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(c1,h1,lk(r)),Kn(c1,h1,"esm2020")}const ck=300,hk=QE("authIdTokenMaxAge")||ck;let f1=null;const fk=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>hk)return;const o=n?.token;f1!==o&&(f1=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function dk(r=$p()){const e=ya(r,"auth");if(e.isInitialized())return e.getImmediate();const n=VI(r,{popupRedirectResolver:ak,persistence:[yC,sC,NT]}),s=QE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=fk(u.toString());eC(n,h,()=>h(n.currentUser)),JI(n,m=>h(m))}}const o=GE("auth");return o&&jI(n,`http://${o}`),n}function mk(){return document.getElementsByTagName("head")?.[0]??document}II({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=jr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",mk().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uk("Browser");var pk="firebase",gk="12.8.0";Kn(pk,gk,"app");var d1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hs,jT;(function(){var r;function e(C,x){function I(){}I.prototype=x.prototype,C.F=x.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(O,D,U){for(var k=Array(arguments.length-2),We=2;We<arguments.length;We++)k[We-2]=arguments[We];return x.prototype[D].apply(O,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,x,I){I||(I=0);const O=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)O[D]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(D=0;D<16;++D)O[D]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=C.g[0],I=C.g[1],D=C.g[2];let U=C.g[3],k;k=x+(U^I&(D^U))+O[0]+3614090360&4294967295,x=I+(k<<7&4294967295|k>>>25),k=U+(D^x&(I^D))+O[1]+3905402710&4294967295,U=x+(k<<12&4294967295|k>>>20),k=D+(I^U&(x^I))+O[2]+606105819&4294967295,D=U+(k<<17&4294967295|k>>>15),k=I+(x^D&(U^x))+O[3]+3250441966&4294967295,I=D+(k<<22&4294967295|k>>>10),k=x+(U^I&(D^U))+O[4]+4118548399&4294967295,x=I+(k<<7&4294967295|k>>>25),k=U+(D^x&(I^D))+O[5]+1200080426&4294967295,U=x+(k<<12&4294967295|k>>>20),k=D+(I^U&(x^I))+O[6]+2821735955&4294967295,D=U+(k<<17&4294967295|k>>>15),k=I+(x^D&(U^x))+O[7]+4249261313&4294967295,I=D+(k<<22&4294967295|k>>>10),k=x+(U^I&(D^U))+O[8]+1770035416&4294967295,x=I+(k<<7&4294967295|k>>>25),k=U+(D^x&(I^D))+O[9]+2336552879&4294967295,U=x+(k<<12&4294967295|k>>>20),k=D+(I^U&(x^I))+O[10]+4294925233&4294967295,D=U+(k<<17&4294967295|k>>>15),k=I+(x^D&(U^x))+O[11]+2304563134&4294967295,I=D+(k<<22&4294967295|k>>>10),k=x+(U^I&(D^U))+O[12]+1804603682&4294967295,x=I+(k<<7&4294967295|k>>>25),k=U+(D^x&(I^D))+O[13]+4254626195&4294967295,U=x+(k<<12&4294967295|k>>>20),k=D+(I^U&(x^I))+O[14]+2792965006&4294967295,D=U+(k<<17&4294967295|k>>>15),k=I+(x^D&(U^x))+O[15]+1236535329&4294967295,I=D+(k<<22&4294967295|k>>>10),k=x+(D^U&(I^D))+O[1]+4129170786&4294967295,x=I+(k<<5&4294967295|k>>>27),k=U+(I^D&(x^I))+O[6]+3225465664&4294967295,U=x+(k<<9&4294967295|k>>>23),k=D+(x^I&(U^x))+O[11]+643717713&4294967295,D=U+(k<<14&4294967295|k>>>18),k=I+(U^x&(D^U))+O[0]+3921069994&4294967295,I=D+(k<<20&4294967295|k>>>12),k=x+(D^U&(I^D))+O[5]+3593408605&4294967295,x=I+(k<<5&4294967295|k>>>27),k=U+(I^D&(x^I))+O[10]+38016083&4294967295,U=x+(k<<9&4294967295|k>>>23),k=D+(x^I&(U^x))+O[15]+3634488961&4294967295,D=U+(k<<14&4294967295|k>>>18),k=I+(U^x&(D^U))+O[4]+3889429448&4294967295,I=D+(k<<20&4294967295|k>>>12),k=x+(D^U&(I^D))+O[9]+568446438&4294967295,x=I+(k<<5&4294967295|k>>>27),k=U+(I^D&(x^I))+O[14]+3275163606&4294967295,U=x+(k<<9&4294967295|k>>>23),k=D+(x^I&(U^x))+O[3]+4107603335&4294967295,D=U+(k<<14&4294967295|k>>>18),k=I+(U^x&(D^U))+O[8]+1163531501&4294967295,I=D+(k<<20&4294967295|k>>>12),k=x+(D^U&(I^D))+O[13]+2850285829&4294967295,x=I+(k<<5&4294967295|k>>>27),k=U+(I^D&(x^I))+O[2]+4243563512&4294967295,U=x+(k<<9&4294967295|k>>>23),k=D+(x^I&(U^x))+O[7]+1735328473&4294967295,D=U+(k<<14&4294967295|k>>>18),k=I+(U^x&(D^U))+O[12]+2368359562&4294967295,I=D+(k<<20&4294967295|k>>>12),k=x+(I^D^U)+O[5]+4294588738&4294967295,x=I+(k<<4&4294967295|k>>>28),k=U+(x^I^D)+O[8]+2272392833&4294967295,U=x+(k<<11&4294967295|k>>>21),k=D+(U^x^I)+O[11]+1839030562&4294967295,D=U+(k<<16&4294967295|k>>>16),k=I+(D^U^x)+O[14]+4259657740&4294967295,I=D+(k<<23&4294967295|k>>>9),k=x+(I^D^U)+O[1]+2763975236&4294967295,x=I+(k<<4&4294967295|k>>>28),k=U+(x^I^D)+O[4]+1272893353&4294967295,U=x+(k<<11&4294967295|k>>>21),k=D+(U^x^I)+O[7]+4139469664&4294967295,D=U+(k<<16&4294967295|k>>>16),k=I+(D^U^x)+O[10]+3200236656&4294967295,I=D+(k<<23&4294967295|k>>>9),k=x+(I^D^U)+O[13]+681279174&4294967295,x=I+(k<<4&4294967295|k>>>28),k=U+(x^I^D)+O[0]+3936430074&4294967295,U=x+(k<<11&4294967295|k>>>21),k=D+(U^x^I)+O[3]+3572445317&4294967295,D=U+(k<<16&4294967295|k>>>16),k=I+(D^U^x)+O[6]+76029189&4294967295,I=D+(k<<23&4294967295|k>>>9),k=x+(I^D^U)+O[9]+3654602809&4294967295,x=I+(k<<4&4294967295|k>>>28),k=U+(x^I^D)+O[12]+3873151461&4294967295,U=x+(k<<11&4294967295|k>>>21),k=D+(U^x^I)+O[15]+530742520&4294967295,D=U+(k<<16&4294967295|k>>>16),k=I+(D^U^x)+O[2]+3299628645&4294967295,I=D+(k<<23&4294967295|k>>>9),k=x+(D^(I|~U))+O[0]+4096336452&4294967295,x=I+(k<<6&4294967295|k>>>26),k=U+(I^(x|~D))+O[7]+1126891415&4294967295,U=x+(k<<10&4294967295|k>>>22),k=D+(x^(U|~I))+O[14]+2878612391&4294967295,D=U+(k<<15&4294967295|k>>>17),k=I+(U^(D|~x))+O[5]+4237533241&4294967295,I=D+(k<<21&4294967295|k>>>11),k=x+(D^(I|~U))+O[12]+1700485571&4294967295,x=I+(k<<6&4294967295|k>>>26),k=U+(I^(x|~D))+O[3]+2399980690&4294967295,U=x+(k<<10&4294967295|k>>>22),k=D+(x^(U|~I))+O[10]+4293915773&4294967295,D=U+(k<<15&4294967295|k>>>17),k=I+(U^(D|~x))+O[1]+2240044497&4294967295,I=D+(k<<21&4294967295|k>>>11),k=x+(D^(I|~U))+O[8]+1873313359&4294967295,x=I+(k<<6&4294967295|k>>>26),k=U+(I^(x|~D))+O[15]+4264355552&4294967295,U=x+(k<<10&4294967295|k>>>22),k=D+(x^(U|~I))+O[6]+2734768916&4294967295,D=U+(k<<15&4294967295|k>>>17),k=I+(U^(D|~x))+O[13]+1309151649&4294967295,I=D+(k<<21&4294967295|k>>>11),k=x+(D^(I|~U))+O[4]+4149444226&4294967295,x=I+(k<<6&4294967295|k>>>26),k=U+(I^(x|~D))+O[11]+3174756917&4294967295,U=x+(k<<10&4294967295|k>>>22),k=D+(x^(U|~I))+O[2]+718787259&4294967295,D=U+(k<<15&4294967295|k>>>17),k=I+(U^(D|~x))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+U&4294967295}s.prototype.v=function(C,x){x===void 0&&(x=C.length);const I=x-this.blockSize,O=this.C;let D=this.h,U=0;for(;U<x;){if(D==0)for(;U<=I;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<x;)if(O[D++]=C.charCodeAt(U++),D==this.blockSize){o(this,O),D=0;break}}else for(;U<x;)if(O[D++]=C[U++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=x},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,I=0;I<4;++I)for(let O=0;O<32;O+=8)C[x++]=this.g[I]>>>O&255;return C};function u(C,x){var I=m;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=x(C)}function h(C,x){this.h=x;const I=[];let O=!0;for(let D=C.length-1;D>=0;D--){const U=C[D]|0;O&&U==x||(I[D]=U,O=!1)}this.g=I}var m={};function g(C){return-128<=C&&C<128?u(C,function(x){return new h([x|0],x<0?-1:0)}):new h([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return Y(p(-C));const x=[];let I=1;for(let O=0;C>=I;O++)x[O]=C/I|0,I*=4294967296;return new h(x,0)}function E(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return Y(E(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(x,8));let O=b;for(let U=0;U<C.length;U+=8){var D=Math.min(8,C.length-U);const k=parseInt(C.substring(U,U+D),x);D<8?(D=p(Math.pow(x,D)),O=O.j(D).add(p(k))):(O=O.j(I),O=O.add(p(k)))}return O}var b=g(0),w=g(1),M=g(16777216);r=h.prototype,r.m=function(){if(K(this))return-Y(this).m();let C=0,x=1;for(let I=0;I<this.g.length;I++){const O=this.i(I);C+=(O>=0?O:4294967296+O)*x,x*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(G(this))return"0";if(K(this))return"-"+Y(this).toString(C);const x=p(Math.pow(C,6));var I=this;let O="";for(;;){const D=se(I,x).g;I=ie(I,D.j(x));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=D,G(I))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function G(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function K(C){return C.h==-1}r.l=function(C){return C=ie(this,C),K(C)?-1:G(C)?0:1};function Y(C){const x=C.g.length,I=[];for(let O=0;O<x;O++)I[O]=~C.g[O];return new h(I,~C.h).add(w)}r.abs=function(){return K(this)?Y(this):this},r.add=function(C){const x=Math.max(this.g.length,C.g.length),I=[];let O=0;for(let D=0;D<=x;D++){let U=O+(this.i(D)&65535)+(C.i(D)&65535),k=(U>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);O=k>>>16,U&=65535,k&=65535,I[D]=k<<16|U}return new h(I,I[I.length-1]&-2147483648?-1:0)};function ie(C,x){return C.add(Y(x))}r.j=function(C){if(G(this)||G(C))return b;if(K(this))return K(C)?Y(this).j(Y(C)):Y(Y(this).j(C));if(K(C))return Y(this.j(Y(C)));if(this.l(M)<0&&C.l(M)<0)return p(this.m()*C.m());const x=this.g.length+C.g.length,I=[];for(var O=0;O<2*x;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<C.g.length;D++){const U=this.i(O)>>>16,k=this.i(O)&65535,We=C.i(D)>>>16,ct=C.i(D)&65535;I[2*O+2*D]+=k*ct,re(I,2*O+2*D),I[2*O+2*D+1]+=U*ct,re(I,2*O+2*D+1),I[2*O+2*D+1]+=k*We,re(I,2*O+2*D+1),I[2*O+2*D+2]+=U*We,re(I,2*O+2*D+2)}for(C=0;C<x;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=x;C<2*x;C++)I[C]=0;return new h(I,0)};function re(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function ae(C,x){this.g=C,this.h=x}function se(C,x){if(G(x))throw Error("division by zero");if(G(C))return new ae(b,b);if(K(C))return x=se(Y(C),x),new ae(Y(x.g),Y(x.h));if(K(x))return x=se(C,Y(x)),new ae(Y(x.g),x.h);if(C.g.length>30){if(K(C)||K(x))throw Error("slowDivide_ only works with positive integers.");for(var I=w,O=x;O.l(C)<=0;)I=pe(I),O=pe(O);var D=me(I,1),U=me(O,1);for(O=me(O,2),I=me(I,2);!G(O);){var k=U.add(O);k.l(C)<=0&&(D=D.add(I),U=k),O=me(O,1),I=me(I,1)}return x=ie(C,D.j(x)),new ae(D,x)}for(D=b;C.l(x)>=0;){for(I=Math.max(1,Math.floor(C.m()/x.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=p(I),k=U.j(x);K(k)||k.l(C)>0;)I-=O,U=p(I),k=U.j(x);G(U)&&(U=w),D=D.add(U),C=ie(C,k)}return new ae(D,C)}r.B=function(C){return se(this,C).h},r.and=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<x;O++)I[O]=this.i(O)&C.i(O);return new h(I,this.h&C.h)},r.or=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<x;O++)I[O]=this.i(O)|C.i(O);return new h(I,this.h|C.h)},r.xor=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<x;O++)I[O]=this.i(O)^C.i(O);return new h(I,this.h^C.h)};function pe(C){const x=C.g.length+1,I=[];for(let O=0;O<x;O++)I[O]=C.i(O)<<1|C.i(O-1)>>>31;return new h(I,C.h)}function me(C,x){const I=x>>5;x%=32;const O=C.g.length-I,D=[];for(let U=0;U<O;U++)D[U]=x>0?C.i(U+I)>>>x|C.i(U+I+1)<<32-x:C.i(U+I);return new h(D,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,jT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=E,hs=h}).apply(typeof d1<"u"?d1:typeof self<"u"?self:typeof window<"u"?window:{});var Eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var UT,uu,zT,Nh,vp,BT,qT,HT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eh=="object"&&Eh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in v))break e;v=v[z]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,v){return c.call.apply(c.bind,arguments)}function p(c,y,v){return p=g,p.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,z,Q){for(var oe=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)oe[xe-2]=arguments[xe];return y.prototype[z].apply(S,oe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function M(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function G(c,y){for(let S=1;S<arguments.length;S++){const z=arguments[S];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const Q=z.length||0;c.length=v+Q;for(let oe=0;oe<Q;oe++)c[v+oe]=z[oe]}else c.push(z)}}class K{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Y(c){h.setTimeout(()=>{throw c},0)}function ie(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class re{constructor(){this.h=this.g=null}add(y,v){const S=ae.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ae=new K(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,me=!1,C=new re,x=()=>{const c=Promise.resolve(void 0);pe=()=>{c.then(I)}};function I(){for(var c;c=ie();){try{c.h.call(c.g)}catch(v){Y(v)}var y=ae;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}me=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function k(c){return/^[\s\xa0]*$/.test(c)}function We(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(We,D),We.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),W=0;function H(c,y,v,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=z,this.key=++W,this.da=this.fa=!1}function he(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ke(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function Be(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,y){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)c[v]=S[v];for(let Q=0;Q<te.length;Q++)v=te[Q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function fe(c){this.src=c,this.g={},this.h=0}fe.prototype.add=function(c,y,v,S,z){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const oe=Ie(c,y,S,z);return oe>-1?(y=c[oe],v||(y.fa=!1)):(y=new H(y,this.src,Q,!!S,z),y.fa=v,c.push(y)),y};function be(c,y){const v=y.type;if(v in c.g){var S=c.g[v],z=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=z>=0)&&Array.prototype.splice.call(S,z,1),Q&&(he(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ie(c,y,v,S){for(let z=0;z<c.length;++z){const Q=c[z];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==S)return z}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Lt={};function at(c,y,v,S,z){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)at(c,y[Q],v,S,z);return null}return v=tl(v),c&&c[ct]?c.J(y,v,m(S)?!!S.capture:!1,z):Rs(c,y,v,!1,S,z)}function Rs(c,y,v,S,z,Q){if(!y)throw Error("Invalid event type");const oe=m(z)?!!z.capture:!!z;let xe=Is(c);if(xe||(c[Ue]=xe=new fe(c)),v=xe.add(y,v,S,oe,Q),v.proxy)return v;if(S=Na(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)U||(z=oe),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(pr(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Na(){function c(v){return y.call(c.src,c.listener,v)}const y=Jo;return c}function Da(c,y,v,S,z){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Da(c,y[Q],v,S,z);else S=m(S)?!!S.capture:!!S,v=tl(v),c&&c[ct]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],v=Ie(y,v,S,z),v>-1&&(he(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=Is(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ie(y,v,S,z)),(v=c>-1?y[c]:null)&&Oa(v))}function Oa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ct])be(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(pr(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Is(y))?(be(v,c),v.h==0&&(v.src=null,y[Ue]=null)):he(c)}}}function pr(c){return c in Lt?Lt[c]:Lt[c]="on"+c}function Jo(c,y){if(c.da)c=!0;else{y=new We(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&Oa(c),c=v.call(S,y)}return c}function Is(c){return c=c[Ue],c instanceof fe?c:null}var el="__closure_events_fn_"+(Math.random()*1e9>>>0);function tl(c){return typeof c=="function"?c:(c[el]||(c[el]=function(y){return c.handleEvent(y)}),c[el])}function At(){O.call(this),this.i=new fe(this),this.M=this,this.G=null}b(At,O),At.prototype[ct]=!0,At.prototype.removeEventListener=function(c,y,v,S){Da(this,c,y,v,S)};function Vt(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var z=y;y=new D(S,c),le(y,z)}z=!0;let Q,oe;if(v)for(oe=v.length-1;oe>=0;oe--)Q=y.g=v[oe],z=Ai(Q,S,!0,y)&&z;if(Q=y.g=c,z=Ai(Q,S,!0,y)&&z,z=Ai(Q,S,!1,y)&&z,v)for(oe=0;oe<v.length;oe++)Q=y.g=v[oe],z=Ai(Q,S,!1,y)&&z}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)he(v[S]);delete c.g[y],c.h--}}this.G=null},At.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},At.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function Ai(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let Q=0;Q<y.length;++Q){const oe=y[Q];if(oe&&!oe.da&&oe.capture==v){const xe=oe.listener,yt=oe.ha||oe.src;oe.fa&&be(c.i,oe),z=xe.call(yt,S)!==!1&&z}}return z&&!S.defaultPrevented}function zf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Hu(c){c.g=zf(()=>{c.g=null,c.i&&(c.i=!1,Hu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class sn extends O{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Hu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(c){O.call(this),this.h=c,this.g={}}b(Cs,O);var nl=[];function rl(c){ke(c.g,function(y,v){this.g.hasOwnProperty(v)&&Oa(y)},c),c.g={}}Cs.prototype.N=function(){Cs.Z.N.call(this),rl(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Si=h.JSON.stringify,Bf=h.JSON.parse,Fu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Gu(){}function Ku(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){D.call(this,"d")}b(Ht,D);function Dn(){D.call(this,"c")}b(Dn,D);var gt={},Qu=null;function Ma(){return Qu=Qu||new At}gt.Ia="serverreachability";function $u(c){D.call(this,gt.Ia,c)}b($u,D);function gr(c){const y=Ma();Vt(y,new $u(y))}gt.STAT_EVENT="statevent";function ks(c,y){D.call(this,gt.STAT_EVENT,c),this.stat=y}b(ks,D);function St(c){const y=Ma();Vt(y,new ks(y,c))}gt.Ja="timingevent";function yr(c,y){D.call(this,gt.Ja,c),this.size=y}b(yr,D);function _r(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function qf(c,y,v,S,z,Q){c.info(function(){if(c.g)if(Q){var oe="",xe=Q.split("&");for(let Fe=0;Fe<xe.length;Fe++){var yt=xe[Fe].split("=");if(yt.length>1){const ot=yt[0];yt=yt[1];const Vn=ot.split("_");oe=Vn.length>=2&&Vn[1]=="type"?oe+(ot+"="+yt+"&"):oe+(ot+"=redacted&")}}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+v+`
`+oe})}function Yu(c,y,v,S,z,Q,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+v+`
`+Q+" "+oe})}function vr(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Hf(c,v)+(S?" "+S:"")})}function Ns(c,y){c.info(function(){return"TIMEOUT: "+y})}Wn.prototype.info=function(){};function Hf(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var v=Q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let oe=1;oe<S.length;oe++)S[oe]=""}}}}return Si(Q)}catch{return y}}var Ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sl;function Os(){}b(Os,Gu),Os.prototype.g=function(){return new XMLHttpRequest},sl=new Os;function Kr(c){return encodeURIComponent(String(c))}function Wu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Xn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new Cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var wt={},Ut={};function Er(c,y,v){c.M=1,c.A=Ms(Rt(y)),c.u=v,c.R=!0,La(c,null)}function La(c,y){c.F=Date.now(),Tr(c),c.B=Rt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Ua(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Zn,c.g=hc(c.j,v?y:null,!c.u),c.P>0&&(c.O=new sn(p(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(nl[0]=z.toString()),z=nl);for(let Q=0;Q<z.length;Q++){const oe=at(v,z[Q],S||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),gr(),qf(c.i,c.v,c.B,c.l,c.S,c.u)}Xn.prototype.ba=function(c){c=c.target;const y=this.O;y&&tr(c)==3?y.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{const xe=tr(this.g),yt=this.g.ya(),Fe=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||xe!=4||yt==7||(yt==8||Fe<=0?gr(3):gr(2)),br(this);var y=this.g.ca();this.X=y;var v=Ff(this);if(this.o=y==200,Yu(this.i,this.v,this.B,this.l,this.S,xe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(S)){var Q=S;break t}}Q=null}if(c=Q)vr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ar(this,c);else{this.o=!1,this.m=3,St(12),vn(this),On(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=Zu(this,v),ot==Ut){xe==4&&(this.m=4,St(14),c=!1),vr(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==wt){this.m=4,St(15),vr(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else vr(this.i,this.l,ot,null),Ar(this,ot);if(Xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||v.length!=0||this.h.h||(this.m=1,St(16),c=!1),this.o=this.o&&c,!c)vr(this.i,this.l,v,"[Invalid Chunked Response]"),vn(this),On(this);else if(v.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),El(oe),oe.P=!0,St(11))}}else vr(this.i,this.l,v,null),Ar(this,v);xe==4&&vn(this),this.o&&!this.K&&(xe==4?oc(this.j,this):(this.o=!1,Tr(this)))}else $r(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),vn(this),On(this)}}}catch{}};function Ff(c){if(!Xu(c))return c.g.la();const y=Ft(c.g);if(y==="")return"";let v="";const S=y.length,z=tr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return vn(c),On(c),"";c.h.i=new h.TextDecoder}for(let Q=0;Q<S;Q++)c.h.h=!0,v+=c.h.i.decode(y[Q],{stream:!(z&&Q==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Xu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Zu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Ut:(v=Number(y.substring(v,S)),isNaN(v)?wt:(S+=1,S+v>y.length?Ut:(y=y.slice(S,S+v),c.C=S+v,y)))}Xn.prototype.cancel=function(){this.K=!0,vn(this)};function Tr(c){c.T=Date.now()+c.H,Va(c,c.H)}function Va(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=_r(p(c.aa,c),y)}function br(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ns(this.i,this.B),this.M!=2&&(gr(),St(17)),vn(this),this.m=2,On(this)):Va(this,this.T-c)};function On(c){c.j.I==0||c.K||oc(c.j,c)}function vn(c){br(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,rl(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Ar(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||wr(v.h,c))){if(!c.L&&wr(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Fa(v),Di(v);else break e;Bs(v),St(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=_r(p(v.Va,v),6e3));Sr(v.h)<=1&&v.ta&&(v.ta=void 0)}else Nr(v,11)}else if((c.L||v.g==c)&&Fa(v),!k(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let Fe=z[y];const ot=Fe[0];if(!(ot<=v.K))if(v.K=ot,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const Vn=Fe[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const Dr=Fe[4];Dr!=null&&(v.za=Dr,v.j.info("SVER="+v.za));const nr=Fe[5];nr!=null&&typeof nr=="number"&&nr>0&&(S=1.5*nr,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const rr=c.g;if(rr){const qs=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var Q=S.h;Q.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ll(Q,Q.h),Q.h=null))}if(S.G){const Ga=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ga&&(S.wa=Ga,Qe(S.J,S.G,Ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var oe=c;if(S.na=cc(S,S.L?S.ba:null,S.W),oe.L){ul(S.h,oe);var xe=oe,yt=S.O;yt&&(xe.H=yt),xe.D&&(br(xe),Tr(xe)),S.g=oe}else sc(S);v.i.length>0&&kr(v)}else Fe[0]!="stop"&&Fe[0]!="close"||Nr(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Nr(v,7):_l(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}gr(4)}catch{}}var xt=class{constructor(c,y){this.g=c,this.map=y}};function al(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ol(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Sr(c){return c.h?1:c.g?c.g.size:0}function wr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ll(c,y){c.g?c.g.add(y):c.h=y}function ul(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}al.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return M(c.i)}var Ju=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let z,Q=null;S>=0?(z=c[v].substring(0,S),Q=c[v].substring(S+1)):z=c[v],y(z,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function En(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof En?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,wi(this,c.u),this.h=c.h,hl(this,rc(c.i)),this.m=c.m):c&&(y=String(c).match(Ju))?(this.l=!1,zt(this,y[1]||"",!0),this.o=xr(y[2]||""),this.g=xr(y[3]||"",!0),wi(this,y[4]),this.h=xr(y[5]||"",!0),hl(this,y[6]||"",!0),this.m=xr(y[7]||"")):(this.l=!1,this.i=new Ri(null,this.l))}En.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ls(y,ja,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ls(y,ja,!0),"@"),c.push(Kr(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ls(v,v.charAt(0)=="/"?fl:ec,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ls(v,tc)),c.join("")},En.prototype.resolve=function(c){const y=Rt(this);let v=!!c.j;v?zt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)wi(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=y.h.lastIndexOf("/");z!=-1&&(S=y.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const Q=[];for(let oe=0;oe<z.length;){const xe=z[oe++];xe=="."?S&&oe==z.length&&Q.push(""):xe==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),S&&oe==z.length&&Q.push("")):(Q.push(xe),S=!0)}S=Q.join("/")}else S=z}return v?y.h=S:v=c.i.toString()!=="",v?hl(y,rc(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Rt(c){return new En(c)}function zt(c,y,v){c.j=v?xr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function wi(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function hl(c,y,v){y instanceof Ri?(c.i=y,za(c.i,c.l)):(v||(y=Ls(y,xi)),c.i=new Ri(y,c.l))}function Qe(c,y,v){c.i.set(y,v)}function Ms(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function xr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ls(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,un),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ja=/[#\/\?@]/g,ec=/[#\?:]/g,fl=/[#\?]/g,xi=/[#\?@]/g,tc=/#/g;function Ri(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Pa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Ri.prototype,r.add=function(c,y){cn(this),this.i=null,c=Ii(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function nc(c,y){cn(c),y=Ii(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function dl(c,y){return cn(c),y=Ii(c,y),c.g.has(y)}r.forEach=function(c,y){cn(this),this.g.forEach(function(v,S){v.forEach(function(z){c.call(y,z,S,this)},this)},this)};function ml(c,y){cn(c);let v=[];if(typeof y=="string")dl(c,y)&&(v=v.concat(c.g.get(Ii(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return cn(this),this.i=null,c=Ii(this,c),dl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=ml(this,c),c.length>0?String(c[0]):y):y};function Ua(c,y,v){nc(c,y),v.length>0&&(c.i=null,c.g.set(Ii(c,y),M(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const z=Kr(v);v=ml(this,v);for(let Q=0;Q<v.length;Q++){let oe=z;v[Q]!==""&&(oe+="="+Kr(v[Q])),c.push(oe)}}return this.i=c.join("&")};function rc(c){const y=new Ri;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Ii(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function za(c,y){y&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(v,S){const z=S.toLowerCase();S!=z&&(nc(this,S),Ua(this,z,v))},c)),c.j=y}function Jn(c,y){const v=new Wn;if(h.Image){const S=new Image;S.onload=E(Mn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=E(Mn,v,"TestLoadImage: error",!1,y,S),S.onabort=E(Mn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(Mn,v,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function pl(c,y){const v=new Wn,S=new AbortController,z=setTimeout(()=>{S.abort(),Mn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(z),Q.ok?Mn(v,"TestPingServer: ok",!0,y):Mn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Mn(v,"TestPingServer: error",!1,y)})}function Mn(c,y,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function Ci(){this.g=new Fu}function Rr(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Rr,Gu),Rr.prototype.g=function(){return new Vs(this.i,this.h)};function Vs(c,y){At.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Vs,At),r=Vs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,er(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ki(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ba(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ba(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ki(this):er(this),this.readyState==3&&Ba(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,ki(this))},r.Na=function(c){this.g&&(this.response=c,ki(this))},r.ga=function(){this.g&&ki(this)};function ki(c){c.readyState=4,c.l=null,c.j=null,c.B=null,er(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function er(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ln(c){let y="";return ke(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Ps(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Ln(v),typeof c=="string"?v!=null&&Kr(v):Qe(c,y,v))}function Xe(c){At.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xe,At);var Ir=/^https?$/i,gl=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sl.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){js(this,Q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())v.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(gl,y,void 0)>=0)||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of v)this.g.setRequestHeader(Q,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){js(this,Q)}};function js(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,yl(c),Qr(c)}function yl(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Qr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qr(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Us(this):this.Xa())},r.Xa=function(){Us(this)};function Us(c){if(c.h&&typeof u<"u"){if(c.v&&tr(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),tr(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=Q===0){let oe=String(c.D).match(Ju)[1]||null;!oe&&h.self&&h.self.location&&(oe=h.self.location.protocol.slice(0,-1)),S=!Ir.test(oe?oe.toLowerCase():"")}v=S}if(v)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var z=tr(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",yl(c)}}finally{Qr(c)}}}}function Qr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Vt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function tr(c){return c.g?c.g.readyState:0}r.ca=function(){try{return tr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Bf(y)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $r(c){const y={};c=(c.g&&tr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(k(c[S]))continue;var v=Wu(c[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[z]||[];y[z]=Q,Q.push(v)}Be(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cr(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ni(c){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Cr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Cr("baseRetryDelayMs",5e3,c),this.Za=Cr("retryDelaySeedMs",1e4,c),this.Ta=Cr("forwardChannelMaxRetries",2,c),this.va=Cr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new al(c&&c.concurrentRequestLimit),this.Ba=new Ci,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ni.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,S){St(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=cc(this,null,this.W),kr(this)};function _l(c){if(qa(c),c.I==3){var y=c.V++,v=Rt(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",y),Qe(v,"TYPE","terminate"),zs(c,v),y=new Xn(c,c.j,y),y.M=2,y.A=Ms(Rt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=hc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Tr(y)}uc(c)}function Di(c){c.g&&(El(c),c.g.cancel(),c.g=null)}function qa(c){Di(c),c.v&&(h.clearTimeout(c.v),c.v=null),Fa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function kr(c){if(!ol(c.h)&&!c.m){c.m=!0;var y=c.Ea;pe||x(),me||(pe(),me=!0),C.add(y,c),c.D=0}}function Ha(c,y){return Sr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=_r(p(c.Ea,c,y),lc(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Xn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=V(Q),le(Q,this.U)):Q=this.U),this.u!==null||this.R||(z.J=Q,Q=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ic(this,z,y),v=Rt(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),zs(this,v),Q&&(this.R?y="headers="+Kr(Ln(Q))+"&"+y:this.u&&Ps(v,this.u,Q)),ll(this.h,z),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",y),Qe(v,"SID","null"),z.U=!0,Er(z,v,null)):Er(z,v,y),this.I=2}}else this.I==3&&(c?vl(this,c):this.i.length==0||ol(this.h)||vl(this))};function vl(c,y){var v;y?v=y.l:v=c.V++;const S=Rt(c.J);Qe(S,"SID",c.M),Qe(S,"RID",v),Qe(S,"AID",c.K),zs(c,S),c.u&&c.o&&Ps(S,c.u,c.o),v=new Xn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=ic(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ll(c.h,v),Er(v,S,y)}function zs(c,y){c.H&&ke(c.H,function(v,S){Qe(y,S,v)}),c.l&&ke({},function(v,S){Qe(y,S,v)})}function ic(c,y,v){v=Math.min(c.i.length,v);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var z=c.i;let xe=-1;for(;;){const yt=["count="+v];xe==-1?v>0?(xe=z[0].g,yt.push("ofs="+xe)):xe=0:yt.push("ofs="+xe);let Fe=!0;for(let ot=0;ot<v;ot++){var Q=z[ot].g;const Vn=z[ot].map;if(Q-=xe,Q<0)xe=Math.max(0,z[ot].g-100),Fe=!1;else try{Q="req"+Q+"_"||"";try{var oe=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Dr,nr]of oe){let rr=nr;m(nr)&&(rr=Si(nr)),yt.push(Q+Dr+"="+encodeURIComponent(rr))}}catch(Dr){throw yt.push(Q+"type="+encodeURIComponent("_badmap")),Dr}}catch{S&&S(Vn)}}if(Fe){oe=yt.join("&");break e}}oe=void 0}return c=c.i.splice(0,v),y.G=c,oe}function sc(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;pe||x(),me||(pe(),me=!0),C.add(y,c),c.A=0}}function Bs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=_r(p(c.Da,c),lc(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,ac(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=_r(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Di(this),ac(this))};function El(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function ac(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Rt(c.na);Qe(y,"RID","rpc"),Qe(y,"SID",c.M),Qe(y,"AID",c.K),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(y,"TO",c.ia),Qe(y,"TYPE","xmlhttp"),zs(c,y),c.u&&c.o&&Ps(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ms(Rt(y)),v.u=null,v.R=!0,La(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Di(this),Bs(this),St(19))};function Fa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function oc(c,y){var v=null;if(c.g==y){Fa(c),El(c),c.g=null;var S=2}else if(wr(c.h,y))v=y.G,ul(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;S=Ma(),Vt(S,new yr(S,v)),kr(c)}else sc(c);else if(z=y.m,z==3||z==0&&y.X>0||!(S==1&&Ha(c,y)||S==2&&Bs(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Nr(c,5);break;case 4:Nr(c,10);break;case 3:Nr(c,6);break;default:Nr(c,2)}}}function lc(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Nr(c,y){if(c.j.info("Error code "+y),y==2){var v=p(c.bb,c),S=c.Ua;const z=!S;S=new En(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zt(S,"https"),Ms(S),z?Jn(S.toString(),v):pl(S.toString(),v)}else St(2);c.I=0,c.l&&c.l.pa(y),uc(c),qa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function uc(c){if(c.I=0,c.ja=[],c.l){const y=cl(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ja,y),G(c.ja,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.oa()}}function cc(c,y,v){var S=v instanceof En?Rt(v):new En(v);if(S.g!="")y&&(S.g=y+"."+S.g),wi(S,S.u);else{var z=h.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const Q=new En(null);S&&zt(Q,S),y&&(Q.g=y),z&&wi(Q,z),v&&(Q.h=v),S=Q}return v=c.G,y=c.wa,v&&y&&Qe(S,v,y),Qe(S,"VER",c.ka),zs(c,S),S}function hc(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new Rr({ab:v})):new Xe(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function fc(){}r=fc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Oi(){}Oi.prototype.g=function(c,y){return new an(c,y)};function an(c,y){At.call(this),this.g=new Ni(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!k(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!k(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Yr(this)}b(an,At),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){_l(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Si(c),c=v);y.i.push(new xt(y.Ya++,c)),y.I==3&&kr(y)},an.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,an.Z.N.call(this)};function dc(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(dc,Ht);function mc(){Dn.call(this),this.status=1}b(mc,Dn);function Yr(c){this.g=c}b(Yr,fc),Yr.prototype.ra=function(){Vt(this.g,"a")},Yr.prototype.qa=function(c){Vt(this.g,new dc(c))},Yr.prototype.pa=function(c){Vt(this.g,new mc)},Yr.prototype.oa=function(){Vt(this.g,"b")},Oi.prototype.createWebChannel=Oi.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,HT=function(){return new Oi},qT=function(){return Ma()},BT=gt,vp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,Nh=Ds,il.COMPLETE="complete",zT=il,Ku.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",At.prototype.listen=At.prototype.J,uu=Ku,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,UT=Xe}).apply(typeof Eh<"u"?Eh:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let $o="12.8.0";function yk(r){$o=r}const ha=new ff("@firebase/firestore");function bo(){return ha.logLevel}function ce(r,...e){if(ha.logLevel<=Le.DEBUG){const n=e.map(rg);ha.debug(`Firestore (${$o}): ${r}`,...n)}}function vi(r,...e){if(ha.logLevel<=Le.ERROR){const n=e.map(rg);ha.error(`Firestore (${$o}): ${r}`,...n)}}function Mo(r,...e){if(ha.logLevel<=Le.WARN){const n=e.map(rg);ha.warn(`Firestore (${$o}): ${r}`,...n)}}function rg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,FT(r,s,n)}function FT(r,e,n){let s=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw vi(s),new Error(s)}function Ke(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||FT(e,o,s)}function we(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class GT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _k{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class vk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Ek{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new pi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new pi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new GT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class Tk{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class bk{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Tk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class m1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ak{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new m1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new m1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Sk(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class ig{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Sk(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Ep(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return ep(o)===ep(u)?Ve(o,u):ep(o)?1:-1}return Ve(r.length,e.length)}const wk=55296,xk=57343;function ep(r){const e=r.charCodeAt(0);return e>=wk&&e<=xk}function Lo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const p1="__name__";class Pr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Pr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Pr.isNumericId(e),o=Pr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Pr.extractNumericId(e).compare(Pr.extractNumericId(n)):Ep(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class rt extends Pr{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const Rk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Pr{construct(e,n,s){return new Wt(e,n,s)}static isValidIdentifier(e){return Rk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p1}static keyField(){return new Wt([p1])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(rt.fromString(e))}static fromName(e){return new _e(rt.fromString(e).popFirst(5))}static empty(){return new _e(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new rt(e.slice()))}}function KT(r,e,n){if(!n)throw new ue(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Ik(r,e,n,s){if(e===!0&&s===!0)throw new ue(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function g1(r){if(!_e.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function y1(r){if(_e.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function QT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function yf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function Cn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yf(r);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Mt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Pu(r,e){if(!QT(r))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(J.INVALID_ARGUMENT,n);return!0}const _1=-62135596800,v1=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*v1);return new tt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_1)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v1}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:Mt("string",tt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new tt(0,0))}static max(){return new Ae(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Au=-1;function Ck(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new tt(n+1,0):new tt(n,s));return new ms(o,_e.empty(),e)}function kk(r){return new ms(r.readTime,r.key,Au)}class ms{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ms(Ae.min(),_e.empty(),Au)}static max(){return new ms(Ae.max(),_e.empty(),Au)}}function Nk(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const Dk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ok{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Yo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==Dk)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(g=>s(g)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((E=>{h[p]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function Mk(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wo(r){return r.name==="IndexedDbTransactionError"}class _f{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_f.ce=-1;const sg=-1;function vf(r){return r==null}function Qh(r){return r===0&&1/r==-1/0}function Lk(r){return typeof r=="number"&&Number.isInteger(r)&&!Qh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const $T="";function Vk(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=E1(e)),e=Pk(r.get(n),e);return E1(e)}function Pk(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case $T:n+="";break;default:n+=u}}return n}function E1(r){return r+$T+""}function T1(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function bs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function YT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Th(this.root,e,this.comparator,!1)}getReverseIterator(){return new Th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Th(this.root,e,this.comparator,!0)}}class Th{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b1(this.data.getIterator())}getIteratorFrom(e){return new b1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class b1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new In([])}unionWith(e){let n=new jt(Wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class WT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new WT("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const jk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const n=jk.exec(r);if(Ke(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(r.seconds),nanos:Et(r.nanos)}}function Et(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function gs(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const XT="server_timestamp",ZT="__type__",JT="__previous_value__",eb="__local_write_time__";function ag(r){return(r?.mapValue?.fields||{})[ZT]?.stringValue===XT}function Ef(r){const e=r.mapValue.fields[JT];return ag(e)?Ef(e):e}function Su(r){const e=ps(r.mapValue.fields[eb].timestampValue);return new tt(e.seconds,e.nanos)}class Uk{constructor(e,n,s,o,u,h,m,g,p,E,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E,this.apiKey=b}}const $h="(default)";class wu{constructor(e,n){this.projectId=e,this.database=n||$h}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===$h}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}function zk(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(r.options.projectId,e)}const tb="__type__",Bk="__max__",bh={mapValue:{}},nb="__vector__",Yh="value";function ys(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ag(r)?4:Hk(r)?9007199254740991:qk(r)?10:11:Te(28295,{value:r})}function Fr(r,e){if(r===e)return!0;const n=ys(r);if(n!==ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Su(r).isEqual(Su(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ps(o.timestampValue),m=ps(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return gs(o.bytesValue).isEqual(gs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Et(o.doubleValue),m=Et(u.doubleValue);return h===m?Qh(h)===Qh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return Lo(r.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(T1(h)!==T1(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Fr(h[g],m[g])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function xu(r,e){return(r.values||[]).find((n=>Fr(n,e)))!==void 0}function Vo(r,e){if(r===e)return 0;const n=ys(r),s=ys(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=Et(u.integerValue||u.doubleValue),g=Et(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return A1(r.timestampValue,e.timestampValue);case 4:return A1(Su(r),Su(e));case 5:return Ep(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=gs(u),g=gs(h);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Ve(m[p],g[p]);if(E!==0)return E}return Ve(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(Et(u.latitude),Et(h.latitude));return m!==0?m:Ve(Et(u.longitude),Et(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return S1(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},p=m[Yh]?.arrayValue,E=g[Yh]?.arrayValue,b=Ve(p?.values?.length||0,E?.values?.length||0);return b!==0?b:S1(p,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===bh.mapValue&&h===bh.mapValue)return 0;if(u===bh.mapValue)return 1;if(h===bh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const w=Ep(g[b],E[b]);if(w!==0)return w;const M=Vo(m[g[b]],p[E[b]]);if(M!==0)return M}return Ve(g.length,E.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function A1(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=ps(r),s=ps(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function S1(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Vo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function Po(r){return Tp(r)}function Tp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ps(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return gs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return _e.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Tp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Tp(n.fields[h])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function Dh(r){switch(ys(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(r);return e?16+Dh(e):16;case 5:return 2*r.stringValue.length;case 6:return gs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Dh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return bs(s.fields,((u,h)=>{o+=u.length+Dh(h)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function w1(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function bp(r){return!!r&&"integerValue"in r}function og(r){return!!r&&"arrayValue"in r}function x1(r){return!!r&&"nullValue"in r}function R1(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Oh(r){return!!r&&"mapValue"in r}function qk(r){return(r?.mapValue?.fields||{})[tb]?.stringValue===nb}function pu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return bs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=pu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pu(r.arrayValue.values[n]);return e}return{...r}}function Hk(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Bk}class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(n)}setAll(e){let n=Wt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=pu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){bs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new _n(pu(this.value))}}function rb(r){const e=[];return bs(r.fields,((n,s)=>{const o=new Wt([n]);if(Oh(s)){const u=rb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new In(e)}class nn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Ae.min(),Ae.min(),Ae.min(),_n.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Ae.min(),Ae.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Ae.min(),Ae.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wh{constructor(e,n){this.position=e,this.inclusive=n}}function I1(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),n.key):s=Vo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function C1(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Fr(r.position[n],e.position[n]))return!1;return!0}class Ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function Fk(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class ib{}class Ot extends ib{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Kk(e,n,s):n==="array-contains"?new Yk(e,s):n==="in"?new Wk(e,s):n==="not-in"?new Xk(e,s):n==="array-contains-any"?new Zk(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Qk(e,s):new $k(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vo(n,this.value)):n!==null&&ys(this.value)===ys(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends ib{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new dr(e,n)}matches(e){return sb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sb(r){return r.op==="and"}function ab(r){return Gk(r)&&sb(r)}function Gk(r){for(const e of r.filters)if(e instanceof dr)return!1;return!0}function Ap(r){if(r instanceof Ot)return r.field.canonicalString()+r.op.toString()+Po(r.value);if(ab(r))return r.filters.map((e=>Ap(e))).join(",");{const e=r.filters.map((n=>Ap(n))).join(",");return`${r.op}(${e})`}}function ob(r,e){return r instanceof Ot?(function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&Fr(s.value,o.value)})(r,e):r instanceof dr?(function(s,o){return o instanceof dr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&ob(h,o.filters[m])),!0):!1})(r,e):void Te(19439)}function lb(r){return r instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Po(n.value)}`})(r):r instanceof dr?(function(n){return n.op.toString()+" {"+n.getFilters().map(lb).join(" ,")+"}"})(r):"Filter"}class Kk extends Ot{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class Qk extends Ot{constructor(e,n){super(e,"in",n),this.keys=ub("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class $k extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=ub("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ub(r,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class Yk extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return og(n)&&xu(n.arrayValue,this.value)}}class Wk extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class Xk extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xu(this.value.arrayValue,n)}}class Zk extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!og(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>xu(this.value.arrayValue,s)))}}class Jk{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function k1(r,e=null,n=[],s=[],o=null,u=null,h=null){return new Jk(r,e,n,s,o,u,h)}function lg(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Ap(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Po(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Po(s))).join(",")),e.Te=n}return e.Te}function ug(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Fk(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!ob(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!C1(r.startAt,e.startAt)&&C1(r.endAt,e.endAt)}function Sp(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Xo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function eN(r,e,n,s,o,u,h,m){return new Xo(r,e,n,s,o,u,h,m)}function Tf(r){return new Xo(r)}function N1(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function tN(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function cb(r){return r.collectionGroup!==null}function gu(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new jt(Wt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ru(u,s))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new Ru(Wt.keyField(),s))}return e.Ie}function zr(r){const e=we(r);return e.Ee||(e.Ee=nN(e,gu(r))),e.Ee}function nN(r,e){if(r.limitType==="F")return k1(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ru(o.field,u)}));const n=r.endAt?new Wh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Wh(r.startAt.position,r.startAt.inclusive):null;return k1(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function wp(r,e){const n=r.filters.concat([e]);return new Xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function rN(r,e){const n=r.explicitOrderBy.concat([e]);return new Xo(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function xp(r,e,n){return new Xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function bf(r,e){return ug(zr(r),zr(e))&&r.limitType===e.limitType}function hb(r){return`${lg(zr(r))}|lt:${r.limitType}`}function Ao(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>lb(o))).join(", ")}]`),vf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Po(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Po(o))).join(",")),`Target(${s})`})(zr(r))}; limitType=${r.limitType})`}function Af(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of gu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const p=I1(h,m,g);return h.inclusive?p<=0:p<0})(s.startAt,gu(s),o)||s.endAt&&!(function(h,m,g){const p=I1(h,m,g);return h.inclusive?p>=0:p>0})(s.endAt,gu(s),o))})(r,e)}function iN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fb(r){return(e,n)=>{let s=!1;for(const o of gu(r)){const u=sN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function sN(r,e,n){const s=r.field.isKeyField()?_e.comparator(e.key,n.key):(function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?Vo(g,p):Te(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}class va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return YT(this.inner)}size(){return this.innerSize}}const aN=new ht(_e.comparator);function Ei(){return aN}const db=new ht(_e.comparator);function cu(...r){let e=db;for(const n of r)e=e.insert(n.key,n);return e}function mb(r){let e=db;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function aa(){return yu()}function pb(){return yu()}function yu(){return new va((r=>r.toString()),((r,e)=>r.isEqual(e)))}const oN=new ht(_e.comparator),lN=new jt(_e.comparator);function Pe(...r){let e=lN;for(const n of r)e=e.add(n);return e}const uN=new jt(Ve);function cN(){return uN}function cg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function gb(r){return{integerValue:""+r}}function hN(r,e){return Lk(e)?gb(e):cg(r,e)}class Sf{constructor(){this._=void 0}}function fN(r,e,n){return r instanceof Iu?(function(o,u){const h={fields:{[ZT]:{stringValue:XT},[eb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ag(u)&&(u=Ef(u)),u&&(h.fields[JT]=u),{mapValue:h}})(n,e):r instanceof Cu?_b(r,e):r instanceof ku?vb(r,e):(function(o,u){const h=yb(o,u),m=D1(h)+D1(o.Ae);return bp(h)&&bp(o.Ae)?gb(m):cg(o.serializer,m)})(r,e)}function dN(r,e,n){return r instanceof Cu?_b(r,e):r instanceof ku?vb(r,e):n}function yb(r,e){return r instanceof Xh?(function(s){return bp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Iu extends Sf{}class Cu extends Sf{constructor(e){super(),this.elements=e}}function _b(r,e){const n=Eb(e);for(const s of r.elements)n.some((o=>Fr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ku extends Sf{constructor(e){super(),this.elements=e}}function vb(r,e){let n=Eb(e);for(const s of r.elements)n=n.filter((o=>!Fr(o,s)));return{arrayValue:{values:n}}}class Xh extends Sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function D1(r){return Et(r.integerValue||r.doubleValue)}function Eb(r){return og(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class mN{constructor(e,n){this.field=e,this.transform=n}}function pN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Cu&&o instanceof Cu||s instanceof ku&&o instanceof ku?Lo(s.elements,o.elements,Fr):s instanceof Xh&&o instanceof Xh?Fr(s.Ae,o.Ae):s instanceof Iu&&o instanceof Iu})(r.transform,e.transform)}class gN{constructor(e,n){this.version=e,this.transformResults=n}}class ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class wf{}function Tb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new hg(r.key,ur.none()):new ju(r.key,r.data,ur.none());{const n=r.data,s=_n.empty();let o=new jt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new As(r.key,s,new In(o.toArray()),ur.none())}}function yN(r,e,n){r instanceof ju?(function(o,u,h){const m=o.value.clone(),g=M1(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof As?(function(o,u,h){if(!Mh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=M1(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(bb(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function _u(r,e,n,s){return r instanceof ju?(function(u,h,m,g){if(!Mh(u.precondition,h))return m;const p=u.value.clone(),E=L1(u.fieldTransforms,g,h);return p.setAll(E),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof As?(function(u,h,m,g){if(!Mh(u.precondition,h))return m;const p=L1(u.fieldTransforms,g,h),E=h.data;return E.setAll(bb(u)),E.setAll(p),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,h,m){return Mh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function _N(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=yb(s.transform,o||null);u!=null&&(n===null&&(n=_n.empty()),n.set(s.field,u))}return n||null}function O1(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Lo(s,o,((u,h)=>pN(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ju extends wf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends wf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function bb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function M1(r,e,n){const s=new Map;Ke(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,dN(h,m,n[o]))}return s}function L1(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,fN(u,h,e))}return s}class hg extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vN extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class EN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&yN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=_u(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=_u(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=pb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=Tb(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,((n,s)=>O1(n,s)))&&Lo(this.baseMutations,e.baseMutations,((n,s)=>O1(n,s)))}}class fg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return oN})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new fg(e,n,s,o)}}class TN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class bN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,ze;function AN(r){switch(r){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function Ab(r){if(r===void 0)return vi("GRPC error has no .code"),J.UNKNOWN;switch(r){case Dt.OK:return J.OK;case Dt.CANCELLED:return J.CANCELLED;case Dt.UNKNOWN:return J.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return J.INTERNAL;case Dt.UNAVAILABLE:return J.UNAVAILABLE;case Dt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Dt.NOT_FOUND:return J.NOT_FOUND;case Dt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Dt.ABORTED:return J.ABORTED;case Dt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Dt.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:r})}}(ze=Dt||(Dt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function SN(){return new TextEncoder}const wN=new hs([4294967295,4294967295],0);function V1(r){const e=SN().encode(r),n=new jT;return n.update(e),new Uint8Array(n.digest())}function P1(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new hs([n,s],0),new hs([o,u],0)]}class dg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new hu(`Invalid padding: ${n}`);if(s<0)throw new hu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new hu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=hs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(hs.fromNumber(s)));return o.compare(wN)===1&&(o=new hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=V1(e),[s,o]=P1(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new dg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=V1(e),[s,o]=P1(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new xf(Ae.min(),o,new ht(Ve),Ei(),Pe())}}class Uu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Uu(s,n,Pe(),Pe(),Pe())}}class Lh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Sb{constructor(e,n){this.targetId=e,this.Ce=n}}class wb{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class j1{constructor(){this.ve=0,this.Fe=U1(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}})),new Uu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=U1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class xN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ei(),this.He=Ah(),this.Je=Ah(),this.Ze=new ht(Ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Sp(u))if(s===0){const h=new _e(u.path);this.et(n,h,nn.newNoDocument(h,Ae.min()))}else Ke(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=gs(s).toUint8Array()}catch(g){if(g instanceof WT)return Mo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new dg(h,o,u)}catch(g){return Mo(g instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Sp(m.target)){const g=new _e(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,nn.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=Pe();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new xf(e,n,this.Ze,this.je,s);return this.je=Ei(),this.He=Ah(),this.Je=Ah(),this.Ze=new ht(Ve),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new j1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new jt(Ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new jt(Ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new j1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ah(){return new ht(_e.comparator)}function U1(){return new ht(_e.comparator)}const RN={asc:"ASCENDING",desc:"DESCENDING"},IN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CN={and:"AND",or:"OR"};class kN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rp(r,e){return r.useProto3Json||vf(e)?e:{value:e}}function Zh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function NN(r,e){return Zh(r,e.toTimestamp())}function Br(r){return Ke(!!r,49232),Ae.fromTimestamp((function(n){const s=ps(n);return new tt(s.seconds,s.nanos)})(r))}function mg(r,e){return Ip(r,e).canonicalString()}function Ip(r,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Rb(r){const e=rt.fromString(r);return Ke(Db(e),10190,{key:e.toString()}),e}function Cp(r,e){return mg(r.databaseId,e.path)}function tp(r,e){const n=Rb(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _e(Cb(n))}function Ib(r,e){return mg(r.databaseId,e)}function DN(r){const e=Rb(r);return e.length===4?rt.emptyPath():Cb(e)}function kp(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Cb(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function z1(r,e,n){return{name:Cp(r,e),fields:n.value.mapValue.fields}}function ON(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(Ke(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const E=p.code===void 0?J.UNKNOWN:Ab(p.code);return new ue(E,p.message||"")})(h);n=new wb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=tp(r,s.document.name),u=Br(s.document.updateTime),h=s.document.createTime?Br(s.document.createTime):Ae.min(),m=new _n({mapValue:{fields:s.document.fields}}),g=nn.newFoundDocument(o,u,h,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new Lh(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=tp(r,s.document),u=s.readTime?Br(s.readTime):Ae.min(),h=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Lh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=tp(r,s.document),u=s.removedTargetIds||[];n=new Lh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new bN(o,u),m=s.targetId;n=new Sb(m,h)}}return n}function MN(r,e){let n;if(e instanceof ju)n={update:z1(r,e.key,e.value)};else if(e instanceof hg)n={delete:Cp(r,e.key)};else if(e instanceof As)n={update:z1(r,e.key,e.data),updateMask:HN(e.fieldMask)};else{if(!(e instanceof vN))return Te(16599,{dt:e.type});n={verify:Cp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Iu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Cu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ku)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Xh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:NN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(r,e.precondition)),n}function LN(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Br(o.updateTime):Br(u);return h.isEqual(Ae.min())&&(h=Br(u)),new gN(h,o.transformResults||[])})(n,e)))):[]}function VN(r,e){return{documents:[Ib(r,e.path)]}}function PN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Ib(r,o);const u=(function(p){if(p.length!==0)return Nb(dr.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((E=>(function(w){return{field:So(w.field),direction:zN(w.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Rp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function jN(r){let e=DN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const w=kb(b);return w instanceof dr&&ab(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((w=>(function(G){return new Ru(wo(G.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let w;return w=typeof b=="object"?b.value:b,vf(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(b){const w=!!b.before,M=b.values||[];return new Wh(M,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const w=!b.before,M=b.values||[];return new Wh(M,w)})(n.endAt)),eN(e,o,h,u,m,"F",g,p)}function UN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=wo(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=wo(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=wo(n.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=wo(n.unaryFilter.field);return Ot.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ot.create(wo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return dr.create(n.compositeFilter.filters.map((s=>kb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(r):Te(30097,{filter:r})}function zN(r){return RN[r]}function BN(r){return IN[r]}function qN(r){return CN[r]}function So(r){return{fieldPath:r.canonicalString()}}function wo(r){return Wt.fromServerFormat(r.fieldPath)}function Nb(r){return r instanceof Ot?(function(n){if(n.op==="=="){if(R1(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(x1(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(R1(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(x1(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:BN(n.op),value:n.value}}})(r):r instanceof dr?(function(n){const s=n.getFilters().map((o=>Nb(o)));return s.length===1?s[0]:{compositeFilter:{op:qN(n.op),filters:s}}})(r):Te(54877,{filter:r})}function HN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Db(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function Ob(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class os{constructor(e,n,s,o,u=Ae.min(),h=Ae.min(),m=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class FN{constructor(e){this.yt=e}}function GN(r){const e=jN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xp(e,e.limit,"L"):e}class KN{constructor(){this.Sn=new QN}addToCollectionParentIndex(e,n){return this.Sn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ms.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class QN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new jt(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jt(rt.comparator)).toArray()}}const B1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mb=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(Mb,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class jo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new jo(0)}static ar(){return new jo(-1)}}const q1="LruGarbageCollector",$N=1048576;function H1([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class YN{constructor(e){this.Pr=e,this.buffer=new jt(H1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();H1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(q1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wo(n)?ce(q1,"Ignoring IndexedDB error during garbage collection: ",n):await Yo(n)}await this.Ar(3e5)}))}}class XN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(_f.ce);const s=new YN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(B1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),bo()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function ZN(r,e){return new XN(r,e)}class JN{constructor(){this.changes=new va((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class e4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class t4{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&_u(s.mutation,o,In.empty(),tt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=aa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=cu();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=aa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Ei();const h=yu(),m=(function(){return yu()})();return n.forEach(((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof As)?u=u.insert(p.key,p):E!==void 0?(h.set(p.key,E.mutation.getFieldMask()),_u(E.mutation,p,E.mutation.getFieldMask(),tt.now())):h.set(p.key,In.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,E)=>h.set(p,E))),n.forEach(((p,E)=>m.set(p,new e4(E,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=yu();let o=new ht(((h,m)=>h-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||In.empty();E=m.applyToLocalView(p,E),s.set(g,E);const b=(o.get(m.batchId)||Pe()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,b=pb();E.forEach((w=>{if(!u.has(w)){const M=Tb(n.get(w),s.get(w));M!==null&&b.set(w,M),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return tN(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(aa());let m=Au,g=u;return h.next((p=>ne.forEach(p,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Pe()))).next((E=>({batchId:m,changes:mb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let o=cu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=cu();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(g=>{const p=(function(b,w){return new Xo(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((b,w)=>{h=h.insert(b,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((g,p)=>{const E=p.getKey();h.get(E)===null&&(h=h.insert(E,nn.newInvalidDocument(E)))}));let m=cu();return h.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&_u(E.mutation,p,In.empty(),tt.now()),Af(n,p)&&(m=m.insert(g,p))})),m}))}}class n4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ne.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Br(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:GN(o.bundledQuery),readTime:Br(o.readTime)}})(n)),ne.resolve()}}class r4{constructor(){this.overlays=new ht(_e.comparator),this.Lr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=aa();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=aa(),u=n.length+1,h=new _e(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((p,E)=>p-E));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=aa(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=aa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return ne.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new TN(n,s));let u=this.Lr.get(n);u===void 0&&(u=Pe(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class i4{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class pg{constructor(){this.kr=new jt(qt.Kr),this.qr=new jt(qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new qt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new _e(new rt([])),s=new qt(n,e),o=new qt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new _e(new rt([])),s=new qt(n,e),o=new qt(n,e+1);let u=Pe();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new qt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return _e.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||_e.comparator(e.key,n.key)}}class s4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new jt(qt.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new EN(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?sg:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jt(Ve);return n.forEach((o=>{const u=new qt(o,0),h=new qt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),ne.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const h=new qt(new _e(u),0);let m=new jt(Ve);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)}),h),ne.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ne.forEach(n.mutations,(o=>{const u=new qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new qt(n,0),o=this.Jr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class a4{constructor(e){this.ti=e,this.docs=(function(){return new ht(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=Ei();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ei();const h=n.path,m=new _e(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||Nk(kk(E),s)<=0||(o.has(E.key)||Af(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ni(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new o4(this)}getSize(e){return ne.resolve(this.size)}}class o4 extends JN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class l4{constructor(e){this.persistence=e,this.ri=new va((n=>lg(n)),ug),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ii=0,this.si=new pg,this.targetCount=0,this.oi=jo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ne.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.lr(n),ne.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this.si.containsKey(n))}}class Lb{constructor(e,n){this._i={},this.overlays={},this.ai=new _f(0),this.ui=!1,this.ui=!0,this.ci=new i4,this.referenceDelegate=e(this),this.li=new l4(this),this.indexManager=new KN,this.remoteDocumentCache=(function(o){return new a4(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new FN(n),this.Pi=new n4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new r4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new s4(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new u4(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ne.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class u4 extends Ok{constructor(e){super(),this.currentSequenceNumber=e}}class gg{constructor(e){this.persistence=e,this.Ri=new pg,this.Ai=null}static Vi(e){return new gg(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(s=>{const o=_e.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Jh{constructor(e,n){this.persistence=e,this.fi=new va((s=>Vk(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=ZN(this,n)}static Vi(e,n){return new Jh(e,n)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ne.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dh(e.data.value)),n}wr(e,n,s){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class yg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new yg(e,n.fromCache,s,o)}}class c4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class h4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Lx()?8:Mk(rn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new c4;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(bo()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(bo()<=Le.DEBUG&&ce("QueryEngine","Query:",Ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(bo()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(n))):ne.resolve())}gs(e,n){if(N1(n))return ne.resolve(null);let s=zr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=xp(n,null,"F"),s=zr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Pe(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.bs(n,m);return this.Ss(n,p,h,g.readTime)?this.gs(e,xp(n,null,"F")):this.Ds(e,p,n,g)}))))})))))}ps(e,n,s,o){return N1(n)||o.isEqual(Ae.min())?ne.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?ne.resolve(null):(bo()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ao(n)),this.Ds(e,h,n,Ck(o,Au)).next((m=>m)))}))}bs(e,n){let s=new jt(fb(e));return n.forEach(((o,u)=>{Af(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return bo()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ao(n)),this.fs.getDocumentsMatchingQuery(e,n,ms.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const _g="LocalStore",f4=3e8;class d4{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ht(Ve),this.Fs=new va((u=>lg(u)),ug),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function m4(r,e,n,s){return new d4(r,e,n,s)}async function Vb(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let g=Pe();for(const p of o){h.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ns:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function p4(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const b=p.batch,w=b.keys();let M=ne.resolve();return w.forEach((G=>{M=M.next((()=>E.getEntry(g,G))).next((K=>{const Y=p.docVersions.get(G);Ke(Y!==null,48541),K.version.compareTo(Y)<0&&(b.applyToRemoteDocument(K,p),K.isValidDocument()&&(K.setReadTime(p.commitVersion),E.addEntry(K)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Pe();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Pb(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function g4(r,e){const n=we(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,b)=>{const w=o.get(b);if(!w)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,b))));let M=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?M=M.withResumeToken(Xt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(b,M),(function(K,Y,ie){return K.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=f4?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(w,M,E)&&m.push(n.li.updateTargetData(u,M))}));let g=Ei(),p=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(y4(u,h,e.documentUpdates).next((E=>{g=E.Bs,p=E.Ls}))),!s.isEqual(Ae.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.vs=o,u)))}function y4(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=Ei();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ce(_g,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function _4(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=sg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function v4(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new os(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Np(r,e,n){const s=we(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Wo(h))throw h;ce(_g,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function F1(r,e,n){const s=we(r);let o=Ae.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,E){const b=we(g),w=b.Fs.get(E);return w!==void 0?ne.resolve(b.vs.get(w)):b.li.getTargetData(p,E)})(s,h,zr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Ae.min(),n?u:Pe()))).next((m=>(E4(s,iN(e),m),{documents:m,ks:u})))))}function E4(r,e,n){let s=r.Ms.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class G1{constructor(){this.activeTargetIds=cN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class T4{constructor(){this.vo=new G1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new G1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class b4{Mo(e){}shutdown(){}}const K1="ConnectivityMonitor";class Q1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(K1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(K1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sh=null;function Dp(){return Sh===null?Sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sh++,"0x"+Sh.toString(16)}const np="RestConnection",A4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class S4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===$h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=Dp(),m=this.Qo(e,n.toUriEncodedString());ce(np,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:p}=new URL(m),E=Fo(p);return this.zo(e,m,g,s,E).then((b=>(ce(np,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw Mo(np,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=A4[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class w4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",au=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ko extends S4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ko.c_){const e=qT();au(e,BT.STAT_EVENT,(n=>{n.stat===vp.PROXY?ce(en,"STAT_EVENT: detected buffering proxy"):n.stat===vp.NOPROXY&&ce(en,"STAT_EVENT: detected no buffering proxy")})),ko.c_=!0}}zo(e,n,s,o,u){const h=Dp();return new Promise(((m,g)=>{const p=new UT;p.setWithCredentials(!0),p.listenOnce(zT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Nh.NO_ERROR:const b=p.getResponseJson();ce(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case Nh.TIMEOUT:ce(en,`RPC '${e}' ${h} timed out`),g(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case Nh.HTTP_ERROR:const w=p.getStatus();if(ce(en,`RPC '${e}' ${h} failed with status:`,w,"response text:",p.getResponseText()),w>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const G=M?.error;if(G&&G.status&&G.message){const K=(function(ie){const re=ie.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(re)>=0?re:J.UNKNOWN})(G.status);g(new ue(K,G.message))}else g(new ue(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(en,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);ce(en,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Dp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const p=u.join("");ce(en,`Creating RPC '${e}' stream ${o}: ${p}`,m);const E=h.createWebChannel(p,m);this.I_(E);let b=!1,w=!1;const M=new w4({Ho:G=>{w?ce(en,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(b||(ce(en,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),ce(en,`RPC '${e}' stream ${o} sending:`,G),E.send(G))},Jo:()=>E.close()});return au(E,uu.EventType.OPEN,(()=>{w||(ce(en,`RPC '${e}' stream ${o} transport opened.`),M.i_())})),au(E,uu.EventType.CLOSE,(()=>{w||(w=!0,ce(en,`RPC '${e}' stream ${o} transport closed`),M.o_(),this.E_(E))})),au(E,uu.EventType.ERROR,(G=>{w||(w=!0,Mo(en,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),M.o_(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),au(E,uu.EventType.MESSAGE,(G=>{if(!w){const K=G.data[0];Ke(!!K,16349);const Y=K,ie=Y?.error||Y[0]?.error;if(ie){ce(en,`RPC '${e}' stream ${o} received error:`,ie);const re=ie.status;let ae=(function(me){const C=Dt[me];if(C!==void 0)return Ab(C)})(re),se=ie.message;ae===void 0&&(ae=J.INTERNAL,se="Unknown error status: "+re+" with message "+ie.message),w=!0,M.o_(new ue(ae,se)),E.close()}else ce(en,`RPC '${e}' stream ${o} received:`,K),M.__(K)}})),ko.u_(),setTimeout((()=>{M.s_()}),0),M}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return HT()}}function x4(r){return new ko(r)}function rp(){return typeof document<"u"?document:null}function Rf(r){return new kN(r,!0)}ko.c_=!1;class jb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const $1="PersistentStream";class Ub{constructor(e,n,s,o,u,h,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(vi(n.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce($1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce($1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class R4 extends Ub{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ON(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?Br(h.readTime):Ae.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=kp(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=Sp(g)?{documents:VN(u,g)}:{query:PN(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=xb(u,h.resumeToken);const p=Rp(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Zh(u,h.snapshotVersion.toTimestamp());const p=Rp(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=UN(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=kp(this.serializer),n.removeTarget=e,this.K_(n)}}class I4 extends Ub{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LN(e.writeResults,e.commitTime),s=Br(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=kp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>MN(this.serializer,s)))};this.K_(n)}}class C4{}class k4 extends C4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,Ip(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(J.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Ip(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function N4(r,e,n,s){return new k4(r,e,n,s)}class D4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vi(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const fa="RemoteStore";class O4{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{Ea(this)&&(ce(fa,"Restarting streams for network reachability change."),await(async function(g){const p=we(g);p.Ea.add(4),await zu(p),p.Va.set("Unknown"),p.Ea.delete(4),await If(p)})(this))}))})),this.Va=new D4(s,o)}}async function If(r){if(Ea(r))for(const e of r.Ra)await e(!0)}async function zu(r){for(const e of r.Ra)await e(!1)}function zb(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),bg(n)?Tg(n):Zo(n).O_()&&Eg(n,e))}function vg(r,e){const n=we(r),s=Zo(n);n.Ia.delete(e),s.O_()&&Bb(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ea(n)&&n.Va.set("Unknown"))}function Eg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zo(r).Z_(e)}function Bb(r,e){r.da.$e(e),Zo(r).X_(e)}function Tg(r){r.da=new xN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Zo(r).start(),r.Va.ua()}function bg(r){return Ea(r)&&!Zo(r).x_()&&r.Ia.size>0}function Ea(r){return we(r).Ea.size===0}function qb(r){r.da=void 0}async function M4(r){r.Va.set("Online")}async function L4(r){r.Ia.forEach(((e,n)=>{Eg(r,e)}))}async function V4(r,e){qb(r),bg(r)?(r.Va.ha(e),Tg(r)):r.Va.set("Unknown")}async function P4(r,e,n){if(r.Va.set("Online"),e instanceof wb&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){ce(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ef(r,s)}else if(e instanceof Lh?r.da.Xe(e):e instanceof Sb?r.da.st(e):r.da.tt(e),!n.isEqual(Ae.min()))try{const s=await Pb(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),Bb(u,g);const b=new os(E.target,g,p,E.sequenceNumber);Eg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(fa,"Failed to raise snapshot:",s),await ef(r,s)}}async function ef(r,e,n){if(!Wo(e))throw e;r.Ea.add(1),await zu(r),r.Va.set("Offline"),n||(n=()=>Pb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(fa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await If(r)}))}function Hb(r,e){return e().catch((n=>ef(r,n,e)))}async function Cf(r){const e=we(r),n=_s(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sg;for(;j4(e);)try{const o=await _4(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,U4(e,o)}catch(o){await ef(e,o)}Fb(e)&&Gb(e)}function j4(r){return Ea(r)&&r.Ta.length<10}function U4(r,e){r.Ta.push(e);const n=_s(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function Fb(r){return Ea(r)&&!_s(r).x_()&&r.Ta.length>0}function Gb(r){_s(r).start()}async function z4(r){_s(r).ra()}async function B4(r){const e=_s(r);for(const n of r.Ta)e.ea(n.mutations)}async function q4(r,e,n){const s=r.Ta.shift(),o=fg.from(s,e,n);await Hb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Cf(r)}async function H4(r,e){e&&_s(r).Y_&&await(async function(s,o){if((function(h){return AN(h)&&h!==J.ABORTED})(o.code)){const u=s.Ta.shift();_s(s).B_(),await Hb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Cf(s)}})(r,e),Fb(r)&&Gb(r)}async function Y1(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ce(fa,"RemoteStore received new credentials");const s=Ea(n);n.Ea.add(3),await zu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await If(n)}async function F4(r,e){const n=we(r);e?(n.Ea.delete(2),await If(n)):e||(n.Ea.add(2),await zu(n),n.Va.set("Unknown"))}function Zo(r){return r.ma||(r.ma=(function(n,s,o){const u=we(n);return u.sa(),new R4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:M4.bind(null,r),Yo:L4.bind(null,r),t_:V4.bind(null,r),J_:P4.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),bg(r)?Tg(r):r.Va.set("Unknown")):(await r.ma.stop(),qb(r))}))),r.ma}function _s(r){return r.fa||(r.fa=(function(n,s,o){const u=we(n);return u.sa(),new I4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:z4.bind(null,r),t_:H4.bind(null,r),ta:B4.bind(null,r),na:q4.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Cf(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(fa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Ag{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Ag(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(r,e){if(vi("AsyncQueue",`${e}: ${r}`),Wo(r))return new ue(J.UNAVAILABLE,`${e}: ${r}`);throw r}class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=cu(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new No;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class W1{constructor(){this.ga=new ht(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Uo{constructor(e,n,s,o,u,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Uo(e,n,No.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class G4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class K4{constructor(){this.queries=X1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=X1(),u.forEach(((h,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function X1(){return new va((r=>hb(r)),bf)}async function wg(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new G4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Sg(h,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Rg(n)}async function xg(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Q4(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&Rg(n)}function $4(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Rg(r){r.Ca.forEach((e=>{e.next()}))}var Op,Z1;(Z1=Op||(Op={})).Ma="default",Z1.Cache="cache";class Ig{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Op.Cache}}class Kb{constructor(e){this.key=e}}class Qb{constructor(e){this.key=e}}class Y4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pe(),this.mutatedKeys=Pe(),this.eu=fb(e),this.tu=new No(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new W1,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const w=o.get(E),M=Af(this.query,b)?b:null,G=!!w&&this.mutatedKeys.has(w.key),K=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let Y=!1;w&&M?w.data.isEqual(M.data)?G!==K&&(s.track({type:3,doc:M}),Y=!0):this.su(w,M)||(s.track({type:2,doc:M}),Y=!0,(g&&this.eu(M,g)>0||p&&this.eu(M,p)<0)&&(m=!0)):!w&&M?(s.track({type:0,doc:M}),Y=!0):w&&!M&&(s.track({type:1,doc:w}),Y=!0,(g||p)&&(m=!0)),Y&&(M?(h=h.add(M),u=K?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,b)=>(function(M,G){const K=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:Y})}};return K(M)-K(G)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Xa;return this.Xa=g,h.length!==0||p?{snapshot:new Uo(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new Qb(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new Kb(s))})),n}cu(e){this.Za=e.ks,this.Ya=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Cg="SyncEngine";class W4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class X4{constructor(e){this.key=e,this.hu=!1}}class Z4{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new va((m=>hb(m)),bf),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(_e.comparator),this.Au=new Map,this.Vu=new pg,this.du={},this.mu=new Map,this.fu=jo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function J4(r,e,n=!0){const s=Jb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await $b(s,e,n,!0),o}async function e6(r,e){const n=Jb(r);await $b(n,e,!0,!1)}async function $b(r,e,n,s){const o=await v4(r.localStore,zr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await t6(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&zb(r.remoteStore,o),m}async function t6(r,e,n,s,o){r.pu=(b,w,M)=>(async function(K,Y,ie,re){let ae=Y.view.ru(ie);ae.Ss&&(ae=await F1(K.localStore,Y.query,!1).then((({documents:C})=>Y.view.ru(C,ae))));const se=re&&re.targetChanges.get(Y.targetId),pe=re&&re.targetMismatches.get(Y.targetId)!=null,me=Y.view.applyChanges(ae,K.isPrimaryClient,se,pe);return eE(K,Y.targetId,me.au),me.snapshot})(r,b,w,M);const u=await F1(r.localStore,e,!0),h=new Y4(e,u.ks),m=h.ru(u.documents),g=Uu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=h.applyChanges(m,r.isPrimaryClient,g);eE(r,n,p.au);const E=new W4(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function n6(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!bf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Np(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&vg(s.remoteStore,o.targetId),Mp(s,o.targetId)})).catch(Yo)):(Mp(s,o.targetId),await Np(s.localStore,o.targetId,!0))}async function r6(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),vg(n.remoteStore,s.targetId))}async function i6(r,e,n){const s=h6(r);try{const o=await(function(h,m){const g=we(h),p=tt.now(),E=m.reduce(((M,G)=>M.add(G.key)),Pe());let b,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let G=Ei(),K=Pe();return g.xs.getEntries(M,E).next((Y=>{G=Y,G.forEach(((ie,re)=>{re.isValidDocument()||(K=K.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(M,G))).next((Y=>{b=Y;const ie=[];for(const re of m){const ae=_N(re,b.get(re.key).overlayedDocument);ae!=null&&ie.push(new As(re.key,ae,rb(ae.value.mapValue),ur.exists(!0)))}return g.mutationQueue.addMutationBatch(M,p,ie,m)})).next((Y=>{w=Y;const ie=Y.applyToLocalDocumentSet(b,K);return g.documentOverlayCache.saveOverlays(M,Y.batchId,ie)}))})).then((()=>({batchId:w.batchId,changes:mb(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.du[h.currentUser.toKey()];p||(p=new ht(Ve)),p=p.insert(m,g),h.du[h.currentUser.toKey()]=p})(s,o.batchId,n),await Bu(s,o.changes),await Cf(s.remoteStore)}catch(o){const u=Sg(o,"Failed to persist write");n.reject(u)}}async function Yb(r,e){const n=we(r);try{const s=await g4(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ke(h.hu,14607):o.removedDocuments.size>0&&(Ke(h.hu,42227),h.hu=!1))})),await Bu(n,s,e)}catch(s){await Yo(s)}}function J1(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=we(h);g.onlineState=m;let p=!1;g.queries.forEach(((E,b)=>{for(const w of b.ba)w.va(m)&&(p=!0)})),p&&Rg(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function s6(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ht(_e.comparator);h=h.insert(u,nn.newNoDocument(u,Ae.min()));const m=Pe().add(u),g=new xf(Ae.min(),new Map,new ht(Ve),h,m);await Yb(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(e),kg(s)}else await Np(s.localStore,e,!1).then((()=>Mp(s,e,n))).catch(Yo)}async function a6(r,e){const n=we(r),s=e.batch.batchId;try{const o=await p4(n.localStore,e);Xb(n,s,null),Wb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Bu(n,o)}catch(o){await Yo(o)}}async function o6(r,e,n){const s=we(r);try{const o=await(function(h,m){const g=we(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((b=>(Ke(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(p,b)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);Xb(s,e,n),Wb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Bu(s,o)}catch(o){await Yo(o)}}function Wb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function Xb(r,e,n){const s=we(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Mp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||Zb(r,s)}))}function Zb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(vg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),kg(r))}function eE(r,e,n){for(const s of n)s instanceof Kb?(r.Vu.addReference(s.key,e),l6(r,s)):s instanceof Qb?(ce(Cg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||Zb(r,s.key)):Te(19791,{wu:s})}function l6(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(ce(Cg,"New document in limbo: "+n),r.Eu.add(s),kg(r))}function kg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new _e(rt.fromString(e)),s=r.fu.next();r.Au.set(s,new X4(n)),r.Ru=r.Ru.insert(n,s),zb(r.remoteStore,new os(zr(Tf(n.path)),s,"TargetPurposeLimboResolution",_f.ce))}}async function Bu(r,e,n){const s=we(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){o.push(p);const E=yg.Es(g.targetId,p);u.push(E)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(g,p){const E=we(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ne.forEach(p,(w=>ne.forEach(w.Ts,(M=>E.persistence.referenceDelegate.addReference(b,w.targetId,M))).next((()=>ne.forEach(w.Is,(M=>E.persistence.referenceDelegate.removeReference(b,w.targetId,M)))))))))}catch(b){if(!Wo(b))throw b;ce(_g,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const M=E.vs.get(w),G=M.snapshotVersion,K=M.withLastLimboFreeSnapshotVersion(G);E.vs=E.vs.insert(w,K)}}})(s.localStore,u))}async function u6(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ce(Cg,"User change. New user:",e.toKey());const s=await Vb(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ue(J.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bu(n,s.Ns)}}function c6(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Jb(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s6.bind(null,e),e.Pu.J_=Q4.bind(null,e.eventManager),e.Pu.yu=$4.bind(null,e.eventManager),e}function h6(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o6.bind(null,e),e}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return m4(this.persistence,new h4,e.initialUser,this.serializer)}Cu(e){return new Lb(gg.Vi,this.serializer)}Du(e){return new T4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class f6 extends tf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new WN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new Lb((s=>Jh.Vi(s,n)),this.serializer)}}class Lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>J1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=u6.bind(null,this.syncEngine),await F4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new K4})()}createDatastore(e){const n=Rf(e.databaseInfo.databaseId),s=x4(e.databaseInfo);return N4(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new O4(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>J1(this.syncEngine,n,0)),(function(){return Q1.v()?new Q1:new b4})())}createSyncEngine(e,n){return(function(o,u,h,m,g,p,E){const b=new Z4(o,u,h,m,g,p);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);ce(fa,"RemoteStore shutting down."),s.Ea.add(5),await zu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lp.provider={build:()=>new Lp};class Ng{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const vs="FirestoreClient";class d6{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ce(vs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ce(vs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Sg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ip(r,e){r.asyncQueue.verifyOperationInProgress(),ce(vs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Vb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function tE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await m6(r);ce(vs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>Y1(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>Y1(e.remoteStore,o))),r._onlineComponents=e}async function m6(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(vs,"Using user provided OfflineComponentProvider");try{await ip(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await ip(r,new tf)}}else ce(vs,"Using default OfflineComponentProvider"),await ip(r,new f6(void 0));return r._offlineComponents}async function e2(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(vs,"Using user provided OnlineComponentProvider"),await tE(r,r._uninitializedComponentsProvider._online)):(ce(vs,"Using default OnlineComponentProvider"),await tE(r,new Lp))),r._onlineComponents}function p6(r){return e2(r).then((e=>e.syncEngine))}async function nf(r){const e=await e2(r),n=e.eventManager;return n.onListen=J4.bind(null,e.syncEngine),n.onUnlisten=n6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=e6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=r6.bind(null,e.syncEngine),n}function g6(r,e,n,s){const o=new Ng(s),u=new Ig(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>wg(await nf(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>xg(await nf(r),u)))}}function y6(r,e,n={}){const s=new pi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const E=new Ng({next:w=>{E.Nu(),h.enqueueAndForget((()=>xg(u,b)));const M=w.docs.has(m);!M&&w.fromCache?p.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&w.fromCache&&g&&g.source==="server"?p.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new Ig(Tf(m.path),E,{includeMetadataChanges:!0,Ka:!0});return wg(u,b)})(await nf(r),r.asyncQueue,e,n,s))),s.promise}function _6(r,e,n={}){const s=new pi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const E=new Ng({next:w=>{E.Nu(),h.enqueueAndForget((()=>xg(u,b))),w.fromCache&&g.source==="server"?p.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new Ig(m,E,{includeMetadataChanges:!0,Ka:!0});return wg(u,b)})(await nf(r),r.asyncQueue,e,n,s))),s.promise}function v6(r,e){const n=new pi;return r.asyncQueue.enqueueAndForget((async()=>i6(await p6(r),e,n))),n.promise}function t2(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const E6="ComponentProvider",nE=new Map;function T6(r,e,n,s,o){return new Uk(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,t2(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const n2="firestore.googleapis.com",rE=!0;class iE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=n2,this.ssl=rE}else this.host=e.host,this.ssl=e.ssl??rE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Mb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$N)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ik("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=t2(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new _k;switch(s.type){case"firstParty":return new bk(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=nE.get(n);s&&(ce(E6,"Removing Datastore"),nE.delete(n),s.terminate())})(this),Promise.resolve()}}function b6(r,e,n,s={}){r=Cn(r,kf);const o=Fo(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&($E(`https://${m}`),YE("Firestore",!0)),u.host!==n2&&u.host!==m&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!ds(g,h)&&(r._setSettings(g),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=tn.MOCK_USER;else{p=Rx(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(b)}r._authCredentials=new vk(new GT(p,E))}}class Ss{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ss(this.firestore,e,this._query)}}class mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Pu(n,mt._jsonSchema))return new mt(e,s||null,new _e(rt.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Mt("string",mt._jsonSchemaVersion),referencePath:Mt("string")};class fs extends Ss{constructor(e,n,s){super(e,n,Tf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new _e(e))}withConverter(e){return new fs(this.firestore,e,this._path)}}function ws(r,e,...n){if(r=pt(r),KT("collection","path",e),r instanceof kf){const s=rt.fromString(e,...n);return y1(s),new fs(r,null,s)}{if(!(r instanceof mt||r instanceof fs))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return y1(s),new fs(r.firestore,null,s)}}function $n(r,e,...n){if(r=pt(r),arguments.length===1&&(e=ig.newId()),KT("doc","path",e),r instanceof kf){const s=rt.fromString(e,...n);return g1(s),new mt(r,null,new _e(s))}{if(!(r instanceof mt||r instanceof fs))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return g1(s),new mt(r.firestore,r instanceof fs?r.converter:null,new _e(s))}}const sE="AsyncQueue";class aE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jb(this,"async_queue_retry"),this._c=()=>{const s=rp();s&&ce(sE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=rp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new pi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Wo(e))throw e;ce(sE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,vi("INTERNAL UNHANDLED ERROR: ",oE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ag.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:oE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function oE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Es extends kf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new aE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aE(e),this._firestoreClient=void 0,await e}}}function A6(r,e){const n=typeof r=="object"?r:$p(),s=typeof r=="string"?r:$h,o=ya(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=wx("firestore");u&&b6(o,...u)}return o}function Nf(r){if(r._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||S6(r),r._firestoreClient}function S6(r){const e=r._freezeSettings(),n=T6(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new d6(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Xt.fromBase64String(e))}catch(n){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Mt("string",Gn._jsonSchemaVersion),bytes:Mt("string")};class Dg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Df{constructor(e){this._methodName=e}}class qr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qr._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,qr._jsonSchema))return new qr(e.latitude,e.longitude)}}qr._jsonSchemaVersion="firestore/geoPoint/1.0",qr._jsonSchema={type:Mt("string",qr._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class cr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new cr(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cr._jsonSchemaVersion="firestore/vectorValue/1.0",cr._jsonSchema={type:Mt("string",cr._jsonSchemaVersion),vectorValues:Mt("object")};const w6=/^__.*__$/;class x6{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,n,this.fieldTransforms):new ju(e,this.data,n,this.fieldTransforms)}}class r2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new As(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function i2(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:r})}}class Og{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return rf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(i2(this.dataSource)&&w6.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class R6{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Rf(e)}createContext(e,n,s,o=!1){return new Og({dataSource:e,methodName:n,targetDoc:s,path:Wt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mg(r){const e=r._freezeSettings(),n=Rf(r._databaseId);return new R6(r._databaseId,!!e.ignoreUndefinedProperties,n)}function I6(r,e,n,s,o,u={}){const h=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);Vg("Data must be an object, but it was:",h,s);const m=s2(s,h);let g,p;if(u.merge)g=new In(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const w=zo(e,b,n);if(!h.contains(w))throw new ue(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);l2(E,w)||E.push(w)}g=new In(E),p=h.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,p=h.fieldTransforms;return new x6(new _n(m),g,p)}class Of extends Df{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Of}}class Lg extends Df{_toFieldTransform(e){return new mN(e.path,new Iu)}isEqual(e){return e instanceof Lg}}function C6(r,e,n,s){const o=r.createContext(1,e,n);Vg("Data must be an object, but it was:",o,s);const u=[],h=_n.empty();bs(s,((g,p)=>{const E=o2(e,g,n);p=pt(p);const b=o.childContextForFieldPath(E);if(p instanceof Of)u.push(E);else{const w=qu(p,b);w!=null&&(u.push(E),h.set(E,w))}}));const m=new In(u);return new r2(h,m,o.fieldTransforms)}function k6(r,e,n,s,o,u){const h=r.createContext(1,e,n),m=[zo(e,s,n)],g=[o];if(u.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(zo(e,u[w])),g.push(u[w+1]);const p=[],E=_n.empty();for(let w=m.length-1;w>=0;--w)if(!l2(p,m[w])){const M=m[w];let G=g[w];G=pt(G);const K=h.childContextForFieldPath(M);if(G instanceof Of)p.push(M);else{const Y=qu(G,K);Y!=null&&(p.push(M),E.set(M,Y))}}const b=new In(p);return new r2(E,b,h.fieldTransforms)}function N6(r,e,n,s=!1){return qu(n,r.createContext(s?4:3,e))}function qu(r,e){if(a2(r=pt(r)))return Vg("Unsupported field value:",e,r),s2(r,e);if(r instanceof Df)return(function(s,o){if(!i2(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let g=qu(m,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=pt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return hN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=tt.fromDate(s);return{timestampValue:Zh(o.serializer,u)}}if(s instanceof tt){const u=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zh(o.serializer,u)}}if(s instanceof qr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gn)return{bytesValue:xb(o.serializer,s._byteString)};if(s instanceof mt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof cr)return(function(h,m){const g=h instanceof cr?h.toArray():h;return{mapValue:{fields:{[tb]:{stringValue:nb},[Yh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return cg(m.serializer,E)}))}}}}}})(s,o);if(Ob(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${yf(s)}`)})(r,e)}function s2(r,e){const n={};return YT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(r,((s,o)=>{const u=qu(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function a2(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof qr||r instanceof Gn||r instanceof mt||r instanceof Df||r instanceof cr||Ob(r))}function Vg(r,e,n){if(!a2(n)||!QT(n)){const s=yf(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function zo(r,e,n){if((e=pt(e))instanceof Dg)return e._internalPath;if(typeof e=="string")return o2(r,e);throw rf("Field path arguments must be of type string or ",r,!1,void 0,n)}const D6=new RegExp("[~\\*/\\[\\]]");function o2(r,e,n){if(e.search(D6)>=0)throw rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Dg(...e.split("."))._internalPath}catch{throw rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function rf(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ue(J.INVALID_ARGUMENT,m+r+g)}function l2(r,e){return r.some((n=>n.isEqual(e)))}class O6{convertValue(e,n="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return bs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Yh].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new cr(n)}convertGeoPoint(e){return new qr(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ef(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const n=ps(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Ke(Db(s),9688,{name:e});const o=new wu(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||vi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Pg extends O6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function Ta(){return new Lg("serverTimestamp")}const lE="@firebase/firestore",uE="4.10.0";function cE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class u2{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new M6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(zo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class M6 extends u2{data(){return super.data()}}function c2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jg{}class h2 extends jg{}function f2(r,e,...n){let s=[];e instanceof jg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((g=>g instanceof zg)).length,m=u.filter((g=>g instanceof Ug)).length;if(h>1||h>0&&m>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Ug extends h2{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ug(e,n,s)}_apply(e){const n=this._parse(e);return m2(e._query,n),new Ss(e.firestore,e.converter,wp(e._query,n))}_parse(e){const n=Mg(e.firestore);return(function(u,h,m,g,p,E,b){let w;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){fE(b,E);const G=[];for(const K of b)G.push(hE(g,u,K));w={arrayValue:{values:G}}}else w=hE(g,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||fE(b,E),w=N6(m,h,b,E==="in"||E==="not-in");return Ot.create(p,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class zg extends jg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)m2(h,g),h=wp(h,g)})(e._query,n),new Ss(e.firestore,e.converter,wp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bg extends h2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ru(u,h)})(e._query,this._field,this._direction);return new Ss(e.firestore,e.converter,rN(e._query,n))}}function d2(r,e="asc"){const n=e,s=zo("orderBy",r);return Bg._create(s,n)}function hE(r,e,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cb(e)&&n.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!_e.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return w1(r,new _e(s))}if(n instanceof mt)return w1(r,n._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yf(n)}.`)}function fE(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function m2(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function L6(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class fu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends u2{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(zo("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:Mt("string",la._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Vh extends la{data(e={}){return super.data(e)}}class ua{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new fu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Vh(this._firestore,this._userDataWriter,s.key,s,new fu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new Vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new fu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new fu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:V6(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ua._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function V6(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:Mt("string",ua._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};function Mf(r){r=Cn(r,mt);const e=Cn(r.firestore,Es),n=Nf(e);return y6(n,r._key).then((s=>g2(e,r,s)))}function P6(r){r=Cn(r,Ss);const e=Cn(r.firestore,Es),n=Nf(e),s=new Pg(e);return c2(r._query),_6(n,r._query).then((o=>new ua(e,s,r,o)))}function da(r,e,n){r=Cn(r,mt);const s=Cn(r.firestore,Es),o=L6(r.converter,e),u=Mg(s);return Hg(s,[I6(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ur.none())])}function qg(r,e,n,...s){r=Cn(r,mt);const o=Cn(r.firestore,Es),u=Mg(o);let h;return h=typeof(e=pt(e))=="string"||e instanceof Dg?k6(u,"updateDoc",r._key,e,n,s):C6(u,"updateDoc",r._key,e),Hg(o,[h.toMutation(r._key,ur.exists(!0))])}function p2(r){return Hg(Cn(r.firestore,Es),[new hg(r._key,ur.none())])}function Lf(r,...e){r=pt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||cE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(cE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(r instanceof mt)h=Cn(r.firestore,Es),m=Tf(r._key.path),u={next:p=>{e[s]&&e[s](g2(h,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Cn(r,Ss);h=Cn(p.firestore,Es),m=p._query;const E=new Pg(h);u={next:b=>{e[s]&&e[s](new ua(h,E,p,b))},error:e[s+1],complete:e[s+2]},c2(r._query)}const g=Nf(h);return g6(g,m,o,u)}function Hg(r,e){const n=Nf(r);return v6(n,e)}function g2(r,e,n){const s=n.docs.get(e._key),o=new Pg(r);return new la(r,o,e._key,s,new fu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){yk(Go),Hr(new hr("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Es(new Ek(s.getProvider("auth-internal")),new Ak(h,s.getProvider("app-check-internal")),zk(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Kn(lE,uE,e),Kn(lE,uE,"esm2020")})();const y2="@firebase/installations",Fg="0.6.19";const _2=1e4,v2=`w:${Fg}`,E2="FIS_v2",j6="https://firebaseinstallations.googleapis.com/v1",U6=3600*1e3,z6="installations",B6="Installations";const q6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ma=new ga(z6,B6,q6);function T2(r){return r instanceof mr&&r.code.includes("request-failed")}function b2({projectId:r}){return`${j6}/projects/${r}/installations`}function A2(r){return{token:r.token,requestStatus:2,expiresIn:F6(r.expiresIn),creationTime:Date.now()}}async function S2(r,e){const s=(await e.json()).error;return ma.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function w2({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function H6(r,{refreshToken:e}){const n=w2(r);return n.append("Authorization",G6(e)),n}async function x2(r){const e=await r();return e.status>=500&&e.status<600?r():e}function F6(r){return Number(r.replace("s","000"))}function G6(r){return`${E2} ${r}`}async function K6({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const s=b2(r),o=w2(r),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={fid:n,authVersion:E2,appId:r.appId,sdkVersion:v2},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await x2(()=>fetch(s,m));if(g.ok){const p=await g.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:A2(p.authToken)}}else throw await S2("Create Installation",g)}function R2(r){return new Promise(e=>{setTimeout(e,r)})}function Q6(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const $6=/^[cdef][\w-]{21}$/,Vp="";function Y6(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=W6(r);return $6.test(n)?n:Vp}catch{return Vp}}function W6(r){return Q6(r).substr(0,22)}function Vf(r){return`${r.appName}!${r.appId}`}const I2=new Map;function C2(r,e){const n=Vf(r);k2(n,e),X6(n,e)}function k2(r,e){const n=I2.get(r);if(n)for(const s of n)s(e)}function X6(r,e){const n=Z6();n&&n.postMessage({key:r,fid:e}),J6()}let oa=null;function Z6(){return!oa&&"BroadcastChannel"in self&&(oa=new BroadcastChannel("[Firebase] FID Change"),oa.onmessage=r=>{k2(r.data.key,r.data.fid)}),oa}function J6(){I2.size===0&&oa&&(oa.close(),oa=null)}const eD="firebase-installations-database",tD=1,pa="firebase-installations-store";let sp=null;function Gg(){return sp||(sp=tT(eD,tD,{upgrade:(r,e)=>{e===0&&r.createObjectStore(pa)}})),sp}async function sf(r,e){const n=Vf(r),o=(await Gg()).transaction(pa,"readwrite"),u=o.objectStore(pa),h=await u.get(n);return await u.put(e,n),await o.done,(!h||h.fid!==e.fid)&&C2(r,e.fid),e}async function N2(r){const e=Vf(r),s=(await Gg()).transaction(pa,"readwrite");await s.objectStore(pa).delete(e),await s.done}async function Pf(r,e){const n=Vf(r),o=(await Gg()).transaction(pa,"readwrite"),u=o.objectStore(pa),h=await u.get(n),m=e(h);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!h||h.fid!==m.fid)&&C2(r,m.fid),m}async function Kg(r){let e;const n=await Pf(r.appConfig,s=>{const o=nD(s),u=rD(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Vp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function nD(r){const e=r||{fid:Y6(),registrationStatus:0};return D2(e)}function rD(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ma.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=iD(r,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:sD(r)}:{installationEntry:e}}async function iD(r,e){try{const n=await K6(r,e);return sf(r.appConfig,n)}catch(n){throw T2(n)&&n.customData.serverCode===409?await N2(r.appConfig):await sf(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function sD(r){let e=await dE(r.appConfig);for(;e.registrationStatus===1;)await R2(100),e=await dE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Kg(r);return s||n}return e}function dE(r){return Pf(r,e=>{if(!e)throw ma.create("installation-not-found");return D2(e)})}function D2(r){return aD(r)?{fid:r.fid,registrationStatus:0}:r}function aD(r){return r.registrationStatus===1&&r.registrationTime+_2<Date.now()}async function oD({appConfig:r,heartbeatServiceProvider:e},n){const s=lD(r,n),o=H6(r,n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={installation:{sdkVersion:v2,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await x2(()=>fetch(s,m));if(g.ok){const p=await g.json();return A2(p)}else throw await S2("Generate Auth Token",g)}function lD(r,{fid:e}){return`${b2(r)}/${e}/authTokens:generate`}async function Qg(r,e=!1){let n;const s=await Pf(r.appConfig,u=>{if(!O2(u))throw ma.create("not-registered");const h=u.authToken;if(!e&&hD(h))return u;if(h.requestStatus===1)return n=uD(r,e),u;{if(!navigator.onLine)throw ma.create("app-offline");const m=dD(u);return n=cD(r,m),m}});return n?await n:s.authToken}async function uD(r,e){let n=await mE(r.appConfig);for(;n.authToken.requestStatus===1;)await R2(100),n=await mE(r.appConfig);const s=n.authToken;return s.requestStatus===0?Qg(r,e):s}function mE(r){return Pf(r,e=>{if(!O2(e))throw ma.create("not-registered");const n=e.authToken;return mD(n)?{...e,authToken:{requestStatus:0}}:e})}async function cD(r,e){try{const n=await oD(r,e),s={...e,authToken:n};return await sf(r.appConfig,s),n}catch(n){if(T2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await N2(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await sf(r.appConfig,s)}throw n}}function O2(r){return r!==void 0&&r.registrationStatus===2}function hD(r){return r.requestStatus===2&&!fD(r)}function fD(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+U6}function dD(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function mD(r){return r.requestStatus===1&&r.requestTime+_2<Date.now()}async function pD(r){const e=r,{installationEntry:n,registrationPromise:s}=await Kg(e);return s?s.catch(console.error):Qg(e).catch(console.error),n.fid}async function gD(r,e=!1){const n=r;return await yD(n),(await Qg(n,e)).token}async function yD(r){const{registrationPromise:e}=await Kg(r);e&&await e}function _D(r){if(!r||!r.options)throw ap("App Configuration");if(!r.name)throw ap("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw ap(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function ap(r){return ma.create("missing-app-config-values",{valueName:r})}const M2="installations",vD="installations-internal",ED=r=>{const e=r.getProvider("app").getImmediate(),n=_D(e),s=ya(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},TD=r=>{const e=r.getProvider("app").getImmediate(),n=ya(e,M2).getImmediate();return{getId:()=>pD(n),getToken:o=>gD(n,o)}};function bD(){Hr(new hr(M2,ED,"PUBLIC")),Hr(new hr(vD,TD,"PRIVATE"))}bD();Kn(y2,Fg);Kn(y2,Fg,"esm2020");const af="analytics",AD="firebase_id",SD="origin",wD=60*1e3,xD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$g="https://www.googletagmanager.com/gtag/js";const ln=new ff("@firebase/analytics");const RD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},kn=new ga("analytics","Analytics",RD);function ID(r){if(!r.startsWith($g)){const e=kn.create("invalid-gtag-resource",{gtagURL:r});return ln.warn(e.message),""}return r}function L2(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function CD(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function kD(r,e){const n=CD("firebase-js-sdk-policy",{createScriptURL:ID}),s=document.createElement("script"),o=`${$g}?l=${r}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function ND(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function DD(r,e,n,s,o,u){const h=s[o];try{if(h)await e[h];else{const g=(await L2(n)).find(p=>p.measurementId===o);g&&await e[g.appId]}}catch(m){ln.error(m)}r("config",o,u)}async function OD(r,e,n,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await L2(n);for(const g of h){const p=m.find(b=>b.measurementId===g),E=p&&e[p.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",s,o||{})}catch(u){ln.error(u)}}function MD(r,e,n,s){async function o(u,...h){try{if(u==="event"){const[m,g]=h;await OD(r,e,n,m,g)}else if(u==="config"){const[m,g]=h;await DD(r,e,n,s,m,g)}else if(u==="consent"){const[m,g]=h;r("consent",m,g)}else if(u==="get"){const[m,g,p]=h;r("get",m,g,p)}else if(u==="set"){const[m]=h;r("set",m)}else r(u,...h)}catch(m){ln.error(m)}}return o}function LD(r,e,n,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=MD(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function VD(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($g)&&n.src.includes(r))return n;return null}const PD=30,jD=1e3;class UD{constructor(e={},n=jD){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const V2=new UD;function zD(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function BD(r){const{appId:e,apiKey:n}=r,s={method:"GET",headers:zD(n)},o=xD.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let h="";try{const m=await u.json();m.error?.message&&(h=m.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function qD(r,e=V2,n){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw kn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw kn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new GD;return setTimeout(async()=>{m.abort()},wD),P2({appId:s,apiKey:o,measurementId:u},h,m,e)}async function P2(r,{throttleEndTimeMillis:e,backoffCount:n},s,o=V2){const{appId:u,measurementId:h}=r;try{await HD(s,e)}catch(m){if(h)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:h};throw m}try{const m=await BD(r);return o.deleteThrottleMetadata(u),m}catch(m){const g=m;if(!FD(g)){if(o.deleteThrottleMetadata(u),h)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:h};throw m}const p=Number(g?.customData?.httpStatus)===503?jv(n,o.intervalMillis,PD):jv(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return o.setThrottleMetadata(u,E),ln.debug(`Calling attemptFetch again in ${p} millis`),P2(r,E,s,o)}}function HD(r,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),s(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function FD(r){if(!(r instanceof mr)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class GD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function KD(r,e,n,s,o){if(o&&o.global){r("event",n,s);return}else{const u=await e,h={...s,send_to:u};r("event",n,h)}}async function QD(r,e,n,s){if(s&&s.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return r("set",o),Promise.resolve()}else{const o=await e;r("config",o,{update:!0,user_properties:n})}}async function $D(){if(XE())try{await ZE()}catch(r){return ln.warn(kn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return ln.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function YD(r,e,n,s,o,u,h){const m=qD(r);m.then(w=>{n[w.measurementId]=w.appId,r.options.measurementId&&w.measurementId!==r.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>ln.error(w)),e.push(m);const g=$D().then(w=>{if(w)return s.getId()}),[p,E]=await Promise.all([m,g]);VD(u)||kD(u,p.measurementId),o("js",new Date);const b=h?.config??{};return b[SD]="firebase",b.update=!0,E!=null&&(b[AD]=E),o("config",p.measurementId,b),p.measurementId}class WD{constructor(e){this.app=e}_delete(){return delete Do[this.app.options.appId],Promise.resolve()}}let Do={},pE=[];const gE={};let op="dataLayer",XD="gtag",yE,Yg,_E=!1;function ZD(){const r=[];if(WE()&&r.push("This is a browser extension environment."),Vx()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=kn.create("invalid-analytics-context",{errorInfo:e});ln.warn(n.message)}}function JD(r,e,n){ZD();const s=r.options.appId;if(!s)throw kn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw kn.create("no-api-key");if(Do[s]!=null)throw kn.create("already-exists",{id:s});if(!_E){ND(op);const{wrappedGtag:u,gtagCore:h}=LD(Do,pE,gE,op,XD);Yg=u,yE=h,_E=!0}return Do[s]=YD(r,pE,gE,e,yE,op,n),new WD(r)}function e8(r=$p()){r=pt(r);const e=ya(r,af);return e.isInitialized()?e.getImmediate():t8(r)}function t8(r,e={}){const n=ya(r,af);if(n.isInitialized()){const o=n.getImmediate();if(ds(e,n.getOptions()))return o;throw kn.create("already-initialized")}return n.initialize({options:e})}function n8(r,e,n){r=pt(r),QD(Yg,Do[r.app.options.appId],e,n).catch(s=>ln.error(s))}function r8(r,e,n,s){r=pt(r),KD(Yg,Do[r.app.options.appId],e,n,s).catch(o=>ln.error(o))}const vE="@firebase/analytics",EE="0.10.19";function i8(){Hr(new hr(af,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return JD(s,o,n)},"PUBLIC")),Hr(new hr("analytics-internal",r,"PRIVATE")),Kn(vE,EE),Kn(vE,EE,"esm2020");function r(e){try{const n=e.getProvider(af).getImmediate();return{logEvent:(s,o,u)=>r8(n,s,o,u),setUserProperties:(s,o)=>n8(n,s,o)}}catch(n){throw kn.create("interop-component-reg-failed",{reason:n})}}}i8();const s8={apiKey:"AIzaSyA1AWyQt-mKcZTGJ1MaPrf4IoRxxCpRl8w",authDomain:"brewsy-6e24c.firebaseapp.com",projectId:"brewsy-6e24c",storageBucket:"brewsy-6e24c.firebasestorage.app",messagingSenderId:"965602953101",appId:"1:965602953101:web:50f84823c3a2db81da5fc4",measurementId:"G-9T8DY7JG9C"},Wg=nT(s8),Xg=dk(Wg),Zt=A6(Wg);e8(Wg);const a8=async(r,e)=>{try{return{user:(await ZI(Xg,r,e)).user,error:null}}catch(n){return{user:null,error:n}}},o8=async()=>{try{return await nC(Xg),{error:null}}catch(r){return{error:r}}},l8=r=>tC(Xg,r),j2=P.createContext({user:null,loading:!0}),ba=()=>{const r=P.useContext(j2);if(!r)throw new Error("useAuth must be used within AuthProvider");return r},u8=({children:r})=>{const[e,n]=P.useState(null),[s,o]=P.useState(!0);return P.useEffect(()=>l8(h=>{n(h),o(!1)}),[]),T.jsx(j2.Provider,{value:{user:e,loading:s},children:r})},c8=()=>{const[r,e]=P.useState(""),[n,s]=P.useState(""),[o,u]=P.useState(null),[h,m]=P.useState(!1),g=async p=>{p.preventDefault(),u(null),m(!0);const{error:E}=await a8(r,n);E&&(u("Email ou mot de passe incorrect"),m(!1))};return T.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-card rounded-soft-lg shadow-soft-lg p-8 max-w-md w-full border border-border",children:[T.jsx("h1",{className:"text-3xl font-bold text-peach mb-2 text-center",children:"Cozy Production"}),T.jsx("p",{className:"text-text-secondary text-center mb-6",children:"Connexion"}),T.jsxs("form",{onSubmit:g,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-secondary mb-1",children:"Email"}),T.jsx("input",{id:"email",type:"email",value:r,onChange:p=>e(p.target.value),required:!0,className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all",placeholder:"votre@email.com"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-secondary mb-1",children:"Mot de passe"}),T.jsx("input",{id:"password",type:"password",value:n,onChange:p=>s(p.target.value),required:!0,className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all",placeholder:""})]}),o&&T.jsx("div",{className:"bg-peach-light text-peach-dark px-4 py-2 rounded-soft text-sm border border-peach/30",children:o}),T.jsx("button",{type:"submit",disabled:h,className:"w-full bg-linear-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark disabled:from-text-muted disabled:to-text-muted text-white font-semibold py-3 px-6 rounded-soft shadow-soft hover:shadow-soft-lg transition-all duration-200",children:h?"Connexion...":"Se connecter"})]})]})})},h8=async()=>{const r=$n(Zt,"configs","default"),e=await Mf(r);return e.exists()?e.data():null},jf=async()=>{const r=ws(Zt,"configs","default","transformations");return(await P6(r)).docs.map(n=>({id:n.id,...n.data()}))},U2=(r,e)=>{const n=ws(Zt,"users",r,"stocks");return Lf(n,s=>{const o=s.docs.map(u=>({...u.data()}));e(o)})},lp=async(r,e,n,s)=>{const o=$n(Zt,"users",r,"stocks",e);await da(o,{crateId:e,label:s,quantity:n,updatedAt:Ta()})},Zg=(r,e)=>{const n=ws(Zt,"users",r,"prices");return Lf(n,s=>{const o=s.docs.map(u=>({...u.data()}));e(o)})},f8=async(r,e,n)=>{const s=$n(Zt,"users",r,"prices",e),o=await Mf(s),u=o.exists()?o.data().values:[];await da(s,{crateId:e,values:[...u,n],updatedAt:Ta()})},d8=async(r,e,n)=>{const s=$n(Zt,"users",r,"prices",e),o=await Mf(s);if(!o.exists())return;const h=o.data().values.filter((m,g)=>g!==n);h.length===0?await p2(s):await qg(s,{values:h,updatedAt:Ta()})},z2=(r,e)=>{const n=ws(Zt,"users",r,"runs"),s=f2(n,d2("startedAt","desc"));return Lf(s,o=>{const u=o.docs.map(h=>({id:h.id,...h.data()}));e(u)})},m8=async(r,e,n,s,o)=>{const u=ws(Zt,"users",r,"runs"),h=o||new Date,m=tt.fromDate(h),g=tt.fromMillis(m.toMillis()+s*60*60*1e3),p={transformationId:e,inputQuantityUsed:n,startedAt:m,durationHours:s,reducedByAction:!1,endsAt:g,status:"RUNNING",createdAt:Ta()};return await da($n(u),p)},p8=async(r,e,n)=>{const s=$n(Zt,"users",r,"runs",e);await qg(s,{status:n})},g8=async(r,e,n=1)=>{const s=$n(Zt,"users",r,"runs",e),o=await Mf(s);if(!o.exists())return;const u=o.data();if(u.reducedByAction)return;const h=tt.fromMillis(u.endsAt.toMillis()-n*60*60*1e3);await qg(s,{reducedByAction:!0,endsAt:h})},TE=async(r,e)=>{const n=$n(Zt,"users",r,"runs",e);await p2(n)},B2=(r,e)=>{const n=ws(Zt,"users",r,"history"),s=f2(n,d2("createdAt","desc"));return Lf(s,o=>{const u=o.docs.map(h=>({id:h.id,...h.data()}));e(u)})},y8=async(r,e,n,s,o)=>{const u=ws(Zt,"users",r,"history"),h={type:"TRANSFORMATION",transformationId:e,startedAt:n,endsAt:s,reducedByAction:o,createdAt:Ta()};await da($n(u),h)},_8=async(r,e,n,s,o,u,h)=>{const m=ws(Zt,"users",r,"history"),g={type:"SALE",crateId:e,crateLabel:n,quantitySold:s,estimatedValue:o,actualValue:u,createdAt:Ta()};await da($n(m),g)},v8=(r,e)=>r.input.quantity*e,E8=r=>r,T8=(r,e)=>r.tool.price*e,Uf=r=>{if(r.length===0)return 0;const e=r.reduce((n,s)=>n+s,0);return Math.round(e/r.length)},Pp=(r,e)=>r*e,b8=(r,e)=>{const n=new Map(e.map(s=>[s.crateId,Uf(s.values)]));return r.reduce((s,o)=>{const u=n.get(o.crateId)||0;return s+Pp(o.quantity,u)},0)},of=r=>new Date>=r,q2=r=>Math.max(0,r.getTime()-Date.now()),H2=r=>{const e=Math.floor(r/36e5),n=Math.floor(r%(1e3*60*60)/(1e3*60));return e>0?`${e}h ${n}m`:`${n}m`},Tt=({children:r,className:e="",onClick:n})=>T.jsx("div",{className:`bg-card rounded-soft-lg shadow-soft border border-border card-hover ${e}`,onClick:n,children:r}),bt=({children:r,className:e=""})=>T.jsx("div",{className:e,children:r}),lf=[{id:"crate_zeed",label:"Zeed",icon:""},{id:"crate_pandoxine",label:"Pandoxine",icon:""},{id:"crate_krakenine",label:"Krakenine",icon:""},{id:"crate_psylocybine",label:"Psylocybine",icon:""}],A8=()=>{const{user:r}=ba(),[e,n]=P.useState([]),[s,o]=P.useState([]),[u,h]=P.useState([]),[m,g]=P.useState([]),[p,E]=P.useState([]),b=qp(),[,w]=P.useState(0);P.useEffect(()=>{if(!r)return;const x=U2(r.uid,n),I=Zg(r.uid,o),O=z2(r.uid,h),D=B2(r.uid,E);return()=>{x(),I(),O(),D()}},[r]),P.useEffect(()=>{(async()=>{const I=await jf();g(I)})()},[]),P.useEffect(()=>{const x=setInterval(()=>{w(Date.now())},1e3);return()=>clearInterval(x)},[]);const M=b8(e,s),G=u.filter(x=>x.status==="RUNNING"),K=u.filter(x=>x.status==="DONE"?!1:of(x.endsAt.toDate())),Y=new Map(s.map(x=>[x.crateId,Uf(x.values)])),ie=x=>e.find(I=>I.crateId===x),re=x=>m.find(I=>I.id===x.transformationId),ae=u.filter(x=>x.status==="RUNNING"&&!of(x.endsAt.toDate())),se=new Date;se.setDate(se.getDate()-7);const pe=p.filter(x=>{if(x.type!=="SALE")return!1;const I=x.createdAt?.toDate();return I&&I>=se}),me=pe.reduce((x,I)=>I.type!=="SALE"?x:x+I.actualValue,0),C=pe.reduce((x,I)=>I.type!=="SALE"?x:x+I.quantitySold,0);return T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-bold text-text",children:"Dashboard"}),T.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[T.jsxs("div",{className:"flex items-center gap-1.5",children:[T.jsx("span",{className:"text-text-muted",children:"Valeur:"}),T.jsxs("span",{className:"font-bold text-peach",children:[M.toLocaleString()," $"]})]}),T.jsx("div",{className:"w-px h-4 bg-border"}),T.jsxs("div",{className:"flex items-center gap-1.5",children:[T.jsx("span",{className:"text-text-muted",children:"Actives:"}),T.jsx("span",{className:"font-semibold text-lavender",children:G.length})]}),T.jsxs("div",{className:"flex items-center gap-1.5",children:[T.jsx("span",{className:"text-text-muted",children:"Prtes:"}),T.jsx("span",{className:"font-semibold text-sage",children:K.length})]})]})]}),K.length>0&&T.jsx("div",{className:"bg-sage-light border border-sage rounded-soft px-3 py-2 cursor-pointer hover:bg-sage/30 transition-colors",onClick:()=>b("/timers"),children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-lg",children:""}),T.jsxs("span",{className:"text-sm font-semibold text-sage-dark",children:[K.length," transformation",K.length>1?"s":""," prte",K.length>1?"s":"","  rcolter"]})]})}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[T.jsx(Tt,{className:"md:col-span-2",children:T.jsxs(bt,{className:"p-3",children:[T.jsx("h2",{className:"text-sm font-semibold text-text mb-2",children:"Stocks"}),T.jsx("div",{className:"space-y-1.5",children:lf.map(x=>{const O=ie(x.id)?.quantity||0,D=Y.get(x.id)||0,U=O*D;return T.jsxs("div",{className:"flex items-center justify-between py-2 px-2 rounded hover:bg-surface transition-colors",children:[T.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[T.jsx("span",{className:"text-xl",children:x.icon}),T.jsxs("div",{children:[T.jsx("div",{className:"text-sm font-semibold text-text",children:x.label}),T.jsxs("div",{className:"text-xs text-text-muted",children:[O," ",O>1?"caisses":"caisse"]})]})]}),T.jsx("div",{className:"text-right",children:D>0?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"text-base font-bold text-peach",children:[U.toLocaleString()," $"]}),T.jsxs("div",{className:"text-xs text-text-muted",children:[D.toLocaleString()," $ / u"]})]}):T.jsx("div",{className:"text-xs text-text-muted",children:"Prix non dfini"})})]},x.id)})})]})}),T.jsx(Tt,{children:T.jsxs(bt,{className:"p-3",children:[T.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T.jsx("h2",{className:"text-sm font-semibold text-text",children:"7 derniers jours"}),T.jsx("button",{onClick:()=>b("/history"),className:"text-xs text-peach hover:text-peach-dark transition-colors",children:"Historique "})]}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"p-3 bg-peach-light rounded-soft border border-peach/30",children:[T.jsx("div",{className:"text-xs text-text-muted mb-1",children:"Revenus"}),T.jsxs("div",{className:"text-xl font-bold text-peach",children:[me.toLocaleString()," $"]})]}),T.jsxs("div",{className:"p-3 bg-lavender-light rounded-soft border border-lavender/30",children:[T.jsx("div",{className:"text-xs text-text-muted mb-1",children:"Ventes"}),T.jsxs("div",{className:"flex items-baseline gap-2",children:[T.jsx("div",{className:"text-xl font-bold text-lavender-dark",children:pe.length}),T.jsxs("div",{className:"text-sm text-text-muted",children:["vente",pe.length>1?"s":""]})]}),T.jsxs("div",{className:"text-xs text-text-muted mt-1",children:[C," caisse",C>1?"s":""]})]})]})]})})]}),ae.length>0&&T.jsx(Tt,{children:T.jsxs(bt,{className:"p-3",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsx("h2",{className:"text-sm font-semibold text-text",children:"En cours"}),T.jsx("button",{onClick:()=>b("/timers"),className:"text-xs text-lavender hover:text-lavender-dark transition-colors",children:"Voir tout "})]}),T.jsx("div",{className:"space-y-2",children:ae.slice(0,3).map(x=>{const I=re(x),O=q2(x.endsAt.toDate()),D=x.durationHours*60*60*1e3,U=Math.max(0,Math.min(100,(D-O)/D*100));return T.jsxs("div",{className:"bg-surface rounded-soft p-2",children:[T.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-sm font-medium text-text",children:I?.name}),x.reducedByAction&&T.jsx("span",{className:"text-xs",children:""})]}),T.jsx("span",{className:"text-xs font-semibold text-lavender",children:H2(O)})]}),T.jsx("div",{className:"w-full bg-border rounded-full h-1.5 overflow-hidden",children:T.jsx("div",{className:"h-full bg-linear-to-r from-lavender to-peach transition-all duration-1000",style:{width:`${U}%`}})})]},x.id)})})]})})]})};var S8=P.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),xs=function(e,n,s){var o=s.get(e);return o?o(n):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function bE(r,e){if(r==null)return{};var n={},s=Object.keys(r),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}var bi=P.forwardRef(function(r,e){var n=r.alt,s=r.color,o=r.size,u=r.weight,h=r.mirrored,m=r.children,g=r.renderPath,p=bE(r,["alt","color","size","weight","mirrored","children","renderPath"]),E=P.useContext(S8),b=E.color,w=b===void 0?"currentColor":b,M=E.size,G=E.weight,K=G===void 0?"regular":G,Y=E.mirrored,ie=Y===void 0?!1:Y,re=bE(E,["color","size","weight","mirrored"]);return R.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o??M,height:o??M,fill:s??w,viewBox:"0 0 256 256",transform:h||ie?"scale(-1, 1)":void 0},re,p),!!n&&R.createElement("title",null,n),m,R.createElement("rect",{width:"256",height:"256",fill:"none"}),g(u??K,s??w))});bi.displayName="IconBase";var Aa=new Map;Aa.set("bold",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Aa.set("duotone",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44Z",opacity:"0.2"}),R.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Aa.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M224,216a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H88V140H84A68.1,68.1,0,0,1,16,72a28,28,0,0,1,56,0A12,12,0,0,0,84,84h4V56a40,40,0,0,1,80,0v68h4a12,12,0,0,0,12-12,28,28,0,0,1,56,0,68.1,68.1,0,0,1-68,68h-4v28h48A8,8,0,0,1,224,216Z"}))});Aa.set("light",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Aa.set("thin",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Aa.set("regular",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var w8=function(e,n){return xs(e,n,Aa)},F2=P.forwardRef(function(r,e){return R.createElement(bi,Object.assign({ref:e},r,{renderPath:w8}))});F2.displayName="Cactus";var Sa=new Map;Sa.set("bold",function(r){return R.createElement(R.Fragment,null,R.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("line",{x1:"92",y1:"76",x2:"164",y2:"76",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("circle",{cx:"104",cy:"128",r:"16"}),R.createElement("circle",{cx:"152",cy:"128",r:"16"}),R.createElement("circle",{cx:"104",cy:"176",r:"16"}),R.createElement("circle",{cx:"152",cy:"176",r:"16"}))});Sa.set("duotone",function(r){return R.createElement(R.Fragment,null,R.createElement("rect",{x:"80",y:"64",width:"96",height:"48",opacity:"0.2"}),R.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256 0) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("circle",{cx:"88",cy:"148",r:"12"}),R.createElement("circle",{cx:"128",cy:"148",r:"12"}),R.createElement("circle",{cx:"168",cy:"148",r:"12"}),R.createElement("circle",{cx:"88",cy:"188",r:"12"}),R.createElement("circle",{cx:"128",cy:"188",r:"12"}),R.createElement("circle",{cx:"168",cy:"188",r:"12"}))});Sa.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M200,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24ZM88,200a12,12,0,1,1,12-12A12,12,0,0,1,88,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,88,160Zm40,40a12,12,0,1,1,12-12A12,12,0,0,1,128,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,128,160Zm40,40a12,12,0,1,1,12-12A12,12,0,0,1,168,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,168,160Zm16-56a8,8,0,0,1-8,8H80a8,8,0,0,1-8-8V64a8,8,0,0,1,8-8h96a8,8,0,0,1,8,8Z"}))});Sa.set("light",function(r){return R.createElement(R.Fragment,null,R.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("circle",{cx:"88",cy:"148",r:"10"}),R.createElement("circle",{cx:"128",cy:"148",r:"10"}),R.createElement("circle",{cx:"168",cy:"148",r:"10"}),R.createElement("circle",{cx:"88",cy:"188",r:"10"}),R.createElement("circle",{cx:"128",cy:"188",r:"10"}),R.createElement("circle",{cx:"168",cy:"188",r:"10"}))});Sa.set("thin",function(r){return R.createElement(R.Fragment,null,R.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("circle",{cx:"88",cy:"148",r:"8"}),R.createElement("circle",{cx:"128",cy:"148",r:"8"}),R.createElement("circle",{cx:"168",cy:"148",r:"8"}),R.createElement("circle",{cx:"88",cy:"188",r:"8"}),R.createElement("circle",{cx:"128",cy:"188",r:"8"}),R.createElement("circle",{cx:"168",cy:"188",r:"8"}))});Sa.set("regular",function(r){return R.createElement(R.Fragment,null,R.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("circle",{cx:"88",cy:"148",r:"12"}),R.createElement("circle",{cx:"128",cy:"148",r:"12"}),R.createElement("circle",{cx:"168",cy:"148",r:"12"}),R.createElement("circle",{cx:"88",cy:"188",r:"12"}),R.createElement("circle",{cx:"128",cy:"188",r:"12"}),R.createElement("circle",{cx:"168",cy:"188",r:"12"}))});var x8=function(e,n){return xs(e,n,Sa)},G2=P.forwardRef(function(r,e){return R.createElement(bi,Object.assign({ref:e},r,{renderPath:x8}))});G2.displayName="Calculator";var wa=new Map;wa.set("bold",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});wa.set("duotone",function(r){return R.createElement(R.Fragment,null,R.createElement("rect",{x:"156",y:"40",width:"56",height:"168",opacity:"0.2"}),R.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});wa.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M228,200h-8V40a8,8,0,0,0-8-8H156a8,8,0,0,0-8,8V80H100a8,8,0,0,0-8,8v40H44a8,8,0,0,0-8,8v64H28a8,8,0,0,0,0,16H228a8,8,0,0,0,0-16ZM108,96h40V200H108ZM52,144H92v56H52Z"}))});wa.set("light",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});wa.set("thin",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});wa.set("regular",function(r){return R.createElement(R.Fragment,null,R.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var R8=function(e,n){return xs(e,n,wa)},K2=P.forwardRef(function(r,e){return R.createElement(bi,Object.assign({ref:e},r,{renderPath:R8}))});K2.displayName="ChartBar";var xa=new Map;xa.set("bold",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});xa.set("duotone",function(r){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"128",r:"88",opacity:"0.2"}),R.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});xa.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M136,80v43.4l37.6,21.7a8,8,0,0,1-4,14.9,7.1,7.1,0,0,1-4-1.1l-41.6-24h-.2l-.4-.2-.3-.3-.3-.2-.3-.3-.2-.2c-.2-.1-.3-.3-.4-.4l-.2-.2-.2-.4-.2-.3-.2-.3a.5.5,0,0,1-.2-.4l-.2-.3c0-.1-.1-.2-.1-.4a.4.4,0,0,1-.1-.3l-.2-.4a.4.4,0,0,0-.1-.3c0-.2,0-.3-.1-.4v-.4c0-.2-.1-.3-.1-.4V80a8,8,0,0,1,16,0Zm59.9-19.9a96.2,96.2,0,0,0-135.8,0l-8.3,8.3L37.5,54.1a8,8,0,0,0-8.7-1.8,8.2,8.2,0,0,0-5,7.4v40a8,8,0,0,0,8,8h40a8,8,0,0,0,5.7-13.6L63.1,79.7l8.3-8.3a80,80,0,1,1,0,113.2,7.9,7.9,0,0,0-11.3,0,8,8,0,0,0,0,11.3A96,96,0,0,0,195.9,60.1Z"}))});xa.set("light",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});xa.set("thin",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});xa.set("regular",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var I8=function(e,n){return xs(e,n,xa)},Q2=P.forwardRef(function(r,e){return R.createElement(bi,Object.assign({ref:e},r,{renderPath:I8}))});Q2.displayName="ClockCounterClockwise";var Ra=new Map;Ra.set("bold",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ra.set("duotone",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ra.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M152,120H136V56h8a32.1,32.1,0,0,1,32,32,8,8,0,0,0,16,0,48,48,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40H108a48,48,0,0,0,0,96h12v64H104a32.1,32.1,0,0,1-32-32,8,8,0,0,0-16,0,48,48,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-32,0H108a32,32,0,0,1,0-64h12Zm32,80H136V136h16a32,32,0,0,1,0,64Z"}))});Ra.set("light",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ra.set("thin",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ra.set("regular",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var C8=function(e,n){return xs(e,n,Ra)},$2=P.forwardRef(function(r,e){return R.createElement(bi,Object.assign({ref:e},r,{renderPath:C8}))});$2.displayName="CurrencyDollar";var Ia=new Map;Ia.set("bold",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ia.set("duotone",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M33.1,74.6A8.1,8.1,0,0,0,32,78.7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.6,7.6,0,0,0,3.9,1h0l.9-106.8L33.1,74.6Z",opacity:"0.2"}),R.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ia.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M229.9,70.8h0a.1.1,0,0,1-.1-.1,16.2,16.2,0,0,0-6-5.9l-88-49.5a16,16,0,0,0-15.6,0l-88,49.5a16.2,16.2,0,0,0-6,5.9.1.1,0,0,1-.1.1v.2A15,15,0,0,0,24,78.7v98.6a16.1,16.1,0,0,0,8.2,14l88,49.5a16.5,16.5,0,0,0,7.2,2h1.4a15.7,15.7,0,0,0,7-2l88-49.5a16.1,16.1,0,0,0,8.2-14V78.7A15.6,15.6,0,0,0,229.9,70.8ZM128,29.2,207.7,74,177.1,91.4,96.4,46.9Zm.9,89.6L48.4,74,80,56.2l80.8,44.5Zm7.2,103.5.8-89.6L169,114.4v38.1a8,8,0,0,0,16,0V105.3l31-17.6v89.6Z"}))});Ia.set("light",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ia.set("thin",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ia.set("regular",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var k8=function(e,n){return xs(e,n,Ia)},Y2=P.forwardRef(function(r,e){return R.createElement(bi,Object.assign({ref:e},r,{renderPath:k8}))});Y2.displayName="Package";var Ca=new Map;Ca.set("bold",function(r){return R.createElement(R.Fragment,null,R.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ca.set("duotone",function(r){return R.createElement(R.Fragment,null,R.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ca.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M221.7,133.7l-42,42A8.3,8.3,0,0,1,174,178a7.7,7.7,0,0,1-3-.6,8,8,0,0,1-5-7.4V136H104a8,8,0,0,1,0-16h62V86a8,8,0,0,1,5-7.4,8.2,8.2,0,0,1,8.7,1.7l42,42A8.1,8.1,0,0,1,221.7,133.7ZM104,208H48V48h56a8,8,0,0,0,0-16H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16h56a8,8,0,0,0,0-16Z"}))});Ca.set("light",function(r){return R.createElement(R.Fragment,null,R.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ca.set("thin",function(r){return R.createElement(R.Fragment,null,R.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ca.set("regular",function(r){return R.createElement(R.Fragment,null,R.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var N8=function(e,n){return xs(e,n,Ca)},W2=P.forwardRef(function(r,e){return R.createElement(bi,Object.assign({ref:e},r,{renderPath:N8}))});W2.displayName="SignOut";var ka=new Map;ka.set("bold",function(r){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"140",r:"88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("line",{x1:"128",y1:"140",x2:"161.9",y2:"106.1",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("line",{x1:"104",y1:"12",x2:"152",y2:"12",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});ka.set("duotone",function(r){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"128",r:"88",opacity:"0.2"}),R.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),R.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});ka.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M104,16h48a8,8,0,0,0,0-16H104a8,8,0,0,0,0,16Z"}),R.createElement("path",{d:"M128,32a96,96,0,1,0,96,96A96.2,96.2,0,0,0,128,32Zm45.3,62.1-39.6,39.6a8.2,8.2,0,0,1-11.4,0,8.1,8.1,0,0,1,0-11.4l39.6-39.6a8.1,8.1,0,1,1,11.4,11.4Z"}))});ka.set("light",function(r){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});ka.set("thin",function(r){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});ka.set("regular",function(r){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),R.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var D8=function(e,n){return xs(e,n,ka)},X2=P.forwardRef(function(r,e){return R.createElement(bi,Object.assign({ref:e},r,{renderPath:D8}))});X2.displayName="Timer";const O8=({children:r})=>{const e=Ti(),n=async()=>{await o8()},s=[{path:"/",label:"Dashboard",Icon:K2},{path:"/stocks",label:"Stocks",Icon:Y2},{path:"/prices",label:"Prix",Icon:$2},{path:"/calculator",label:"Calculateur",Icon:G2},{path:"/timers",label:"Transformations",Icon:X2},{path:"/history",label:"Historique",Icon:Q2}],o=u=>e.pathname===u;return T.jsxs("div",{className:"min-h-screen flex flex-col",children:[T.jsx("header",{className:"bg-card sticky top-0 z-10 border-b border-border shadow-soft",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[T.jsxs("h1",{className:"text-2xl font-bold text-peach flex gap-2 items-center",children:["              ",T.jsx(F2,{size:24,weight:"duotone"}),"Brewsy "]}),T.jsx("div",{className:"flex items-center gap-3",children:T.jsx("button",{onClick:n,className:"p-2 rounded-soft hover:bg-surface transition-colors text-text-secondary",title:"Dconnexion",children:T.jsx(W2,{size:24,weight:"duotone"})})})]})}),T.jsxs("div",{className:"flex-1 flex",children:[T.jsx("nav",{className:"w-64 glass-strong p-4 hidden md:block border-r border-border shadow-glass",children:T.jsx("ul",{className:"space-y-2",children:s.map(u=>T.jsx("li",{children:T.jsxs(jh,{to:u.path,className:`flex items-center gap-3 px-4 py-3 rounded-soft transition-colors ${o(u.path)?"bg-sky text-peach-dark font-semibold shadow-glass":"text-text-muted hover:glass"}`,children:[T.jsx(u.Icon,{size:24,weight:o(u.path)?"fill":"duotone"}),T.jsx("span",{children:u.label})]})},u.path))})}),T.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-y-auto",children:T.jsx("div",{className:"max-w-7xl mx-auto",children:r})})]}),T.jsx("nav",{className:"md:hidden glass-strong sticky bottom-0 border-t border-border shadow-glass",children:T.jsx("ul",{className:"flex justify-around py-2",children:s.map(u=>T.jsx("li",{children:T.jsxs(jh,{to:u.path,className:`flex flex-col items-center gap-1 px-3 py-2 rounded-soft transition-colors ${o(u.path)?"text-sky font-semibold":"text-text-muted"}`,children:[T.jsx(u.Icon,{size:24,weight:o(u.path)?"fill":"duotone"}),T.jsx("span",{className:"text-xs",children:u.label})]})},u.path))})})]})},gn=({children:r,variant:e="primary",size:n="md",className:s="",...o})=>{const u="font-semibold rounded-soft transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",h={primary:"bg-gradient-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark text-white shadow-soft",secondary:"bg-surface hover:bg-surface-hover text-text border border-border",outline:"border-2 border-peach text-peach hover:bg-peach-light",danger:"bg-peach hover:bg-peach-dark text-white shadow-soft"},m={sm:"py-1.5 px-3 text-sm",md:"py-2 px-4",lg:"py-3 px-6 text-lg"};return T.jsx("button",{className:`${u} ${h[e]} ${m[n]} ${s}`,...o,children:r})},M8=()=>{const{user:r}=ba(),[e,n]=P.useState([]),[s,o]=P.useState([]),[u,h]=P.useState(null),[m,g]=P.useState("1"),[p,E]=P.useState("0"),[b,w]=P.useState({});P.useEffect(()=>{if(!r)return;const se=U2(r.uid,n),pe=Zg(r.uid,o);return()=>{se(),pe()}},[r]);const M=se=>e.find(pe=>pe.crateId===se),G=async(se,pe,me)=>{if(!r)return;const C=M(se),x=Math.max(0,(C?.quantity||0)+me);await lp(r.uid,se,x,pe)},K=async(se,pe,me)=>{r&&await lp(r.uid,se,Math.max(0,me),pe)},Y=se=>{const me=M(se)?.quantity||0;h(se),g(String(me));const C=re.get(se)||0;E(String(C*me))},ie=async(se,pe)=>{const me=parseInt(m)||0,C=parseInt(p)||0;if(!r||me<=0||C<0)return;const x=M(se);if(!x||x.quantity<me){alert("Stock insuffisant");return}const O=(re.get(se)||0)*me;try{await _8(r.uid,se,pe,me,O,C,void 0),await lp(r.uid,se,x.quantity-me,pe),h(null),g("1"),E("0")}catch(D){console.error("Erreur lors de la vente:",D),alert("Erreur lors de l'enregistrement de la vente")}},re=new Map(s.map(se=>[se.crateId,Uf(se.values)])),ae=lf.reduce((se,pe)=>{const me=M(pe.id),C=re.get(pe.id)||0;return se+Pp(me?.quantity||0,C)},0);return T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Stocks"}),T.jsxs("div",{className:"text-right",children:[T.jsx("div",{className:"text-sm text-dark-600 dark:text-dark-400",children:"Valeur totale"}),T.jsxs("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:[ae.toLocaleString()," $"]})]})]}),T.jsx("div",{className:"grid grid-cols-1 gap-3",children:lf.map(se=>{const me=M(se.id)?.quantity||0,C=re.get(se.id)||0,x=Pp(me,C);return T.jsx(Tt,{children:T.jsxs(bt,{className:"p-4",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[T.jsx("span",{className:"text-3xl",children:se.icon}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-semibold text-dark-800 dark:text-dark-100",children:se.label}),C>0&&T.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[C.toLocaleString()," $ / caisse"]})]})]}),T.jsxs("div",{className:"flex items-center gap-1.5",children:[T.jsx("button",{onClick:()=>G(se.id,se.label,-10),className:"w-9 h-9 rounded-soft bg-peach-light hover:bg-peach transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"-10",children:"--"}),T.jsx("button",{onClick:()=>G(se.id,se.label,-1),className:"w-9 h-9 rounded-soft bg-lavender-light hover:bg-lavender transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"-1",children:"-"}),T.jsx("input",{type:"number",value:b[se.id]!==void 0?b[se.id]:me,onChange:I=>{const O=I.target.value;w(D=>({...D,[se.id]:O}))},onBlur:()=>{const I=b[se.id];I!==void 0&&(K(se.id,se.label,parseInt(I)||0),w(O=>{const D={...O};return delete D[se.id],D}))},onKeyDown:I=>{I.key==="Enter"&&I.currentTarget.blur()},className:"w-20 text-center px-3 py-2 rounded-soft border border-border bg-card text-text font-semibold shadow-sm focus:ring-2 focus:ring-peach/30 focus:border-peach outline-none transition-all"}),T.jsx("button",{onClick:()=>G(se.id,se.label,1),className:"w-9 h-9 rounded-soft bg-sage-light hover:bg-sage transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"+1",children:"+"}),T.jsx("button",{onClick:()=>G(se.id,se.label,10),className:"w-9 h-9 rounded-soft bg-butter-light hover:bg-butter transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"+10",children:"++"})]}),T.jsx("div",{className:"text-right min-w-[100px]",children:T.jsxs("div",{className:"text-lg font-bold text-peach-600 dark:text-peach-400",children:[x.toLocaleString()," $"]})}),T.jsx(gn,{size:"sm",variant:"secondary",onClick:()=>Y(se.id),disabled:me===0,children:" Vendre"})]}),u===se.id&&T.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:T.jsxs("div",{className:"flex items-end gap-2",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Quantit"}),T.jsx("input",{type:"number",min:"1",max:me,value:m,onChange:I=>{const O=I.target.value;g(O);const D=parseInt(O)||0;D>0&&E(String(C*D))},className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Prix total rcolt"}),T.jsx("input",{type:"number",min:"0",value:p,onChange:I=>E(I.target.value),className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),T.jsx(gn,{size:"sm",variant:"secondary",onClick:()=>h(null),children:""}),T.jsx(gn,{size:"sm",onClick:()=>ie(se.id,se.label),children:" Vendre"})]})})]})},se.id)})})]})},L8=()=>{const{user:r}=ba(),[e,n]=P.useState([]),[s,o]=P.useState({});P.useEffect(()=>r?Zg(r.uid,n):void 0,[r]);const u=p=>e.find(E=>E.crateId===p),h=async p=>{if(!r)return;const E=s[p],b=parseInt(E);!b||b<=0||(await f8(r.uid,p,b),o({...s,[p]:""}))},m=async(p,E)=>{r&&await d8(r.uid,p,E)},g=(p,E)=>{p.key==="Enter"&&h(E)};return T.jsxs("div",{className:"space-y-4",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Prix moyens"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:lf.map(p=>{const E=u(p.id),b=E?Uf(E.values):0,w=E?Math.min(...E.values):0,M=E?Math.max(...E.values):0,G=E?.values.length||0;return T.jsx(Tt,{children:T.jsxs(bt,{className:"p-4",children:[T.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-2xl",children:p.icon}),T.jsx("h3",{className:"font-semibold text-dark-800 dark:text-dark-100",children:p.label})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("div",{className:"text-xl font-bold text-peach-600 dark:text-peach-400",children:b>0?`${b.toLocaleString()} $`:""}),T.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[G," prix"]})]})]}),G>0&&T.jsxs("div",{className:"flex gap-4 text-xs mb-3 py-2 px-3 bg-butter-50 dark:bg-dark-700 rounded",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-dark-500 dark:text-dark-500",children:"Min:"}),T.jsxs("span",{className:"ml-1 font-semibold text-sage-600 dark:text-sage-400",children:[w.toLocaleString()," $"]})]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-dark-500 dark:text-dark-500",children:"Max:"}),T.jsxs("span",{className:"ml-1 font-semibold text-lavender-600 dark:text-lavender-400",children:[M.toLocaleString()," $"]})]})]}),T.jsxs("div",{className:"flex gap-2 mb-3",children:[T.jsx("input",{type:"number",placeholder:"Nouveau prix",value:s[p.id]||"",onChange:K=>o({...s,[p.id]:K.target.value}),onKeyPress:K=>g(K,p.id),className:"flex-1 px-3 py-1.5 text-sm rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"}),T.jsx("button",{onClick:()=>h(p.id),className:"px-4 py-1.5 text-sm font-semibold rounded-soft bg-linear-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark text-white transition-all shadow-sm hover:shadow-soft",children:"+"})]}),E&&E.values.length>0&&T.jsxs("div",{className:"space-y-1",children:[E.values.slice(0,3).map((K,Y)=>T.jsxs("div",{className:"flex items-center justify-between py-1 px-2 text-sm   rounded border border-peach/20 bg-peach/20 dark:border-dark-600",children:[T.jsxs("span",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[K.toLocaleString()," $"]}),T.jsx("button",{onClick:()=>m(p.id,Y),className:"text-xs px-2 py-0.5 rounded 0 text-dark  dark:hover:bg-red-900/50 transition-colors",children:""})]},Y)),E.values.length>3&&T.jsxs("div",{className:"text-xs text-center text-dark-500 dark:text-dark-500 py-1",children:["+",E.values.length-3," autre(s)"]})]})]})},p.id)})})]})},Z2=({label:r,children:e,className:n="",...s})=>T.jsxs("div",{className:"w-full",children:[r&&T.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:r}),T.jsx("select",{className:`w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all ${n}`,...s,children:e})]}),J2=P.forwardRef(({label:r,error:e,className:n="",...s},o)=>T.jsxs("div",{className:"w-full",children:[r&&T.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-200 mb-1",children:r}),T.jsx("input",{ref:o,className:`w-full px-4 py-2 rounded-input border ${e?"border-peach-dark focus:ring-peach-dark":"border-border focus:ring-peach/30"} bg-card text-text focus:outline-none focus:ring-2 focus:border-peach shadow-sm transition-all ${n}`,...s}),e&&T.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:e})]}));J2.displayName="Input";const V8=()=>{const[r,e]=P.useState([]),[n,s]=P.useState(null),[o,u]=P.useState("1");P.useEffect(()=>{h()},[]);const h=async()=>{const w=await jf();e(w),w.length>0&&s(w[0])},m=w=>{const M=r.find(G=>G.id===w);s(M||null)},g=parseInt(o)||1,p=n?v8(n,g):0,E=E8(g),b=n?T8(n,g):0;return T.jsxs("div",{className:"space-y-4",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Calculateur"}),T.jsx(Tt,{children:T.jsx(bt,{className:"p-4",children:T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[T.jsx(Z2,{label:"Transformation",value:n?.id||"",onChange:w=>m(w.target.value),children:r.length===0?T.jsx("option",{children:"Chargement..."}):r.map(w=>T.jsxs("option",{value:w.id,children:[w.name," (",w.durationHours,"h)"]},w.id))}),T.jsx(J2,{label:"Nombre",type:"number",min:"1",value:o,onChange:w=>u(w.target.value)})]})})}),n&&T.jsx(Tt,{children:T.jsxs(bt,{className:"p-4",children:[T.jsx("h2",{className:"font-semibold text-dark-800 dark:text-dark-100 mb-3",children:n.name}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[T.jsxs("div",{className:"p-2 bg-butter-50 dark:bg-dark-700 rounded",children:[T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Matriau"}),T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.input.quantity," ",n.input.materialName]})]}),T.jsxs("div",{className:"p-2 bg-lavender-50 dark:bg-dark-700 rounded",children:[T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Outil"}),T.jsx("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:n.tool.name})]}),T.jsxs("div",{className:"p-2 bg-sage-50 dark:bg-dark-700 rounded",children:[T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Dure"}),T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.durationHours,"h",T.jsx("span",{className:"text-xs text-dark-400 dark:text-dark-600",children:" (-1h si )"})]})]}),T.jsxs("div",{className:"p-2 bg-sky-50 dark:bg-dark-700 rounded",children:[T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Caisse"}),T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.crate.quantityPerCrate," /caisse"]})]})]})]})}),T.jsx(Tt,{children:T.jsxs(bt,{className:"p-4",children:[T.jsxs("h2",{className:"font-semibold text-dark-800 dark:text-dark-100 mb-3",children:["Pour ",g," transformation",g>1?"s":""]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[T.jsxs("div",{className:"p-3 bg-gradient-to-br from-peach-50 to-butter-50 dark:from-peach-900/20 dark:to-butter-900/20 rounded-cozy",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Matriaux ncessaires"}),T.jsx("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:p}),T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:n?.input.materialName})]}),T.jsxs("div",{className:"p-3 bg-gradient-to-br from-lavender-50 to-sage-50 dark:from-lavender-900/20 dark:to-sage-900/20 rounded-cozy",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Outils requis"}),T.jsx("div",{className:"text-2xl font-bold text-lavender-600 dark:text-lavender-400",children:E}),T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:n?.tool.name})]}),n&&n.tool.price>0&&T.jsxs("div",{className:"p-3 bg-gradient-to-br from-sky-50 to-lavender-50 dark:from-sky-900/20 dark:to-lavender-900/20 rounded-cozy",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Cot total"}),T.jsxs("div",{className:"text-2xl font-bold text-sky-600 dark:text-sky-400",children:[b.toLocaleString()," $"]}),T.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[n.tool.price.toLocaleString()," $  ",E]})]})]})]})})]})},P8=({isOpen:r,onClose:e,title:n,children:s,actions:o})=>r?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-dark-900/50 backdrop-blur-sm",onClick:e,children:T.jsxs("div",{className:"bg-card rounded-soft-lg shadow-soft-lg border border-border max-w-md w-full overflow-hidden",onClick:u=>u.stopPropagation(),children:[T.jsxs("div",{className:"px-6 py-4 border-b border-border flex items-center justify-between",children:[T.jsx("h2",{className:"text-lg font-semibold text-text",children:n}),T.jsx("button",{onClick:e,className:"w-8 h-8 rounded-soft flex items-center justify-center hover:bg-surface transition-colors text-text-muted hover:text-text",children:""})]}),T.jsx("div",{className:"px-6 py-4 text-text-secondary",children:s}),o&&T.jsx("div",{className:"px-6 py-4 border-t border-border flex items-center justify-end gap-2",children:o})]})}):null,j8=()=>{const{user:r}=ba(),[e,n]=P.useState([]),[s,o]=P.useState([]),[u,h]=P.useState(null),[m,g]=P.useState(!1),[p,E]=P.useState(""),[b,w]=P.useState("1"),[M,G]=P.useState(""),[K,Y]=P.useState(""),[ie,re]=P.useState(!1),[ae,se]=P.useState(null),[,pe]=P.useState(Date.now());P.useEffect(()=>{me()},[]),P.useEffect(()=>r?z2(r.uid,o):void 0,[r]),P.useEffect(()=>{const H=setInterval(()=>{pe(Date.now())},1e3);return()=>clearInterval(H)},[]);const me=async()=>{const[H,he]=await Promise.all([jf(),h8()]);n(H),h(he),H.length>0&&E(H[0].id)},C=async()=>{if(!r||!p)return;const H=e.find(ke=>ke.id===p);if(!H)return;let he;M&&K?he=new Date(`${M}T${K}`):M&&(he=new Date(M)),await m8(r.uid,p,parseInt(b)||1,H.durationHours,he),w("1"),G(""),Y(""),g(!1)},x=async H=>{!r||!H||await g8(r.uid,H,u?.rules.timeReductionHours)},I=async H=>{!r||!H.id||(await p8(r.uid,H.id,"DONE"),await y8(r.uid,H.transformationId,H.startedAt,H.endsAt,H.reducedByAction))},O=async H=>{r&&await TE(r.uid,H)},D=H=>{se(H),re(!0)},U=async()=>{!r||!ae||(await TE(r.uid,ae),re(!1),se(null))},k=H=>e.find(he=>he.id===H.transformationId),We=s.filter(H=>H.status==="RUNNING"&&!of(H.endsAt.toDate())),ct=s.filter(H=>H.status!=="DONE"&&of(H.endsAt.toDate())),W=s.filter(H=>H.status==="DONE");return T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Transformations"}),T.jsx(gn,{onClick:()=>g(!m),size:"sm",children:m?"":"+ Nouveau"})]}),m&&T.jsx(Tt,{children:T.jsxs(bt,{className:"p-4",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[T.jsx(Z2,{label:"Type",value:p,onChange:H=>E(H.target.value),children:e.map(H=>T.jsxs("option",{value:H.id,children:[H.name," (",H.durationHours,"h)"]},H.id))}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Productions places"}),T.jsx("input",{type:"number",min:"1",value:b,onChange:H=>w(H.target.value),className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:" Date de dbut (optionnel)"}),T.jsx("input",{type:"date",value:M,onChange:H=>G(H.target.value),className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-lavender/30 focus:border-lavender transition-all hover:border-lavender/50",style:{colorScheme:"light dark"}})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:" Heure de dbut (optionnel)"}),T.jsx("input",{type:"time",value:K,onChange:H=>Y(H.target.value),className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-lavender/30 focus:border-lavender transition-all hover:border-lavender/50",style:{colorScheme:"light dark"}})]})]}),M&&T.jsxs("div",{className:"mb-3 p-2 bg-lavender-light rounded-soft text-xs text-text-muted",children:[" Si vide, dmarre maintenant. Sinon, dmarre le ",M," ",K&&` ${K}`]}),T.jsx(gn,{onClick:C,className:"w-full",children:" Dmarrer"})]})}),ct.length>0&&T.jsxs("div",{className:"space-y-2",children:[T.jsxs("h2",{className:"text-lg font-semibold text-sage-600 dark:text-sage-400",children:[" Prtes (",ct.length,")"]}),ct.map(H=>{const he=k(H);return T.jsx(Tt,{className:"border-2 border-sage-400 dark:border-sage-600",children:T.jsx(bt,{className:"p-3",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[he?.name,H.reducedByAction&&T.jsx("span",{className:"ml-2 text-xs",children:""})]}),T.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400",children:[H.inputQuantityUsed," production",H.inputQuantityUsed>1?"s":""]})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx(gn,{size:"sm",variant:"secondary",onClick:()=>I(H),children:"Rcolter"}),T.jsx(gn,{size:"sm",variant:"danger",onClick:()=>H.id&&O(H.id),children:""})]})]})})},H.id)})]}),We.length>0&&T.jsxs("div",{className:"space-y-2",children:[T.jsxs("h2",{className:"text-lg font-semibold text-lavender-600 dark:text-lavender-400",children:["En cours (",We.length,")"]}),We.map(H=>{const he=k(H),ke=q2(H.endsAt.toDate()),Be=H.durationHours*60*60*1e3,V=Math.max(0,Math.min(100,(Be-ke)/Be*100));return T.jsx(Tt,{children:T.jsxs(bt,{className:"p-3",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[he?.name,H.reducedByAction&&T.jsx("span",{className:"ml-2 text-xs",children:""})]}),T.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400",children:[H.inputQuantityUsed," production",H.inputQuantityUsed>1?"s":"","  Fin prvue: ",H.endsAt.toDate().toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-sm font-semibold text-lavender-600 dark:text-lavender-400",children:H2(ke)}),T.jsx(gn,{variant:"secondary",size:"sm",onClick:()=>H.id&&x(H.id),disabled:H.reducedByAction,title:H.reducedByAction?"Dj arros":"Arroser (-1h)",children:""}),T.jsx(gn,{variant:"danger",size:"sm",onClick:()=>H.id&&D(H.id),title:"Annuler la production",children:"Annuler"})]})]}),T.jsx("div",{className:"w-full bg-surface rounded-full h-2 overflow-hidden border border-border",children:T.jsx("div",{className:"h-full bg-linear-to-r from-lavender to-peach transition-all duration-1000",style:{width:`${V}%`}})})]})},H.id)})]}),W.length>0&&T.jsxs("div",{className:"space-y-2",children:[T.jsxs("h2",{className:"text-sm font-semibold text-dark-600 dark:text-dark-400",children:["Rcentes (",W.slice(0,3).length,")"]}),W.slice(0,3).map(H=>{const he=k(H);return T.jsx(Tt,{className:"opacity-60",children:T.jsx(bt,{className:"p-2",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"text-sm",children:[T.jsx("span",{className:"font-semibold text-dark-800 dark:text-dark-100",children:he?.name}),T.jsxs("span",{className:"text-xs text-dark-600 dark:text-dark-400 ml-2",children:[" ",H.inputQuantityUsed," production",H.inputQuantityUsed>1?"s":""]})]}),T.jsx(gn,{variant:"danger",size:"sm",onClick:()=>H.id&&O(H.id),className:"text-xs",children:""})]})})},H.id)})]}),s.length===0&&T.jsx(Tt,{children:T.jsxs(bt,{className:"p-8 text-center",children:[T.jsx("div",{className:"text-4xl mb-3",children:""}),T.jsx("p",{className:"text-dark-600 dark:text-dark-400 mb-3",children:"Aucune transformation en cours"}),T.jsx(gn,{onClick:()=>g(!0),size:"sm",children:"Dmarrer une transformation"})]})}),T.jsx(P8,{isOpen:ie,onClose:()=>re(!1),title:"Annuler la production",actions:T.jsxs(T.Fragment,{children:[T.jsx(gn,{variant:"secondary",onClick:()=>re(!1),children:"Non, garder"}),T.jsx(gn,{variant:"danger",onClick:U,children:"Oui, annuler"})]}),children:T.jsx("p",{className:"text-text-secondary",children:"tes-vous sr de vouloir annuler cette production ? Cette action est irrversible."})})]})},U8=()=>{const{user:r}=ba(),[e,n]=P.useState([]),[s,o]=P.useState([]);P.useEffect(()=>{u()},[]),P.useEffect(()=>r?B2(r.uid,n):void 0,[r]);const u=async()=>{const E=await jf();o(E)},h=E=>s.find(b=>b.id===E),m=e.reduce((E,b)=>{const w=b.createdAt.toDate().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return E[w]||(E[w]=[]),E[w].push(b),E},{}),g=E=>E.toDate().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),p=E=>{const b=E.startedAt.toDate(),M=E.endsAt.toDate().getTime()-b.getTime();return Math.floor(M/(1e3*60*60))};return T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Historique"}),T.jsxs("div",{className:"text-sm text-dark-600 dark:text-dark-400",children:[e.length," entre",e.length>1?"s":""]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[T.jsx(Tt,{children:T.jsx(bt,{className:"p-3",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Total"}),T.jsx("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:e.length})]})})}),T.jsx(Tt,{children:T.jsx(bt,{className:"p-3",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Transformations"}),T.jsx("div",{className:"text-2xl font-bold text-lavender-600 dark:text-lavender-400",children:e.filter(E=>E.type==="TRANSFORMATION").length})]})})}),T.jsx(Tt,{children:T.jsx(bt,{className:"p-3",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Ventes"}),T.jsx("div",{className:"text-2xl font-bold text-sage-600 dark:text-sage-400",children:e.filter(E=>E.type==="SALE").length})]})})}),T.jsx(Tt,{children:T.jsx(bt,{className:"p-3",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Cette semaine"}),T.jsx("div",{className:"text-2xl font-bold text-sky-600 dark:text-sky-400",children:e.filter(E=>{const b=new Date;return b.setDate(b.getDate()-7),E.createdAt.toDate()>b}).length})]})})})]}),T.jsx("div",{className:"space-y-6",children:Object.keys(m).length===0?T.jsx(Tt,{children:T.jsx(bt,{children:T.jsxs("div",{className:"text-center py-12",children:[T.jsx("div",{className:"text-6xl mb-4",children:""}),T.jsx("p",{className:"text-dark-600 dark:text-dark-400 mb-2",children:"Aucun historique pour le moment"}),T.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-500",children:"Les transformations et ventes apparatront ici"})]})})}):Object.entries(m).map(([E,b])=>T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold text-dark-700 dark:text-dark-300 mb-3 capitalize",children:E}),T.jsx("div",{className:"space-y-3",children:b.map(w=>{if(w.type==="TRANSFORMATION"){const M=w,G=h(M.transformationId),K=p(M);return T.jsx(Tt,{children:T.jsx(bt,{className:"p-3",children:T.jsx("div",{className:"flex items-start justify-between",children:T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-lavender-400 to-peach-400 flex items-center justify-center text-white text-sm",children:""}),T.jsx("h3",{className:"text-base font-semibold text-dark-800 dark:text-dark-100",children:G?.name||"Transformation inconnue"}),M.reducedByAction&&T.jsx("span",{className:"px-2 py-0.5 bg-sage-100 dark:bg-sage-900/30 text-sage-700 dark:text-sage-300 text-xs rounded-cozy font-semibold",children:""})]}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Dbut"}),T.jsx("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:g(M.startedAt)})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Fin"}),T.jsx("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:g(M.endsAt)})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Dure"}),T.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[K,"h"]})]})]})]})})})},w.id)}else{const M=w,G=M.actualValue-M.estimatedValue,K=Math.abs(G)>0;return T.jsx(Tt,{className:K?"border-l-4 border-l-peach-400":"",children:T.jsx(bt,{className:"p-3",children:T.jsx("div",{className:"flex items-start justify-between",children:T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-sage-400 to-peach-400 flex items-center justify-center text-white text-sm",children:""}),T.jsxs("h3",{className:"text-base font-semibold text-dark-800 dark:text-dark-100",children:["Vente de ",M.crateLabel]})]}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm mb-2",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Quantit"}),T.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[M.quantitySold," caisse",M.quantitySold>1?"s":""]})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Valeur estime"}),T.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[M.estimatedValue.toLocaleString()," $"]})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Valeur rcolte"}),T.jsxs("div",{className:`font-semibold ${G>0?"text-sage-600 dark:text-sage-400":G<0?"text-peach-600 dark:text-peach-400":"text-dark-700 dark:text-dark-300"}`,children:[M.actualValue.toLocaleString()," $"]})]}),K&&T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Diffrence"}),T.jsxs("div",{className:`font-semibold ${G>0?"text-sage-600 dark:text-sage-400":"text-peach-600 dark:text-peach-400"}`,children:[G>0?"+":"",G.toLocaleString()," $"]})]})]}),M.notes&&T.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400 italic bg-dark-50 dark:bg-dark-800 rounded p-2",children:[" ",M.notes]})]})})})},w.id)}})})]},E))})]})},z8=async()=>{try{console.log(" Dbut de l'initialisation Firestore...");const r=$n(Zt,"configs","default");await da(r,{name:"default",rules:{timeReductionHours:1},updatedAt:Ta()}),console.log(" Config cre");const e=[{id:"zeed",name:"Zeed",input:{materialName:"Feuille",quantity:60},tool:{name:"Pot de terre",price:0},durationHours:48,crate:{name:"Caisse de Zeed",quantityPerCrate:20}},{id:"pandoxine",name:"Pandoxine",input:{materialName:"Viande",quantity:18},tool:{name:"Marmite",price:0},durationHours:96,crate:{name:"Caisse de Pandoxine",quantityPerCrate:12}},{id:"krakenine",name:"Krakenine",input:{materialName:"Huile",quantity:10},tool:{name:"Bidon de chauffe",price:0},durationHours:24,crate:{name:"Caisse de Krakenine",quantityPerCrate:12}},{id:"psylocybine",name:"Psylocybine",input:{materialName:"Champignon",quantity:60},tool:{name:"Sachet de fermentation",price:0},durationHours:72,crate:{name:"Caisse de Psylocybine",quantityPerCrate:20}}];for(const n of e){const s=$n(Zt,"configs","default","transformations",n.id);await da(s,n),console.log(` Transformation ${n.name} cre`)}return console.log(" Initialisation termine avec succs!"),{success:!0,message:"Toutes les donnes ont t cres avec succs!"}}catch(r){return console.error(" Erreur lors de l'initialisation:",r),{success:!1,message:`Erreur: ${r.message}`}}},B8=()=>{const[r,e]=P.useState(!1),[n,s]=P.useState(null),o=async()=>{e(!0),s(null);const u=await z8();s(u),e(!1)};return T.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:T.jsx(Tt,{className:"max-w-2xl w-full",children:T.jsxs(bt,{className:"p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-peach-600 dark:text-peach-400 mb-4",children:" Initialisation Firestore"}),T.jsxs("div",{className:"space-y-4 mb-6",children:[T.jsx("p",{className:"text-dark-700 dark:text-dark-300",children:"Cette page va crer automatiquement toutes les donnes ncessaires dans Firestore:"}),T.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-600 dark:text-dark-400 ml-4",children:[T.jsxs("li",{children:["Collection ",T.jsx("code",{className:"bg-dark-200 dark:bg-dark-700 px-2 py-0.5 rounded",children:"configs/default"})]}),T.jsx("li",{children:"Rgle de rduction de temps (1h)"}),T.jsxs("li",{children:["4 transformations:",T.jsxs("ul",{className:"list-circle list-inside ml-6 mt-1 space-y-1",children:[T.jsx("li",{children:" Zeed (Feuille  48h)"}),T.jsx("li",{children:" Pandoxine (Viande  96h)"}),T.jsx("li",{children:" Krakenine (Huile  24h)"}),T.jsx("li",{children:" Psylocybine (Champignon  72h)"})]})]})]}),T.jsx("div",{className:"bg-butter-50 dark:bg-butter-900/20 border-2 border-butter-400 dark:border-butter-600 rounded-cozy p-4",children:T.jsxs("p",{className:"text-sm text-dark-700 dark:text-dark-300",children:[" ",T.jsx("strong",{children:"Important:"})," N'excutez cette initialisation qu'une seule fois! Si les donnes existent dj, elles seront crases."]})})]}),T.jsx(gn,{onClick:o,disabled:r,className:"w-full mb-4",children:r?"Initialisation en cours...":" Initialiser Firestore"}),n&&T.jsxs("div",{className:`p-4 rounded-cozy ${n.success?"bg-sage-100 dark:bg-sage-900/30 border-2 border-sage-400 dark:border-sage-600":"bg-red-100 dark:bg-red-900/30 border-2 border-red-400 dark:border-red-600"}`,children:[T.jsx("p",{className:`font-semibold mb-2 ${n.success?"text-sage-800 dark:text-sage-200":"text-red-800 dark:text-red-200"}`,children:n.success?" Succs!":" Erreur"}),T.jsx("p",{className:`text-sm ${n.success?"text-sage-700 dark:text-sage-300":"text-red-700 dark:text-red-300"}`,children:n.message}),n.success&&T.jsxs("div",{className:"mt-4 pt-4 border-t border-sage-300 dark:border-sage-700",children:[T.jsx("p",{className:"text-sm text-sage-700 dark:text-sage-300 mb-3",children:" Vous pouvez maintenant:"}),T.jsxs("ul",{className:"text-sm text-sage-600 dark:text-sage-400 space-y-1 ml-4",children:[T.jsxs("li",{children:[" Aller sur la page ",T.jsx("strong",{children:"Stocks"})," et modifier les quantits"]}),T.jsxs("li",{children:[" Aller sur la page ",T.jsx("strong",{children:"Prix"})," et ajouter des prix observs"]}),T.jsxs("li",{children:[" Aller sur le ",T.jsx("strong",{children:"Calculateur"})," pour planifier vos productions"]}),T.jsxs("li",{children:[" Lancer des ",T.jsx("strong",{children:"Transformations"})," avec timers"]})]}),T.jsx("p",{className:"text-xs text-sage-500 dark:text-sage-500 mt-4",children:" Conseil: Fermez cet onglet et rafrachissez l'application principale"})]})]}),T.jsx("div",{className:"mt-6 pt-6 border-t border-dark-200 dark:border-dark-700",children:T.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-500 text-center",children:"Cette page peut tre supprime aprs la premire initialisation"})})]})})})},ia=({children:r})=>{const{user:e,loading:n}=ba();return n?T.jsx("div",{className:"min-h-screen flex items-center justify-center",children:T.jsx("div",{className:"text-xl text-dark-600 dark:text-dark-400",children:"Chargement..."})}):e?T.jsx(O8,{children:r}):T.jsx(PE,{to:"/login",replace:!0})};function q8(){const{user:r,loading:e}=ba();return e?T.jsx("div",{className:"min-h-screen flex items-center justify-center",children:T.jsx("div",{className:"text-xl text-dark-600 dark:text-dark-400",children:"Chargement..."})}):T.jsxs(Pw,{children:[T.jsx(hi,{path:"/login",element:r?T.jsx(PE,{to:"/",replace:!0}):T.jsx(c8,{})}),T.jsx(hi,{path:"/",element:T.jsx(ia,{children:T.jsx(A8,{})})}),T.jsx(hi,{path:"/stocks",element:T.jsx(ia,{children:T.jsx(M8,{})})}),T.jsx(hi,{path:"/prices",element:T.jsx(ia,{children:T.jsx(L8,{})})}),T.jsx(hi,{path:"/calculator",element:T.jsx(ia,{children:T.jsx(V8,{})})}),T.jsx(hi,{path:"/timers",element:T.jsx(ia,{children:T.jsx(j8,{})})}),T.jsx(hi,{path:"/history",element:T.jsx(ia,{children:T.jsx(U8,{})})}),T.jsx(hi,{path:"/setup",element:T.jsx(ia,{children:T.jsx(B8,{})})})]})}function H8(){return T.jsx(ox,{basename:"/Brewsy",children:T.jsx(u8,{children:T.jsx(q8,{})})})}zS.createRoot(document.getElementById("root")).render(T.jsx(P.StrictMode,{children:T.jsx(H8,{})}));
