(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function jA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Bm={exports:{}},su={};var bv;function PA(){if(bv)return su;bv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return su.Fragment=e,su.jsx=n,su.jsxs=n,su}var Sv;function UA(){return Sv||(Sv=1,Bm.exports=PA()),Bm.exports}var T=UA(),qm={exports:{}},Ae={};var Av;function zA(){if(Av)return Ae;Av=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function M(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,$={};function re(V,te,le){this.props=V,this.context=te,this.refs=$,this.updater=le||G}re.prototype.isReactComponent={},re.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},re.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ie(){}ie.prototype=re.prototype;function ae(V,te,le){this.props=V,this.context=te,this.refs=$,this.updater=le||G}var se=ae.prototype=new ie;se.constructor=ae,Y(se,re.prototype),se.isPureReactComponent=!0;var ge=Array.isArray;function he(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function R(V,te,le){var fe=le.ref;return{$$typeof:i,type:V,key:te,ref:fe!==void 0?fe:null,props:le}}function D(V,te){return R(V.type,te,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function P(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(le){return te[le]})}var k=/\/+/g;function We(V,te){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):te.toString(36)}function ct(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(he,he):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function W(V,te,le,fe,be){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case i:case e:Ue=!0;break;case v:return Ue=V._init,W(Ue(V._payload),te,le,fe,be)}}if(Ue)return be=be(V),Ue=fe===""?"."+We(V,0):fe,ge(be)?(le="",Ue!=null&&(le=Ue.replace(k,"$&/")+"/"),W(be,te,le,"",function(Is){return Is})):be!=null&&(O(be)&&(be=D(be,le+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(k,"$&/")+"/")+Ue)),te.push(be)),1;Ue=0;var Vt=fe===""?".":fe+":";if(ge(V))for(var at=0;at<V.length;at++)fe=V[at],Ce=Vt+We(fe,at),Ue+=W(fe,te,le,Ce,be);else if(at=M(V),typeof at=="function")for(V=at.call(V),at=0;!(fe=V.next()).done;)fe=fe.value,Ce=Vt+We(fe,at++),Ue+=W(fe,te,le,Ce,be);else if(Ce==="object"){if(typeof V.then=="function")return W(ct(V),te,le,fe,be);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function H(V,te,le){if(V==null)return V;var fe=[],be=0;return W(V,fe,"","",function(Ce){return te.call(le,Ce,be++)}),fe}function de(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(le){(V._status===0||V._status===-1)&&(V._status=1,V._result=le)},function(le){(V._status===0||V._status===-1)&&(V._status=2,V._result=le)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var ke=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Be={map:H,forEach:function(V,te,le){H(V,function(){te.apply(this,arguments)},le)},count:function(V){var te=0;return H(V,function(){te++}),te},toArray:function(V){return H(V,function(te){return te})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ae.Activity=b,Ae.Children=Be,Ae.Component=re,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=ae,Ae.StrictMode=s,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},Ae.cache=function(V){return function(){return V.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(V,te,le){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var fe=Y({},V.props),be=V.key;if(te!=null)for(Ce in te.key!==void 0&&(be=""+te.key),te)!C.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(fe[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)fe.children=le;else if(1<Ce){for(var Ue=Array(Ce),Vt=0;Vt<Ce;Vt++)Ue[Vt]=arguments[Vt+2];fe.children=Ue}return R(V.type,be,fe)},Ae.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ae.createElement=function(V,te,le){var fe,be={},Ce=null;if(te!=null)for(fe in te.key!==void 0&&(Ce=""+te.key),te)C.call(te,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(be[fe]=te[fe]);var Ue=arguments.length-2;if(Ue===1)be.children=le;else if(1<Ue){for(var Vt=Array(Ue),at=0;at<Ue;at++)Vt[at]=arguments[at+2];be.children=Vt}if(V&&V.defaultProps)for(fe in Ue=V.defaultProps,Ue)be[fe]===void 0&&(be[fe]=Ue[fe]);return R(V,Ce,be)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(V){return{$$typeof:m,render:V}},Ae.isValidElement=O,Ae.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:de}},Ae.memo=function(V,te){return{$$typeof:p,type:V,compare:te===void 0?null:te}},Ae.startTransition=function(V){var te=I.T,le={};I.T=le;try{var fe=V(),be=I.S;be!==null&&be(le,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(he,ke)}catch(Ce){ke(Ce)}finally{te!==null&&le.types!==null&&(te.types=le.types),I.T=te}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(V){return I.H.use(V)},Ae.useActionState=function(V,te,le){return I.H.useActionState(V,te,le)},Ae.useCallback=function(V,te){return I.H.useCallback(V,te)},Ae.useContext=function(V){return I.H.useContext(V)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(V,te){return I.H.useDeferredValue(V,te)},Ae.useEffect=function(V,te){return I.H.useEffect(V,te)},Ae.useEffectEvent=function(V){return I.H.useEffectEvent(V)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(V,te,le){return I.H.useImperativeHandle(V,te,le)},Ae.useInsertionEffect=function(V,te){return I.H.useInsertionEffect(V,te)},Ae.useLayoutEffect=function(V,te){return I.H.useLayoutEffect(V,te)},Ae.useMemo=function(V,te){return I.H.useMemo(V,te)},Ae.useOptimistic=function(V,te){return I.H.useOptimistic(V,te)},Ae.useReducer=function(V,te,le){return I.H.useReducer(V,te,le)},Ae.useRef=function(V){return I.H.useRef(V)},Ae.useState=function(V){return I.H.useState(V)},Ae.useSyncExternalStore=function(V,te,le){return I.H.useSyncExternalStore(V,te,le)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.3",Ae}var wv;function qp(){return wv||(wv=1,qm.exports=zA()),qm.exports}var j=qp();const A=jA(j);var Hm={exports:{}},au={},Fm={exports:{}},Gm={};var xv;function BA(){return xv||(xv=1,(function(i){function e(W,H){var de=W.length;W.push(H);e:for(;0<de;){var ke=de-1>>>1,Be=W[ke];if(0<o(Be,H))W[ke]=H,W[de]=Be,de=ke;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var H=W[0],de=W.pop();if(de!==H){W[0]=de;e:for(var ke=0,Be=W.length,V=Be>>>1;ke<V;){var te=2*(ke+1)-1,le=W[te],fe=te+1,be=W[fe];if(0>o(le,de))fe<Be&&0>o(be,le)?(W[ke]=be,W[fe]=de,ke=fe):(W[ke]=le,W[te]=de,ke=te);else if(fe<Be&&0>o(be,de))W[ke]=be,W[fe]=de,ke=fe;else break e}}return H}function o(W,H){var de=W.sortIndex-H.sortIndex;return de!==0?de:W.id-H.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],p=[],v=1,b=null,x=3,M=!1,G=!1,Y=!1,$=!1,re=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function se(W){for(var H=n(p);H!==null;){if(H.callback===null)s(p);else if(H.startTime<=W)s(p),H.sortIndex=H.expirationTime,e(g,H);else break;H=n(p)}}function ge(W){if(Y=!1,se(W),!G)if(n(g)!==null)G=!0,he||(he=!0,P());else{var H=n(p);H!==null&&ct(ge,H.startTime-W)}}var he=!1,I=-1,C=5,R=-1;function D(){return $?!0:!(i.unstable_now()-R<C)}function O(){if($=!1,he){var W=i.unstable_now();R=W;var H=!0;try{e:{G=!1,Y&&(Y=!1,ie(I),I=-1),M=!0;var de=x;try{t:{for(se(W),b=n(g);b!==null&&!(b.expirationTime>W&&D());){var ke=b.callback;if(typeof ke=="function"){b.callback=null,x=b.priorityLevel;var Be=ke(b.expirationTime<=W);if(W=i.unstable_now(),typeof Be=="function"){b.callback=Be,se(W),H=!0;break t}b===n(g)&&s(g),se(W)}else s(g);b=n(g)}if(b!==null)H=!0;else{var V=n(p);V!==null&&ct(ge,V.startTime-W),H=!1}}break e}finally{b=null,x=de,M=!1}H=void 0}}finally{H?P():he=!1}}}var P;if(typeof ae=="function")P=function(){ae(O)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,We=k.port2;k.port1.onmessage=O,P=function(){We.postMessage(null)}}else P=function(){re(O,0)};function ct(W,H){I=re(function(){W(i.unstable_now())},H)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(W){switch(x){case 1:case 2:case 3:var H=3;break;default:H=x}var de=x;x=H;try{return W()}finally{x=de}},i.unstable_requestPaint=function(){$=!0},i.unstable_runWithPriority=function(W,H){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var de=x;x=W;try{return H()}finally{x=de}},i.unstable_scheduleCallback=function(W,H,de){var ke=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ke+de:ke):de=ke,W){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=de+Be,W={id:v++,callback:H,priorityLevel:W,startTime:de,expirationTime:Be,sortIndex:-1},de>ke?(W.sortIndex=de,e(p,W),n(g)===null&&W===n(p)&&(Y?(ie(I),I=-1):Y=!0,ct(ge,de-ke))):(W.sortIndex=Be,e(g,W),G||M||(G=!0,he||(he=!0,P()))),W},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(W){var H=x;return function(){var de=x;x=H;try{return W.apply(this,arguments)}finally{x=de}}}})(Gm)),Gm}var Rv;function qA(){return Rv||(Rv=1,Fm.exports=BA()),Fm.exports}var Km={exports:{}},Jt={};var Cv;function HA(){if(Cv)return Jt;Cv=1;var i=qp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,v)},Jt.flushSync=function(g){var p=h.T,v=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=v,s.d.f()}},Jt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Jt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Jt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:M}):v==="script"&&s.d.X(g,{crossOrigin:b,integrity:x,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Jt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Jt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin);s.d.L(g,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Jt.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Jt.requestFormReset=function(g){s.d.r(g)},Jt.unstable_batchedUpdates=function(g,p){return g(p)},Jt.useFormState=function(g,p,v){return h.H.useFormState(g,p,v)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var Iv;function FA(){if(Iv)return Km.exports;Iv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Km.exports=HA(),Km.exports}var kv;function GA(){if(kv)return au;kv=1;var i=qA(),e=qp(),n=FA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return g(d),t;if(f===l)return g(d),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var _=!1,S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_){for(S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function v(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=v(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var k=Symbol.for("react.client.reference");function We(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===k?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case re:return"Profiler";case $:return"StrictMode";case ge:return"Suspense";case he:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ae:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case se:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return r=t.displayName||null,r!==null?r:We(t.type)||"Memo";case C:r=t._payload,t=t._init;try{return We(t(r))}catch{}}return null}var ct=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ke=[],Be=-1;function V(t){return{current:t}}function te(t){0>Be||(t.current=ke[Be],ke[Be]=null,Be--)}function le(t,r){Be++,ke[Be]=t.current,t.current=r}var fe=V(null),be=V(null),Ce=V(null),Ue=V(null);function Vt(t,r){switch(le(Ce,r),le(be,t),le(fe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?G_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=G_(r),t=K_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(fe),le(fe,t)}function at(){te(fe),te(be),te(Ce)}function Is(t){t.memoizedState!==null&&le(Ue,t);var r=fe.current,a=K_(r,t.type);r!==a&&(le(be,t),le(fe,a))}function Oa(t){be.current===t&&(te(fe),te(be)),Ue.current===t&&(te(Ue),tu._currentValue=de)}var Ma,La;function _i(t){if(Ma===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ma=r&&r[1]||"",La=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ma+t+La}var tl=!1;function ks(t,r){if(!t||tl)return"";tl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var F=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){F=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){F=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],S=f[1];if(_&&S){var N=_.split(`
`),q=S.split(`
`);for(d=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(l===N.length||d===q.length)for(l=N.length-1,d=q.length-1;1<=l&&0<=d&&N[l]!==q[d];)d--;for(;1<=l&&0<=d;l--,d--)if(N[l]!==q[d]){if(l!==1||d!==1)do if(l--,d--,0>d||N[l]!==q[d]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=d);break}}}finally{tl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?_i(a):""}function nl(t,r){switch(t.tag){case 26:case 27:case 5:return _i(t.type);case 16:return _i("Lazy");case 13:return t.child!==r&&r!==null?_i("Suspense Fallback"):_i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return ks(t.type,!1);case 11:return ks(t.type.render,!1);case 1:return ks(t.type,!0);case 31:return _i("Activity");default:return""}}function il(t){try{var r="",a=null;do r+=nl(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var At=Object.prototype.hasOwnProperty,jt=i.unstable_scheduleCallback,xr=i.unstable_cancelCallback,qd=i.unstable_shouldYield,Gu=i.unstable_requestPaint,an=i.unstable_now,Ns=i.unstable_getCurrentPriorityLevel,rl=i.unstable_ImmediatePriority,sl=i.unstable_UserBlockingPriority,Rr=i.unstable_NormalPriority,Hd=i.unstable_LowPriority,Ku=i.unstable_IdlePriority,$u=i.log,Qu=i.unstable_setDisableYieldValue,Wn=null,Ft=null;function Mn(t){if(typeof $u=="function"&&Qu(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Wn,t)}catch{}}var _t=Math.clz32?Math.clz32:Wu,Yu=Math.log,Va=Math.LN2;function Wu(t){return t>>>=0,t===0?32:31-(Yu(t)/Va|0)|0}var vi=256,Ds=262144,wt=4194304;function Ei(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ti(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~f,l!==0?d=Ei(l):(_&=S,_!==0?d=Ei(_):a||(a=S&~t,a!==0&&(d=Ei(a))))):(S=l&~f,S!==0?d=Ei(S):_!==0?d=Ei(_):a||(a=l&~t,a!==0&&(d=Ei(a)))),d===0?0:r!==0&&r!==d&&(r&f)===0&&(f=d&-d,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:d}function Xn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Fd(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xu(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function bi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Os(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gd(t,r,a,l,d,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,q=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-_t(a),ee=1<<X;S[X]=0,N[X]=-1;var F=q[X];if(F!==null)for(q[X]=null,X=0;X<F.length;X++){var Q=F[X];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&Ms(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~r))}function Ms(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-_t(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function al(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-_t(a),d=1<<l;d&r|t[l]&r&&(t[l]|=r),a&=~d}}function ol(t,r){var a=r&-r;return a=(a&42)!==0?1:Ls(a),(a&(t.suspendedLanes|r))!==0?0:a}function Ls(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Wi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Zu(){var t=H.p;return t!==0?t:(t=window.event,t===void 0?32:pv(t.type))}function Zn(t,r){var a=H.p;try{return H.p=t,r()}finally{H.p=a}}var Jn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Jn,zt="__reactProps$"+Jn,Si="__reactContainer$"+Jn,ja="__reactEvents$"+Jn,Kd="__reactListeners$"+Jn,Ju="__reactHandles$"+Jn,ec="__reactResources$"+Jn,Ai="__reactMarker$"+Jn;function Pa(t){delete t[xt],delete t[zt],delete t[ja],delete t[Kd],delete t[Ju]}function wi(t){var r=t[xt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Si]||a[xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=J_(t);t!==null;){if(a=t[xt])return a;t=J_(t)}return r}t=a,a=t.parentNode}return null}function Ln(t){if(t=t[xt]||t[Si]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Tn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function xi(t){var r=t[ec];return r||(r=t[ec]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Rt(t){t[Ai]=!0}var ll=new Set,ul={};function Ri(t,r){Ci(t,r),Ci(t+"Capture",r)}function Ci(t,r){for(ul[t]=r,t=0;t<r.length;t++)ll.add(r[t])}var cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},dl={};function tc(t){return At.call(dl,t)?!0:At.call(hl,t)?!1:cl.test(t)?dl[t]=!0:(hl[t]=!0,!1)}function Ua(t,r,a){if(tc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function bn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Ct(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function fl(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function $e(t){if(!t._valueTracker){var r=Cr(t)?"checked":"value";t._valueTracker=fl(t,r,""+t[r])}}function Vs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Cr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var js=/[\n"\\]/g;function dn(t){return t.replace(js,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function za(t,r,a,l,d,f,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Bt(r)):t.value!==""+Bt(r)&&(t.value=""+Bt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?ml(t,_,Bt(r)):a!=null?ml(t,_,Bt(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Bt(S):t.removeAttribute("name")}function nc(t,r,a,l,d,f,_,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){$e(t);return}a=a!=null?""+Bt(a):"",r=r!=null?""+Bt(r):a,S||r===t.value||(t.value=r),t.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),$e(t)}function ml(t,r,a){r==="number"&&Ii(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ir(t,r,a,l){if(t=t.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=r.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Bt(a),r=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function ic(t,r,a){if(r!=null&&(r=""+Bt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Bt(a):""}function kr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ct(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Bt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function fn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var rc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pl(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||rc.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function gl(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&pl(t,d,l)}else for(var f in r)r.hasOwnProperty(f)&&pl(t,f,r[f])}function Ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qa(t){return Nr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var yl=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dr=null,ki=null;function Ps(t){var r=Ln(t);if(r&&(t=r.stateNode)){var a=t[zt]||null;e:switch(t=r.stateNode,r.type){case"input":if(za(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var d=l[zt]||null;if(!d)throw Error(s(90));za(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Vs(l)}break e;case"textarea":ic(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ir(t,!!a.multiple,r,!1)}}}var Ha=!1;function Or(t,r,a){if(Ha)return t(r,a);Ha=!0;try{var l=t(r);return l}finally{if(Ha=!1,(Dr!==null||ki!==null)&&(Zc(),Dr&&(r=Dr,t=ki,ki=Dr=null,Ps(r),t)))for(r=0;r<t.length;r++)Ps(t[r])}}function ti(t,r){var a=t.stateNode;if(a===null)return null;var l=a[zt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Us=!1;if(jn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Us=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Us=!1}var Ni=null,_l=null,zs=null;function vl(){if(zs)return zs;var t,r=_l,a=r.length,l,d="value"in Ni?Ni.value:Ni.textContent,f=d.length;for(t=0;t<a&&r[t]===d[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===d[f-l];l++);return zs=d.slice(t,1<l?1-l:void 0)}function Bs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Xi(){return!0}function ni(){return!1}function Gt(t){function r(a,l,d,f,_){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xi:ni,this.isPropagationStopped=ni,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),r}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=Gt(Zi),Mr=b({},Zi,{view:0,detail:0}),El=Gt(Mr),Lr,Fa,Oi,Ga=b({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(Lr=t.screenX-Oi.screenX,Fa=t.screenY-Oi.screenY):Fa=Lr=0,Oi=t),Lr)},movementY:function(t){return"movementY"in t?t.movementY:Fa}}),Tl=Gt(Ga),qs=b({},Ga,{dataTransfer:0}),ac=Gt(qs),oc=b({},Mr,{relatedTarget:0}),Hs=Gt(oc),bl=b({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),lc=Gt(bl),Ka=b({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uc=Gt(Ka),cc=b({},Zi,{data:0}),Mi=Gt(cc),hc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=fc[t])?!!r[t]:!1}function Vr(){return mc}var on=b({},Mr,{key:function(t){if(t.key){var r=hc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Bs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(t){return t.type==="keypress"?Bs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pc=Gt(on),gc=b({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Gt(gc),c=b({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),y=Gt(c),E=b({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Gt(E),z=b({},Ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Gt(z),oe=b({},Zi,{newState:0,oldState:0}),xe=Gt(oe),vt=[9,13,27,32],Fe=jn&&"CompositionEvent"in window,ot=null;jn&&"documentMode"in document&&(ot=document.documentMode);var Pn=jn&&"TextEvent"in window&&!ot,Li=jn&&(!Fe||ot&&8<ot&&11>=ot),ii=" ",ri=!1;function Fs(t,r){switch(t){case"keyup":return vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function oS(t,r){switch(t){case"compositionend":return $a(r);case"keypress":return r.which!==32?null:(ri=!0,ii);case"textInput":return t=r.data,t===ii&&ri?null:t;default:return null}}function lS(t,r){if(Qa)return t==="compositionend"||!Fe&&Fs(t,r)?(t=vl(),zs=_l=Ni=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Li&&r.locale!=="ko"?null:r.data;default:return null}}var uS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ny(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!uS[t.type]:r==="textarea"}function iy(t,r,a,l){Dr?ki?ki.push(l):ki=[l]:Dr=l,r=sh(r,"onChange"),0<r.length&&(a=new Di("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Sl=null,Al=null;function cS(t){U_(t,0)}function yc(t){var r=Tn(t);if(Vs(r))return t}function ry(t,r){if(t==="change")return r}var sy=!1;if(jn){var $d;if(jn){var Qd="oninput"in document;if(!Qd){var ay=document.createElement("div");ay.setAttribute("oninput","return;"),Qd=typeof ay.oninput=="function"}$d=Qd}else $d=!1;sy=$d&&(!document.documentMode||9<document.documentMode)}function oy(){Sl&&(Sl.detachEvent("onpropertychange",ly),Al=Sl=null)}function ly(t){if(t.propertyName==="value"&&yc(Al)){var r=[];iy(r,Al,t,Vn(t)),Or(cS,r)}}function hS(t,r,a){t==="focusin"?(oy(),Sl=r,Al=a,Sl.attachEvent("onpropertychange",ly)):t==="focusout"&&oy()}function dS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yc(Al)}function fS(t,r){if(t==="click")return yc(r)}function mS(t,r){if(t==="input"||t==="change")return yc(r)}function pS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Sn=typeof Object.is=="function"?Object.is:pS;function wl(t,r){if(Sn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!At.call(r,d)||!Sn(t[d],r[d]))return!1}return!0}function uy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cy(t,r){var a=uy(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=uy(a)}}function hy(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?hy(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function dy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ii(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ii(t.document)}return r}function Yd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var gS=jn&&"documentMode"in document&&11>=document.documentMode,Ya=null,Wd=null,xl=null,Xd=!1;function fy(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xd||Ya==null||Ya!==Ii(l)||(l=Ya,"selectionStart"in l&&Yd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xl&&wl(xl,l)||(xl=l,l=sh(Wd,"onSelect"),0<l.length&&(r=new Di("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ya)))}function Gs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Wa={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionrun:Gs("Transition","TransitionRun"),transitionstart:Gs("Transition","TransitionStart"),transitioncancel:Gs("Transition","TransitionCancel"),transitionend:Gs("Transition","TransitionEnd")},Zd={},my={};jn&&(my=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function Ks(t){if(Zd[t])return Zd[t];if(!Wa[t])return t;var r=Wa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in my)return Zd[t]=r[a];return t}var py=Ks("animationend"),gy=Ks("animationiteration"),yy=Ks("animationstart"),yS=Ks("transitionrun"),_S=Ks("transitionstart"),vS=Ks("transitioncancel"),_y=Ks("transitionend"),vy=new Map,Jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jd.push("scrollEnd");function si(t,r){vy.set(t,r),Ri(r,[t])}var _c=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],Xa=0,ef=0;function vc(){for(var t=Xa,r=ef=Xa=0;r<t;){var a=Un[r];Un[r++]=null;var l=Un[r];Un[r++]=null;var d=Un[r];Un[r++]=null;var f=Un[r];if(Un[r++]=null,l!==null&&d!==null){var _=l.pending;_===null?d.next=d:(d.next=_.next,_.next=d),l.pending=d}f!==0&&Ey(a,d,f)}}function Ec(t,r,a,l){Un[Xa++]=t,Un[Xa++]=r,Un[Xa++]=a,Un[Xa++]=l,ef|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function tf(t,r,a,l){return Ec(t,r,a,l),Tc(t)}function $s(t,r){return Ec(t,null,null,r),Tc(t)}function Ey(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&r!==null&&(d=31-_t(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[r]:l.push(r),r.lane=a|536870912),f):null}function Tc(t){if(50<Ql)throw Ql=0,hm=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Za={};function ES(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,r,a,l){return new ES(t,r,a,l)}function nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function er(t,r){var a=t.alternate;return a===null?(a=An(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ty(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function bc(t,r,a,l,d,f){var _=0;if(l=t,typeof t=="function")nf(t)&&(_=1);else if(typeof t=="string")_=wA(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=An(31,a,r,d),t.elementType=R,t.lanes=f,t;case Y:return Qs(a.children,d,f,r);case $:_=8,d|=24;break;case re:return t=An(12,a,r,d|2),t.elementType=re,t.lanes=f,t;case ge:return t=An(13,a,r,d),t.elementType=ge,t.lanes=f,t;case he:return t=An(19,a,r,d),t.elementType=he,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:_=10;break e;case ie:_=9;break e;case se:_=11;break e;case I:_=14;break e;case C:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=An(_,a,r,d),r.elementType=t,r.type=l,r.lanes=f,r}function Qs(t,r,a,l){return t=An(7,t,l,r),t.lanes=a,t}function rf(t,r,a){return t=An(6,t,null,r),t.lanes=a,t}function by(t){var r=An(18,null,null,0);return r.stateNode=t,r}function sf(t,r,a){return r=An(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Sy=new WeakMap;function zn(t,r){if(typeof t=="object"&&t!==null){var a=Sy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:il(r)},Sy.set(t,r),r)}return{value:t,source:r,stack:il(r)}}var Ja=[],eo=0,Sc=null,Rl=0,Bn=[],qn=0,jr=null,Vi=1,ji="";function tr(t,r){Ja[eo++]=Rl,Ja[eo++]=Sc,Sc=t,Rl=r}function Ay(t,r,a){Bn[qn++]=Vi,Bn[qn++]=ji,Bn[qn++]=jr,jr=t;var l=Vi;t=ji;var d=32-_t(l)-1;l&=~(1<<d),a+=1;var f=32-_t(r)+d;if(30<f){var _=d-d%5;f=(l&(1<<_)-1).toString(32),l>>=_,d-=_,Vi=1<<32-_t(r)+d|a<<d|l,ji=f+t}else Vi=1<<f|a<<d|l,ji=t}function af(t){t.return!==null&&(tr(t,1),Ay(t,1,0))}function of(t){for(;t===Sc;)Sc=Ja[--eo],Ja[eo]=null,Rl=Ja[--eo],Ja[eo]=null;for(;t===jr;)jr=Bn[--qn],Bn[qn]=null,ji=Bn[--qn],Bn[qn]=null,Vi=Bn[--qn],Bn[qn]=null}function wy(t,r){Bn[qn++]=Vi,Bn[qn++]=ji,Bn[qn++]=jr,Vi=r.id,ji=r.overflow,jr=t}var Kt=null,rt=null,Pe=!1,Pr=null,Hn=!1,lf=Error(s(519));function Ur(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cl(zn(r,t)),lf}function xy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[xt]=t,r[zt]=l,a){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(a=0;a<Wl.length;a++)De(Wl[a],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),nc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),kr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||H_(r.textContent,a)?(l.popover!=null&&(De("beforetoggle",r),De("toggle",r)),l.onScroll!=null&&De("scroll",r),l.onScrollEnd!=null&&De("scrollend",r),l.onClick!=null&&(r.onclick=ei),r=!0):r=!1,r||Ur(t,!0)}function Ry(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Kt=Kt.return}}function to(t){if(t!==Kt)return!1;if(!Pe)return Ry(t),Pe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||xm(t.type,t.memoizedProps)),a=!a),a&&rt&&Ur(t),Ry(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=Z_(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=Z_(t)}else r===27?(r=rt,Jr(t.type)?(t=Nm,Nm=null,rt=t):rt=r):rt=Kt?Gn(t.stateNode.nextSibling):null;return!0}function Ys(){rt=Kt=null,Pe=!1}function uf(){var t=Pr;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),Pr=null),t}function Cl(t){Pr===null?Pr=[t]:Pr.push(t)}var cf=V(null),Ws=null,nr=null;function zr(t,r,a){le(cf,r._currentValue),r._currentValue=a}function ir(t){t._currentValue=cf.current,te(cf)}function hf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function df(t,r,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var _=d.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=d;for(var N=0;N<r.length;N++)if(S.context===r[N]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),hf(f.return,a,t),l||(_=null);break e}f=S.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),hf(_,a,t),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===t){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function no(t,r,a,l){t=null;for(var d=r,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=d.type;Sn(d.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(d===Ue.current){if(_=d.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(tu):t=[tu])}d=d.return}t!==null&&df(r,t,a,l),r.flags|=262144}function Ac(t){for(t=t.firstContext;t!==null;){if(!Sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xs(t){Ws=t,nr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Cy(Ws,t)}function wc(t,r){return Ws===null&&Xs(t),Cy(t,r)}function Cy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},nr===null){if(t===null)throw Error(s(308));nr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else nr=nr.next=r;return a}var TS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},bS=i.unstable_scheduleCallback,SS=i.unstable_NormalPriority,It={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new TS,data:new Map,refCount:0}}function Il(t){t.refCount--,t.refCount===0&&bS(SS,function(){t.controller.abort()})}var kl=null,mf=0,io=0,ro=null;function AS(t,r){if(kl===null){var a=kl=[];mf=0,io=ym(),ro={status:"pending",value:void 0,then:function(l){a.push(l)}}}return mf++,r.then(Iy,Iy),r}function Iy(){if(--mf===0&&kl!==null){ro!==null&&(ro.status="fulfilled");var t=kl;kl=null,io=0,ro=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function wS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var ky=W.S;W.S=function(t,r){f_=an(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&AS(t,r),ky!==null&&ky(t,r)};var Zs=V(null);function pf(){var t=Zs.current;return t!==null?t:nt.pooledCache}function xc(t,r){r===null?le(Zs,Zs.current):le(Zs,r.pool)}function Ny(){var t=pf();return t===null?null:{parent:It._currentValue,pool:t}}var so=Error(s(460)),gf=Error(s(474)),Rc=Error(s(542)),Cc={then:function(){}};function Dy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Oy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ei,ei),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ly(t),t;default:if(typeof r.status=="string")r.then(ei,ei);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ly(t),t}throw ea=r,so}}function Js(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ea=a,so):a}}var ea=null;function My(){if(ea===null)throw Error(s(459));var t=ea;return ea=null,t}function Ly(t){if(t===so||t===Rc)throw Error(s(483))}var ao=null,Nl=0;function Ic(t){var r=Nl;return Nl+=1,ao===null&&(ao=[]),Oy(ao,t,r)}function Dl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function kc(t,r){throw r.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Vy(t){function r(U,L){if(t){var B=U.deletions;B===null?(U.deletions=[L],U.flags|=16):B.push(L)}}function a(U,L){if(!t)return null;for(;L!==null;)r(U,L),L=L.sibling;return null}function l(U){for(var L=new Map;U!==null;)U.key!==null?L.set(U.key,U):L.set(U.index,U),U=U.sibling;return L}function d(U,L){return U=er(U,L),U.index=0,U.sibling=null,U}function f(U,L,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<L?(U.flags|=67108866,L):B):(U.flags|=67108866,L)):(U.flags|=1048576,L)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function S(U,L,B,Z){return L===null||L.tag!==6?(L=rf(B,U.mode,Z),L.return=U,L):(L=d(L,B),L.return=U,L)}function N(U,L,B,Z){var ye=B.type;return ye===Y?X(U,L,B.props.children,Z,B.key):L!==null&&(L.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===C&&Js(ye)===L.type)?(L=d(L,B.props),Dl(L,B),L.return=U,L):(L=bc(B.type,B.key,B.props,null,U.mode,Z),Dl(L,B),L.return=U,L)}function q(U,L,B,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==B.containerInfo||L.stateNode.implementation!==B.implementation?(L=sf(B,U.mode,Z),L.return=U,L):(L=d(L,B.children||[]),L.return=U,L)}function X(U,L,B,Z,ye){return L===null||L.tag!==7?(L=Qs(B,U.mode,Z,ye),L.return=U,L):(L=d(L,B),L.return=U,L)}function ee(U,L,B){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=rf(""+L,U.mode,B),L.return=U,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case M:return B=bc(L.type,L.key,L.props,null,U.mode,B),Dl(B,L),B.return=U,B;case G:return L=sf(L,U.mode,B),L.return=U,L;case C:return L=Js(L),ee(U,L,B)}if(ct(L)||P(L))return L=Qs(L,U.mode,B,null),L.return=U,L;if(typeof L.then=="function")return ee(U,Ic(L),B);if(L.$$typeof===ae)return ee(U,wc(U,L),B);kc(U,L)}return null}function F(U,L,B,Z){var ye=L!==null?L.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ye!==null?null:S(U,L,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case M:return B.key===ye?N(U,L,B,Z):null;case G:return B.key===ye?q(U,L,B,Z):null;case C:return B=Js(B),F(U,L,B,Z)}if(ct(B)||P(B))return ye!==null?null:X(U,L,B,Z,null);if(typeof B.then=="function")return F(U,L,Ic(B),Z);if(B.$$typeof===ae)return F(U,L,wc(U,B),Z);kc(U,B)}return null}function Q(U,L,B,Z,ye){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(B)||null,S(L,U,""+Z,ye);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case M:return U=U.get(Z.key===null?B:Z.key)||null,N(L,U,Z,ye);case G:return U=U.get(Z.key===null?B:Z.key)||null,q(L,U,Z,ye);case C:return Z=Js(Z),Q(U,L,B,Z,ye)}if(ct(Z)||P(Z))return U=U.get(B)||null,X(L,U,Z,ye,null);if(typeof Z.then=="function")return Q(U,L,B,Ic(Z),ye);if(Z.$$typeof===ae)return Q(U,L,B,wc(L,Z),ye);kc(L,Z)}return null}function me(U,L,B,Z){for(var ye=null,qe=null,pe=L,Ie=L=0,Me=null;pe!==null&&Ie<B.length;Ie++){pe.index>Ie?(Me=pe,pe=null):Me=pe.sibling;var He=F(U,pe,B[Ie],Z);if(He===null){pe===null&&(pe=Me);break}t&&pe&&He.alternate===null&&r(U,pe),L=f(He,L,Ie),qe===null?ye=He:qe.sibling=He,qe=He,pe=Me}if(Ie===B.length)return a(U,pe),Pe&&tr(U,Ie),ye;if(pe===null){for(;Ie<B.length;Ie++)pe=ee(U,B[Ie],Z),pe!==null&&(L=f(pe,L,Ie),qe===null?ye=pe:qe.sibling=pe,qe=pe);return Pe&&tr(U,Ie),ye}for(pe=l(pe);Ie<B.length;Ie++)Me=Q(pe,U,Ie,B[Ie],Z),Me!==null&&(t&&Me.alternate!==null&&pe.delete(Me.key===null?Ie:Me.key),L=f(Me,L,Ie),qe===null?ye=Me:qe.sibling=Me,qe=Me);return t&&pe.forEach(function(rs){return r(U,rs)}),Pe&&tr(U,Ie),ye}function ve(U,L,B,Z){if(B==null)throw Error(s(151));for(var ye=null,qe=null,pe=L,Ie=L=0,Me=null,He=B.next();pe!==null&&!He.done;Ie++,He=B.next()){pe.index>Ie?(Me=pe,pe=null):Me=pe.sibling;var rs=F(U,pe,He.value,Z);if(rs===null){pe===null&&(pe=Me);break}t&&pe&&rs.alternate===null&&r(U,pe),L=f(rs,L,Ie),qe===null?ye=rs:qe.sibling=rs,qe=rs,pe=Me}if(He.done)return a(U,pe),Pe&&tr(U,Ie),ye;if(pe===null){for(;!He.done;Ie++,He=B.next())He=ee(U,He.value,Z),He!==null&&(L=f(He,L,Ie),qe===null?ye=He:qe.sibling=He,qe=He);return Pe&&tr(U,Ie),ye}for(pe=l(pe);!He.done;Ie++,He=B.next())He=Q(pe,U,Ie,He.value,Z),He!==null&&(t&&He.alternate!==null&&pe.delete(He.key===null?Ie:He.key),L=f(He,L,Ie),qe===null?ye=He:qe.sibling=He,qe=He);return t&&pe.forEach(function(VA){return r(U,VA)}),Pe&&tr(U,Ie),ye}function et(U,L,B,Z){if(typeof B=="object"&&B!==null&&B.type===Y&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case M:e:{for(var ye=B.key;L!==null;){if(L.key===ye){if(ye=B.type,ye===Y){if(L.tag===7){a(U,L.sibling),Z=d(L,B.props.children),Z.return=U,U=Z;break e}}else if(L.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===C&&Js(ye)===L.type){a(U,L.sibling),Z=d(L,B.props),Dl(Z,B),Z.return=U,U=Z;break e}a(U,L);break}else r(U,L);L=L.sibling}B.type===Y?(Z=Qs(B.props.children,U.mode,Z,B.key),Z.return=U,U=Z):(Z=bc(B.type,B.key,B.props,null,U.mode,Z),Dl(Z,B),Z.return=U,U=Z)}return _(U);case G:e:{for(ye=B.key;L!==null;){if(L.key===ye)if(L.tag===4&&L.stateNode.containerInfo===B.containerInfo&&L.stateNode.implementation===B.implementation){a(U,L.sibling),Z=d(L,B.children||[]),Z.return=U,U=Z;break e}else{a(U,L);break}else r(U,L);L=L.sibling}Z=sf(B,U.mode,Z),Z.return=U,U=Z}return _(U);case C:return B=Js(B),et(U,L,B,Z)}if(ct(B))return me(U,L,B,Z);if(P(B)){if(ye=P(B),typeof ye!="function")throw Error(s(150));return B=ye.call(B),ve(U,L,B,Z)}if(typeof B.then=="function")return et(U,L,Ic(B),Z);if(B.$$typeof===ae)return et(U,L,wc(U,B),Z);kc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,L!==null&&L.tag===6?(a(U,L.sibling),Z=d(L,B),Z.return=U,U=Z):(a(U,L),Z=rf(B,U.mode,Z),Z.return=U,U=Z),_(U)):a(U,L)}return function(U,L,B,Z){try{Nl=0;var ye=et(U,L,B,Z);return ao=null,ye}catch(pe){if(pe===so||pe===Rc)throw pe;var qe=An(29,pe,null,U.mode);return qe.lanes=Z,qe.return=U,qe}}}var ta=Vy(!0),jy=Vy(!1),Br=!1;function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=Tc(t),Ey(t,null,a),r}return Ec(t,l,r,a),Tc(t)}function Ol(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,al(t,a)}}function vf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?d=f=r:f=f.next=r}else d=f=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Ef=!1;function Ml(){if(Ef){var t=ro;if(t!==null)throw t}}function Ll(t,r,a,l){Ef=!1;var d=t.updateQueue;Br=!1;var f=d.firstBaseUpdate,_=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var N=S,q=N.next;N.next=null,_===null?f=q:_.next=q,_=N;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=q:S.next=q,X.lastBaseUpdate=N))}if(f!==null){var ee=d.baseState;_=0,X=q=N=null,S=f;do{var F=S.lane&-536870913,Q=F!==S.lane;if(Q?(Oe&F)===F:(l&F)===F){F!==0&&F===io&&(Ef=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=t,ve=S;F=r;var et=a;switch(ve.tag){case 1:if(me=ve.payload,typeof me=="function"){ee=me.call(et,ee,F);break e}ee=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ve.payload,F=typeof me=="function"?me.call(et,ee,F):me,F==null)break e;ee=b({},ee,F);break e;case 2:Br=!0}}F=S.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(q=X=Q,N=ee):X=X.next=Q,_|=F;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);X===null&&(N=ee),d.baseState=N,d.firstBaseUpdate=q,d.lastBaseUpdate=X,f===null&&(d.shared.lanes=0),Qr|=_,t.lanes=_,t.memoizedState=ee}}function Py(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Uy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Py(a[t],r)}var oo=V(null),Nc=V(0);function zy(t,r){t=dr,le(Nc,t),le(oo,r),dr=t|r.baseLanes}function Tf(){le(Nc,dr),le(oo,oo.current)}function bf(){dr=Nc.current,te(oo),te(Nc)}var wn=V(null),Fn=null;function Fr(t){var r=t.alternate;le(Et,Et.current&1),le(wn,t),Fn===null&&(r===null||oo.current!==null||r.memoizedState!==null)&&(Fn=t)}function Sf(t){le(Et,Et.current),le(wn,t),Fn===null&&(Fn=t)}function By(t){t.tag===22?(le(Et,Et.current),le(wn,t),Fn===null&&(Fn=t)):Gr()}function Gr(){le(Et,Et.current),le(wn,wn.current)}function xn(t){te(wn),Fn===t&&(Fn=null),te(Et)}var Et=V(0);function Dc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Im(a)||km(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var rr=0,Re=null,Ze=null,kt=null,Oc=!1,lo=!1,na=!1,Mc=0,Vl=0,uo=null,xS=0;function mt(){throw Error(s(321))}function Af(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Sn(t[a],r[a]))return!1;return!0}function wf(t,r,a,l,d,f){return rr=f,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=t===null||t.memoizedState===null?A0:zf,na=!1,f=a(l,d),na=!1,lo&&(f=Hy(r,a,l,d)),qy(t),f}function qy(t){W.H=Ul;var r=Ze!==null&&Ze.next!==null;if(rr=0,kt=Ze=Re=null,Oc=!1,Vl=0,uo=null,r)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&Ac(t)&&(Nt=!0))}function Hy(t,r,a,l){Re=t;var d=0;do{if(lo&&(uo=null),Vl=0,lo=!1,25<=d)throw Error(s(301));if(d+=1,kt=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}W.H=w0,f=r(a,l)}while(lo);return f}function RS(){var t=W.H,r=t.useState()[0];return r=typeof r.then=="function"?jl(r):r,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Re.flags|=1024),r}function xf(){var t=Mc!==0;return Mc=0,t}function Rf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Cf(t){if(Oc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Oc=!1}rr=0,kt=Ze=Re=null,lo=!1,Vl=Mc=0,uo=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Re.memoizedState=kt=t:kt=kt.next=t,kt}function Tt(){if(Ze===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var r=kt===null?Re.memoizedState:kt.next;if(r!==null)kt=r,Ze=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},kt===null?Re.memoizedState=kt=t:kt=kt.next=t}return kt}function Lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(t){var r=Vl;return Vl+=1,uo===null&&(uo=[]),t=Oy(uo,t,r),r=Re,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?A0:zf),t}function Vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jl(t);if(t.$$typeof===ae)return $t(t)}throw Error(s(438,String(t)))}function If(t){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Lc(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=D;return r.index++,a}function sr(t,r){return typeof r=="function"?r(t):r}function jc(t){var r=Tt();return kf(r,Ze,t)}function kf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var _=d.next;d.next=f.next,f.next=_}r.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{r=d.next;var S=_=null,N=null,q=r,X=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Oe&ee)===ee:(rr&ee)===ee){var F=q.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===io&&(X=!0);else if((rr&F)===F){q=q.next,F===io&&(X=!0);continue}else ee={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(S=N=ee,_=f):N=N.next=ee,Re.lanes|=F,Qr|=F;ee=q.action,na&&a(f,ee),f=q.hasEagerState?q.eagerState:a(f,ee)}else F={lane:ee,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(S=N=F,_=f):N=N.next=F,Re.lanes|=ee,Qr|=ee;q=q.next}while(q!==null&&q!==r);if(N===null?_=f:N.next=S,!Sn(f,t.memoizedState)&&(Nt=!0,X&&(a=ro,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=N,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Nf(t){var r=Tt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=r.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do f=t(f,_.action),_=_.next;while(_!==d);Sn(f,r.memoizedState)||(Nt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function Fy(t,r,a){var l=Re,d=Tt(),f=Pe;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!Sn((Ze||d).memoizedState,a);if(_&&(d.memoizedState=a,Nt=!0),d=d.queue,Mf($y.bind(null,l,d,t),[t]),d.getSnapshot!==r||_||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,co(9,{destroy:void 0},Ky.bind(null,l,d,a,r),null),nt===null)throw Error(s(349));f||(rr&127)!==0||Gy(l,r,a)}return a}function Gy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=Lc(),Re.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Ky(t,r,a,l){r.value=a,r.getSnapshot=l,Qy(r)&&Yy(t)}function $y(t,r,a){return a(function(){Qy(r)&&Yy(t)})}function Qy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Sn(t,a)}catch{return!0}}function Yy(t){var r=$s(t,2);r!==null&&_n(r,t,2)}function Df(t){var r=ln();if(typeof t=="function"){var a=t;if(t=a(),na){Mn(!0);try{a()}finally{Mn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:t},r}function Wy(t,r,a,l){return t.baseState=a,kf(t,Ze,typeof l=="function"?l:sr)}function CS(t,r,a,l,d){if(zc(t))throw Error(s(485));if(t=r.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};W.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,Xy(r,f)):(f.next=a.next,r.pending=a.next=f)}}function Xy(t,r){var a=r.action,l=r.payload,d=t.state;if(r.isTransition){var f=W.T,_={};W.T=_;try{var S=a(d,l),N=W.S;N!==null&&N(_,S),Zy(t,r,S)}catch(q){Of(t,r,q)}finally{f!==null&&_.types!==null&&(f.types=_.types),W.T=f}}else try{f=a(d,l),Zy(t,r,f)}catch(q){Of(t,r,q)}}function Zy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jy(t,r,l)},function(l){return Of(t,r,l)}):Jy(t,r,a)}function Jy(t,r,a){r.status="fulfilled",r.value=a,e0(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Xy(t,a)))}function Of(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,e0(r),r=r.next;while(r!==l)}t.action=null}function e0(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function t0(t,r){return r}function n0(t,r){if(Pe){var a=nt.formState;if(a!==null){e:{var l=Re;if(Pe){if(rt){t:{for(var d=rt,f=Hn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Gn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){rt=Gn(d.nextSibling),l=d.data==="F!";break e}}Ur(l)}l=!1}l&&(r=a[0])}}return a=ln(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t0,lastRenderedState:r},a.queue=l,a=T0.bind(null,Re,l),l.dispatch=a,l=Df(!1),f=Uf.bind(null,Re,!1,l.queue),l=ln(),d={state:r,dispatch:null,action:t,pending:null},l.queue=d,a=CS.bind(null,Re,d,f,a),d.dispatch=a,l.memoizedState=t,[r,a,!1]}function i0(t){var r=Tt();return r0(r,Ze,t)}function r0(t,r,a){if(r=kf(t,r,t0)[0],t=jc(sr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=jl(r)}catch(_){throw _===so?Rc:_}else l=r;r=Tt();var d=r.queue,f=d.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,co(9,{destroy:void 0},IS.bind(null,d,a),null)),[l,f,t]}function IS(t,r){t.action=r}function s0(t){var r=Tt(),a=Ze;if(a!==null)return r0(r,a,t);Tt(),r=r.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function co(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=Lc(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function a0(){return Tt().memoizedState}function Pc(t,r,a,l){var d=ln();Re.flags|=t,d.memoizedState=co(1|r,{destroy:void 0},a,l===void 0?null:l)}function Uc(t,r,a,l){var d=Tt();l=l===void 0?null:l;var f=d.memoizedState.inst;Ze!==null&&l!==null&&Af(l,Ze.memoizedState.deps)?d.memoizedState=co(r,f,a,l):(Re.flags|=t,d.memoizedState=co(1|r,f,a,l))}function o0(t,r){Pc(8390656,8,t,r)}function Mf(t,r){Uc(2048,8,t,r)}function kS(t){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=Lc(),Re.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function l0(t){var r=Tt().memoizedState;return kS({ref:r,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function u0(t,r){return Uc(4,2,t,r)}function c0(t,r){return Uc(4,4,t,r)}function h0(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function d0(t,r,a){a=a!=null?a.concat([t]):null,Uc(4,4,h0.bind(null,r,t),a)}function Lf(){}function f0(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Af(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function m0(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Af(r,l[1]))return l[0];if(l=t(),na){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,r],l}function Vf(t,r,a){return a===void 0||(rr&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=p_(),Re.lanes|=t,Qr|=t,a)}function p0(t,r,a,l){return Sn(a,r)?a:oo.current!==null?(t=Vf(t,a,l),Sn(t,r)||(Nt=!0),t):(rr&42)===0||(rr&1073741824)!==0&&(Oe&261930)===0?(Nt=!0,t.memoizedState=a):(t=p_(),Re.lanes|=t,Qr|=t,r)}function g0(t,r,a,l,d){var f=H.p;H.p=f!==0&&8>f?f:8;var _=W.T,S={};W.T=S,Uf(t,!1,r,a);try{var N=d(),q=W.S;if(q!==null&&q(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=wS(N,l);Pl(t,r,X,In(t))}else Pl(t,r,l,In(t))}catch(ee){Pl(t,r,{then:function(){},status:"rejected",reason:ee},In())}finally{H.p=f,_!==null&&S.types!==null&&(_.types=S.types),W.T=_}}function NS(){}function jf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var d=y0(t).queue;g0(t,d,r,de,a===null?NS:function(){return _0(t),a(l)})}function y0(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:de},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function _0(t){var r=y0(t);r.next===null&&(r=t.alternate.memoizedState),Pl(t,r.next.queue,{},In())}function Pf(){return $t(tu)}function v0(){return Tt().memoizedState}function E0(){return Tt().memoizedState}function DS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=In();t=qr(a);var l=Hr(r,t,a);l!==null&&(_n(l,r,a),Ol(l,r,a)),r={cache:ff()},t.payload=r;return}r=r.return}}function OS(t,r,a){var l=In();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},zc(t)?b0(r,a):(a=tf(t,r,a,l),a!==null&&(_n(a,t,l),S0(a,r,l)))}function T0(t,r,a){var l=In();Pl(t,r,a,l)}function Pl(t,r,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(zc(t))b0(r,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var _=r.lastRenderedState,S=f(_,a);if(d.hasEagerState=!0,d.eagerState=S,Sn(S,_))return Ec(t,r,d,0),nt===null&&vc(),!1}catch{}if(a=tf(t,r,d,l),a!==null)return _n(a,t,l),S0(a,r,l),!0}return!1}function Uf(t,r,a,l){if(l={lane:2,revertLane:ym(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zc(t)){if(r)throw Error(s(479))}else r=tf(t,a,l,2),r!==null&&_n(r,t,2)}function zc(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function b0(t,r){lo=Oc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function S0(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,al(t,a)}}var Ul={readContext:$t,use:Vc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};Ul.useEffectEvent=mt;var A0={readContext:$t,use:Vc,useCallback:function(t,r){return ln().memoizedState=[t,r===void 0?null:r],t},useContext:$t,useEffect:o0,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Pc(4194308,4,h0.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Pc(4194308,4,t,r)},useInsertionEffect:function(t,r){Pc(4,2,t,r)},useMemo:function(t,r){var a=ln();r=r===void 0?null:r;var l=t();if(na){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=ln();if(a!==void 0){var d=a(r);if(na){Mn(!0);try{a(r)}finally{Mn(!1)}}}else d=r;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=OS.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var r=ln();return t={current:t},r.memoizedState=t},useState:function(t){t=Df(t);var r=t.queue,a=T0.bind(null,Re,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Lf,useDeferredValue:function(t,r){var a=ln();return Vf(a,t,r)},useTransition:function(){var t=Df(!1);return t=g0.bind(null,Re,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Re,d=ln();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(Oe&127)!==0||Gy(l,r,a)}d.memoizedState=a;var f={value:a,getSnapshot:r};return d.queue=f,o0($y.bind(null,l,f,t),[t]),l.flags|=2048,co(9,{destroy:void 0},Ky.bind(null,l,f,a,r),null),a},useId:function(){var t=ln(),r=nt.identifierPrefix;if(Pe){var a=ji,l=Vi;a=(l&~(1<<32-_t(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Mc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=xS++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Pf,useFormState:n0,useActionState:n0,useOptimistic:function(t){var r=ln();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Uf.bind(null,Re,!0,a),a.dispatch=r,[t,r]},useMemoCache:If,useCacheRefresh:function(){return ln().memoizedState=DS.bind(null,Re)},useEffectEvent:function(t){var r=ln(),a={impl:t};return r.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},zf={readContext:$t,use:Vc,useCallback:f0,useContext:$t,useEffect:Mf,useImperativeHandle:d0,useInsertionEffect:u0,useLayoutEffect:c0,useMemo:m0,useReducer:jc,useRef:a0,useState:function(){return jc(sr)},useDebugValue:Lf,useDeferredValue:function(t,r){var a=Tt();return p0(a,Ze.memoizedState,t,r)},useTransition:function(){var t=jc(sr)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:jl(t),r]},useSyncExternalStore:Fy,useId:v0,useHostTransitionStatus:Pf,useFormState:i0,useActionState:i0,useOptimistic:function(t,r){var a=Tt();return Wy(a,Ze,t,r)},useMemoCache:If,useCacheRefresh:E0};zf.useEffectEvent=l0;var w0={readContext:$t,use:Vc,useCallback:f0,useContext:$t,useEffect:Mf,useImperativeHandle:d0,useInsertionEffect:u0,useLayoutEffect:c0,useMemo:m0,useReducer:Nf,useRef:a0,useState:function(){return Nf(sr)},useDebugValue:Lf,useDeferredValue:function(t,r){var a=Tt();return Ze===null?Vf(a,t,r):p0(a,Ze.memoizedState,t,r)},useTransition:function(){var t=Nf(sr)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:jl(t),r]},useSyncExternalStore:Fy,useId:v0,useHostTransitionStatus:Pf,useFormState:s0,useActionState:s0,useOptimistic:function(t,r){var a=Tt();return Ze!==null?Wy(a,Ze,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:If,useCacheRefresh:E0};w0.useEffectEvent=l0;function Bf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var qf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=In(),d=qr(l);d.payload=r,a!=null&&(d.callback=a),r=Hr(t,d,l),r!==null&&(_n(r,t,l),Ol(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=In(),d=qr(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=Hr(t,d,l),r!==null&&(_n(r,t,l),Ol(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=In(),l=qr(a);l.tag=2,r!=null&&(l.callback=r),r=Hr(t,l,a),r!==null&&(_n(r,t,a),Ol(r,t,a))}};function x0(t,r,a,l,d,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):r.prototype&&r.prototype.isPureReactComponent?!wl(a,l)||!wl(d,f):!0}function R0(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&qf.enqueueReplaceState(r,r.state,null)}function ia(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=b({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function C0(t){_c(t)}function I0(t){console.error(t)}function k0(t){_c(t)}function Bc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function N0(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Hf(t,r,a){return a=qr(a),a.tag=3,a.payload={element:null},a.callback=function(){Bc(t,r)},a}function D0(t){return t=qr(t),t.tag=3,t}function O0(t,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){N0(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){N0(r,a,l),typeof d!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function MS(t,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&no(r,a,d,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?Jc():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Cc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),mm(t,l,d)),!1;case 22:return a.flags|=65536,l===Cc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),mm(t,l,d)),!1}throw Error(s(435,a.tag))}return mm(t,l,d),Jc(),!1}if(Pe)return r=wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==lf&&(t=Error(s(422),{cause:l}),Cl(zn(t,a)))):(l!==lf&&(r=Error(s(423),{cause:l}),Cl(zn(r,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=zn(l,a),d=Hf(t.stateNode,l,d),vf(t,d),pt!==4&&(pt=2)),!1;var f=Error(s(520),{cause:l});if(f=zn(f,a),$l===null?$l=[f]:$l.push(f),pt!==4&&(pt=2),r===null)return!0;l=zn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Hf(a.stateNode,l,t),vf(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Yr===null||!Yr.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=D0(d),O0(d,t,a,l),vf(a,d),!1}a=a.return}while(a!==null);return!1}var Ff=Error(s(461)),Nt=!1;function Qt(t,r,a,l){r.child=t===null?jy(r,null,a,l):ta(r,t.child,a,l)}function M0(t,r,a,l,d){a=a.render;var f=r.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Xs(r),l=wf(t,r,a,_,f,d),S=xf(),t!==null&&!Nt?(Rf(t,r,d),ar(t,r,d)):(Pe&&S&&af(r),r.flags|=1,Qt(t,r,l,d),r.child)}function L0(t,r,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!nf(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,V0(t,r,f,l,d)):(t=bc(a.type,null,l,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!Zf(t,d)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:wl,a(_,l)&&t.ref===r.ref)return ar(t,r,d)}return r.flags|=1,t=er(f,l),t.ref=r.ref,t.return=r,r.child=t}function V0(t,r,a,l,d){if(t!==null){var f=t.memoizedProps;if(wl(f,l)&&t.ref===r.ref)if(Nt=!1,r.pendingProps=l=f,Zf(t,d))(t.flags&131072)!==0&&(Nt=!0);else return r.lanes=t.lanes,ar(t,r,d)}return Gf(t,r,a,l,d)}function j0(t,r,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=r.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,r.child=null;return P0(t,r,f,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&xc(r,f!==null?f.cachePool:null),f!==null?zy(r,f):Tf(),By(r);else return l=r.lanes=536870912,P0(t,r,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(xc(r,f.cachePool),zy(r,f),Gr(),r.memoizedState=null):(t!==null&&xc(r,null),Tf(),Gr());return Qt(t,r,d,a),r.child}function zl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function P0(t,r,a,l,d){var f=pf();return f=f===null?null:{parent:It._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&xc(r,null),Tf(),By(r),t!==null&&no(t,r,l,!0),r.childLanes=d,null}function qc(t,r){return r=Fc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function U0(t,r,a){return ta(r,t.child,null,a),t=qc(r,r.pendingProps),t.flags|=2,xn(r),r.memoizedState=null,t}function LS(t,r,a){var l=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=qc(r,l),r.lanes=536870912,zl(null,t);if(Sf(r),(t=rt)?(t=X_(t,Hn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:jr!==null?{id:Vi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=by(t),a.return=r,r.child=a,Kt=r,rt=null)):t=null,t===null)throw Ur(r);return r.lanes=536870912,null}return qc(r,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Sf(r),d)if(r.flags&256)r.flags&=-257,r=U0(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Nt||no(t,r,a,!1),d=(a&t.childLanes)!==0,Nt||d){if(l=nt,l!==null&&(_=ol(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,$s(t,_),_n(l,t,_),Ff;Jc(),r=U0(t,r,a)}else t=f.treeContext,rt=Gn(_.nextSibling),Kt=r,Pe=!0,Pr=null,Hn=!1,t!==null&&wy(r,t),r=qc(r,l),r.flags|=4096;return r}return t=er(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Hc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Gf(t,r,a,l,d){return Xs(r),a=wf(t,r,a,l,void 0,d),l=xf(),t!==null&&!Nt?(Rf(t,r,d),ar(t,r,d)):(Pe&&l&&af(r),r.flags|=1,Qt(t,r,a,d),r.child)}function z0(t,r,a,l,d,f){return Xs(r),r.updateQueue=null,a=Hy(r,l,a,d),qy(t),l=xf(),t!==null&&!Nt?(Rf(t,r,f),ar(t,r,f)):(Pe&&l&&af(r),r.flags|=1,Qt(t,r,a,f),r.child)}function B0(t,r,a,l,d){if(Xs(r),r.stateNode===null){var f=Za,_=a.contextType;typeof _=="object"&&_!==null&&(f=$t(_)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=qf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},yf(r),_=a.contextType,f.context=typeof _=="object"&&_!==null?$t(_):Za,f.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Bf(r,a,_,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&qf.enqueueReplaceState(f,f.state,null),Ll(r,l,f,d),Ml(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var S=r.memoizedProps,N=ia(a,S);f.props=N;var q=f.context,X=a.contextType;_=Za,typeof X=="object"&&X!==null&&(_=$t(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||q!==_)&&R0(r,f,l,_),Br=!1;var F=r.memoizedState;f.state=F,Ll(r,l,f,d),Ml(),q=r.memoizedState,S||F!==q||Br?(typeof ee=="function"&&(Bf(r,a,ee,l),q=r.memoizedState),(N=Br||x0(r,a,N,l,F,q,_))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),f.props=l,f.state=q,f.context=_,l=N):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,_f(t,r),_=r.memoizedProps,X=ia(a,_),f.props=X,ee=r.pendingProps,F=f.context,q=a.contextType,N=Za,typeof q=="object"&&q!==null&&(N=$t(q)),S=a.getDerivedStateFromProps,(q=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==ee||F!==N)&&R0(r,f,l,N),Br=!1,F=r.memoizedState,f.state=F,Ll(r,l,f,d),Ml();var Q=r.memoizedState;_!==ee||F!==Q||Br||t!==null&&t.dependencies!==null&&Ac(t.dependencies)?(typeof S=="function"&&(Bf(r,a,S,l),Q=r.memoizedState),(X=Br||x0(r,a,X,l,F,Q,N)||t!==null&&t.dependencies!==null&&Ac(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Q,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Q,N)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),f.props=l,f.state=Q,f.context=N,l=X):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,Hc(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=ta(r,t.child,null,d),r.child=ta(r,null,a,d)):Qt(t,r,a,d),r.memoizedState=f.state,t=r.child):t=ar(t,r,d),t}function q0(t,r,a,l){return Ys(),r.flags|=256,Qt(t,r,a,l),r.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $f(t){return{baseLanes:t,cachePool:Ny()}}function Qf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Cn),t}function H0(t,r,a){var l=r.pendingProps,d=!1,f=(r.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),_&&(d=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Pe){if(d?Fr(r):Gr(),(t=rt)?(t=X_(t,Hn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:jr!==null?{id:Vi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=by(t),a.return=r,r.child=a,Kt=r,rt=null)):t=null,t===null)throw Ur(r);return km(t)?r.lanes=32:r.lanes=536870912,null}var S=l.children;return l=l.fallback,d?(Gr(),d=r.mode,S=Fc({mode:"hidden",children:S},d),l=Qs(l,d,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,l=r.child,l.memoizedState=$f(a),l.childLanes=Qf(t,_,a),r.memoizedState=Kf,zl(null,l)):(Fr(r),Yf(r,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(f)r.flags&256?(Fr(r),r.flags&=-257,r=Wf(t,r,a)):r.memoizedState!==null?(Gr(),r.child=t.child,r.flags|=128,r=null):(Gr(),S=l.fallback,d=r.mode,l=Fc({mode:"visible",children:l.children},d),S=Qs(S,d,a,null),S.flags|=2,l.return=r,S.return=r,l.sibling=S,r.child=l,ta(r,t.child,null,a),l=r.child,l.memoizedState=$f(a),l.childLanes=Qf(t,_,a),r.memoizedState=Kf,r=zl(null,l));else if(Fr(r),km(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,Cl({value:l,source:null,stack:null}),r=Wf(t,r,a)}else if(Nt||no(t,r,a,!1),_=(a&t.childLanes)!==0,Nt||_){if(_=nt,_!==null&&(l=ol(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,$s(t,l),_n(_,t,l),Ff;Im(S)||Jc(),r=Wf(t,r,a)}else Im(S)?(r.flags|=192,r.child=t.child,r=null):(t=N.treeContext,rt=Gn(S.nextSibling),Kt=r,Pe=!0,Pr=null,Hn=!1,t!==null&&wy(r,t),r=Yf(r,l.children),r.flags|=4096);return r}return d?(Gr(),S=l.fallback,d=r.mode,N=t.child,q=N.sibling,l=er(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,q!==null?S=er(q,S):(S=Qs(S,d,a,null),S.flags|=2),S.return=r,l.return=r,l.sibling=S,r.child=l,zl(null,l),l=r.child,S=t.child.memoizedState,S===null?S=$f(a):(d=S.cachePool,d!==null?(N=It._currentValue,d=d.parent!==N?{parent:N,pool:N}:d):d=Ny(),S={baseLanes:S.baseLanes|a,cachePool:d}),l.memoizedState=S,l.childLanes=Qf(t,_,a),r.memoizedState=Kf,zl(t.child,l)):(Fr(r),a=t.child,t=a.sibling,a=er(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function Yf(t,r){return r=Fc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Fc(t,r){return t=An(22,t,null,r),t.lanes=0,t}function Wf(t,r,a){return ta(r,t.child,null,a),t=Yf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function F0(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),hf(t.return,r,a)}function Xf(t,r,a,l,d,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=d,_.treeForkCount=f)}function G0(t,r,a){var l=r.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var _=Et.current,S=(_&2)!==0;if(S?(_=_&1|2,r.flags|=128):_&=1,le(Et,_),Qt(t,r,l,a),l=Pe?Rl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&F0(t,a,r);else if(t.tag===19)F0(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=r.child,d=null;a!==null;)t=a.alternate,t!==null&&Dc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),Xf(r,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&Dc(t)===null){r.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Xf(r,!0,a,null,f,l);break;case"together":Xf(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ar(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Qr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(no(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=er(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=er(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Zf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Ac(t)))}function VS(t,r,a){switch(r.tag){case 3:Vt(r,r.stateNode.containerInfo),zr(r,It,t.memoizedState.cache),Ys();break;case 27:case 5:Is(r);break;case 4:Vt(r,r.stateNode.containerInfo);break;case 10:zr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Sf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Fr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?H0(t,r,a):(Fr(r),t=ar(t,r,a),t!==null?t.sibling:null);Fr(r);break;case 19:var d=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(no(t,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return G0(t,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),le(Et,Et.current),l)break;return null;case 22:return r.lanes=0,j0(t,r,a,r.pendingProps);case 24:zr(r,It,t.memoizedState.cache)}return ar(t,r,a)}function K0(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Nt=!0;else{if(!Zf(t,a)&&(r.flags&128)===0)return Nt=!1,VS(t,r,a);Nt=(t.flags&131072)!==0}else Nt=!1,Pe&&(r.flags&1048576)!==0&&Ay(r,Rl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Js(r.elementType),r.type=t,typeof t=="function")nf(t)?(l=ia(t,l),r.tag=1,r=B0(null,r,t,l,a)):(r.tag=0,r=Gf(null,r,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===se){r.tag=11,r=M0(null,r,t,l,a);break e}else if(d===I){r.tag=14,r=L0(null,r,t,l,a);break e}}throw r=We(t)||t,Error(s(306,r,""))}}return r;case 0:return Gf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=ia(l,r.pendingProps),B0(t,r,l,d,a);case 3:e:{if(Vt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;d=f.element,_f(t,r),Ll(r,l,null,a);var _=r.memoizedState;if(l=_.cache,zr(r,It,l),l!==f.cache&&df(r,[It],a,!0),Ml(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=q0(t,r,l,a);break e}else if(l!==d){d=zn(Error(s(424)),r),Cl(d),r=q0(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=Gn(t.firstChild),Kt=r,Pe=!0,Pr=null,Hn=!0,a=jy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ys(),l===d){r=ar(t,r,a);break e}Qt(t,r,l,a)}r=r.child}return r;case 26:return Hc(t,r),t===null?(a=iv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Pe||(a=r.type,t=r.pendingProps,l=ah(Ce.current).createElement(a),l[xt]=r,l[zt]=t,Yt(l,a,t),Rt(l),r.stateNode=l):r.memoizedState=iv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Is(r),t===null&&Pe&&(l=r.stateNode=ev(r.type,r.pendingProps,Ce.current),Kt=r,Hn=!0,d=rt,Jr(r.type)?(Nm=d,rt=Gn(l.firstChild)):rt=d),Qt(t,r,r.pendingProps.children,a),Hc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Pe&&((d=l=rt)&&(l=dA(l,r.type,r.pendingProps,Hn),l!==null?(r.stateNode=l,Kt=r,rt=Gn(l.firstChild),Hn=!1,d=!0):d=!1),d||Ur(r)),Is(r),d=r.type,f=r.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,xm(d,f)?l=null:_!==null&&xm(d,_)&&(r.flags|=32),r.memoizedState!==null&&(d=wf(t,r,RS,null,null,a),tu._currentValue=d),Hc(t,r),Qt(t,r,l,a),r.child;case 6:return t===null&&Pe&&((t=a=rt)&&(a=fA(a,r.pendingProps,Hn),a!==null?(r.stateNode=a,Kt=r,rt=null,t=!0):t=!1),t||Ur(r)),null;case 13:return H0(t,r,a);case 4:return Vt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=ta(r,null,l,a):Qt(t,r,l,a),r.child;case 11:return M0(t,r,r.type,r.pendingProps,a);case 7:return Qt(t,r,r.pendingProps,a),r.child;case 8:return Qt(t,r,r.pendingProps.children,a),r.child;case 12:return Qt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,zr(r,r.type,l.value),Qt(t,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,Xs(r),d=$t(d),l=l(d),r.flags|=1,Qt(t,r,l,a),r.child;case 14:return L0(t,r,r.type,r.pendingProps,a);case 15:return V0(t,r,r.type,r.pendingProps,a);case 19:return G0(t,r,a);case 31:return LS(t,r,a);case 22:return j0(t,r,a,r.pendingProps);case 24:return Xs(r),l=$t(It),t===null?(d=pf(),d===null&&(d=nt,f=ff(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),r.memoizedState={parent:l,cache:d},yf(r),zr(r,It,d)):((t.lanes&a)!==0&&(_f(t,r),Ll(r,null,null,a),Ml()),d=t.memoizedState,f=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),zr(r,It,l)):(l=f.cache,zr(r,It,l),l!==d.cache&&df(r,[It],a,!0))),Qt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function or(t){t.flags|=4}function Jf(t,r,a,l,d){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(v_())t.flags|=8192;else throw ea=Cc,gf}else t.flags&=-16777217}function $0(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!lv(r))if(v_())t.flags|=8192;else throw ea=Cc,gf}function Gc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Xu():536870912,t.lanes|=r,po|=r)}function Bl(t,r){if(!Pe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function jS(t,r,a){var l=r.pendingProps;switch(of(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ir(It),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(to(r)?or(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,uf())),st(r),null;case 26:var d=r.type,f=r.memoizedState;return t===null?(or(r),f!==null?(st(r),$0(r,f)):(st(r),Jf(r,d,null,l,a))):f?f!==t.memoizedState?(or(r),st(r),$0(r,f)):(st(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&or(r),st(r),Jf(r,d,t,l,a)),null;case 27:if(Oa(r),a=Ce.current,d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&or(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}t=fe.current,to(r)?xy(r):(t=ev(d,l,a),r.stateNode=t,or(r))}return st(r),null;case 5:if(Oa(r),d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&or(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(f=fe.current,to(r))xy(r);else{var _=ah(Ce.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(d,{is:l.is}):_.createElement(d)}}f[xt]=r,f[zt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=f;e:switch(Yt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&or(r)}}return st(r),Jf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&or(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ce.current,to(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,d=Kt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[xt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||H_(t.nodeValue,a)),t||Ur(r,!0)}else t=ah(t).createTextNode(l),t[xt]=r,r.stateNode=t}return st(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=to(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[xt]=r}else Ys(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),t=!1}else a=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(xn(r),r):(xn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return st(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=to(r),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[xt]=r}else Ys(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),d=!1}else d=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(xn(r),r):(xn(r),null)}return xn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Gc(r,r.updateQueue),st(r),null);case 4:return at(),t===null&&Tm(r.stateNode.containerInfo),st(r),null;case 10:return ir(r.type),st(r),null;case 19:if(te(Et),l=r.memoizedState,l===null)return st(r),null;if(d=(r.flags&128)!==0,f=l.rendering,f===null)if(d)Bl(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=Dc(t),f!==null){for(r.flags|=128,Bl(l,!1),t=f.updateQueue,r.updateQueue=t,Gc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Ty(a,t),a=a.sibling;return le(Et,Et.current&1|2),Pe&&tr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&an()>Wc&&(r.flags|=128,d=!0,Bl(l,!1),r.lanes=4194304)}else{if(!d)if(t=Dc(f),t!==null){if(r.flags|=128,d=!0,t=t.updateQueue,r.updateQueue=t,Gc(r,t),Bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Pe)return st(r),null}else 2*an()-l.renderingStartTime>Wc&&a!==536870912&&(r.flags|=128,d=!0,Bl(l,!1),r.lanes=4194304);l.isBackwards?(f.sibling=r.child,r.child=f):(t=l.last,t!==null?t.sibling=f:r.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=an(),t.sibling=null,a=Et.current,le(Et,d?a&1|2:a&1),Pe&&tr(r,l.treeForkCount),t):(st(r),null);case 22:case 23:return xn(r),bf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),a=r.updateQueue,a!==null&&Gc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&te(Zs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ir(It),st(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function PS(t,r){switch(of(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ir(It),at(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Oa(r),null;case 31:if(r.memoizedState!==null){if(xn(r),r.alternate===null)throw Error(s(340));Ys()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(xn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ys()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return te(Et),null;case 4:return at(),null;case 10:return ir(r.type),null;case 22:case 23:return xn(r),bf(),t!==null&&te(Zs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ir(It),null;case 25:return null;default:return null}}function Q0(t,r){switch(of(r),r.tag){case 3:ir(It),at();break;case 26:case 27:case 5:Oa(r);break;case 4:at();break;case 31:r.memoizedState!==null&&xn(r);break;case 13:xn(r);break;case 19:te(Et);break;case 10:ir(r.type);break;case 22:case 23:xn(r),bf(),t!==null&&te(Zs);break;case 24:ir(It)}}function ql(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==d)}}catch(S){Ye(r,r.return,S)}}function Kr(t,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,d=r;var N=a,q=S;try{q()}catch(X){Ye(d,N,X)}}}l=l.next}while(l!==f)}}catch(X){Ye(r,r.return,X)}}function Y0(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Uy(r,a)}catch(l){Ye(t,t.return,l)}}}function W0(t,r,a){a.props=ia(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,r,l)}}function Hl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){Ye(t,r,d)}}function Pi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Ye(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Ye(t,r,d)}else a.current=null}function X0(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Ye(t,t.return,d)}}function em(t,r,a){try{var l=t.stateNode;aA(l,t.type,a,r),l[zt]=r}catch(d){Ye(t,t.return,d)}}function Z0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Jr(t.type)||t.tag===4}function tm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Z0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Jr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nm(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ei));else if(l!==4&&(l===27&&Jr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(nm(t,r,a),t=t.sibling;t!==null;)nm(t,r,a),t=t.sibling}function Kc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Jr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Kc(t,r,a),t=t.sibling;t!==null;)Kc(t,r,a),t=t.sibling}function J0(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Yt(r,l,a),r[xt]=t,r[zt]=a}catch(f){Ye(t,t.return,f)}}var lr=!1,Dt=!1,im=!1,e_=typeof WeakSet=="function"?WeakSet:Set,qt=null;function US(t,r){if(t=t.containerInfo,Am=fh,t=dy(t),Yd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,q=0,X=0,ee=t,F=null;t:for(;;){for(var Q;ee!==a||d!==0&&ee.nodeType!==3||(S=_+d),ee!==f||l!==0&&ee.nodeType!==3||(N=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)F=ee,ee=Q;for(;;){if(ee===t)break t;if(F===a&&++q===d&&(S=_),F===f&&++X===l&&(N=_),(Q=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=Q}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(wm={focusedElem:t,selectionRange:a},fh=!1,qt=r;qt!==null;)if(r=qt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,qt=t;else for(;qt!==null;){switch(r=qt,f=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var me=ia(a.type,d);t=l.getSnapshotBeforeUpdate(me,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Ye(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Cm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,qt=t;break}qt=r.return}}function t_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:cr(t,a),l&4&&ql(5,a);break;case 1:if(cr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var d=ia(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&Y0(a),l&512&&Hl(a,a.return);break;case 3:if(cr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Uy(t,r)}catch(_){Ye(a,a.return,_)}}break;case 27:r===null&&l&4&&J0(a);case 26:case 5:cr(t,a),r===null&&l&4&&X0(a),l&512&&Hl(a,a.return);break;case 12:cr(t,a);break;case 31:cr(t,a),l&4&&r_(t,a);break;case 13:cr(t,a),l&4&&s_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=QS.bind(null,a),mA(t,a))));break;case 22:if(l=a.memoizedState!==null||lr,!l){r=r!==null&&r.memoizedState!==null||Dt,d=lr;var f=Dt;lr=l,(Dt=r)&&!f?hr(t,a,(a.subtreeFlags&8772)!==0):cr(t,a),lr=d,Dt=f}break;case 30:break;default:cr(t,a)}}function n_(t){var r=t.alternate;r!==null&&(t.alternate=null,n_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Pa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,mn=!1;function ur(t,r,a){for(a=a.child;a!==null;)i_(t,r,a),a=a.sibling}function i_(t,r,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:Dt||Pi(a,r),ur(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||Pi(a,r);var l=lt,d=mn;Jr(a.type)&&(lt=a.stateNode,mn=!1),ur(t,r,a),Zl(a.stateNode),lt=l,mn=d;break;case 5:Dt||Pi(a,r);case 6:if(l=lt,d=mn,lt=null,ur(t,r,a),lt=l,mn=d,lt!==null)if(mn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){Ye(a,r,f)}else try{lt.removeChild(a.stateNode)}catch(f){Ye(a,r,f)}break;case 18:lt!==null&&(mn?(t=lt,Y_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),So(t)):Y_(lt,a.stateNode));break;case 4:l=lt,d=mn,lt=a.stateNode.containerInfo,mn=!0,ur(t,r,a),lt=l,mn=d;break;case 0:case 11:case 14:case 15:Kr(2,a,r),Dt||Kr(4,a,r),ur(t,r,a);break;case 1:Dt||(Pi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&W0(a,r,l)),ur(t,r,a);break;case 21:ur(t,r,a);break;case 22:Dt=(l=Dt)||a.memoizedState!==null,ur(t,r,a),Dt=l;break;default:ur(t,r,a)}}function r_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{So(t)}catch(a){Ye(r,r.return,a)}}}function s_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{So(t)}catch(a){Ye(r,r.return,a)}}function zS(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new e_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new e_),r;default:throw Error(s(435,t.tag))}}function $c(t,r){var a=zS(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var d=YS.bind(null,t,l);l.then(d,d)}})}function pn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Jr(S.type)){lt=S.stateNode,mn=!1;break e}break;case 5:lt=S.stateNode,mn=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,mn=!0;break e}S=S.return}if(lt===null)throw Error(s(160));i_(f,_,d),lt=null,mn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)a_(r,t),r=r.sibling}var ai=null;function a_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(r,t),gn(t),l&4&&(Kr(3,t,t.return),ql(3,t),Kr(5,t,t.return));break;case 1:pn(r,t),gn(t),l&512&&(Dt||a===null||Pi(a,a.return)),l&64&&lr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ai;if(pn(r,t),gn(t),l&512&&(Dt||a===null||Pi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Ai]||f[xt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Yt(f,l,a),f[xt]=t,Rt(f),l=f;break e;case"link":var _=av("link","href",d).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(f=_[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}f=d.createElement(l),Yt(f,l,a),d.head.appendChild(f);break;case"meta":if(_=av("meta","content",d).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(f=_[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}f=d.createElement(l),Yt(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[xt]=t,Rt(f),l=f}t.stateNode=l}else ov(d,t.type,t.stateNode);else t.stateNode=sv(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ov(d,t.type,t.stateNode):sv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&em(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(r,t),gn(t),l&512&&(Dt||a===null||Pi(a,a.return)),a!==null&&l&4&&em(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(r,t),gn(t),l&512&&(Dt||a===null||Pi(a,a.return)),t.flags&32){d=t.stateNode;try{fn(d,"")}catch(me){Ye(t,t.return,me)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,em(t,d,a!==null?a.memoizedProps:d)),l&1024&&(im=!0);break;case 6:if(pn(r,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){Ye(t,t.return,me)}}break;case 3:if(uh=null,d=ai,ai=oh(r.containerInfo),pn(r,t),ai=d,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{So(r.containerInfo)}catch(me){Ye(t,t.return,me)}im&&(im=!1,o_(t));break;case 4:l=ai,ai=oh(t.stateNode.containerInfo),pn(r,t),gn(t),ai=l;break;case 12:pn(r,t),gn(t);break;case 31:pn(r,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$c(t,l)));break;case 13:pn(r,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Yc=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$c(t,l)));break;case 22:d=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,q=lr,X=Dt;if(lr=q||d,Dt=X||N,pn(r,t),Dt=X,lr=q,gn(t),l&8192)e:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(a===null||N||lr||Dt||ra(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(f=N.stateNode,d)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var ee=N.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(me){Ye(N,N.return,me)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(me){Ye(N,N.return,me)}}}else if(r.tag===18){if(a===null){N=r;try{var Q=N.stateNode;d?W_(Q,!0):W_(N.stateNode,!1)}catch(me){Ye(N,N.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,$c(t,a))));break;case 19:pn(r,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$c(t,l)));break;case 30:break;case 21:break;default:pn(r,t),gn(t)}}function gn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Z0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=tm(t);Kc(t,f,d);break;case 5:var _=a.stateNode;a.flags&32&&(fn(_,""),a.flags&=-33);var S=tm(t);Kc(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,q=tm(t);nm(t,q,N);break;default:throw Error(s(161))}}catch(X){Ye(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function o_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;o_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function cr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)t_(t,r.alternate,r),r=r.sibling}function ra(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Kr(4,r,r.return),ra(r);break;case 1:Pi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&W0(r,r.return,a),ra(r);break;case 27:Zl(r.stateNode);case 26:case 5:Pi(r,r.return),ra(r);break;case 22:r.memoizedState===null&&ra(r);break;case 30:ra(r);break;default:ra(r)}t=t.sibling}}function hr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=t,f=r,_=f.flags;switch(f.tag){case 0:case 11:case 15:hr(d,f,a),ql(4,f);break;case 1:if(hr(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){Ye(l,l.return,q)}if(l=f,d=l.updateQueue,d!==null){var S=l.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)Py(N[d],S)}catch(q){Ye(l,l.return,q)}}a&&_&64&&Y0(f),Hl(f,f.return);break;case 27:J0(f);case 26:case 5:hr(d,f,a),a&&l===null&&_&4&&X0(f),Hl(f,f.return);break;case 12:hr(d,f,a);break;case 31:hr(d,f,a),a&&_&4&&r_(d,f);break;case 13:hr(d,f,a),a&&_&4&&s_(d,f);break;case 22:f.memoizedState===null&&hr(d,f,a),Hl(f,f.return);break;case 30:break;default:hr(d,f,a)}r=r.sibling}}function rm(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Il(a))}function sm(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Il(t))}function oi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)l_(t,r,a,l),r=r.sibling}function l_(t,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:oi(t,r,a,l),d&2048&&ql(9,r);break;case 1:oi(t,r,a,l);break;case 3:oi(t,r,a,l),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Il(t)));break;case 12:if(d&2048){oi(t,r,a,l),t=r.stateNode;try{var f=r.memoizedProps,_=f.id,S=f.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ye(r,r.return,N)}}else oi(t,r,a,l);break;case 31:oi(t,r,a,l);break;case 13:oi(t,r,a,l);break;case 23:break;case 22:f=r.stateNode,_=r.alternate,r.memoizedState!==null?f._visibility&2?oi(t,r,a,l):Fl(t,r):f._visibility&2?oi(t,r,a,l):(f._visibility|=2,ho(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),d&2048&&rm(_,r);break;case 24:oi(t,r,a,l),d&2048&&sm(r.alternate,r);break;default:oi(t,r,a,l)}}function ho(t,r,a,l,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=t,_=r,S=a,N=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:ho(f,_,S,N,d),ql(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?ho(f,_,S,N,d):Fl(f,_):(X._visibility|=2,ho(f,_,S,N,d)),d&&q&2048&&rm(_.alternate,_);break;case 24:ho(f,_,S,N,d),d&&q&2048&&sm(_.alternate,_);break;default:ho(f,_,S,N,d)}r=r.sibling}}function Fl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,d=l.flags;switch(l.tag){case 22:Fl(a,l),d&2048&&rm(l.alternate,l);break;case 24:Fl(a,l),d&2048&&sm(l.alternate,l);break;default:Fl(a,l)}r=r.sibling}}var Gl=8192;function fo(t,r,a){if(t.subtreeFlags&Gl)for(t=t.child;t!==null;)u_(t,r,a),t=t.sibling}function u_(t,r,a){switch(t.tag){case 26:fo(t,r,a),t.flags&Gl&&t.memoizedState!==null&&xA(a,ai,t.memoizedState,t.memoizedProps);break;case 5:fo(t,r,a);break;case 3:case 4:var l=ai;ai=oh(t.stateNode.containerInfo),fo(t,r,a),ai=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Gl,Gl=16777216,fo(t,r,a),Gl=l):fo(t,r,a));break;default:fo(t,r,a)}}function c_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Kl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,d_(l,t)}c_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)h_(t),t=t.sibling}function h_(t){switch(t.tag){case 0:case 11:case 15:Kl(t),t.flags&2048&&Kr(9,t,t.return);break;case 3:Kl(t);break;case 12:Kl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Qc(t)):Kl(t);break;default:Kl(t)}}function Qc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,d_(l,t)}c_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Kr(8,r,r.return),Qc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Qc(r));break;default:Qc(r)}t=t.sibling}}function d_(t,r){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Kr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=t;qt!==null;){l=qt;var d=l.sibling,f=l.return;if(n_(l),l===a){qt=null;break e}if(d!==null){d.return=f,qt=d;break e}qt=f}}}var BS={getCacheForType:function(t){var r=$t(It),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return $t(It).controller.signal}},qS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,nt=null,Ne=null,Oe=0,Qe=0,Rn=null,$r=!1,mo=!1,am=!1,dr=0,pt=0,Qr=0,sa=0,om=0,Cn=0,po=0,$l=null,yn=null,lm=!1,Yc=0,f_=0,Wc=1/0,Xc=null,Yr=null,Pt=0,Wr=null,go=null,fr=0,um=0,cm=null,m_=null,Ql=0,hm=null;function In(){return(Ge&2)!==0&&Oe!==0?Oe&-Oe:W.T!==null?ym():Zu()}function p_(){if(Cn===0)if((Oe&536870912)===0||Pe){var t=Ds;Ds<<=1,(Ds&3932160)===0&&(Ds=262144),Cn=t}else Cn=536870912;return t=wn.current,t!==null&&(t.flags|=32),Cn}function _n(t,r,a){(t===nt&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(yo(t,0),Xr(t,Oe,Cn,!1)),Os(t,a),((Ge&2)===0||t!==nt)&&(t===nt&&((Ge&2)===0&&(sa|=a),pt===4&&Xr(t,Oe,Cn,!1)),Ui(t))}function g_(t,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Xn(t,r),d=l?GS(t,r):fm(t,r,!0),f=l;do{if(d===0){mo&&!l&&Xr(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!HS(a)){d=fm(t,r,!1),f=!1;continue}if(d===2){if(f=r,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=t;d=$l;var N=S.current.memoizedState.isDehydrated;if(N&&(yo(S,_).flags|=256),_=fm(S,_,!1),_!==2){if(am&&!N){S.errorRecoveryDisabledLanes|=f,sa|=f,d=4;break e}f=yn,yn=d,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}d=_}if(f=!1,d!==2)continue}}if(d===1){yo(t,0),Xr(t,r,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Xr(l,r,Cn,!$r);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Yc+300-an(),10<d)){if(Xr(l,r,Cn,!$r),Ti(l,0,!0)!==0)break e;fr=r,l.timeoutHandle=$_(y_.bind(null,l,a,yn,Xc,lm,r,Cn,sa,po,$r,f,"Throttled",-0,0),d);break e}y_(l,a,yn,Xc,lm,r,Cn,sa,po,$r,f,null,-0,0)}}break}while(!0);Ui(t)}function y_(t,r,a,l,d,f,_,S,N,q,X,ee,F,Q){if(t.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},u_(r,f,ee);var me=(f&62914560)===f?Yc-an():(f&4194048)===f?f_-an():0;if(me=RA(ee,me),me!==null){fr=f,t.cancelPendingCommit=me(w_.bind(null,t,r,f,a,l,d,_,S,N,X,ee,null,F,Q)),Xr(t,f,_,!q);return}}w_(t,r,f,a,l,d,_,S,N)}function HS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!Sn(f(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Xr(t,r,a,l){r&=~om,r&=~sa,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var d=r;0<d;){var f=31-_t(d),_=1<<f;l[f]=-1,d&=~_}a!==0&&Ms(t,a,r)}function Zc(){return(Ge&6)===0?(Yl(0),!1):!0}function dm(){if(Ne!==null){if(Qe===0)var t=Ne.return;else t=Ne,nr=Ws=null,Cf(t),ao=null,Nl=0,t=Ne;for(;t!==null;)Q0(t.alternate,t),t=t.return;Ne=null}}function yo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,uA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),fr=0,dm(),nt=t,Ne=a=er(t.current,null),Oe=r,Qe=0,Rn=null,$r=!1,mo=Xn(t,r),am=!1,po=Cn=om=sa=Qr=pt=0,yn=$l=null,lm=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var d=31-_t(l),f=1<<d;r|=t[d],l&=~f}return dr=r,vc(),a}function __(t,r){Re=null,W.H=Ul,r===so||r===Rc?(r=My(),Qe=3):r===gf?(r=My(),Qe=4):Qe=r===Ff?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rn=r,Ne===null&&(pt=1,Bc(t,zn(r,t.current)))}function v_(){var t=wn.current;return t===null?!0:(Oe&4194048)===Oe?Fn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Fn:!1}function E_(){var t=W.H;return W.H=Ul,t===null?Ul:t}function T_(){var t=W.A;return W.A=BS,t}function Jc(){pt=4,$r||(Oe&4194048)!==Oe&&wn.current!==null||(mo=!0),(Qr&134217727)===0&&(sa&134217727)===0||nt===null||Xr(nt,Oe,Cn,!1)}function fm(t,r,a){var l=Ge;Ge|=2;var d=E_(),f=T_();(nt!==t||Oe!==r)&&(Xc=null,yo(t,r)),r=!1;var _=pt;e:do try{if(Qe!==0&&Ne!==null){var S=Ne,N=Rn;switch(Qe){case 8:dm(),_=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(r=!0);var q=Qe;if(Qe=0,Rn=null,_o(t,S,N,q),a&&mo){_=0;break e}break;default:q=Qe,Qe=0,Rn=null,_o(t,S,N,q)}}FS(),_=pt;break}catch(X){__(t,X)}while(!0);return r&&t.shellSuspendCounter++,nr=Ws=null,Ge=l,W.H=d,W.A=f,Ne===null&&(nt=null,Oe=0,vc()),_}function FS(){for(;Ne!==null;)b_(Ne)}function GS(t,r){var a=Ge;Ge|=2;var l=E_(),d=T_();nt!==t||Oe!==r?(Xc=null,Wc=an()+500,yo(t,r)):mo=Xn(t,r);e:do try{if(Qe!==0&&Ne!==null){r=Ne;var f=Rn;t:switch(Qe){case 1:Qe=0,Rn=null,_o(t,r,f,1);break;case 2:case 9:if(Dy(f)){Qe=0,Rn=null,S_(r);break}r=function(){Qe!==2&&Qe!==9||nt!==t||(Qe=7),Ui(t)},f.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Dy(f)?(Qe=0,Rn=null,S_(r)):(Qe=0,Rn=null,_o(t,r,f,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var S=Ne;if(_?lv(_):S.stateNode.complete){Qe=0,Rn=null;var N=S.sibling;if(N!==null)Ne=N;else{var q=S.return;q!==null?(Ne=q,eh(q)):Ne=null}break t}}Qe=0,Rn=null,_o(t,r,f,5);break;case 6:Qe=0,Rn=null,_o(t,r,f,6);break;case 8:dm(),pt=6;break e;default:throw Error(s(462))}}KS();break}catch(X){__(t,X)}while(!0);return nr=Ws=null,W.H=l,W.A=d,Ge=a,Ne!==null?0:(nt=null,Oe=0,vc(),pt)}function KS(){for(;Ne!==null&&!qd();)b_(Ne)}function b_(t){var r=K0(t.alternate,t,dr);t.memoizedProps=t.pendingProps,r===null?eh(t):Ne=r}function S_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=z0(a,r,r.pendingProps,r.type,void 0,Oe);break;case 11:r=z0(a,r,r.pendingProps,r.type.render,r.ref,Oe);break;case 5:Cf(r);default:Q0(a,r),r=Ne=Ty(r,dr),r=K0(a,r,dr)}t.memoizedProps=t.pendingProps,r===null?eh(t):Ne=r}function _o(t,r,a,l){nr=Ws=null,Cf(r),ao=null,Nl=0;var d=r.return;try{if(MS(t,d,r,a,Oe)){pt=1,Bc(t,zn(a,t.current)),Ne=null;return}}catch(f){if(d!==null)throw Ne=d,f;pt=1,Bc(t,zn(a,t.current)),Ne=null;return}r.flags&32768?(Pe||l===1?t=!0:mo||(Oe&536870912)!==0?t=!1:($r=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),A_(r,t)):eh(r)}function eh(t){var r=t;do{if((r.flags&32768)!==0){A_(r,$r);return}t=r.return;var a=jS(r.alternate,r,dr);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=t}while(r!==null);pt===0&&(pt=5)}function A_(t,r){do{var a=PS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);pt=6,Ne=null}function w_(t,r,a,l,d,f,_,S,N){t.cancelPendingCommit=null;do th();while(Pt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=ef,Gd(t,a,f,_,S,N),t===nt&&(Ne=nt=null,Oe=0),go=r,Wr=t,fr=a,um=f,cm=d,m_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,WS(Rr,function(){return k_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,d=H.p,H.p=2,_=Ge,Ge|=4;try{US(t,r,a)}finally{Ge=_,H.p=d,W.T=l}}Pt=1,x_(),R_(),C_()}}function x_(){if(Pt===1){Pt=0;var t=Wr,r=go,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=H.p;H.p=2;var d=Ge;Ge|=4;try{a_(r,t);var f=wm,_=dy(t.containerInfo),S=f.focusedElem,N=f.selectionRange;if(_!==S&&S&&S.ownerDocument&&hy(S.ownerDocument.documentElement,S)){if(N!==null&&Yd(S)){var q=N.start,X=N.end;if(X===void 0&&(X=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(X,S.value.length);else{var ee=S.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var Q=F.getSelection(),me=S.textContent.length,ve=Math.min(N.start,me),et=N.end===void 0?ve:Math.min(N.end,me);!Q.extend&&ve>et&&(_=et,et=ve,ve=_);var U=cy(S,ve),L=cy(S,et);if(U&&L&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==L.node||Q.focusOffset!==L.offset)){var B=ee.createRange();B.setStart(U.node,U.offset),Q.removeAllRanges(),ve>et?(Q.addRange(B),Q.extend(L.node,L.offset)):(B.setEnd(L.node,L.offset),Q.addRange(B))}}}}for(ee=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var Z=ee[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}fh=!!Am,wm=Am=null}finally{Ge=d,H.p=l,W.T=a}}t.current=r,Pt=2}}function R_(){if(Pt===2){Pt=0;var t=Wr,r=go,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=H.p;H.p=2;var d=Ge;Ge|=4;try{t_(t,r.alternate,r)}finally{Ge=d,H.p=l,W.T=a}}Pt=3}}function C_(){if(Pt===4||Pt===3){Pt=0,Gu();var t=Wr,r=go,a=fr,l=m_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pt=5:(Pt=0,go=Wr=null,I_(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Yr=null),Wi(a),r=r.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Wn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=W.T,d=H.p,H.p=2,W.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];f(S.value,{componentStack:S.stack})}}finally{W.T=r,H.p=d}}(fr&3)!==0&&th(),Ui(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===hm?Ql++:(Ql=0,hm=t):Ql=0,Yl(0)}}function I_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Il(r)))}function th(){return x_(),R_(),C_(),k_()}function k_(){if(Pt!==5)return!1;var t=Wr,r=um;um=0;var a=Wi(fr),l=W.T,d=H.p;try{H.p=32>a?32:a,W.T=null,a=cm,cm=null;var f=Wr,_=fr;if(Pt=0,go=Wr=null,fr=0,(Ge&6)!==0)throw Error(s(331));var S=Ge;if(Ge|=4,h_(f.current),l_(f,f.current,_,a),Ge=S,Yl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Wn,f)}catch{}return!0}finally{H.p=d,W.T=l,I_(t,r)}}function N_(t,r,a){r=zn(a,r),r=Hf(t.stateNode,r,2),t=Hr(t,r,2),t!==null&&(Os(t,2),Ui(t))}function Ye(t,r,a){if(t.tag===3)N_(t,t,a);else for(;r!==null;){if(r.tag===3){N_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Yr===null||!Yr.has(l))){t=zn(a,t),a=D0(2),l=Hr(r,a,2),l!==null&&(O0(a,l,r,t),Os(l,2),Ui(l));break}}r=r.return}}function mm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new qS;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(am=!0,d.add(a),t=$S.bind(null,t,r,a),r.then(t,t))}function $S(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Oe&a)===a&&(pt===4||pt===3&&(Oe&62914560)===Oe&&300>an()-Yc?(Ge&2)===0&&yo(t,0):om|=a,po===Oe&&(po=0)),Ui(t)}function D_(t,r){r===0&&(r=Xu()),t=$s(t,r),t!==null&&(Os(t,r),Ui(t))}function QS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),D_(t,a)}function YS(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),D_(t,a)}function WS(t,r){return jt(t,r)}var nh=null,vo=null,pm=!1,ih=!1,gm=!1,Zr=0;function Ui(t){t!==vo&&t.next===null&&(vo===null?nh=vo=t:vo=vo.next=t),ih=!0,pm||(pm=!0,ZS())}function Yl(t,r){if(!gm&&ih){gm=!0;do for(var a=!1,l=nh;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var _=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=d&~(_&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,V_(l,f))}else f=Oe,f=Ti(l,l===nt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Xn(l,f)||(a=!0,V_(l,f));l=l.next}while(a);gm=!1}}function XS(){O_()}function O_(){ih=pm=!1;var t=0;Zr!==0&&lA()&&(t=Zr);for(var r=an(),a=null,l=nh;l!==null;){var d=l.next,f=M_(l,r);f===0?(l.next=null,a===null?nh=d:a.next=d,d===null&&(vo=a)):(a=l,(t!==0||(f&3)!==0)&&(ih=!0)),l=d}Pt!==0&&Pt!==5||Yl(t),Zr!==0&&(Zr=0)}function M_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-_t(f),S=1<<_,N=d[_];N===-1?((S&a)===0||(S&l)!==0)&&(d[_]=Fd(S,r)):N<=r&&(t.expiredLanes|=S),f&=~S}if(r=nt,a=Oe,a=Ti(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&xr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Xn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&xr(l),Wi(a)){case 2:case 8:a=sl;break;case 32:a=Rr;break;case 268435456:a=Ku;break;default:a=Rr}return l=L_.bind(null,t),a=jt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&xr(l),t.callbackPriority=2,t.callbackNode=null,2}function L_(t,r){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(th()&&t.callbackNode!==a)return null;var l=Oe;return l=Ti(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(g_(t,l,r),M_(t,an()),t.callbackNode!=null&&t.callbackNode===a?L_.bind(null,t):null)}function V_(t,r){if(th())return null;g_(t,r,!0)}function ZS(){cA(function(){(Ge&6)!==0?jt(rl,XS):O_()})}function ym(){if(Zr===0){var t=io;t===0&&(t=vi,vi<<=1,(vi&261888)===0&&(vi=256)),Zr=t}return Zr}function j_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qa(""+t)}function P_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function JS(t,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var f=j_((d[zt]||null).action),_=l.submitter;_&&(r=(r=_[zt]||null)?j_(r.formAction):_.getAttribute("formAction"),r!==null&&(f=r,_=null));var S=new Di("action","action",null,l,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zr!==0){var N=_?P_(d,_):new FormData(d);jf(a,{pending:!0,data:N,method:d.method,action:f},null,N)}}else typeof f=="function"&&(S.preventDefault(),N=_?P_(d,_):new FormData(d),jf(a,{pending:!0,data:N,method:d.method,action:f},f,N))},currentTarget:d}]})}}for(var _m=0;_m<Jd.length;_m++){var vm=Jd[_m],eA=vm.toLowerCase(),tA=vm[0].toUpperCase()+vm.slice(1);si(eA,"on"+tA)}si(py,"onAnimationEnd"),si(gy,"onAnimationIteration"),si(yy,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(yS,"onTransitionRun"),si(_S,"onTransitionStart"),si(vS,"onTransitionCancel"),si(_y,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function U_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,q=S.currentTarget;if(S=S.listener,N!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=q;try{f(d)}catch(X){_c(X)}d.currentTarget=null,f=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,q=S.currentTarget,S=S.listener,N!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=q;try{f(d)}catch(X){_c(X)}d.currentTarget=null,f=N}}}}function De(t,r){var a=r[ja];a===void 0&&(a=r[ja]=new Set);var l=t+"__bubble";a.has(l)||(z_(r,t,2,!1),a.add(l))}function Em(t,r,a){var l=0;r&&(l|=4),z_(a,t,l,r)}var rh="_reactListening"+Math.random().toString(36).slice(2);function Tm(t){if(!t[rh]){t[rh]=!0,ll.forEach(function(a){a!=="selectionchange"&&(nA.has(a)||Em(a,!1,t),Em(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[rh]||(r[rh]=!0,Em("selectionchange",!1,r))}}function z_(t,r,a,l){switch(pv(r)){case 2:var d=kA;break;case 8:d=NA;break;default:d=Vm}a=d.bind(null,r,a,t),d=void 0,!Us||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(r,a,{capture:!0,passive:d}):t.addEventListener(r,a,!0):d!==void 0?t.addEventListener(r,a,{passive:d}):t.addEventListener(r,a,!1)}function bm(t,r,a,l,d){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===d)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;S!==null;){if(_=wi(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=f=_;continue e}S=S.parentNode}}l=l.return}Or(function(){var q=f,X=Vn(a),ee=[];e:{var F=vy.get(t);if(F!==void 0){var Q=Di,me=t;switch(t){case"keypress":if(Bs(a)===0)break e;case"keydown":case"keyup":Q=pc;break;case"focusin":me="focus",Q=Hs;break;case"focusout":me="blur",Q=Hs;break;case"beforeblur":case"afterblur":Q=Hs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case py:case gy:case yy:Q=lc;break;case _y:Q=w;break;case"scroll":case"scrollend":Q=El;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=uc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ji;break;case"toggle":case"beforetoggle":Q=xe}var ve=(r&4)!==0,et=!ve&&(t==="scroll"||t==="scrollend"),U=ve?F!==null?F+"Capture":null:F;ve=[];for(var L=q,B;L!==null;){var Z=L;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||U===null||(Z=ti(L,U),Z!=null&&ve.push(Xl(L,Z,B))),et)break;L=L.return}0<ve.length&&(F=new Q(F,me,null,a,X),ee.push({event:F,listeners:ve}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==yl&&(me=a.relatedTarget||a.fromElement)&&(wi(me)||me[Si]))break e;if((Q||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(me=a.relatedTarget||a.toElement,Q=q,me=me?wi(me):null,me!==null&&(et=u(me),ve=me.tag,me!==et||ve!==5&&ve!==27&&ve!==6)&&(me=null)):(Q=null,me=q),Q!==me)){if(ve=Tl,Z="onMouseLeave",U="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Ji,Z="onPointerLeave",U="onPointerEnter",L="pointer"),et=Q==null?F:Tn(Q),B=me==null?F:Tn(me),F=new ve(Z,L+"leave",Q,a,X),F.target=et,F.relatedTarget=B,Z=null,wi(X)===q&&(ve=new ve(U,L+"enter",me,a,X),ve.target=B,ve.relatedTarget=et,Z=ve),et=Z,Q&&me)t:{for(ve=iA,U=Q,L=me,B=0,Z=U;Z;Z=ve(Z))B++;Z=0;for(var ye=L;ye;ye=ve(ye))Z++;for(;0<B-Z;)U=ve(U),B--;for(;0<Z-B;)L=ve(L),Z--;for(;B--;){if(U===L||L!==null&&U===L.alternate){ve=U;break t}U=ve(U),L=ve(L)}ve=null}else ve=null;Q!==null&&B_(ee,F,Q,ve,!1),me!==null&&et!==null&&B_(ee,et,me,ve,!0)}}e:{if(F=q?Tn(q):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var qe=ry;else if(ny(F))if(sy)qe=mS;else{qe=dS;var pe=hS}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Ba(q.elementType)&&(qe=ry):qe=fS;if(qe&&(qe=qe(t,q))){iy(ee,qe,a,X);break e}pe&&pe(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&ml(F,"number",F.value)}switch(pe=q?Tn(q):window,t){case"focusin":(ny(pe)||pe.contentEditable==="true")&&(Ya=pe,Wd=q,xl=null);break;case"focusout":xl=Wd=Ya=null;break;case"mousedown":Xd=!0;break;case"contextmenu":case"mouseup":case"dragend":Xd=!1,fy(ee,a,X);break;case"selectionchange":if(gS)break;case"keydown":case"keyup":fy(ee,a,X)}var Ie;if(Fe)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Qa?Fs(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Li&&a.locale!=="ko"&&(Qa||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Qa&&(Ie=vl()):(Ni=X,_l="value"in Ni?Ni.value:Ni.textContent,Qa=!0)),pe=sh(q,Me),0<pe.length&&(Me=new Mi(Me,t,null,a,X),ee.push({event:Me,listeners:pe}),Ie?Me.data=Ie:(Ie=$a(a),Ie!==null&&(Me.data=Ie)))),(Ie=Pn?oS(t,a):lS(t,a))&&(Me=sh(q,"onBeforeInput"),0<Me.length&&(pe=new Mi("onBeforeInput","beforeinput",null,a,X),ee.push({event:pe,listeners:Me}),pe.data=Ie)),JS(ee,t,q,a,X)}U_(ee,r)})}function Xl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function sh(t,r){for(var a=r+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=ti(t,a),d!=null&&l.unshift(Xl(t,d,f)),d=ti(t,r),d!=null&&l.push(Xl(t,d,f))),t.tag===3)return l;t=t.return}return[]}function iA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function B_(t,r,a,l,d){for(var f=r._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,q=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||q===null||(N=q,d?(q=ti(a,f),q!=null&&_.unshift(Xl(a,q,N))):d||(q=ti(a,f),q!=null&&_.push(Xl(a,q,N)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var rA=/\r\n?/g,sA=/\u0000|\uFFFD/g;function q_(t){return(typeof t=="string"?t:""+t).replace(rA,`
`).replace(sA,"")}function H_(t,r){return r=q_(r),q_(t)===r}function Je(t,r,a,l,d,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&fn(t,""+l);break;case"className":bn(t,"class",l);break;case"tabIndex":bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(t,a,l);break;case"style":gl(t,l,f);break;case"data":if(r!=="object"){bn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&Je(t,r,"name",d.name,d,null),Je(t,r,"formEncType",d.formEncType,d,null),Je(t,r,"formMethod",d.formMethod,d,null),Je(t,r,"formTarget",d.formTarget,d,null)):(Je(t,r,"encType",d.encType,d,null),Je(t,r,"method",d.method,d,null),Je(t,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ei);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=qa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),Ua(t,"popover",l);break;case"xlinkActuate":Ct(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ct(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ct(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ct(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ct(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ct(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ua(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=sc.get(a)||a,Ua(t,a,l))}}function Sm(t,r,a,l,d,f){switch(a){case"style":gl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ul.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),f=t[zt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ua(t,a,l)}}}function Yt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,f,_,a,null)}}d&&Je(t,r,"srcSet",a.srcSet,a,null),l&&Je(t,r,"src",a.src,a,null);return;case"input":De("invalid",t);var S=f=_=d=null,N=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":d=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":q=X;break;case"value":f=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Je(t,r,l,X,a,null)}}nc(t,f,S,N,q,_,d,!1);return;case"select":De("invalid",t),l=_=f=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":f=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Je(t,r,d,S,a,null)}r=f,a=_,t.multiple=!!l,r!=null?Ir(t,!!l,r,!1):a!=null&&Ir(t,!!l,a,!0);return;case"textarea":De("invalid",t),f=d=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":d=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Je(t,r,_,S,a,null)}kr(t,l,d,f);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,r,N,l,a,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<Wl.length;l++)De(Wl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,q,l,a,null)}return;default:if(Ba(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Sm(t,r,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Je(t,r,S,l,a,null))}function aA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,_=null,S=null,N=null,q=null,X=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty(Q)||Je(t,r,Q,null,l,ee)}}for(var F in l){var Q=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(Q!=null||ee!=null))switch(F){case"type":f=Q;break;case"name":d=Q;break;case"checked":q=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ee&&Je(t,r,F,Q,l,ee)}}za(t,_,S,N,q,X,f,d);return;case"select":Q=_=S=F=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(f)||Je(t,r,f,null,l,N)}for(d in l)if(f=l[d],N=a[d],l.hasOwnProperty(d)&&(f!=null||N!=null))switch(d){case"value":F=f;break;case"defaultValue":S=f;break;case"multiple":_=f;default:f!==N&&Je(t,r,d,f,l,N)}r=S,a=_,l=Q,F!=null?Ir(t,!!a,F,!1):!!l!=!!a&&(r!=null?Ir(t,!!a,r,!0):Ir(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Je(t,r,S,null,l,d)}for(_ in l)if(d=l[_],f=a[_],l.hasOwnProperty(_)&&(d!=null||f!=null))switch(_){case"value":F=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&Je(t,r,_,d,l,f)}ic(t,F,Q);return;case"option":for(var me in a)F=a[me],a.hasOwnProperty(me)&&F!=null&&!l.hasOwnProperty(me)&&(me==="selected"?t.selected=!1:Je(t,r,me,null,l,F));for(N in l)F=l[N],Q=a[N],l.hasOwnProperty(N)&&F!==Q&&(F!=null||Q!=null)&&(N==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":Je(t,r,N,F,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)F=a[ve],a.hasOwnProperty(ve)&&F!=null&&!l.hasOwnProperty(ve)&&Je(t,r,ve,null,l,F);for(q in l)if(F=l[q],Q=a[q],l.hasOwnProperty(q)&&F!==Q&&(F!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Je(t,r,q,F,l,Q)}return;default:if(Ba(r)){for(var et in a)F=a[et],a.hasOwnProperty(et)&&F!==void 0&&!l.hasOwnProperty(et)&&Sm(t,r,et,void 0,l,F);for(X in l)F=l[X],Q=a[X],!l.hasOwnProperty(X)||F===Q||F===void 0&&Q===void 0||Sm(t,r,X,F,l,Q);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&Je(t,r,U,null,l,F);for(ee in l)F=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||F===Q||F==null&&Q==null||Je(t,r,ee,F,l,Q)}function F_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,_=d.initiatorType,S=d.duration;if(f&&S&&F_(_)){for(_=0,S=d.responseEnd,l+=1;l<a.length;l++){var N=a[l],q=N.startTime;if(q>S)break;var X=N.transferSize,ee=N.initiatorType;X&&F_(ee)&&(N=N.responseEnd,_+=X*(N<S?1:(S-q)/(N-q)))}if(--l,r+=8*(f+_)/(d.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Am=null,wm=null;function ah(t){return t.nodeType===9?t:t.ownerDocument}function G_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function xm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Rm=null;function lA(){var t=window.event;return t&&t.type==="popstate"?t===Rm?!1:(Rm=t,!0):(Rm=null,!1)}var $_=typeof setTimeout=="function"?setTimeout:void 0,uA=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,cA=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(t){return Q_.resolve(null).then(t).catch(hA)}:$_;function hA(t){setTimeout(function(){throw t})}function Jr(t){return t==="head"}function Y_(t,r){var a=r,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),So(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Zl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Zl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,S=f.nodeName;f[Ai]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Zl(t.ownerDocument.body);a=d}while(a);So(r)}function W_(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Cm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cm(a),Pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function dA(t,r,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ai])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function fA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function X_(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Gn(t.nextSibling),t===null))return null;return t}function Im(t){return t.data==="$?"||t.data==="$~"}function km(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function mA(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Gn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Nm=null;function Z_(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Gn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function J_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function ev(t,r,a){switch(r=ah(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Zl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Pa(t)}var Kn=new Map,tv=new Set;function oh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var mr=H.d;H.d={f:pA,r:gA,D:yA,C:_A,L:vA,m:EA,X:bA,S:TA,M:SA};function pA(){var t=mr.f(),r=Zc();return t||r}function gA(t){var r=Ln(t);r!==null&&r.tag===5&&r.type==="form"?_0(r):mr.r(t)}var Eo=typeof document>"u"?null:document;function nv(t,r,a){var l=Eo;if(l&&typeof r=="string"&&r){var d=dn(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),tv.has(d)||(tv.add(d),t={rel:t,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),Yt(r,"link",t),Rt(r),l.head.appendChild(r)))}}function yA(t){mr.D(t),nv("dns-prefetch",t,null)}function _A(t,r){mr.C(t,r),nv("preconnect",t,r)}function vA(t,r,a){mr.L(t,r,a);var l=Eo;if(l&&t&&r){var d='link[rel="preload"][as="'+dn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+dn(a.imageSizes)+'"]')):d+='[href="'+dn(t)+'"]';var f=d;switch(r){case"style":f=To(t);break;case"script":f=bo(t)}Kn.has(f)||(t=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Kn.set(f,t),l.querySelector(d)!==null||r==="style"&&l.querySelector(Jl(f))||r==="script"&&l.querySelector(eu(f))||(r=l.createElement("link"),Yt(r,"link",t),Rt(r),l.head.appendChild(r)))}}function EA(t,r){mr.m(t,r);var a=Eo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=bo(t)}if(!Kn.has(f)&&(t=b({rel:"modulepreload",href:t},r),Kn.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(eu(f)))return}l=a.createElement("link"),Yt(l,"link",t),Rt(l),a.head.appendChild(l)}}}function TA(t,r,a){mr.S(t,r,a);var l=Eo;if(l&&t){var d=xi(l).hoistableStyles,f=To(t);r=r||"default";var _=d.get(f);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Jl(f)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Kn.get(f))&&Dm(t,a);var N=_=l.createElement("link");Rt(N),Yt(N,"link",t),N._p=new Promise(function(q,X){N.onload=q,N.onerror=X}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,lh(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:S},d.set(f,_)}}}function bA(t,r){mr.X(t,r);var a=Eo;if(a&&t){var l=xi(a).hoistableScripts,d=bo(t),f=l.get(d);f||(f=a.querySelector(eu(d)),f||(t=b({src:t,async:!0},r),(r=Kn.get(d))&&Om(t,r),f=a.createElement("script"),Rt(f),Yt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function SA(t,r){mr.M(t,r);var a=Eo;if(a&&t){var l=xi(a).hoistableScripts,d=bo(t),f=l.get(d);f||(f=a.querySelector(eu(d)),f||(t=b({src:t,async:!0,type:"module"},r),(r=Kn.get(d))&&Om(t,r),f=a.createElement("script"),Rt(f),Yt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function iv(t,r,a,l){var d=(d=Ce.current)?oh(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=To(a.href),a=xi(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=To(a.href);var f=xi(d).hoistableStyles,_=f.get(t);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=d.querySelector(Jl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(t,a),f||AA(d,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=bo(a),a=xi(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function To(t){return'href="'+dn(t)+'"'}function Jl(t){return'link[rel="stylesheet"]['+t+"]"}function rv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function AA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Yt(r,"link",a),Rt(r),t.head.appendChild(r))}function bo(t){return'[src="'+dn(t)+'"]'}function eu(t){return"script[async]"+t}function sv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+dn(a.href)+'"]');if(l)return r.instance=l,Rt(l),l;var d=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Rt(l),Yt(l,"style",d),lh(l,a.precedence,t),r.instance=l;case"stylesheet":d=To(a.href);var f=t.querySelector(Jl(d));if(f)return r.state.loading|=4,r.instance=f,Rt(f),f;l=rv(a),(d=Kn.get(d))&&Dm(l,d),f=(t.ownerDocument||t).createElement("link"),Rt(f);var _=f;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Yt(f,"link",l),r.state.loading|=4,lh(f,a.precedence,t),r.instance=f;case"script":return f=bo(a.src),(d=t.querySelector(eu(f)))?(r.instance=d,Rt(d),d):(l=a,(d=Kn.get(f))&&(l=b({},a),Om(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Rt(d),Yt(d,"link",l),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,lh(l,a.precedence,t));return r.instance}function lh(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===r)f=S;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Dm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Om(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var uh=null;function av(t,r,a){if(uh===null){var l=new Map,d=uh=new Map;d.set(a,l)}else d=uh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[Ai]||f[xt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(r)||"";_=t+_;var S=l.get(_);S?S.push(f):l.set(_,[f])}}return l}function ov(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function wA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function lv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function xA(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=To(l.href),f=r.querySelector(Jl(d));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=ch.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=f,Rt(f);return}f=r.ownerDocument||r,l=rv(l),(d=Kn.get(d))&&Dm(l,d),f=f.createElement("link"),Rt(f);var _=f;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Yt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ch.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Mm=0;function RA(t,r){return t.stylesheets&&t.count===0&&dh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&dh(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+r);0<t.imgBytes&&Mm===0&&(Mm=62500*oA());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&dh(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Mm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function ch(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hh=null;function dh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hh=new Map,r.forEach(CA,t),hh=null,ch.call(t))}function CA(t,r){if(!(r.state.loading&4)){var a=hh.get(t);if(a)var l=a.get(null);else{a=new Map,hh.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var _=d[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}d=r.instance,_=d.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,d),a.set(_,d),this.count++,l=ch.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var tu={$$typeof:ae,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function IA(t,r,a,l,d,f,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function uv(t,r,a,l,d,f,_,S,N,q,X,ee){return t=new IA(t,r,a,_,N,q,X,ee,S),r=1,f===!0&&(r|=24),f=An(3,null,null,r),t.current=f,f.stateNode=t,r=ff(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},yf(f),t}function cv(t){return t?(t=Za,t):Za}function hv(t,r,a,l,d,f){d=cv(d),l.context===null?l.context=d:l.pendingContext=d,l=qr(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Hr(t,l,r),a!==null&&(_n(a,t,r),Ol(a,t,r))}function dv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Lm(t,r){dv(t,r),(t=t.alternate)&&dv(t,r)}function fv(t){if(t.tag===13||t.tag===31){var r=$s(t,67108864);r!==null&&_n(r,t,67108864),Lm(t,67108864)}}function mv(t){if(t.tag===13||t.tag===31){var r=In();r=Ls(r);var a=$s(t,r);a!==null&&_n(a,t,r),Lm(t,r)}}var fh=!0;function kA(t,r,a,l){var d=W.T;W.T=null;var f=H.p;try{H.p=2,Vm(t,r,a,l)}finally{H.p=f,W.T=d}}function NA(t,r,a,l){var d=W.T;W.T=null;var f=H.p;try{H.p=8,Vm(t,r,a,l)}finally{H.p=f,W.T=d}}function Vm(t,r,a,l){if(fh){var d=jm(l);if(d===null)bm(t,r,l,mh,a),gv(t,l);else if(OA(d,t,r,a,l))l.stopPropagation();else if(gv(t,l),r&4&&-1<DA.indexOf(t)){for(;d!==null;){var f=Ln(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Ei(f.pendingLanes);if(_!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-_t(_);S.entanglements[1]|=N,_&=~N}Ui(f),(Ge&6)===0&&(Wc=an()+500,Yl(0))}}break;case 31:case 13:S=$s(f,2),S!==null&&_n(S,f,2),Zc(),Lm(f,2)}if(f=jm(l),f===null&&bm(t,r,l,mh,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else bm(t,r,l,null,a)}}function jm(t){return t=Vn(t),Pm(t)}var mh=null;function Pm(t){if(mh=null,t=wi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return mh=t,null}function pv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ns()){case rl:return 2;case sl:return 8;case Rr:case Hd:return 32;case Ku:return 268435456;default:return 32}default:return 32}}var Um=!1,es=null,ts=null,ns=null,nu=new Map,iu=new Map,is=[],DA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gv(t,r){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":nu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(r.pointerId)}}function ru(t,r,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},r!==null&&(r=Ln(r),r!==null&&fv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function OA(t,r,a,l,d){switch(r){case"focusin":return es=ru(es,t,r,a,l,d),!0;case"dragenter":return ts=ru(ts,t,r,a,l,d),!0;case"mouseover":return ns=ru(ns,t,r,a,l,d),!0;case"pointerover":var f=d.pointerId;return nu.set(f,ru(nu.get(f)||null,t,r,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,iu.set(f,ru(iu.get(f)||null,t,r,a,l,d)),!0}return!1}function yv(t){var r=wi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Zn(t.priority,function(){mv(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Zn(t.priority,function(){mv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ph(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=jm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);yl=l,a.target.dispatchEvent(l),yl=null}else return r=Ln(a),r!==null&&fv(r),t.blockedOn=a,!1;r.shift()}return!0}function _v(t,r,a){ph(t)&&a.delete(r)}function MA(){Um=!1,es!==null&&ph(es)&&(es=null),ts!==null&&ph(ts)&&(ts=null),ns!==null&&ph(ns)&&(ns=null),nu.forEach(_v),iu.forEach(_v)}function gh(t,r){t.blockedOn===r&&(t.blockedOn=null,Um||(Um=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,MA)))}var yh=null;function vv(t){yh!==t&&(yh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){yh===t&&(yh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],d=t[r+2];if(typeof l!="function"){if(Pm(l||a)===null)continue;break}var f=Ln(a);f!==null&&(t.splice(r,3),r-=3,jf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function So(t){function r(N){return gh(N,t)}es!==null&&gh(es,t),ts!==null&&gh(ts,t),ns!==null&&gh(ns,t),nu.forEach(r),iu.forEach(r);for(var a=0;a<is.length;a++){var l=is[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<is.length&&(a=is[0],a.blockedOn===null);)yv(a),a.blockedOn===null&&is.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],_=d[zt]||null;if(typeof f=="function")_||vv(a);else if(_){var S=null;if(f&&f.hasAttribute("formAction")){if(d=f,_=f[zt]||null)S=_.formAction;else if(Pm(d)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),vv(a)}}}function Ev(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function zm(t){this._internalRoot=t}_h.prototype.render=zm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=In();hv(a,l,t,r,null,null)},_h.prototype.unmount=zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;hv(t.current,2,null,t,null,null),Zc(),r[Si]=null}};function _h(t){this._internalRoot=t}_h.prototype.unstable_scheduleHydration=function(t){if(t){var r=Zu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<is.length&&r!==0&&r<is[a].priority;a++);is.splice(a,0,t),a===0&&yv(t)}};var Tv=e.version;if(Tv!=="19.2.3")throw Error(s(527,Tv,"19.2.3"));H.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var LA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{Wn=vh.inject(LA),Ft=vh}catch{}}return au.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",d=C0,f=I0,_=k0;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=uv(t,1,!1,null,null,a,l,null,d,f,_,Ev),t[Si]=r.current,Tm(t),new zm(r)},au.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,d="",f=C0,_=I0,S=k0,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=uv(t,1,!0,r,a??null,l,d,N,f,_,S,Ev),r.context=cv(null),a=r.current,l=In(),l=Ls(l),d=qr(l),d.callback=null,Hr(a,d,l),a=l,r.current.lanes=a,Os(r,a),Ui(r),t[Si]=r.current,Tm(t),new _h(r)},au.version="19.2.3",au}var Nv;function KA(){if(Nv)return Hm.exports;Nv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Hm.exports=GA(),Hm.exports}var $A=KA();var Dv="popstate";function QA(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return fp("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Tu(o)}return WA(e,n,null,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Yn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YA(){return Math.random().toString(36).substring(2,10)}function Ov(i,e){return{usr:i.state,key:i.key,idx:e}}function fp(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ho(e):e,state:n,key:e&&e.key||s||YA()}}function Tu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ho(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function WA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,p=v();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function v(){return(h.state||{idx:null}).idx}function b(){m="POP";let $=v(),re=$==null?null:$-p;p=$,g&&g({action:m,location:Y.location,delta:re})}function x($,re){m="PUSH";let ie=fp(Y.location,$,re);p=v()+1;let ae=Ov(ie,p),se=Y.createHref(ie);try{h.pushState(ae,"",se)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;o.location.assign(se)}u&&g&&g({action:m,location:Y.location,delta:1})}function M($,re){m="REPLACE";let ie=fp(Y.location,$,re);p=v();let ae=Ov(ie,p),se=Y.createHref(ie);h.replaceState(ae,"",se),u&&g&&g({action:m,location:Y.location,delta:0})}function G($){return XA($)}let Y={get action(){return m},get location(){return i(o,h)},listen($){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Dv,b),g=$,()=>{o.removeEventListener(Dv,b),g=null}},createHref($){return e(o,$)},createURL:G,encodeLocation($){let re=G($);return{pathname:re.pathname,search:re.search,hash:re.hash}},push:x,replace:M,go($){return h.go($)}};return Y}function XA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Tu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function xE(i,e,n="/"){return ZA(i,e,n,!1)}function ZA(i,e,n,s){let o=typeof e=="string"?Ho(e):e,u=Er(o.pathname||"/",n);if(u==null)return null;let h=RE(i);JA(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=cw(u);m=lw(h[g],p,s)}return m}function RE(i,e=[],n=[],s="",o=!1){let u=(h,m,g=o,p)=>{let v={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&g)return;ut(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=_r([s,v.relativePath]),x=n.concat(v);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),RE(h.children,e,x,b,g)),!(h.path==null&&!h.index)&&e.push({path:b,score:aw(b,h.index),routesMeta:x})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of CE(h.path))u(h,m,!0,g)}),e}function CE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=CE(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function JA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:ow(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ew=/^:[\w-]+$/,tw=3,nw=2,iw=1,rw=10,sw=-2,Mv=i=>i==="*";function aw(i,e){let n=i.split("/"),s=n.length;return n.some(Mv)&&(s+=sw),e&&(s+=nw),n.filter(o=>!Mv(o)).reduce((o,u)=>o+(ew.test(u)?tw:u===""?iw:rw),s)}function ow(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function lw(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",b=Uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),x=g.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=Uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:_r([u,b.pathname]),pathnameBase:mw(_r([u,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(u=_r([u,b.pathnameBase]))}return h}function Uh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=uw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:b},x)=>{if(v==="*"){let G=m[x]||"";h=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const M=m[x];return b&&!M?p[v]=void 0:p[v]=(M||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:i}}function uw(i,e=!1,n=!0){Yn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function cw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Er(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var IE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hw=i=>IE.test(i);function dw(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Ho(i):i,u;if(n)if(hw(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Yn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=Lv(n.substring(1),"/"):u=Lv(n,e)}else u=e;return{pathname:u,search:pw(s),hash:gw(o)}}function Lv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function $m(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hp(i){let e=fw(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Fp(i,e,n,s=!1){let o;typeof i=="string"?o=Ho(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),$m("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),$m("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),$m("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),b-=1;o.pathname=x.join("/")}m=b>=0?e[b]:"/"}let g=dw(o,m),p=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var _r=i=>i.join("/").replace(/\/\/+/g,"/"),mw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),pw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,gw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,yw=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function _w(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function vw(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var kE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function NE(i,e){let n=i;if(typeof n!="string"||!IE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(kE)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Er(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Yn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DE=["POST","PUT","PATCH","DELETE"];new Set(DE);var Ew=["GET",...DE];new Set(Ew);var Fo=j.createContext(null);Fo.displayName="DataRouter";var cd=j.createContext(null);cd.displayName="DataRouterState";var Tw=j.createContext(!1),OE=j.createContext({isTransitioning:!1});OE.displayName="ViewTransition";var bw=j.createContext(new Map);bw.displayName="Fetchers";var Sw=j.createContext(null);Sw.displayName="Await";var On=j.createContext(null);On.displayName="Navigation";var Ou=j.createContext(null);Ou.displayName="Location";var Qi=j.createContext({outlet:null,matches:[],isDataRoute:!1});Qi.displayName="Route";var Gp=j.createContext(null);Gp.displayName="RouteError";var ME="REACT_ROUTER_ERROR",Aw="REDIRECT",ww="ROUTE_ERROR_RESPONSE";function xw(i){if(i.startsWith(`${ME}:${Aw}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Rw(i){if(i.startsWith(`${ME}:${ww}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new yw(e.status,e.statusText,e.data)}catch{}}function Cw(i,{relative:e}={}){ut(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(On),{hash:o,pathname:u,search:h}=Mu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:_r([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Go(){return j.useContext(Ou)!=null}function wr(){return ut(Go(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Ou).location}var LE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VE(i){j.useContext(On).static||j.useLayoutEffect(i)}function Kp(){let{isDataRoute:i}=j.useContext(Qi);return i?Bw():Iw()}function Iw(){ut(Go(),"useNavigate() may be used only in the context of a <Router> component.");let i=j.useContext(Fo),{basename:e,navigator:n}=j.useContext(On),{matches:s}=j.useContext(Qi),{pathname:o}=wr(),u=JSON.stringify(Hp(s)),h=j.useRef(!1);return VE(()=>{h.current=!0}),j.useCallback((g,p={})=>{if(Yn(h.current,LE),!h.current)return;if(typeof g=="number"){n.go(g);return}let v=Fp(g,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:_r([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,u,o,i])}j.createContext(null);function Mu(i,{relative:e}={}){let{matches:n}=j.useContext(Qi),{pathname:s}=wr(),o=JSON.stringify(Hp(n));return j.useMemo(()=>Fp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function kw(i,e){return jE(i,e)}function jE(i,e,n,s,o){ut(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(On),{matches:h}=j.useContext(Qi),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",v=m?m.pathnameBase:"/",b=m&&m.route;{let ie=b&&b.path||"";UE(p,!b||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let x=wr(),M;if(e){let ie=typeof e=="string"?Ho(e):e;ut(v==="/"||ie.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),M=ie}else M=x;let G=M.pathname||"/",Y=G;if(v!=="/"){let ie=v.replace(/^\//,"").split("/");Y="/"+G.replace(/^\//,"").split("/").slice(ie.length).join("/")}let $=xE(i,{pathname:Y});Yn(b||$!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Yn($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let re=Lw($&&$.map(ie=>Object.assign({},ie,{params:Object.assign({},g,ie.params),pathname:_r([v,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?v:_r([v,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),h,n,s,o);return e&&re?j.createElement(Ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},re):re}function Nw(){let i=zw(),e=_w(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,h)}var Dw=j.createElement(Nw,null),PE=class extends j.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=Rw(i.digest);n&&(i=n)}let e=i!==void 0?j.createElement(Qi.Provider,{value:this.props.routeContext},j.createElement(Gp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?j.createElement(Ow,{error:i},e):e}};PE.contextType=Tw;var Qm=new WeakMap;function Ow({children:i,error:e}){let{basename:n}=j.useContext(On);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=xw(e.digest);if(s){let o=Qm.get(e);if(o)throw o;let u=NE(s.location,n);if(kE&&!Qm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Qm.set(e,h),h}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function Mw({routeContext:i,match:e,children:n}){let s=j.useContext(Fo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Qi.Provider,{value:i},n)}function Lw(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let v=u.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);ut(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,g=-1;if(n)for(let v=0;v<u.length;v++){let b=u[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=v),b.route.id){let{loaderData:x,errors:M}=n,G=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!M||M[b.route.id]===void 0);if(b.route.lazy||G){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&s?(v,b)=>{s(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:vw(n.matches),errorInfo:b})}:void 0;return u.reduceRight((v,b,x)=>{let M,G=!1,Y=null,$=null;n&&(M=h&&b.route.id?h[b.route.id]:void 0,Y=b.route.errorElement||Dw,m&&(g<0&&x===0?(UE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,$=null):g===x&&(G=!0,$=b.route.hydrateFallbackElement||null)));let re=e.concat(u.slice(0,x+1)),ie=()=>{let ae;return M?ae=Y:G?ae=$:b.route.Component?ae=j.createElement(b.route.Component,null):b.route.element?ae=b.route.element:ae=v,j.createElement(Mw,{match:b,routeContext:{outlet:v,matches:re,isDataRoute:n!=null},children:ae})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?j.createElement(PE,{location:n.location,revalidation:n.revalidation,component:Y,error:M,children:ie(),routeContext:{outlet:null,matches:re,isDataRoute:!0},onError:p}):ie()},null)}function $p(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vw(i){let e=j.useContext(Fo);return ut(e,$p(i)),e}function jw(i){let e=j.useContext(cd);return ut(e,$p(i)),e}function Pw(i){let e=j.useContext(Qi);return ut(e,$p(i)),e}function Qp(i){let e=Pw(i),n=e.matches[e.matches.length-1];return ut(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Uw(){return Qp("useRouteId")}function zw(){let i=j.useContext(Gp),e=jw("useRouteError"),n=Qp("useRouteError");return i!==void 0?i:e.errors?.[n]}function Bw(){let{router:i}=Vw("useNavigate"),e=Qp("useNavigate"),n=j.useRef(!1);return VE(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{Yn(n.current,LE),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Vv={};function UE(i,e,n){!e&&!Vv[i]&&(Vv[i]=!0,Yn(!1,n))}j.memo(qw);function qw({routes:i,future:e,state:n,onError:s}){return jE(i,void 0,n,s,e)}function zE({to:i,replace:e,state:n,relative:s}){ut(Go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(On);Yn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(Qi),{pathname:h}=wr(),m=Kp(),g=Fp(i,Hp(u),h,s==="path"),p=JSON.stringify(g);return j.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function pr(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hw({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ut(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),g=j.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=Ho(n));let{pathname:p="/",search:v="",hash:b="",state:x=null,key:M="default"}=n,G=j.useMemo(()=>{let Y=Er(p,m);return Y==null?null:{location:{pathname:Y,search:v,hash:b,state:x,key:M},navigationType:s}},[m,p,v,b,x,M,s]);return Yn(G!=null,`<Router basename="${m}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:j.createElement(On.Provider,{value:g},j.createElement(Ou.Provider,{children:e,value:G}))}function Fw({children:i,location:e}){return kw(mp(i),e)}function mp(i,e=[]){let n=[];return j.Children.forEach(i,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){n.push.apply(n,mp(s.props.children,u));return}ut(s.type===pr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=mp(s.props.children,u)),n.push(h)}),n}var Rh="get",Ch="application/x-www-form-urlencoded";function hd(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function Gw(i){return hd(i)&&i.tagName.toLowerCase()==="button"}function Kw(i){return hd(i)&&i.tagName.toLowerCase()==="form"}function $w(i){return hd(i)&&i.tagName.toLowerCase()==="input"}function Qw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Yw(i,e){return i.button===0&&(!e||e==="_self")&&!Qw(i)}var Eh=null;function Ww(){if(Eh===null)try{new FormData(document.createElement("form"),0),Eh=!1}catch{Eh=!0}return Eh}var Xw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ym(i){return i!=null&&!Xw.has(i)?(Yn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ch}"`),null):i}function Zw(i,e){let n,s,o,u,h;if(Kw(i)){let m=i.getAttribute("action");s=m?Er(m,e):null,n=i.getAttribute("method")||Rh,o=Ym(i.getAttribute("enctype"))||Ch,u=new FormData(i)}else if(Gw(i)||$w(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Er(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Rh,o=Ym(i.getAttribute("formenctype"))||Ym(m.getAttribute("enctype"))||Ch,u=new FormData(m,i),!Ww()){let{name:p,type:v,value:b}=i;if(v==="image"){let x=p?`${p}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else p&&u.append(p,b)}}else{if(hd(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rh,s=null,o=Ch,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Jw(i,e,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Er(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function ex(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tx(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function nx(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await ex(u,n);return h.links?h.links():[]}return[]}));return ax(s.flat(1).filter(tx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function jv(i,e,n,s,o,u){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let v=s.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function ix(i,e,{includeHydrateFallback:n}={}){return rx(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function rx(i){return[...new Set(i)]}function sx(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function ax(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(sx(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function BE(){let i=j.useContext(Fo);return Yp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function ox(){let i=j.useContext(cd);return Yp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Wp=j.createContext(void 0);Wp.displayName="FrameworkContext";function qE(){let i=j.useContext(Wp);return Yp(i,"You must render this element inside a <HydratedRouter> element"),i}function lx(i,e){let n=j.useContext(Wp),[s,o]=j.useState(!1),[u,h]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,x=j.useRef(null);j.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let Y=re=>{re.forEach(ie=>{h(ie.isIntersecting)})},$=new IntersectionObserver(Y,{threshold:.5});return x.current&&$.observe(x.current),()=>{$.disconnect()}}},[i]),j.useEffect(()=>{if(s){let Y=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let M=()=>{o(!0)},G=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,x,{}]:[u,x,{onFocus:ou(m,M),onBlur:ou(g,G),onMouseEnter:ou(p,M),onMouseLeave:ou(v,G),onTouchStart:ou(b,M)}]:[!1,x,{}]}function ou(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function ux({page:i,...e}){let{router:n}=BE(),s=j.useMemo(()=>xE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?j.createElement(hx,{page:i,matches:s,...e}):null}function cx(i){let{manifest:e,routeModules:n}=qE(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return nx(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function hx({page:i,matches:e,...n}){let s=wr(),{future:o,manifest:u,routeModules:h}=qE(),{basename:m}=BE(),{loaderData:g,matches:p}=ox(),v=j.useMemo(()=>jv(i,e,p,u,s,"data"),[i,e,p,u,s]),b=j.useMemo(()=>jv(i,e,p,u,s,"assets"),[i,e,p,u,s]),x=j.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let Y=new Set,$=!1;if(e.forEach(ie=>{let ae=u.routes[ie.route.id];!ae||!ae.hasLoader||(!v.some(se=>se.route.id===ie.route.id)&&ie.route.id in g&&h[ie.route.id]?.shouldRevalidate||ae.hasClientLoader?$=!0:Y.add(ie.route.id))}),Y.size===0)return[];let re=Jw(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return $&&Y.size>0&&re.searchParams.set("_routes",e.filter(ie=>Y.has(ie.route.id)).map(ie=>ie.route.id).join(",")),[re.pathname+re.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,v,e,i,h]),M=j.useMemo(()=>ix(b,u),[b,u]),G=cx(b);return j.createElement(j.Fragment,null,x.map(Y=>j.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...n})),M.map(Y=>j.createElement("link",{key:Y,rel:"modulepreload",href:Y,...n})),G.map(({key:Y,link:$})=>j.createElement("link",{key:Y,nonce:n.nonce,...$})))}function dx(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var fx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fx&&(window.__reactRouterVersion="7.12.0")}catch{}function mx({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=j.useRef();o.current==null&&(o.current=QA({window:s,v5Compat:!0}));let u=o.current,[h,m]=j.useState({action:u.action,location:u.location}),g=j.useCallback(p=>{n===!1?m(p):j.startTransition(()=>m(p))},[n]);return j.useLayoutEffect(()=>u.listen(g),[u,g]),j.createElement(Hw,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var HE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zh=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x,...M},G){let{basename:Y,unstable_useTransitions:$}=j.useContext(On),re=typeof p=="string"&&HE.test(p),ie=NE(p,Y);p=ie.to;let ae=Cw(p,{relative:o}),[se,ge,he]=lx(s,M),I=_x(p,{replace:h,state:m,target:g,preventScrollReset:v,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:$});function C(D){e&&e(D),D.defaultPrevented||I(D)}let R=j.createElement("a",{...M,...he,href:ie.absoluteURL||ae,onClick:ie.isExternal||u?e:C,ref:dx(G,ge),target:g,"data-discover":!re&&n==="render"?"true":void 0});return se&&!re?j.createElement(j.Fragment,null,R,j.createElement(ux,{page:ae})):R});zh.displayName="Link";var px=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},v){let b=Mu(h,{relative:p.relative}),x=wr(),M=j.useContext(cd),{navigator:G,basename:Y}=j.useContext(On),$=M!=null&&Sx(b)&&m===!0,re=G.encodeLocation?G.encodeLocation(b).pathname:b.pathname,ie=x.pathname,ae=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),ae=ae?ae.toLowerCase():null,re=re.toLowerCase()),ae&&Y&&(ae=Er(ae,Y)||ae);const se=re!=="/"&&re.endsWith("/")?re.length-1:re.length;let ge=ie===re||!o&&ie.startsWith(re)&&ie.charAt(se)==="/",he=ae!=null&&(ae===re||!o&&ae.startsWith(re)&&ae.charAt(re.length)==="/"),I={isActive:ge,isPending:he,isTransitioning:$},C=ge?e:void 0,R;typeof s=="function"?R=s(I):R=[s,ge?"active":null,he?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(I):u;return j.createElement(zh,{...p,"aria-current":C,className:R,ref:v,style:D,to:h,viewTransition:m},typeof g=="function"?g(I):g)});px.displayName="NavLink";var gx=j.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Rh,action:m,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x,...M},G)=>{let{unstable_useTransitions:Y}=j.useContext(On),$=Tx(),re=bx(m,{relative:p}),ie=h.toLowerCase()==="get"?"get":"post",ae=typeof m=="string"&&HE.test(m),se=ge=>{if(g&&g(ge),ge.defaultPrevented)return;ge.preventDefault();let he=ge.nativeEvent.submitter,I=he?.getAttribute("formmethod")||h,C=()=>$(he||ge.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x});Y&&n!==!1?j.startTransition(()=>C()):C()};return j.createElement("form",{ref:G,method:ie,action:re,onSubmit:s?g:se,...M,"data-discover":!ae&&i==="render"?"true":void 0})});gx.displayName="Form";function yx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FE(i){let e=j.useContext(Fo);return ut(e,yx(i)),e}function _x(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=Kp(),v=wr(),b=Mu(i,{relative:u});return j.useCallback(x=>{if(Yw(x,e)){x.preventDefault();let M=n!==void 0?n:Tu(v)===Tu(b),G=()=>p(i,{replace:M,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});g?j.startTransition(()=>G()):G()}},[v,p,b,n,s,e,i,o,u,h,m,g])}var vx=0,Ex=()=>`__${String(++vx)}__`;function Tx(){let{router:i}=FE("useSubmit"),{basename:e}=j.useContext(On),n=Uw(),s=i.fetch,o=i.navigate;return j.useCallback(async(u,h={})=>{let{action:m,method:g,encType:p,formData:v,body:b}=Zw(u,e);if(h.navigate===!1){let x=h.fetcherKey||Ex();await s(x,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:b,formMethod:h.method||g,formEncType:h.encType||p,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:b,formMethod:h.method||g,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function bx(i,{relative:e}={}){let{basename:n}=j.useContext(On),s=j.useContext(Qi);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Mu(i||".",{relative:e})},h=wr();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(v=>v==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:_r([n,u.pathname])),Tu(u)}function Sx(i,{relative:e}={}){let n=j.useContext(OE);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=FE("useViewTransitionState"),o=Mu(i,{relative:e});if(!n.isTransitioning)return!1;let u=Er(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Er(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Uh(o.pathname,h)!=null||Uh(o.pathname,u)!=null}const Ax=()=>{};var Pv={};const GE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},wx=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},KE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,v=u>>2,b=(u&3)<<4|m>>4;let x=(m&15)<<2|p>>6,M=p&63;g||(M=64,h||(x=64)),s.push(n[v],n[b],n[x],n[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(GE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):wx(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||p==null||b==null)throw new xx;const x=u<<2|m>>4;if(s.push(x),p!==64){const M=m<<4&240|p>>2;if(s.push(M),b!==64){const G=p<<6&192|b;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class xx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rx=function(i){const e=GE(i);return KE.encodeByteArray(e,!0)},Bh=function(i){return Rx(i).replace(/\./g,"")},$E=function(i){try{return KE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Cx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ix=()=>Cx().__FIREBASE_DEFAULTS__,kx=()=>{if(typeof process>"u"||typeof Pv>"u")return;const i=Pv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Nx=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&$E(i[1]);return e&&JSON.parse(e)},dd=()=>{try{return Ax()||Ix()||kx()||Nx()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},QE=i=>dd()?.emulatorHosts?.[i],Dx=i=>{const e=QE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},YE=()=>dd()?.config,WE=i=>dd()?.[`_${i}`];class Ox{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ko(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function XE(i){return(await fetch(i,{credentials:"include"})).ok}function Mx(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Bh(JSON.stringify(n)),Bh(JSON.stringify(h)),""].join(".")}const pu={};function Lx(){const i={prod:[],emulator:[]};for(const e of Object.keys(pu))pu[e]?i.emulator.push(e):i.prod.push(e);return i}function Vx(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Uv=!1;function ZE(i,e){if(typeof window>"u"||typeof document>"u"||!Ko(window.location.host)||pu[i]===e||pu[i]||Uv)return;pu[i]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=Lx().prod.length>0;function h(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,M){x.setAttribute("width","24"),x.setAttribute("id",M),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Uv=!0,h()},x}function v(x,M){x.setAttribute("id",M),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=Vx(s),M=n("text"),G=document.getElementById(M)||document.createElement("span"),Y=n("learnmore"),$=document.getElementById(Y)||document.createElement("a"),re=n("preprendIcon"),ie=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ae=x.element;m(ae),v($,Y);const se=p();g(ie,re),ae.append(ie,G,$,se),document.body.appendChild(ae)}u?(G.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function Px(){const i=dd()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ux(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JE(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function zx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bx(){const i=sn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function qx(){return!Px()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eT(){try{return typeof indexedDB=="object"}catch{return!1}}function tT(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function Hx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Fx="FirebaseError";class gi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Fx,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ya.prototype.create)}}class ya{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Gx(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new gi(o,m,s)}}function Gx(i,e){return i.replace(Kx,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Kx=/\{\$([^}]+)}/g;function $x(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function gs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(zv(u)&&zv(h)){if(!gs(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function zv(i){return i!==null&&typeof i=="object"}function Lu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function uu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function cu(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function Qx(i,e){const n=new Yx(i,e);return n.subscribe.bind(n)}class Yx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Wx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Wm),o.error===void 0&&(o.error=Wm),o.complete===void 0&&(o.complete=Wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wx(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Wm(){}const Xx=1e3,Zx=2,Jx=14400*1e3,eR=.5;function Bv(i,e=Xx,n=Zx){const s=e*Math.pow(n,i),o=Math.round(eR*s*(Math.random()-.5)*2);return Math.min(Jx,s+o)}function yt(i){return i&&i._delegate?i._delegate:i}class fi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oa="[DEFAULT]";class tR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Ox;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iR(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:nR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nR(i){return i===oa?void 0:i}function iR(i){return i.instantiationMode==="EAGER"}class rR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const sR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},aR=Le.INFO,oR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},lR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=oR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fd{constructor(e){this.name=e,this._logLevel=aR,this._logHandler=lR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const uR=(i,e)=>e.some(n=>i instanceof n);let qv,Hv;function cR(){return qv||(qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hR(){return Hv||(Hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nT=new WeakMap,pp=new WeakMap,iT=new WeakMap,Xm=new WeakMap,Xp=new WeakMap;function dR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(hs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&nT.set(n,i)}).catch(()=>{}),Xp.set(e,i),e}function fR(i){if(pp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});pp.set(i,e)}let gp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return pp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||iT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function mR(i){gp=i(gp)}function pR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Zm(this),e,...n);return iT.set(s,e.sort?e.sort():[e]),hs(s)}:hR().includes(i)?function(...e){return i.apply(Zm(this),e),hs(nT.get(this))}:function(...e){return hs(i.apply(Zm(this),e))}}function gR(i){return typeof i=="function"?pR(i):(i instanceof IDBTransaction&&fR(i),uR(i,cR())?new Proxy(i,gp):i)}function hs(i){if(i instanceof IDBRequest)return dR(i);if(Xm.has(i))return Xm.get(i);const e=gR(i);return e!==i&&(Xm.set(i,e),Xp.set(e,i)),e}const Zm=i=>Xp.get(i);function rT(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=hs(h);return s&&h.addEventListener("upgradeneeded",g=>{s(hs(h.result),g.oldVersion,g.newVersion,hs(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const yR=["get","getKey","getAll","getAllKeys","count"],_R=["put","add","delete","clear"],Jm=new Map;function Fv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=_R.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||yR.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Jm.set(e,u),u}mR(i=>({...i,get:(e,n,s)=>Fv(e,n)||i.get(e,n,s),has:(e,n)=>!!Fv(e,n)||i.has(e,n)}));class vR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ER(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ER(i){return i.getComponent()?.type==="VERSION"}const yp="@firebase/app",Gv="0.14.7";const Tr=new fd("@firebase/app"),TR="@firebase/app-compat",bR="@firebase/analytics-compat",SR="@firebase/analytics",AR="@firebase/app-check-compat",wR="@firebase/app-check",xR="@firebase/auth",RR="@firebase/auth-compat",CR="@firebase/database",IR="@firebase/data-connect",kR="@firebase/database-compat",NR="@firebase/functions",DR="@firebase/functions-compat",OR="@firebase/installations",MR="@firebase/installations-compat",LR="@firebase/messaging",VR="@firebase/messaging-compat",jR="@firebase/performance",PR="@firebase/performance-compat",UR="@firebase/remote-config",zR="@firebase/remote-config-compat",BR="@firebase/storage",qR="@firebase/storage-compat",HR="@firebase/firestore",FR="@firebase/ai",GR="@firebase/firestore-compat",KR="firebase",$R="12.8.0";const _p="[DEFAULT]",QR={[yp]:"fire-core",[TR]:"fire-core-compat",[SR]:"fire-analytics",[bR]:"fire-analytics-compat",[wR]:"fire-app-check",[AR]:"fire-app-check-compat",[xR]:"fire-auth",[RR]:"fire-auth-compat",[CR]:"fire-rtdb",[IR]:"fire-data-connect",[kR]:"fire-rtdb-compat",[NR]:"fire-fn",[DR]:"fire-fn-compat",[OR]:"fire-iid",[MR]:"fire-iid-compat",[LR]:"fire-fcm",[VR]:"fire-fcm-compat",[jR]:"fire-perf",[PR]:"fire-perf-compat",[UR]:"fire-rc",[zR]:"fire-rc-compat",[BR]:"fire-gcs",[qR]:"fire-gcs-compat",[HR]:"fire-fst",[GR]:"fire-fst-compat",[FR]:"fire-vertex","fire-js":"fire-js",[KR]:"fire-js-all"};const qh=new Map,YR=new Map,vp=new Map;function Kv(i,e){try{i.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ki(i){const e=i.name;if(vp.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;vp.set(e,i);for(const n of qh.values())Kv(n,i);for(const n of YR.values())Kv(n,i);return!0}function _a(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function li(i){return i==null?!1:i.settings!==void 0}const WR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new ya("app","Firebase",WR);class XR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}const $o=$R;function sT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:_p,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ds.create("bad-app-name",{appName:String(o)});if(n||(n=YE()),!n)throw ds.create("no-options");const u=qh.get(o);if(u){if(gs(n,u.options)&&gs(s,u.config))return u;throw ds.create("duplicate-app",{appName:o})}const h=new rR(o);for(const g of vp.values())h.addComponent(g);const m=new XR(n,s,h);return qh.set(o,m),m}function Zp(i=_p){const e=qh.get(i);if(!e&&i===_p&&YE())return sT();if(!e)throw ds.create("no-app",{appName:i});return e}function Qn(i,e,n){let s=QR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(h.join(" "));return}Ki(new fi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const ZR="firebase-heartbeat-database",JR=1,bu="firebase-heartbeat-store";let ep=null;function aT(){return ep||(ep=rT(ZR,JR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(bu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ds.create("idb-open",{originalErrorMessage:i.message})})),ep}async function eC(i){try{const n=(await aT()).transaction(bu),s=await n.objectStore(bu).get(oT(i));return await n.done,s}catch(e){if(e instanceof gi)Tr.warn(e.message);else{const n=ds.create("idb-get",{originalErrorMessage:e?.message});Tr.warn(n.message)}}}async function $v(i,e){try{const s=(await aT()).transaction(bu,"readwrite");await s.objectStore(bu).put(e,oT(i)),await s.done}catch(n){if(n instanceof gi)Tr.warn(n.message);else{const s=ds.create("idb-set",{originalErrorMessage:n?.message});Tr.warn(s.message)}}}function oT(i){return`${i.name}!${i.options.appId}`}const tC=1024,nC=30;class iC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Qv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>nC){const o=aC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Tr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Qv(),{heartbeatsToSend:n,unsentEntries:s}=rC(this._heartbeatsCache.heartbeats),o=Bh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Tr.warn(e),""}}}function Qv(){return new Date().toISOString().substring(0,10)}function rC(i,e=tC){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Yv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Yv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class sC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eT()?tT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return $v(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return $v(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Yv(i){return Bh(JSON.stringify({version:2,heartbeats:i})).length}function aC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function oC(i){Ki(new fi("platform-logger",e=>new vR(e),"PRIVATE")),Ki(new fi("heartbeat",e=>new iC(e),"PRIVATE")),Qn(yp,Gv,i),Qn(yp,Gv,"esm2020"),Qn("fire-js","")}oC("");function lT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lC=lT,uT=new ya("auth","Firebase",lT());const Hh=new fd("@firebase/auth");function uC(i,...e){Hh.logLevel<=Le.WARN&&Hh.warn(`Auth (${$o}): ${i}`,...e)}function Ih(i,...e){Hh.logLevel<=Le.ERROR&&Hh.error(`Auth (${$o}): ${i}`,...e)}function mi(i,...e){throw Jp(i,...e)}function Bi(i,...e){return Jp(i,...e)}function cT(i,e,n){const s={...lC(),[e]:n};return new ya("auth","Firebase",s).create(e,{appName:i.name})}function fs(i){return cT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return uT.create(i,...e)}function Ee(i,e,...n){if(!i)throw Jp(e,...n)}function gr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ih(e),new Error(e)}function br(i,e){i||gr(e)}function Ep(){return typeof self<"u"&&self.location?.href||""}function cC(){return Wv()==="http:"||Wv()==="https:"}function Wv(){return typeof self<"u"&&self.location?.protocol||null}function hC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cC()||JE()||"connection"in navigator)?navigator.onLine:!0}function dC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=jx()||zx()}get(){return hC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function eg(i,e){br(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class hT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pC=new Vu(3e4,6e4);function va(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function As(i,e,n,s,o={}){return dT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Lu({key:i.config.apiKey,...h}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:g,...u};return Ux()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&Ko(i.emulatorConfig.host)&&(p.credentials="include"),hT.fetch()(await fT(i,i.config.apiHost,n,m),p)})}async function dT(i,e,n){i._canInitEmulator=!1;const s={...fC,...e};try{const o=new yC(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Th(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Th(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw Th(i,"user-disabled",h);const v=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw cT(i,v,p);mi(i,v)}}catch(o){if(o instanceof gi)throw o;mi(i,"network-request-failed",{message:String(o)})}}async function md(i,e,n,s,o={}){const u=await As(i,e,n,s,o);return"mfaPendingCredential"in u&&mi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function fT(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?eg(i.config,o):`${i.config.apiScheme}://${o}`;return mC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function gC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Bi(this.auth,"network-request-failed")),pC.get())})}}function Th(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Bi(i,e,s);return o.customData._tokenResponse=n,o}function Xv(i){return i!==void 0&&i.enterprise!==void 0}class _C{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return gC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vC(i,e){return As(i,"GET","/v2/recaptchaConfig",va(i,e))}async function EC(i,e){return As(i,"POST","/v1/accounts:delete",e)}async function Fh(i,e){return As(i,"POST","/v1/accounts:lookup",e)}function gu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TC(i,e=!1){const n=yt(i),s=await n.getIdToken(e),o=tg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:gu(tp(o.auth_time)),issuedAtTime:gu(tp(o.iat)),expirationTime:gu(tp(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function tp(i){return Number(i)*1e3}function tg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=$E(n);return o?JSON.parse(o):(Ih("Failed to decode base64 JWT payload"),null)}catch(o){return Ih("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Zv(i){const e=tg(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Su(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof gi&&bC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function bC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class SC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gh(i){const e=i.auth,n=await i.getIdToken(),s=await Su(i,Fh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?mT(o.providerUserInfo):[],h=wC(i.providerData,u),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!h?.length,p=m?g:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(i,v)}async function AC(i){const e=yt(i);await Gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function mT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function xC(i,e){const n=await dT(i,{},async()=>{const s=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await fT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&Ko(i.emulatorConfig.host)&&(g.credentials="include"),hT.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RC(i,e){return As(i,"POST","/v2/accounts:revokeToken",va(i,e))}class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Zv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await xC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Io;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return gr("not implemented")}}function ss(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ui{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new SC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Su(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TC(this,e)}reload(){return AC(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Gh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(fs(this.auth));const e=await this.getIdToken();return await Su(this,EC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:M,providerData:G,stsTokenManager:Y}=n;Ee(b&&Y,e,"internal-error");const $=Io.fromJSON(this.name,Y);Ee(typeof b=="string",e,"internal-error"),ss(s,e.name),ss(o,e.name),Ee(typeof x=="boolean",e,"internal-error"),Ee(typeof M=="boolean",e,"internal-error"),ss(u,e.name),ss(h,e.name),ss(m,e.name),ss(g,e.name),ss(p,e.name),ss(v,e.name);const re=new ui({uid:b,auth:e,email:o,emailVerified:x,displayName:s,isAnonymous:M,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:$,createdAt:p,lastLoginAt:v});return G&&Array.isArray(G)&&(re.providerData=G.map(ie=>({...ie}))),g&&(re._redirectEventId=g),re}static async _fromIdTokenResponse(e,n,s=!1){const o=new Io;o.updateFromServerResponse(n);const u=new ui({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Gh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?mT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Io;m.updateFromIdToken(s);const g=new ui({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const Jv=new Map;function yr(i){br(i instanceof Function,"Expected a class definition");let e=Jv.get(i);return e?(br(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Jv.set(i,e),e)}class pT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pT.type="NONE";const e1=pT;function kh(i,e,n){return`firebase:${i}:${e}:${n}`}class ko{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=kh(this.userKey,o.apiKey,u),this.fullPersistenceKey=kh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fh(this.auth,{idToken:e}).catch(()=>{});return n?ui._fromGetAccountInfoResponse(this.auth,n,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ko(yr(e1),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||yr(e1);const h=kh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const v=await p._get(h);if(v){let b;if(typeof v=="string"){const x=await Fh(e,{idToken:v}).catch(()=>{});if(!x)break;b=await ui._fromGetAccountInfoResponse(e,x,v)}else b=ui._fromJSON(e,v);p!==u&&(m=b),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new ko(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new ko(u,e,s))}}function t1(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TT(e))return"Blackberry";if(bT(e))return"Webos";if(yT(e))return"Safari";if((e.includes("chrome/")||_T(e))&&!e.includes("edge/"))return"Chrome";if(ET(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function gT(i=sn()){return/firefox\//i.test(i)}function yT(i=sn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _T(i=sn()){return/crios\//i.test(i)}function vT(i=sn()){return/iemobile/i.test(i)}function ET(i=sn()){return/android/i.test(i)}function TT(i=sn()){return/blackberry/i.test(i)}function bT(i=sn()){return/webos/i.test(i)}function ng(i=sn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function CC(i=sn()){return ng(i)&&!!window.navigator?.standalone}function IC(){return Bx()&&document.documentMode===10}function ST(i=sn()){return ng(i)||ET(i)||bT(i)||TT(i)||/windows phone/i.test(i)||vT(i)}function AT(i,e=[]){let n;switch(i){case"Browser":n=t1(sn());break;case"Worker":n=`${t1(sn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$o}/${s}`}class kC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function NC(i,e={}){return As(i,"GET","/v2/passwordPolicy",va(i,e))}const DC=6;class OC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??DC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class MC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n1(this),this.idTokenSubscription=new n1(this),this.beforeStateQueue=new kC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ko.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fh(this,{idToken:e}),s=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(li(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(li(this.app))return Promise.reject(fs(this));const n=e?yt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return li(this.app)?Promise.reject(fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NC(this),n=new OC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ya("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await RC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&uC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qo(i){return yt(i)}class n1{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qx(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LC(i){pd=i}function wT(i){return pd.loadJS(i)}function VC(){return pd.recaptchaEnterpriseScript}function jC(){return pd.gapiScript}function PC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class UC{constructor(){this.enterprise=new zC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class zC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const BC="recaptcha-enterprise",xT="NO_RECAPTCHA";class qC{constructor(e){this.type=BC,this.auth=Qo(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{vC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new _C(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,h,m){const g=window.grecaptcha;Xv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(xT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new UC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&Xv(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=VC();g.length!==0&&(g+=m),wT(g).then(()=>{o(m,u,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function i1(i,e,n,s=!1,o=!1){const u=new qC(i);let h;if(o)h=xT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function r1(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await i1(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await i1(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(u)})}function HC(i,e){const n=_a(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(gs(u,e??{}))return o;mi(o,"already-initialized")}return n.initialize({options:e})}function FC(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(yr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function GC(i,e,n){const s=Qo(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=RT(e),{host:h,port:m}=KC(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(gs(p,s.config.emulator)&&gs(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Ko(h)?(XE(`${u}//${h}${g}`),ZE("Auth",!0)):$C()}function RT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function KC(i){const e=RT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:s1(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:s1(h)}}}function s1(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function $C(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class ig{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,n){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}async function QC(i,e){return As(i,"POST","/v1/accounts:signUp",e)}async function YC(i,e){return md(i,"POST","/v1/accounts:signInWithPassword",va(i,e))}async function WC(i,e){return md(i,"POST","/v1/accounts:signInWithEmailLink",va(i,e))}async function XC(i,e){return md(i,"POST","/v1/accounts:signInWithEmailLink",va(i,e))}class Au extends ig{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Au(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Au(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return r1(e,n,"signInWithPassword",YC);case"emailLink":return WC(e,{email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return r1(e,s,"signUpPassword",QC);case"emailLink":return XC(e,{idToken:n,email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function No(i,e){return md(i,"POST","/v1/accounts:signInWithIdp",va(i,e))}const ZC="http://localhost";class da extends ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new da(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return No(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,No(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,No(e,n)}buildRequest(){const e={requestUri:ZC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lu(n)}return e}}function JC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eI(i){const e=uu(cu(i)).link,n=e?uu(cu(e)).deep_link_id:null,s=uu(cu(i)).deep_link_id;return(s?uu(cu(s)).link:null)||s||n||e||i}class rg{constructor(e){const n=uu(cu(e)),s=n.apiKey??null,o=n.oobCode??null,u=JC(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=eI(e);try{return new rg(n)}catch{return null}}}class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,n){return Au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=rg.parseLink(n);return Ee(s,"argument-error"),Au._fromEmailAndCode(e,s.code,s.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class CT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ju extends CT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class as extends ju{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";class os extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return da._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return os.credential(n,s)}catch{return null}}}os.GOOGLE_SIGN_IN_METHOD="google.com";os.PROVIDER_ID="google.com";class ls extends ju{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";class us extends ju{constructor(){super("twitter.com")}static credential(e,n){return da._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return us.credential(n,s)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";class Lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ui._fromIdTokenResponse(e,s,o),h=a1(s);return new Lo({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=a1(s);return new Lo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function a1(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Kh extends gi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Kh(e,n,s,o)}}function IT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Kh._fromErrorAndOperation(i,u,e,s):u})}async function tI(i,e,n=!1){const s=await Su(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Lo._forOperation(i,"link",s)}async function nI(i,e,n=!1){const{auth:s}=i;if(li(s.app))return Promise.reject(fs(s));const o="reauthenticate";try{const u=await Su(i,IT(s,o,e,i),n);Ee(u.idToken,s,"internal-error");const h=tg(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(i.uid===m,s,"user-mismatch"),Lo._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&mi(s,"user-mismatch"),u}}async function kT(i,e,n=!1){if(li(i.app))return Promise.reject(fs(i));const s="signIn",o=await IT(i,s,e),u=await Lo._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function iI(i,e){return kT(Qo(i),e)}async function rI(i){const e=Qo(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function sI(i,e,n){return li(i.app)?Promise.reject(fs(i)):iI(yt(i),Yo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&rI(i),s})}function aI(i,e,n,s){return yt(i).onIdTokenChanged(e,n,s)}function oI(i,e,n){return yt(i).beforeAuthStateChanged(e,n)}function lI(i,e,n,s){return yt(i).onAuthStateChanged(e,n,s)}function uI(i){return yt(i).signOut()}const $h="__sak";class NT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($h,"1"),this.storage.removeItem($h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cI=1e3,hI=10;class DT extends NT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ST(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);IC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},cI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}DT.type="LOCAL";const dI=DT;class OT extends NT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OT.type="SESSION";const MT=OT;function fI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new gd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,u)),g=await fI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gd.receivers=[];function sg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class mI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=sg("",20);o.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const x=b;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(v),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function qi(){return window}function pI(i){qi().location.href=i}function LT(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function gI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yI(){return navigator?.serviceWorker?.controller||null}function _I(){return LT()?self:null}const VT="firebaseLocalStorageDb",vI=1,Qh="firebaseLocalStorage",jT="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yd(i,e){return i.transaction([Qh],e?"readwrite":"readonly").objectStore(Qh)}function EI(){const i=indexedDB.deleteDatabase(VT);return new Pu(i).toPromise()}function bp(){const i=indexedDB.open(VT,vI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Qh,{keyPath:jT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Qh)?e(s):(s.close(),await EI(),e(await bp()))})})}async function o1(i,e,n){const s=yd(i,!0).put({[jT]:e,value:n});return new Pu(s).toPromise()}async function TI(i,e){const n=yd(i,!1).get(e),s=await new Pu(n).toPromise();return s===void 0?null:s.value}function l1(i,e){const n=yd(i,!0).delete(e);return new Pu(n).toPromise()}const bI=800,SI=3;class PT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>SI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gd._getInstance(_I()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gI(),!this.activeServiceWorker)return;this.sender=new mI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await o1(e,$h,"1"),await l1(e,$h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>o1(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>TI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>l1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=yd(o,!1).getAll();return new Pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PT.type="LOCAL";const AI=PT;new Vu(3e4,6e4);function wI(i,e){return e?yr(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class ag extends ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,n){return No(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xI(i){return kT(i.auth,new ag(i),i.bypassAuthState)}function RI(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),nI(n,new ag(i),i.bypassAuthState)}async function CI(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),tI(n,new ag(i),i.bypassAuthState)}class UT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xI;case"linkViaPopup":case"linkViaRedirect":return CI;case"reauthViaPopup":case"reauthViaRedirect":return RI;default:mi(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const II=new Vu(2e3,1e4);class Co extends UT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Co.currentPopupAction&&Co.currentPopupAction.cancel(),Co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Co.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,II.get())};e()}}Co.currentPopupAction=null;const kI="pendingRedirect",Nh=new Map;class NI extends UT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Nh.get(this.auth._key());if(!e){try{const s=await DI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Nh.set(this.auth._key(),e)}return this.bypassAuthState||Nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DI(i,e){const n=LI(e),s=MI(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function OI(i,e){Nh.set(i._key(),e)}function MI(i){return yr(i._redirectPersistence)}function LI(i){return kh(kI,i.config.apiKey,i.name)}async function VI(i,e,n=!1){if(li(i.app))return Promise.reject(fs(i));const s=Qo(i),o=wI(s,e),h=await new NI(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const jI=600*1e3;class PI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!zT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Bi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jI&&this.cachedEventUids.clear(),this.cachedEventUids.has(u1(e))}saveEventToCache(e){this.cachedEventUids.add(u1(e)),this.lastProcessedEventTime=Date.now()}}function u1(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function zT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function UI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zT(i);default:return!1}}async function zI(i,e={}){return As(i,"GET","/v1/projects",e)}const BI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qI=/^https?/;async function HI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await zI(i);for(const n of e)try{if(FI(n))return}catch{}mi(i,"unauthorized-domain")}function FI(i){const e=Ep(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!qI.test(n))return!1;if(BI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const GI=new Vu(3e4,6e4);function c1(){const i=qi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function KI(i){return new Promise((e,n)=>{function s(){c1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{c1(),n(Bi(i,"network-request-failed"))},timeout:GI.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)s();else{const o=PC("iframefcb");return qi()[o]=()=>{gapi.load?s():n(Bi(i,"network-request-failed"))},wT(`${jC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function $I(i){return Dh=Dh||KI(i),Dh}const QI=new Vu(5e3,15e3),YI="__/auth/iframe",WI="emulator/auth/iframe",XI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JI(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?eg(e,WI):`https://${i.config.authDomain}/${YI}`,s={apiKey:e.apiKey,appName:i.name,v:$o},o=ZI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Lu(s).slice(1)}`}async function ek(i){const e=await $I(i),n=qi().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:JI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Bi(i,"network-request-failed"),m=qi().setTimeout(()=>{u(h)},QI.get());function g(){qi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}const tk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nk=500,ik=600,rk="_blank",sk="http://localhost";class h1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ak(i,e,n,s=nk,o=ik){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...tk,width:s.toString(),height:o.toString(),top:u,left:h},p=sn().toLowerCase();n&&(m=_T(p)?rk:n),gT(p)&&(e=e||sk,g.scrollbars="yes");const v=Object.entries(g).reduce((x,[M,G])=>`${x}${M}=${G},`,"");if(CC(p)&&m!=="_self")return ok(e||"",m),new h1(null);const b=window.open(e||"",m,v);Ee(b,i,"popup-blocked");try{b.focus()}catch{}return new h1(b)}function ok(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const lk="__/auth/handler",uk="emulator/auth/handler",ck=encodeURIComponent("fac");async function d1(i,e,n,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:$o,eventId:o};if(e instanceof CT){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",$x(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))h[v]=b}if(e instanceof ju){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const g=await i._getAppCheckToken(),p=g?`#${ck}=${encodeURIComponent(g)}`:"";return`${hk(i)}?${Lu(m).slice(1)}${p}`}function hk({config:i}){return i.emulator?eg(i,uk):`https://${i.authDomain}/${lk}`}const np="webStorageSupport";class dk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MT,this._completeRedirectFn=VI,this._overrideRedirectResult=OI}async _openPopup(e,n,s,o){br(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await d1(e,n,s,Ep(),o);return ak(e,u,sg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await d1(e,n,s,Ep(),o);return pI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(br(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await ek(e),s=new PI(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(np,{type:np},o=>{const u=o?.[0]?.[np];u!==void 0&&n(!!u),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ST()||yT()||ng()}}const fk=dk;var f1="@firebase/auth",m1="1.12.0";class mk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pk(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gk(i){Ki(new fi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AT(i)},p=new MC(s,o,u,g);return FC(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ki(new fi("auth-internal",e=>{const n=Qo(e.getProvider("auth").getImmediate());return(s=>new mk(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qn(f1,m1,pk(i)),Qn(f1,m1,"esm2020")}const yk=300,_k=WE("authIdTokenMaxAge")||yk;let p1=null;const vk=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>_k)return;const o=n?.token;p1!==o&&(p1=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ek(i=Zp()){const e=_a(i,"auth");if(e.isInitialized())return e.getImmediate();const n=HC(i,{popupRedirectResolver:fk,persistence:[AI,dI,MT]}),s=WE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=vk(u.toString());oI(n,h,()=>h(n.currentUser)),aI(n,m=>h(m))}}const o=QE("auth");return o&&GC(n,`http://${o}`),n}function Tk(){return document.getElementsByTagName("head")?.[0]??document}LC({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Bi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Tk().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gk("Browser");var bk="firebase",Sk="12.8.0";Qn(bk,Sk,"app");var g1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ms,BT;(function(){var i;function e(I,C){function R(){}R.prototype=C.prototype,I.F=C.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(D,O,P){for(var k=Array(arguments.length-2),We=2;We<arguments.length;We++)k[We-2]=arguments[We];return C.prototype[O].apply(D,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,C,R){R||(R=0);const D=Array(16);if(typeof C=="string")for(var O=0;O<16;++O)D[O]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(O=0;O<16;++O)D[O]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=I.g[0],R=I.g[1],O=I.g[2];let P=I.g[3],k;k=C+(P^R&(O^P))+D[0]+3614090360&4294967295,C=R+(k<<7&4294967295|k>>>25),k=P+(O^C&(R^O))+D[1]+3905402710&4294967295,P=C+(k<<12&4294967295|k>>>20),k=O+(R^P&(C^R))+D[2]+606105819&4294967295,O=P+(k<<17&4294967295|k>>>15),k=R+(C^O&(P^C))+D[3]+3250441966&4294967295,R=O+(k<<22&4294967295|k>>>10),k=C+(P^R&(O^P))+D[4]+4118548399&4294967295,C=R+(k<<7&4294967295|k>>>25),k=P+(O^C&(R^O))+D[5]+1200080426&4294967295,P=C+(k<<12&4294967295|k>>>20),k=O+(R^P&(C^R))+D[6]+2821735955&4294967295,O=P+(k<<17&4294967295|k>>>15),k=R+(C^O&(P^C))+D[7]+4249261313&4294967295,R=O+(k<<22&4294967295|k>>>10),k=C+(P^R&(O^P))+D[8]+1770035416&4294967295,C=R+(k<<7&4294967295|k>>>25),k=P+(O^C&(R^O))+D[9]+2336552879&4294967295,P=C+(k<<12&4294967295|k>>>20),k=O+(R^P&(C^R))+D[10]+4294925233&4294967295,O=P+(k<<17&4294967295|k>>>15),k=R+(C^O&(P^C))+D[11]+2304563134&4294967295,R=O+(k<<22&4294967295|k>>>10),k=C+(P^R&(O^P))+D[12]+1804603682&4294967295,C=R+(k<<7&4294967295|k>>>25),k=P+(O^C&(R^O))+D[13]+4254626195&4294967295,P=C+(k<<12&4294967295|k>>>20),k=O+(R^P&(C^R))+D[14]+2792965006&4294967295,O=P+(k<<17&4294967295|k>>>15),k=R+(C^O&(P^C))+D[15]+1236535329&4294967295,R=O+(k<<22&4294967295|k>>>10),k=C+(O^P&(R^O))+D[1]+4129170786&4294967295,C=R+(k<<5&4294967295|k>>>27),k=P+(R^O&(C^R))+D[6]+3225465664&4294967295,P=C+(k<<9&4294967295|k>>>23),k=O+(C^R&(P^C))+D[11]+643717713&4294967295,O=P+(k<<14&4294967295|k>>>18),k=R+(P^C&(O^P))+D[0]+3921069994&4294967295,R=O+(k<<20&4294967295|k>>>12),k=C+(O^P&(R^O))+D[5]+3593408605&4294967295,C=R+(k<<5&4294967295|k>>>27),k=P+(R^O&(C^R))+D[10]+38016083&4294967295,P=C+(k<<9&4294967295|k>>>23),k=O+(C^R&(P^C))+D[15]+3634488961&4294967295,O=P+(k<<14&4294967295|k>>>18),k=R+(P^C&(O^P))+D[4]+3889429448&4294967295,R=O+(k<<20&4294967295|k>>>12),k=C+(O^P&(R^O))+D[9]+568446438&4294967295,C=R+(k<<5&4294967295|k>>>27),k=P+(R^O&(C^R))+D[14]+3275163606&4294967295,P=C+(k<<9&4294967295|k>>>23),k=O+(C^R&(P^C))+D[3]+4107603335&4294967295,O=P+(k<<14&4294967295|k>>>18),k=R+(P^C&(O^P))+D[8]+1163531501&4294967295,R=O+(k<<20&4294967295|k>>>12),k=C+(O^P&(R^O))+D[13]+2850285829&4294967295,C=R+(k<<5&4294967295|k>>>27),k=P+(R^O&(C^R))+D[2]+4243563512&4294967295,P=C+(k<<9&4294967295|k>>>23),k=O+(C^R&(P^C))+D[7]+1735328473&4294967295,O=P+(k<<14&4294967295|k>>>18),k=R+(P^C&(O^P))+D[12]+2368359562&4294967295,R=O+(k<<20&4294967295|k>>>12),k=C+(R^O^P)+D[5]+4294588738&4294967295,C=R+(k<<4&4294967295|k>>>28),k=P+(C^R^O)+D[8]+2272392833&4294967295,P=C+(k<<11&4294967295|k>>>21),k=O+(P^C^R)+D[11]+1839030562&4294967295,O=P+(k<<16&4294967295|k>>>16),k=R+(O^P^C)+D[14]+4259657740&4294967295,R=O+(k<<23&4294967295|k>>>9),k=C+(R^O^P)+D[1]+2763975236&4294967295,C=R+(k<<4&4294967295|k>>>28),k=P+(C^R^O)+D[4]+1272893353&4294967295,P=C+(k<<11&4294967295|k>>>21),k=O+(P^C^R)+D[7]+4139469664&4294967295,O=P+(k<<16&4294967295|k>>>16),k=R+(O^P^C)+D[10]+3200236656&4294967295,R=O+(k<<23&4294967295|k>>>9),k=C+(R^O^P)+D[13]+681279174&4294967295,C=R+(k<<4&4294967295|k>>>28),k=P+(C^R^O)+D[0]+3936430074&4294967295,P=C+(k<<11&4294967295|k>>>21),k=O+(P^C^R)+D[3]+3572445317&4294967295,O=P+(k<<16&4294967295|k>>>16),k=R+(O^P^C)+D[6]+76029189&4294967295,R=O+(k<<23&4294967295|k>>>9),k=C+(R^O^P)+D[9]+3654602809&4294967295,C=R+(k<<4&4294967295|k>>>28),k=P+(C^R^O)+D[12]+3873151461&4294967295,P=C+(k<<11&4294967295|k>>>21),k=O+(P^C^R)+D[15]+530742520&4294967295,O=P+(k<<16&4294967295|k>>>16),k=R+(O^P^C)+D[2]+3299628645&4294967295,R=O+(k<<23&4294967295|k>>>9),k=C+(O^(R|~P))+D[0]+4096336452&4294967295,C=R+(k<<6&4294967295|k>>>26),k=P+(R^(C|~O))+D[7]+1126891415&4294967295,P=C+(k<<10&4294967295|k>>>22),k=O+(C^(P|~R))+D[14]+2878612391&4294967295,O=P+(k<<15&4294967295|k>>>17),k=R+(P^(O|~C))+D[5]+4237533241&4294967295,R=O+(k<<21&4294967295|k>>>11),k=C+(O^(R|~P))+D[12]+1700485571&4294967295,C=R+(k<<6&4294967295|k>>>26),k=P+(R^(C|~O))+D[3]+2399980690&4294967295,P=C+(k<<10&4294967295|k>>>22),k=O+(C^(P|~R))+D[10]+4293915773&4294967295,O=P+(k<<15&4294967295|k>>>17),k=R+(P^(O|~C))+D[1]+2240044497&4294967295,R=O+(k<<21&4294967295|k>>>11),k=C+(O^(R|~P))+D[8]+1873313359&4294967295,C=R+(k<<6&4294967295|k>>>26),k=P+(R^(C|~O))+D[15]+4264355552&4294967295,P=C+(k<<10&4294967295|k>>>22),k=O+(C^(P|~R))+D[6]+2734768916&4294967295,O=P+(k<<15&4294967295|k>>>17),k=R+(P^(O|~C))+D[13]+1309151649&4294967295,R=O+(k<<21&4294967295|k>>>11),k=C+(O^(R|~P))+D[4]+4149444226&4294967295,C=R+(k<<6&4294967295|k>>>26),k=P+(R^(C|~O))+D[11]+3174756917&4294967295,P=C+(k<<10&4294967295|k>>>22),k=O+(C^(P|~R))+D[2]+718787259&4294967295,O=P+(k<<15&4294967295|k>>>17),k=R+(P^(O|~C))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+P&4294967295}s.prototype.v=function(I,C){C===void 0&&(C=I.length);const R=C-this.blockSize,D=this.C;let O=this.h,P=0;for(;P<C;){if(O==0)for(;P<=R;)o(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<C;)if(D[O++]=I.charCodeAt(P++),O==this.blockSize){o(this,D),O=0;break}}else for(;P<C;)if(D[O++]=I[P++],O==this.blockSize){o(this,D),O=0;break}}this.h=O,this.o+=C},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,R=0;R<4;++R)for(let D=0;D<32;D+=8)I[C++]=this.g[R]>>>D&255;return I};function u(I,C){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=C(I)}function h(I,C){this.h=C;const R=[];let D=!0;for(let O=I.length-1;O>=0;O--){const P=I[O]|0;D&&P==C||(R[O]=P,D=!1)}this.g=R}var m={};function g(I){return-128<=I&&I<128?u(I,function(C){return new h([C|0],C<0?-1:0)}):new h([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return $(p(-I));const C=[];let R=1;for(let D=0;I>=R;D++)C[D]=I/R|0,R*=4294967296;return new h(C,0)}function v(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return $(v(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(C,8));let D=b;for(let P=0;P<I.length;P+=8){var O=Math.min(8,I.length-P);const k=parseInt(I.substring(P,P+O),C);O<8?(O=p(Math.pow(C,O)),D=D.j(O).add(p(k))):(D=D.j(R),D=D.add(p(k)))}return D}var b=g(0),x=g(1),M=g(16777216);i=h.prototype,i.m=function(){if(Y(this))return-$(this).m();let I=0,C=1;for(let R=0;R<this.g.length;R++){const D=this.i(R);I+=(D>=0?D:4294967296+D)*C,C*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(G(this))return"0";if(Y(this))return"-"+$(this).toString(I);const C=p(Math.pow(I,6));var R=this;let D="";for(;;){const O=se(R,C).g;R=re(R,O.j(C));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=O,G(R))return P+D;for(;P.length<6;)P="0"+P;D=P+D}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function G(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function Y(I){return I.h==-1}i.l=function(I){return I=re(this,I),Y(I)?-1:G(I)?0:1};function $(I){const C=I.g.length,R=[];for(let D=0;D<C;D++)R[D]=~I.g[D];return new h(R,~I.h).add(x)}i.abs=function(){return Y(this)?$(this):this},i.add=function(I){const C=Math.max(this.g.length,I.g.length),R=[];let D=0;for(let O=0;O<=C;O++){let P=D+(this.i(O)&65535)+(I.i(O)&65535),k=(P>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);D=k>>>16,P&=65535,k&=65535,R[O]=k<<16|P}return new h(R,R[R.length-1]&-2147483648?-1:0)};function re(I,C){return I.add($(C))}i.j=function(I){if(G(this)||G(I))return b;if(Y(this))return Y(I)?$(this).j($(I)):$($(this).j(I));if(Y(I))return $(this.j($(I)));if(this.l(M)<0&&I.l(M)<0)return p(this.m()*I.m());const C=this.g.length+I.g.length,R=[];for(var D=0;D<2*C;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(let O=0;O<I.g.length;O++){const P=this.i(D)>>>16,k=this.i(D)&65535,We=I.i(O)>>>16,ct=I.i(O)&65535;R[2*D+2*O]+=k*ct,ie(R,2*D+2*O),R[2*D+2*O+1]+=P*ct,ie(R,2*D+2*O+1),R[2*D+2*O+1]+=k*We,ie(R,2*D+2*O+1),R[2*D+2*O+2]+=P*We,ie(R,2*D+2*O+2)}for(I=0;I<C;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=C;I<2*C;I++)R[I]=0;return new h(R,0)};function ie(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function ae(I,C){this.g=I,this.h=C}function se(I,C){if(G(C))throw Error("division by zero");if(G(I))return new ae(b,b);if(Y(I))return C=se($(I),C),new ae($(C.g),$(C.h));if(Y(C))return C=se(I,$(C)),new ae($(C.g),C.h);if(I.g.length>30){if(Y(I)||Y(C))throw Error("slowDivide_ only works with positive integers.");for(var R=x,D=C;D.l(I)<=0;)R=ge(R),D=ge(D);var O=he(R,1),P=he(D,1);for(D=he(D,2),R=he(R,2);!G(D);){var k=P.add(D);k.l(I)<=0&&(O=O.add(R),P=k),D=he(D,1),R=he(R,1)}return C=re(I,O.j(C)),new ae(O,C)}for(O=b;I.l(C)>=0;){for(R=Math.max(1,Math.floor(I.m()/C.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),P=p(R),k=P.j(C);Y(k)||k.l(I)>0;)R-=D,P=p(R),k=P.j(C);G(P)&&(P=x),O=O.add(P),I=re(I,k)}return new ae(O,I)}i.B=function(I){return se(this,I).h},i.and=function(I){const C=Math.max(this.g.length,I.g.length),R=[];for(let D=0;D<C;D++)R[D]=this.i(D)&I.i(D);return new h(R,this.h&I.h)},i.or=function(I){const C=Math.max(this.g.length,I.g.length),R=[];for(let D=0;D<C;D++)R[D]=this.i(D)|I.i(D);return new h(R,this.h|I.h)},i.xor=function(I){const C=Math.max(this.g.length,I.g.length),R=[];for(let D=0;D<C;D++)R[D]=this.i(D)^I.i(D);return new h(R,this.h^I.h)};function ge(I){const C=I.g.length+1,R=[];for(let D=0;D<C;D++)R[D]=I.i(D)<<1|I.i(D-1)>>>31;return new h(R,I.h)}function he(I,C){const R=C>>5;C%=32;const D=I.g.length-R,O=[];for(let P=0;P<D;P++)O[P]=C>0?I.i(P+R)>>>C|I.i(P+R+1)<<32-C:I.i(P+R);return new h(O,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,BT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=v,ms=h}).apply(typeof g1<"u"?g1:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qT,hu,HT,Oh,Sp,FT,GT,KT;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in E))break e;E=E[z]}c=c[c.length-1],w=E[c],y=y(w),y!=w&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&E.push([w,y[w]]);return E}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,E){return c.call.apply(c.bind,arguments)}function p(c,y,E){return p=g,p.apply(null,arguments)}function v(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function b(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(w,z,K){for(var oe=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)oe[xe-2]=arguments[xe];return y.prototype[z].apply(w,oe)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function M(c){const y=c.length;if(y>0){const E=Array(y);for(let w=0;w<y;w++)E[w]=c[w];return E}return[]}function G(c,y){for(let w=1;w<arguments.length;w++){const z=arguments[w];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=c.length||0;const K=z.length||0;c.length=E+K;for(let oe=0;oe<K;oe++)c[E+oe]=z[oe]}else c.push(z)}}class Y{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(c){h.setTimeout(()=>{throw c},0)}function re(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,E){const w=ae.get();w.set(y,E),this.h?this.h.next=w:this.g=w,this.h=w}}var ae=new Y(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,he=!1,I=new ie,C=()=>{const c=Promise.resolve(void 0);ge=()=>{c.then(R)}};function R(){for(var c;c=re();){try{c.h.call(c.g)}catch(E){$(E)}var y=ae;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}he=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function k(c){return/^[\s\xa0]*$/.test(c)}function We(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(We,O),We.prototype.init=function(c,y){const E=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),W=0;function H(c,y,E,w,z){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!w,this.ha=z,this.key=++W,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ke(c,y,E){for(const w in c)y.call(E,c[w],w,c)}function Be(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function V(c){const y={};for(const E in c)y[E]=c[E];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,y){let E,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(E in w)c[E]=w[E];for(let K=0;K<te.length;K++)E=te[K],Object.prototype.hasOwnProperty.call(w,E)&&(c[E]=w[E])}}function fe(c){this.src=c,this.g={},this.h=0}fe.prototype.add=function(c,y,E,w,z){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const oe=Ce(c,y,w,z);return oe>-1?(y=c[oe],E||(y.fa=!1)):(y=new H(y,this.src,K,!!w,z),y.fa=E,c.push(y)),y};function be(c,y){const E=y.type;if(E in c.g){var w=c.g[E],z=Array.prototype.indexOf.call(w,y,void 0),K;(K=z>=0)&&Array.prototype.splice.call(w,z,1),K&&(de(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ce(c,y,E,w){for(let z=0;z<c.length;++z){const K=c[z];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==w)return z}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Vt={};function at(c,y,E,w,z){if(Array.isArray(y)){for(let K=0;K<y.length;K++)at(c,y[K],E,w,z);return null}return E=il(E),c&&c[ct]?c.J(y,E,m(w)?!!w.capture:!1,z):Is(c,y,E,!1,w,z)}function Is(c,y,E,w,z,K){if(!y)throw Error("Invalid event type");const oe=m(z)?!!z.capture:!!z;let xe=ks(c);if(xe||(c[Ue]=xe=new fe(c)),E=xe.add(y,E,w,oe,K),E.proxy)return E;if(w=Oa(),E.proxy=w,w.src=c,w.listener=E,c.addEventListener)P||(z=oe),z===void 0&&(z=!1),c.addEventListener(y.toString(),w,z);else if(c.attachEvent)c.attachEvent(_i(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Oa(){function c(E){return y.call(c.src,c.listener,E)}const y=tl;return c}function Ma(c,y,E,w,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)Ma(c,y[K],E,w,z);else w=m(w)?!!w.capture:!!w,E=il(E),c&&c[ct]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],E=Ce(y,E,w,z),E>-1&&(de(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=ks(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,E,w,z)),(E=c>-1?y[c]:null)&&La(E))}function La(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ct])be(y.i,c);else{var E=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(E,w,c.capture):y.detachEvent?y.detachEvent(_i(E),w):y.addListener&&y.removeListener&&y.removeListener(w),(E=ks(y))?(be(E,c),E.h==0&&(E.src=null,y[Ue]=null)):de(c)}}}function _i(c){return c in Vt?Vt[c]:Vt[c]="on"+c}function tl(c,y){if(c.da)c=!0;else{y=new We(y,this);const E=c.listener,w=c.ha||c.src;c.fa&&La(c),c=E.call(w,y)}return c}function ks(c){return c=c[Ue],c instanceof fe?c:null}var nl="__closure_events_fn_"+(Math.random()*1e9>>>0);function il(c){return typeof c=="function"?c:(c[nl]||(c[nl]=function(y){return c.handleEvent(y)}),c[nl])}function At(){D.call(this),this.i=new fe(this),this.M=this,this.G=null}b(At,D),At.prototype[ct]=!0,At.prototype.removeEventListener=function(c,y,E,w){Ma(this,c,y,E,w)};function jt(c,y){var E,w=c.G;if(w)for(E=[];w;w=w.G)E.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var z=y;y=new O(w,c),le(y,z)}z=!0;let K,oe;if(E)for(oe=E.length-1;oe>=0;oe--)K=y.g=E[oe],z=xr(K,w,!0,y)&&z;if(K=y.g=c,z=xr(K,w,!0,y)&&z,z=xr(K,w,!1,y)&&z,E)for(oe=0;oe<E.length;oe++)K=y.g=E[oe],z=xr(K,w,!1,y)&&z}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let w=0;w<E.length;w++)de(E[w]);delete c.g[y],c.h--}}this.G=null},At.prototype.J=function(c,y,E,w){return this.i.add(String(c),y,!1,E,w)},At.prototype.K=function(c,y,E,w){return this.i.add(String(c),y,!0,E,w)};function xr(c,y,E,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let K=0;K<y.length;++K){const oe=y[K];if(oe&&!oe.da&&oe.capture==E){const xe=oe.listener,vt=oe.ha||oe.src;oe.fa&&be(c.i,oe),z=xe.call(vt,w)!==!1&&z}}return z&&!w.defaultPrevented}function qd(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Gu(c){c.g=qd(()=>{c.g=null,c.i&&(c.i=!1,Gu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class an extends D{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Gu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(c){D.call(this),this.h=c,this.g={}}b(Ns,D);var rl=[];function sl(c){ke(c.g,function(y,E){this.g.hasOwnProperty(E)&&La(y)},c),c.g={}}Ns.prototype.N=function(){Ns.Z.N.call(this),sl(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rr=h.JSON.stringify,Hd=h.JSON.parse,Ku=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function $u(){}function Qu(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){O.call(this,"d")}b(Ft,O);function Mn(){O.call(this,"c")}b(Mn,O);var _t={},Yu=null;function Va(){return Yu=Yu||new At}_t.Ia="serverreachability";function Wu(c){O.call(this,_t.Ia,c)}b(Wu,O);function vi(c){const y=Va();jt(y,new Wu(y))}_t.STAT_EVENT="statevent";function Ds(c,y){O.call(this,_t.STAT_EVENT,c),this.stat=y}b(Ds,O);function wt(c){const y=Va();jt(y,new Ds(y,c))}_t.Ja="timingevent";function Ei(c,y){O.call(this,_t.Ja,c),this.size=y}b(Ei,O);function Ti(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Fd(c,y,E,w,z,K){c.info(function(){if(c.g)if(K){var oe="",xe=K.split("&");for(let Fe=0;Fe<xe.length;Fe++){var vt=xe[Fe].split("=");if(vt.length>1){const ot=vt[0];vt=vt[1];const Pn=ot.split("_");oe=Pn.length>=2&&Pn[1]=="type"?oe+(ot+"="+vt+"&"):oe+(ot+"=redacted&")}}}else oe=null;else oe=K;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+E+`
`+oe})}function Xu(c,y,E,w,z,K,oe){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+E+`
`+K+" "+oe})}function bi(c,y,E,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Gd(c,E)+(w?" "+w:"")})}function Os(c,y){c.info(function(){return"TIMEOUT: "+y})}Xn.prototype.info=function(){};function Gd(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var E=K[c];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var z=w[0];if(z!="noop"&&z!="stop"&&z!="close")for(let oe=1;oe<w.length;oe++)w[oe]=""}}}}return Rr(K)}catch{return y}}var Ms={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ol;function Ls(){}b(Ls,$u),Ls.prototype.g=function(){return new XMLHttpRequest},ol=new Ls;function Wi(c){return encodeURIComponent(String(c))}function Zu(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Zn(c,y,E,w){this.j=c,this.i=y,this.l=E,this.S=w||1,this.V=new Ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var xt={},zt={};function Si(c,y,E){c.M=1,c.A=Vs(Ct(y)),c.u=E,c.R=!0,ja(c,null)}function ja(c,y){c.F=Date.now(),Ai(c),c.B=Ct(c.A);var E=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Ba(E.i,"t",w),c.C=0,E=c.j.L,c.h=new Jn,c.g=fc(c.j,E?y:null,!c.u),c.P>0&&(c.O=new an(p(c.Y,c,c.g),c.P)),y=c.V,E=c.g,w=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(rl[0]=z.toString()),z=rl);for(let K=0;K<z.length;K++){const oe=at(E,z[K],w||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),vi(),Fd(c.i,c.v,c.B,c.l,c.S,c.u)}Zn.prototype.ba=function(c){c=c.target;const y=this.O;y&&ni(c)==3?y.j():this.Y(c)},Zn.prototype.Y=function(c){try{if(c==this.g)e:{const xe=ni(this.g),vt=this.g.ya(),Fe=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||xe!=4||vt==7||(vt==8||Fe<=0?vi(3):vi(2)),wi(this);var y=this.g.ca();this.X=y;var E=Kd(this);if(this.o=y==200,Xu(this.i,this.v,this.B,this.l,this.S,xe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,z=this.g;if((w=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(w)){var K=w;break t}}K=null}if(c=K)bi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,c);else{this.o=!1,this.m=3,wt(12),Tn(this),Ln(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<E.length;)if(ot=ec(this,E),ot==zt){xe==4&&(this.m=4,wt(14),c=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==xt){this.m=4,wt(15),bi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else bi(this.i,this.l,ot,null),xi(this,ot);if(Ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||E.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)bi(this.i,this.l,E,"[Invalid Chunked Response]"),Tn(this),Ln(this);else if(E.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),bl(oe),oe.P=!0,wt(11))}}else bi(this.i,this.l,E,null),xi(this,E);xe==4&&Tn(this),this.o&&!this.K&&(xe==4?uc(this.j,this):(this.o=!1,Ai(this)))}else Zi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),Tn(this),Ln(this)}}}catch{}};function Kd(c){if(!Ju(c))return c.g.la();const y=Gt(c.g);if(y==="")return"";let E="";const w=y.length,z=ni(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Tn(c),Ln(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<w;K++)c.h.h=!0,E+=c.h.i.decode(y[K],{stream:!(z&&K==w-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Ju(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ec(c,y){var E=c.C,w=y.indexOf(`
`,E);return w==-1?zt:(E=Number(y.substring(E,w)),isNaN(E)?xt:(w+=1,w+E>y.length?zt:(y=y.slice(w,w+E),c.C=w+E,y)))}Zn.prototype.cancel=function(){this.K=!0,Tn(this)};function Ai(c){c.T=Date.now()+c.H,Pa(c,c.H)}function Pa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ti(p(c.aa,c),y)}function wi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Os(this.i,this.B),this.M!=2&&(vi(),wt(17)),Tn(this),this.m=2,Ln(this)):Pa(this,this.T-c)};function Ln(c){c.j.I==0||c.K||uc(c.j,c)}function Tn(c){wi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,sl(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function xi(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||Ci(E.h,c))){if(!c.L&&Ci(E.h,c)&&E.I==3){try{var w=E.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Ka(E),Lr(E);else break e;Hs(E),wt(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ti(p(E.Va,E),6e3));Ri(E.h)<=1&&E.ta&&(E.ta=void 0)}else Mi(E,11)}else if((c.L||E.g==c)&&Ka(E),!k(y))for(z=E.Ba.g.parse(y),y=0;y<z.length;y++){let Fe=z[y];const ot=Fe[0];if(!(ot<=E.K))if(E.K=ot,Fe=Fe[1],E.I==2)if(Fe[0]=="c"){E.M=Fe[1],E.ba=Fe[2];const Pn=Fe[3];Pn!=null&&(E.ka=Pn,E.j.info("VER="+E.ka));const Li=Fe[4];Li!=null&&(E.za=Li,E.j.info("SVER="+E.za));const ii=Fe[5];ii!=null&&typeof ii=="number"&&ii>0&&(w=1.5*ii,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const ri=c.g;if(ri){const Fs=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fs){var K=w.h;K.g||Fs.indexOf("spdy")==-1&&Fs.indexOf("quic")==-1&&Fs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(cl(K,K.h),K.h=null))}if(w.G){const $a=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(w.wa=$a,$e(w.J,w.G,$a))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var oe=c;if(w.na=dc(w,w.L?w.ba:null,w.W),oe.L){hl(w.h,oe);var xe=oe,vt=w.O;vt&&(xe.H=vt),xe.D&&(wi(xe),Ai(xe)),w.g=oe}else oc(w);E.i.length>0&&Oi(E)}else Fe[0]!="stop"&&Fe[0]!="close"||Mi(E,7);else E.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Mi(E,7):El(E):Fe[0]!="noop"&&E.l&&E.l.qa(Fe),E.A=0)}}vi(4)}catch{}}var Rt=class{constructor(c,y){this.g=c,this.map=y}};function ll(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ul(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ri(c){return c.h?1:c.g?c.g.size:0}function Ci(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function cl(c,y){c.g?c.g.add(y):c.h=y}function hl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ll.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function dl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return M(c.i)}var tc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const w=c[E].indexOf("=");let z,K=null;w>=0?(z=c[E].substring(0,w),K=c[E].substring(w+1)):z=c[E],y(z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function bn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof bn?(this.l=c.l,Bt(this,c.j),this.o=c.o,this.g=c.g,Cr(this,c.u),this.h=c.h,fl(this,sc(c.i)),this.m=c.m):c&&(y=String(c).match(tc))?(this.l=!1,Bt(this,y[1]||"",!0),this.o=Ii(y[2]||""),this.g=Ii(y[3]||"",!0),Cr(this,y[4]),this.h=Ii(y[5]||"",!0),fl(this,y[6]||"",!0),this.m=Ii(y[7]||"")):(this.l=!1,this.i=new kr(null,this.l))}bn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(js(y,za,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(js(y,za,!0),"@"),c.push(Wi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(js(E,E.charAt(0)=="/"?ml:nc,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",js(E,ic)),c.join("")},bn.prototype.resolve=function(c){const y=Ct(this);let E=!!c.j;E?Bt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var w=c.h;if(E)Cr(y,c.u);else if(E=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var z=y.h.lastIndexOf("/");z!=-1&&(w=y.h.slice(0,z+1)+w)}if(z=w,z==".."||z==".")w="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){w=z.lastIndexOf("/",0)==0,z=z.split("/");const K=[];for(let oe=0;oe<z.length;){const xe=z[oe++];xe=="."?w&&oe==z.length&&K.push(""):xe==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&oe==z.length&&K.push("")):(K.push(xe),w=!0)}w=K.join("/")}else w=z}return E?y.h=w:E=c.i.toString()!=="",E?fl(y,sc(c.i)):E=!!c.m,E&&(y.m=c.m),y};function Ct(c){return new bn(c)}function Bt(c,y,E){c.j=E?Ii(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Cr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function fl(c,y,E){y instanceof kr?(c.i=y,qa(c.i,c.l)):(E||(y=js(y,Ir)),c.i=new kr(y,c.l))}function $e(c,y,E){c.i.set(y,E)}function Vs(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ii(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function js(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,dn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function dn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var za=/[#\/\?@]/g,nc=/[#\?:]/g,ml=/[#\?]/g,Ir=/[#\?@]/g,ic=/#/g;function kr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function fn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ua(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=kr.prototype,i.add=function(c,y){fn(this),this.i=null,c=Nr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function rc(c,y){fn(c),y=Nr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function pl(c,y){return fn(c),y=Nr(c,y),c.g.has(y)}i.forEach=function(c,y){fn(this),this.g.forEach(function(E,w){E.forEach(function(z){c.call(y,z,w,this)},this)},this)};function gl(c,y){fn(c);let E=[];if(typeof y=="string")pl(c,y)&&(E=E.concat(c.g.get(Nr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}i.set=function(c,y){return fn(this),this.i=null,c=Nr(this,c),pl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=gl(this,c),c.length>0?String(c[0]):y):y};function Ba(c,y,E){rc(c,y),E.length>0&&(c.i=null,c.g.set(Nr(c,y),M(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var E=y[w];const z=Wi(E);E=gl(this,E);for(let K=0;K<E.length;K++){let oe=z;E[K]!==""&&(oe+="="+Wi(E[K])),c.push(oe)}}return this.i=c.join("&")};function sc(c){const y=new kr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Nr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function qa(c,y){y&&!c.j&&(fn(c),c.i=null,c.g.forEach(function(E,w){const z=w.toLowerCase();w!=z&&(rc(this,w),Ba(this,z,E))},c)),c.j=y}function ei(c,y){const E=new Xn;if(h.Image){const w=new Image;w.onload=v(Vn,E,"TestLoadImage: loaded",!0,y,w),w.onerror=v(Vn,E,"TestLoadImage: error",!1,y,w),w.onabort=v(Vn,E,"TestLoadImage: abort",!1,y,w),w.ontimeout=v(Vn,E,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function yl(c,y){const E=new Xn,w=new AbortController,z=setTimeout(()=>{w.abort(),Vn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(z),K.ok?Vn(E,"TestPingServer: ok",!0,y):Vn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Vn(E,"TestPingServer: error",!1,y)})}function Vn(c,y,E,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(E)}catch{}}function Dr(){this.g=new Ku}function ki(c){this.i=c.Sb||null,this.h=c.ab||!1}b(ki,$u),ki.prototype.g=function(){return new Ps(this.i,this.h)};function Ps(c,y){At.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ps,At),i=Ps.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ti(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ha(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ha(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Or(this):ti(this),this.readyState==3&&Ha(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Or(this))},i.Na=function(c){this.g&&(this.response=c,Or(this))},i.ga=function(){this.g&&Or(this)};function Or(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ti(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jn(c){let y="";return ke(c,function(E,w){y+=w,y+=":",y+=E,y+=`\r
`}),y}function Us(c,y,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=jn(E),typeof c=="string"?E!=null&&Wi(E):$e(c,y,E))}function Xe(c){At.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xe,At);var Ni=/^https?$/i,_l=["POST","PUT"];i=Xe.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ol.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){zs(this,K);return}if(c=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)E.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())E.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(_l,y,void 0)>=0)||w||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of E)this.g.setRequestHeader(K,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){zs(this,K)}};function zs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,vl(c),Xi(c)}function vl(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,jt(this,"complete"),jt(this,"abort"),Xi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),Xe.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Bs(this):this.Xa())},i.Xa=function(){Bs(this)};function Bs(c){if(c.h&&typeof u<"u"){if(c.v&&ni(c)==4)setTimeout(c.Ca.bind(c),0);else if(jt(c,"readystatechange"),ni(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var w;if(w=K===0){let oe=String(c.D).match(tc)[1]||null;!oe&&h.self&&h.self.location&&(oe=h.self.location.protocol.slice(0,-1)),w=!Ni.test(oe?oe.toLowerCase():"")}E=w}if(E)jt(c,"complete"),jt(c,"success");else{c.o=6;try{var z=ni(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",vl(c)}}finally{Xi(c)}}}}function Xi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||jt(c,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ni(c){return c.g?c.g.readyState:0}i.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Hd(y)}};function Gt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(c){const y={};c=(c.g&&ni(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(k(c[w]))continue;var E=Zu(c[w]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[z]||[];y[z]=K,K.push(E)}Be(y,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Mr(c){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,c),this.Za=Di("retryDelaySeedMs",1e4,c),this.Ta=Di("forwardChannelMaxRetries",2,c),this.va=Di("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ll(c&&c.concurrentRequestLimit),this.Ba=new Dr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Mr.prototype,i.ka=8,i.I=1,i.connect=function(c,y,E,w){wt(0),this.W=c,this.H=y||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=dc(this,null,this.W),Oi(this)};function El(c){if(Fa(c),c.I==3){var y=c.V++,E=Ct(c.J);if($e(E,"SID",c.M),$e(E,"RID",y),$e(E,"TYPE","terminate"),qs(c,E),y=new Zn(c,c.j,y),y.M=2,y.A=Vs(Ct(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=fc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ai(y)}hc(c)}function Lr(c){c.g&&(bl(c),c.g.cancel(),c.g=null)}function Fa(c){Lr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ka(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Oi(c){if(!ul(c.h)&&!c.m){c.m=!0;var y=c.Ea;ge||C(),he||(ge(),he=!0),I.add(y,c),c.D=0}}function Ga(c,y){return Ri(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ti(p(c.Ea,c,y),cc(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Zn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=V(K),le(K,this.U)):K=this.U),this.u!==null||this.R||(z.J=K,K=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=ac(this,z,y),E=Ct(this.J),$e(E,"RID",c),$e(E,"CVER",22),this.G&&$e(E,"X-HTTP-Session-Id",this.G),qs(this,E),K&&(this.R?y="headers="+Wi(jn(K))+"&"+y:this.u&&Us(E,this.u,K)),cl(this.h,z),this.Ra&&$e(E,"TYPE","init"),this.S?($e(E,"$req",y),$e(E,"SID","null"),z.U=!0,Si(z,E,null)):Si(z,E,y),this.I=2}}else this.I==3&&(c?Tl(this,c):this.i.length==0||ul(this.h)||Tl(this))};function Tl(c,y){var E;y?E=y.l:E=c.V++;const w=Ct(c.J);$e(w,"SID",c.M),$e(w,"RID",E),$e(w,"AID",c.K),qs(c,w),c.u&&c.o&&Us(w,c.u,c.o),E=new Zn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=ac(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),cl(c.h,E),Si(E,w,y)}function qs(c,y){c.H&&ke(c.H,function(E,w){$e(y,w,E)}),c.l&&ke({},function(E,w){$e(y,w,E)})}function ac(c,y,E){E=Math.min(c.i.length,E);const w=c.l?p(c.l.Ka,c.l,c):null;e:{var z=c.i;let xe=-1;for(;;){const vt=["count="+E];xe==-1?E>0?(xe=z[0].g,vt.push("ofs="+xe)):xe=0:vt.push("ofs="+xe);let Fe=!0;for(let ot=0;ot<E;ot++){var K=z[ot].g;const Pn=z[ot].map;if(K-=xe,K<0)xe=Math.max(0,z[ot].g-100),Fe=!1;else try{K="req"+K+"_"||"";try{var oe=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Li,ii]of oe){let ri=ii;m(ii)&&(ri=Rr(ii)),vt.push(K+Li+"="+encodeURIComponent(ri))}}catch(Li){throw vt.push(K+"type="+encodeURIComponent("_badmap")),Li}}catch{w&&w(Pn)}}if(Fe){oe=vt.join("&");break e}}oe=void 0}return c=c.i.splice(0,E),y.G=c,oe}function oc(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ge||C(),he||(ge(),he=!0),I.add(y,c),c.A=0}}function Hs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ti(p(c.Da,c),cc(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,lc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ti(p(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Lr(this),lc(this))};function bl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function lc(c){c.g=new Zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Ct(c.na);$e(y,"RID","rpc"),$e(y,"SID",c.M),$e(y,"AID",c.K),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(y,"TO",c.ia),$e(y,"TYPE","xmlhttp"),qs(c,y),c.u&&c.o&&Us(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Vs(Ct(y)),E.u=null,E.R=!0,ja(E,c)}i.Va=function(){this.C!=null&&(this.C=null,Lr(this),Hs(this),wt(19))};function Ka(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function uc(c,y){var E=null;if(c.g==y){Ka(c),bl(c),c.g=null;var w=2}else if(Ci(c.h,y))E=y.G,hl(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;w=Va(),jt(w,new Ei(w,E)),Oi(c)}else oc(c);else if(z=y.m,z==3||z==0&&y.X>0||!(w==1&&Ga(c,y)||w==2&&Hs(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),z){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function cc(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Mi(c,y){if(c.j.info("Error code "+y),y==2){var E=p(c.bb,c),w=c.Ua;const z=!w;w=new bn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Bt(w,"https"),Vs(w),z?ei(w.toString(),E):yl(w.toString(),E)}else wt(2);c.I=0,c.l&&c.l.pa(y),hc(c),Fa(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function hc(c){if(c.I=0,c.ja=[],c.l){const y=dl(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ja,y),G(c.ja,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.oa()}}function dc(c,y,E){var w=E instanceof bn?Ct(E):new bn(E);if(w.g!="")y&&(w.g=y+"."+w.g),Cr(w,w.u);else{var z=h.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const K=new bn(null);w&&Bt(K,w),y&&(K.g=y),z&&Cr(K,z),E&&(K.h=E),w=K}return E=c.G,y=c.wa,E&&y&&$e(w,E,y),$e(w,"VER",c.ka),qs(c,w),w}function fc(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new ki({ab:E})):new Xe(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}i=mc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Vr(){}Vr.prototype.g=function(c,y){return new on(c,y)};function on(c,y){At.call(this),this.g=new Mr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!k(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!k(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ji(this)}b(on,At),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){El(this.g)},on.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Rr(c),c=E);y.i.push(new Rt(y.Ya++,c)),y.I==3&&Oi(y)},on.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,on.Z.N.call(this)};function pc(c){Ft.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(pc,Ft);function gc(){Mn.call(this),this.status=1}b(gc,Mn);function Ji(c){this.g=c}b(Ji,mc),Ji.prototype.ra=function(){jt(this.g,"a")},Ji.prototype.qa=function(c){jt(this.g,new pc(c))},Ji.prototype.pa=function(c){jt(this.g,new gc)},Ji.prototype.oa=function(){jt(this.g,"b")},Vr.prototype.createWebChannel=Vr.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,KT=function(){return new Vr},GT=function(){return Va()},FT=_t,Sp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ms.NO_ERROR=0,Ms.TIMEOUT=8,Ms.HTTP_ERROR=6,Oh=Ms,al.COMPLETE="complete",HT=al,Qu.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",At.prototype.listen=At.prototype.J,hu=Qu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,qT=Xe}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Wo="12.8.0";function Ak(i){Wo=i}const fa=new fd("@firebase/firestore");function Ao(){return fa.logLevel}function ce(i,...e){if(fa.logLevel<=Le.DEBUG){const n=e.map(og);fa.debug(`Firestore (${Wo}): ${i}`,...n)}}function Sr(i,...e){if(fa.logLevel<=Le.ERROR){const n=e.map(og);fa.error(`Firestore (${Wo}): ${i}`,...n)}}function Vo(i,...e){if(fa.logLevel<=Le.WARN){const n=e.map(og);fa.warn(`Firestore (${Wo}): ${i}`,...n)}}function og(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Te(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,$T(i,s,n)}function $T(i,e,n){let s=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Sr(s),new Error(s)}function Ke(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||$T(e,o,s)}function we(i,e){return i}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class QT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class xk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Rk{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new QT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class Ck{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Ik{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Ck(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class y1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new y1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new y1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Nk(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class lg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Nk(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function Ap(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return ip(o)===ip(u)?Ve(o,u):ip(o)?1:-1}return Ve(i.length,e.length)}const Dk=55296,Ok=57343;function ip(i){const e=i.charCodeAt(0);return e>=Dk&&e<=Ok}function jo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const _1="__name__";class zi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=zi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=zi.isNumericId(e),o=zi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?zi.extractNumericId(e).compare(zi.extractNumericId(n)):Ap(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ms.fromString(e.substring(4,e.length-2))}}class it extends zi{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const Mk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends zi{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return Mk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_1}static keyField(){return new Xt([_1])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}function YT(i,e,n){if(!n)throw new ue(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Lk(i,e,n,s){if(e===!0&&s===!0)throw new ue(J.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function v1(i){if(!_e.isDocumentKey(i))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function E1(i){if(_e.isDocumentKey(i))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function WT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function _d(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function Nn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_d(i);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Lt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Uu(i,e){if(!WT(i))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(J.INVALID_ARGUMENT,n);return!0}const T1=-62135596800,b1=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*b1);return new tt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<T1)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b1}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uu(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-T1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:Lt("string",tt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new tt(0,0))}static max(){return new Se(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wu=-1;function Vk(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new tt(n+1,0):new tt(n,s));return new ys(o,_e.empty(),e)}function jk(i){return new ys(i.readTime,i.key,wu)}class ys{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ys(Se.min(),_e.empty(),wu)}static max(){return new ys(Se.max(),_e.empty(),wu)}}function Pk(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(i.documentKey,e.documentKey),n!==0?n:Ve(i.largestBatchId,e.largestBatchId))}const Uk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Xo(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==Uk)throw i;ce("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(g=>s(g)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((v=>{h[p]=v,++m,m===u&&s(h)}),(v=>o(v)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function Bk(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zo(i){return i.name==="IndexedDbTransactionError"}class vd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vd.ce=-1;const ug=-1;function Ed(i){return i==null}function Yh(i){return i===0&&1/i==-1/0}function qk(i){return typeof i=="number"&&Number.isInteger(i)&&!Yh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const XT="";function Hk(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=S1(e)),e=Fk(i.get(n),e);return S1(e)}function Fk(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case XT:n+="";break;default:n+=u}}return n}function S1(i){return i+XT+""}function A1(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ws(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function ZT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sh(this.root,e,this.comparator,!0)}}class Sh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Wt.RED,this.left=o??Wt.EMPTY,this.right=u??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Wt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w1(this.data.getIterator())}getIteratorFrom(e){return new w1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class w1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new kn([])}unionWith(e){let n=new Ut(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class JT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new JT("Invalid base64 string: "+u):u}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const Gk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const n=Gk.exec(i);if(Ke(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(i.seconds),nanos:bt(i.nanos)}}function bt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function vs(i){return typeof i=="string"?Zt.fromBase64String(i):Zt.fromUint8Array(i)}const e2="server_timestamp",t2="__type__",n2="__previous_value__",i2="__local_write_time__";function cg(i){return(i?.mapValue?.fields||{})[t2]?.stringValue===e2}function Td(i){const e=i.mapValue.fields[n2];return cg(e)?Td(e):e}function xu(i){const e=_s(i.mapValue.fields[i2].timestampValue);return new tt(e.seconds,e.nanos)}class Kk{constructor(e,n,s,o,u,h,m,g,p,v,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=v,this.apiKey=b}}const Wh="(default)";class Ru{constructor(e,n){this.projectId=e,this.database=n||Wh}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}function $k(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(i.options.projectId,e)}const r2="__type__",Qk="__max__",Ah={mapValue:{}},s2="__vector__",Xh="value";function Es(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?cg(i)?4:Wk(i)?9007199254740991:Yk(i)?10:11:Te(28295,{value:i})}function $i(i,e){if(i===e)return!0;const n=Es(i);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return xu(i).isEqual(xu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=_s(o.timestampValue),m=_s(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return vs(o.bytesValue).isEqual(vs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=bt(o.doubleValue),m=bt(u.doubleValue);return h===m?Yh(h)===Yh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return jo(i.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(A1(h)!==A1(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!$i(h[g],m[g])))return!1;return!0})(i,e);default:return Te(52216,{left:i})}}function Cu(i,e){return(i.values||[]).find((n=>$i(n,e)))!==void 0}function Po(i,e){if(i===e)return 0;const n=Es(i),s=Es(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=bt(u.integerValue||u.doubleValue),g=bt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return x1(i.timestampValue,e.timestampValue);case 4:return x1(xu(i),xu(e));case 5:return Ap(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=vs(u),g=vs(h);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const v=Ve(m[p],g[p]);if(v!==0)return v}return Ve(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(bt(u.latitude),bt(h.latitude));return m!==0?m:Ve(bt(u.longitude),bt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return R1(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},p=m[Xh]?.arrayValue,v=g[Xh]?.arrayValue,b=Ve(p?.values?.length||0,v?.values?.length||0);return b!==0?b:R1(p,v)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Ah.mapValue&&h===Ah.mapValue)return 0;if(u===Ah.mapValue)return 1;if(h===Ah.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},v=Object.keys(p);g.sort(),v.sort();for(let b=0;b<g.length&&b<v.length;++b){const x=Ap(g[b],v[b]);if(x!==0)return x;const M=Po(m[g[b]],p[v[b]]);if(M!==0)return M}return Ve(g.length,v.length)})(i.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function x1(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const n=_s(i),s=_s(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function R1(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Po(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function Uo(i){return wp(i)}function wp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=_s(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return vs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return _e.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=wp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${wp(n.fields[h])}`;return o+"}"})(i.mapValue):Te(61005,{value:i})}function Mh(i){switch(Es(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Td(i);return e?16+Mh(e):16;case 5:return 2*i.stringValue.length;case 6:return vs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Mh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ws(s.fields,((u,h)=>{o+=u.length+Mh(h)})),o})(i.mapValue);default:throw Te(13486,{value:i})}}function C1(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function xp(i){return!!i&&"integerValue"in i}function hg(i){return!!i&&"arrayValue"in i}function I1(i){return!!i&&"nullValue"in i}function k1(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Lh(i){return!!i&&"mapValue"in i}function Yk(i){return(i?.mapValue?.fields||{})[r2]?.stringValue===s2}function yu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ws(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=yu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yu(i.arrayValue.values[n]);return e}return{...i}}function Wk(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Qk}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=yu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Lh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ws(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new En(yu(this.value))}}function a2(i){const e=[];return ws(i.fields,((n,s)=>{const o=new Xt([n]);if(Lh(s)){const u=a2(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new kn(e)}class nn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Se.min(),Se.min(),Se.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Se.min(),Se.min(),En.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Se.min(),Se.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zh{constructor(e,n){this.position=e,this.inclusive=n}}function N1(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),n.key):s=Po(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function D1(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!$i(i.position[n],e.position[n]))return!1;return!0}class Iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Xk(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class o2{}class Mt extends o2{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Jk(e,n,s):n==="array-contains"?new n4(e,s):n==="in"?new i4(e,s):n==="not-in"?new r4(e,s):n==="array-contains-any"?new s4(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new e4(e,s):new t4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Po(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends o2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new pi(e,n)}matches(e){return l2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function l2(i){return i.op==="and"}function u2(i){return Zk(i)&&l2(i)}function Zk(i){for(const e of i.filters)if(e instanceof pi)return!1;return!0}function Rp(i){if(i instanceof Mt)return i.field.canonicalString()+i.op.toString()+Uo(i.value);if(u2(i))return i.filters.map((e=>Rp(e))).join(",");{const e=i.filters.map((n=>Rp(n))).join(",");return`${i.op}(${e})`}}function c2(i,e){return i instanceof Mt?(function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&$i(s.value,o.value)})(i,e):i instanceof pi?(function(s,o){return o instanceof pi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&c2(h,o.filters[m])),!0):!1})(i,e):void Te(19439)}function h2(i){return i instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Uo(n.value)}`})(i):i instanceof pi?(function(n){return n.op.toString()+" {"+n.getFilters().map(h2).join(" ,")+"}"})(i):"Filter"}class Jk extends Mt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class e4 extends Mt{constructor(e,n){super(e,"in",n),this.keys=d2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class t4 extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=d2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function d2(i,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class n4 extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hg(n)&&Cu(n.arrayValue,this.value)}}class i4 extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cu(this.value.arrayValue,n)}}class r4 extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cu(this.value.arrayValue,n)}}class s4 extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Cu(this.value.arrayValue,s)))}}class a4{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function O1(i,e=null,n=[],s=[],o=null,u=null,h=null){return new a4(i,e,n,s,o,u,h)}function dg(i){const e=we(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Rp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Uo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Uo(s))).join(",")),e.Te=n}return e.Te}function fg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Xk(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!c2(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!D1(i.startAt,e.startAt)&&D1(i.endAt,e.endAt)}function Cp(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Jo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function o4(i,e,n,s,o,u,h,m){return new Jo(i,e,n,s,o,u,h,m)}function bd(i){return new Jo(i)}function M1(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function l4(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function f2(i){return i.collectionGroup!==null}function _u(i){const e=we(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ut(Xt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Iu(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new Iu(Xt.keyField(),s))}return e.Ie}function Hi(i){const e=we(i);return e.Ee||(e.Ee=u4(e,_u(i))),e.Ee}function u4(i,e){if(i.limitType==="F")return O1(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Iu(o.field,u)}));const n=i.endAt?new Zh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Zh(i.startAt.position,i.startAt.inclusive):null;return O1(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Ip(i,e){const n=i.filters.concat([e]);return new Jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function c4(i,e){const n=i.explicitOrderBy.concat([e]);return new Jo(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function kp(i,e,n){return new Jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Sd(i,e){return fg(Hi(i),Hi(e))&&i.limitType===e.limitType}function m2(i){return`${dg(Hi(i))}|lt:${i.limitType}`}function wo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>h2(o))).join(", ")}]`),Ed(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Uo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Uo(o))).join(",")),`Target(${s})`})(Hi(i))}; limitType=${i.limitType})`}function Ad(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of _u(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const p=N1(h,m,g);return h.inclusive?p<=0:p<0})(s.startAt,_u(s),o)||s.endAt&&!(function(h,m,g){const p=N1(h,m,g);return h.inclusive?p>=0:p>0})(s.endAt,_u(s),o))})(i,e)}function h4(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function p2(i){return(e,n)=>{let s=!1;for(const o of _u(i)){const u=d4(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function d4(i,e,n){const s=i.field.isKeyField()?_e.comparator(e.key,n.key):(function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?Po(g,p):Te(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return ZT(this.inner)}size(){return this.innerSize}}const f4=new ft(_e.comparator);function Ar(){return f4}const g2=new ft(_e.comparator);function du(...i){let e=g2;for(const n of i)e=e.insert(n.key,n);return e}function y2(i){let e=g2;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function la(){return vu()}function _2(){return vu()}function vu(){return new Ea((i=>i.toString()),((i,e)=>i.isEqual(e)))}const m4=new ft(_e.comparator),p4=new Ut(_e.comparator);function je(...i){let e=p4;for(const n of i)e=e.add(n);return e}const g4=new Ut(Ve);function y4(){return g4}function mg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(e)?"-0":e}}function v2(i){return{integerValue:""+i}}function _4(i,e){return qk(e)?v2(e):mg(i,e)}class wd{constructor(){this._=void 0}}function v4(i,e,n){return i instanceof ku?(function(o,u){const h={fields:{[t2]:{stringValue:e2},[i2]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&cg(u)&&(u=Td(u)),u&&(h.fields[n2]=u),{mapValue:h}})(n,e):i instanceof Nu?T2(i,e):i instanceof Du?b2(i,e):(function(o,u){const h=E2(o,u),m=L1(h)+L1(o.Ae);return xp(h)&&xp(o.Ae)?v2(m):mg(o.serializer,m)})(i,e)}function E4(i,e,n){return i instanceof Nu?T2(i,e):i instanceof Du?b2(i,e):n}function E2(i,e){return i instanceof Jh?(function(s){return xp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class ku extends wd{}class Nu extends wd{constructor(e){super(),this.elements=e}}function T2(i,e){const n=S2(e);for(const s of i.elements)n.some((o=>$i(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Du extends wd{constructor(e){super(),this.elements=e}}function b2(i,e){let n=S2(e);for(const s of i.elements)n=n.filter((o=>!$i(o,s)));return{arrayValue:{values:n}}}class Jh extends wd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function L1(i){return bt(i.integerValue||i.doubleValue)}function S2(i){return hg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class T4{constructor(e,n){this.field=e,this.transform=n}}function b4(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Nu&&o instanceof Nu||s instanceof Du&&o instanceof Du?jo(s.elements,o.elements,$i):s instanceof Jh&&o instanceof Jh?$i(s.Ae,o.Ae):s instanceof ku&&o instanceof ku})(i.transform,e.transform)}class S4{constructor(e,n){this.version=e,this.transformResults=n}}class hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class xd{}function A2(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new pg(i.key,hi.none()):new zu(i.key,i.data,hi.none());{const n=i.data,s=En.empty();let o=new Ut(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new xs(i.key,s,new kn(o.toArray()),hi.none())}}function A4(i,e,n){i instanceof zu?(function(o,u,h){const m=o.value.clone(),g=j1(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof xs?(function(o,u,h){if(!Vh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=j1(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(w2(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Eu(i,e,n,s){return i instanceof zu?(function(u,h,m,g){if(!Vh(u.precondition,h))return m;const p=u.value.clone(),v=P1(u.fieldTransforms,g,h);return p.setAll(v),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(i,e,n,s):i instanceof xs?(function(u,h,m,g){if(!Vh(u.precondition,h))return m;const p=P1(u.fieldTransforms,g,h),v=h.data;return v.setAll(w2(u)),v.setAll(p),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,n,s):(function(u,h,m){return Vh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function w4(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=E2(s.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(s.field,u))}return n||null}function V1(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&jo(s,o,((u,h)=>b4(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class zu extends xd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xs extends xd{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function w2(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function j1(i,e,n){const s=new Map;Ke(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,E4(h,m,n[o]))}return s}function P1(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,v4(u,h,e))}return s}class pg extends xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class x4 extends xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class R4{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&A4(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Eu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Eu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=_2();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=A2(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,((n,s)=>V1(n,s)))&&jo(this.baseMutations,e.baseMutations,((n,s)=>V1(n,s)))}}class gg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return m4})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new gg(e,n,s,o)}}class C4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class I4{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ot,ze;function k4(i){switch(i){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function x2(i){if(i===void 0)return Sr("GRPC error has no .code"),J.UNKNOWN;switch(i){case Ot.OK:return J.OK;case Ot.CANCELLED:return J.CANCELLED;case Ot.UNKNOWN:return J.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return J.INTERNAL;case Ot.UNAVAILABLE:return J.UNAVAILABLE;case Ot.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ot.NOT_FOUND:return J.NOT_FOUND;case Ot.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ot.ABORTED:return J.ABORTED;case Ot.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ot.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:i})}}(ze=Ot||(Ot={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function N4(){return new TextEncoder}const D4=new ms([4294967295,4294967295],0);function U1(i){const e=N4().encode(i),n=new BT;return n.update(e),new Uint8Array(n.digest())}function z1(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ms([n,s],0),new ms([o,u],0)]}class yg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new fu(`Invalid padding: ${n}`);if(s<0)throw new fu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new fu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ms.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ms.fromNumber(s)));return o.compare(D4)===1&&(o=new ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=U1(e),[s,o]=z1(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new yg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=U1(e),[s,o]=z1(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rd{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Bu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Rd(Se.min(),o,new ft(Ve),Ar(),je())}}class Bu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Bu(s,n,je(),je(),je())}}class jh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class R2{constructor(e,n){this.targetId=e,this.Ce=n}}class C2{constructor(e,n,s=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class B1{constructor(){this.ve=0,this.Fe=q1(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),s=je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}})),new Bu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=q1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class O4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ar(),this.He=wh(),this.Je=wh(),this.Ze=new ft(Ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Cp(u))if(s===0){const h=new _e(u.path);this.et(n,h,nn.newNoDocument(h,Se.min()))}else Ke(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=vs(s).toUint8Array()}catch(g){if(g instanceof JT)return Vo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new yg(h,o,u)}catch(g){return Vo(g instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Cp(m.target)){const g=new _e(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,nn.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=je();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Rd(e,n,this.Ze,this.je,s);return this.je=Ar(),this.He=wh(),this.Je=wh(),this.Ze=new ft(Ve),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new B1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ut(Ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ut(Ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new B1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function wh(){return new ft(_e.comparator)}function q1(){return new ft(_e.comparator)}const M4={asc:"ASCENDING",desc:"DESCENDING"},L4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V4={and:"AND",or:"OR"};class j4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Np(i,e){return i.useProto3Json||Ed(e)?e:{value:e}}function ed(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function I2(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function P4(i,e){return ed(i,e.toTimestamp())}function Fi(i){return Ke(!!i,49232),Se.fromTimestamp((function(n){const s=_s(n);return new tt(s.seconds,s.nanos)})(i))}function _g(i,e){return Dp(i,e).canonicalString()}function Dp(i,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function k2(i){const e=it.fromString(i);return Ke(L2(e),10190,{key:e.toString()}),e}function Op(i,e){return _g(i.databaseId,e.path)}function rp(i,e){const n=k2(e);if(n.get(1)!==i.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _e(D2(n))}function N2(i,e){return _g(i.databaseId,e)}function U4(i){const e=k2(i);return e.length===4?it.emptyPath():D2(e)}function Mp(i){return new it(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function D2(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function H1(i,e,n){return{name:Op(i,e),fields:n.value.mapValue.fields}}function z4(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,v){return p.useProto3Json?(Ke(v===void 0||typeof v=="string",58123),Zt.fromBase64String(v||"")):(Ke(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Zt.fromUint8Array(v||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const v=p.code===void 0?J.UNKNOWN:x2(p.code);return new ue(v,p.message||"")})(h);n=new C2(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=rp(i,s.document.name),u=Fi(s.document.updateTime),h=s.document.createTime?Fi(s.document.createTime):Se.min(),m=new En({mapValue:{fields:s.document.fields}}),g=nn.newFoundDocument(o,u,h,m),p=s.targetIds||[],v=s.removedTargetIds||[];n=new jh(p,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=rp(i,s.document),u=s.readTime?Fi(s.readTime):Se.min(),h=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new jh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=rp(i,s.document),u=s.removedTargetIds||[];n=new jh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new I4(o,u),m=s.targetId;n=new R2(m,h)}}return n}function B4(i,e){let n;if(e instanceof zu)n={update:H1(i,e.key,e.value)};else if(e instanceof pg)n={delete:Op(i,e.key)};else if(e instanceof xs)n={update:H1(i,e.key,e.data),updateMask:W4(e.fieldMask)};else{if(!(e instanceof x4))return Te(16599,{dt:e.type});n={verify:Op(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof ku)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Nu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Du)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Jh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:P4(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(i,e.precondition)),n}function q4(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Fi(o.updateTime):Fi(u);return h.isEqual(Se.min())&&(h=Fi(u)),new S4(h,o.transformResults||[])})(n,e)))):[]}function H4(i,e){return{documents:[N2(i,e.path)]}}function F4(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=N2(i,o);const u=(function(p){if(p.length!==0)return M2(pi.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((v=>(function(x){return{field:xo(x.field),direction:$4(x.dir)}})(v)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Np(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function G4(i){let e=U4(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(b){const x=O2(b);return x instanceof pi&&u2(x)?x.getFilters():[x]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((x=>(function(G){return new Iu(Ro(G.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(x)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let x;return x=typeof b=="object"?b.value:b,Ed(x)?null:x})(n.limit));let g=null;n.startAt&&(g=(function(b){const x=!!b.before,M=b.values||[];return new Zh(M,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const x=!b.before,M=b.values||[];return new Zh(M,x)})(n.endAt)),o4(e,o,h,u,m,"F",g,p)}function K4(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function O2(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ro(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ro(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ro(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ro(n.unaryFilter.field);return Mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Mt.create(Ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return pi.create(n.compositeFilter.filters.map((s=>O2(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(i):Te(30097,{filter:i})}function $4(i){return M4[i]}function Q4(i){return L4[i]}function Y4(i){return V4[i]}function xo(i){return{fieldPath:i.canonicalString()}}function Ro(i){return Xt.fromServerFormat(i.fieldPath)}function M2(i){return i instanceof Mt?(function(n){if(n.op==="=="){if(k1(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NAN"}};if(I1(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(k1(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NAN"}};if(I1(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(n.field),op:Q4(n.op),value:n.value}}})(i):i instanceof pi?(function(n){const s=n.getFilters().map((o=>M2(o)));return s.length===1?s[0]:{compositeFilter:{op:Y4(n.op),filters:s}}})(i):Te(54877,{filter:i})}function W4(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function L2(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function V2(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class cs{constructor(e,n,s,o,u=Se.min(),h=Se.min(),m=Zt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class X4{constructor(e){this.yt=e}}function Z4(i){const e=G4({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?kp(e,e.limit,"L"):e}class J4{constructor(){this.Sn=new eN}addToCollectionParentIndex(e,n){return this.Sn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ys.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class eN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(it.comparator)).toArray()}}const F1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j2=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(j2,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class zo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new zo(0)}static ar(){return new zo(-1)}}const G1="LruGarbageCollector",tN=1048576;function K1([i,e],[n,s]){const o=Ve(i,n);return o===0?Ve(e,s):o}class nN{constructor(e){this.Pr=e,this.buffer=new Ut(K1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();K1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(G1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zo(n)?ce(G1,"Ignoring IndexedDB error during garbage collection: ",n):await Xo(n)}await this.Ar(3e5)}))}}class rN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(vd.ce);const s=new nN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(F1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,m,g,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),Ao()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(p-g)+`ms
Total Duration: ${p-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function sN(i,e){return new rN(i,e)}class aN{constructor(){this.changes=new Ea((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class lN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Eu(s.mutation,o,kn.empty(),tt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=je()){const o=la();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=du();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=la();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,je())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Ar();const h=vu(),m=(function(){return vu()})();return n.forEach(((g,p)=>{const v=s.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof xs)?u=u.insert(p.key,p):v!==void 0?(h.set(p.key,v.mutation.getFieldMask()),Eu(v.mutation,p,v.mutation.getFieldMask(),tt.now())):h.set(p.key,kn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,v)=>h.set(p,v))),n.forEach(((p,v)=>m.set(p,new oN(v,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=vu();let o=new ft(((h,m)=>h-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let v=s.get(g)||kn.empty();v=m.applyToLocalView(p,v),s.set(g,v);const b=(o.get(m.batchId)||je()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,v=g.value,b=_2();v.forEach((x=>{if(!u.has(x)){const M=A2(n.get(x),s.get(x));M!==null&&b.set(x,M),u=u.add(x)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return l4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):f2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(la());let m=wu,g=u;return h.next((p=>ne.forEach(p,((v,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next((x=>{g=g.insert(v,x)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,je()))).next((v=>({batchId:m,changes:y2(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let o=du();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=du();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(g=>{const p=(function(b,x){return new Jo(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((v=>{v.forEach(((b,x)=>{h=h.insert(b,x)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((g,p)=>{const v=p.getKey();h.get(v)===null&&(h=h.insert(v,nn.newInvalidDocument(v)))}));let m=du();return h.forEach(((g,p)=>{const v=u.get(g);v!==void 0&&Eu(v.mutation,p,kn.empty(),tt.now()),Ad(n,p)&&(m=m.insert(g,p))})),m}))}}class uN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ne.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Fi(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:Z4(o.bundledQuery),readTime:Fi(o.readTime)}})(n)),ne.resolve()}}class cN{constructor(){this.overlays=new ft(_e.comparator),this.Lr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=la();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=la(),u=n.length+1,h=new _e(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ft(((p,v)=>p-v));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let v=u.get(p.largestBatchId);v===null&&(v=la(),u=u.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const m=la(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,v)=>m.set(p,v))),!(m.size()>=o)););return ne.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new C4(n,s));let u=this.Lr.get(n);u===void 0&&(u=je(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class hN{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class vg{constructor(){this.kr=new Ut(Ht.Kr),this.qr=new Ut(Ht.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Ht(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Ht(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new _e(new it([])),s=new Ht(n,e),o=new Ht(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new _e(new it([])),s=new Ht(n,e),o=new Ht(n,e+1);let u=je();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Ht(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return _e.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||_e.comparator(e.key,n.key)}}class dN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ut(Ht.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new R4(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Ht(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?ug:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ht(n,0),o=new Ht(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(Ve);return n.forEach((o=>{const u=new Ht(o,0),h=new Ht(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),ne.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const h=new Ht(new _e(u),0);let m=new Ut(Ve);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)}),h),ne.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ne.forEach(n.mutations,(o=>{const u=new Ht(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Ht(n,0),o=this.Jr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class fN{constructor(e){this.ti=e,this.docs=(function(){return new ft(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=Ar();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ar();const h=n.path,m=new _e(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:v}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||Pk(jk(v),s)<=0||(o.has(v.key)||Ad(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ni(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new mN(this)}getSize(e){return ne.resolve(this.size)}}class mN extends aN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class pN{constructor(e){this.persistence=e,this.ri=new Ea((n=>dg(n)),fg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new vg,this.targetCount=0,this.oi=zo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ne.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new zo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.lr(n),ne.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this.si.containsKey(n))}}class P2{constructor(e,n){this._i={},this.overlays={},this.ai=new vd(0),this.ui=!1,this.ui=!0,this.ci=new hN,this.referenceDelegate=e(this),this.li=new pN(this),this.indexManager=new J4,this.remoteDocumentCache=(function(o){return new fN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new X4(n),this.Pi=new uN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new dN(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new gN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ne.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class gN extends zk{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Ri=new vg,this.Ai=null}static Vi(e){return new Eg(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(s=>{const o=_e.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class td{constructor(e,n){this.persistence=e,this.fi=new Ea((s=>Hk(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=sN(this,n)}static Vi(e,n){return new td(e,n)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ne.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mh(e.data.value)),n}wr(e,n,s){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Tg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tg(e,n.fromCache,s,o)}}class yN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _N{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return qx()?8:Bk(sn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new yN;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(Ao()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(Ao()<=Le.DEBUG&&ce("QueryEngine","Query:",wo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Ao()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(n))):ne.resolve())}gs(e,n){if(M1(n))return ne.resolve(null);let s=Hi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=kp(n,null,"F"),s=Hi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=je(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.bs(n,m);return this.Ss(n,p,h,g.readTime)?this.gs(e,kp(n,null,"F")):this.Ds(e,p,n,g)}))))})))))}ps(e,n,s,o){return M1(n)||o.isEqual(Se.min())?ne.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?ne.resolve(null):(Ao()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wo(n)),this.Ds(e,h,n,Vk(o,wu)).next((m=>m)))}))}bs(e,n){let s=new Ut(p2(e));return n.forEach(((o,u)=>{Ad(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return Ao()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",wo(n)),this.fs.getDocumentsMatchingQuery(e,n,ys.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const bg="LocalStore",vN=3e8;class EN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ft(Ve),this.Fs=new Ea((u=>dg(u)),fg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function TN(i,e,n,s){return new EN(i,e,n,s)}async function U2(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let g=je();for(const p of o){h.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}for(const p of u){m.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ns:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function bN(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,v){const b=p.batch,x=b.keys();let M=ne.resolve();return x.forEach((G=>{M=M.next((()=>v.getEntry(g,G))).next((Y=>{const $=p.docVersions.get(G);Ke($!==null,48541),Y.version.compareTo($)<0&&(b.applyToRemoteDocument(Y,p),Y.isValidDocument()&&(Y.setReadTime(p.commitVersion),v.addEntry(Y)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=je();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function z2(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function SN(i,e){const n=we(i),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((v,b)=>{const x=o.get(b);if(!x)return;m.push(n.li.removeMatchingKeys(u,v.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,v.addedDocuments,b))));let M=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?M=M.withResumeToken(Zt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(v.resumeToken,s)),o=o.insert(b,M),(function(Y,$,re){return Y.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=vN?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0})(x,M,v)&&m.push(n.li.updateTargetData(u,M))}));let g=Ar(),p=je();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(AN(u,h,e.documentUpdates).next((v=>{g=v.Bs,p=v.Ls}))),!s.isEqual(Se.min())){const v=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.vs=o,u)))}function AN(i,e,n){let s=je(),o=je();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Ar();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ce(bg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function wN(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ug),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function xN(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new cs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Lp(i,e,n){const s=we(i),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Zo(h))throw h;ce(bg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function $1(i,e,n){const s=we(i);let o=Se.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,v){const b=we(g),x=b.Fs.get(v);return x!==void 0?ne.resolve(b.vs.get(x)):b.li.getTargetData(p,v)})(s,h,Hi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Se.min(),n?u:je()))).next((m=>(RN(s,h4(e),m),{documents:m,ks:u})))))}function RN(i,e,n){let s=i.Ms.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Ms.set(e,s)}class Q1{constructor(){this.activeTargetIds=y4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CN{constructor(){this.vo=new Q1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Q1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class IN{Mo(e){}shutdown(){}}const Y1="ConnectivityMonitor";class W1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(Y1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(Y1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xh=null;function Vp(){return xh===null?xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():xh++,"0x"+xh.toString(16)}const sp="RestConnection",kN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class NN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Wh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=Vp(),m=this.Qo(e,n.toUriEncodedString());ce(sp,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:p}=new URL(m),v=Ko(p);return this.zo(e,m,g,s,v).then((b=>(ce(sp,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw Vo(sp,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=kN[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class DN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",lu=(i,e,n)=>{i.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Do extends NN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Do.c_){const e=GT();lu(e,FT.STAT_EVENT,(n=>{n.stat===Sp.PROXY?ce(en,"STAT_EVENT: detected buffering proxy"):n.stat===Sp.NOPROXY&&ce(en,"STAT_EVENT: detected no buffering proxy")})),Do.c_=!0}}zo(e,n,s,o,u){const h=Vp();return new Promise(((m,g)=>{const p=new qT;p.setWithCredentials(!0),p.listenOnce(HT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Oh.NO_ERROR:const b=p.getResponseJson();ce(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case Oh.TIMEOUT:ce(en,`RPC '${e}' ${h} timed out`),g(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:const x=p.getStatus();if(ce(en,`RPC '${e}' ${h} failed with status:`,x,"response text:",p.getResponseText()),x>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const G=M?.error;if(G&&G.status&&G.message){const Y=(function(re){const ie=re.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ie)>=0?ie:J.UNKNOWN})(G.status);g(new ue(Y,G.message))}else g(new ue(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(en,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(o);ce(en,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",v,s,15)}))}T_(e,n,s){const o=Vp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const p=u.join("");ce(en,`Creating RPC '${e}' stream ${o}: ${p}`,m);const v=h.createWebChannel(p,m);this.I_(v);let b=!1,x=!1;const M=new DN({Ho:G=>{x?ce(en,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(b||(ce(en,`Opening RPC '${e}' stream ${o} transport.`),v.open(),b=!0),ce(en,`RPC '${e}' stream ${o} sending:`,G),v.send(G))},Jo:()=>v.close()});return lu(v,hu.EventType.OPEN,(()=>{x||(ce(en,`RPC '${e}' stream ${o} transport opened.`),M.i_())})),lu(v,hu.EventType.CLOSE,(()=>{x||(x=!0,ce(en,`RPC '${e}' stream ${o} transport closed`),M.o_(),this.E_(v))})),lu(v,hu.EventType.ERROR,(G=>{x||(x=!0,Vo(en,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),M.o_(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),lu(v,hu.EventType.MESSAGE,(G=>{if(!x){const Y=G.data[0];Ke(!!Y,16349);const $=Y,re=$?.error||$[0]?.error;if(re){ce(en,`RPC '${e}' stream ${o} received error:`,re);const ie=re.status;let ae=(function(he){const I=Ot[he];if(I!==void 0)return x2(I)})(ie),se=re.message;ae===void 0&&(ae=J.INTERNAL,se="Unknown error status: "+ie+" with message "+re.message),x=!0,M.o_(new ue(ae,se)),v.close()}else ce(en,`RPC '${e}' stream ${o} received:`,Y),M.__(Y)}})),Do.u_(),setTimeout((()=>{M.s_()}),0),M}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return KT()}}function ON(i){return new Do(i)}function ap(){return typeof document<"u"?document:null}function Cd(i){return new j4(i,!0)}Do.c_=!1;class B2{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const X1="PersistentStream";class q2{constructor(e,n,s,o,u,h,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new B2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(X1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(X1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MN extends q2{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=z4(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?Fi(h.readTime):Se.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Mp(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=Cp(g)?{documents:H4(u,g)}:{query:F4(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=I2(u,h.resumeToken);const p=Np(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=ed(u,h.snapshotVersion.toTimestamp());const p=Np(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=K4(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Mp(this.serializer),n.removeTarget=e,this.K_(n)}}class LN extends q2{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=q4(e.writeResults,e.commitTime),s=Fi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Mp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>B4(this.serializer,s)))};this.K_(n)}}class VN{}class jN extends VN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,Dp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(J.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Dp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function PN(i,e,n,s){return new jN(i,e,n,s)}class UN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Sr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ma="RemoteStore";class zN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{Ta(this)&&(ce(ma,"Restarting streams for network reachability change."),await(async function(g){const p=we(g);p.Ea.add(4),await qu(p),p.Va.set("Unknown"),p.Ea.delete(4),await Id(p)})(this))}))})),this.Va=new UN(s,o)}}async function Id(i){if(Ta(i))for(const e of i.Ra)await e(!0)}async function qu(i){for(const e of i.Ra)await e(!1)}function H2(i,e){const n=we(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),xg(n)?wg(n):el(n).O_()&&Ag(n,e))}function Sg(i,e){const n=we(i),s=el(n);n.Ia.delete(e),s.O_()&&F2(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ta(n)&&n.Va.set("Unknown"))}function Ag(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}el(i).Z_(e)}function F2(i,e){i.da.$e(e),el(i).X_(e)}function wg(i){i.da=new O4({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),el(i).start(),i.Va.ua()}function xg(i){return Ta(i)&&!el(i).x_()&&i.Ia.size>0}function Ta(i){return we(i).Ea.size===0}function G2(i){i.da=void 0}async function BN(i){i.Va.set("Online")}async function qN(i){i.Ia.forEach(((e,n)=>{Ag(i,e)}))}async function HN(i,e){G2(i),xg(i)?(i.Va.ha(e),wg(i)):i.Va.set("Unknown")}async function FN(i,e,n){if(i.Va.set("Online"),e instanceof C2&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(s){ce(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await nd(i,s)}else if(e instanceof jh?i.da.Xe(e):e instanceof R2?i.da.st(e):i.da.tt(e),!n.isEqual(Se.min()))try{const s=await z2(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const v=u.Ia.get(p);v&&u.Ia.set(p,v.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const v=u.Ia.get(g);if(!v)return;u.Ia.set(g,v.withResumeToken(Zt.EMPTY_BYTE_STRING,v.snapshotVersion)),F2(u,g);const b=new cs(v.target,g,p,v.sequenceNumber);Ag(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ce(ma,"Failed to raise snapshot:",s),await nd(i,s)}}async function nd(i,e,n){if(!Zo(e))throw e;i.Ea.add(1),await qu(i),i.Va.set("Offline"),n||(n=()=>z2(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ce(ma,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Id(i)}))}function K2(i,e){return e().catch((n=>nd(i,n,e)))}async function kd(i){const e=we(i),n=Ts(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ug;for(;GN(e);)try{const o=await wN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,KN(e,o)}catch(o){await nd(e,o)}$2(e)&&Q2(e)}function GN(i){return Ta(i)&&i.Ta.length<10}function KN(i,e){i.Ta.push(e);const n=Ts(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function $2(i){return Ta(i)&&!Ts(i).x_()&&i.Ta.length>0}function Q2(i){Ts(i).start()}async function $N(i){Ts(i).ra()}async function QN(i){const e=Ts(i);for(const n of i.Ta)e.ea(n.mutations)}async function YN(i,e,n){const s=i.Ta.shift(),o=gg.from(s,e,n);await K2(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await kd(i)}async function WN(i,e){e&&Ts(i).Y_&&await(async function(s,o){if((function(h){return k4(h)&&h!==J.ABORTED})(o.code)){const u=s.Ta.shift();Ts(s).B_(),await K2(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await kd(s)}})(i,e),$2(i)&&Q2(i)}async function Z1(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),ce(ma,"RemoteStore received new credentials");const s=Ta(n);n.Ea.add(3),await qu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Id(n)}async function XN(i,e){const n=we(i);e?(n.Ea.delete(2),await Id(n)):e||(n.Ea.add(2),await qu(n),n.Va.set("Unknown"))}function el(i){return i.ma||(i.ma=(function(n,s,o){const u=we(n);return u.sa(),new MN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:BN.bind(null,i),Yo:qN.bind(null,i),t_:HN.bind(null,i),J_:FN.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),xg(i)?wg(i):i.Va.set("Unknown")):(await i.ma.stop(),G2(i))}))),i.ma}function Ts(i){return i.fa||(i.fa=(function(n,s,o){const u=we(n);return u.sa(),new LN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:$N.bind(null,i),t_:WN.bind(null,i),ta:QN.bind(null,i),na:YN.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await kd(i)):(await i.fa.stop(),i.Ta.length>0&&(ce(ma,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Rg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Rg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(i,e){if(Sr("AsyncQueue",`${e}: ${i}`),Zo(i))return new ue(J.UNAVAILABLE,`${e}: ${i}`);throw i}class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=du(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Oo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class J1{constructor(){this.ga=new ft(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Bo{constructor(e,n,s,o,u,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Bo(e,n,Oo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class ZN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class JN{constructor(){this.queries=eE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=eE(),u.forEach(((h,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function eE(){return new Ea((i=>m2(i)),Sd)}async function Ig(i,e){const n=we(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new ZN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Cg(h,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Ng(n)}async function kg(i,e){const n=we(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function e6(i,e){const n=we(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&Ng(n)}function t6(i,e,n){const s=we(i),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Ng(i){i.Ca.forEach((e=>{e.next()}))}var jp,tE;(tE=jp||(jp={})).Ma="default",tE.Cache="cache";class Dg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Bo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jp.Cache}}class Y2{constructor(e){this.key=e}}class W2{constructor(e){this.key=e}}class n6{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=p2(e),this.tu=new Oo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new J1,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,b)=>{const x=o.get(v),M=Ad(this.query,b)?b:null,G=!!x&&this.mutatedKeys.has(x.key),Y=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let $=!1;x&&M?x.data.isEqual(M.data)?G!==Y&&(s.track({type:3,doc:M}),$=!0):this.su(x,M)||(s.track({type:2,doc:M}),$=!0,(g&&this.eu(M,g)>0||p&&this.eu(M,p)<0)&&(m=!0)):!x&&M?(s.track({type:0,doc:M}),$=!0):x&&!M&&(s.track({type:1,doc:x}),$=!0,(g||p)&&(m=!0)),$&&(M?(h=h.add(M),u=Y?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((v,b)=>(function(M,G){const Y=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:$})}};return Y(M)-Y(G)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Xa;return this.Xa=g,h.length!==0||p?{snapshot:new Bo(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new J1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new W2(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new Y2(s))})),n}cu(e){this.Za=e.ks,this.Ya=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Og="SyncEngine";class i6{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class r6{constructor(e){this.key=e,this.hu=!1}}class s6{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ea((m=>m2(m)),Sd),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(_e.comparator),this.Au=new Map,this.Vu=new vg,this.du={},this.mu=new Map,this.fu=zo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function a6(i,e,n=!0){const s=nb(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await X2(s,e,n,!0),o}async function o6(i,e){const n=nb(i);await X2(n,e,!0,!1)}async function X2(i,e,n,s){const o=await xN(i.localStore,Hi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await l6(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&H2(i.remoteStore,o),m}async function l6(i,e,n,s,o){i.pu=(b,x,M)=>(async function(Y,$,re,ie){let ae=$.view.ru(re);ae.Ss&&(ae=await $1(Y.localStore,$.query,!1).then((({documents:I})=>$.view.ru(I,ae))));const se=ie&&ie.targetChanges.get($.targetId),ge=ie&&ie.targetMismatches.get($.targetId)!=null,he=$.view.applyChanges(ae,Y.isPrimaryClient,se,ge);return iE(Y,$.targetId,he.au),he.snapshot})(i,b,x,M);const u=await $1(i.localStore,e,!0),h=new n6(e,u.ks),m=h.ru(u.documents),g=Bu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),p=h.applyChanges(m,i.isPrimaryClient,g);iE(i,n,p.au);const v=new i6(e,n,h);return i.Tu.set(e,v),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),p.snapshot}async function u6(i,e,n){const s=we(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Sd(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Lp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Sg(s.remoteStore,o.targetId),Pp(s,o.targetId)})).catch(Xo)):(Pp(s,o.targetId),await Lp(s.localStore,o.targetId,!0))}async function c6(i,e){const n=we(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Sg(n.remoteStore,s.targetId))}async function h6(i,e,n){const s=_6(i);try{const o=await(function(h,m){const g=we(h),p=tt.now(),v=m.reduce(((M,G)=>M.add(G.key)),je());let b,x;return g.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let G=Ar(),Y=je();return g.xs.getEntries(M,v).next(($=>{G=$,G.forEach(((re,ie)=>{ie.isValidDocument()||(Y=Y.add(re))}))})).next((()=>g.localDocuments.getOverlayedDocuments(M,G))).next(($=>{b=$;const re=[];for(const ie of m){const ae=w4(ie,b.get(ie.key).overlayedDocument);ae!=null&&re.push(new xs(ie.key,ae,a2(ae.value.mapValue),hi.exists(!0)))}return g.mutationQueue.addMutationBatch(M,p,re,m)})).next(($=>{x=$;const re=$.applyToLocalDocumentSet(b,Y);return g.documentOverlayCache.saveOverlays(M,$.batchId,re)}))})).then((()=>({batchId:x.batchId,changes:y2(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.du[h.currentUser.toKey()];p||(p=new ft(Ve)),p=p.insert(m,g),h.du[h.currentUser.toKey()]=p})(s,o.batchId,n),await Hu(s,o.changes),await kd(s.remoteStore)}catch(o){const u=Cg(o,"Failed to persist write");n.reject(u)}}async function Z2(i,e){const n=we(i);try{const s=await SN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ke(h.hu,14607):o.removedDocuments.size>0&&(Ke(h.hu,42227),h.hu=!1))})),await Hu(n,s,e)}catch(s){await Xo(s)}}function nE(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=we(h);g.onlineState=m;let p=!1;g.queries.forEach(((v,b)=>{for(const x of b.ba)x.va(m)&&(p=!0)})),p&&Ng(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function d6(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ft(_e.comparator);h=h.insert(u,nn.newNoDocument(u,Se.min()));const m=je().add(u),g=new Rd(Se.min(),new Map,new ft(Ve),h,m);await Z2(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(e),Mg(s)}else await Lp(s.localStore,e,!1).then((()=>Pp(s,e,n))).catch(Xo)}async function f6(i,e){const n=we(i),s=e.batch.batchId;try{const o=await bN(n.localStore,e);eb(n,s,null),J2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Hu(n,o)}catch(o){await Xo(o)}}async function m6(i,e,n){const s=we(i);try{const o=await(function(h,m){const g=we(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return g.mutationQueue.lookupMutationBatch(p,m).next((b=>(Ke(b!==null,37113),v=b.keys(),g.mutationQueue.removeMutationBatch(p,b)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,v,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>g.localDocuments.getDocuments(p,v)))}))})(s.localStore,e);eb(s,e,n),J2(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Hu(s,o)}catch(o){await Xo(o)}}function J2(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function eb(i,e,n){const s=we(i);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Pp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((s=>{i.Vu.containsKey(s)||tb(i,s)}))}function tb(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(Sg(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),Mg(i))}function iE(i,e,n){for(const s of n)s instanceof Y2?(i.Vu.addReference(s.key,e),p6(i,s)):s instanceof W2?(ce(Og,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,e),i.Vu.containsKey(s.key)||tb(i,s.key)):Te(19791,{wu:s})}function p6(i,e){const n=e.key,s=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(s)||(ce(Og,"New document in limbo: "+n),i.Eu.add(s),Mg(i))}function Mg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new _e(it.fromString(e)),s=i.fu.next();i.Au.set(s,new r6(n)),i.Ru=i.Ru.insert(n,s),H2(i.remoteStore,new cs(Hi(bd(n.path)),s,"TargetPurposeLimboResolution",vd.ce))}}async function Hu(i,e,n){const s=we(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,v?"current":"not-current")}if(p){o.push(p);const v=Tg.Es(g.targetId,p);u.push(v)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(g,p){const v=we(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ne.forEach(p,(x=>ne.forEach(x.Ts,(M=>v.persistence.referenceDelegate.addReference(b,x.targetId,M))).next((()=>ne.forEach(x.Is,(M=>v.persistence.referenceDelegate.removeReference(b,x.targetId,M)))))))))}catch(b){if(!Zo(b))throw b;ce(bg,"Failed to update sequence numbers: "+b)}for(const b of p){const x=b.targetId;if(!b.fromCache){const M=v.vs.get(x),G=M.snapshotVersion,Y=M.withLastLimboFreeSnapshotVersion(G);v.vs=v.vs.insert(x,Y)}}})(s.localStore,u))}async function g6(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){ce(Og,"User change. New user:",e.toKey());const s=await U2(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ue(J.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Hu(n,s.Ns)}}function y6(i,e){const n=we(i),s=n.Au.get(e);if(s&&s.hu)return je().add(s.key);{let o=je();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function nb(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d6.bind(null,e),e.Pu.J_=e6.bind(null,e.eventManager),e.Pu.yu=t6.bind(null,e.eventManager),e}function _6(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m6.bind(null,e),e}class id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TN(this.persistence,new _N,e.initialUser,this.serializer)}Cu(e){return new P2(Eg.Vi,this.serializer)}Du(e){return new CN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}id.provider={build:()=>new id};class v6 extends id{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof td,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new iN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new P2((s=>td.Vi(s,n)),this.serializer)}}class Up{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>nE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=g6.bind(null,this.syncEngine),await XN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JN})()}createDatastore(e){const n=Cd(e.databaseInfo.databaseId),s=ON(e.databaseInfo);return PN(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new zN(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>nE(this.syncEngine,n,0)),(function(){return W1.v()?new W1:new IN})())}createSyncEngine(e,n){return(function(o,u,h,m,g,p,v){const b=new s6(o,u,h,m,g,p);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);ce(ma,"RemoteStore shutting down."),s.Ea.add(5),await qu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Up.provider={build:()=>new Up};class Lg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const bs="FirestoreClient";class E6{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=lg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ce(bs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ce(bs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Cg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function op(i,e){i.asyncQueue.verifyOperationInProgress(),ce(bs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await U2(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function rE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await T6(i);ce(bs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>Z1(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>Z1(e.remoteStore,o))),i._onlineComponents=e}async function T6(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(bs,"Using user provided OfflineComponentProvider");try{await op(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Vo("Error using user provided cache. Falling back to memory cache: "+n),await op(i,new id)}}else ce(bs,"Using default OfflineComponentProvider"),await op(i,new v6(void 0));return i._offlineComponents}async function ib(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(bs,"Using user provided OnlineComponentProvider"),await rE(i,i._uninitializedComponentsProvider._online)):(ce(bs,"Using default OnlineComponentProvider"),await rE(i,new Up))),i._onlineComponents}function b6(i){return ib(i).then((e=>e.syncEngine))}async function rd(i){const e=await ib(i),n=e.eventManager;return n.onListen=a6.bind(null,e.syncEngine),n.onUnlisten=u6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=o6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=c6.bind(null,e.syncEngine),n}function S6(i,e,n,s){const o=new Lg(s),u=new Dg(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>Ig(await rd(i),u))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>kg(await rd(i),u)))}}function A6(i,e,n={}){const s=new vr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const v=new Lg({next:x=>{v.Nu(),h.enqueueAndForget((()=>kg(u,b)));const M=x.docs.has(m);!M&&x.fromCache?p.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&x.fromCache&&g&&g.source==="server"?p.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new Dg(bd(m.path),v,{includeMetadataChanges:!0,Ka:!0});return Ig(u,b)})(await rd(i),i.asyncQueue,e,n,s))),s.promise}function w6(i,e,n={}){const s=new vr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const v=new Lg({next:x=>{v.Nu(),h.enqueueAndForget((()=>kg(u,b))),x.fromCache&&g.source==="server"?p.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new Dg(m,v,{includeMetadataChanges:!0,Ka:!0});return Ig(u,b)})(await rd(i),i.asyncQueue,e,n,s))),s.promise}function x6(i,e){const n=new vr;return i.asyncQueue.enqueueAndForget((async()=>h6(await b6(i),e,n))),n.promise}function rb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const R6="ComponentProvider",sE=new Map;function C6(i,e,n,s,o){return new Kk(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,rb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const sb="firestore.googleapis.com",aE=!0;class oE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sb,this.ssl=aE}else this.host=e.host,this.ssl=e.ssl??aE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=j2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tN)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new wk;switch(s.type){case"firstParty":return new Ik(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=sE.get(n);s&&(ce(R6,"Removing Datastore"),sE.delete(n),s.terminate())})(this),Promise.resolve()}}function I6(i,e,n,s={}){i=Nn(i,Nd);const o=Ko(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(XE(`https://${m}`),ZE("Firestore",!0)),u.host!==sb&&u.host!==m&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!gs(g,h)&&(i._setSettings(g),s.mockUserToken)){let p,v;if(typeof s.mockUserToken=="string")p=s.mockUserToken,v=tn.MOCK_USER;else{p=Mx(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new tn(b)}i._authCredentials=new xk(new QT(p,v))}}class Rs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Rs(this.firestore,e,this._query)}}class gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Uu(n,gt._jsonSchema))return new gt(e,s||null,new _e(it.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:Lt("string",gt._jsonSchemaVersion),referencePath:Lt("string")};class ps extends Rs{constructor(e,n,s){super(e,n,bd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new _e(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function Cs(i,e,...n){if(i=yt(i),YT("collection","path",e),i instanceof Nd){const s=it.fromString(e,...n);return E1(s),new ps(i,null,s)}{if(!(i instanceof gt||i instanceof ps))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(it.fromString(e,...n));return E1(s),new ps(i.firestore,null,s)}}function rn(i,e,...n){if(i=yt(i),arguments.length===1&&(e=lg.newId()),YT("doc","path",e),i instanceof Nd){const s=it.fromString(e,...n);return v1(s),new gt(i,null,new _e(s))}{if(!(i instanceof gt||i instanceof ps))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(it.fromString(e,...n));return v1(s),new gt(i.firestore,i instanceof ps?i.converter:null,new _e(s))}}const lE="AsyncQueue";class uE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new B2(this,"async_queue_retry"),this._c=()=>{const s=ap();s&&ce(lE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Zo(e))throw e;ce(lE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Sr("INTERNAL UNHANDLED ERROR: ",cE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Rg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:cE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Ss extends Nd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new uE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uE(e),this._firestoreClient=void 0,await e}}}function k6(i,e){const n=typeof i=="object"?i:Zp(),s=typeof i=="string"?i:Wh,o=_a(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Dx("firestore");u&&I6(o,...u)}return o}function Dd(i){if(i._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||N6(i),i._firestoreClient}function N6(i){const e=i._freezeSettings(),n=C6(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new E6(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(Zt.fromBase64String(e))}catch(n){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $n(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uu(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Lt("string",$n._jsonSchemaVersion),bytes:Lt("string")};class Vg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Od{constructor(e){this._methodName=e}}class Gi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gi._jsonSchemaVersion}}static fromJSON(e){if(Uu(e,Gi._jsonSchema))return new Gi(e.latitude,e.longitude)}}Gi._jsonSchemaVersion="firestore/geoPoint/1.0",Gi._jsonSchema={type:Lt("string",Gi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class di{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uu(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new di(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:Lt("string",di._jsonSchemaVersion),vectorValues:Lt("object")};const D6=/^__.*__$/;class O6{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new zu(e,this.data,n,this.fieldTransforms)}}class ab{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ob(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:i})}}class jg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new jg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return sd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(ob(this.dataSource)&&D6.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class M6{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Cd(e)}createContext(e,n,s,o=!1){return new jg({dataSource:e,methodName:n,targetDoc:s,path:Xt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pg(i){const e=i._freezeSettings(),n=Cd(i._databaseId);return new M6(i._databaseId,!!e.ignoreUndefinedProperties,n)}function L6(i,e,n,s,o,u={}){const h=i.createContext(u.merge||u.mergeFields?2:0,e,n,o);zg("Data must be an object, but it was:",h,s);const m=lb(s,h);let g,p;if(u.merge)g=new kn(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const x=qo(e,b,n);if(!h.contains(x))throw new ue(J.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);hb(v,x)||v.push(x)}g=new kn(v),p=h.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,p=h.fieldTransforms;return new O6(new En(m),g,p)}class Md extends Od{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Md}}class Ug extends Od{_toFieldTransform(e){return new T4(e.path,new ku)}isEqual(e){return e instanceof Ug}}function V6(i,e,n,s){const o=i.createContext(1,e,n);zg("Data must be an object, but it was:",o,s);const u=[],h=En.empty();ws(s,((g,p)=>{const v=cb(e,g,n);p=yt(p);const b=o.childContextForFieldPath(v);if(p instanceof Md)u.push(v);else{const x=Fu(p,b);x!=null&&(u.push(v),h.set(v,x))}}));const m=new kn(u);return new ab(h,m,o.fieldTransforms)}function j6(i,e,n,s,o,u){const h=i.createContext(1,e,n),m=[qo(e,s,n)],g=[o];if(u.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(qo(e,u[x])),g.push(u[x+1]);const p=[],v=En.empty();for(let x=m.length-1;x>=0;--x)if(!hb(p,m[x])){const M=m[x];let G=g[x];G=yt(G);const Y=h.childContextForFieldPath(M);if(G instanceof Md)p.push(M);else{const $=Fu(G,Y);$!=null&&(p.push(M),v.set(M,$))}}const b=new kn(p);return new ab(v,b,h.fieldTransforms)}function P6(i,e,n,s=!1){return Fu(n,i.createContext(s?4:3,e))}function Fu(i,e){if(ub(i=yt(i)))return zg("Unsupported field value:",e,i),lb(i,e);if(i instanceof Od)return(function(s,o){if(!ob(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let g=Fu(m,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _4(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=tt.fromDate(s);return{timestampValue:ed(o.serializer,u)}}if(s instanceof tt){const u=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ed(o.serializer,u)}}if(s instanceof Gi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $n)return{bytesValue:I2(o.serializer,s._byteString)};if(s instanceof gt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_g(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof di)return(function(h,m){const g=h instanceof di?h.toArray():h;return{mapValue:{fields:{[r2]:{stringValue:s2},[Xh]:{arrayValue:{values:g.map((v=>{if(typeof v!="number")throw m.createError("VectorValues must only contain numeric values.");return mg(m.serializer,v)}))}}}}}})(s,o);if(V2(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${_d(s)}`)})(i,e)}function lb(i,e){const n={};return ZT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(i,((s,o)=>{const u=Fu(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function ub(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof tt||i instanceof Gi||i instanceof $n||i instanceof gt||i instanceof Od||i instanceof di||V2(i))}function zg(i,e,n){if(!ub(n)||!WT(n)){const s=_d(n);throw s==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+s)}}function qo(i,e,n){if((e=yt(e))instanceof Vg)return e._internalPath;if(typeof e=="string")return cb(i,e);throw sd("Field path arguments must be of type string or ",i,!1,void 0,n)}const U6=new RegExp("[~\\*/\\[\\]]");function cb(i,e,n){if(e.search(U6)>=0)throw sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Vg(...e.split("."))._internalPath}catch{throw sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function sd(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ue(J.INVALID_ARGUMENT,m+i+g)}function hb(i,e){return i.some((n=>n.isEqual(e)))}class z6{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ws(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Xh].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new di(n)}convertGeoPoint(e){return new Gi(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Td(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const n=_s(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ke(L2(s),9688,{name:e});const o=new Ru(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||Sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Bg extends z6{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function cn(){return new Ug("serverTimestamp")}const hE="@firebase/firestore",dE="4.10.0";function fE(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class db{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(qo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class B6 extends db{data(){return super.data()}}function fb(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qg{}class mb extends qg{}function pb(i,e,...n){let s=[];e instanceof qg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((g=>g instanceof Fg)).length,m=u.filter((g=>g instanceof Hg)).length;if(h>1||h>0&&m>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Hg extends mb{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Hg(e,n,s)}_apply(e){const n=this._parse(e);return yb(e._query,n),new Rs(e.firestore,e.converter,Ip(e._query,n))}_parse(e){const n=Pg(e.firestore);return(function(u,h,m,g,p,v,b){let x;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){pE(b,v);const G=[];for(const Y of b)G.push(mE(g,u,Y));x={arrayValue:{values:G}}}else x=mE(g,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||pE(b,v),x=P6(m,h,b,v==="in"||v==="not-in");return Mt.create(p,v,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Fg extends qg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:pi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)yb(h,g),h=Ip(h,g)})(e._query,n),new Rs(e.firestore,e.converter,Ip(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gg extends mb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Gg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iu(u,h)})(e._query,this._field,this._direction);return new Rs(e.firestore,e.converter,c4(e._query,n))}}function gb(i,e="asc"){const n=e,s=qo("orderBy",i);return Gg._create(s,n)}function mE(i,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f2(e)&&n.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!_e.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return C1(i,new _e(s))}if(n instanceof gt)return C1(i,n._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_d(n)}.`)}function pE(i,e){if(!Array.isArray(i)||i.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yb(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function q6(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class mu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends db{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(qo("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Lt("string",ca._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Ph extends ca{data(e={}){return super.data(e)}}class ha{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new mu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ph(this._firestore,this._userDataWriter,s.key,s,new mu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new Ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new mu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new mu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:H6(m.type),doc:g,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ha._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function H6(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}ha._jsonSchemaVersion="firestore/querySnapshot/1.0",ha._jsonSchema={type:Lt("string",ha._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};function Ld(i){i=Nn(i,gt);const e=Nn(i.firestore,Ss),n=Dd(e);return A6(n,i._key).then((s=>vb(e,i,s)))}function F6(i){i=Nn(i,Rs);const e=Nn(i.firestore,Ss),n=Dd(e),s=new Bg(e);return fb(i._query),w6(n,i._query).then((o=>new ha(e,s,i,o)))}function ci(i,e,n){i=Nn(i,gt);const s=Nn(i.firestore,Ss),o=q6(i.converter,e),u=Pg(s);return $g(s,[L6(u,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,hi.none())])}function Kg(i,e,n,...s){i=Nn(i,gt);const o=Nn(i.firestore,Ss),u=Pg(o);let h;return h=typeof(e=yt(e))=="string"||e instanceof Vg?j6(u,"updateDoc",i._key,e,n,s):V6(u,"updateDoc",i._key,e),$g(o,[h.toMutation(i._key,hi.exists(!0))])}function _b(i){return $g(Nn(i.firestore,Ss),[new pg(i._key,hi.none())])}function Vd(i,...e){i=yt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||fE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(fE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(i instanceof gt)h=Nn(i.firestore,Ss),m=bd(i._key.path),u={next:p=>{e[s]&&e[s](vb(h,i,p))},error:e[s+1],complete:e[s+2]};else{const p=Nn(i,Rs);h=Nn(p.firestore,Ss),m=p._query;const v=new Bg(h);u={next:b=>{e[s]&&e[s](new ha(h,v,p,b))},error:e[s+1],complete:e[s+2]},fb(i._query)}const g=Dd(h);return S6(g,m,o,u)}function $g(i,e){const n=Dd(i);return x6(n,e)}function vb(i,e,n){const s=n.docs.get(e._key),o=new Bg(i);return new ca(i,o,e._key,s,new mu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){Ak($o),Ki(new fi("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ss(new Rk(s.getProvider("auth-internal")),new kk(h,s.getProvider("app-check-internal")),$k(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Qn(hE,dE,e),Qn(hE,dE,"esm2020")})();const Eb="@firebase/installations",Qg="0.6.19";const Tb=1e4,bb=`w:${Qg}`,Sb="FIS_v2",G6="https://firebaseinstallations.googleapis.com/v1",K6=3600*1e3,$6="installations",Q6="Installations";const Y6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pa=new ya($6,Q6,Y6);function Ab(i){return i instanceof gi&&i.code.includes("request-failed")}function wb({projectId:i}){return`${G6}/projects/${i}/installations`}function xb(i){return{token:i.token,requestStatus:2,expiresIn:X6(i.expiresIn),creationTime:Date.now()}}async function Rb(i,e){const s=(await e.json()).error;return pa.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Cb({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function W6(i,{refreshToken:e}){const n=Cb(i);return n.append("Authorization",Z6(e)),n}async function Ib(i){const e=await i();return e.status>=500&&e.status<600?i():e}function X6(i){return Number(i.replace("s","000"))}function Z6(i){return`${Sb} ${i}`}async function J6({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=wb(i),o=Cb(i),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={fid:n,authVersion:Sb,appId:i.appId,sdkVersion:bb},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await Ib(()=>fetch(s,m));if(g.ok){const p=await g.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:xb(p.authToken)}}else throw await Rb("Create Installation",g)}function kb(i){return new Promise(e=>{setTimeout(e,i)})}function e8(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}const t8=/^[cdef][\w-]{21}$/,zp="";function n8(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=i8(i);return t8.test(n)?n:zp}catch{return zp}}function i8(i){return e8(i).substr(0,22)}function jd(i){return`${i.appName}!${i.appId}`}const Nb=new Map;function Db(i,e){const n=jd(i);Ob(n,e),r8(n,e)}function Ob(i,e){const n=Nb.get(i);if(n)for(const s of n)s(e)}function r8(i,e){const n=s8();n&&n.postMessage({key:i,fid:e}),a8()}let ua=null;function s8(){return!ua&&"BroadcastChannel"in self&&(ua=new BroadcastChannel("[Firebase] FID Change"),ua.onmessage=i=>{Ob(i.data.key,i.data.fid)}),ua}function a8(){Nb.size===0&&ua&&(ua.close(),ua=null)}const o8="firebase-installations-database",l8=1,ga="firebase-installations-store";let lp=null;function Yg(){return lp||(lp=rT(o8,l8,{upgrade:(i,e)=>{e===0&&i.createObjectStore(ga)}})),lp}async function ad(i,e){const n=jd(i),o=(await Yg()).transaction(ga,"readwrite"),u=o.objectStore(ga),h=await u.get(n);return await u.put(e,n),await o.done,(!h||h.fid!==e.fid)&&Db(i,e.fid),e}async function Mb(i){const e=jd(i),s=(await Yg()).transaction(ga,"readwrite");await s.objectStore(ga).delete(e),await s.done}async function Pd(i,e){const n=jd(i),o=(await Yg()).transaction(ga,"readwrite"),u=o.objectStore(ga),h=await u.get(n),m=e(h);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!h||h.fid!==m.fid)&&Db(i,m.fid),m}async function Wg(i){let e;const n=await Pd(i.appConfig,s=>{const o=u8(s),u=c8(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===zp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function u8(i){const e=i||{fid:n8(),registrationStatus:0};return Lb(e)}function c8(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(pa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=h8(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:d8(i)}:{installationEntry:e}}async function h8(i,e){try{const n=await J6(i,e);return ad(i.appConfig,n)}catch(n){throw Ab(n)&&n.customData.serverCode===409?await Mb(i.appConfig):await ad(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function d8(i){let e=await gE(i.appConfig);for(;e.registrationStatus===1;)await kb(100),e=await gE(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Wg(i);return s||n}return e}function gE(i){return Pd(i,e=>{if(!e)throw pa.create("installation-not-found");return Lb(e)})}function Lb(i){return f8(i)?{fid:i.fid,registrationStatus:0}:i}function f8(i){return i.registrationStatus===1&&i.registrationTime+Tb<Date.now()}async function m8({appConfig:i,heartbeatServiceProvider:e},n){const s=p8(i,n),o=W6(i,n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={installation:{sdkVersion:bb,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await Ib(()=>fetch(s,m));if(g.ok){const p=await g.json();return xb(p)}else throw await Rb("Generate Auth Token",g)}function p8(i,{fid:e}){return`${wb(i)}/${e}/authTokens:generate`}async function Xg(i,e=!1){let n;const s=await Pd(i.appConfig,u=>{if(!Vb(u))throw pa.create("not-registered");const h=u.authToken;if(!e&&_8(h))return u;if(h.requestStatus===1)return n=g8(i,e),u;{if(!navigator.onLine)throw pa.create("app-offline");const m=E8(u);return n=y8(i,m),m}});return n?await n:s.authToken}async function g8(i,e){let n=await yE(i.appConfig);for(;n.authToken.requestStatus===1;)await kb(100),n=await yE(i.appConfig);const s=n.authToken;return s.requestStatus===0?Xg(i,e):s}function yE(i){return Pd(i,e=>{if(!Vb(e))throw pa.create("not-registered");const n=e.authToken;return T8(n)?{...e,authToken:{requestStatus:0}}:e})}async function y8(i,e){try{const n=await m8(i,e),s={...e,authToken:n};return await ad(i.appConfig,s),n}catch(n){if(Ab(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Mb(i.appConfig);else{const s={...e,authToken:{requestStatus:0}};await ad(i.appConfig,s)}throw n}}function Vb(i){return i!==void 0&&i.registrationStatus===2}function _8(i){return i.requestStatus===2&&!v8(i)}function v8(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+K6}function E8(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function T8(i){return i.requestStatus===1&&i.requestTime+Tb<Date.now()}async function b8(i){const e=i,{installationEntry:n,registrationPromise:s}=await Wg(e);return s?s.catch(console.error):Xg(e).catch(console.error),n.fid}async function S8(i,e=!1){const n=i;return await A8(n),(await Xg(n,e)).token}async function A8(i){const{registrationPromise:e}=await Wg(i);e&&await e}function w8(i){if(!i||!i.options)throw up("App Configuration");if(!i.name)throw up("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw up(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function up(i){return pa.create("missing-app-config-values",{valueName:i})}const jb="installations",x8="installations-internal",R8=i=>{const e=i.getProvider("app").getImmediate(),n=w8(e),s=_a(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},C8=i=>{const e=i.getProvider("app").getImmediate(),n=_a(e,jb).getImmediate();return{getId:()=>b8(n),getToken:o=>S8(n,o)}};function I8(){Ki(new fi(jb,R8,"PUBLIC")),Ki(new fi(x8,C8,"PRIVATE"))}I8();Qn(Eb,Qg);Qn(Eb,Qg,"esm2020");const od="analytics",k8="firebase_id",N8="origin",D8=60*1e3,O8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zg="https://www.googletagmanager.com/gtag/js";const hn=new fd("@firebase/analytics");const M8={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Dn=new ya("analytics","Analytics",M8);function L8(i){if(!i.startsWith(Zg)){const e=Dn.create("invalid-gtag-resource",{gtagURL:i});return hn.warn(e.message),""}return i}function Pb(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function V8(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function j8(i,e){const n=V8("firebase-js-sdk-policy",{createScriptURL:L8}),s=document.createElement("script"),o=`${Zg}?l=${i}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function P8(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function U8(i,e,n,s,o,u){const h=s[o];try{if(h)await e[h];else{const g=(await Pb(n)).find(p=>p.measurementId===o);g&&await e[g.appId]}}catch(m){hn.error(m)}i("config",o,u)}async function z8(i,e,n,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await Pb(n);for(const g of h){const p=m.find(b=>b.measurementId===g),v=p&&e[p.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){hn.error(u)}}function B8(i,e,n,s){async function o(u,...h){try{if(u==="event"){const[m,g]=h;await z8(i,e,n,m,g)}else if(u==="config"){const[m,g]=h;await U8(i,e,n,s,m,g)}else if(u==="consent"){const[m,g]=h;i("consent",m,g)}else if(u==="get"){const[m,g,p]=h;i("get",m,g,p)}else if(u==="set"){const[m]=h;i("set",m)}else i(u,...h)}catch(m){hn.error(m)}}return o}function q8(i,e,n,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=B8(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function H8(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Zg)&&n.src.includes(i))return n;return null}const F8=30,G8=1e3;class K8{constructor(e={},n=G8){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Ub=new K8;function $8(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function Q8(i){const{appId:e,apiKey:n}=i,s={method:"GET",headers:$8(n)},o=O8.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let h="";try{const m=await u.json();m.error?.message&&(h=m.error.message)}catch{}throw Dn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function Y8(i,e=Ub,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Dn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Dn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new Z8;return setTimeout(async()=>{m.abort()},D8),zb({appId:s,apiKey:o,measurementId:u},h,m,e)}async function zb(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=Ub){const{appId:u,measurementId:h}=i;try{await W8(s,e)}catch(m){if(h)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:h};throw m}try{const m=await Q8(i);return o.deleteThrottleMetadata(u),m}catch(m){const g=m;if(!X8(g)){if(o.deleteThrottleMetadata(u),h)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:h};throw m}const p=Number(g?.customData?.httpStatus)===503?Bv(n,o.intervalMillis,F8):Bv(n,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return o.setThrottleMetadata(u,v),hn.debug(`Calling attemptFetch again in ${p} millis`),zb(i,v,s,o)}}function W8(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(Dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function X8(i){if(!(i instanceof gi)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class Z8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function J8(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await e,h={...s,send_to:u};i("event",n,h)}}async function eD(i,e,n,s){if(s&&s.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return i("set",o),Promise.resolve()}else{const o=await e;i("config",o,{update:!0,user_properties:n})}}async function tD(){if(eT())try{await tT()}catch(i){return hn.warn(Dn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return hn.warn(Dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function nD(i,e,n,s,o,u,h){const m=Y8(i);m.then(x=>{n[x.measurementId]=x.appId,i.options.measurementId&&x.measurementId!==i.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>hn.error(x)),e.push(m);const g=tD().then(x=>{if(x)return s.getId()}),[p,v]=await Promise.all([m,g]);H8(u)||j8(u,p.measurementId),o("js",new Date);const b=h?.config??{};return b[N8]="firebase",b.update=!0,v!=null&&(b[k8]=v),o("config",p.measurementId,b),p.measurementId}class iD{constructor(e){this.app=e}_delete(){return delete Mo[this.app.options.appId],Promise.resolve()}}let Mo={},_E=[];const vE={};let cp="dataLayer",rD="gtag",EE,Jg,TE=!1;function sD(){const i=[];if(JE()&&i.push("This is a browser extension environment."),Hx()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Dn.create("invalid-analytics-context",{errorInfo:e});hn.warn(n.message)}}function aD(i,e,n){sD();const s=i.options.appId;if(!s)throw Dn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Dn.create("no-api-key");if(Mo[s]!=null)throw Dn.create("already-exists",{id:s});if(!TE){P8(cp);const{wrappedGtag:u,gtagCore:h}=q8(Mo,_E,vE,cp,rD);Jg=u,EE=h,TE=!0}return Mo[s]=nD(i,_E,vE,e,EE,cp,n),new iD(i)}function oD(i=Zp()){i=yt(i);const e=_a(i,od);return e.isInitialized()?e.getImmediate():lD(i)}function lD(i,e={}){const n=_a(i,od);if(n.isInitialized()){const o=n.getImmediate();if(gs(e,n.getOptions()))return o;throw Dn.create("already-initialized")}return n.initialize({options:e})}function uD(i,e,n){i=yt(i),eD(Jg,Mo[i.app.options.appId],e,n).catch(s=>hn.error(s))}function cD(i,e,n,s){i=yt(i),J8(Jg,Mo[i.app.options.appId],e,n,s).catch(o=>hn.error(o))}const bE="@firebase/analytics",SE="0.10.19";function hD(){Ki(new fi(od,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return aD(s,o,n)},"PUBLIC")),Ki(new fi("analytics-internal",i,"PRIVATE")),Qn(bE,SE),Qn(bE,SE,"esm2020");function i(e){try{const n=e.getProvider(od).getImmediate();return{logEvent:(s,o,u)=>cD(n,s,o,u),setUserProperties:(s,o)=>uD(n,s,o)}}catch(n){throw Dn.create("interop-component-reg-failed",{reason:n})}}}hD();const dD={apiKey:"AIzaSyA1AWyQt-mKcZTGJ1MaPrf4IoRxxCpRl8w",authDomain:"brewsy-6e24c.firebaseapp.com",projectId:"brewsy-6e24c",storageBucket:"brewsy-6e24c.firebasestorage.app",messagingSenderId:"965602953101",appId:"1:965602953101:web:50f84823c3a2db81da5fc4",measurementId:"G-9T8DY7JG9C"},ey=sT(dD),Ud=Ek(ey),St=k6(ey);oD(ey);const fD=async(i,e)=>{try{return{user:(await sI(Ud,i,e)).user,error:null}}catch(n){return{user:null,error:n}}},mD=async()=>{try{return await uI(Ud),{error:null}}catch(i){return{error:i}}},pD=i=>lI(Ud,i),Bb=j.createContext({user:null,loading:!0}),ba=()=>{const i=j.useContext(Bb);if(!i)throw new Error("useAuth must be used within AuthProvider");return i},gD=({children:i})=>{const[e,n]=j.useState(null),[s,o]=j.useState(!0);return j.useEffect(()=>pD(h=>{n(h),o(!1)}),[]),T.jsx(Bb.Provider,{value:{user:e,loading:s},children:i})},qb=j.createContext(void 0),yD=({children:i})=>{const[e,n]=j.useState(()=>localStorage.getItem("brewsy-current-space")||"naturopathie"),s=o=>{n(o),localStorage.setItem("brewsy-current-space",o),o==="naturopathie"?(document.body.classList.add("theme-drogue"),document.body.classList.remove("theme-malandrinerie")):(document.body.classList.add("theme-malandrinerie"),document.body.classList.remove("theme-drogue"))};return j.useEffect(()=>{e==="naturopathie"?(document.body.classList.add("theme-drogue"),document.body.classList.remove("theme-malandrinerie")):(document.body.classList.add("theme-malandrinerie"),document.body.classList.remove("theme-drogue"))},[e]),T.jsx(qb.Provider,{value:{currentSpace:e,setCurrentSpace:s},children:i})},Hb=()=>{const i=j.useContext(qb);if(i===void 0)throw new Error("useSpace must be used within a SpaceProvider");return i},_D=()=>{const[i,e]=j.useState(""),[n,s]=j.useState(""),[o,u]=j.useState(null),[h,m]=j.useState(!1),g=async p=>{p.preventDefault(),u(null),m(!0);const{error:v}=await fD(i,n);v&&(u("Email ou mot de passe incorrect"),m(!1))};return T.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-card rounded-soft-lg shadow-soft-lg p-8 max-w-md w-full border border-border",children:[T.jsx("h1",{className:"text-3xl font-bold text-peach mb-2 text-center",children:"Cozy Production"}),T.jsx("p",{className:"text-text-secondary text-center mb-6",children:"Connexion"}),T.jsxs("form",{onSubmit:g,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-secondary mb-1",children:"Email"}),T.jsx("input",{id:"email",type:"email",value:i,onChange:p=>e(p.target.value),required:!0,className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all",placeholder:"votre@email.com"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-secondary mb-1",children:"Mot de passe"}),T.jsx("input",{id:"password",type:"password",value:n,onChange:p=>s(p.target.value),required:!0,className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all",placeholder:""})]}),o&&T.jsx("div",{className:"bg-peach-light text-peach-dark px-4 py-2 rounded-soft text-sm border border-peach/30",children:o}),T.jsx("button",{type:"submit",disabled:h,className:"w-full bg-linear-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark disabled:from-text-muted disabled:to-text-muted text-white font-semibold py-3 px-6 rounded-soft shadow-soft hover:shadow-soft-lg transition-all duration-200",children:h?"Connexion...":"Se connecter"})]})]})})},vD=async()=>{const i=rn(St,"configs","default"),e=await Ld(i);return e.exists()?e.data():null},zd=async()=>{const i=Cs(St,"configs","default","transformations");return(await F6(i)).docs.map(n=>({id:n.id,...n.data()}))},Fb=(i,e)=>{const n=Cs(St,"users",i,"stocks");return Vd(n,s=>{const o=s.docs.map(u=>({...u.data()}));e(o)})},hp=async(i,e,n,s)=>{const o=rn(St,"users",i,"stocks",e);await ci(o,{crateId:e,label:s,quantity:n,updatedAt:cn()})},ty=(i,e)=>{const n=Cs(St,"users",i,"prices");return Vd(n,s=>{const o=s.docs.map(u=>({...u.data()}));e(o)})},ED=async(i,e,n)=>{const s=rn(St,"users",i,"prices",e),o=await Ld(s),u=o.exists()?o.data().values:[];await ci(s,{crateId:e,values:[...u,n],updatedAt:cn()})},TD=async(i,e,n)=>{const s=rn(St,"users",i,"prices",e),o=await Ld(s);if(!o.exists())return;const h=o.data().values.filter((m,g)=>g!==n);h.length===0?await _b(s):await Kg(s,{values:h,updatedAt:cn()})},Gb=(i,e)=>{const n=Cs(St,"users",i,"runs"),s=pb(n,gb("startedAt","desc"));return Vd(s,o=>{const u=o.docs.map(h=>({id:h.id,...h.data()}));e(u)})},bD=async(i,e,n,s,o)=>{const u=Cs(St,"users",i,"runs"),h=o||new Date,m=tt.fromDate(h),g=tt.fromMillis(m.toMillis()+s*60*60*1e3),p={transformationId:e,inputQuantityUsed:n,startedAt:m,durationHours:s,reducedByAction:!1,endsAt:g,status:"RUNNING",createdAt:cn()};return await ci(rn(u),p)},SD=async(i,e,n)=>{const s=rn(St,"users",i,"runs",e);await Kg(s,{status:n})},AD=async(i,e,n=1)=>{const s=rn(St,"users",i,"runs",e),o=await Ld(s);if(!o.exists())return;const u=o.data();if(u.reducedByAction)return;const h=tt.fromMillis(u.endsAt.toMillis()-n*60*60*1e3);await Kg(s,{reducedByAction:!0,endsAt:h})},AE=async(i,e)=>{const n=rn(St,"users",i,"runs",e);await _b(n)},Kb=(i,e)=>{const n=Cs(St,"users",i,"history"),s=pb(n,gb("createdAt","desc"));return Vd(s,o=>{const u=o.docs.map(h=>({id:h.id,...h.data()}));e(u)})},wD=async(i,e,n,s,o)=>{const u=Cs(St,"users",i,"history"),h={type:"TRANSFORMATION",transformationId:e,startedAt:n,endsAt:s,reducedByAction:o,createdAt:cn()};await ci(rn(u),h)},xD=async(i,e,n,s,o,u,h)=>{const m=Cs(St,"users",i,"history"),g={type:"SALE",crateId:e,crateLabel:n,quantitySold:s,estimatedValue:o,actualValue:u,createdAt:cn()};await ci(rn(m),g)},RD=(i,e)=>i.input.quantity*e,CD=i=>i,ID=(i,e)=>i.tool.price*e,Bd=i=>{if(i.length===0)return 0;const e=i.reduce((n,s)=>n+s,0);return Math.round(e/i.length)},Bp=(i,e)=>i*e,kD=(i,e)=>{const n=new Map(e.map(s=>[s.crateId,Bd(s.values)]));return i.reduce((s,o)=>{const u=n.get(o.crateId)||0;return s+Bp(o.quantity,u)},0)},ld=i=>new Date>=i,$b=i=>Math.max(0,i.getTime()-Date.now()),Qb=i=>{const e=Math.floor(i/36e5),n=Math.floor(i%(1e3*60*60)/(1e3*60));return e>0?`${e}h ${n}m`:`${n}m`},ht=({children:i,className:e="",onClick:n})=>T.jsx("div",{className:`bg-card rounded-soft-lg shadow-soft border border-border card-hover ${e}`,onClick:n,children:i}),dt=({children:i,className:e=""})=>T.jsx("div",{className:e,children:i}),ud=[{id:"crate_zeed",label:"Zeed",icon:""},{id:"crate_pandoxine",label:"Pandoxine",icon:""},{id:"crate_krakenine",label:"Krakenine",icon:""},{id:"crate_psylocybine",label:"Psylocybine",icon:""}],ND=()=>{const{user:i}=ba(),{currentSpace:e}=Hb(),[n,s]=j.useState([]),[o,u]=j.useState([]),[h,m]=j.useState([]),[g,p]=j.useState([]),[v,b]=j.useState([]),x=Kp(),[,M]=j.useState(0);j.useEffect(()=>{if(!i)return;const R=Fb(i.uid,s),D=ty(i.uid,u),O=Gb(i.uid,m),P=Kb(i.uid,b);return()=>{R(),D(),O(),P()}},[i]),j.useEffect(()=>{(async()=>{const D=await zd();p(D)})()},[]),j.useEffect(()=>{const R=setInterval(()=>{M(Date.now())},1e3);return()=>clearInterval(R)},[]);const G=kD(n,o),Y=h.filter(R=>R.status==="RUNNING"),$=h.filter(R=>R.status==="DONE"?!1:ld(R.endsAt.toDate())),re=new Map(o.map(R=>[R.crateId,Bd(R.values)])),ie=R=>n.find(D=>D.crateId===R),ae=R=>g.find(D=>D.id===R.transformationId),se=h.filter(R=>R.status==="RUNNING"&&!ld(R.endsAt.toDate())),ge=new Date;ge.setDate(ge.getDate()-7);const he=v.filter(R=>{if(R.type!=="SALE")return!1;const D=R.createdAt?.toDate();return D&&D>=ge}),I=he.reduce((R,D)=>D.type!=="SALE"?R:R+D.actualValue,0),C=he.reduce((R,D)=>D.type!=="SALE"?R:R+D.quantitySold,0);return e==="malandrinerie"?T.jsxs("div",{className:"space-y-4",children:[T.jsx("h1",{className:"text-2xl font-bold text-text",children:"Dashboard - Malandrinerie"}),T.jsx(ht,{children:T.jsxs(dt,{className:"p-8 text-center",children:[T.jsx("div",{className:"text-6xl mb-4",children:""}),T.jsx("h2",{className:"text-xl font-semibold text-text mb-2",children:"Espace Malandrinerie"}),T.jsx("p",{className:"text-text-muted mb-4",children:"Cet espace est en cours de dveloppement. Les fonctionnalits (Dashboard, Calculettes, Commandes) seront bientt disponibles !"}),T.jsx("div",{className:"inline-block px-4 py-2 bg-peach-light rounded-soft text-peach-dark text-sm",children:" venir prochainement"})]})})]}):T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-bold text-text",children:"Dashboard - Drogue"}),T.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[T.jsxs("div",{className:"flex items-center gap-1.5",children:[T.jsx("span",{className:"text-text-muted",children:"Valeur:"}),T.jsxs("span",{className:"font-bold text-mint-dark",children:[G.toLocaleString()," $"]})]}),T.jsx("div",{className:"w-px h-4 bg-border"}),T.jsxs("div",{className:"flex items-center gap-1.5",children:[T.jsx("span",{className:"text-text-muted",children:"Actives:"}),T.jsx("span",{className:"font-semibold text-mint",children:Y.length})]}),T.jsxs("div",{className:"flex items-center gap-1.5",children:[T.jsx("span",{className:"text-text-muted",children:"Prtes:"}),T.jsx("span",{className:"font-semibold text-mint-dark",children:$.length})]})]})]}),$.length>0&&T.jsx("div",{className:"bg-mint-light border border-mint rounded-soft px-3 py-2 cursor-pointer hover:bg-mint/30 transition-colors",onClick:()=>x("/timers"),children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-lg",children:""}),T.jsxs("span",{className:"text-sm font-semibold text-mint-dark",children:[$.length," transformation",$.length>1?"s":""," prte",$.length>1?"s":"","  rcolter"]})]})}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[T.jsx(ht,{className:"md:col-span-2",children:T.jsxs(dt,{className:"p-3",children:[T.jsx("h2",{className:"text-sm font-semibold text-text mb-2",children:"Stocks"}),T.jsx("div",{className:"space-y-1.5",children:ud.map(R=>{const O=ie(R.id)?.quantity||0,P=re.get(R.id)||0,k=O*P;return T.jsxs("div",{className:"flex items-center justify-between py-2 px-2 rounded hover:bg-surface transition-colors",children:[T.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[T.jsx("span",{className:"text-xl",children:R.icon}),T.jsxs("div",{children:[T.jsx("div",{className:"text-sm font-semibold text-text",children:R.label}),T.jsxs("div",{className:"text-xs text-text-muted",children:[O," ",O>1?"caisses":"caisse"]})]})]}),T.jsx("div",{className:"text-right",children:P>0?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"text-base font-bold text-peach",children:[k.toLocaleString()," $"]}),T.jsxs("div",{className:"text-xs text-text-muted",children:[P.toLocaleString()," $ / u"]})]}):T.jsx("div",{className:"text-xs text-text-muted",children:"Prix non dfini"})})]},R.id)})})]})}),T.jsx(ht,{children:T.jsxs(dt,{className:"p-3",children:[T.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T.jsx("h2",{className:"text-sm font-semibold text-text",children:"7 derniers jours"}),T.jsx("button",{onClick:()=>x("/history"),className:"text-xs text-peach hover:text-peach-dark transition-colors",children:"Historique "})]}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"p-3 bg-peach-light rounded-soft border border-peach/30",children:[T.jsx("div",{className:"text-xs text-text-muted mb-1",children:"Revenus"}),T.jsxs("div",{className:"text-xl font-bold text-peach",children:[I.toLocaleString()," $"]})]}),T.jsxs("div",{className:"p-3 bg-lavender-light rounded-soft border border-lavender/30",children:[T.jsx("div",{className:"text-xs text-text-muted mb-1",children:"Ventes"}),T.jsxs("div",{className:"flex items-baseline gap-2",children:[T.jsx("div",{className:"text-xl font-bold text-lavender-dark",children:he.length}),T.jsxs("div",{className:"text-sm text-text-muted",children:["vente",he.length>1?"s":""]})]}),T.jsxs("div",{className:"text-xs text-text-muted mt-1",children:[C," caisse",C>1?"s":""]})]})]})]})})]}),se.length>0&&T.jsx(ht,{children:T.jsxs(dt,{className:"p-3",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsx("h2",{className:"text-sm font-semibold text-text",children:"En cours"}),T.jsx("button",{onClick:()=>x("/timers"),className:"text-xs text-lavender hover:text-lavender-dark transition-colors",children:"Voir tout "})]}),T.jsx("div",{className:"space-y-2",children:se.slice(0,3).map(R=>{const D=ae(R),O=$b(R.endsAt.toDate()),P=R.durationHours*60*60*1e3,k=Math.max(0,Math.min(100,(P-O)/P*100));return T.jsxs("div",{className:"bg-surface rounded-soft p-2",children:[T.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-sm font-medium text-text",children:D?.name}),R.reducedByAction&&T.jsx("span",{className:"text-xs",children:""})]}),T.jsx("span",{className:"text-xs font-semibold text-lavender",children:Qb(O)})]}),T.jsx("div",{className:"w-full bg-border rounded-full h-1.5 overflow-hidden",children:T.jsx("div",{className:"h-full bg-linear-to-r from-lavender to-peach transition-all duration-1000",style:{width:`${k}%`}})})]},R.id)})})]})})]})};var DD=j.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),Yi=function(e,n,s){var o=s.get(e);return o?o(n):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function wE(i,e){if(i==null)return{};var n={},s=Object.keys(i),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var yi=j.forwardRef(function(i,e){var n=i.alt,s=i.color,o=i.size,u=i.weight,h=i.mirrored,m=i.children,g=i.renderPath,p=wE(i,["alt","color","size","weight","mirrored","children","renderPath"]),v=j.useContext(DD),b=v.color,x=b===void 0?"currentColor":b,M=v.size,G=v.weight,Y=G===void 0?"regular":G,$=v.mirrored,re=$===void 0?!1:$,ie=wE(v,["color","size","weight","mirrored"]);return A.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o??M,height:o??M,fill:s??x,viewBox:"0 0 256 256",transform:h||re?"scale(-1, 1)":void 0},ie,p),!!n&&A.createElement("title",null,n),m,A.createElement("rect",{width:"256",height:"256",fill:"none"}),g(u??Y,s??x))});yi.displayName="IconBase";var Sa=new Map;Sa.set("bold",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),A.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Sa.set("duotone",function(i){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44Z",opacity:"0.2"}),A.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Sa.set("fill",function(){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M224,216a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H88V140H84A68.1,68.1,0,0,1,16,72a28,28,0,0,1,56,0A12,12,0,0,0,84,84h4V56a40,40,0,0,1,80,0v68h4a12,12,0,0,0,12-12,28,28,0,0,1,56,0,68.1,68.1,0,0,1-68,68h-4v28h48A8,8,0,0,1,224,216Z"}))});Sa.set("light",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),A.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Sa.set("thin",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),A.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Sa.set("regular",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var OD=function(e,n){return Yi(e,n,Sa)},Yb=j.forwardRef(function(i,e){return A.createElement(yi,Object.assign({ref:e},i,{renderPath:OD}))});Yb.displayName="Cactus";var Aa=new Map;Aa.set("bold",function(i){return A.createElement(A.Fragment,null,A.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),A.createElement("line",{x1:"92",y1:"76",x2:"164",y2:"76",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),A.createElement("circle",{cx:"104",cy:"128",r:"16"}),A.createElement("circle",{cx:"152",cy:"128",r:"16"}),A.createElement("circle",{cx:"104",cy:"176",r:"16"}),A.createElement("circle",{cx:"152",cy:"176",r:"16"}))});Aa.set("duotone",function(i){return A.createElement(A.Fragment,null,A.createElement("rect",{x:"80",y:"64",width:"96",height:"48",opacity:"0.2"}),A.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256 0) rotate(90)",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("circle",{cx:"88",cy:"148",r:"12"}),A.createElement("circle",{cx:"128",cy:"148",r:"12"}),A.createElement("circle",{cx:"168",cy:"148",r:"12"}),A.createElement("circle",{cx:"88",cy:"188",r:"12"}),A.createElement("circle",{cx:"128",cy:"188",r:"12"}),A.createElement("circle",{cx:"168",cy:"188",r:"12"}))});Aa.set("fill",function(){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M200,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24ZM88,200a12,12,0,1,1,12-12A12,12,0,0,1,88,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,88,160Zm40,40a12,12,0,1,1,12-12A12,12,0,0,1,128,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,128,160Zm40,40a12,12,0,1,1,12-12A12,12,0,0,1,168,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,168,160Zm16-56a8,8,0,0,1-8,8H80a8,8,0,0,1-8-8V64a8,8,0,0,1,8-8h96a8,8,0,0,1,8,8Z"}))});Aa.set("light",function(i){return A.createElement(A.Fragment,null,A.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),A.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),A.createElement("circle",{cx:"88",cy:"148",r:"10"}),A.createElement("circle",{cx:"128",cy:"148",r:"10"}),A.createElement("circle",{cx:"168",cy:"148",r:"10"}),A.createElement("circle",{cx:"88",cy:"188",r:"10"}),A.createElement("circle",{cx:"128",cy:"188",r:"10"}),A.createElement("circle",{cx:"168",cy:"188",r:"10"}))});Aa.set("thin",function(i){return A.createElement(A.Fragment,null,A.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),A.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),A.createElement("circle",{cx:"88",cy:"148",r:"8"}),A.createElement("circle",{cx:"128",cy:"148",r:"8"}),A.createElement("circle",{cx:"168",cy:"148",r:"8"}),A.createElement("circle",{cx:"88",cy:"188",r:"8"}),A.createElement("circle",{cx:"128",cy:"188",r:"8"}),A.createElement("circle",{cx:"168",cy:"188",r:"8"}))});Aa.set("regular",function(i){return A.createElement(A.Fragment,null,A.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("circle",{cx:"88",cy:"148",r:"12"}),A.createElement("circle",{cx:"128",cy:"148",r:"12"}),A.createElement("circle",{cx:"168",cy:"148",r:"12"}),A.createElement("circle",{cx:"88",cy:"188",r:"12"}),A.createElement("circle",{cx:"128",cy:"188",r:"12"}),A.createElement("circle",{cx:"168",cy:"188",r:"12"}))});var MD=function(e,n){return Yi(e,n,Aa)},Wb=j.forwardRef(function(i,e){return A.createElement(yi,Object.assign({ref:e},i,{renderPath:MD}))});Wb.displayName="Calculator";var wa=new Map;wa.set("bold",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),A.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),A.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),A.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});wa.set("duotone",function(i){return A.createElement(A.Fragment,null,A.createElement("rect",{x:"156",y:"40",width:"56",height:"168",opacity:"0.2"}),A.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});wa.set("fill",function(){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M228,200h-8V40a8,8,0,0,0-8-8H156a8,8,0,0,0-8,8V80H100a8,8,0,0,0-8,8v40H44a8,8,0,0,0-8,8v64H28a8,8,0,0,0,0,16H228a8,8,0,0,0,0-16ZM108,96h40V200H108ZM52,144H92v56H52Z"}))});wa.set("light",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),A.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),A.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),A.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});wa.set("thin",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),A.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),A.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),A.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});wa.set("regular",function(i){return A.createElement(A.Fragment,null,A.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var LD=function(e,n){return Yi(e,n,wa)},Xb=j.forwardRef(function(i,e){return A.createElement(yi,Object.assign({ref:e},i,{renderPath:LD}))});Xb.displayName="ChartBar";var xa=new Map;xa.set("bold",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),A.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),A.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),A.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});xa.set("duotone",function(i){return A.createElement(A.Fragment,null,A.createElement("circle",{cx:"128",cy:"128",r:"88",opacity:"0.2"}),A.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});xa.set("fill",function(){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M136,80v43.4l37.6,21.7a8,8,0,0,1-4,14.9,7.1,7.1,0,0,1-4-1.1l-41.6-24h-.2l-.4-.2-.3-.3-.3-.2-.3-.3-.2-.2c-.2-.1-.3-.3-.4-.4l-.2-.2-.2-.4-.2-.3-.2-.3a.5.5,0,0,1-.2-.4l-.2-.3c0-.1-.1-.2-.1-.4a.4.4,0,0,1-.1-.3l-.2-.4a.4.4,0,0,0-.1-.3c0-.2,0-.3-.1-.4v-.4c0-.2-.1-.3-.1-.4V80a8,8,0,0,1,16,0Zm59.9-19.9a96.2,96.2,0,0,0-135.8,0l-8.3,8.3L37.5,54.1a8,8,0,0,0-8.7-1.8,8.2,8.2,0,0,0-5,7.4v40a8,8,0,0,0,8,8h40a8,8,0,0,0,5.7-13.6L63.1,79.7l8.3-8.3a80,80,0,1,1,0,113.2,7.9,7.9,0,0,0-11.3,0,8,8,0,0,0,0,11.3A96,96,0,0,0,195.9,60.1Z"}))});xa.set("light",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),A.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),A.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),A.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});xa.set("thin",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),A.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),A.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),A.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});xa.set("regular",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var VD=function(e,n){return Yi(e,n,xa)},Zb=j.forwardRef(function(i,e){return A.createElement(yi,Object.assign({ref:e},i,{renderPath:VD}))});Zb.displayName="ClockCounterClockwise";var Ra=new Map;Ra.set("bold",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),A.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ra.set("duotone",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ra.set("fill",function(){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M152,120H136V56h8a32.1,32.1,0,0,1,32,32,8,8,0,0,0,16,0,48,48,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40H108a48,48,0,0,0,0,96h12v64H104a32.1,32.1,0,0,1-32-32,8,8,0,0,0-16,0,48,48,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-32,0H108a32,32,0,0,1,0-64h12Zm32,80H136V136h16a32,32,0,0,1,0,64Z"}))});Ra.set("light",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),A.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ra.set("thin",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),A.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ra.set("regular",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var jD=function(e,n){return Yi(e,n,Ra)},Jb=j.forwardRef(function(i,e){return A.createElement(yi,Object.assign({ref:e},i,{renderPath:jD}))});Jb.displayName="CurrencyDollar";var Ca=new Map;Ca.set("bold",function(i){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ca.set("duotone",function(i){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M146.5,90.5l51.4-52.6a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7Z",opacity:"0.2"}),A.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ca.set("fill",function(){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M231.8,32.2a28.1,28.1,0,0,0-39.7.1L18.3,210.4a8,8,0,0,0,3.9,13.4,154.1,154.1,0,0,0,35,4c33.4,0,66.8-10.9,98.3-32.2a232,232,0,0,0,50.9-46.8,8.1,8.1,0,0,0-.7-10.5l-18.8-18.7,45-47.9A28,28,0,0,0,231.8,32.2ZM189.2,144.5a227,227,0,0,1-43.1,38.2c-34.5,23.2-70,32.6-105.8,28.1L146.6,101.9l23.3,23.3c.1.1.2.3.4.4h.1Z"}))});Ca.set("light",function(i){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ca.set("thin",function(i){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ca.set("regular",function(i){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var PD=function(e,n){return Yi(e,n,Ca)},eS=j.forwardRef(function(i,e){return A.createElement(yi,Object.assign({ref:e},i,{renderPath:PD}))});eS.displayName="Knife";var Ia=new Map;Ia.set("bold",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),A.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ia.set("duotone",function(i){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",opacity:"0.2"}),A.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ia.set("fill",function(){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M224,39.5a8.1,8.1,0,0,0-7.5-7.5C140.2,27.5,79.1,50.5,53,93.6a87.3,87.3,0,0,0-12.8,49.1c.6,15.9,5.2,32.1,13.8,48L154.3,90.3a8.1,8.1,0,0,1,11.4,11.4L65.3,202c15.9,8.6,32.1,13.2,48,13.8h3.3A87,87,0,0,0,162.4,203C205.5,176.9,228.5,115.8,224,39.5Z"}),A.createElement("path",{d:"M57.1,196.1c-1.1-1.8-2.1-3.6-3.1-5.4L34.3,210.3a8.1,8.1,0,0,0,0,11.4,8.2,8.2,0,0,0,11.4,0L65.3,202l-5.4-3.1A9.3,9.3,0,0,1,57.1,196.1Z"}))});Ia.set("light",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),A.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ia.set("thin",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),A.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ia.set("regular",function(i){return A.createElement(A.Fragment,null,A.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var UD=function(e,n){return Yi(e,n,Ia)},tS=j.forwardRef(function(i,e){return A.createElement(yi,Object.assign({ref:e},i,{renderPath:UD}))});tS.displayName="Leaf";var ka=new Map;ka.set("bold",function(i){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),A.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),A.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),A.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});ka.set("duotone",function(i){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M33.1,74.6A8.1,8.1,0,0,0,32,78.7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.6,7.6,0,0,0,3.9,1h0l.9-106.8L33.1,74.6Z",opacity:"0.2"}),A.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});ka.set("fill",function(){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M229.9,70.8h0a.1.1,0,0,1-.1-.1,16.2,16.2,0,0,0-6-5.9l-88-49.5a16,16,0,0,0-15.6,0l-88,49.5a16.2,16.2,0,0,0-6,5.9.1.1,0,0,1-.1.1v.2A15,15,0,0,0,24,78.7v98.6a16.1,16.1,0,0,0,8.2,14l88,49.5a16.5,16.5,0,0,0,7.2,2h1.4a15.7,15.7,0,0,0,7-2l88-49.5a16.1,16.1,0,0,0,8.2-14V78.7A15.6,15.6,0,0,0,229.9,70.8ZM128,29.2,207.7,74,177.1,91.4,96.4,46.9Zm.9,89.6L48.4,74,80,56.2l80.8,44.5Zm7.2,103.5.8-89.6L169,114.4v38.1a8,8,0,0,0,16,0V105.3l31-17.6v89.6Z"}))});ka.set("light",function(i){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),A.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),A.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),A.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});ka.set("thin",function(i){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),A.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),A.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),A.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});ka.set("regular",function(i){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var zD=function(e,n){return Yi(e,n,ka)},nS=j.forwardRef(function(i,e){return A.createElement(yi,Object.assign({ref:e},i,{renderPath:zD}))});nS.displayName="Package";var Na=new Map;Na.set("bold",function(i){return A.createElement(A.Fragment,null,A.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),A.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),A.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Na.set("duotone",function(i){return A.createElement(A.Fragment,null,A.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Na.set("fill",function(){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M221.7,133.7l-42,42A8.3,8.3,0,0,1,174,178a7.7,7.7,0,0,1-3-.6,8,8,0,0,1-5-7.4V136H104a8,8,0,0,1,0-16h62V86a8,8,0,0,1,5-7.4,8.2,8.2,0,0,1,8.7,1.7l42,42A8.1,8.1,0,0,1,221.7,133.7ZM104,208H48V48h56a8,8,0,0,0,0-16H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16h56a8,8,0,0,0,0-16Z"}))});Na.set("light",function(i){return A.createElement(A.Fragment,null,A.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),A.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),A.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Na.set("thin",function(i){return A.createElement(A.Fragment,null,A.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),A.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),A.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Na.set("regular",function(i){return A.createElement(A.Fragment,null,A.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var BD=function(e,n){return Yi(e,n,Na)},iS=j.forwardRef(function(i,e){return A.createElement(yi,Object.assign({ref:e},i,{renderPath:BD}))});iS.displayName="SignOut";var Da=new Map;Da.set("bold",function(i){return A.createElement(A.Fragment,null,A.createElement("circle",{cx:"128",cy:"140",r:"88",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),A.createElement("line",{x1:"128",y1:"140",x2:"161.9",y2:"106.1",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),A.createElement("line",{x1:"104",y1:"12",x2:"152",y2:"12",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Da.set("duotone",function(i){return A.createElement(A.Fragment,null,A.createElement("circle",{cx:"128",cy:"128",r:"88",opacity:"0.2"}),A.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:i,strokeMiterlimit:"10",strokeWidth:"16"}),A.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Da.set("fill",function(){return A.createElement(A.Fragment,null,A.createElement("path",{d:"M104,16h48a8,8,0,0,0,0-16H104a8,8,0,0,0,0,16Z"}),A.createElement("path",{d:"M128,32a96,96,0,1,0,96,96A96.2,96.2,0,0,0,128,32Zm45.3,62.1-39.6,39.6a8.2,8.2,0,0,1-11.4,0,8.1,8.1,0,0,1,0-11.4l39.6-39.6a8.1,8.1,0,1,1,11.4,11.4Z"}))});Da.set("light",function(i){return A.createElement(A.Fragment,null,A.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),A.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),A.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Da.set("thin",function(i){return A.createElement(A.Fragment,null,A.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),A.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),A.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Da.set("regular",function(i){return A.createElement(A.Fragment,null,A.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:i,strokeMiterlimit:"10",strokeWidth:"16"}),A.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),A.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var qD=function(e,n){return Yi(e,n,Da)},rS=j.forwardRef(function(i,e){return A.createElement(yi,Object.assign({ref:e},i,{renderPath:qD}))});rS.displayName="Timer";const HD=({children:i})=>{const e=wr(),{currentSpace:n,setCurrentSpace:s}=Hb(),o=async()=>{await mD()},u=[{path:"/",label:"Dashboard",Icon:Xb},{path:"/stocks",label:"Stocks",Icon:nS},{path:"/prices",label:"Prix",Icon:Jb},{path:"/calculator",label:"Calculateur",Icon:Wb},{path:"/timers",label:"Transformations",Icon:rS},{path:"/history",label:"Historique",Icon:Zb}],h=m=>e.pathname===m;return T.jsxs("div",{className:"min-h-screen flex flex-col",children:[T.jsx("header",{className:"bg-card sticky top-0 z-10 border-b border-border shadow-soft",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[T.jsxs("h1",{className:"text-2xl font-bold text-peach flex gap-2 items-center",children:[T.jsx(Yb,{size:24,weight:"duotone"}),"Brewsy"]}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("div",{className:"flex items-center gap-2 bg-surface rounded-soft p-1 shadow-sm border border-border",children:[T.jsxs("button",{onClick:()=>s("naturopathie"),className:`flex items-center gap-2 px-3 py-2 rounded-soft transition-all ${n==="naturopathie"?"bg-mint text-white font-semibold shadow-soft":"text-text-muted hover:text-text hover:bg-card"}`,title:"Espace Drogue",children:[T.jsx(tS,{size:20,weight:n==="naturopathie"?"fill":"duotone"}),T.jsx("span",{className:"hidden sm:inline",children:"Drogue"})]}),T.jsxs("button",{onClick:()=>s("malandrinerie"),className:`flex items-center gap-2 px-3 py-2 rounded-soft transition-all ${n==="malandrinerie"?"bg-peach text-white font-semibold shadow-soft":"text-text-muted hover:text-text hover:bg-card"}`,title:"Espace Malandrinerie",children:[T.jsx(eS,{size:20,weight:n==="malandrinerie"?"fill":"duotone"}),T.jsx("span",{className:"hidden sm:inline",children:"Malandrinerie"})]})]}),T.jsx("button",{onClick:o,className:"p-2 rounded-soft hover:bg-surface transition-colors text-text-secondary",title:"Dconnexion",children:T.jsx(iS,{size:24,weight:"duotone"})})]})]})}),T.jsxs("div",{className:"flex-1 flex",children:[T.jsx("nav",{className:"w-64 glass-strong p-4 hidden md:block border-r border-border shadow-glass",children:T.jsx("ul",{className:"space-y-2",children:u.map(m=>T.jsx("li",{children:T.jsxs(zh,{to:m.path,className:`flex items-center gap-3 px-4 py-3 rounded-soft transition-colors ${h(m.path)?"bg-sky text-peach-dark font-semibold shadow-glass":"text-text-muted hover:glass"}`,children:[T.jsx(m.Icon,{size:24,weight:h(m.path)?"fill":"duotone"}),T.jsx("span",{children:m.label})]})},m.path))})}),T.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-y-auto",children:T.jsx("div",{className:"max-w-7xl mx-auto",children:i})})]}),T.jsx("nav",{className:"md:hidden glass-strong sticky bottom-0 border-t border-border shadow-glass",children:T.jsx("ul",{className:"flex justify-around py-2",children:u.map(m=>T.jsx("li",{children:T.jsxs(zh,{to:m.path,className:`flex flex-col items-center gap-1 px-3 py-2 rounded-soft transition-colors ${h(m.path)?"text-sky font-semibold":"text-text-muted"}`,children:[T.jsx(m.Icon,{size:24,weight:h(m.path)?"fill":"duotone"}),T.jsx("span",{className:"text-xs",children:m.label})]})},m.path))})})]})},un=({children:i,variant:e="primary",size:n="md",className:s="",...o})=>{const u="font-semibold rounded-soft transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",h={primary:"bg-gradient-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark text-white shadow-soft",secondary:"bg-surface hover:bg-surface-hover text-text border border-border",outline:"border-2 border-peach text-peach hover:bg-peach-light",danger:"bg-peach hover:bg-peach-dark text-white shadow-soft"},m={sm:"py-1.5 px-3 text-sm",md:"py-2 px-4",lg:"py-3 px-6 text-lg"};return T.jsx("button",{className:`${u} ${h[e]} ${m[n]} ${s}`,...o,children:i})},FD=()=>{const{user:i}=ba(),[e,n]=j.useState([]),[s,o]=j.useState([]),[u,h]=j.useState(null),[m,g]=j.useState("1"),[p,v]=j.useState("0"),[b,x]=j.useState({});j.useEffect(()=>{if(!i)return;const se=Fb(i.uid,n),ge=ty(i.uid,o);return()=>{se(),ge()}},[i]);const M=se=>e.find(ge=>ge.crateId===se),G=async(se,ge,he)=>{if(!i)return;const I=M(se),C=Math.max(0,(I?.quantity||0)+he);await hp(i.uid,se,C,ge)},Y=async(se,ge,he)=>{i&&await hp(i.uid,se,Math.max(0,he),ge)},$=se=>{const he=M(se)?.quantity||0;h(se),g(String(he));const I=ie.get(se)||0;v(String(I*he))},re=async(se,ge)=>{const he=parseInt(m)||0,I=parseInt(p)||0;if(!i||he<=0||I<0)return;const C=M(se);if(!C||C.quantity<he){alert("Stock insuffisant");return}const D=(ie.get(se)||0)*he;try{await xD(i.uid,se,ge,he,D,I,void 0),await hp(i.uid,se,C.quantity-he,ge),h(null),g("1"),v("0")}catch(O){console.error("Erreur lors de la vente:",O),alert("Erreur lors de l'enregistrement de la vente")}},ie=new Map(s.map(se=>[se.crateId,Bd(se.values)])),ae=ud.reduce((se,ge)=>{const he=M(ge.id),I=ie.get(ge.id)||0;return se+Bp(he?.quantity||0,I)},0);return T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Stocks"}),T.jsxs("div",{className:"text-right",children:[T.jsx("div",{className:"text-sm text-dark-600 dark:text-dark-400",children:"Valeur totale"}),T.jsxs("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:[ae.toLocaleString()," $"]})]})]}),T.jsx("div",{className:"grid grid-cols-1 gap-3",children:ud.map(se=>{const he=M(se.id)?.quantity||0,I=ie.get(se.id)||0,C=Bp(he,I);return T.jsx(ht,{children:T.jsxs(dt,{className:"p-4",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[T.jsx("span",{className:"text-3xl",children:se.icon}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-semibold text-dark-800 dark:text-dark-100",children:se.label}),I>0&&T.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[I.toLocaleString()," $ / caisse"]})]})]}),T.jsxs("div",{className:"flex items-center gap-1.5",children:[T.jsx("button",{onClick:()=>G(se.id,se.label,-10),className:"w-9 h-9 rounded-soft bg-peach-light hover:bg-peach transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"-10",children:"--"}),T.jsx("button",{onClick:()=>G(se.id,se.label,-1),className:"w-9 h-9 rounded-soft bg-lavender-light hover:bg-lavender transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"-1",children:"-"}),T.jsx("input",{type:"number",value:b[se.id]!==void 0?b[se.id]:he,onChange:R=>{const D=R.target.value;x(O=>({...O,[se.id]:D}))},onBlur:()=>{const R=b[se.id];R!==void 0&&(Y(se.id,se.label,parseInt(R)||0),x(D=>{const O={...D};return delete O[se.id],O}))},onKeyDown:R=>{R.key==="Enter"&&R.currentTarget.blur()},className:"w-20 text-center px-3 py-2 rounded-soft border border-border bg-card text-text font-semibold shadow-sm focus:ring-2 focus:ring-peach/30 focus:border-peach outline-none transition-all"}),T.jsx("button",{onClick:()=>G(se.id,se.label,1),className:"w-9 h-9 rounded-soft bg-sage-light hover:bg-sage transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"+1",children:"+"}),T.jsx("button",{onClick:()=>G(se.id,se.label,10),className:"w-9 h-9 rounded-soft bg-butter-light hover:bg-butter transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"+10",children:"++"})]}),T.jsx("div",{className:"text-right min-w-[100px]",children:T.jsxs("div",{className:"text-lg font-bold text-peach-600 dark:text-peach-400",children:[C.toLocaleString()," $"]})}),T.jsx(un,{size:"sm",variant:"secondary",onClick:()=>$(se.id),disabled:he===0,children:" Vendre"})]}),u===se.id&&T.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:T.jsxs("div",{className:"flex items-end gap-2",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Quantit"}),T.jsx("input",{type:"number",min:"1",max:he,value:m,onChange:R=>{const D=R.target.value;g(D);const O=parseInt(D)||0;O>0&&v(String(I*O))},className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Prix total rcolt"}),T.jsx("input",{type:"number",min:"0",value:p,onChange:R=>v(R.target.value),className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),T.jsx(un,{size:"sm",variant:"secondary",onClick:()=>h(null),children:""}),T.jsx(un,{size:"sm",onClick:()=>re(se.id,se.label),children:" Vendre"})]})})]})},se.id)})})]})},GD=()=>{const{user:i}=ba(),[e,n]=j.useState([]),[s,o]=j.useState({});j.useEffect(()=>i?ty(i.uid,n):void 0,[i]);const u=p=>e.find(v=>v.crateId===p),h=async p=>{if(!i)return;const v=s[p],b=parseInt(v);!b||b<=0||(await ED(i.uid,p,b),o({...s,[p]:""}))},m=async(p,v)=>{i&&await TD(i.uid,p,v)},g=(p,v)=>{p.key==="Enter"&&h(v)};return T.jsxs("div",{className:"space-y-4",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Prix moyens"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ud.map(p=>{const v=u(p.id),b=v?Bd(v.values):0,x=v?Math.min(...v.values):0,M=v?Math.max(...v.values):0,G=v?.values.length||0;return T.jsx(ht,{children:T.jsxs(dt,{className:"p-4",children:[T.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-2xl",children:p.icon}),T.jsx("h3",{className:"font-semibold text-dark-800 dark:text-dark-100",children:p.label})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("div",{className:"text-xl font-bold text-peach-600 dark:text-peach-400",children:b>0?`${b.toLocaleString()} $`:""}),T.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[G," prix"]})]})]}),G>0&&T.jsxs("div",{className:"flex gap-4 text-xs mb-3 py-2 px-3 bg-butter-50 dark:bg-dark-700 rounded",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-dark-500 dark:text-dark-500",children:"Min:"}),T.jsxs("span",{className:"ml-1 font-semibold text-sage-600 dark:text-sage-400",children:[x.toLocaleString()," $"]})]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-dark-500 dark:text-dark-500",children:"Max:"}),T.jsxs("span",{className:"ml-1 font-semibold text-lavender-600 dark:text-lavender-400",children:[M.toLocaleString()," $"]})]})]}),T.jsxs("div",{className:"flex gap-2 mb-3",children:[T.jsx("input",{type:"number",placeholder:"Nouveau prix",value:s[p.id]||"",onChange:Y=>o({...s,[p.id]:Y.target.value}),onKeyPress:Y=>g(Y,p.id),className:"flex-1 px-3 py-1.5 text-sm rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"}),T.jsx("button",{onClick:()=>h(p.id),className:"px-4 py-1.5 text-sm font-semibold rounded-soft bg-linear-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark text-white transition-all shadow-sm hover:shadow-soft",children:"+"})]}),v&&v.values.length>0&&T.jsxs("div",{className:"space-y-1",children:[v.values.slice(0,3).map((Y,$)=>T.jsxs("div",{className:"flex items-center justify-between py-1 px-2 text-sm   rounded border border-peach/20 bg-peach/20 dark:border-dark-600",children:[T.jsxs("span",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[Y.toLocaleString()," $"]}),T.jsx("button",{onClick:()=>m(p.id,$),className:"text-xs px-2 py-0.5 rounded 0 text-dark  dark:hover:bg-red-900/50 transition-colors",children:""})]},$)),v.values.length>3&&T.jsxs("div",{className:"text-xs text-center text-dark-500 dark:text-dark-500 py-1",children:["+",v.values.length-3," autre(s)"]})]})]})},p.id)})})]})},sS=({label:i,children:e,className:n="",...s})=>T.jsxs("div",{className:"w-full",children:[i&&T.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:i}),T.jsx("select",{className:`w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all ${n}`,...s,children:e})]}),aS=j.forwardRef(({label:i,error:e,className:n="",...s},o)=>T.jsxs("div",{className:"w-full",children:[i&&T.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-200 mb-1",children:i}),T.jsx("input",{ref:o,className:`w-full px-4 py-2 rounded-input border ${e?"border-peach-dark focus:ring-peach-dark":"border-border focus:ring-peach/30"} bg-card text-text focus:outline-none focus:ring-2 focus:border-peach shadow-sm transition-all ${n}`,...s}),e&&T.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:e})]}));aS.displayName="Input";const KD=()=>{const[i,e]=j.useState([]),[n,s]=j.useState(null),[o,u]=j.useState("1");j.useEffect(()=>{h()},[]);const h=async()=>{const x=await zd();e(x),x.length>0&&s(x[0])},m=x=>{const M=i.find(G=>G.id===x);s(M||null)},g=parseInt(o)||1,p=n?RD(n,g):0,v=CD(g),b=n?ID(n,g):0;return T.jsxs("div",{className:"space-y-4",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Calculateur"}),T.jsx(ht,{children:T.jsx(dt,{className:"p-4",children:T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[T.jsx(sS,{label:"Transformation",value:n?.id||"",onChange:x=>m(x.target.value),children:i.length===0?T.jsx("option",{children:"Chargement..."}):i.map(x=>T.jsxs("option",{value:x.id,children:[x.name," (",x.durationHours,"h)"]},x.id))}),T.jsx(aS,{label:"Nombre",type:"number",min:"1",value:o,onChange:x=>u(x.target.value)})]})})}),n&&T.jsx(ht,{children:T.jsxs(dt,{className:"p-4",children:[T.jsx("h2",{className:"font-semibold text-dark-800 dark:text-dark-100 mb-3",children:n.name}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[T.jsxs("div",{className:"p-2 bg-butter-50 dark:bg-dark-700 rounded",children:[T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Matriau"}),T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.input.quantity," ",n.input.materialName]})]}),T.jsxs("div",{className:"p-2 bg-lavender-50 dark:bg-dark-700 rounded",children:[T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Outil"}),T.jsx("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:n.tool.name})]}),T.jsxs("div",{className:"p-2 bg-sage-50 dark:bg-dark-700 rounded",children:[T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Dure"}),T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.durationHours,"h",T.jsx("span",{className:"text-xs text-dark-400 dark:text-dark-600",children:" (-1h si )"})]})]}),T.jsxs("div",{className:"p-2 bg-sky-50 dark:bg-dark-700 rounded",children:[T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Caisse"}),T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.crate.quantityPerCrate," /caisse"]})]})]})]})}),T.jsx(ht,{children:T.jsxs(dt,{className:"p-4",children:[T.jsxs("h2",{className:"font-semibold text-dark-800 dark:text-dark-100 mb-3",children:["Pour ",g," transformation",g>1?"s":""]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[T.jsxs("div",{className:"p-3 bg-gradient-to-br from-peach-50 to-butter-50 dark:from-peach-900/20 dark:to-butter-900/20 rounded-cozy",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Matriaux ncessaires"}),T.jsx("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:p}),T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:n?.input.materialName})]}),T.jsxs("div",{className:"p-3 bg-gradient-to-br from-lavender-50 to-sage-50 dark:from-lavender-900/20 dark:to-sage-900/20 rounded-cozy",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Outils requis"}),T.jsx("div",{className:"text-2xl font-bold text-lavender-600 dark:text-lavender-400",children:v}),T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:n?.tool.name})]}),n&&n.tool.price>0&&T.jsxs("div",{className:"p-3 bg-gradient-to-br from-sky-50 to-lavender-50 dark:from-sky-900/20 dark:to-lavender-900/20 rounded-cozy",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Cot total"}),T.jsxs("div",{className:"text-2xl font-bold text-sky-600 dark:text-sky-400",children:[b.toLocaleString()," $"]}),T.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[n.tool.price.toLocaleString()," $  ",v]})]})]})]})})]})},$D=({isOpen:i,onClose:e,title:n,children:s,actions:o})=>i?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-dark-900/50 backdrop-blur-sm",onClick:e,children:T.jsxs("div",{className:"bg-card rounded-soft-lg shadow-soft-lg border border-border max-w-md w-full overflow-hidden",onClick:u=>u.stopPropagation(),children:[T.jsxs("div",{className:"px-6 py-4 border-b border-border flex items-center justify-between",children:[T.jsx("h2",{className:"text-lg font-semibold text-text",children:n}),T.jsx("button",{onClick:e,className:"w-8 h-8 rounded-soft flex items-center justify-center hover:bg-surface transition-colors text-text-muted hover:text-text",children:""})]}),T.jsx("div",{className:"px-6 py-4 text-text-secondary",children:s}),o&&T.jsx("div",{className:"px-6 py-4 border-t border-border flex items-center justify-end gap-2",children:o})]})}):null,QD=()=>{const{user:i}=ba(),[e,n]=j.useState([]),[s,o]=j.useState([]),[u,h]=j.useState(null),[m,g]=j.useState(!1),[p,v]=j.useState(""),[b,x]=j.useState("1"),[M,G]=j.useState(""),[Y,$]=j.useState(""),[re,ie]=j.useState(!1),[ae,se]=j.useState(null),[,ge]=j.useState(Date.now());j.useEffect(()=>{he()},[]),j.useEffect(()=>i?Gb(i.uid,o):void 0,[i]),j.useEffect(()=>{const H=setInterval(()=>{ge(Date.now())},1e3);return()=>clearInterval(H)},[]);const he=async()=>{const[H,de]=await Promise.all([zd(),vD()]);n(H),h(de),H.length>0&&v(H[0].id)},I=async()=>{if(!i||!p)return;const H=e.find(ke=>ke.id===p);if(!H)return;let de;M&&Y?de=new Date(`${M}T${Y}`):M&&(de=new Date(M)),await bD(i.uid,p,parseInt(b)||1,H.durationHours,de),x("1"),G(""),$(""),g(!1)},C=async H=>{!i||!H||await AD(i.uid,H,u?.rules.timeReductionHours)},R=async H=>{!i||!H.id||(await SD(i.uid,H.id,"DONE"),await wD(i.uid,H.transformationId,H.startedAt,H.endsAt,H.reducedByAction))},D=async H=>{i&&await AE(i.uid,H)},O=H=>{se(H),ie(!0)},P=async()=>{!i||!ae||(await AE(i.uid,ae),ie(!1),se(null))},k=H=>e.find(de=>de.id===H.transformationId),We=s.filter(H=>H.status==="RUNNING"&&!ld(H.endsAt.toDate())),ct=s.filter(H=>H.status!=="DONE"&&ld(H.endsAt.toDate())),W=s.filter(H=>H.status==="DONE");return T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Transformations"}),T.jsx(un,{onClick:()=>g(!m),size:"sm",children:m?"":"+ Nouveau"})]}),m&&T.jsx(ht,{children:T.jsxs(dt,{className:"p-4",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[T.jsx(sS,{label:"Type",value:p,onChange:H=>v(H.target.value),children:e.map(H=>T.jsxs("option",{value:H.id,children:[H.name," (",H.durationHours,"h)"]},H.id))}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Productions places"}),T.jsx("input",{type:"number",min:"1",value:b,onChange:H=>x(H.target.value),className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:" Date de dbut (optionnel)"}),T.jsx("input",{type:"date",value:M,onChange:H=>G(H.target.value),className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-lavender/30 focus:border-lavender transition-all hover:border-lavender/50",style:{colorScheme:"light dark"}})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:" Heure de dbut (optionnel)"}),T.jsx("input",{type:"time",value:Y,onChange:H=>$(H.target.value),className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-lavender/30 focus:border-lavender transition-all hover:border-lavender/50",style:{colorScheme:"light dark"}})]})]}),M&&T.jsxs("div",{className:"mb-3 p-2 bg-lavender-light rounded-soft text-xs text-text-muted",children:[" Si vide, dmarre maintenant. Sinon, dmarre le ",M," ",Y&&` ${Y}`]}),T.jsx(un,{onClick:I,className:"w-full",children:" Dmarrer"})]})}),ct.length>0&&T.jsxs("div",{className:"space-y-2",children:[T.jsxs("h2",{className:"text-lg font-semibold text-sage-600 dark:text-sage-400",children:[" Prtes (",ct.length,")"]}),ct.map(H=>{const de=k(H);return T.jsx(ht,{className:"border-2 border-sage-400 dark:border-sage-600",children:T.jsx(dt,{className:"p-3",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[de?.name,H.reducedByAction&&T.jsx("span",{className:"ml-2 text-xs",children:""})]}),T.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400",children:[H.inputQuantityUsed," production",H.inputQuantityUsed>1?"s":""]})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx(un,{size:"sm",variant:"secondary",onClick:()=>R(H),children:"Rcolter"}),T.jsx(un,{size:"sm",variant:"danger",onClick:()=>H.id&&D(H.id),children:""})]})]})})},H.id)})]}),We.length>0&&T.jsxs("div",{className:"space-y-2",children:[T.jsxs("h2",{className:"text-lg font-semibold text-lavender-600 dark:text-lavender-400",children:["En cours (",We.length,")"]}),We.map(H=>{const de=k(H),ke=$b(H.endsAt.toDate()),Be=H.durationHours*60*60*1e3,V=Math.max(0,Math.min(100,(Be-ke)/Be*100));return T.jsx(ht,{children:T.jsxs(dt,{className:"p-3",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[de?.name,H.reducedByAction&&T.jsx("span",{className:"ml-2 text-xs",children:""})]}),T.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400",children:[H.inputQuantityUsed," production",H.inputQuantityUsed>1?"s":"","  Fin prvue: ",H.endsAt.toDate().toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-sm font-semibold text-lavender-600 dark:text-lavender-400",children:Qb(ke)}),T.jsx(un,{variant:"secondary",size:"sm",onClick:()=>H.id&&C(H.id),disabled:H.reducedByAction,title:H.reducedByAction?"Dj arros":"Arroser (-1h)",children:""}),T.jsx(un,{variant:"danger",size:"sm",onClick:()=>H.id&&O(H.id),title:"Annuler la production",children:"Annuler"})]})]}),T.jsx("div",{className:"w-full bg-surface rounded-full h-2 overflow-hidden border border-border",children:T.jsx("div",{className:"h-full bg-linear-to-r from-lavender to-peach transition-all duration-1000",style:{width:`${V}%`}})})]})},H.id)})]}),W.length>0&&T.jsxs("div",{className:"space-y-2",children:[T.jsxs("h2",{className:"text-sm font-semibold text-dark-600 dark:text-dark-400",children:["Rcentes (",W.slice(0,3).length,")"]}),W.slice(0,3).map(H=>{const de=k(H);return T.jsx(ht,{className:"opacity-60",children:T.jsx(dt,{className:"p-2",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"text-sm",children:[T.jsx("span",{className:"font-semibold text-dark-800 dark:text-dark-100",children:de?.name}),T.jsxs("span",{className:"text-xs text-dark-600 dark:text-dark-400 ml-2",children:[" ",H.inputQuantityUsed," production",H.inputQuantityUsed>1?"s":""]})]}),T.jsx(un,{variant:"danger",size:"sm",onClick:()=>H.id&&D(H.id),className:"text-xs",children:""})]})})},H.id)})]}),s.length===0&&T.jsx(ht,{children:T.jsxs(dt,{className:"p-8 text-center",children:[T.jsx("div",{className:"text-4xl mb-3",children:""}),T.jsx("p",{className:"text-dark-600 dark:text-dark-400 mb-3",children:"Aucune transformation en cours"}),T.jsx(un,{onClick:()=>g(!0),size:"sm",children:"Dmarrer une transformation"})]})}),T.jsx($D,{isOpen:re,onClose:()=>ie(!1),title:"Annuler la production",actions:T.jsxs(T.Fragment,{children:[T.jsx(un,{variant:"secondary",onClick:()=>ie(!1),children:"Non, garder"}),T.jsx(un,{variant:"danger",onClick:P,children:"Oui, annuler"})]}),children:T.jsx("p",{className:"text-text-secondary",children:"tes-vous sr de vouloir annuler cette production ? Cette action est irrversible."})})]})},YD=()=>{const{user:i}=ba(),[e,n]=j.useState([]),[s,o]=j.useState([]);j.useEffect(()=>{u()},[]),j.useEffect(()=>i?Kb(i.uid,n):void 0,[i]);const u=async()=>{const v=await zd();o(v)},h=v=>s.find(b=>b.id===v),m=e.reduce((v,b)=>{const x=b.createdAt.toDate().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return v[x]||(v[x]=[]),v[x].push(b),v},{}),g=v=>v.toDate().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),p=v=>{const b=v.startedAt.toDate(),M=v.endsAt.toDate().getTime()-b.getTime();return Math.floor(M/(1e3*60*60))};return T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Historique"}),T.jsxs("div",{className:"text-sm text-dark-600 dark:text-dark-400",children:[e.length," entre",e.length>1?"s":""]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[T.jsx(ht,{children:T.jsx(dt,{className:"p-3",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Total"}),T.jsx("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:e.length})]})})}),T.jsx(ht,{children:T.jsx(dt,{className:"p-3",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Transformations"}),T.jsx("div",{className:"text-2xl font-bold text-lavender-600 dark:text-lavender-400",children:e.filter(v=>v.type==="TRANSFORMATION").length})]})})}),T.jsx(ht,{children:T.jsx(dt,{className:"p-3",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Ventes"}),T.jsx("div",{className:"text-2xl font-bold text-sage-600 dark:text-sage-400",children:e.filter(v=>v.type==="SALE").length})]})})}),T.jsx(ht,{children:T.jsx(dt,{className:"p-3",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Cette semaine"}),T.jsx("div",{className:"text-2xl font-bold text-sky-600 dark:text-sky-400",children:e.filter(v=>{const b=new Date;return b.setDate(b.getDate()-7),v.createdAt.toDate()>b}).length})]})})})]}),T.jsx("div",{className:"space-y-6",children:Object.keys(m).length===0?T.jsx(ht,{children:T.jsx(dt,{children:T.jsxs("div",{className:"text-center py-12",children:[T.jsx("div",{className:"text-6xl mb-4",children:""}),T.jsx("p",{className:"text-dark-600 dark:text-dark-400 mb-2",children:"Aucun historique pour le moment"}),T.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-500",children:"Les transformations et ventes apparatront ici"})]})})}):Object.entries(m).map(([v,b])=>T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold text-dark-700 dark:text-dark-300 mb-3 capitalize",children:v}),T.jsx("div",{className:"space-y-3",children:b.map(x=>{if(x.type==="TRANSFORMATION"){const M=x,G=h(M.transformationId),Y=p(M);return T.jsx(ht,{children:T.jsx(dt,{className:"p-3",children:T.jsx("div",{className:"flex items-start justify-between",children:T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-lavender-400 to-peach-400 flex items-center justify-center text-white text-sm",children:""}),T.jsx("h3",{className:"text-base font-semibold text-dark-800 dark:text-dark-100",children:G?.name||"Transformation inconnue"}),M.reducedByAction&&T.jsx("span",{className:"px-2 py-0.5 bg-sage-100 dark:bg-sage-900/30 text-sage-700 dark:text-sage-300 text-xs rounded-cozy font-semibold",children:""})]}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Dbut"}),T.jsx("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:g(M.startedAt)})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Fin"}),T.jsx("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:g(M.endsAt)})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Dure"}),T.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[Y,"h"]})]})]})]})})})},x.id)}else{const M=x,G=M.actualValue-M.estimatedValue,Y=Math.abs(G)>0;return T.jsx(ht,{className:Y?"border-l-4 border-l-peach-400":"",children:T.jsx(dt,{className:"p-3",children:T.jsx("div",{className:"flex items-start justify-between",children:T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-sage-400 to-peach-400 flex items-center justify-center text-white text-sm",children:""}),T.jsxs("h3",{className:"text-base font-semibold text-dark-800 dark:text-dark-100",children:["Vente de ",M.crateLabel]})]}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm mb-2",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Quantit"}),T.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[M.quantitySold," caisse",M.quantitySold>1?"s":""]})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Valeur estime"}),T.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[M.estimatedValue.toLocaleString()," $"]})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Valeur rcolte"}),T.jsxs("div",{className:`font-semibold ${G>0?"text-sage-600 dark:text-sage-400":G<0?"text-peach-600 dark:text-peach-400":"text-dark-700 dark:text-dark-300"}`,children:[M.actualValue.toLocaleString()," $"]})]}),Y&&T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Diffrence"}),T.jsxs("div",{className:`font-semibold ${G>0?"text-sage-600 dark:text-sage-400":"text-peach-600 dark:text-peach-400"}`,children:[G>0?"+":"",G.toLocaleString()," $"]})]})]}),M.notes&&T.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400 italic bg-dark-50 dark:bg-dark-800 rounded p-2",children:[" ",M.notes]})]})})})},x.id)}})})]},v))})]})},WD=async()=>{try{console.log(" Dbut de l'initialisation Firestore...");const i=rn(St,"configs","default");await ci(i,{name:"default",rules:{timeReductionHours:1},updatedAt:cn()}),console.log(" Config cre");const e=[{id:"zeed",name:"Zeed",input:{materialName:"Feuille",quantity:60},tool:{name:"Pot de terre",price:0},durationHours:48,crate:{name:"Caisse de Zeed",quantityPerCrate:20}},{id:"pandoxine",name:"Pandoxine",input:{materialName:"Viande",quantity:18},tool:{name:"Marmite",price:0},durationHours:96,crate:{name:"Caisse de Pandoxine",quantityPerCrate:12}},{id:"krakenine",name:"Krakenine",input:{materialName:"Huile",quantity:10},tool:{name:"Bidon de chauffe",price:0},durationHours:24,crate:{name:"Caisse de Krakenine",quantityPerCrate:12}},{id:"psylocybine",name:"Psylocybine",input:{materialName:"Champignon",quantity:60},tool:{name:"Sachet de fermentation",price:0},durationHours:72,crate:{name:"Caisse de Psylocybine",quantityPerCrate:20}}];for(const n of e){const s=rn(St,"configs","default","transformations",n.id);await ci(s,n),console.log(` Transformation ${n.name} cre`)}return console.log(" Initialisation termine avec succs!"),{success:!0,message:"Toutes les donnes ont t cres avec succs!"}}catch(i){return console.error(" Erreur lors de l'initialisation:",i),{success:!1,message:`Erreur: ${i.message}`}}},XD="Donnes d'initialisation pour l'espace Malandrinerie dans Firestore",ZD={malandrinerie:{materials:[{id:"plastiques",name:"Plastiques",unit:"unit"},{id:"rubans",name:"Rubans",unit:"unit"},{id:"dentiers",name:"Dentiers",unit:"unit"},{id:"pantheres",name:"Panthres",unit:"unit"},{id:"tubes",name:"Tubes",unit:"unit"},{id:"sacs",name:"Sacs",unit:"unit"},{id:"bracelets",name:"Bracelets",unit:"unit"},{id:"consoles",name:"Consoles",unit:"unit"},{id:"smartphones",name:"Smartphones",unit:"unit"},{id:"bons",name:"Bons d'achats",unit:"unit"},{id:"dentifrices",name:"Dentifrices",unit:"unit"},{id:"cigarettes",name:"Cigarettes",unit:"unit"},{id:"plexiglas",name:"Plexiglas",unit:"unit"},{id:"lentilles",name:"Lentilles",unit:"unit"},{id:"batteries",name:"Batteries",unit:"unit"},{id:"flashs",name:"Flashs",unit:"unit"},{id:"circuits",name:"Circuits",unit:"unit"},{id:"ecrous",name:"crous",unit:"unit"},{id:"vis",name:"Vis",unit:"unit"},{id:"fils",name:"Fils",unit:"unit"},{id:"aluminium",name:"Aluminium",unit:"unit"},{id:"viandes",name:"Viandes",unit:"unit"},{id:"abats",name:"Abats",unit:"unit"},{id:"langues",name:"Langues",unit:"unit"},{id:"rognons",name:"Rognons",unit:"unit"},{id:"jerricans",name:"Jerricans",unit:"unit"},{id:"briquets",name:"Briquets",unit:"unit"},{id:"bonbonnes",name:"Bonbonnes",unit:"unit"},{id:"additifs",name:"Additifs",unit:"unit"},{id:"gels",name:"Gels",unit:"unit"},{id:"accelerometres",name:"Acclromtres",unit:"unit"}],recipes:[{id:"couteau",name:"Couteau",emoji:"",category:"T1",batchSize:1,unitPrice:1e3,materials:{plastiques:6,rubans:6,dentiers:6,pantheres:2}},{id:"zips",name:"Zips",emoji:"",category:"T1",batchSize:12,unitPrice:250,materials:{tubes:2,plastiques:6,sacs:4,bracelets:4}},{id:"kits_crochetage_miteux",name:"Kits de crochetage miteux",emoji:"",category:"T1",batchSize:16,unitPrice:250,materials:{consoles:2,tubes:4,plastiques:4,rubans:6}},{id:"faux_tickets_parking",name:"Faux tickets de parking",emoji:"",category:"T1",batchSize:4,unitPrice:0,materials:{smartphones:3,bons:10,rubans:2,consoles:5}},{id:"paquet_cigarette_era",name:"Paquet de cigarette Era",emoji:"",category:"T1",batchSize:5,unitPrice:0,materials:{dentifrices:2,cigarettes:10,bons:2,consoles:2}},{id:"tenue_stagiaire_pole_emploi",name:"Tenue de stagiaire Ple Emploi",emoji:"",category:"T1",batchSize:4,unitPrice:1e3,materials:{bons:6,consoles:4,cigarettes:2,rubans:2,bracelets:3,smartphones:3}},{id:"antistress_artisanal",name:"Antistress artisanal",emoji:"",category:"T1",batchSize:6,unitPrice:400,materials:{dentiers:2,sacs:2,cigarettes:6,dentifrices:6}},{id:"9x19_ap",name:"9x19 AP",emoji:"",category:"T1",batchSize:6,unitPrice:450,materials:{pantheres:4,bracelets:4,sacs:2,dentiers:6}},{id:"pistolet",name:"Pistolet",emoji:"",category:"T1",batchSize:1,unitPrice:3500,materials:{pantheres:6,dentifrices:6,tubes:10,plastiques:8,sacs:10}},{id:"gilet_pare_balles_miteux",name:"Gilet pare-balles miteux",emoji:"",category:"T2",batchSize:1,unitPrice:0,materials:{plexiglas:11,rubans:6,bracelets:6,sacs:3}},{id:"tenue_stagiaire_entreprise",name:"Tenue de stagiaire d'entreprise",emoji:"",category:"T2",batchSize:4,unitPrice:2e3,materials:{lentilles:5,batteries:5,flashs:6,circuits:3,bons:8,cigarettes:5}},{id:"kits_crochetage_avance",name:"Kits de crochetage avanc",emoji:"",category:"T2",batchSize:16,unitPrice:700,materials:{ecrous:5,vis:5,fils:4,circuits:4,dentiers:4}},{id:"mre_peach",name:"MRE Peach / Z ERA",emoji:"",category:"T2",batchSize:6,unitPrice:750,materials:{aluminium:6,viandes:6,abats:5,langues:3,rognons:3}},{id:"bidons_artisanaux",name:"Bidons artisanaux",emoji:"",category:"T2",batchSize:1,unitPrice:10,materials:{plexiglas:3,vis:3,jerricans:6,briquets:6,bonbonnes:4}},{id:"baume_anti_stress",name:"Baume anti-stress",emoji:"",category:"T2",batchSize:4,unitPrice:1e3,materials:{plexiglas:4,additifs:6,cigarettes:4,dentifrices:8}},{id:"pistolet_combat",name:"Pistolet de combat",emoji:"",category:"T2",batchSize:1,unitPrice:6e3,materials:{pistolet:1,vis:3,lentilles:8,flashs:11,pantheres:3},requiresCraft:["pistolet"]},{id:"pistolet_lance",name:"Pistolet lance-...",emoji:"",category:"T2",batchSize:1,unitPrice:5e3,materials:{gels:3,accelerometres:6}},{id:"fusees_eclairantes",name:"Fuses clairantes",emoji:"",category:"T2",batchSize:20,unitPrice:750,materials:{additifs:5,bonbonnes:6,briquets:6,plexiglas:3,flashs:3}},{id:"cocktail_molotov",name:"Cocktail Molotov",emoji:"",category:"T2",batchSize:2,unitPrice:5e3,materials:{jerricans:9,additifs:11,briquets:8,gels:6,fils:5,batteries:8}},{id:"tec9",name:"Tec-9",emoji:"",category:"T2",batchSize:1,unitPrice:1e4,materials:{gels:13,ecrous:8,vis:3,lentilles:9,accelerometres:12}}],groups:[{id:"glory",name:"Glory"},{id:"b2mc",name:"B2MC"},{id:"ob",name:"OB"},{id:"g7",name:"G7"},{id:"mrg",name:"MRG"},{id:"88",name:"88"},{id:"individual",name:"Individuel"}]}},dp={description:XD,spaces:ZD},JD=async()=>{try{const i=Ud.currentUser;if(!i)return{success:!1,message:"Vous devez tre connect pour initialiser les donnes"};console.log(" Dbut de l'initialisation Malandrinerie...");const e=dp.spaces.malandrinerie.materials,n=dp.spaces.malandrinerie.recipes,s=dp.spaces.malandrinerie.groups;console.log(" Cration des matires premires...");for(const o of e){const u=rn(St,"configs","default","spaces","malandrinerie","materials",o.id);await ci(u,{...o,createdAt:cn(),updatedAt:cn()})}console.log(` ${e.length} matires premires cres`),console.log(" Cration des recettes...");for(const o of n){const u=rn(St,"configs","default","spaces","malandrinerie","recipes",o.id);await ci(u,{...o,createdAt:cn(),updatedAt:cn()})}console.log(` ${n.length} recettes cres`),console.log(" Cration des groupes...");for(const o of s){const u=rn(St,"configs","default","spaces","malandrinerie","groups",o.id);await ci(u,{...o,createdAt:cn(),updatedAt:cn()})}console.log(` ${s.length} groupes crs`),console.log(" Initialisation des stocks utilisateur...");for(const o of e){const u=rn(St,"users",i.uid,"materialStocks",o.id);await ci(u,{materialId:o.id,materialName:o.name,space:"malandrinerie",quantity:0,unit:o.unit,createdAt:cn(),updatedAt:cn()})}return console.log(` ${e.length} stocks initialiss`),console.log(" Initialisation Malandrinerie termine avec succs!"),{success:!0,message:` ${e.length} matires, ${n.length} recettes, ${s.length} groupes et ${e.length} stocks crs!`}}catch(i){return console.error(" Erreur lors de l'initialisation Malandrinerie:",i),{success:!1,message:`Erreur: ${i.message}`}}},e3=()=>{const[i,e]=j.useState(!1),[n,s]=j.useState(null),[o,u]=j.useState(!1),[h,m]=j.useState(null),g=async()=>{e(!0),s(null);const b=await WD();s(b),e(!1)},p=async()=>{u(!0),m(null);const b=await JD();m(b),u(!1)},v=({result:b})=>b?T.jsxs("div",{className:`p-4 rounded-soft mt-4 ${b.success?"bg-sage-light border border-sage":"bg-peach-light border border-peach"}`,children:[T.jsx("p",{className:`font-semibold mb-2 ${b.success?"text-sage-dark":"text-peach-dark"}`,children:b.success?" Succs!":" Erreur"}),T.jsx("p",{className:"text-sm text-text-secondary",children:b.message})]}):null;return T.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:T.jsxs("div",{className:"max-w-6xl w-full space-y-6",children:[T.jsx("h1",{className:"text-4xl font-bold text-text text-center mb-8",children:" Initialisation Firestore"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsx(ht,{children:T.jsxs(dt,{className:"p-6",children:[T.jsx("h2",{className:"text-2xl font-bold text-mint-dark mb-4 flex items-center gap-2",children:" Espace Drogue"}),T.jsxs("div",{className:"space-y-3 mb-6",children:[T.jsx("p",{className:"text-sm text-text-secondary",children:"Initialise les donnes pour l'espace Drogue/Naturopathie :"}),T.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary ml-4",children:[T.jsx("li",{children:"Configuration globale"}),T.jsx("li",{children:"4 transformations (Zeed, Pandoxine, Krakenine, Psylocybine)"}),T.jsx("li",{children:"Rgle de rduction de temps (1h)"})]}),T.jsx("div",{className:"bg-butter-light border border-butter rounded-soft p-3",children:T.jsx("p",{className:"text-xs text-text-muted",children:" N'excuter qu'une seule fois!"})})]}),T.jsx(un,{onClick:g,disabled:i,className:"w-full",children:i?"Initialisation...":" Initialiser Drogue"}),T.jsx(v,{result:n})]})}),T.jsx(ht,{children:T.jsxs(dt,{className:"p-6",children:[T.jsx("h2",{className:"text-2xl font-bold text-peach-dark mb-4 flex items-center gap-2",children:" Espace Malandrinerie"}),T.jsxs("div",{className:"space-y-3 mb-6",children:[T.jsx("p",{className:"text-sm text-text-secondary",children:"Initialise les donnes pour l'espace Malandrinerie :"}),T.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary ml-4",children:[T.jsx("li",{children:"31 matires premires"}),T.jsx("li",{children:"20 recettes/crafts (10 T1 + 10 T2)"}),T.jsx("li",{children:"7 groupes de commandes"}),T.jsx("li",{children:"Stocks utilisateur  0"})]}),T.jsx("div",{className:"bg-butter-light border border-butter rounded-soft p-3",children:T.jsx("p",{className:"text-xs text-text-muted",children:" Ncessite d'tre connect!"})})]}),T.jsx(un,{onClick:p,disabled:o,className:"w-full",children:o?"Initialisation...":" Initialiser Malandrinerie"}),T.jsx(v,{result:h})]})})]}),T.jsx("div",{className:"mt-8 text-center",children:T.jsx("p",{className:"text-xs text-text-muted",children:" Cette page peut tre supprime aprs l'initialisation"})})]})})},aa=({children:i})=>{const{user:e,loading:n}=ba();return n?T.jsx("div",{className:"min-h-screen flex items-center justify-center",children:T.jsx("div",{className:"text-xl text-dark-600 dark:text-dark-400",children:"Chargement..."})}):e?T.jsx(HD,{children:i}):T.jsx(zE,{to:"/login",replace:!0})};function t3(){const{user:i,loading:e}=ba();return e?T.jsx("div",{className:"min-h-screen flex items-center justify-center",children:T.jsx("div",{className:"text-xl text-dark-600 dark:text-dark-400",children:"Chargement..."})}):T.jsxs(Fw,{children:[T.jsx(pr,{path:"/login",element:i?T.jsx(zE,{to:"/",replace:!0}):T.jsx(_D,{})}),T.jsx(pr,{path:"/",element:T.jsx(aa,{children:T.jsx(ND,{})})}),T.jsx(pr,{path:"/stocks",element:T.jsx(aa,{children:T.jsx(FD,{})})}),T.jsx(pr,{path:"/prices",element:T.jsx(aa,{children:T.jsx(GD,{})})}),T.jsx(pr,{path:"/calculator",element:T.jsx(aa,{children:T.jsx(KD,{})})}),T.jsx(pr,{path:"/timers",element:T.jsx(aa,{children:T.jsx(QD,{})})}),T.jsx(pr,{path:"/history",element:T.jsx(aa,{children:T.jsx(YD,{})})}),T.jsx(pr,{path:"/setup",element:T.jsx(aa,{children:T.jsx(e3,{})})})]})}function n3(){return T.jsx(mx,{basename:"/Brewsy",children:T.jsx(gD,{children:T.jsx(yD,{children:T.jsx(t3,{})})})})}$A.createRoot(document.getElementById("root")).render(T.jsx(j.StrictMode,{children:T.jsx(n3,{})}));
