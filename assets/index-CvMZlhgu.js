(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function nA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var tp={exports:{}},gc={};var Vv;function rA(){if(Vv)return gc;Vv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:c}}return gc.Fragment=e,gc.jsx=n,gc.jsxs=n,gc}var Pv;function iA(){return Pv||(Pv=1,tp.exports=rA()),tp.exports}var y=iA(),np={exports:{}},Se={};var Uv;function sA(){if(Uv)return Se;Uv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function M(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,$={};function Z(V,ie,ue){this.props=V,this.context=ie,this.refs=$,this.updater=ue||B}Z.prototype.isReactComponent={},Z.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},Z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function X(){}X.prototype=Z.prototype;function oe(V,ie,ue){this.props=V,this.context=ie,this.refs=$,this.updater=ue||B}var z=oe.prototype=new X;z.constructor=oe,Q(z,Z.prototype),z.isPureReactComponent=!0;var le=Array.isArray;function ae(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function k(V,ie,ue){var me=ue.ref;return{$$typeof:r,type:V,key:ie,ref:me!==void 0?me:null,props:ue}}function N(V,ie){return k(V.type,ie,V.props)}function L(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return ie[ue]})}var I=/\/+/g;function Xe(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):ie.toString(36)}function ft(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ae,ae):(V.status="pending",V.then(function(ie){V.status==="pending"&&(V.status="fulfilled",V.value=ie)},function(ie){V.status==="pending"&&(V.status="rejected",V.reason=ie)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function J(V,ie,ue,me,be){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Re){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case r:case e:Ue=!0;break;case x:return Ue=V._init,J(Ue(V._payload),ie,ue,me,be)}}if(Ue)return be=be(V),Ue=me===""?"."+Xe(V,0):me,le(be)?(ue="",Ue!=null&&(ue=Ue.replace(I,"$&/")+"/"),J(be,ie,ue,"",function(Ls){return Ls})):be!=null&&(L(be)&&(be=N(be,ue+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(I,"$&/")+"/")+Ue)),ie.push(be)),1;Ue=0;var Ot=me===""?".":me+":";if(le(V))for(var ct=0;ct<V.length;ct++)me=V[ct],Re=Ot+Xe(me,ct),Ue+=J(me,ie,ue,Re,be);else if(ct=M(V),typeof ct=="function")for(V=ct.call(V),ct=0;!(me=V.next()).done;)me=me.value,Re=Ot+Xe(me,ct++),Ue+=J(me,ie,ue,Re,be);else if(Re==="object"){if(typeof V.then=="function")return J(ft(V),ie,ue,me,be);throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function G(V,ie,ue){if(V==null)return V;var me=[],be=0;return J(V,me,"","",function(Re){return ie.call(ue,Re,be++)}),me}function fe(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var Ie=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Be={map:G,forEach:function(V,ie,ue){G(V,function(){ie.apply(this,arguments)},ue)},count:function(V){var ie=0;return G(V,function(){ie++}),ie},toArray:function(V){return G(V,function(ie){return ie})||[]},only:function(V){if(!L(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Se.Activity=T,Se.Children=Be,Se.Component=Z,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=oe,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Se.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Se.cache=function(V){return function(){return V.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(V,ie,ue){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var me=Q({},V.props),be=V.key;if(ie!=null)for(Re in ie.key!==void 0&&(be=""+ie.key),ie)!R.call(ie,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ie.ref===void 0||(me[Re]=ie[Re]);var Re=arguments.length-2;if(Re===1)me.children=ue;else if(1<Re){for(var Ue=Array(Re),Ot=0;Ot<Re;Ot++)Ue[Ot]=arguments[Ot+2];me.children=Ue}return k(V.type,be,me)},Se.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Se.createElement=function(V,ie,ue){var me,be={},Re=null;if(ie!=null)for(me in ie.key!==void 0&&(Re=""+ie.key),ie)R.call(ie,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(be[me]=ie[me]);var Ue=arguments.length-2;if(Ue===1)be.children=ue;else if(1<Ue){for(var Ot=Array(Ue),ct=0;ct<Ue;ct++)Ot[ct]=arguments[ct+2];be.children=Ot}if(V&&V.defaultProps)for(me in Ue=V.defaultProps,Ue)be[me]===void 0&&(be[me]=Ue[me]);return k(V,Re,be)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(V){return{$$typeof:m,render:V}},Se.isValidElement=L,Se.lazy=function(V){return{$$typeof:x,_payload:{_status:-1,_result:V},_init:fe}},Se.memo=function(V,ie){return{$$typeof:p,type:V,compare:ie===void 0?null:ie}},Se.startTransition=function(V){var ie=C.T,ue={};C.T=ue;try{var me=V(),be=C.S;be!==null&&be(ue,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(ae,Ie)}catch(Re){Ie(Re)}finally{ie!==null&&ue.types!==null&&(ie.types=ue.types),C.T=ie}},Se.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Se.use=function(V){return C.H.use(V)},Se.useActionState=function(V,ie,ue){return C.H.useActionState(V,ie,ue)},Se.useCallback=function(V,ie){return C.H.useCallback(V,ie)},Se.useContext=function(V){return C.H.useContext(V)},Se.useDebugValue=function(){},Se.useDeferredValue=function(V,ie){return C.H.useDeferredValue(V,ie)},Se.useEffect=function(V,ie){return C.H.useEffect(V,ie)},Se.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Se.useId=function(){return C.H.useId()},Se.useImperativeHandle=function(V,ie,ue){return C.H.useImperativeHandle(V,ie,ue)},Se.useInsertionEffect=function(V,ie){return C.H.useInsertionEffect(V,ie)},Se.useLayoutEffect=function(V,ie){return C.H.useLayoutEffect(V,ie)},Se.useMemo=function(V,ie){return C.H.useMemo(V,ie)},Se.useOptimistic=function(V,ie){return C.H.useOptimistic(V,ie)},Se.useReducer=function(V,ie,ue){return C.H.useReducer(V,ie,ue)},Se.useRef=function(V){return C.H.useRef(V)},Se.useState=function(V){return C.H.useState(V)},Se.useSyncExternalStore=function(V,ie,ue){return C.H.useSyncExternalStore(V,ie,ue)},Se.useTransition=function(){return C.H.useTransition()},Se.version="19.2.3",Se}var zv;function rg(){return zv||(zv=1,np.exports=sA()),np.exports}var j=rg();const _=nA(j);var rp={exports:{}},yc={},ip={exports:{}},sp={};var Bv;function aA(){return Bv||(Bv=1,(function(r){function e(J,G){var fe=J.length;J.push(G);e:for(;0<fe;){var Ie=fe-1>>>1,Be=J[Ie];if(0<o(Be,G))J[Ie]=G,J[fe]=Be,fe=Ie;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var G=J[0],fe=J.pop();if(fe!==G){J[0]=fe;e:for(var Ie=0,Be=J.length,V=Be>>>1;Ie<V;){var ie=2*(Ie+1)-1,ue=J[ie],me=ie+1,be=J[me];if(0>o(ue,fe))me<Be&&0>o(be,ue)?(J[Ie]=be,J[me]=fe,Ie=me):(J[Ie]=ue,J[ie]=fe,Ie=ie);else if(me<Be&&0>o(be,fe))J[Ie]=be,J[me]=fe,Ie=me;else break e}}return G}function o(J,G){var fe=J.sortIndex-G.sortIndex;return fe!==0?fe:J.id-G.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],p=[],x=1,T=null,A=3,M=!1,B=!1,Q=!1,$=!1,Z=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function z(J){for(var G=n(p);G!==null;){if(G.callback===null)s(p);else if(G.startTime<=J)s(p),G.sortIndex=G.expirationTime,e(g,G);else break;G=n(p)}}function le(J){if(Q=!1,z(J),!B)if(n(g)!==null)B=!0,ae||(ae=!0,P());else{var G=n(p);G!==null&&ft(le,G.startTime-J)}}var ae=!1,C=-1,R=5,k=-1;function N(){return $?!0:!(r.unstable_now()-k<R)}function L(){if($=!1,ae){var J=r.unstable_now();k=J;var G=!0;try{e:{B=!1,Q&&(Q=!1,X(C),C=-1),M=!0;var fe=A;try{t:{for(z(J),T=n(g);T!==null&&!(T.expirationTime>J&&N());){var Ie=T.callback;if(typeof Ie=="function"){T.callback=null,A=T.priorityLevel;var Be=Ie(T.expirationTime<=J);if(J=r.unstable_now(),typeof Be=="function"){T.callback=Be,z(J),G=!0;break t}T===n(g)&&s(g),z(J)}else s(g);T=n(g)}if(T!==null)G=!0;else{var V=n(p);V!==null&&ft(le,V.startTime-J),G=!1}}break e}finally{T=null,A=fe,M=!1}G=void 0}}finally{G?P():ae=!1}}}var P;if(typeof oe=="function")P=function(){oe(L)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Xe=I.port2;I.port1.onmessage=L,P=function(){Xe.postMessage(null)}}else P=function(){Z(L,0)};function ft(J,G){C=Z(function(){J(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(J){switch(A){case 1:case 2:case 3:var G=3;break;default:G=A}var fe=A;A=G;try{return J()}finally{A=fe}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(J,G){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var fe=A;A=J;try{return G()}finally{A=fe}},r.unstable_scheduleCallback=function(J,G,fe){var Ie=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ie+fe:Ie):fe=Ie,J){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=fe+Be,J={id:x++,callback:G,priorityLevel:J,startTime:fe,expirationTime:Be,sortIndex:-1},fe>Ie?(J.sortIndex=fe,e(p,J),n(g)===null&&J===n(p)&&(Q?(X(C),C=-1):Q=!0,ft(le,fe-Ie))):(J.sortIndex=Be,e(g,J),B||M||(B=!0,ae||(ae=!0,P()))),J},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(J){var G=A;return function(){var fe=A;A=G;try{return J.apply(this,arguments)}finally{A=fe}}}})(sp)),sp}var Hv;function oA(){return Hv||(Hv=1,ip.exports=aA()),ip.exports}var ap={exports:{}},sn={};var Fv;function lA(){if(Fv)return sn;Fv=1;var r=rg();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,p,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:p,implementation:x}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(g,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(g,p,null,x)},sn.flushSync=function(g){var p=h.T,x=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=x,s.d.f()}},sn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},sn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},sn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var x=p.as,T=m(x,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:M}):x==="script"&&s.d.X(g,{crossOrigin:T,integrity:A,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},sn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,T=m(x,p.crossOrigin);s.d.L(g,x,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(g,p){if(typeof g=="string")if(p){var x=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},sn.requestFormReset=function(g){s.d.r(g)},sn.unstable_batchedUpdates=function(g,p){return g(p)},sn.useFormState=function(g,p,x){return h.H.useFormState(g,p,x)},sn.useFormStatus=function(){return h.H.useHostTransitionStatus()},sn.version="19.2.3",sn}var qv;function cA(){if(qv)return ap.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ap.exports=lA(),ap.exports}var Gv;function uA(){if(Gv)return yc;Gv=1;var r=oA(),e=rg(),n=cA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return g(d),t;if(f===l)return g(d),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var E=!1,S=d.child;S;){if(S===a){E=!0,a=d,l=f;break}if(S===l){E=!0,l=d,a=f;break}S=S.sibling}if(!E){for(S=f.child;S;){if(S===a){E=!0,a=f,l=d;break}if(S===l){E=!0,l=f,a=d;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function x(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=x(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case Z:return"Profiler";case $:return"StrictMode";case le:return"Suspense";case ae:return"SuspenseList";case k:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case oe:return t.displayName||"Context";case X:return(t._context.displayName||"Context")+".Consumer";case z:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:Xe(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Xe(t(i))}catch{}}return null}var ft=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ie=[],Be=-1;function V(t){return{current:t}}function ie(t){0>Be||(t.current=Ie[Be],Ie[Be]=null,Be--)}function ue(t,i){Be++,Ie[Be]=t.current,t.current=i}var me=V(null),be=V(null),Re=V(null),Ue=V(null);function Ot(t,i){switch(ue(Re,i),ue(be,t),ue(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?av(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=av(i),t=ov(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ie(me),ue(me,t)}function ct(){ie(me),ie(be),ie(Re)}function Ls(t){t.memoizedState!==null&&ue(Ue,t);var i=me.current,a=ov(i,t.type);i!==a&&(ue(be,t),ue(me,a))}function qa(t){be.current===t&&(ie(me),ie(be)),Ue.current===t&&(ie(Ue),dc._currentValue=fe)}var Ga,Wa;function xr(t){if(Ga===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ga=i&&i[1]||"",Wa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ga+t+Wa}var dl=!1;function Ds(t,i){if(!t||dl)return"";dl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Y){var W=Y}Reflect.construct(t,[],re)}else{try{re.call()}catch(Y){W=Y}t.call(re.prototype)}}else{try{throw Error()}catch(Y){W=Y}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Y){if(Y&&W&&typeof Y.stack=="string")return[Y.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),E=f[0],S=f[1];if(E&&S){var D=E.split(`
`),q=S.split(`
`);for(d=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(l===D.length||d===q.length)for(l=D.length-1,d=q.length-1;1<=l&&0<=d&&D[l]!==q[d];)d--;for(;1<=l&&0<=d;l--,d--)if(D[l]!==q[d]){if(l!==1||d!==1)do if(l--,d--,0>d||D[l]!==q[d]){var ee=`
`+D[l].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=l&&0<=d);break}}}finally{dl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?xr(a):""}function fl(t,i){switch(t.tag){case 26:case 27:case 5:return xr(t.type);case 16:return xr("Lazy");case 13:return t.child!==i&&i!==null?xr("Suspense Fallback"):xr("Suspense");case 19:return xr("SuspenseList");case 0:case 15:return Ds(t.type,!1);case 11:return Ds(t.type.render,!1);case 1:return Ds(t.type,!0);case 31:return xr("Activity");default:return""}}function ml(t){try{var i="",a=null;do i+=fl(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var St=Object.prototype.hasOwnProperty,Vt=r.unstable_scheduleCallback,Ci=r.unstable_cancelCallback,nf=r.unstable_shouldYield,nu=r.unstable_requestPaint,un=r.unstable_now,js=r.unstable_getCurrentPriorityLevel,pl=r.unstable_ImmediatePriority,gl=r.unstable_UserBlockingPriority,Ii=r.unstable_NormalPriority,rf=r.unstable_LowPriority,ru=r.unstable_IdlePriority,iu=r.log,su=r.unstable_setDisableYieldValue,tr=null,$t=null;function Vn(t){if(typeof iu=="function"&&su(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(tr,t)}catch{}}var _t=Math.clz32?Math.clz32:ou,au=Math.log,$a=Math.LN2;function ou(t){return t>>>=0,t===0?32:31-(au(t)/$a|0)|0}var br=256,Ms=262144,At=4194304;function Tr(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sr(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~f,l!==0?d=Tr(l):(E&=S,E!==0?d=Tr(E):a||(a=S&~t,a!==0&&(d=Tr(a))))):(S=l&~f,S!==0?d=Tr(S):E!==0?d=Tr(E):a||(a=l&~t,a!==0&&(d=Tr(a)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:d}function nr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function sf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function Ar(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Os(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function af(t,i,a,l,d,f){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,q=t.hiddenUpdates;for(a=E&~a;0<a;){var ee=31-_t(a),re=1<<ee;S[ee]=0,D[ee]=-1;var W=q[ee];if(W!==null)for(q[ee]=null,ee=0;ee<W.length;ee++){var Y=W[ee];Y!==null&&(Y.lane&=-536870913)}a&=~re}l!==0&&Vs(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(E&~i))}function Vs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-_t(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function yl(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-_t(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function vl(t,i){var a=i&-i;return a=(a&42)!==0?1:Ps(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Jr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cu(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:Iv(t.type))}function rr(t,i){var a=G.p;try{return G.p=t,i()}finally{G.p=a}}var ir=Math.random().toString(36).slice(2),wt="__reactFiber$"+ir,Bt="__reactProps$"+ir,wr="__reactContainer$"+ir,Qa="__reactEvents$"+ir,of="__reactListeners$"+ir,uu="__reactHandles$"+ir,hu="__reactResources$"+ir,kr="__reactMarker$"+ir;function Ka(t){delete t[wt],delete t[Bt],delete t[Qa],delete t[of],delete t[uu]}function Rr(t){var i=t[wt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[wr]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=mv(t);t!==null;){if(a=t[wt])return a;t=mv(t)}return i}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[wt]||t[wr]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function An(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Cr(t){var i=t[hu];return i||(i=t[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function kt(t){t[kr]=!0}var _l=new Set,El={};function Ir(t,i){Nr(t,i),Nr(t+"Capture",i)}function Nr(t,i){for(El[t]=i,t=0;t<i.length;t++)_l.add(i[t])}var xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bl={},Tl={};function du(t){return St.call(Tl,t)?!0:St.call(bl,t)?!1:xl.test(t)?Tl[t]=!0:(bl[t]=!0,!1)}function Ya(t,i,a){if(du(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function wn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Rt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ni(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Sl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(E){a=""+E,f.call(this,E)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $e(t){if(!t._valueTracker){var i=Ni(t)?"checked":"value";t._valueTracker=Sl(t,i,""+t[i])}}function Us(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ni(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Lr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zs=/[\n"\\]/g;function pn(t){return t.replace(zs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Xa(t,i,a,l,d,f,E,S){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ht(i)):t.value!==""+Ht(i)&&(t.value=""+Ht(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Al(t,E,Ht(i)):a!=null?Al(t,E,Ht(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ht(S):t.removeAttribute("name")}function fu(t,i,a,l,d,f,E,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){$e(t);return}a=a!=null?""+Ht(a):"",i=i!=null?""+Ht(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),$e(t)}function Al(t,i,a){i==="number"&&Lr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Li(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function mu(t,i,a){if(i!=null&&(i=""+Ht(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ht(a):""}function Di(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ft(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ht(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function gn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||pu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function kl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&wl(t,d,l)}else for(var f in i)i.hasOwnProperty(f)&&wl(t,f,i[f])}function Za(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(t){return ji.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function sr(){}var Rl=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mi=null,Dr=null;function Bs(t){var i=Pn(t);if(i&&(t=i.stateNode)){var a=t[Bt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Xa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[Bt]||null;if(!d)throw Error(s(90));Xa(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Us(l)}break e;case"textarea":mu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Li(t,!!a.multiple,i,!1)}}}var eo=!1;function Oi(t,i,a){if(eo)return t(i,a);eo=!0;try{var l=t(i);return l}finally{if(eo=!1,(Mi!==null||Dr!==null)&&(ch(),Mi&&(i=Mi,t=Dr,Dr=Mi=null,Bs(i),t)))for(i=0;i<t.length;i++)Bs(t[i])}}function ar(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Bt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hs=!1;if(zn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Hs=!1}var jr=null,Cl=null,Fs=null;function Il(){if(Fs)return Fs;var t,i=Cl,a=i.length,l,d="value"in jr?jr.value:jr.textContent,f=d.length;for(t=0;t<a&&i[t]===d[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===d[f-l];l++);return Fs=d.slice(t,1<l?1-l:void 0)}function qs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ei(){return!0}function or(){return!1}function Qt(t){function i(a,l,d,f,E){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=E,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ei:or,this.isPropagationStopped=or,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ei)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ei)},persist:function(){},isPersistent:ei}),i}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mr=Qt(ti),Vi=T({},ti,{view:0,detail:0}),Nl=Qt(Vi),Pi,to,Or,no=T({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ui,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Or&&(Or&&t.type==="mousemove"?(Pi=t.screenX-Or.screenX,to=t.screenY-Or.screenY):to=Pi=0,Or=t),Pi)},movementY:function(t){return"movementY"in t?t.movementY:to}}),Ll=Qt(no),Gs=T({},no,{dataTransfer:0}),yu=Qt(Gs),vu=T({},Vi,{relatedTarget:0}),Ws=Qt(vu),Dl=T({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=Qt(Dl),ro=T({},ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eu=Qt(ro),xu=T({},ti,{data:0}),Vr=Qt(xu),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Su[t])?!!i[t]:!1}function Ui(){return Au}var hn=T({},Vi,{key:function(t){if(t.key){var i=bu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=qs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ui,charCode:function(t){return t.type==="keypress"?qs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wu=Qt(hn),ku=T({},no,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ni=Qt(ku),u=T({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ui}),v=Qt(u),b=T({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Qt(b),H=T({},no,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Qt(H),ce=T({},ti,{newState:0,oldState:0}),we=Qt(ce),Et=[9,13,27,32],qe=zn&&"CompositionEvent"in window,ut=null;zn&&"documentMode"in document&&(ut=document.documentMode);var Bn=zn&&"TextEvent"in window&&!ut,Pr=zn&&(!qe||ut&&8<ut&&11>=ut),lr=" ",cr=!1;function $s(t,i){switch(t){case"keyup":return Et.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function io(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var so=!1;function wT(t,i){switch(t){case"compositionend":return io(i);case"keypress":return i.which!==32?null:(cr=!0,lr);case"textInput":return t=i.data,t===lr&&cr?null:t;default:return null}}function kT(t,i){if(so)return t==="compositionend"||!qe&&$s(t,i)?(t=Il(),Fs=Cl=jr=null,so=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pr&&i.locale!=="ko"?null:i.data;default:return null}}var RT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y0(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!RT[t.type]:i==="textarea"}function v0(t,i,a,l){Mi?Dr?Dr.push(l):Dr=[l]:Mi=l,i=gh(i,"onChange"),0<i.length&&(a=new Mr("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var jl=null,Ml=null;function CT(t){ev(t,0)}function Ru(t){var i=An(t);if(Us(i))return t}function _0(t,i){if(t==="change")return i}var E0=!1;if(zn){var lf;if(zn){var cf="oninput"in document;if(!cf){var x0=document.createElement("div");x0.setAttribute("oninput","return;"),cf=typeof x0.oninput=="function"}lf=cf}else lf=!1;E0=lf&&(!document.documentMode||9<document.documentMode)}function b0(){jl&&(jl.detachEvent("onpropertychange",T0),Ml=jl=null)}function T0(t){if(t.propertyName==="value"&&Ru(Ml)){var i=[];v0(i,Ml,t,Un(t)),Oi(CT,i)}}function IT(t,i,a){t==="focusin"?(b0(),jl=i,Ml=a,jl.attachEvent("onpropertychange",T0)):t==="focusout"&&b0()}function NT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Ml)}function LT(t,i){if(t==="click")return Ru(i)}function DT(t,i){if(t==="input"||t==="change")return Ru(i)}function jT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var kn=typeof Object.is=="function"?Object.is:jT;function Ol(t,i){if(kn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!St.call(i,d)||!kn(t[d],i[d]))return!1}return!0}function S0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function A0(t,i){var a=S0(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=S0(a)}}function w0(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?w0(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function k0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Lr(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Lr(t.document)}return i}function uf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var MT=zn&&"documentMode"in document&&11>=document.documentMode,ao=null,hf=null,Vl=null,df=!1;function R0(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;df||ao==null||ao!==Lr(l)||(l=ao,"selectionStart"in l&&uf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Vl&&Ol(Vl,l)||(Vl=l,l=gh(hf,"onSelect"),0<l.length&&(i=new Mr("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ao)))}function Qs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var oo={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},ff={},C0={};zn&&(C0=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function Ks(t){if(ff[t])return ff[t];if(!oo[t])return t;var i=oo[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in C0)return ff[t]=i[a];return t}var I0=Ks("animationend"),N0=Ks("animationiteration"),L0=Ks("animationstart"),OT=Ks("transitionrun"),VT=Ks("transitionstart"),PT=Ks("transitioncancel"),D0=Ks("transitionend"),j0=new Map,mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mf.push("scrollEnd");function ur(t,i){j0.set(t,i),Ir(i,[t])}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],lo=0,pf=0;function Iu(){for(var t=lo,i=pf=lo=0;i<t;){var a=Hn[i];Hn[i++]=null;var l=Hn[i];Hn[i++]=null;var d=Hn[i];Hn[i++]=null;var f=Hn[i];if(Hn[i++]=null,l!==null&&d!==null){var E=l.pending;E===null?d.next=d:(d.next=E.next,E.next=d),l.pending=d}f!==0&&M0(a,d,f)}}function Nu(t,i,a,l){Hn[lo++]=t,Hn[lo++]=i,Hn[lo++]=a,Hn[lo++]=l,pf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function gf(t,i,a,l){return Nu(t,i,a,l),Lu(t)}function Ys(t,i){return Nu(t,null,null,i),Lu(t)}function M0(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&i!==null&&(d=31-_t(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),f):null}function Lu(t){if(50<sc)throw sc=0,Am=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var co={};function UT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,i,a,l){return new UT(t,i,a,l)}function yf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ri(t,i){var a=t.alternate;return a===null?(a=Rn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function O0(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Du(t,i,a,l,d,f){var E=0;if(l=t,typeof t=="function")yf(t)&&(E=1);else if(typeof t=="string")E=qS(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case k:return t=Rn(31,a,i,d),t.elementType=k,t.lanes=f,t;case Q:return Xs(a.children,d,f,i);case $:E=8,d|=24;break;case Z:return t=Rn(12,a,i,d|2),t.elementType=Z,t.lanes=f,t;case le:return t=Rn(13,a,i,d),t.elementType=le,t.lanes=f,t;case ae:return t=Rn(19,a,i,d),t.elementType=ae,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oe:E=10;break e;case X:E=9;break e;case z:E=11;break e;case C:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Rn(E,a,i,d),i.elementType=t,i.type=l,i.lanes=f,i}function Xs(t,i,a,l){return t=Rn(7,t,l,i),t.lanes=a,t}function vf(t,i,a){return t=Rn(6,t,null,i),t.lanes=a,t}function V0(t){var i=Rn(18,null,null,0);return i.stateNode=t,i}function _f(t,i,a){return i=Rn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var P0=new WeakMap;function Fn(t,i){if(typeof t=="object"&&t!==null){var a=P0.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ml(i)},P0.set(t,i),i)}return{value:t,source:i,stack:ml(i)}}var uo=[],ho=0,ju=null,Pl=0,qn=[],Gn=0,zi=null,Ur=1,zr="";function ii(t,i){uo[ho++]=Pl,uo[ho++]=ju,ju=t,Pl=i}function U0(t,i,a){qn[Gn++]=Ur,qn[Gn++]=zr,qn[Gn++]=zi,zi=t;var l=Ur;t=zr;var d=32-_t(l)-1;l&=~(1<<d),a+=1;var f=32-_t(i)+d;if(30<f){var E=d-d%5;f=(l&(1<<E)-1).toString(32),l>>=E,d-=E,Ur=1<<32-_t(i)+d|a<<d|l,zr=f+t}else Ur=1<<f|a<<d|l,zr=t}function Ef(t){t.return!==null&&(ii(t,1),U0(t,1,0))}function xf(t){for(;t===ju;)ju=uo[--ho],uo[ho]=null,Pl=uo[--ho],uo[ho]=null;for(;t===zi;)zi=qn[--Gn],qn[Gn]=null,zr=qn[--Gn],qn[Gn]=null,Ur=qn[--Gn],qn[Gn]=null}function z0(t,i){qn[Gn++]=Ur,qn[Gn++]=zr,qn[Gn++]=zi,Ur=i.id,zr=i.overflow,zi=t}var Kt=null,ot=null,Pe=!1,Bi=null,Wn=!1,bf=Error(s(519));function Hi(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(Fn(i,t)),bf}function B0(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[wt]=t,i[Bt]=l,a){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(a=0;a<oc.length;a++)Le(oc[a],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),fu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),Di(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||iv(i.textContent,a)?(l.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),l.onScroll!=null&&Le("scroll",i),l.onScrollEnd!=null&&Le("scrollend",i),l.onClick!=null&&(i.onclick=sr),i=!0):i=!1,i||Hi(t,!0)}function H0(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Kt=Kt.return}}function fo(t){if(t!==Kt)return!1;if(!Pe)return H0(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||zm(t.type,t.memoizedProps)),a=!a),a&&ot&&Hi(t),H0(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=fv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=fv(t)}else i===27?(i=ot,ns(t.type)?(t=Gm,Gm=null,ot=t):ot=i):ot=Kt?Qn(t.stateNode.nextSibling):null;return!0}function Zs(){ot=Kt=null,Pe=!1}function Tf(){var t=Bi;return t!==null&&(En===null?En=t:En.push.apply(En,t),Bi=null),t}function Ul(t){Bi===null?Bi=[t]:Bi.push(t)}var Sf=V(null),Js=null,si=null;function Fi(t,i,a){ue(Sf,i._currentValue),i._currentValue=a}function ai(t){t._currentValue=Sf.current,ie(Sf)}function Af(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function wf(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var E=d.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=d;for(var D=0;D<i.length;D++)if(S.context===i[D]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),Af(f.return,a,t),l||(E=null);break e}f=S.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(s(341));E.lanes|=a,f=E.alternate,f!==null&&(f.lanes|=a),Af(E,a,t),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===t){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function mo(t,i,a,l){t=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=d.type;kn(d.pendingProps.value,E.value)||(t!==null?t.push(S):t=[S])}}else if(d===Ue.current){if(E=d.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(dc):t=[dc])}d=d.return}t!==null&&wf(i,t,a,l),i.flags|=262144}function Mu(t){for(t=t.firstContext;t!==null;){if(!kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){Js=t,si=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return F0(Js,t)}function Ou(t,i){return Js===null&&ea(t),F0(t,i)}function F0(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},si===null){if(t===null)throw Error(s(308));si=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else si=si.next=i;return a}var zT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},BT=r.unstable_scheduleCallback,HT=r.unstable_NormalPriority,Ct={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new zT,data:new Map,refCount:0}}function zl(t){t.refCount--,t.refCount===0&&BT(HT,function(){t.controller.abort()})}var Bl=null,Rf=0,po=0,go=null;function FT(t,i){if(Bl===null){var a=Bl=[];Rf=0,po=Nm(),go={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Rf++,i.then(q0,q0),i}function q0(){if(--Rf===0&&Bl!==null){go!==null&&(go.status="fulfilled");var t=Bl;Bl=null,po=0,go=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function qT(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var G0=J.S;J.S=function(t,i){R1=un(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&FT(t,i),G0!==null&&G0(t,i)};var ta=V(null);function Cf(){var t=ta.current;return t!==null?t:rt.pooledCache}function Vu(t,i){i===null?ue(ta,ta.current):ue(ta,i.pool)}function W0(){var t=Cf();return t===null?null:{parent:Ct._currentValue,pool:t}}var yo=Error(s(460)),If=Error(s(474)),Pu=Error(s(542)),Uu={then:function(){}};function $0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Q0(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(sr,sr),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Y0(t),t;default:if(typeof i.status=="string")i.then(sr,sr);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Y0(t),t}throw ra=i,yo}}function na(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ra=a,yo):a}}var ra=null;function K0(){if(ra===null)throw Error(s(459));var t=ra;return ra=null,t}function Y0(t){if(t===yo||t===Pu)throw Error(s(483))}var vo=null,Hl=0;function zu(t){var i=Hl;return Hl+=1,vo===null&&(vo=[]),Q0(vo,t,i)}function Fl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Bu(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function X0(t){function i(U,O){if(t){var F=U.deletions;F===null?(U.deletions=[O],U.flags|=16):F.push(O)}}function a(U,O){if(!t)return null;for(;O!==null;)i(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function d(U,O){return U=ri(U,O),U.index=0,U.sibling=null,U}function f(U,O,F){return U.index=F,t?(F=U.alternate,F!==null?(F=F.index,F<O?(U.flags|=67108866,O):F):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function E(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function S(U,O,F,te){return O===null||O.tag!==6?(O=vf(F,U.mode,te),O.return=U,O):(O=d(O,F),O.return=U,O)}function D(U,O,F,te){var ye=F.type;return ye===Q?ee(U,O,F.props.children,te,F.key):O!==null&&(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&na(ye)===O.type)?(O=d(O,F.props),Fl(O,F),O.return=U,O):(O=Du(F.type,F.key,F.props,null,U.mode,te),Fl(O,F),O.return=U,O)}function q(U,O,F,te){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=_f(F,U.mode,te),O.return=U,O):(O=d(O,F.children||[]),O.return=U,O)}function ee(U,O,F,te,ye){return O===null||O.tag!==7?(O=Xs(F,U.mode,te,ye),O.return=U,O):(O=d(O,F),O.return=U,O)}function re(U,O,F){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=vf(""+O,U.mode,F),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case M:return F=Du(O.type,O.key,O.props,null,U.mode,F),Fl(F,O),F.return=U,F;case B:return O=_f(O,U.mode,F),O.return=U,O;case R:return O=na(O),re(U,O,F)}if(ft(O)||P(O))return O=Xs(O,U.mode,F,null),O.return=U,O;if(typeof O.then=="function")return re(U,zu(O),F);if(O.$$typeof===oe)return re(U,Ou(U,O),F);Bu(U,O)}return null}function W(U,O,F,te){var ye=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ye!==null?null:S(U,O,""+F,te);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case M:return F.key===ye?D(U,O,F,te):null;case B:return F.key===ye?q(U,O,F,te):null;case R:return F=na(F),W(U,O,F,te)}if(ft(F)||P(F))return ye!==null?null:ee(U,O,F,te,null);if(typeof F.then=="function")return W(U,O,zu(F),te);if(F.$$typeof===oe)return W(U,O,Ou(U,F),te);Bu(U,F)}return null}function Y(U,O,F,te,ye){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return U=U.get(F)||null,S(O,U,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case M:return U=U.get(te.key===null?F:te.key)||null,D(O,U,te,ye);case B:return U=U.get(te.key===null?F:te.key)||null,q(O,U,te,ye);case R:return te=na(te),Y(U,O,F,te,ye)}if(ft(te)||P(te))return U=U.get(F)||null,ee(O,U,te,ye,null);if(typeof te.then=="function")return Y(U,O,F,zu(te),ye);if(te.$$typeof===oe)return Y(U,O,F,Ou(O,te),ye);Bu(O,te)}return null}function pe(U,O,F,te){for(var ye=null,He=null,ge=O,Ce=O=0,je=null;ge!==null&&Ce<F.length;Ce++){ge.index>Ce?(je=ge,ge=null):je=ge.sibling;var Fe=W(U,ge,F[Ce],te);if(Fe===null){ge===null&&(ge=je);break}t&&ge&&Fe.alternate===null&&i(U,ge),O=f(Fe,O,Ce),He===null?ye=Fe:He.sibling=Fe,He=Fe,ge=je}if(Ce===F.length)return a(U,ge),Pe&&ii(U,Ce),ye;if(ge===null){for(;Ce<F.length;Ce++)ge=re(U,F[Ce],te),ge!==null&&(O=f(ge,O,Ce),He===null?ye=ge:He.sibling=ge,He=ge);return Pe&&ii(U,Ce),ye}for(ge=l(ge);Ce<F.length;Ce++)je=Y(ge,U,Ce,F[Ce],te),je!==null&&(t&&je.alternate!==null&&ge.delete(je.key===null?Ce:je.key),O=f(je,O,Ce),He===null?ye=je:He.sibling=je,He=je);return t&&ge.forEach(function(os){return i(U,os)}),Pe&&ii(U,Ce),ye}function _e(U,O,F,te){if(F==null)throw Error(s(151));for(var ye=null,He=null,ge=O,Ce=O=0,je=null,Fe=F.next();ge!==null&&!Fe.done;Ce++,Fe=F.next()){ge.index>Ce?(je=ge,ge=null):je=ge.sibling;var os=W(U,ge,Fe.value,te);if(os===null){ge===null&&(ge=je);break}t&&ge&&os.alternate===null&&i(U,ge),O=f(os,O,Ce),He===null?ye=os:He.sibling=os,He=os,ge=je}if(Fe.done)return a(U,ge),Pe&&ii(U,Ce),ye;if(ge===null){for(;!Fe.done;Ce++,Fe=F.next())Fe=re(U,Fe.value,te),Fe!==null&&(O=f(Fe,O,Ce),He===null?ye=Fe:He.sibling=Fe,He=Fe);return Pe&&ii(U,Ce),ye}for(ge=l(ge);!Fe.done;Ce++,Fe=F.next())Fe=Y(ge,U,Ce,Fe.value,te),Fe!==null&&(t&&Fe.alternate!==null&&ge.delete(Fe.key===null?Ce:Fe.key),O=f(Fe,O,Ce),He===null?ye=Fe:He.sibling=Fe,He=Fe);return t&&ge.forEach(function(tA){return i(U,tA)}),Pe&&ii(U,Ce),ye}function tt(U,O,F,te){if(typeof F=="object"&&F!==null&&F.type===Q&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case M:e:{for(var ye=F.key;O!==null;){if(O.key===ye){if(ye=F.type,ye===Q){if(O.tag===7){a(U,O.sibling),te=d(O,F.props.children),te.return=U,U=te;break e}}else if(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&na(ye)===O.type){a(U,O.sibling),te=d(O,F.props),Fl(te,F),te.return=U,U=te;break e}a(U,O);break}else i(U,O);O=O.sibling}F.type===Q?(te=Xs(F.props.children,U.mode,te,F.key),te.return=U,U=te):(te=Du(F.type,F.key,F.props,null,U.mode,te),Fl(te,F),te.return=U,U=te)}return E(U);case B:e:{for(ye=F.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){a(U,O.sibling),te=d(O,F.children||[]),te.return=U,U=te;break e}else{a(U,O);break}else i(U,O);O=O.sibling}te=_f(F,U.mode,te),te.return=U,U=te}return E(U);case R:return F=na(F),tt(U,O,F,te)}if(ft(F))return pe(U,O,F,te);if(P(F)){if(ye=P(F),typeof ye!="function")throw Error(s(150));return F=ye.call(F),_e(U,O,F,te)}if(typeof F.then=="function")return tt(U,O,zu(F),te);if(F.$$typeof===oe)return tt(U,O,Ou(U,F),te);Bu(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,O!==null&&O.tag===6?(a(U,O.sibling),te=d(O,F),te.return=U,U=te):(a(U,O),te=vf(F,U.mode,te),te.return=U,U=te),E(U)):a(U,O)}return function(U,O,F,te){try{Hl=0;var ye=tt(U,O,F,te);return vo=null,ye}catch(ge){if(ge===yo||ge===Pu)throw ge;var He=Rn(29,ge,null,U.mode);return He.lanes=te,He.return=U,He}}}var ia=X0(!0),Z0=X0(!1),qi=!1;function Nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wi(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=Lu(t),M0(t,null,a),i}return Nu(t,l,i,a),Lu(t)}function ql(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,yl(t,a)}}function Df(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=E:f=f.next=E,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var jf=!1;function Gl(){if(jf){var t=go;if(t!==null)throw t}}function Wl(t,i,a,l){jf=!1;var d=t.updateQueue;qi=!1;var f=d.firstBaseUpdate,E=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var D=S,q=D.next;D.next=null,E===null?f=q:E.next=q,E=D;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==E&&(S===null?ee.firstBaseUpdate=q:S.next=q,ee.lastBaseUpdate=D))}if(f!==null){var re=d.baseState;E=0,ee=q=D=null,S=f;do{var W=S.lane&-536870913,Y=W!==S.lane;if(Y?(De&W)===W:(l&W)===W){W!==0&&W===po&&(jf=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=t,_e=S;W=i;var tt=a;switch(_e.tag){case 1:if(pe=_e.payload,typeof pe=="function"){re=pe.call(tt,re,W);break e}re=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=_e.payload,W=typeof pe=="function"?pe.call(tt,re,W):pe,W==null)break e;re=T({},re,W);break e;case 2:qi=!0}}W=S.callback,W!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=d.callbacks,Y===null?d.callbacks=[W]:Y.push(W))}else Y={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(q=ee=Y,D=re):ee=ee.next=Y,E|=W;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);ee===null&&(D=re),d.baseState=D,d.firstBaseUpdate=q,d.lastBaseUpdate=ee,f===null&&(d.shared.lanes=0),Xi|=E,t.lanes=E,t.memoizedState=re}}function J0(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ey(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)J0(a[t],i)}var _o=V(null),Hu=V(0);function ty(t,i){t=pi,ue(Hu,t),ue(_o,i),pi=t|i.baseLanes}function Mf(){ue(Hu,pi),ue(_o,_o.current)}function Of(){pi=Hu.current,ie(_o),ie(Hu)}var Cn=V(null),$n=null;function $i(t){var i=t.alternate;ue(xt,xt.current&1),ue(Cn,t),$n===null&&(i===null||_o.current!==null||i.memoizedState!==null)&&($n=t)}function Vf(t){ue(xt,xt.current),ue(Cn,t),$n===null&&($n=t)}function ny(t){t.tag===22?(ue(xt,xt.current),ue(Cn,t),$n===null&&($n=t)):Qi()}function Qi(){ue(xt,xt.current),ue(Cn,Cn.current)}function In(t){ie(Cn),$n===t&&($n=null),ie(xt)}var xt=V(0);function Fu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Fm(a)||qm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var oi=0,ke=null,Je=null,It=null,qu=!1,Eo=!1,sa=!1,Gu=0,$l=0,xo=null,GT=0;function pt(){throw Error(s(321))}function Pf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!kn(t[a],i[a]))return!1;return!0}function Uf(t,i,a,l,d,f){return oi=f,ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=t===null||t.memoizedState===null?Uy:em,sa=!1,f=a(l,d),sa=!1,Eo&&(f=iy(i,a,l,d)),ry(t),f}function ry(t){J.H=Yl;var i=Je!==null&&Je.next!==null;if(oi=0,It=Je=ke=null,qu=!1,$l=0,xo=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&Mu(t)&&(Nt=!0))}function iy(t,i,a,l){ke=t;var d=0;do{if(Eo&&(xo=null),$l=0,Eo=!1,25<=d)throw Error(s(301));if(d+=1,It=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}J.H=zy,f=i(a,l)}while(Eo);return f}function WT(){var t=J.H,i=t.useState()[0];return i=typeof i.then=="function"?Ql(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(ke.flags|=1024),i}function zf(){var t=Gu!==0;return Gu=0,t}function Bf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Hf(t){if(qu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}qu=!1}oi=0,It=Je=ke=null,Eo=!1,$l=Gu=0,xo=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?ke.memoizedState=It=t:It=It.next=t,It}function bt(){if(Je===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=It===null?ke.memoizedState:It.next;if(i!==null)It=i,Je=t;else{if(t===null)throw ke.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},It===null?ke.memoizedState=It=t:It=It.next=t}return It}function Wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(t){var i=$l;return $l+=1,xo===null&&(xo=[]),t=Q0(xo,t,i),i=ke,(It===null?i.memoizedState:It.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?Uy:em),t}function $u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ql(t);if(t.$$typeof===oe)return Yt(t)}throw Error(s(438,String(t)))}function Ff(t){var i=null,a=ke.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Wu(),ke.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=N;return i.index++,a}function li(t,i){return typeof i=="function"?i(t):i}function Qu(t){var i=bt();return qf(i,Je,t)}function qf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var E=d.next;d.next=f.next,f.next=E}i.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{i=d.next;var S=E=null,D=null,q=i,ee=!1;do{var re=q.lane&-536870913;if(re!==q.lane?(De&re)===re:(oi&re)===re){var W=q.revertLane;if(W===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),re===po&&(ee=!0);else if((oi&W)===W){q=q.next,W===po&&(ee=!0);continue}else re={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(S=D=re,E=f):D=D.next=re,ke.lanes|=W,Xi|=W;re=q.action,sa&&a(f,re),f=q.hasEagerState?q.eagerState:a(f,re)}else W={lane:re,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(S=D=W,E=f):D=D.next=W,ke.lanes|=re,Xi|=re;q=q.next}while(q!==null&&q!==i);if(D===null?E=f:D.next=S,!kn(f,t.memoizedState)&&(Nt=!0,ee&&(a=go,a!==null)))throw a;t.memoizedState=f,t.baseState=E,t.baseQueue=D,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Gf(t){var i=bt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do f=t(f,E.action),E=E.next;while(E!==d);kn(f,i.memoizedState)||(Nt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function sy(t,i,a){var l=ke,d=bt(),f=Pe;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!kn((Je||d).memoizedState,a);if(E&&(d.memoizedState=a,Nt=!0),d=d.queue,Qf(ly.bind(null,l,d,t),[t]),d.getSnapshot!==i||E||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,bo(9,{destroy:void 0},oy.bind(null,l,d,a,i),null),rt===null)throw Error(s(349));f||(oi&127)!==0||ay(l,i,a)}return a}function ay(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=ke.updateQueue,i===null?(i=Wu(),ke.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function oy(t,i,a,l){i.value=a,i.getSnapshot=l,cy(i)&&uy(t)}function ly(t,i,a){return a(function(){cy(i)&&uy(t)})}function cy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!kn(t,a)}catch{return!0}}function uy(t){var i=Ys(t,2);i!==null&&xn(i,t,2)}function Wf(t){var i=dn();if(typeof t=="function"){var a=t;if(t=a(),sa){Vn(!0);try{a()}finally{Vn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:t},i}function hy(t,i,a,l){return t.baseState=a,qf(t,Je,typeof l=="function"?l:li)}function $T(t,i,a,l,d){if(Xu(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){f.listeners.push(E)}};J.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,dy(i,f)):(f.next=a.next,i.pending=a.next=f)}}function dy(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var f=J.T,E={};J.T=E;try{var S=a(d,l),D=J.S;D!==null&&D(E,S),fy(t,i,S)}catch(q){$f(t,i,q)}finally{f!==null&&E.types!==null&&(f.types=E.types),J.T=f}}else try{f=a(d,l),fy(t,i,f)}catch(q){$f(t,i,q)}}function fy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){my(t,i,l)},function(l){return $f(t,i,l)}):my(t,i,a)}function my(t,i,a){i.status="fulfilled",i.value=a,py(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,dy(t,a)))}function $f(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,py(i),i=i.next;while(i!==l)}t.action=null}function py(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function gy(t,i){return i}function yy(t,i){if(Pe){var a=rt.formState;if(a!==null){e:{var l=ke;if(Pe){if(ot){t:{for(var d=ot,f=Wn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Qn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){ot=Qn(d.nextSibling),l=d.data==="F!";break e}}Hi(l)}l=!1}l&&(i=a[0])}}return a=dn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:i},a.queue=l,a=Oy.bind(null,ke,l),l.dispatch=a,l=Wf(!1),f=Jf.bind(null,ke,!1,l.queue),l=dn(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=$T.bind(null,ke,d,f,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function vy(t){var i=bt();return _y(i,Je,t)}function _y(t,i,a){if(i=qf(t,i,gy)[0],t=Qu(li)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ql(i)}catch(E){throw E===yo?Pu:E}else l=i;i=bt();var d=i.queue,f=d.dispatch;return a!==i.memoizedState&&(ke.flags|=2048,bo(9,{destroy:void 0},QT.bind(null,d,a),null)),[l,f,t]}function QT(t,i){t.action=i}function Ey(t){var i=bt(),a=Je;if(a!==null)return _y(i,a,t);bt(),i=i.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function bo(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=ke.updateQueue,i===null&&(i=Wu(),ke.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function xy(){return bt().memoizedState}function Ku(t,i,a,l){var d=dn();ke.flags|=t,d.memoizedState=bo(1|i,{destroy:void 0},a,l===void 0?null:l)}function Yu(t,i,a,l){var d=bt();l=l===void 0?null:l;var f=d.memoizedState.inst;Je!==null&&l!==null&&Pf(l,Je.memoizedState.deps)?d.memoizedState=bo(i,f,a,l):(ke.flags|=t,d.memoizedState=bo(1|i,f,a,l))}function by(t,i){Ku(8390656,8,t,i)}function Qf(t,i){Yu(2048,8,t,i)}function KT(t){ke.flags|=4;var i=ke.updateQueue;if(i===null)i=Wu(),ke.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ty(t){var i=bt().memoizedState;return KT({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Sy(t,i){return Yu(4,2,t,i)}function Ay(t,i){return Yu(4,4,t,i)}function wy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ky(t,i,a){a=a!=null?a.concat([t]):null,Yu(4,4,wy.bind(null,i,t),a)}function Kf(){}function Ry(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Pf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Cy(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Pf(i,l[1]))return l[0];if(l=t(),sa){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,i],l}function Yf(t,i,a){return a===void 0||(oi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=I1(),ke.lanes|=t,Xi|=t,a)}function Iy(t,i,a,l){return kn(a,i)?a:_o.current!==null?(t=Yf(t,a,l),kn(t,i)||(Nt=!0),t):(oi&42)===0||(oi&1073741824)!==0&&(De&261930)===0?(Nt=!0,t.memoizedState=a):(t=I1(),ke.lanes|=t,Xi|=t,i)}function Ny(t,i,a,l,d){var f=G.p;G.p=f!==0&&8>f?f:8;var E=J.T,S={};J.T=S,Jf(t,!1,i,a);try{var D=d(),q=J.S;if(q!==null&&q(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ee=qT(D,l);Kl(t,i,ee,Dn(t))}else Kl(t,i,l,Dn(t))}catch(re){Kl(t,i,{then:function(){},status:"rejected",reason:re},Dn())}finally{G.p=f,E!==null&&S.types!==null&&(E.types=S.types),J.T=E}}function YT(){}function Xf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var d=Ly(t).queue;Ny(t,d,i,fe,a===null?YT:function(){return Dy(t),a(l)})}function Ly(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:fe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Dy(t){var i=Ly(t);i.next===null&&(i=t.alternate.memoizedState),Kl(t,i.next.queue,{},Dn())}function Zf(){return Yt(dc)}function jy(){return bt().memoizedState}function My(){return bt().memoizedState}function XT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Dn();t=Gi(a);var l=Wi(i,t,a);l!==null&&(xn(l,i,a),ql(l,i,a)),i={cache:kf()},t.payload=i;return}i=i.return}}function ZT(t,i,a){var l=Dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xu(t)?Vy(i,a):(a=gf(t,i,a,l),a!==null&&(xn(a,t,l),Py(a,i,l)))}function Oy(t,i,a){var l=Dn();Kl(t,i,a,l)}function Kl(t,i,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xu(t))Vy(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var E=i.lastRenderedState,S=f(E,a);if(d.hasEagerState=!0,d.eagerState=S,kn(S,E))return Nu(t,i,d,0),rt===null&&Iu(),!1}catch{}if(a=gf(t,i,d,l),a!==null)return xn(a,t,l),Py(a,i,l),!0}return!1}function Jf(t,i,a,l){if(l={lane:2,revertLane:Nm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Xu(t)){if(i)throw Error(s(479))}else i=gf(t,a,l,2),i!==null&&xn(i,t,2)}function Xu(t){var i=t.alternate;return t===ke||i!==null&&i===ke}function Vy(t,i){Eo=qu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Py(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,yl(t,a)}}var Yl={readContext:Yt,use:$u,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Yl.useEffectEvent=pt;var Uy={readContext:Yt,use:$u,useCallback:function(t,i){return dn().memoizedState=[t,i===void 0?null:i],t},useContext:Yt,useEffect:by,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ku(4194308,4,wy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ku(4194308,4,t,i)},useInsertionEffect:function(t,i){Ku(4,2,t,i)},useMemo:function(t,i){var a=dn();i=i===void 0?null:i;var l=t();if(sa){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=dn();if(a!==void 0){var d=a(i);if(sa){Vn(!0);try{a(i)}finally{Vn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=ZT.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var i=dn();return t={current:t},i.memoizedState=t},useState:function(t){t=Wf(t);var i=t.queue,a=Oy.bind(null,ke,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Kf,useDeferredValue:function(t,i){var a=dn();return Yf(a,t,i)},useTransition:function(){var t=Wf(!1);return t=Ny.bind(null,ke,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=ke,d=dn();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),rt===null)throw Error(s(349));(De&127)!==0||ay(l,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,by(ly.bind(null,l,f,t),[t]),l.flags|=2048,bo(9,{destroy:void 0},oy.bind(null,l,f,a,i),null),a},useId:function(){var t=dn(),i=rt.identifierPrefix;if(Pe){var a=zr,l=Ur;a=(l&~(1<<32-_t(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Gu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=GT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Zf,useFormState:yy,useActionState:yy,useOptimistic:function(t){var i=dn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Jf.bind(null,ke,!0,a),a.dispatch=i,[t,i]},useMemoCache:Ff,useCacheRefresh:function(){return dn().memoizedState=XT.bind(null,ke)},useEffectEvent:function(t){var i=dn(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},em={readContext:Yt,use:$u,useCallback:Ry,useContext:Yt,useEffect:Qf,useImperativeHandle:ky,useInsertionEffect:Sy,useLayoutEffect:Ay,useMemo:Cy,useReducer:Qu,useRef:xy,useState:function(){return Qu(li)},useDebugValue:Kf,useDeferredValue:function(t,i){var a=bt();return Iy(a,Je.memoizedState,t,i)},useTransition:function(){var t=Qu(li)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:Ql(t),i]},useSyncExternalStore:sy,useId:jy,useHostTransitionStatus:Zf,useFormState:vy,useActionState:vy,useOptimistic:function(t,i){var a=bt();return hy(a,Je,t,i)},useMemoCache:Ff,useCacheRefresh:My};em.useEffectEvent=Ty;var zy={readContext:Yt,use:$u,useCallback:Ry,useContext:Yt,useEffect:Qf,useImperativeHandle:ky,useInsertionEffect:Sy,useLayoutEffect:Ay,useMemo:Cy,useReducer:Gf,useRef:xy,useState:function(){return Gf(li)},useDebugValue:Kf,useDeferredValue:function(t,i){var a=bt();return Je===null?Yf(a,t,i):Iy(a,Je.memoizedState,t,i)},useTransition:function(){var t=Gf(li)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:Ql(t),i]},useSyncExternalStore:sy,useId:jy,useHostTransitionStatus:Zf,useFormState:Ey,useActionState:Ey,useOptimistic:function(t,i){var a=bt();return Je!==null?hy(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ff,useCacheRefresh:My};zy.useEffectEvent=Ty;function tm(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var nm={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Dn(),d=Gi(l);d.payload=i,a!=null&&(d.callback=a),i=Wi(t,d,l),i!==null&&(xn(i,t,l),ql(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Dn(),d=Gi(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Wi(t,d,l),i!==null&&(xn(i,t,l),ql(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Dn(),l=Gi(a);l.tag=2,i!=null&&(l.callback=i),i=Wi(t,l,a),i!==null&&(xn(i,t,a),ql(i,t,a))}};function By(t,i,a,l,d,f,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,E):i.prototype&&i.prototype.isPureReactComponent?!Ol(a,l)||!Ol(d,f):!0}function Hy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&nm.enqueueReplaceState(i,i.state,null)}function aa(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function Fy(t){Cu(t)}function qy(t){console.error(t)}function Gy(t){Cu(t)}function Zu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Wy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function rm(t,i,a){return a=Gi(a),a.tag=3,a.payload={element:null},a.callback=function(){Zu(t,i)},a}function $y(t){return t=Gi(t),t.tag=3,t}function Qy(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){Wy(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Wy(i,a,l),typeof d!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function JT(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&mo(i,a,d,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return $n===null?uh():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Uu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Rm(t,l,d)),!1;case 22:return a.flags|=65536,l===Uu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Rm(t,l,d)),!1}throw Error(s(435,a.tag))}return Rm(t,l,d),uh(),!1}if(Pe)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==bf&&(t=Error(s(422),{cause:l}),Ul(Fn(t,a)))):(l!==bf&&(i=Error(s(423),{cause:l}),Ul(Fn(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Fn(l,a),d=rm(t.stateNode,l,d),Df(t,d),gt!==4&&(gt=2)),!1;var f=Error(s(520),{cause:l});if(f=Fn(f,a),ic===null?ic=[f]:ic.push(f),gt!==4&&(gt=2),i===null)return!0;l=Fn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=rm(a.stateNode,l,t),Df(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zi===null||!Zi.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=$y(d),Qy(d,t,a,l),Df(a,d),!1}a=a.return}while(a!==null);return!1}var im=Error(s(461)),Nt=!1;function Xt(t,i,a,l){i.child=t===null?Z0(i,null,a,l):ia(i,t.child,a,l)}function Ky(t,i,a,l,d){a=a.render;var f=i.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return ea(i),l=Uf(t,i,a,E,f,d),S=zf(),t!==null&&!Nt?(Bf(t,i,d),ci(t,i,d)):(Pe&&S&&Ef(i),i.flags|=1,Xt(t,i,l,d),i.child)}function Yy(t,i,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!yf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Xy(t,i,f,l,d)):(t=Du(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!dm(t,d)){var E=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ol,a(E,l)&&t.ref===i.ref)return ci(t,i,d)}return i.flags|=1,t=ri(f,l),t.ref=i.ref,t.return=i,i.child=t}function Xy(t,i,a,l,d){if(t!==null){var f=t.memoizedProps;if(Ol(f,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=f,dm(t,d))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,ci(t,i,d)}return sm(t,i,a,l,d)}function Zy(t,i,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,i.child=null;return Jy(t,i,f,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vu(i,f!==null?f.cachePool:null),f!==null?ty(i,f):Mf(),ny(i);else return l=i.lanes=536870912,Jy(t,i,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Vu(i,f.cachePool),ty(i,f),Qi(),i.memoizedState=null):(t!==null&&Vu(i,null),Mf(),Qi());return Xt(t,i,d,a),i.child}function Xl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Jy(t,i,a,l,d){var f=Cf();return f=f===null?null:{parent:Ct._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Vu(i,null),Mf(),ny(i),t!==null&&mo(t,i,l,!0),i.childLanes=d,null}function Ju(t,i){return i=th({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function e1(t,i,a){return ia(i,t.child,null,a),t=Ju(i,i.pendingProps),t.flags|=2,In(i),i.memoizedState=null,t}function eS(t,i,a){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Ju(i,l),i.lanes=536870912,Xl(null,t);if(Vf(i),(t=ot)?(t=dv(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:zi!==null?{id:Ur,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},a=V0(t),a.return=i,i.child=a,Kt=i,ot=null)):t=null,t===null)throw Hi(i);return i.lanes=536870912,null}return Ju(i,l)}var f=t.memoizedState;if(f!==null){var E=f.dehydrated;if(Vf(i),d)if(i.flags&256)i.flags&=-257,i=e1(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Nt||mo(t,i,a,!1),d=(a&t.childLanes)!==0,Nt||d){if(l=rt,l!==null&&(E=vl(l,a),E!==0&&E!==f.retryLane))throw f.retryLane=E,Ys(t,E),xn(l,t,E),im;uh(),i=e1(t,i,a)}else t=f.treeContext,ot=Qn(E.nextSibling),Kt=i,Pe=!0,Bi=null,Wn=!1,t!==null&&z0(i,t),i=Ju(i,l),i.flags|=4096;return i}return t=ri(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function eh(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function sm(t,i,a,l,d){return ea(i),a=Uf(t,i,a,l,void 0,d),l=zf(),t!==null&&!Nt?(Bf(t,i,d),ci(t,i,d)):(Pe&&l&&Ef(i),i.flags|=1,Xt(t,i,a,d),i.child)}function t1(t,i,a,l,d,f){return ea(i),i.updateQueue=null,a=iy(i,l,a,d),ry(t),l=zf(),t!==null&&!Nt?(Bf(t,i,f),ci(t,i,f)):(Pe&&l&&Ef(i),i.flags|=1,Xt(t,i,a,f),i.child)}function n1(t,i,a,l,d){if(ea(i),i.stateNode===null){var f=co,E=a.contextType;typeof E=="object"&&E!==null&&(f=Yt(E)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=nm,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},Nf(i),E=a.contextType,f.context=typeof E=="object"&&E!==null?Yt(E):co,f.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(tm(i,a,E,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(E=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),E!==f.state&&nm.enqueueReplaceState(f,f.state,null),Wl(i,l,f,d),Gl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var S=i.memoizedProps,D=aa(a,S);f.props=D;var q=f.context,ee=a.contextType;E=co,typeof ee=="object"&&ee!==null&&(E=Yt(ee));var re=a.getDerivedStateFromProps;ee=typeof re=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,ee||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||q!==E)&&Hy(i,f,l,E),qi=!1;var W=i.memoizedState;f.state=W,Wl(i,l,f,d),Gl(),q=i.memoizedState,S||W!==q||qi?(typeof re=="function"&&(tm(i,a,re,l),q=i.memoizedState),(D=qi||By(i,a,D,l,W,q,E))?(ee||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),f.props=l,f.state=q,f.context=E,l=D):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Lf(t,i),E=i.memoizedProps,ee=aa(a,E),f.props=ee,re=i.pendingProps,W=f.context,q=a.contextType,D=co,typeof q=="object"&&q!==null&&(D=Yt(q)),S=a.getDerivedStateFromProps,(q=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E!==re||W!==D)&&Hy(i,f,l,D),qi=!1,W=i.memoizedState,f.state=W,Wl(i,l,f,d),Gl();var Y=i.memoizedState;E!==re||W!==Y||qi||t!==null&&t.dependencies!==null&&Mu(t.dependencies)?(typeof S=="function"&&(tm(i,a,S,l),Y=i.memoizedState),(ee=qi||By(i,a,ee,l,W,Y,D)||t!==null&&t.dependencies!==null&&Mu(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,D)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),f.props=l,f.state=Y,f.context=D,l=ee):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,eh(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=ia(i,t.child,null,d),i.child=ia(i,null,a,d)):Xt(t,i,a,d),i.memoizedState=f.state,t=i.child):t=ci(t,i,d),t}function r1(t,i,a,l){return Zs(),i.flags|=256,Xt(t,i,a,l),i.child}var am={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function om(t){return{baseLanes:t,cachePool:W0()}}function lm(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Ln),t}function i1(t,i,a){var l=i.pendingProps,d=!1,f=(i.flags&128)!==0,E;if((E=f)||(E=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),E&&(d=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(d?$i(i):Qi(),(t=ot)?(t=dv(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:zi!==null?{id:Ur,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},a=V0(t),a.return=i,i.child=a,Kt=i,ot=null)):t=null,t===null)throw Hi(i);return qm(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,d?(Qi(),d=i.mode,S=th({mode:"hidden",children:S},d),l=Xs(l,d,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=om(a),l.childLanes=lm(t,E,a),i.memoizedState=am,Xl(null,l)):($i(i),cm(i,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(f)i.flags&256?($i(i),i.flags&=-257,i=um(t,i,a)):i.memoizedState!==null?(Qi(),i.child=t.child,i.flags|=128,i=null):(Qi(),S=l.fallback,d=i.mode,l=th({mode:"visible",children:l.children},d),S=Xs(S,d,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,ia(i,t.child,null,a),l=i.child,l.memoizedState=om(a),l.childLanes=lm(t,E,a),i.memoizedState=am,i=Xl(null,l));else if($i(i),qm(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var q=E.dgst;E=q,l=Error(s(419)),l.stack="",l.digest=E,Ul({value:l,source:null,stack:null}),i=um(t,i,a)}else if(Nt||mo(t,i,a,!1),E=(a&t.childLanes)!==0,Nt||E){if(E=rt,E!==null&&(l=vl(E,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ys(t,l),xn(E,t,l),im;Fm(S)||uh(),i=um(t,i,a)}else Fm(S)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,ot=Qn(S.nextSibling),Kt=i,Pe=!0,Bi=null,Wn=!1,t!==null&&z0(i,t),i=cm(i,l.children),i.flags|=4096);return i}return d?(Qi(),S=l.fallback,d=i.mode,D=t.child,q=D.sibling,l=ri(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?S=ri(q,S):(S=Xs(S,d,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Xl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=om(a):(d=S.cachePool,d!==null?(D=Ct._currentValue,d=d.parent!==D?{parent:D,pool:D}:d):d=W0(),S={baseLanes:S.baseLanes|a,cachePool:d}),l.memoizedState=S,l.childLanes=lm(t,E,a),i.memoizedState=am,Xl(t.child,l)):($i(i),a=t.child,t=a.sibling,a=ri(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function cm(t,i){return i=th({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function th(t,i){return t=Rn(22,t,null,i),t.lanes=0,t}function um(t,i,a){return ia(i,t.child,null,a),t=cm(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function s1(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Af(t.return,i,a)}function hm(t,i,a,l,d,f){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=a,E.tailMode=d,E.treeForkCount=f)}function a1(t,i,a){var l=i.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var E=xt.current,S=(E&2)!==0;if(S?(E=E&1|2,i.flags|=128):E&=1,ue(xt,E),Xt(t,i,l,a),l=Pe?Pl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s1(t,a,i);else if(t.tag===19)s1(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&Fu(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),hm(i,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Fu(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}hm(i,!0,a,null,f,l);break;case"together":hm(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ci(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Xi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(mo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ri(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ri(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function dm(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Mu(t)))}function tS(t,i,a){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),Fi(i,Ct,t.memoizedState.cache),Zs();break;case 27:case 5:Ls(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:Fi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Vf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?($i(i),i.flags|=128,null):(a&i.child.childLanes)!==0?i1(t,i,a):($i(i),t=ci(t,i,a),t!==null?t.sibling:null);$i(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(mo(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return a1(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ue(xt,xt.current),l)break;return null;case 22:return i.lanes=0,Zy(t,i,a,i.pendingProps);case 24:Fi(i,Ct,t.memoizedState.cache)}return ci(t,i,a)}function o1(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!dm(t,a)&&(i.flags&128)===0)return Nt=!1,tS(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,Pe&&(i.flags&1048576)!==0&&U0(i,Pl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=na(i.elementType),i.type=t,typeof t=="function")yf(t)?(l=aa(t,l),i.tag=1,i=n1(null,i,t,l,a)):(i.tag=0,i=sm(null,i,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===z){i.tag=11,i=Ky(null,i,t,l,a);break e}else if(d===C){i.tag=14,i=Yy(null,i,t,l,a);break e}}throw i=Xe(t)||t,Error(s(306,i,""))}}return i;case 0:return sm(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=aa(l,i.pendingProps),n1(t,i,l,d,a);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;d=f.element,Lf(t,i),Wl(i,l,null,a);var E=i.memoizedState;if(l=E.cache,Fi(i,Ct,l),l!==f.cache&&wf(i,[Ct],a,!0),Gl(),l=E.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=r1(t,i,l,a);break e}else if(l!==d){d=Fn(Error(s(424)),i),Ul(d),i=r1(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ot=Qn(t.firstChild),Kt=i,Pe=!0,Bi=null,Wn=!0,a=Z0(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Zs(),l===d){i=ci(t,i,a);break e}Xt(t,i,l,a)}i=i.child}return i;case 26:return eh(t,i),t===null?(a=vv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=yh(Re.current).createElement(a),l[wt]=i,l[Bt]=t,Zt(l,a,t),kt(l),i.stateNode=l):i.memoizedState=vv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ls(i),t===null&&Pe&&(l=i.stateNode=pv(i.type,i.pendingProps,Re.current),Kt=i,Wn=!0,d=ot,ns(i.type)?(Gm=d,ot=Qn(l.firstChild)):ot=d),Xt(t,i,i.pendingProps.children,a),eh(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((d=l=ot)&&(l=NS(l,i.type,i.pendingProps,Wn),l!==null?(i.stateNode=l,Kt=i,ot=Qn(l.firstChild),Wn=!1,d=!0):d=!1),d||Hi(i)),Ls(i),d=i.type,f=i.pendingProps,E=t!==null?t.memoizedProps:null,l=f.children,zm(d,f)?l=null:E!==null&&zm(d,E)&&(i.flags|=32),i.memoizedState!==null&&(d=Uf(t,i,WT,null,null,a),dc._currentValue=d),eh(t,i),Xt(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=ot)&&(a=LS(a,i.pendingProps,Wn),a!==null?(i.stateNode=a,Kt=i,ot=null,t=!0):t=!1),t||Hi(i)),null;case 13:return i1(t,i,a);case 4:return Ot(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ia(i,null,l,a):Xt(t,i,l,a),i.child;case 11:return Ky(t,i,i.type,i.pendingProps,a);case 7:return Xt(t,i,i.pendingProps,a),i.child;case 8:return Xt(t,i,i.pendingProps.children,a),i.child;case 12:return Xt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Fi(i,i.type,l.value),Xt(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,ea(i),d=Yt(d),l=l(d),i.flags|=1,Xt(t,i,l,a),i.child;case 14:return Yy(t,i,i.type,i.pendingProps,a);case 15:return Xy(t,i,i.type,i.pendingProps,a);case 19:return a1(t,i,a);case 31:return eS(t,i,a);case 22:return Zy(t,i,a,i.pendingProps);case 24:return ea(i),l=Yt(Ct),t===null?(d=Cf(),d===null&&(d=rt,f=kf(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),i.memoizedState={parent:l,cache:d},Nf(i),Fi(i,Ct,d)):((t.lanes&a)!==0&&(Lf(t,i),Wl(i,null,null,a),Gl()),d=t.memoizedState,f=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Fi(i,Ct,l)):(l=f.cache,Fi(i,Ct,l),l!==d.cache&&wf(i,[Ct],a,!0))),Xt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ui(t){t.flags|=4}function fm(t,i,a,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(j1())t.flags|=8192;else throw ra=Uu,If}else t.flags&=-16777217}function l1(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Tv(i))if(j1())t.flags|=8192;else throw ra=Uu,If}function nh(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?lu():536870912,t.lanes|=i,wo|=i)}function Zl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function nS(t,i,a){var l=i.pendingProps;switch(xf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ai(Ct),ct(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(fo(i)?ui(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tf())),lt(i),null;case 26:var d=i.type,f=i.memoizedState;return t===null?(ui(i),f!==null?(lt(i),l1(i,f)):(lt(i),fm(i,d,null,l,a))):f?f!==t.memoizedState?(ui(i),lt(i),l1(i,f)):(lt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ui(i),lt(i),fm(i,d,t,l,a)),null;case 27:if(qa(i),a=Re.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}t=me.current,fo(i)?B0(i):(t=pv(d,l,a),i.stateNode=t,ui(i))}return lt(i),null;case 5:if(qa(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}if(f=me.current,fo(i))B0(i);else{var E=yh(Re.current);switch(f){case 1:f=E.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=E.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=E.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?E.createElement(d,{is:l.is}):E.createElement(d)}}f[wt]=i,f[Bt]=l;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)f.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=f;e:switch(Zt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ui(i)}}return lt(i),fm(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Re.current,fo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=Kt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[wt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||iv(t.nodeValue,a)),t||Hi(i,!0)}else t=yh(t).createTextNode(l),t[wt]=i,i.stateNode=t}return lt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=fo(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[wt]=i}else Zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),t=!1}else a=Tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(In(i),i):(In(i),null);if((i.flags&128)!==0)throw Error(s(558))}return lt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=fo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[wt]=i}else Zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),d=!1}else d=Tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(In(i),i):(In(i),null)}return In(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),nh(i,i.updateQueue),lt(i),null);case 4:return ct(),t===null&&Mm(i.stateNode.containerInfo),lt(i),null;case 10:return ai(i.type),lt(i),null;case 19:if(ie(xt),l=i.memoizedState,l===null)return lt(i),null;if(d=(i.flags&128)!==0,f=l.rendering,f===null)if(d)Zl(l,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Fu(t),f!==null){for(i.flags|=128,Zl(l,!1),t=f.updateQueue,i.updateQueue=t,nh(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)O0(a,t),a=a.sibling;return ue(xt,xt.current&1|2),Pe&&ii(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&un()>oh&&(i.flags|=128,d=!0,Zl(l,!1),i.lanes=4194304)}else{if(!d)if(t=Fu(f),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,nh(i,t),Zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Pe)return lt(i),null}else 2*un()-l.renderingStartTime>oh&&a!==536870912&&(i.flags|=128,d=!0,Zl(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(t=l.last,t!==null?t.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=un(),t.sibling=null,a=xt.current,ue(xt,d?a&1|2:a&1),Pe&&ii(i,l.treeForkCount),t):(lt(i),null);case 22:case 23:return In(i),Of(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&nh(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ie(ta),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ai(Ct),lt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function rS(t,i){switch(xf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ai(Ct),ct(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return qa(i),null;case 31:if(i.memoizedState!==null){if(In(i),i.alternate===null)throw Error(s(340));Zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(In(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ie(xt),null;case 4:return ct(),null;case 10:return ai(i.type),null;case 22:case 23:return In(i),Of(),t!==null&&ie(ta),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ai(Ct),null;case 25:return null;default:return null}}function c1(t,i){switch(xf(i),i.tag){case 3:ai(Ct),ct();break;case 26:case 27:case 5:qa(i);break;case 4:ct();break;case 31:i.memoizedState!==null&&In(i);break;case 13:In(i);break;case 19:ie(xt);break;case 10:ai(i.type);break;case 22:case 23:In(i),Of(),t!==null&&ie(ta);break;case 24:ai(Ct)}}function Jl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,E=a.inst;l=f(),E.destroy=l}a=a.next}while(a!==d)}}catch(S){Ke(i,i.return,S)}}function Ki(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,d=i;var D=a,q=S;try{q()}catch(ee){Ke(d,D,ee)}}}l=l.next}while(l!==f)}}catch(ee){Ke(i,i.return,ee)}}function u1(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ey(i,a)}catch(l){Ke(t,t.return,l)}}}function h1(t,i,a){a.props=aa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ke(t,i,l)}}function ec(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){Ke(t,i,d)}}function Br(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Ke(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Ke(t,i,d)}else a.current=null}function d1(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Ke(t,t.return,d)}}function mm(t,i,a){try{var l=t.stateNode;AS(l,t.type,a,i),l[Bt]=i}catch(d){Ke(t,t.return,d)}}function f1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ns(t.type)||t.tag===4}function pm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ns(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gm(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=sr));else if(l!==4&&(l===27&&ns(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(gm(t,i,a),t=t.sibling;t!==null;)gm(t,i,a),t=t.sibling}function rh(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&ns(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(rh(t,i,a),t=t.sibling;t!==null;)rh(t,i,a),t=t.sibling}function m1(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Zt(i,l,a),i[wt]=t,i[Bt]=a}catch(f){Ke(t,t.return,f)}}var hi=!1,Lt=!1,ym=!1,p1=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function iS(t,i){if(t=t.containerInfo,Pm=Sh,t=k0(t),uf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var E=0,S=-1,D=-1,q=0,ee=0,re=t,W=null;t:for(;;){for(var Y;re!==a||d!==0&&re.nodeType!==3||(S=E+d),re!==f||l!==0&&re.nodeType!==3||(D=E+l),re.nodeType===3&&(E+=re.nodeValue.length),(Y=re.firstChild)!==null;)W=re,re=Y;for(;;){if(re===t)break t;if(W===a&&++q===d&&(S=E),W===f&&++ee===l&&(D=E),(Y=re.nextSibling)!==null)break;re=W,W=re.parentNode}re=Y}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Um={focusedElem:t,selectionRange:a},Sh=!1,Ft=i;Ft!==null;)if(i=Ft,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ft=t;else for(;Ft!==null;){switch(i=Ft,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var pe=aa(a.type,d);t=l.getSnapshotBeforeUpdate(pe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ke(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Hm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ft=t;break}Ft=i.return}}function g1(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fi(t,a),l&4&&Jl(5,a);break;case 1:if(fi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(E){Ke(a,a.return,E)}else{var d=aa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ke(a,a.return,E)}}l&64&&u1(a),l&512&&ec(a,a.return);break;case 3:if(fi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ey(t,i)}catch(E){Ke(a,a.return,E)}}break;case 27:i===null&&l&4&&m1(a);case 26:case 5:fi(t,a),i===null&&l&4&&d1(a),l&512&&ec(a,a.return);break;case 12:fi(t,a);break;case 31:fi(t,a),l&4&&_1(t,a);break;case 13:fi(t,a),l&4&&E1(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=fS.bind(null,a),DS(t,a))));break;case 22:if(l=a.memoizedState!==null||hi,!l){i=i!==null&&i.memoizedState!==null||Lt,d=hi;var f=Lt;hi=l,(Lt=i)&&!f?mi(t,a,(a.subtreeFlags&8772)!==0):fi(t,a),hi=d,Lt=f}break;case 30:break;default:fi(t,a)}}function y1(t){var i=t.alternate;i!==null&&(t.alternate=null,y1(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ka(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,yn=!1;function di(t,i,a){for(a=a.child;a!==null;)v1(t,i,a),a=a.sibling}function v1(t,i,a){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(tr,a)}catch{}switch(a.tag){case 26:Lt||Br(a,i),di(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||Br(a,i);var l=ht,d=yn;ns(a.type)&&(ht=a.stateNode,yn=!1),di(t,i,a),cc(a.stateNode),ht=l,yn=d;break;case 5:Lt||Br(a,i);case 6:if(l=ht,d=yn,ht=null,di(t,i,a),ht=l,yn=d,ht!==null)if(yn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(f){Ke(a,i,f)}else try{ht.removeChild(a.stateNode)}catch(f){Ke(a,i,f)}break;case 18:ht!==null&&(yn?(t=ht,uv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),jo(t)):uv(ht,a.stateNode));break;case 4:l=ht,d=yn,ht=a.stateNode.containerInfo,yn=!0,di(t,i,a),ht=l,yn=d;break;case 0:case 11:case 14:case 15:Ki(2,a,i),Lt||Ki(4,a,i),di(t,i,a);break;case 1:Lt||(Br(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&h1(a,i,l)),di(t,i,a);break;case 21:di(t,i,a);break;case 22:Lt=(l=Lt)||a.memoizedState!==null,di(t,i,a),Lt=l;break;default:di(t,i,a)}}function _1(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{jo(t)}catch(a){Ke(i,i.return,a)}}}function E1(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jo(t)}catch(a){Ke(i,i.return,a)}}function sS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new p1),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new p1),i;default:throw Error(s(435,t.tag))}}function ih(t,i){var a=sS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var d=mS.bind(null,t,l);l.then(d,d)}})}function vn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,E=i,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(ns(S.type)){ht=S.stateNode,yn=!1;break e}break;case 5:ht=S.stateNode,yn=!1;break e;case 3:case 4:ht=S.stateNode.containerInfo,yn=!0;break e}S=S.return}if(ht===null)throw Error(s(160));v1(f,E,d),ht=null,yn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)x1(i,t),i=i.sibling}var hr=null;function x1(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(i,t),_n(t),l&4&&(Ki(3,t,t.return),Jl(3,t),Ki(5,t,t.return));break;case 1:vn(i,t),_n(t),l&512&&(Lt||a===null||Br(a,a.return)),l&64&&hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=hr;if(vn(i,t),_n(t),l&512&&(Lt||a===null||Br(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[kr]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Zt(f,l,a),f[wt]=t,kt(f),l=f;break e;case"link":var E=xv("link","href",d).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(f=E[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}f=d.createElement(l),Zt(f,l,a),d.head.appendChild(f);break;case"meta":if(E=xv("meta","content",d).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(f=E[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}f=d.createElement(l),Zt(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[wt]=t,kt(f),l=f}t.stateNode=l}else bv(d,t.type,t.stateNode);else t.stateNode=Ev(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?bv(d,t.type,t.stateNode):Ev(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&mm(t,t.memoizedProps,a.memoizedProps)}break;case 27:vn(i,t),_n(t),l&512&&(Lt||a===null||Br(a,a.return)),a!==null&&l&4&&mm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(vn(i,t),_n(t),l&512&&(Lt||a===null||Br(a,a.return)),t.flags&32){d=t.stateNode;try{gn(d,"")}catch(pe){Ke(t,t.return,pe)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,mm(t,d,a!==null?a.memoizedProps:d)),l&1024&&(ym=!0);break;case 6:if(vn(i,t),_n(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(pe){Ke(t,t.return,pe)}}break;case 3:if(Eh=null,d=hr,hr=vh(i.containerInfo),vn(i,t),hr=d,_n(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jo(i.containerInfo)}catch(pe){Ke(t,t.return,pe)}ym&&(ym=!1,b1(t));break;case 4:l=hr,hr=vh(t.stateNode.containerInfo),vn(i,t),_n(t),hr=l;break;case 12:vn(i,t),_n(t);break;case 31:vn(i,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ih(t,l)));break;case 13:vn(i,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ah=un()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ih(t,l)));break;case 22:d=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,q=hi,ee=Lt;if(hi=q||d,Lt=ee||D,vn(i,t),Lt=ee,hi=q,_n(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||D||hi||Lt||oa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(f=D.stateNode,d)E=f.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=D.stateNode;var re=D.memoizedProps.style,W=re!=null&&re.hasOwnProperty("display")?re.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(pe){Ke(D,D.return,pe)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch(pe){Ke(D,D.return,pe)}}}else if(i.tag===18){if(a===null){D=i;try{var Y=D.stateNode;d?hv(Y,!0):hv(D.stateNode,!1)}catch(pe){Ke(D,D.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ih(t,a))));break;case 19:vn(i,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ih(t,l)));break;case 30:break;case 21:break;default:vn(i,t),_n(t)}}function _n(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(f1(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=pm(t);rh(t,f,d);break;case 5:var E=a.stateNode;a.flags&32&&(gn(E,""),a.flags&=-33);var S=pm(t);rh(t,S,E);break;case 3:case 4:var D=a.stateNode.containerInfo,q=pm(t);gm(t,q,D);break;default:throw Error(s(161))}}catch(ee){Ke(t,t.return,ee)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function b1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;b1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function fi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)g1(t,i.alternate,i),i=i.sibling}function oa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ki(4,i,i.return),oa(i);break;case 1:Br(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&h1(i,i.return,a),oa(i);break;case 27:cc(i.stateNode);case 26:case 5:Br(i,i.return),oa(i);break;case 22:i.memoizedState===null&&oa(i);break;case 30:oa(i);break;default:oa(i)}t=t.sibling}}function mi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,f=i,E=f.flags;switch(f.tag){case 0:case 11:case 15:mi(d,f,a),Jl(4,f);break;case 1:if(mi(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){Ke(l,l.return,q)}if(l=f,d=l.updateQueue,d!==null){var S=l.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)J0(D[d],S)}catch(q){Ke(l,l.return,q)}}a&&E&64&&u1(f),ec(f,f.return);break;case 27:m1(f);case 26:case 5:mi(d,f,a),a&&l===null&&E&4&&d1(f),ec(f,f.return);break;case 12:mi(d,f,a);break;case 31:mi(d,f,a),a&&E&4&&_1(d,f);break;case 13:mi(d,f,a),a&&E&4&&E1(d,f);break;case 22:f.memoizedState===null&&mi(d,f,a),ec(f,f.return);break;case 30:break;default:mi(d,f,a)}i=i.sibling}}function vm(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&zl(a))}function _m(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&zl(t))}function dr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)T1(t,i,a,l),i=i.sibling}function T1(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:dr(t,i,a,l),d&2048&&Jl(9,i);break;case 1:dr(t,i,a,l);break;case 3:dr(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&zl(t)));break;case 12:if(d&2048){dr(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,E=f.id,S=f.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ke(i,i.return,D)}}else dr(t,i,a,l);break;case 31:dr(t,i,a,l);break;case 13:dr(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,E=i.alternate,i.memoizedState!==null?f._visibility&2?dr(t,i,a,l):tc(t,i):f._visibility&2?dr(t,i,a,l):(f._visibility|=2,To(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&vm(E,i);break;case 24:dr(t,i,a,l),d&2048&&_m(i.alternate,i);break;default:dr(t,i,a,l)}}function To(t,i,a,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,E=i,S=a,D=l,q=E.flags;switch(E.tag){case 0:case 11:case 15:To(f,E,S,D,d),Jl(8,E);break;case 23:break;case 22:var ee=E.stateNode;E.memoizedState!==null?ee._visibility&2?To(f,E,S,D,d):tc(f,E):(ee._visibility|=2,To(f,E,S,D,d)),d&&q&2048&&vm(E.alternate,E);break;case 24:To(f,E,S,D,d),d&&q&2048&&_m(E.alternate,E);break;default:To(f,E,S,D,d)}i=i.sibling}}function tc(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:tc(a,l),d&2048&&vm(l.alternate,l);break;case 24:tc(a,l),d&2048&&_m(l.alternate,l);break;default:tc(a,l)}i=i.sibling}}var nc=8192;function So(t,i,a){if(t.subtreeFlags&nc)for(t=t.child;t!==null;)S1(t,i,a),t=t.sibling}function S1(t,i,a){switch(t.tag){case 26:So(t,i,a),t.flags&nc&&t.memoizedState!==null&&GS(a,hr,t.memoizedState,t.memoizedProps);break;case 5:So(t,i,a);break;case 3:case 4:var l=hr;hr=vh(t.stateNode.containerInfo),So(t,i,a),hr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=nc,nc=16777216,So(t,i,a),nc=l):So(t,i,a));break;default:So(t,i,a)}}function A1(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function rc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ft=l,k1(l,t)}A1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)w1(t),t=t.sibling}function w1(t){switch(t.tag){case 0:case 11:case 15:rc(t),t.flags&2048&&Ki(9,t,t.return);break;case 3:rc(t);break;case 12:rc(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,sh(t)):rc(t);break;default:rc(t)}}function sh(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ft=l,k1(l,t)}A1(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ki(8,i,i.return),sh(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,sh(i));break;default:sh(i)}t=t.sibling}}function k1(t,i){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:Ki(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ft=l;else e:for(a=t;Ft!==null;){l=Ft;var d=l.sibling,f=l.return;if(y1(l),l===a){Ft=null;break e}if(d!==null){d.return=f,Ft=d;break e}Ft=f}}}var aS={getCacheForType:function(t){var i=Yt(Ct),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Yt(Ct).controller.signal}},oS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,rt=null,Ne=null,De=0,Qe=0,Nn=null,Yi=!1,Ao=!1,Em=!1,pi=0,gt=0,Xi=0,la=0,xm=0,Ln=0,wo=0,ic=null,En=null,bm=!1,ah=0,R1=0,oh=1/0,lh=null,Zi=null,Pt=0,Ji=null,ko=null,gi=0,Tm=0,Sm=null,C1=null,sc=0,Am=null;function Dn(){return(Ge&2)!==0&&De!==0?De&-De:J.T!==null?Nm():cu()}function I1(){if(Ln===0)if((De&536870912)===0||Pe){var t=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),Ln=t}else Ln=536870912;return t=Cn.current,t!==null&&(t.flags|=32),Ln}function xn(t,i,a){(t===rt&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Ro(t,0),es(t,De,Ln,!1)),Os(t,a),((Ge&2)===0||t!==rt)&&(t===rt&&((Ge&2)===0&&(la|=a),gt===4&&es(t,De,Ln,!1)),Hr(t))}function N1(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||nr(t,i),d=l?uS(t,i):km(t,i,!0),f=l;do{if(d===0){Ao&&!l&&es(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!lS(a)){d=km(t,i,!1),f=!1;continue}if(d===2){if(f=i,t.errorRecoveryDisabledLanes&f)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var S=t;d=ic;var D=S.current.memoizedState.isDehydrated;if(D&&(Ro(S,E).flags|=256),E=km(S,E,!1),E!==2){if(Em&&!D){S.errorRecoveryDisabledLanes|=f,la|=f,d=4;break e}f=En,En=d,f!==null&&(En===null?En=f:En.push.apply(En,f))}d=E}if(f=!1,d!==2)continue}}if(d===1){Ro(t,0),es(t,i,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:es(l,i,Ln,!Yi);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=ah+300-un(),10<d)){if(es(l,i,Ln,!Yi),Sr(l,0,!0)!==0)break e;gi=i,l.timeoutHandle=lv(L1.bind(null,l,a,En,lh,bm,i,Ln,la,wo,Yi,f,"Throttled",-0,0),d);break e}L1(l,a,En,lh,bm,i,Ln,la,wo,Yi,f,null,-0,0)}}break}while(!0);Hr(t)}function L1(t,i,a,l,d,f,E,S,D,q,ee,re,W,Y){if(t.timeoutHandle=-1,re=i.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sr},S1(i,f,re);var pe=(f&62914560)===f?ah-un():(f&4194048)===f?R1-un():0;if(pe=WS(re,pe),pe!==null){gi=f,t.cancelPendingCommit=pe(z1.bind(null,t,i,f,a,l,d,E,S,D,ee,re,null,W,Y)),es(t,f,E,!q);return}}z1(t,i,f,a,l,d,E,S,D)}function lS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!kn(f(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function es(t,i,a,l){i&=~xm,i&=~la,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var f=31-_t(d),E=1<<f;l[f]=-1,d&=~E}a!==0&&Vs(t,a,i)}function ch(){return(Ge&6)===0?(ac(0),!1):!0}function wm(){if(Ne!==null){if(Qe===0)var t=Ne.return;else t=Ne,si=Js=null,Hf(t),vo=null,Hl=0,t=Ne;for(;t!==null;)c1(t.alternate,t),t=t.return;Ne=null}}function Ro(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,RS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),gi=0,wm(),rt=t,Ne=a=ri(t.current,null),De=i,Qe=0,Nn=null,Yi=!1,Ao=nr(t,i),Em=!1,wo=Ln=xm=la=Xi=gt=0,En=ic=null,bm=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-_t(l),f=1<<d;i|=t[d],l&=~f}return pi=i,Iu(),a}function D1(t,i){ke=null,J.H=Yl,i===yo||i===Pu?(i=K0(),Qe=3):i===If?(i=K0(),Qe=4):Qe=i===im?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Nn=i,Ne===null&&(gt=1,Zu(t,Fn(i,t.current)))}function j1(){var t=Cn.current;return t===null?!0:(De&4194048)===De?$n===null:(De&62914560)===De||(De&536870912)!==0?t===$n:!1}function M1(){var t=J.H;return J.H=Yl,t===null?Yl:t}function O1(){var t=J.A;return J.A=aS,t}function uh(){gt=4,Yi||(De&4194048)!==De&&Cn.current!==null||(Ao=!0),(Xi&134217727)===0&&(la&134217727)===0||rt===null||es(rt,De,Ln,!1)}function km(t,i,a){var l=Ge;Ge|=2;var d=M1(),f=O1();(rt!==t||De!==i)&&(lh=null,Ro(t,i)),i=!1;var E=gt;e:do try{if(Qe!==0&&Ne!==null){var S=Ne,D=Nn;switch(Qe){case 8:wm(),E=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var q=Qe;if(Qe=0,Nn=null,Co(t,S,D,q),a&&Ao){E=0;break e}break;default:q=Qe,Qe=0,Nn=null,Co(t,S,D,q)}}cS(),E=gt;break}catch(ee){D1(t,ee)}while(!0);return i&&t.shellSuspendCounter++,si=Js=null,Ge=l,J.H=d,J.A=f,Ne===null&&(rt=null,De=0,Iu()),E}function cS(){for(;Ne!==null;)V1(Ne)}function uS(t,i){var a=Ge;Ge|=2;var l=M1(),d=O1();rt!==t||De!==i?(lh=null,oh=un()+500,Ro(t,i)):Ao=nr(t,i);e:do try{if(Qe!==0&&Ne!==null){i=Ne;var f=Nn;t:switch(Qe){case 1:Qe=0,Nn=null,Co(t,i,f,1);break;case 2:case 9:if($0(f)){Qe=0,Nn=null,P1(i);break}i=function(){Qe!==2&&Qe!==9||rt!==t||(Qe=7),Hr(t)},f.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:$0(f)?(Qe=0,Nn=null,P1(i)):(Qe=0,Nn=null,Co(t,i,f,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var S=Ne;if(E?Tv(E):S.stateNode.complete){Qe=0,Nn=null;var D=S.sibling;if(D!==null)Ne=D;else{var q=S.return;q!==null?(Ne=q,hh(q)):Ne=null}break t}}Qe=0,Nn=null,Co(t,i,f,5);break;case 6:Qe=0,Nn=null,Co(t,i,f,6);break;case 8:wm(),gt=6;break e;default:throw Error(s(462))}}hS();break}catch(ee){D1(t,ee)}while(!0);return si=Js=null,J.H=l,J.A=d,Ge=a,Ne!==null?0:(rt=null,De=0,Iu(),gt)}function hS(){for(;Ne!==null&&!nf();)V1(Ne)}function V1(t){var i=o1(t.alternate,t,pi);t.memoizedProps=t.pendingProps,i===null?hh(t):Ne=i}function P1(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=t1(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=t1(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Hf(i);default:c1(a,i),i=Ne=O0(i,pi),i=o1(a,i,pi)}t.memoizedProps=t.pendingProps,i===null?hh(t):Ne=i}function Co(t,i,a,l){si=Js=null,Hf(i),vo=null,Hl=0;var d=i.return;try{if(JT(t,d,i,a,De)){gt=1,Zu(t,Fn(a,t.current)),Ne=null;return}}catch(f){if(d!==null)throw Ne=d,f;gt=1,Zu(t,Fn(a,t.current)),Ne=null;return}i.flags&32768?(Pe||l===1?t=!0:Ao||(De&536870912)!==0?t=!1:(Yi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),U1(i,t)):hh(i)}function hh(t){var i=t;do{if((i.flags&32768)!==0){U1(i,Yi);return}t=i.return;var a=nS(i.alternate,i,pi);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);gt===0&&(gt=5)}function U1(t,i){do{var a=rS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);gt=6,Ne=null}function z1(t,i,a,l,d,f,E,S,D){t.cancelPendingCommit=null;do dh();while(Pt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=pf,af(t,a,f,E,S,D),t===rt&&(Ne=rt=null,De=0),ko=i,Ji=t,gi=a,Tm=f,Sm=d,C1=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pS(Ii,function(){return G1(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,d=G.p,G.p=2,E=Ge,Ge|=4;try{iS(t,i,a)}finally{Ge=E,G.p=d,J.T=l}}Pt=1,B1(),H1(),F1()}}function B1(){if(Pt===1){Pt=0;var t=Ji,i=ko,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=G.p;G.p=2;var d=Ge;Ge|=4;try{x1(i,t);var f=Um,E=k0(t.containerInfo),S=f.focusedElem,D=f.selectionRange;if(E!==S&&S&&S.ownerDocument&&w0(S.ownerDocument.documentElement,S)){if(D!==null&&uf(S)){var q=D.start,ee=D.end;if(ee===void 0&&(ee=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(ee,S.value.length);else{var re=S.ownerDocument||document,W=re&&re.defaultView||window;if(W.getSelection){var Y=W.getSelection(),pe=S.textContent.length,_e=Math.min(D.start,pe),tt=D.end===void 0?_e:Math.min(D.end,pe);!Y.extend&&_e>tt&&(E=tt,tt=_e,_e=E);var U=A0(S,_e),O=A0(S,tt);if(U&&O&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==O.node||Y.focusOffset!==O.offset)){var F=re.createRange();F.setStart(U.node,U.offset),Y.removeAllRanges(),_e>tt?(Y.addRange(F),Y.extend(O.node,O.offset)):(F.setEnd(O.node,O.offset),Y.addRange(F))}}}}for(re=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&re.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<re.length;S++){var te=re[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Sh=!!Pm,Um=Pm=null}finally{Ge=d,G.p=l,J.T=a}}t.current=i,Pt=2}}function H1(){if(Pt===2){Pt=0;var t=Ji,i=ko,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=G.p;G.p=2;var d=Ge;Ge|=4;try{g1(t,i.alternate,i)}finally{Ge=d,G.p=l,J.T=a}}Pt=3}}function F1(){if(Pt===4||Pt===3){Pt=0,nu();var t=Ji,i=ko,a=gi,l=C1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,ko=Ji=null,q1(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Zi=null),Jr(a),i=i.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(tr,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=J.T,d=G.p,G.p=2,J.T=null;try{for(var f=t.onRecoverableError,E=0;E<l.length;E++){var S=l[E];f(S.value,{componentStack:S.stack})}}finally{J.T=i,G.p=d}}(gi&3)!==0&&dh(),Hr(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===Am?sc++:(sc=0,Am=t):sc=0,ac(0)}}function q1(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,zl(i)))}function dh(){return B1(),H1(),F1(),G1()}function G1(){if(Pt!==5)return!1;var t=Ji,i=Tm;Tm=0;var a=Jr(gi),l=J.T,d=G.p;try{G.p=32>a?32:a,J.T=null,a=Sm,Sm=null;var f=Ji,E=gi;if(Pt=0,ko=Ji=null,gi=0,(Ge&6)!==0)throw Error(s(331));var S=Ge;if(Ge|=4,w1(f.current),T1(f,f.current,E,a),Ge=S,ac(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(tr,f)}catch{}return!0}finally{G.p=d,J.T=l,q1(t,i)}}function W1(t,i,a){i=Fn(a,i),i=rm(t.stateNode,i,2),t=Wi(t,i,2),t!==null&&(Os(t,2),Hr(t))}function Ke(t,i,a){if(t.tag===3)W1(t,t,a);else for(;i!==null;){if(i.tag===3){W1(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zi===null||!Zi.has(l))){t=Fn(a,t),a=$y(2),l=Wi(i,a,2),l!==null&&(Qy(a,l,i,t),Os(l,2),Hr(l));break}}i=i.return}}function Rm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new oS;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(Em=!0,d.add(a),t=dS.bind(null,t,i,a),i.then(t,t))}function dS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(De&a)===a&&(gt===4||gt===3&&(De&62914560)===De&&300>un()-ah?(Ge&2)===0&&Ro(t,0):xm|=a,wo===De&&(wo=0)),Hr(t)}function $1(t,i){i===0&&(i=lu()),t=Ys(t,i),t!==null&&(Os(t,i),Hr(t))}function fS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),$1(t,a)}function mS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),$1(t,a)}function pS(t,i){return Vt(t,i)}var fh=null,Io=null,Cm=!1,mh=!1,Im=!1,ts=0;function Hr(t){t!==Io&&t.next===null&&(Io===null?fh=Io=t:Io=Io.next=t),mh=!0,Cm||(Cm=!0,yS())}function ac(t,i){if(!Im&&mh){Im=!0;do for(var a=!1,l=fh;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var E=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=d&~(E&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,X1(l,f))}else f=De,f=Sr(l,l===rt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||nr(l,f)||(a=!0,X1(l,f));l=l.next}while(a);Im=!1}}function gS(){Q1()}function Q1(){mh=Cm=!1;var t=0;ts!==0&&kS()&&(t=ts);for(var i=un(),a=null,l=fh;l!==null;){var d=l.next,f=K1(l,i);f===0?(l.next=null,a===null?fh=d:a.next=d,d===null&&(Io=a)):(a=l,(t!==0||(f&3)!==0)&&(mh=!0)),l=d}Pt!==0&&Pt!==5||ac(t),ts!==0&&(ts=0)}function K1(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var E=31-_t(f),S=1<<E,D=d[E];D===-1?((S&a)===0||(S&l)!==0)&&(d[E]=sf(S,i)):D<=i&&(t.expiredLanes|=S),f&=~S}if(i=rt,a=De,a=Sr(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ci(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||nr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ci(l),Jr(a)){case 2:case 8:a=gl;break;case 32:a=Ii;break;case 268435456:a=ru;break;default:a=Ii}return l=Y1.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ci(l),t.callbackPriority=2,t.callbackNode=null,2}function Y1(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(dh()&&t.callbackNode!==a)return null;var l=De;return l=Sr(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(N1(t,l,i),K1(t,un()),t.callbackNode!=null&&t.callbackNode===a?Y1.bind(null,t):null)}function X1(t,i){if(dh())return null;N1(t,i,!0)}function yS(){CS(function(){(Ge&6)!==0?Vt(pl,gS):Q1()})}function Nm(){if(ts===0){var t=po;t===0&&(t=br,br<<=1,(br&261888)===0&&(br=256)),ts=t}return ts}function Z1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ja(""+t)}function J1(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function vS(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var f=Z1((d[Bt]||null).action),E=l.submitter;E&&(i=(i=E[Bt]||null)?Z1(i.formAction):E.getAttribute("formAction"),i!==null&&(f=i,E=null));var S=new Mr("action","action",null,l,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ts!==0){var D=E?J1(d,E):new FormData(d);Xf(a,{pending:!0,data:D,method:d.method,action:f},null,D)}}else typeof f=="function"&&(S.preventDefault(),D=E?J1(d,E):new FormData(d),Xf(a,{pending:!0,data:D,method:d.method,action:f},f,D))},currentTarget:d}]})}}for(var Lm=0;Lm<mf.length;Lm++){var Dm=mf[Lm],_S=Dm.toLowerCase(),ES=Dm[0].toUpperCase()+Dm.slice(1);ur(_S,"on"+ES)}ur(I0,"onAnimationEnd"),ur(N0,"onAnimationIteration"),ur(L0,"onAnimationStart"),ur("dblclick","onDoubleClick"),ur("focusin","onFocus"),ur("focusout","onBlur"),ur(OT,"onTransitionRun"),ur(VT,"onTransitionStart"),ur(PT,"onTransitionCancel"),ur(D0,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oc));function ev(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var E=l.length-1;0<=E;E--){var S=l[E],D=S.instance,q=S.currentTarget;if(S=S.listener,D!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=q;try{f(d)}catch(ee){Cu(ee)}d.currentTarget=null,f=D}else for(E=0;E<l.length;E++){if(S=l[E],D=S.instance,q=S.currentTarget,S=S.listener,D!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=q;try{f(d)}catch(ee){Cu(ee)}d.currentTarget=null,f=D}}}}function Le(t,i){var a=i[Qa];a===void 0&&(a=i[Qa]=new Set);var l=t+"__bubble";a.has(l)||(tv(i,t,2,!1),a.add(l))}function jm(t,i,a){var l=0;i&&(l|=4),tv(a,t,l,i)}var ph="_reactListening"+Math.random().toString(36).slice(2);function Mm(t){if(!t[ph]){t[ph]=!0,_l.forEach(function(a){a!=="selectionchange"&&(xS.has(a)||jm(a,!1,t),jm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ph]||(i[ph]=!0,jm("selectionchange",!1,i))}}function tv(t,i,a,l){switch(Iv(i)){case 2:var d=KS;break;case 8:d=YS;break;default:d=Ym}a=d.bind(null,i,a,t),d=void 0,!Hs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function Om(t,i,a,l,d){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===d)break;if(E===4)for(E=l.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;S!==null;){if(E=Rr(S),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){l=f=E;continue e}S=S.parentNode}}l=l.return}Oi(function(){var q=f,ee=Un(a),re=[];e:{var W=j0.get(t);if(W!==void 0){var Y=Mr,pe=t;switch(t){case"keypress":if(qs(a)===0)break e;case"keydown":case"keyup":Y=wu;break;case"focusin":pe="focus",Y=Ws;break;case"focusout":pe="blur",Y=Ws;break;case"beforeblur":case"afterblur":Y=Ws;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=v;break;case I0:case N0:case L0:Y=_u;break;case D0:Y=w;break;case"scroll":case"scrollend":Y=Nl;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ni;break;case"toggle":case"beforetoggle":Y=we}var _e=(i&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),U=_e?W!==null?W+"Capture":null:W;_e=[];for(var O=q,F;O!==null;){var te=O;if(F=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||F===null||U===null||(te=ar(O,U),te!=null&&_e.push(lc(O,te,F))),tt)break;O=O.return}0<_e.length&&(W=new Y(W,pe,null,a,ee),re.push({event:W,listeners:_e}))}}if((i&7)===0){e:{if(W=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",W&&a!==Rl&&(pe=a.relatedTarget||a.fromElement)&&(Rr(pe)||pe[wr]))break e;if((Y||W)&&(W=ee.window===ee?ee:(W=ee.ownerDocument)?W.defaultView||W.parentWindow:window,Y?(pe=a.relatedTarget||a.toElement,Y=q,pe=pe?Rr(pe):null,pe!==null&&(tt=c(pe),_e=pe.tag,pe!==tt||_e!==5&&_e!==27&&_e!==6)&&(pe=null)):(Y=null,pe=q),Y!==pe)){if(_e=Ll,te="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=ni,te="onPointerLeave",U="onPointerEnter",O="pointer"),tt=Y==null?W:An(Y),F=pe==null?W:An(pe),W=new _e(te,O+"leave",Y,a,ee),W.target=tt,W.relatedTarget=F,te=null,Rr(ee)===q&&(_e=new _e(U,O+"enter",pe,a,ee),_e.target=F,_e.relatedTarget=tt,te=_e),tt=te,Y&&pe)t:{for(_e=bS,U=Y,O=pe,F=0,te=U;te;te=_e(te))F++;te=0;for(var ye=O;ye;ye=_e(ye))te++;for(;0<F-te;)U=_e(U),F--;for(;0<te-F;)O=_e(O),te--;for(;F--;){if(U===O||O!==null&&U===O.alternate){_e=U;break t}U=_e(U),O=_e(O)}_e=null}else _e=null;Y!==null&&nv(re,W,Y,_e,!1),pe!==null&&tt!==null&&nv(re,tt,pe,_e,!0)}}e:{if(W=q?An(q):window,Y=W.nodeName&&W.nodeName.toLowerCase(),Y==="select"||Y==="input"&&W.type==="file")var He=_0;else if(y0(W))if(E0)He=DT;else{He=NT;var ge=IT}else Y=W.nodeName,!Y||Y.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?q&&Za(q.elementType)&&(He=_0):He=LT;if(He&&(He=He(t,q))){v0(re,He,a,ee);break e}ge&&ge(t,W,q),t==="focusout"&&q&&W.type==="number"&&q.memoizedProps.value!=null&&Al(W,"number",W.value)}switch(ge=q?An(q):window,t){case"focusin":(y0(ge)||ge.contentEditable==="true")&&(ao=ge,hf=q,Vl=null);break;case"focusout":Vl=hf=ao=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,R0(re,a,ee);break;case"selectionchange":if(MT)break;case"keydown":case"keyup":R0(re,a,ee)}var Ce;if(qe)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else so?$s(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Pr&&a.locale!=="ko"&&(so||je!=="onCompositionStart"?je==="onCompositionEnd"&&so&&(Ce=Il()):(jr=ee,Cl="value"in jr?jr.value:jr.textContent,so=!0)),ge=gh(q,je),0<ge.length&&(je=new Vr(je,t,null,a,ee),re.push({event:je,listeners:ge}),Ce?je.data=Ce:(Ce=io(a),Ce!==null&&(je.data=Ce)))),(Ce=Bn?wT(t,a):kT(t,a))&&(je=gh(q,"onBeforeInput"),0<je.length&&(ge=new Vr("onBeforeInput","beforeinput",null,a,ee),re.push({event:ge,listeners:je}),ge.data=Ce)),vS(re,t,q,a,ee)}ev(re,i)})}function lc(t,i,a){return{instance:t,listener:i,currentTarget:a}}function gh(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=ar(t,a),d!=null&&l.unshift(lc(t,d,f)),d=ar(t,i),d!=null&&l.push(lc(t,d,f))),t.tag===3)return l;t=t.return}return[]}function bS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function nv(t,i,a,l,d){for(var f=i._reactName,E=[];a!==null&&a!==l;){var S=a,D=S.alternate,q=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||q===null||(D=q,d?(q=ar(a,f),q!=null&&E.unshift(lc(a,q,D))):d||(q=ar(a,f),q!=null&&E.push(lc(a,q,D)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var TS=/\r\n?/g,SS=/\u0000|\uFFFD/g;function rv(t){return(typeof t=="string"?t:""+t).replace(TS,`
`).replace(SS,"")}function iv(t,i){return i=rv(i),rv(t)===i}function et(t,i,a,l,d,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&gn(t,""+l);break;case"className":wn(t,"class",l);break;case"tabIndex":wn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,a,l);break;case"style":kl(t,l,f);break;case"data":if(i!=="object"){wn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ja(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",d.name,d,null),et(t,i,"formEncType",d.formEncType,d,null),et(t,i,"formMethod",d.formMethod,d,null),et(t,i,"formTarget",d.formTarget,d,null)):(et(t,i,"encType",d.encType,d,null),et(t,i,"method",d.method,d,null),et(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ja(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=sr);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ja(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Ya(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ya(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gu.get(a)||a,Ya(t,a,l))}}function Vm(t,i,a,l,d,f){switch(a){case"style":kl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!El.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),f=t[Bt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ya(t,a,l)}}}function Zt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var E=a[f];if(E!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,f,E,a,null)}}d&&et(t,i,"srcSet",a.srcSet,a,null),l&&et(t,i,"src",a.src,a,null);return;case"input":Le("invalid",t);var S=f=E=d=null,D=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var ee=a[l];if(ee!=null)switch(l){case"name":d=ee;break;case"type":E=ee;break;case"checked":D=ee;break;case"defaultChecked":q=ee;break;case"value":f=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,i));break;default:et(t,i,l,ee,a,null)}}fu(t,f,S,D,q,E,d,!1);return;case"select":Le("invalid",t),l=E=f=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":f=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:et(t,i,d,S,a,null)}i=f,a=E,t.multiple=!!l,i!=null?Li(t,!!l,i,!1):a!=null&&Li(t,!!l,a,!0);return;case"textarea":Le("invalid",t),f=d=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":d=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:et(t,i,E,S,a,null)}Di(t,l,d,f);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":et(t,i,D,l,a,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<oc.length;l++)Le(oc[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,q,l,a,null)}return;default:if(Za(i)){for(ee in a)a.hasOwnProperty(ee)&&(l=a[ee],l!==void 0&&Vm(t,i,ee,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&et(t,i,S,l,a,null))}function AS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,E=null,S=null,D=null,q=null,ee=null;for(Y in a){var re=a[Y];if(a.hasOwnProperty(Y)&&re!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=re;default:l.hasOwnProperty(Y)||et(t,i,Y,null,l,re)}}for(var W in l){var Y=l[W];if(re=a[W],l.hasOwnProperty(W)&&(Y!=null||re!=null))switch(W){case"type":f=Y;break;case"name":d=Y;break;case"checked":q=Y;break;case"defaultChecked":ee=Y;break;case"value":E=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==re&&et(t,i,W,Y,l,re)}}Xa(t,E,S,D,q,ee,f,d);return;case"select":Y=E=S=W=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(f)||et(t,i,f,null,l,D)}for(d in l)if(f=l[d],D=a[d],l.hasOwnProperty(d)&&(f!=null||D!=null))switch(d){case"value":W=f;break;case"defaultValue":S=f;break;case"multiple":E=f;default:f!==D&&et(t,i,d,f,l,D)}i=S,a=E,l=Y,W!=null?Li(t,!!a,W,!1):!!l!=!!a&&(i!=null?Li(t,!!a,i,!0):Li(t,!!a,a?[]:"",!1));return;case"textarea":Y=W=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(t,i,S,null,l,d)}for(E in l)if(d=l[E],f=a[E],l.hasOwnProperty(E)&&(d!=null||f!=null))switch(E){case"value":W=d;break;case"defaultValue":Y=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&et(t,i,E,d,l,f)}mu(t,W,Y);return;case"option":for(var pe in a)W=a[pe],a.hasOwnProperty(pe)&&W!=null&&!l.hasOwnProperty(pe)&&(pe==="selected"?t.selected=!1:et(t,i,pe,null,l,W));for(D in l)W=l[D],Y=a[D],l.hasOwnProperty(D)&&W!==Y&&(W!=null||Y!=null)&&(D==="selected"?t.selected=W&&typeof W!="function"&&typeof W!="symbol":et(t,i,D,W,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)W=a[_e],a.hasOwnProperty(_e)&&W!=null&&!l.hasOwnProperty(_e)&&et(t,i,_e,null,l,W);for(q in l)if(W=l[q],Y=a[q],l.hasOwnProperty(q)&&W!==Y&&(W!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:et(t,i,q,W,l,Y)}return;default:if(Za(i)){for(var tt in a)W=a[tt],a.hasOwnProperty(tt)&&W!==void 0&&!l.hasOwnProperty(tt)&&Vm(t,i,tt,void 0,l,W);for(ee in l)W=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||W===Y||W===void 0&&Y===void 0||Vm(t,i,ee,W,l,Y);return}}for(var U in a)W=a[U],a.hasOwnProperty(U)&&W!=null&&!l.hasOwnProperty(U)&&et(t,i,U,null,l,W);for(re in l)W=l[re],Y=a[re],!l.hasOwnProperty(re)||W===Y||W==null&&Y==null||et(t,i,re,W,l,Y)}function sv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,E=d.initiatorType,S=d.duration;if(f&&S&&sv(E)){for(E=0,S=d.responseEnd,l+=1;l<a.length;l++){var D=a[l],q=D.startTime;if(q>S)break;var ee=D.transferSize,re=D.initiatorType;ee&&sv(re)&&(D=D.responseEnd,E+=ee*(D<S?1:(S-q)/(D-q)))}if(--l,i+=8*(f+E)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Pm=null,Um=null;function yh(t){return t.nodeType===9?t:t.ownerDocument}function av(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ov(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function zm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bm=null;function kS(){var t=window.event;return t&&t.type==="popstate"?t===Bm?!1:(Bm=t,!0):(Bm=null,!1)}var lv=typeof setTimeout=="function"?setTimeout:void 0,RS=typeof clearTimeout=="function"?clearTimeout:void 0,cv=typeof Promise=="function"?Promise:void 0,CS=typeof queueMicrotask=="function"?queueMicrotask:typeof cv<"u"?function(t){return cv.resolve(null).then(t).catch(IS)}:lv;function IS(t){setTimeout(function(){throw t})}function ns(t){return t==="head"}function uv(t,i){var a=i,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),jo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")cc(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,cc(a);for(var f=a.firstChild;f;){var E=f.nextSibling,S=f.nodeName;f[kr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=E}}else a==="body"&&cc(t.ownerDocument.body);a=d}while(a);jo(i)}function hv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Hm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hm(a),Ka(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function NS(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[kr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function LS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function dv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Qn(t.nextSibling),t===null))return null;return t}function Fm(t){return t.data==="$?"||t.data==="$~"}function qm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function DS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Qn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Gm=null;function fv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Qn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function mv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function pv(t,i,a){switch(i=yh(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function cc(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ka(t)}var Kn=new Map,gv=new Set;function vh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var yi=G.d;G.d={f:jS,r:MS,D:OS,C:VS,L:PS,m:US,X:BS,S:zS,M:HS};function jS(){var t=yi.f(),i=ch();return t||i}function MS(t){var i=Pn(t);i!==null&&i.tag===5&&i.type==="form"?Dy(i):yi.r(t)}var No=typeof document>"u"?null:document;function yv(t,i,a){var l=No;if(l&&typeof i=="string"&&i){var d=pn(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),gv.has(d)||(gv.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),Zt(i,"link",t),kt(i),l.head.appendChild(i)))}}function OS(t){yi.D(t),yv("dns-prefetch",t,null)}function VS(t,i){yi.C(t,i),yv("preconnect",t,i)}function PS(t,i,a){yi.L(t,i,a);var l=No;if(l&&t&&i){var d='link[rel="preload"][as="'+pn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+pn(a.imageSizes)+'"]')):d+='[href="'+pn(t)+'"]';var f=d;switch(i){case"style":f=Lo(t);break;case"script":f=Do(t)}Kn.has(f)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Kn.set(f,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(uc(f))||i==="script"&&l.querySelector(hc(f))||(i=l.createElement("link"),Zt(i,"link",t),kt(i),l.head.appendChild(i)))}}function US(t,i){yi.m(t,i);var a=No;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+pn(l)+'"][href="'+pn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Do(t)}if(!Kn.has(f)&&(t=T({rel:"modulepreload",href:t},i),Kn.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hc(f)))return}l=a.createElement("link"),Zt(l,"link",t),kt(l),a.head.appendChild(l)}}}function zS(t,i,a){yi.S(t,i,a);var l=No;if(l&&t){var d=Cr(l).hoistableStyles,f=Lo(t);i=i||"default";var E=d.get(f);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(uc(f)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Kn.get(f))&&Wm(t,a);var D=E=l.createElement("link");kt(D),Zt(D,"link",t),D._p=new Promise(function(q,ee){D.onload=q,D.onerror=ee}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,_h(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:S},d.set(f,E)}}}function BS(t,i){yi.X(t,i);var a=No;if(a&&t){var l=Cr(a).hoistableScripts,d=Do(t),f=l.get(d);f||(f=a.querySelector(hc(d)),f||(t=T({src:t,async:!0},i),(i=Kn.get(d))&&$m(t,i),f=a.createElement("script"),kt(f),Zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function HS(t,i){yi.M(t,i);var a=No;if(a&&t){var l=Cr(a).hoistableScripts,d=Do(t),f=l.get(d);f||(f=a.querySelector(hc(d)),f||(t=T({src:t,async:!0,type:"module"},i),(i=Kn.get(d))&&$m(t,i),f=a.createElement("script"),kt(f),Zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function vv(t,i,a,l){var d=(d=Re.current)?vh(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Lo(a.href),a=Cr(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Lo(a.href);var f=Cr(d).hoistableStyles,E=f.get(t);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,E),(f=d.querySelector(uc(t)))&&!f._p&&(E.instance=f,E.state.loading=5),Kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(t,a),f||FS(d,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Do(a),a=Cr(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Lo(t){return'href="'+pn(t)+'"'}function uc(t){return'link[rel="stylesheet"]['+t+"]"}function _v(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function FS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Zt(i,"link",a),kt(i),t.head.appendChild(i))}function Do(t){return'[src="'+pn(t)+'"]'}function hc(t){return"script[async]"+t}function Ev(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+pn(a.href)+'"]');if(l)return i.instance=l,kt(l),l;var d=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),kt(l),Zt(l,"style",d),_h(l,a.precedence,t),i.instance=l;case"stylesheet":d=Lo(a.href);var f=t.querySelector(uc(d));if(f)return i.state.loading|=4,i.instance=f,kt(f),f;l=_v(a),(d=Kn.get(d))&&Wm(l,d),f=(t.ownerDocument||t).createElement("link"),kt(f);var E=f;return E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),Zt(f,"link",l),i.state.loading|=4,_h(f,a.precedence,t),i.instance=f;case"script":return f=Do(a.src),(d=t.querySelector(hc(f)))?(i.instance=d,kt(d),d):(l=a,(d=Kn.get(f))&&(l=T({},a),$m(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),kt(d),Zt(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,_h(l,a.precedence,t));return i.instance}function _h(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===i)f=S;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Wm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function $m(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Eh=null;function xv(t,i,a){if(Eh===null){var l=new Map,d=Eh=new Map;d.set(a,l)}else d=Eh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[kr]||f[wt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var E=f.getAttribute(i)||"";E=t+E;var S=l.get(E);S?S.push(f):l.set(E,[f])}}return l}function bv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function qS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Tv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function GS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Lo(l.href),f=i.querySelector(uc(d));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=xh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,kt(f);return}f=i.ownerDocument||i,l=_v(l),(d=Kn.get(d))&&Wm(l,d),f=f.createElement("link"),kt(f);var E=f;E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),Zt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=xh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Qm=0;function WS(t,i){return t.stylesheets&&t.count===0&&Th(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Th(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Qm===0&&(Qm=62500*wS());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Th(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Qm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function xh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Th(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bh=null;function Th(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bh=new Map,i.forEach($S,t),bh=null,xh.call(t))}function $S(t,i){if(!(i.state.loading&4)){var a=bh.get(t);if(a)var l=a.get(null);else{a=new Map,bh.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var E=d[f];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}d=i.instance,E=d.getAttribute("data-precedence"),f=a.get(E)||l,f===l&&a.set(null,d),a.set(E,d),this.count++,l=xh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var dc={$$typeof:oe,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function QS(t,i,a,l,d,f,E,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Sv(t,i,a,l,d,f,E,S,D,q,ee,re){return t=new QS(t,i,a,E,D,q,ee,re,S),i=1,f===!0&&(i|=24),f=Rn(3,null,null,i),t.current=f,f.stateNode=t,i=kf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},Nf(f),t}function Av(t){return t?(t=co,t):co}function wv(t,i,a,l,d,f){d=Av(d),l.context===null?l.context=d:l.pendingContext=d,l=Gi(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Wi(t,l,i),a!==null&&(xn(a,t,i),ql(a,t,i))}function kv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Km(t,i){kv(t,i),(t=t.alternate)&&kv(t,i)}function Rv(t){if(t.tag===13||t.tag===31){var i=Ys(t,67108864);i!==null&&xn(i,t,67108864),Km(t,67108864)}}function Cv(t){if(t.tag===13||t.tag===31){var i=Dn();i=Ps(i);var a=Ys(t,i);a!==null&&xn(a,t,i),Km(t,i)}}var Sh=!0;function KS(t,i,a,l){var d=J.T;J.T=null;var f=G.p;try{G.p=2,Ym(t,i,a,l)}finally{G.p=f,J.T=d}}function YS(t,i,a,l){var d=J.T;J.T=null;var f=G.p;try{G.p=8,Ym(t,i,a,l)}finally{G.p=f,J.T=d}}function Ym(t,i,a,l){if(Sh){var d=Xm(l);if(d===null)Om(t,i,l,Ah,a),Nv(t,l);else if(ZS(d,t,i,a,l))l.stopPropagation();else if(Nv(t,l),i&4&&-1<XS.indexOf(t)){for(;d!==null;){var f=Pn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var E=Tr(f.pendingLanes);if(E!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var D=1<<31-_t(E);S.entanglements[1]|=D,E&=~D}Hr(f),(Ge&6)===0&&(oh=un()+500,ac(0))}}break;case 31:case 13:S=Ys(f,2),S!==null&&xn(S,f,2),ch(),Km(f,2)}if(f=Xm(l),f===null&&Om(t,i,l,Ah,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else Om(t,i,l,null,a)}}function Xm(t){return t=Un(t),Zm(t)}var Ah=null;function Zm(t){if(Ah=null,t=Rr(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ah=t,null}function Iv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(js()){case pl:return 2;case gl:return 8;case Ii:case rf:return 32;case ru:return 268435456;default:return 32}default:return 32}}var Jm=!1,rs=null,is=null,ss=null,fc=new Map,mc=new Map,as=[],XS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nv(t,i){switch(t){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":fc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":mc.delete(i.pointerId)}}function pc(t,i,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},i!==null&&(i=Pn(i),i!==null&&Rv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function ZS(t,i,a,l,d){switch(i){case"focusin":return rs=pc(rs,t,i,a,l,d),!0;case"dragenter":return is=pc(is,t,i,a,l,d),!0;case"mouseover":return ss=pc(ss,t,i,a,l,d),!0;case"pointerover":var f=d.pointerId;return fc.set(f,pc(fc.get(f)||null,t,i,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,mc.set(f,pc(mc.get(f)||null,t,i,a,l,d)),!0}return!1}function Lv(t){var i=Rr(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,rr(t.priority,function(){Cv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,rr(t.priority,function(){Cv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Xm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Rl=l,a.target.dispatchEvent(l),Rl=null}else return i=Pn(a),i!==null&&Rv(i),t.blockedOn=a,!1;i.shift()}return!0}function Dv(t,i,a){wh(t)&&a.delete(i)}function JS(){Jm=!1,rs!==null&&wh(rs)&&(rs=null),is!==null&&wh(is)&&(is=null),ss!==null&&wh(ss)&&(ss=null),fc.forEach(Dv),mc.forEach(Dv)}function kh(t,i){t.blockedOn===i&&(t.blockedOn=null,Jm||(Jm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,JS)))}var Rh=null;function jv(t){Rh!==t&&(Rh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rh===t&&(Rh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(Zm(l||a)===null)continue;break}var f=Pn(a);f!==null&&(t.splice(i,3),i-=3,Xf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function jo(t){function i(D){return kh(D,t)}rs!==null&&kh(rs,t),is!==null&&kh(is,t),ss!==null&&kh(ss,t),fc.forEach(i),mc.forEach(i);for(var a=0;a<as.length;a++){var l=as[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<as.length&&(a=as[0],a.blockedOn===null);)Lv(a),a.blockedOn===null&&as.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],E=d[Bt]||null;if(typeof f=="function")E||jv(a);else if(E){var S=null;if(f&&f.hasAttribute("formAction")){if(d=f,E=f[Bt]||null)S=E.formAction;else if(Zm(d)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),jv(a)}}}function Mv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(E){return d=E})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function ep(t){this._internalRoot=t}Ch.prototype.render=ep.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Dn();wv(a,l,t,i,null,null)},Ch.prototype.unmount=ep.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;wv(t.current,2,null,t,null,null),ch(),i[wr]=null}};function Ch(t){this._internalRoot=t}Ch.prototype.unstable_scheduleHydration=function(t){if(t){var i=cu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<as.length&&i!==0&&i<as[a].priority;a++);as.splice(a,0,t),a===0&&Lv(t)}};var Ov=e.version;if(Ov!=="19.2.3")throw Error(s(527,Ov,"19.2.3"));G.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var eA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{tr=Ih.inject(eA),$t=Ih}catch{}}return yc.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",d=Fy,f=qy,E=Gy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=Sv(t,1,!1,null,null,a,l,null,d,f,E,Mv),t[wr]=i.current,Mm(t),new ep(i)},yc.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,d="",f=Fy,E=qy,S=Gy,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=Sv(t,1,!0,i,a??null,l,d,D,f,E,S,Mv),i.context=Av(null),a=i.current,l=Dn(),l=Ps(l),d=Gi(l),d.callback=null,Wi(a,d,l),a=l,i.current.lanes=a,Os(i,a),Hr(i),t[wr]=i.current,Mm(t),new Ch(i)},yc.version="19.2.3",yc}var Wv;function hA(){if(Wv)return rp.exports;Wv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rp.exports=uA(),rp.exports}var dA=hA();var $v="popstate";function fA(r={}){function e(s,o){let{pathname:c,search:h,hash:m}=s.location;return kp("",{pathname:c,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Lc(o)}return pA(e,n,null,r)}function dt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function er(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mA(){return Math.random().toString(36).substring(2,10)}function Qv(r,e){return{usr:r.state,key:r.key,idx:e}}function kp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?el(e):e,state:n,key:e&&e.key||s||mA()}}function Lc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function el(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function pA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,h=o.history,m="POP",g=null,p=x();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function x(){return(h.state||{idx:null}).idx}function T(){m="POP";let $=x(),Z=$==null?null:$-p;p=$,g&&g({action:m,location:Q.location,delta:Z})}function A($,Z){m="PUSH";let X=kp(Q.location,$,Z);p=x()+1;let oe=Qv(X,p),z=Q.createHref(X);try{h.pushState(oe,"",z)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(z)}c&&g&&g({action:m,location:Q.location,delta:1})}function M($,Z){m="REPLACE";let X=kp(Q.location,$,Z);p=x();let oe=Qv(X,p),z=Q.createHref(X);h.replaceState(oe,"",z),c&&g&&g({action:m,location:Q.location,delta:0})}function B($){return gA($)}let Q={get action(){return m},get location(){return r(o,h)},listen($){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener($v,T),g=$,()=>{o.removeEventListener($v,T),g=null}},createHref($){return e(o,$)},createURL:B,encodeLocation($){let Z=B($);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:A,replace:M,go($){return h.go($)}};return Q}function gA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Lc(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function BE(r,e,n="/"){return yA(r,e,n,!1)}function yA(r,e,n,s){let o=typeof e=="string"?el(e):e,c=bi(o.pathname||"/",n);if(c==null)return null;let h=HE(r);vA(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=CA(c);m=kA(h[g],p,s)}return m}function HE(r,e=[],n=[],s="",o=!1){let c=(h,m,g=o,p)=>{let x={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&g)return;dt(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let T=Ei([s,x.relativePath]),A=n.concat(x);h.children&&h.children.length>0&&(dt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),HE(h.children,e,A,T,g)),!(h.path==null&&!h.index)&&e.push({path:T,score:AA(T,h.index),routesMeta:A})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))c(h,m);else for(let g of FE(h.path))c(h,m,!0,g)}),e}function FE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let h=FE(s.join("/")),m=[];return m.push(...h.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function vA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:wA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var _A=/^:[\w-]+$/,EA=3,xA=2,bA=1,TA=10,SA=-2,Kv=r=>r==="*";function AA(r,e){let n=r.split("/"),s=n.length;return n.some(Kv)&&(s+=SA),e&&(s+=xA),n.filter(o=>!Kv(o)).reduce((o,c)=>o+(_A.test(c)?EA:c===""?bA:TA),s)}function wA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function kA(r,e,n=!1){let{routesMeta:s}=r,o={},c="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,x=c==="/"?e:e.slice(c.length)||"/",T=Yh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},x),A=g.route;if(!T&&p&&n&&!s[s.length-1].route.index&&(T=Yh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Ei([c,T.pathname]),pathnameBase:DA(Ei([c,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(c=Ei([c,T.pathnameBase]))}return h}function Yh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=RA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:x,isOptional:T},A)=>{if(x==="*"){let B=m[A]||"";h=c.slice(0,c.length-B.length).replace(/(.)\/+$/,"$1")}const M=m[A];return T&&!M?p[x]=void 0:p[x]=(M||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:h,pattern:r}}function RA(r,e=!1,n=!0){er(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function CA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return er(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function bi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var qE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IA=r=>qE.test(r);function NA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?el(r):r,c;if(n)if(IA(n))c=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),er(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?c=Yv(n.substring(1),"/"):c=Yv(n,e)}else c=e;return{pathname:c,search:jA(s),hash:MA(o)}}function Yv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function op(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ig(r){let e=LA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function sg(r,e,n,s=!1){let o;typeof r=="string"?o=el(r):(o={...r},dt(!o.pathname||!o.pathname.includes("?"),op("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),op("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),op("#","search","hash",o)));let c=r===""||o.pathname==="",h=c?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let g=NA(o,m),p=h&&h!=="/"&&h.endsWith("/"),x=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||x)&&(g.pathname+="/"),g}var Ei=r=>r.join("/").replace(/\/\/+/g,"/"),DA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),jA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,MA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,OA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function VA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function PA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var GE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function WE(r,e){let n=r;if(typeof n!="string"||!qE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(GE)try{let c=new URL(window.location.href),h=n.startsWith("//")?new URL(c.protocol+n):new URL(n),m=bi(h.pathname,e);h.origin===c.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{er(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $E=["POST","PUT","PATCH","DELETE"];new Set($E);var UA=["GET",...$E];new Set(UA);var tl=j.createContext(null);tl.displayName="DataRouter";var bd=j.createContext(null);bd.displayName="DataRouterState";var zA=j.createContext(!1),QE=j.createContext({isTransitioning:!1});QE.displayName="ViewTransition";var BA=j.createContext(new Map);BA.displayName="Fetchers";var HA=j.createContext(null);HA.displayName="Await";var On=j.createContext(null);On.displayName="Navigation";var qc=j.createContext(null);qc.displayName="Location";var Zr=j.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var ag=j.createContext(null);ag.displayName="RouteError";var KE="REACT_ROUTER_ERROR",FA="REDIRECT",qA="ROUTE_ERROR_RESPONSE";function GA(r){if(r.startsWith(`${KE}:${FA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function WA(r){if(r.startsWith(`${KE}:${qA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new OA(e.status,e.statusText,e.data)}catch{}}function $A(r,{relative:e}={}){dt(nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(On),{hash:o,pathname:c,search:h}=Gc(r,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:Ei([n,c])),s.createHref({pathname:m,search:h,hash:o})}function nl(){return j.useContext(qc)!=null}function Ri(){return dt(nl(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(qc).location}var YE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XE(r){j.useContext(On).static||j.useLayoutEffect(r)}function og(){let{isDataRoute:r}=j.useContext(Zr);return r?aw():QA()}function QA(){dt(nl(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(tl),{basename:e,navigator:n}=j.useContext(On),{matches:s}=j.useContext(Zr),{pathname:o}=Ri(),c=JSON.stringify(ig(s)),h=j.useRef(!1);return XE(()=>{h.current=!0}),j.useCallback((g,p={})=>{if(er(h.current,YE),!h.current)return;if(typeof g=="number"){n.go(g);return}let x=sg(g,JSON.parse(c),o,p.relative==="path");r==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Ei([e,x.pathname])),(p.replace?n.replace:n.push)(x,p.state,p)},[e,n,c,o,r])}j.createContext(null);function Gc(r,{relative:e}={}){let{matches:n}=j.useContext(Zr),{pathname:s}=Ri(),o=JSON.stringify(ig(n));return j.useMemo(()=>sg(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function KA(r,e){return ZE(r,e)}function ZE(r,e,n,s,o){dt(nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=j.useContext(On),{matches:h}=j.useContext(Zr),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",x=m?m.pathnameBase:"/",T=m&&m.route;{let X=T&&T.path||"";e2(p,!T||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let A=Ri(),M;if(e){let X=typeof e=="string"?el(e):e;dt(x==="/"||X.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${X.pathname}" was given in the \`location\` prop.`),M=X}else M=A;let B=M.pathname||"/",Q=B;if(x!=="/"){let X=x.replace(/^\//,"").split("/");Q="/"+B.replace(/^\//,"").split("/").slice(X.length).join("/")}let $=BE(r,{pathname:Q});er(T||$!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),er($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=ew($&&$.map(X=>Object.assign({},X,{params:Object.assign({},g,X.params),pathname:Ei([x,c.encodeLocation?c.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?x:Ei([x,c.encodeLocation?c.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),h,n,s,o);return e&&Z?j.createElement(qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Z):Z}function YA(){let r=sw(),e=VA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,h)}var XA=j.createElement(YA,null),JE=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=WA(r.digest);n&&(r=n)}let e=r!==void 0?j.createElement(Zr.Provider,{value:this.props.routeContext},j.createElement(ag.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?j.createElement(ZA,{error:r},e):e}};JE.contextType=zA;var lp=new WeakMap;function ZA({children:r,error:e}){let{basename:n}=j.useContext(On);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=GA(e.digest);if(s){let o=lp.get(e);if(o)throw o;let c=WE(s.location,n);if(GE&&!lp.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw lp.set(e,h),h}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function JA({routeContext:r,match:e,children:n}){let s=j.useContext(tl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Zr.Provider,{value:r},n)}function ew(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,h=n?.errors;if(h!=null){let x=c.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);dt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let m=!1,g=-1;if(n)for(let x=0;x<c.length;x++){let T=c[x];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=x),T.route.id){let{loaderData:A,errors:M}=n,B=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!M||M[T.route.id]===void 0);if(T.route.lazy||B){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let p=n&&s?(x,T)=>{s(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:PA(n.matches),errorInfo:T})}:void 0;return c.reduceRight((x,T,A)=>{let M,B=!1,Q=null,$=null;n&&(M=h&&T.route.id?h[T.route.id]:void 0,Q=T.route.errorElement||XA,m&&(g<0&&A===0?(e2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,$=null):g===A&&(B=!0,$=T.route.hydrateFallbackElement||null)));let Z=e.concat(c.slice(0,A+1)),X=()=>{let oe;return M?oe=Q:B?oe=$:T.route.Component?oe=j.createElement(T.route.Component,null):T.route.element?oe=T.route.element:oe=x,j.createElement(JA,{match:T,routeContext:{outlet:x,matches:Z,isDataRoute:n!=null},children:oe})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?j.createElement(JE,{location:n.location,revalidation:n.revalidation,component:Q,error:M,children:X(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:p}):X()},null)}function lg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tw(r){let e=j.useContext(tl);return dt(e,lg(r)),e}function nw(r){let e=j.useContext(bd);return dt(e,lg(r)),e}function rw(r){let e=j.useContext(Zr);return dt(e,lg(r)),e}function cg(r){let e=rw(r),n=e.matches[e.matches.length-1];return dt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function iw(){return cg("useRouteId")}function sw(){let r=j.useContext(ag),e=nw("useRouteError"),n=cg("useRouteError");return r!==void 0?r:e.errors?.[n]}function aw(){let{router:r}=tw("useNavigate"),e=cg("useNavigate"),n=j.useRef(!1);return XE(()=>{n.current=!0}),j.useCallback(async(o,c={})=>{er(n.current,YE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var Xv={};function e2(r,e,n){!e&&!Xv[r]&&(Xv[r]=!0,er(!1,n))}j.memo(ow);function ow({routes:r,future:e,state:n,onError:s}){return ZE(r,void 0,n,s,e)}function t2({to:r,replace:e,state:n,relative:s}){dt(nl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(On);er(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=j.useContext(Zr),{pathname:h}=Ri(),m=og(),g=sg(r,ig(c),h,s==="path"),p=JSON.stringify(g);return j.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function Yn(r){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:h}){dt(!nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=j.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:h,future:{}}),[m,o,c,h]);typeof n=="string"&&(n=el(n));let{pathname:p="/",search:x="",hash:T="",state:A=null,key:M="default"}=n,B=j.useMemo(()=>{let Q=bi(p,m);return Q==null?null:{location:{pathname:Q,search:x,hash:T,state:A,key:M},navigationType:s}},[m,p,x,T,A,M,s]);return er(B!=null,`<Router basename="${m}"> is not able to match the URL "${p}${x}${T}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:j.createElement(On.Provider,{value:g},j.createElement(qc.Provider,{children:e,value:B}))}function cw({children:r,location:e}){return KA(Rp(r),e)}function Rp(r,e=[]){let n=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let c=[...e,o];if(s.type===j.Fragment){n.push.apply(n,Rp(s.props.children,c));return}dt(s.type===Yn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Rp(s.props.children,c)),n.push(h)}),n}var Ph="get",Uh="application/x-www-form-urlencoded";function Td(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function uw(r){return Td(r)&&r.tagName.toLowerCase()==="button"}function hw(r){return Td(r)&&r.tagName.toLowerCase()==="form"}function dw(r){return Td(r)&&r.tagName.toLowerCase()==="input"}function fw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function mw(r,e){return r.button===0&&(!e||e==="_self")&&!fw(r)}var Nh=null;function pw(){if(Nh===null)try{new FormData(document.createElement("form"),0),Nh=!1}catch{Nh=!0}return Nh}var gw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cp(r){return r!=null&&!gw.has(r)?(er(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uh}"`),null):r}function yw(r,e){let n,s,o,c,h;if(hw(r)){let m=r.getAttribute("action");s=m?bi(m,e):null,n=r.getAttribute("method")||Ph,o=cp(r.getAttribute("enctype"))||Uh,c=new FormData(r)}else if(uw(r)||dw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?bi(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Ph,o=cp(r.getAttribute("formenctype"))||cp(m.getAttribute("enctype"))||Uh,c=new FormData(m,r),!pw()){let{name:p,type:x,value:T}=r;if(x==="image"){let A=p?`${p}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else p&&c.append(p,T)}}else{if(Td(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ph,s=null,o=Uh,h=r}return c&&o==="text/plain"&&(h=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ug(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function vw(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&bi(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function _w(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ew(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function xw(r,e,n){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await _w(c,n);return h.links?h.links():[]}return[]}));return Aw(s.flat(1).filter(Ew).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Zv(r,e,n,s,o,c){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):c==="data"?e.filter((g,p)=>{let x=s.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function bw(r,e,{includeHydrateFallback:n}={}){return Tw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Tw(r){return[...new Set(r)]}function Sw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Aw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(Sw(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function n2(){let r=j.useContext(tl);return ug(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ww(){let r=j.useContext(bd);return ug(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var hg=j.createContext(void 0);hg.displayName="FrameworkContext";function r2(){let r=j.useContext(hg);return ug(r,"You must render this element inside a <HydratedRouter> element"),r}function kw(r,e){let n=j.useContext(hg),[s,o]=j.useState(!1),[c,h]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:x,onTouchStart:T}=e,A=j.useRef(null);j.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Q=Z=>{Z.forEach(X=>{h(X.isIntersecting)})},$=new IntersectionObserver(Q,{threshold:.5});return A.current&&$.observe(A.current),()=>{$.disconnect()}}},[r]),j.useEffect(()=>{if(s){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let M=()=>{o(!0)},B=()=>{o(!1),h(!1)};return n?r!=="intent"?[c,A,{}]:[c,A,{onFocus:vc(m,M),onBlur:vc(g,B),onMouseEnter:vc(p,M),onMouseLeave:vc(x,B),onTouchStart:vc(T,M)}]:[!1,A,{}]}function vc(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Rw({page:r,...e}){let{router:n}=n2(),s=j.useMemo(()=>BE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?j.createElement(Iw,{page:r,matches:s,...e}):null}function Cw(r){let{manifest:e,routeModules:n}=r2(),[s,o]=j.useState([]);return j.useEffect(()=>{let c=!1;return xw(r,e,n).then(h=>{c||o(h)}),()=>{c=!0}},[r,e,n]),s}function Iw({page:r,matches:e,...n}){let s=Ri(),{future:o,manifest:c,routeModules:h}=r2(),{basename:m}=n2(),{loaderData:g,matches:p}=ww(),x=j.useMemo(()=>Zv(r,e,p,c,s,"data"),[r,e,p,c,s]),T=j.useMemo(()=>Zv(r,e,p,c,s,"assets"),[r,e,p,c,s]),A=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Q=new Set,$=!1;if(e.forEach(X=>{let oe=c.routes[X.route.id];!oe||!oe.hasLoader||(!x.some(z=>z.route.id===X.route.id)&&X.route.id in g&&h[X.route.id]?.shouldRevalidate||oe.hasClientLoader?$=!0:Q.add(X.route.id))}),Q.size===0)return[];let Z=vw(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return $&&Q.size>0&&Z.searchParams.set("_routes",e.filter(X=>Q.has(X.route.id)).map(X=>X.route.id).join(",")),[Z.pathname+Z.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,c,x,e,r,h]),M=j.useMemo(()=>bw(T,c),[T,c]),B=Cw(T);return j.createElement(j.Fragment,null,A.map(Q=>j.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),M.map(Q=>j.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),B.map(({key:Q,link:$})=>j.createElement("link",{key:Q,nonce:n.nonce,...$})))}function Nw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Lw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Lw&&(window.__reactRouterVersion="7.12.0")}catch{}function Dw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=j.useRef();o.current==null&&(o.current=fA({window:s,v5Compat:!0}));let c=o.current,[h,m]=j.useState({action:c.action,location:c.location}),g=j.useCallback(p=>{n===!1?m(p):j.startTransition(()=>m(p))},[n]);return j.useLayoutEffect(()=>c.listen(g),[c,g]),j.createElement(lw,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:n})}var i2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xh=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:h,state:m,target:g,to:p,preventScrollReset:x,viewTransition:T,unstable_defaultShouldRevalidate:A,...M},B){let{basename:Q,unstable_useTransitions:$}=j.useContext(On),Z=typeof p=="string"&&i2.test(p),X=WE(p,Q);p=X.to;let oe=$A(p,{relative:o}),[z,le,ae]=kw(s,M),C=Vw(p,{replace:h,state:m,target:g,preventScrollReset:x,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:A,unstable_useTransitions:$});function R(N){e&&e(N),N.defaultPrevented||C(N)}let k=j.createElement("a",{...M,...ae,href:X.absoluteURL||oe,onClick:X.isExternal||c?e:R,ref:Nw(B,le),target:g,"data-discover":!Z&&n==="render"?"true":void 0});return z&&!Z?j.createElement(j.Fragment,null,k,j.createElement(Rw,{page:oe})):k});Xh.displayName="Link";var jw=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:h,viewTransition:m,children:g,...p},x){let T=Gc(h,{relative:p.relative}),A=Ri(),M=j.useContext(bd),{navigator:B,basename:Q}=j.useContext(On),$=M!=null&&Hw(T)&&m===!0,Z=B.encodeLocation?B.encodeLocation(T).pathname:T.pathname,X=A.pathname,oe=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(X=X.toLowerCase(),oe=oe?oe.toLowerCase():null,Z=Z.toLowerCase()),oe&&Q&&(oe=bi(oe,Q)||oe);const z=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let le=X===Z||!o&&X.startsWith(Z)&&X.charAt(z)==="/",ae=oe!=null&&(oe===Z||!o&&oe.startsWith(Z)&&oe.charAt(Z.length)==="/"),C={isActive:le,isPending:ae,isTransitioning:$},R=le?e:void 0,k;typeof s=="function"?k=s(C):k=[s,le?"active":null,ae?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let N=typeof c=="function"?c(C):c;return j.createElement(Xh,{...p,"aria-current":R,className:k,ref:x,style:N,to:h,viewTransition:m},typeof g=="function"?g(C):g)});jw.displayName="NavLink";var Mw=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:h=Ph,action:m,onSubmit:g,relative:p,preventScrollReset:x,viewTransition:T,unstable_defaultShouldRevalidate:A,...M},B)=>{let{unstable_useTransitions:Q}=j.useContext(On),$=zw(),Z=Bw(m,{relative:p}),X=h.toLowerCase()==="get"?"get":"post",oe=typeof m=="string"&&i2.test(m),z=le=>{if(g&&g(le),le.defaultPrevented)return;le.preventDefault();let ae=le.nativeEvent.submitter,C=ae?.getAttribute("formmethod")||h,R=()=>$(ae||le.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:c,relative:p,preventScrollReset:x,viewTransition:T,unstable_defaultShouldRevalidate:A});Q&&n!==!1?j.startTransition(()=>R()):R()};return j.createElement("form",{ref:B,method:X,action:Z,onSubmit:s?g:z,...M,"data-discover":!oe&&r==="render"?"true":void 0})});Mw.displayName="Form";function Ow(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s2(r){let e=j.useContext(tl);return dt(e,Ow(r)),e}function Vw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=og(),x=Ri(),T=Gc(r,{relative:c});return j.useCallback(A=>{if(mw(A,e)){A.preventDefault();let M=n!==void 0?n:Lc(x)===Lc(T),B=()=>p(r,{replace:M,state:s,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:m});g?j.startTransition(()=>B()):B()}},[x,p,T,n,s,e,r,o,c,h,m,g])}var Pw=0,Uw=()=>`__${String(++Pw)}__`;function zw(){let{router:r}=s2("useSubmit"),{basename:e}=j.useContext(On),n=iw(),s=r.fetch,o=r.navigate;return j.useCallback(async(c,h={})=>{let{action:m,method:g,encType:p,formData:x,body:T}=yw(c,e);if(h.navigate===!1){let A=h.fetcherKey||Uw();await s(A,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:T,formMethod:h.method||g,formEncType:h.encType||p,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:T,formMethod:h.method||g,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function Bw(r,{relative:e}={}){let{basename:n}=j.useContext(On),s=j.useContext(Zr);dt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Gc(r||".",{relative:e})},h=Ri();if(r==null){c.search=h.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(x=>x==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let x=m.toString();c.search=x?`?${x}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Ei([n,c.pathname])),Lc(c)}function Hw(r,{relative:e}={}){let n=j.useContext(QE);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=s2("useViewTransitionState"),o=Gc(r,{relative:e});if(!n.isTransitioning)return!1;let c=bi(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=bi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Yh(o.pathname,h)!=null||Yh(o.pathname,c)!=null}const Fw=()=>{};var Jv={};const a2=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},qw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],h=r[n++],m=r[n++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},o2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,x=c>>2,T=(c&3)<<4|m>>4;let A=(m&15)<<2|p>>6,M=p&63;g||(M=64,h||(A=64)),s.push(n[x],n[T],n[A],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(a2(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):qw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||m==null||p==null||T==null)throw new Gw;const A=c<<2|m>>4;if(s.push(A),p!==64){const M=m<<4&240|p>>2;if(s.push(M),T!==64){const B=p<<6&192|T;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Gw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ww=function(r){const e=a2(r);return o2.encodeByteArray(e,!0)},Zh=function(r){return Ww(r).replace(/\./g,"")},l2=function(r){try{return o2.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $w(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Qw=()=>$w().__FIREBASE_DEFAULTS__,Kw=()=>{if(typeof process>"u"||typeof Jv>"u")return;const r=Jv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Yw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&l2(r[1]);return e&&JSON.parse(e)},Sd=()=>{try{return Fw()||Qw()||Kw()||Yw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},c2=r=>Sd()?.emulatorHosts?.[r],Xw=r=>{const e=c2(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},u2=()=>Sd()?.config,h2=r=>Sd()?.[`_${r}`];class Zw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function rl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d2(r){return(await fetch(r,{credentials:"include"})).ok}function Jw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Zh(JSON.stringify(n)),Zh(JSON.stringify(h)),""].join(".")}const wc={};function ek(){const r={prod:[],emulator:[]};for(const e of Object.keys(wc))wc[e]?r.emulator.push(e):r.prod.push(e);return r}function tk(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let e_=!1;function f2(r,e){if(typeof window>"u"||typeof document>"u"||!rl(window.location.host)||wc[r]===e||wc[r]||e_)return;wc[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",c=ek().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,M){A.setAttribute("width","24"),A.setAttribute("id",M),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{e_=!0,h()},A}function x(A,M){A.setAttribute("id",M),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=tk(s),M=n("text"),B=document.getElementById(M)||document.createElement("span"),Q=n("learnmore"),$=document.getElementById(Q)||document.createElement("a"),Z=n("preprendIcon"),X=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const oe=A.element;m(oe),x($,Q);const z=p();g(X,Z),oe.append(X,B,$,z),document.body.appendChild(oe)}c?(B.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function rk(){const r=Sd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ik(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ak(){const r=cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ok(){return!rk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p2(){try{return typeof indexedDB=="object"}catch{return!1}}function g2(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function lk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ck="FirebaseError";class Er extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ck,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ea.prototype.create)}}class Ea{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?uk(c,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Er(o,m,s)}}function uk(r,e){return r.replace(hk,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const hk=/\{\$([^}]+)}/g;function dk(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Es(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=r[o],h=e[o];if(t_(c)&&t_(h)){if(!Es(c,h))return!1}else if(c!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function t_(r){return r!==null&&typeof r=="object"}function Wc(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ec(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function xc(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function fk(r,e){const n=new mk(r,e);return n.subscribe.bind(n)}class mk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");pk(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=up),o.error===void 0&&(o.error=up),o.complete===void 0&&(o.complete=up);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pk(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function up(){}const gk=1e3,yk=2,vk=14400*1e3,_k=.5;function n_(r,e=gk,n=yk){const s=e*Math.pow(n,r),o=Math.round(_k*s*(Math.random()-.5)*2);return Math.min(vk,s+o)}function vt(r){return r&&r._delegate?r._delegate:r}class yr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ca="[DEFAULT]";class Ek{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Zw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bk(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xk(r){return r===ca?void 0:r}function bk(r){return r.instantiationMode==="EAGER"}class Tk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ek(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const Sk={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Ak=Me.INFO,wk={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},kk=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=wk[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ad{constructor(e){this.name=e,this._logLevel=Ak,this._logHandler=kk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const Rk=(r,e)=>e.some(n=>r instanceof n);let r_,i_;function Ck(){return r_||(r_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ik(){return i_||(i_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y2=new WeakMap,Cp=new WeakMap,v2=new WeakMap,hp=new WeakMap,dg=new WeakMap;function Nk(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",h)},c=()=>{n(ms(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&y2.set(n,r)}).catch(()=>{}),dg.set(e,r),e}function Lk(r){if(Cp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",h),r.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",h),r.addEventListener("abort",h)});Cp.set(r,e)}let Ip={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Cp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||v2.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ms(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Dk(r){Ip=r(Ip)}function jk(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(dp(this),e,...n);return v2.set(s,e.sort?e.sort():[e]),ms(s)}:Ik().includes(r)?function(...e){return r.apply(dp(this),e),ms(y2.get(this))}:function(...e){return ms(r.apply(dp(this),e))}}function Mk(r){return typeof r=="function"?jk(r):(r instanceof IDBTransaction&&Lk(r),Rk(r,Ck())?new Proxy(r,Ip):r)}function ms(r){if(r instanceof IDBRequest)return Nk(r);if(hp.has(r))return hp.get(r);const e=Mk(r);return e!==r&&(hp.set(r,e),dg.set(e,r)),e}const dp=r=>dg.get(r);function _2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const h=indexedDB.open(r,e),m=ms(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ms(h.result),g.oldVersion,g.newVersion,ms(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const Ok=["get","getKey","getAll","getAllKeys","count"],Vk=["put","add","delete","clear"],fp=new Map;function s_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(fp.get(e))return fp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Vk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Ok.includes(n)))return;const c=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return fp.set(e,c),c}Dk(r=>({...r,get:(e,n,s)=>s_(e,n)||r.get(e,n,s),has:(e,n)=>!!s_(e,n)||r.has(e,n)}));class Pk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Uk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Uk(r){return r.getComponent()?.type==="VERSION"}const Np="@firebase/app",a_="0.14.7";const Ti=new Ad("@firebase/app"),zk="@firebase/app-compat",Bk="@firebase/analytics-compat",Hk="@firebase/analytics",Fk="@firebase/app-check-compat",qk="@firebase/app-check",Gk="@firebase/auth",Wk="@firebase/auth-compat",$k="@firebase/database",Qk="@firebase/data-connect",Kk="@firebase/database-compat",Yk="@firebase/functions",Xk="@firebase/functions-compat",Zk="@firebase/installations",Jk="@firebase/installations-compat",e4="@firebase/messaging",t4="@firebase/messaging-compat",n4="@firebase/performance",r4="@firebase/performance-compat",i4="@firebase/remote-config",s4="@firebase/remote-config-compat",a4="@firebase/storage",o4="@firebase/storage-compat",l4="@firebase/firestore",c4="@firebase/ai",u4="@firebase/firestore-compat",h4="firebase",d4="12.8.0";const Lp="[DEFAULT]",f4={[Np]:"fire-core",[zk]:"fire-core-compat",[Hk]:"fire-analytics",[Bk]:"fire-analytics-compat",[qk]:"fire-app-check",[Fk]:"fire-app-check-compat",[Gk]:"fire-auth",[Wk]:"fire-auth-compat",[$k]:"fire-rtdb",[Qk]:"fire-data-connect",[Kk]:"fire-rtdb-compat",[Yk]:"fire-fn",[Xk]:"fire-fn-compat",[Zk]:"fire-iid",[Jk]:"fire-iid-compat",[e4]:"fire-fcm",[t4]:"fire-fcm-compat",[n4]:"fire-perf",[r4]:"fire-perf-compat",[i4]:"fire-rc",[s4]:"fire-rc-compat",[a4]:"fire-gcs",[o4]:"fire-gcs-compat",[l4]:"fire-fst",[u4]:"fire-fst-compat",[c4]:"fire-vertex","fire-js":"fire-js",[h4]:"fire-js-all"};const Jh=new Map,m4=new Map,Dp=new Map;function o_(r,e){try{r.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Yr(r){const e=r.name;if(Dp.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;Dp.set(e,r);for(const n of Jh.values())o_(n,r);for(const n of m4.values())o_(n,r);return!0}function xa(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function fr(r){return r==null?!1:r.settings!==void 0}const p4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new Ea("app","Firebase",p4);class g4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}const il=d4;function E2(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Lp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ps.create("bad-app-name",{appName:String(o)});if(n||(n=u2()),!n)throw ps.create("no-options");const c=Jh.get(o);if(c){if(Es(n,c.options)&&Es(s,c.config))return c;throw ps.create("duplicate-app",{appName:o})}const h=new Tk(o);for(const g of Dp.values())h.addComponent(g);const m=new g4(n,s,h);return Jh.set(o,m),m}function fg(r=Lp){const e=Jh.get(r);if(!e&&r===Lp&&u2())return E2();if(!e)throw ps.create("no-app",{appName:r});return e}function Zn(r,e,n){let s=f4[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(h.join(" "));return}Yr(new yr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const y4="firebase-heartbeat-database",v4=1,Dc="firebase-heartbeat-store";let mp=null;function x2(){return mp||(mp=_2(y4,v4,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Dc)}catch(n){console.warn(n)}}}}).catch(r=>{throw ps.create("idb-open",{originalErrorMessage:r.message})})),mp}async function _4(r){try{const n=(await x2()).transaction(Dc),s=await n.objectStore(Dc).get(b2(r));return await n.done,s}catch(e){if(e instanceof Er)Ti.warn(e.message);else{const n=ps.create("idb-get",{originalErrorMessage:e?.message});Ti.warn(n.message)}}}async function l_(r,e){try{const s=(await x2()).transaction(Dc,"readwrite");await s.objectStore(Dc).put(e,b2(r)),await s.done}catch(n){if(n instanceof Er)Ti.warn(n.message);else{const s=ps.create("idb-set",{originalErrorMessage:n?.message});Ti.warn(s.message)}}}function b2(r){return`${r.name}!${r.options.appId}`}const E4=1024,x4=30;class b4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=c_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>x4){const o=A4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ti.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=c_(),{heartbeatsToSend:n,unsentEntries:s}=T4(this._heartbeatsCache.heartbeats),o=Zh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ti.warn(e),""}}}function c_(){return new Date().toISOString().substring(0,10)}function T4(r,e=E4){const n=[];let s=r.slice();for(const o of r){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),u_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),u_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class S4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p2()?g2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return l_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return l_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function u_(r){return Zh(JSON.stringify({version:2,heartbeats:r})).length}function A4(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function w4(r){Yr(new yr("platform-logger",e=>new Pk(e),"PRIVATE")),Yr(new yr("heartbeat",e=>new b4(e),"PRIVATE")),Zn(Np,a_,r),Zn(Np,a_,"esm2020"),Zn("fire-js","")}w4("");function T2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const k4=T2,S2=new Ea("auth","Firebase",T2());const ed=new Ad("@firebase/auth");function R4(r,...e){ed.logLevel<=Me.WARN&&ed.warn(`Auth (${il}): ${r}`,...e)}function zh(r,...e){ed.logLevel<=Me.ERROR&&ed.error(`Auth (${il}): ${r}`,...e)}function vr(r,...e){throw mg(r,...e)}function Gr(r,...e){return mg(r,...e)}function A2(r,e,n){const s={...k4(),[e]:n};return new Ea("auth","Firebase",s).create(e,{appName:r.name})}function gs(r){return A2(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return S2.create(r,...e)}function Ee(r,e,...n){if(!r)throw mg(e,...n)}function vi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw zh(e),new Error(e)}function Si(r,e){r||vi(e)}function jp(){return typeof self<"u"&&self.location?.href||""}function C4(){return h_()==="http:"||h_()==="https:"}function h_(){return typeof self<"u"&&self.location?.protocol||null}function I4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C4()||m2()||"connection"in navigator)?navigator.onLine:!0}function N4(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class $c{constructor(e,n){this.shortDelay=e,this.longDelay=n,Si(n>e,"Short delay should be less than long delay!"),this.isMobile=nk()||sk()}get(){return I4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pg(r,e){Si(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class w2{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const L4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const D4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],j4=new $c(3e4,6e4);function ba(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Rs(r,e,n,s,o={}){return k2(r,o,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const m=Wc({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...c};return ik()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&rl(r.emulatorConfig.host)&&(p.credentials="include"),w2.fetch()(await R2(r,r.config.apiHost,n,m),p)})}async function k2(r,e,n){r._canInitEmulator=!1;const s={...L4,...e};try{const o=new O4(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Lh(r,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lh(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Lh(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Lh(r,"user-disabled",h);const x=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw A2(r,x,p);vr(r,x)}}catch(o){if(o instanceof Er)throw o;vr(r,"network-request-failed",{message:String(o)})}}async function wd(r,e,n,s,o={}){const c=await Rs(r,e,n,s,o);return"mfaPendingCredential"in c&&vr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function R2(r,e,n,s){const o=`${e}${n}?${s}`,c=r,h=c.config.emulator?pg(r.config,o):`${r.config.apiScheme}://${o}`;return D4.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function M4(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class O4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Gr(this.auth,"network-request-failed")),j4.get())})}}function Lh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Gr(r,e,s);return o.customData._tokenResponse=n,o}function d_(r){return r!==void 0&&r.enterprise!==void 0}class V4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return M4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function P4(r,e){return Rs(r,"GET","/v2/recaptchaConfig",ba(r,e))}async function U4(r,e){return Rs(r,"POST","/v1/accounts:delete",e)}async function td(r,e){return Rs(r,"POST","/v1/accounts:lookup",e)}function kc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function z4(r,e=!1){const n=vt(r),s=await n.getIdToken(e),o=gg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:s,authTime:kc(pp(o.auth_time)),issuedAtTime:kc(pp(o.iat)),expirationTime:kc(pp(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function pp(r){return Number(r)*1e3}function gg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return zh("JWT malformed, contained fewer than 3 sections"),null;try{const o=l2(n);return o?JSON.parse(o):(zh("Failed to decode base64 JWT payload"),null)}catch(o){return zh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function f_(r){const e=gg(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function jc(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Er&&B4(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function B4({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class H4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Mp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kc(this.lastLoginAt),this.creationTime=kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nd(r){const e=r.auth,n=await r.getIdToken(),s=await jc(r,td(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?C2(o.providerUserInfo):[],h=q4(r.providerData,c),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,p=m?g:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Mp(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,x)}async function F4(r){const e=vt(r);await nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q4(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function C2(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function G4(r,e){const n=await k2(r,{},async()=>{const s=Wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,h=await R2(r,o,"/v1/token",`key=${c}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&rl(r.emulatorConfig.host)&&(g.credentials="include"),w2.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W4(r,e){return Rs(r,"POST","/v2/accounts:revokeToken",ba(r,e))}class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=f_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await G4(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,h=new zo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return vi("not implemented")}}function ls(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class mr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new H4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Mp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await jc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return z4(this,e)}reload(){return F4(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await nd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(gs(this.auth));const e=await this.getIdToken();return await jc(this,U4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:M,providerData:B,stsTokenManager:Q}=n;Ee(T&&Q,e,"internal-error");const $=zo.fromJSON(this.name,Q);Ee(typeof T=="string",e,"internal-error"),ls(s,e.name),ls(o,e.name),Ee(typeof A=="boolean",e,"internal-error"),Ee(typeof M=="boolean",e,"internal-error"),ls(c,e.name),ls(h,e.name),ls(m,e.name),ls(g,e.name),ls(p,e.name),ls(x,e.name);const Z=new mr({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:M,photoURL:h,phoneNumber:c,tenantId:m,stsTokenManager:$,createdAt:p,lastLoginAt:x});return B&&Array.isArray(B)&&(Z.providerData=B.map(X=>({...X}))),g&&(Z._redirectEventId=g),Z}static async _fromIdTokenResponse(e,n,s=!1){const o=new zo;o.updateFromServerResponse(n);const c=new mr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await nd(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?C2(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,m=new zo;m.updateFromIdToken(s);const g=new mr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Mp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,p),g}}const m_=new Map;function _i(r){Si(r instanceof Function,"Expected a class definition");let e=m_.get(r);return e?(Si(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,m_.set(r,e),e)}class I2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}I2.type="NONE";const p_=I2;function Bh(r,e,n){return`firebase:${r}:${e}:${n}`}class Bo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Bh(this.userKey,o.apiKey,c),this.fullPersistenceKey=Bh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await td(this.auth,{idToken:e}).catch(()=>{});return n?mr._fromGetAccountInfoResponse(this.auth,n,e):null}return mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Bo(_i(p_),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||_i(p_);const h=Bh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const x=await p._get(h);if(x){let T;if(typeof x=="string"){const A=await td(e,{idToken:x}).catch(()=>{});if(!A)break;T=await mr._fromGetAccountInfoResponse(e,A,x)}else T=mr._fromJSON(e,x);p!==c&&(m=T),c=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Bo(c,e,s):(c=g[0],m&&await c._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==c)try{await p._remove(h)}catch{}})),new Bo(c,e,s))}}function g_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O2(e))return"Blackberry";if(V2(e))return"Webos";if(L2(e))return"Safari";if((e.includes("chrome/")||D2(e))&&!e.includes("edge/"))return"Chrome";if(M2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function N2(r=cn()){return/firefox\//i.test(r)}function L2(r=cn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function D2(r=cn()){return/crios\//i.test(r)}function j2(r=cn()){return/iemobile/i.test(r)}function M2(r=cn()){return/android/i.test(r)}function O2(r=cn()){return/blackberry/i.test(r)}function V2(r=cn()){return/webos/i.test(r)}function yg(r=cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function $4(r=cn()){return yg(r)&&!!window.navigator?.standalone}function Q4(){return ak()&&document.documentMode===10}function P2(r=cn()){return yg(r)||M2(r)||V2(r)||O2(r)||/windows phone/i.test(r)||j2(r)}function U2(r,e=[]){let n;switch(r){case"Browser":n=g_(cn());break;case"Worker":n=`${g_(cn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${il}/${s}`}class K4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((h,m)=>{try{const g=e(c);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Y4(r,e={}){return Rs(r,"GET","/v2/passwordPolicy",ba(r,e))}const X4=6;class Z4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??X4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class J4{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y_(this),this.idTokenSubscription=new y_(this),this.beforeStateQueue=new K4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Bo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await td(this,{idToken:e}),s=await mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(gs(this));const n=e?vt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y4(this),n=new Z4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ea("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await W4(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_i(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=U2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&R4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function sl(r){return vt(r)}class y_{constructor(e){this.auth=e,this.observer=null,this.addObserver=fk(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let kd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eR(r){kd=r}function z2(r){return kd.loadJS(r)}function tR(){return kd.recaptchaEnterpriseScript}function nR(){return kd.gapiScript}function rR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class iR{constructor(){this.enterprise=new sR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class sR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const aR="recaptcha-enterprise",B2="NO_RECAPTCHA";class oR{constructor(e){this.type=aR,this.auth=sl(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,m)=>{P4(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new V4(g);return c.tenantId==null?c._agentRecaptchaConfig=p:c._tenantRecaptchaConfigs[c.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(c,h,m){const g=window.grecaptcha;d_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(p=>{h(p)}).catch(()=>{h(B2)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iR().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{s(this.auth).then(m=>{if(!n&&d_(window.grecaptcha))o(m,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=tR();g.length!==0&&(g+=m),z2(g).then(()=>{o(m,c,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function v_(r,e,n,s=!1,o=!1){const c=new oR(r);let h;if(o)h=B2;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function __(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await v_(r,e,n,n==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await v_(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(c)})}function lR(r,e){const n=xa(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Es(c,e??{}))return o;vr(o,"already-initialized")}return n.initialize({options:e})}function cR(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(_i);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function uR(r,e,n){const s=sl(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=H2(e),{host:h,port:m}=hR(e),g=m===null?"":`:${m}`,p={url:`${c}//${h}${g}/`},x=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Es(p,s.config.emulator)&&Es(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,rl(h)?(d2(`${c}//${h}${g}`),f2("Auth",!0)):dR()}function H2(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function hR(r){const e=H2(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:E_(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:E_(h)}}}function E_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function dR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class vg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,n){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}}async function fR(r,e){return Rs(r,"POST","/v1/accounts:signUp",e)}async function mR(r,e){return wd(r,"POST","/v1/accounts:signInWithPassword",ba(r,e))}async function pR(r,e){return wd(r,"POST","/v1/accounts:signInWithEmailLink",ba(r,e))}async function gR(r,e){return wd(r,"POST","/v1/accounts:signInWithEmailLink",ba(r,e))}class Mc extends vg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Mc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Mc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return __(e,n,"signInWithPassword",mR);case"emailLink":return pR(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return __(e,s,"signUpPassword",fR);case"emailLink":return gR(e,{idToken:n,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ho(r,e){return wd(r,"POST","/v1/accounts:signInWithIdp",ba(r,e))}const yR="http://localhost";class pa extends vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const h=new pa(s,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Ho(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ho(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ho(e,n)}buildRequest(){const e={requestUri:yR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wc(n)}return e}}function vR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _R(r){const e=Ec(xc(r)).link,n=e?Ec(xc(e)).deep_link_id:null,s=Ec(xc(r)).deep_link_id;return(s?Ec(xc(s)).link:null)||s||n||e||r}class _g{constructor(e){const n=Ec(xc(e)),s=n.apiKey??null,o=n.oobCode??null,c=vR(n.mode??null);Ee(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=_R(e);try{return new _g(n)}catch{return null}}}class al{constructor(){this.providerId=al.PROVIDER_ID}static credential(e,n){return Mc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=_g.parseLink(n);return Ee(s,"argument-error"),Mc._fromEmailAndCode(e,s.code,s.tenantId)}}al.PROVIDER_ID="password";al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class F2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Qc extends F2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cs extends Qc{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";class us extends Qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pa._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return us.credential(n,s)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";class hs extends Qc{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";class ds extends Qc{constructor(){super("twitter.com")}static credential(e,n){return pa._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ds.credential(n,s)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";class Wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await mr._fromIdTokenResponse(e,s,o),h=x_(s);return new Wo({user:c,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=x_(s);return new Wo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function x_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class rd extends Er{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,rd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new rd(e,n,s,o)}}function q2(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rd._fromErrorAndOperation(r,c,e,s):c})}async function ER(r,e,n=!1){const s=await jc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Wo._forOperation(r,"link",s)}async function xR(r,e,n=!1){const{auth:s}=r;if(fr(s.app))return Promise.reject(gs(s));const o="reauthenticate";try{const c=await jc(r,q2(s,o,e,r),n);Ee(c.idToken,s,"internal-error");const h=gg(c.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(r.uid===m,s,"user-mismatch"),Wo._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&vr(s,"user-mismatch"),c}}async function G2(r,e,n=!1){if(fr(r.app))return Promise.reject(gs(r));const s="signIn",o=await q2(r,s,e),c=await Wo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(c.user),c}async function bR(r,e){return G2(sl(r),e)}async function TR(r){const e=sl(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function SR(r,e,n){return fr(r.app)?Promise.reject(gs(r)):bR(vt(r),al.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&TR(r),s})}function AR(r,e,n,s){return vt(r).onIdTokenChanged(e,n,s)}function wR(r,e,n){return vt(r).beforeAuthStateChanged(e,n)}function kR(r,e,n,s){return vt(r).onAuthStateChanged(e,n,s)}function RR(r){return vt(r).signOut()}const id="__sak";class W2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(id,"1"),this.storage.removeItem(id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const CR=1e3,IR=10;class $2 extends W2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);Q4()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,IR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},CR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$2.type="LOCAL";const NR=$2;class Q2 extends W2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Q2.type="SESSION";const K2=Q2;function LR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Rd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,c)),g=await LR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rd.receivers=[];function Eg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class DR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((m,g)=>{const p=Eg("",20);o.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(A.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Wr(){return window}function jR(r){Wr().location.href=r}function Y2(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function MR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OR(){return navigator?.serviceWorker?.controller||null}function VR(){return Y2()?self:null}const X2="firebaseLocalStorageDb",PR=1,sd="firebaseLocalStorage",Z2="fbase_key";class Kc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cd(r,e){return r.transaction([sd],e?"readwrite":"readonly").objectStore(sd)}function UR(){const r=indexedDB.deleteDatabase(X2);return new Kc(r).toPromise()}function Op(){const r=indexedDB.open(X2,PR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(sd,{keyPath:Z2})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(sd)?e(s):(s.close(),await UR(),e(await Op()))})})}async function b_(r,e,n){const s=Cd(r,!0).put({[Z2]:e,value:n});return new Kc(s).toPromise()}async function zR(r,e){const n=Cd(r,!1).get(e),s=await new Kc(n).toPromise();return s===void 0?null:s.value}function T_(r,e){const n=Cd(r,!0).delete(e);return new Kc(n).toPromise()}const BR=800,HR=3;class J2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Op(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>HR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rd._getInstance(VR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MR(),!this.activeServiceWorker)return;this.sender=new DR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Op();return await b_(e,id,"1"),await T_(e,id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>b_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>zR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>T_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Cd(o,!1).getAll();return new Kc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J2.type="LOCAL";const FR=J2;new $c(3e4,6e4);function qR(r,e){return e?_i(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class xg extends vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GR(r){return G2(r.auth,new xg(r),r.bypassAuthState)}function WR(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),xR(n,new xg(r),r.bypassAuthState)}async function $R(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),ER(n,new xg(r),r.bypassAuthState)}class ex{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GR;case"linkViaPopup":case"linkViaRedirect":return $R;case"reauthViaPopup":case"reauthViaRedirect":return WR;default:vr(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const QR=new $c(2e3,1e4);class Uo extends ex{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=Eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QR.get())};e()}}Uo.currentPopupAction=null;const KR="pendingRedirect",Hh=new Map;class YR extends ex{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Hh.get(this.auth._key());if(!e){try{const s=await XR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Hh.set(this.auth._key(),e)}return this.bypassAuthState||Hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XR(r,e){const n=e6(e),s=JR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function ZR(r,e){Hh.set(r._key(),e)}function JR(r){return _i(r._redirectPersistence)}function e6(r){return Bh(KR,r.config.apiKey,r.name)}async function t6(r,e,n=!1){if(fr(r.app))return Promise.reject(gs(r));const s=sl(r),o=qR(s,e),h=await new YR(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const n6=600*1e3;class r6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!tx(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Gr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n6&&this.cachedEventUids.clear(),this.cachedEventUids.has(S_(e))}saveEventToCache(e){this.cachedEventUids.add(S_(e)),this.lastProcessedEventTime=Date.now()}}function S_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function tx({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function i6(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tx(r);default:return!1}}async function s6(r,e={}){return Rs(r,"GET","/v1/projects",e)}const a6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o6=/^https?/;async function l6(r){if(r.config.emulator)return;const{authorizedDomains:e}=await s6(r);for(const n of e)try{if(c6(n))return}catch{}vr(r,"unauthorized-domain")}function c6(r){const e=jp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!o6.test(n))return!1;if(a6.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const u6=new $c(3e4,6e4);function A_(){const r=Wr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function h6(r){return new Promise((e,n)=>{function s(){A_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A_(),n(Gr(r,"network-request-failed"))},timeout:u6.get()})}if(Wr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Wr().gapi?.load)s();else{const o=rR("iframefcb");return Wr()[o]=()=>{gapi.load?s():n(Gr(r,"network-request-failed"))},z2(`${nR()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Fh=null,e})}let Fh=null;function d6(r){return Fh=Fh||h6(r),Fh}const f6=new $c(5e3,15e3),m6="__/auth/iframe",p6="emulator/auth/iframe",g6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v6(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?pg(e,p6):`https://${r.config.authDomain}/${m6}`,s={apiKey:e.apiKey,appName:r.name,v:il},o=y6.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Wc(s).slice(1)}`}async function _6(r){const e=await d6(r),n=Wr().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:v6(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g6,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const h=Gr(r,"network-request-failed"),m=Wr().setTimeout(()=>{c(h)},f6.get());function g(){Wr().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{c(h)})}))}const E6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x6=500,b6=600,T6="_blank",S6="http://localhost";class w_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A6(r,e,n,s=x6,o=b6){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...E6,width:s.toString(),height:o.toString(),top:c,left:h},p=cn().toLowerCase();n&&(m=D2(p)?T6:n),N2(p)&&(e=e||S6,g.scrollbars="yes");const x=Object.entries(g).reduce((A,[M,B])=>`${A}${M}=${B},`,"");if($4(p)&&m!=="_self")return w6(e||"",m),new w_(null);const T=window.open(e||"",m,x);Ee(T,r,"popup-blocked");try{T.focus()}catch{}return new w_(T)}function w6(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const k6="__/auth/handler",R6="emulator/auth/handler",C6=encodeURIComponent("fac");async function k_(r,e,n,s,o,c){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:il,eventId:o};if(e instanceof F2){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",dk(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,T]of Object.entries({}))h[x]=T}if(e instanceof Qc){const x=e.getScopes().filter(T=>T!=="");x.length>0&&(h.scopes=x.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const x of Object.keys(m))m[x]===void 0&&delete m[x];const g=await r._getAppCheckToken(),p=g?`#${C6}=${encodeURIComponent(g)}`:"";return`${I6(r)}?${Wc(m).slice(1)}${p}`}function I6({config:r}){return r.emulator?pg(r,R6):`https://${r.authDomain}/${k6}`}const gp="webStorageSupport";class N6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K2,this._completeRedirectFn=t6,this._overrideRedirectResult=ZR}async _openPopup(e,n,s,o){Si(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await k_(e,n,s,jp(),o);return A6(e,c,Eg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await k_(e,n,s,jp(),o);return jR(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Si(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await _6(e),s=new r6(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gp,{type:gp},o=>{const c=o?.[0]?.[gp];c!==void 0&&n(!!c),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return P2()||L2()||yg()}}const L6=N6;var R_="@firebase/auth",C_="1.12.0";class D6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function j6(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M6(r){Yr(new yr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U2(r)},p=new J4(s,o,c,g);return cR(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Yr(new yr("auth-internal",e=>{const n=sl(e.getProvider("auth").getImmediate());return(s=>new D6(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(R_,C_,j6(r)),Zn(R_,C_,"esm2020")}const O6=300,V6=h2("authIdTokenMaxAge")||O6;let I_=null;const P6=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>V6)return;const o=n?.token;I_!==o&&(I_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function U6(r=fg()){const e=xa(r,"auth");if(e.isInitialized())return e.getImmediate();const n=lR(r,{popupRedirectResolver:L6,persistence:[FR,NR,K2]}),s=h2("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=P6(c.toString());wR(n,h,()=>h(n.currentUser)),AR(n,m=>h(m))}}const o=c2("auth");return o&&uR(n,`http://${o}`),n}function z6(){return document.getElementsByTagName("head")?.[0]??document}eR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const c=Gr("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",z6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M6("Browser");var B6="firebase",H6="12.8.0";Zn(B6,H6,"app");var N_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ys,nx;(function(){var r;function e(C,R){function k(){}k.prototype=R.prototype,C.F=R.prototype,C.prototype=new k,C.prototype.constructor=C,C.D=function(N,L,P){for(var I=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)I[Xe-2]=arguments[Xe];return R.prototype[L].apply(N,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,R,k){k||(k=0);const N=Array(16);if(typeof R=="string")for(var L=0;L<16;++L)N[L]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(L=0;L<16;++L)N[L]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=C.g[0],k=C.g[1],L=C.g[2];let P=C.g[3],I;I=R+(P^k&(L^P))+N[0]+3614090360&4294967295,R=k+(I<<7&4294967295|I>>>25),I=P+(L^R&(k^L))+N[1]+3905402710&4294967295,P=R+(I<<12&4294967295|I>>>20),I=L+(k^P&(R^k))+N[2]+606105819&4294967295,L=P+(I<<17&4294967295|I>>>15),I=k+(R^L&(P^R))+N[3]+3250441966&4294967295,k=L+(I<<22&4294967295|I>>>10),I=R+(P^k&(L^P))+N[4]+4118548399&4294967295,R=k+(I<<7&4294967295|I>>>25),I=P+(L^R&(k^L))+N[5]+1200080426&4294967295,P=R+(I<<12&4294967295|I>>>20),I=L+(k^P&(R^k))+N[6]+2821735955&4294967295,L=P+(I<<17&4294967295|I>>>15),I=k+(R^L&(P^R))+N[7]+4249261313&4294967295,k=L+(I<<22&4294967295|I>>>10),I=R+(P^k&(L^P))+N[8]+1770035416&4294967295,R=k+(I<<7&4294967295|I>>>25),I=P+(L^R&(k^L))+N[9]+2336552879&4294967295,P=R+(I<<12&4294967295|I>>>20),I=L+(k^P&(R^k))+N[10]+4294925233&4294967295,L=P+(I<<17&4294967295|I>>>15),I=k+(R^L&(P^R))+N[11]+2304563134&4294967295,k=L+(I<<22&4294967295|I>>>10),I=R+(P^k&(L^P))+N[12]+1804603682&4294967295,R=k+(I<<7&4294967295|I>>>25),I=P+(L^R&(k^L))+N[13]+4254626195&4294967295,P=R+(I<<12&4294967295|I>>>20),I=L+(k^P&(R^k))+N[14]+2792965006&4294967295,L=P+(I<<17&4294967295|I>>>15),I=k+(R^L&(P^R))+N[15]+1236535329&4294967295,k=L+(I<<22&4294967295|I>>>10),I=R+(L^P&(k^L))+N[1]+4129170786&4294967295,R=k+(I<<5&4294967295|I>>>27),I=P+(k^L&(R^k))+N[6]+3225465664&4294967295,P=R+(I<<9&4294967295|I>>>23),I=L+(R^k&(P^R))+N[11]+643717713&4294967295,L=P+(I<<14&4294967295|I>>>18),I=k+(P^R&(L^P))+N[0]+3921069994&4294967295,k=L+(I<<20&4294967295|I>>>12),I=R+(L^P&(k^L))+N[5]+3593408605&4294967295,R=k+(I<<5&4294967295|I>>>27),I=P+(k^L&(R^k))+N[10]+38016083&4294967295,P=R+(I<<9&4294967295|I>>>23),I=L+(R^k&(P^R))+N[15]+3634488961&4294967295,L=P+(I<<14&4294967295|I>>>18),I=k+(P^R&(L^P))+N[4]+3889429448&4294967295,k=L+(I<<20&4294967295|I>>>12),I=R+(L^P&(k^L))+N[9]+568446438&4294967295,R=k+(I<<5&4294967295|I>>>27),I=P+(k^L&(R^k))+N[14]+3275163606&4294967295,P=R+(I<<9&4294967295|I>>>23),I=L+(R^k&(P^R))+N[3]+4107603335&4294967295,L=P+(I<<14&4294967295|I>>>18),I=k+(P^R&(L^P))+N[8]+1163531501&4294967295,k=L+(I<<20&4294967295|I>>>12),I=R+(L^P&(k^L))+N[13]+2850285829&4294967295,R=k+(I<<5&4294967295|I>>>27),I=P+(k^L&(R^k))+N[2]+4243563512&4294967295,P=R+(I<<9&4294967295|I>>>23),I=L+(R^k&(P^R))+N[7]+1735328473&4294967295,L=P+(I<<14&4294967295|I>>>18),I=k+(P^R&(L^P))+N[12]+2368359562&4294967295,k=L+(I<<20&4294967295|I>>>12),I=R+(k^L^P)+N[5]+4294588738&4294967295,R=k+(I<<4&4294967295|I>>>28),I=P+(R^k^L)+N[8]+2272392833&4294967295,P=R+(I<<11&4294967295|I>>>21),I=L+(P^R^k)+N[11]+1839030562&4294967295,L=P+(I<<16&4294967295|I>>>16),I=k+(L^P^R)+N[14]+4259657740&4294967295,k=L+(I<<23&4294967295|I>>>9),I=R+(k^L^P)+N[1]+2763975236&4294967295,R=k+(I<<4&4294967295|I>>>28),I=P+(R^k^L)+N[4]+1272893353&4294967295,P=R+(I<<11&4294967295|I>>>21),I=L+(P^R^k)+N[7]+4139469664&4294967295,L=P+(I<<16&4294967295|I>>>16),I=k+(L^P^R)+N[10]+3200236656&4294967295,k=L+(I<<23&4294967295|I>>>9),I=R+(k^L^P)+N[13]+681279174&4294967295,R=k+(I<<4&4294967295|I>>>28),I=P+(R^k^L)+N[0]+3936430074&4294967295,P=R+(I<<11&4294967295|I>>>21),I=L+(P^R^k)+N[3]+3572445317&4294967295,L=P+(I<<16&4294967295|I>>>16),I=k+(L^P^R)+N[6]+76029189&4294967295,k=L+(I<<23&4294967295|I>>>9),I=R+(k^L^P)+N[9]+3654602809&4294967295,R=k+(I<<4&4294967295|I>>>28),I=P+(R^k^L)+N[12]+3873151461&4294967295,P=R+(I<<11&4294967295|I>>>21),I=L+(P^R^k)+N[15]+530742520&4294967295,L=P+(I<<16&4294967295|I>>>16),I=k+(L^P^R)+N[2]+3299628645&4294967295,k=L+(I<<23&4294967295|I>>>9),I=R+(L^(k|~P))+N[0]+4096336452&4294967295,R=k+(I<<6&4294967295|I>>>26),I=P+(k^(R|~L))+N[7]+1126891415&4294967295,P=R+(I<<10&4294967295|I>>>22),I=L+(R^(P|~k))+N[14]+2878612391&4294967295,L=P+(I<<15&4294967295|I>>>17),I=k+(P^(L|~R))+N[5]+4237533241&4294967295,k=L+(I<<21&4294967295|I>>>11),I=R+(L^(k|~P))+N[12]+1700485571&4294967295,R=k+(I<<6&4294967295|I>>>26),I=P+(k^(R|~L))+N[3]+2399980690&4294967295,P=R+(I<<10&4294967295|I>>>22),I=L+(R^(P|~k))+N[10]+4293915773&4294967295,L=P+(I<<15&4294967295|I>>>17),I=k+(P^(L|~R))+N[1]+2240044497&4294967295,k=L+(I<<21&4294967295|I>>>11),I=R+(L^(k|~P))+N[8]+1873313359&4294967295,R=k+(I<<6&4294967295|I>>>26),I=P+(k^(R|~L))+N[15]+4264355552&4294967295,P=R+(I<<10&4294967295|I>>>22),I=L+(R^(P|~k))+N[6]+2734768916&4294967295,L=P+(I<<15&4294967295|I>>>17),I=k+(P^(L|~R))+N[13]+1309151649&4294967295,k=L+(I<<21&4294967295|I>>>11),I=R+(L^(k|~P))+N[4]+4149444226&4294967295,R=k+(I<<6&4294967295|I>>>26),I=P+(k^(R|~L))+N[11]+3174756917&4294967295,P=R+(I<<10&4294967295|I>>>22),I=L+(R^(P|~k))+N[2]+718787259&4294967295,L=P+(I<<15&4294967295|I>>>17),I=k+(P^(L|~R))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(L+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+L&4294967295,C.g[3]=C.g[3]+P&4294967295}s.prototype.v=function(C,R){R===void 0&&(R=C.length);const k=R-this.blockSize,N=this.C;let L=this.h,P=0;for(;P<R;){if(L==0)for(;P<=k;)o(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<R;)if(N[L++]=C.charCodeAt(P++),L==this.blockSize){o(this,N),L=0;break}}else for(;P<R;)if(N[L++]=C[P++],L==this.blockSize){o(this,N),L=0;break}}this.h=L,this.o+=R},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var k=C.length-8;k<C.length;++k)C[k]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,k=0;k<4;++k)for(let N=0;N<32;N+=8)C[R++]=this.g[k]>>>N&255;return C};function c(C,R){var k=m;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=R(C)}function h(C,R){this.h=R;const k=[];let N=!0;for(let L=C.length-1;L>=0;L--){const P=C[L]|0;N&&P==R||(k[L]=P,N=!1)}this.g=k}var m={};function g(C){return-128<=C&&C<128?c(C,function(R){return new h([R|0],R<0?-1:0)}):new h([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return $(p(-C));const R=[];let k=1;for(let N=0;C>=k;N++)R[N]=C/k|0,k*=4294967296;return new h(R,0)}function x(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return $(x(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=p(Math.pow(R,8));let N=T;for(let P=0;P<C.length;P+=8){var L=Math.min(8,C.length-P);const I=parseInt(C.substring(P,P+L),R);L<8?(L=p(Math.pow(R,L)),N=N.j(L).add(p(I))):(N=N.j(k),N=N.add(p(I)))}return N}var T=g(0),A=g(1),M=g(16777216);r=h.prototype,r.m=function(){if(Q(this))return-$(this).m();let C=0,R=1;for(let k=0;k<this.g.length;k++){const N=this.i(k);C+=(N>=0?N:4294967296+N)*R,R*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(B(this))return"0";if(Q(this))return"-"+$(this).toString(C);const R=p(Math.pow(C,6));var k=this;let N="";for(;;){const L=z(k,R).g;k=Z(k,L.j(R));let P=((k.g.length>0?k.g[0]:k.h)>>>0).toString(C);if(k=L,B(k))return P+N;for(;P.length<6;)P="0"+P;N=P+N}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function B(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function Q(C){return C.h==-1}r.l=function(C){return C=Z(this,C),Q(C)?-1:B(C)?0:1};function $(C){const R=C.g.length,k=[];for(let N=0;N<R;N++)k[N]=~C.g[N];return new h(k,~C.h).add(A)}r.abs=function(){return Q(this)?$(this):this},r.add=function(C){const R=Math.max(this.g.length,C.g.length),k=[];let N=0;for(let L=0;L<=R;L++){let P=N+(this.i(L)&65535)+(C.i(L)&65535),I=(P>>>16)+(this.i(L)>>>16)+(C.i(L)>>>16);N=I>>>16,P&=65535,I&=65535,k[L]=I<<16|P}return new h(k,k[k.length-1]&-2147483648?-1:0)};function Z(C,R){return C.add($(R))}r.j=function(C){if(B(this)||B(C))return T;if(Q(this))return Q(C)?$(this).j($(C)):$($(this).j(C));if(Q(C))return $(this.j($(C)));if(this.l(M)<0&&C.l(M)<0)return p(this.m()*C.m());const R=this.g.length+C.g.length,k=[];for(var N=0;N<2*R;N++)k[N]=0;for(N=0;N<this.g.length;N++)for(let L=0;L<C.g.length;L++){const P=this.i(N)>>>16,I=this.i(N)&65535,Xe=C.i(L)>>>16,ft=C.i(L)&65535;k[2*N+2*L]+=I*ft,X(k,2*N+2*L),k[2*N+2*L+1]+=P*ft,X(k,2*N+2*L+1),k[2*N+2*L+1]+=I*Xe,X(k,2*N+2*L+1),k[2*N+2*L+2]+=P*Xe,X(k,2*N+2*L+2)}for(C=0;C<R;C++)k[C]=k[2*C+1]<<16|k[2*C];for(C=R;C<2*R;C++)k[C]=0;return new h(k,0)};function X(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function oe(C,R){this.g=C,this.h=R}function z(C,R){if(B(R))throw Error("division by zero");if(B(C))return new oe(T,T);if(Q(C))return R=z($(C),R),new oe($(R.g),$(R.h));if(Q(R))return R=z(C,$(R)),new oe($(R.g),R.h);if(C.g.length>30){if(Q(C)||Q(R))throw Error("slowDivide_ only works with positive integers.");for(var k=A,N=R;N.l(C)<=0;)k=le(k),N=le(N);var L=ae(k,1),P=ae(N,1);for(N=ae(N,2),k=ae(k,2);!B(N);){var I=P.add(N);I.l(C)<=0&&(L=L.add(k),P=I),N=ae(N,1),k=ae(k,1)}return R=Z(C,L.j(R)),new oe(L,R)}for(L=T;C.l(R)>=0;){for(k=Math.max(1,Math.floor(C.m()/R.m())),N=Math.ceil(Math.log(k)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),P=p(k),I=P.j(R);Q(I)||I.l(C)>0;)k-=N,P=p(k),I=P.j(R);B(P)&&(P=A),L=L.add(P),C=Z(C,I)}return new oe(L,C)}r.B=function(C){return z(this,C).h},r.and=function(C){const R=Math.max(this.g.length,C.g.length),k=[];for(let N=0;N<R;N++)k[N]=this.i(N)&C.i(N);return new h(k,this.h&C.h)},r.or=function(C){const R=Math.max(this.g.length,C.g.length),k=[];for(let N=0;N<R;N++)k[N]=this.i(N)|C.i(N);return new h(k,this.h|C.h)},r.xor=function(C){const R=Math.max(this.g.length,C.g.length),k=[];for(let N=0;N<R;N++)k[N]=this.i(N)^C.i(N);return new h(k,this.h^C.h)};function le(C){const R=C.g.length+1,k=[];for(let N=0;N<R;N++)k[N]=C.i(N)<<1|C.i(N-1)>>>31;return new h(k,C.h)}function ae(C,R){const k=R>>5;R%=32;const N=C.g.length-k,L=[];for(let P=0;P<N;P++)L[P]=R>0?C.i(P+k)>>>R|C.i(P+k+1)<<32-R:C.i(P+k);return new h(L,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,nx=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=x,ys=h}).apply(typeof N_<"u"?N_:typeof self<"u"?self:typeof window<"u"?window:{});var Dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rx,bc,ix,qh,Vp,sx,ax,ox;(function(){var r,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dh=="object"&&Dh];for(var v=0;v<u.length;++v){var b=u[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function o(u,v){if(v)e:{var b=s;u=u.split(".");for(var w=0;w<u.length-1;w++){var H=u[w];if(!(H in b))break e;b=b[H]}u=u[u.length-1],w=b[u],v=v(w),v!=w&&v!=null&&e(b,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var b=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&b.push([w,v[w]]);return b}});var c=c||{},h=this||self;function m(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function g(u,v,b){return u.call.apply(u.bind,arguments)}function p(u,v,b){return p=g,p.apply(null,arguments)}function x(u,v){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function T(u,v){function b(){}b.prototype=v.prototype,u.Z=v.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(w,H,K){for(var ce=Array(arguments.length-2),we=2;we<arguments.length;we++)ce[we-2]=arguments[we];return v.prototype[H].apply(w,ce)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function M(u){const v=u.length;if(v>0){const b=Array(v);for(let w=0;w<v;w++)b[w]=u[w];return b}return[]}function B(u,v){for(let w=1;w<arguments.length;w++){const H=arguments[w];var b=typeof H;if(b=b!="object"?b:H?Array.isArray(H)?"array":b:"null",b=="array"||b=="object"&&typeof H.length=="number"){b=u.length||0;const K=H.length||0;u.length=b+K;for(let ce=0;ce<K;ce++)u[b+ce]=H[ce]}else u.push(H)}}class Q{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function $(u){h.setTimeout(()=>{throw u},0)}function Z(){var u=C;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class X{constructor(){this.h=this.g=null}add(v,b){const w=oe.get();w.set(v,b),this.h?this.h.next=w:this.g=w,this.h=w}}var oe=new Q(()=>new z,u=>u.reset());class z{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ae=!1,C=new X,R=()=>{const u=Promise.resolve(void 0);le=()=>{u.then(k)}};function k(){for(var u;u=Z();){try{u.h.call(u.g)}catch(b){$(b)}var v=oe;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}ae=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};h.addEventListener("test",b,v),h.removeEventListener("test",b,v)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function Xe(u,v){L.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}T(Xe,L),Xe.prototype.init=function(u,v){const b=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(b=="mouseover"?v=u.fromElement:b=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),J=0;function G(u,v,b,w,H){this.listener=u,this.proxy=null,this.src=v,this.type=b,this.capture=!!w,this.ha=H,this.key=++J,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ie(u,v,b){for(const w in u)v.call(b,u[w],w,u)}function Be(u,v){for(const b in u)v.call(void 0,u[b],b,u)}function V(u){const v={};for(const b in u)v[b]=u[b];return v}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(u,v){let b,w;for(let H=1;H<arguments.length;H++){w=arguments[H];for(b in w)u[b]=w[b];for(let K=0;K<ie.length;K++)b=ie[K],Object.prototype.hasOwnProperty.call(w,b)&&(u[b]=w[b])}}function me(u){this.src=u,this.g={},this.h=0}me.prototype.add=function(u,v,b,w,H){const K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);const ce=Re(u,v,w,H);return ce>-1?(v=u[ce],b||(v.fa=!1)):(v=new G(v,this.src,K,!!w,H),v.fa=b,u.push(v)),v};function be(u,v){const b=v.type;if(b in u.g){var w=u.g[b],H=Array.prototype.indexOf.call(w,v,void 0),K;(K=H>=0)&&Array.prototype.splice.call(w,H,1),K&&(fe(v),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Re(u,v,b,w){for(let H=0;H<u.length;++H){const K=u[H];if(!K.da&&K.listener==v&&K.capture==!!b&&K.ha==w)return H}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Ot={};function ct(u,v,b,w,H){if(Array.isArray(v)){for(let K=0;K<v.length;K++)ct(u,v[K],b,w,H);return null}return b=ml(b),u&&u[ft]?u.J(v,b,m(w)?!!w.capture:!1,H):Ls(u,v,b,!1,w,H)}function Ls(u,v,b,w,H,K){if(!v)throw Error("Invalid event type");const ce=m(H)?!!H.capture:!!H;let we=Ds(u);if(we||(u[Ue]=we=new me(u)),b=we.add(v,b,w,ce,K),b.proxy)return b;if(w=qa(),b.proxy=w,w.src=u,w.listener=b,u.addEventListener)P||(H=ce),H===void 0&&(H=!1),u.addEventListener(v.toString(),w,H);else if(u.attachEvent)u.attachEvent(xr(v.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function qa(){function u(b){return v.call(u.src,u.listener,b)}const v=dl;return u}function Ga(u,v,b,w,H){if(Array.isArray(v))for(var K=0;K<v.length;K++)Ga(u,v[K],b,w,H);else w=m(w)?!!w.capture:!!w,b=ml(b),u&&u[ft]?(u=u.i,K=String(v).toString(),K in u.g&&(v=u.g[K],b=Re(v,b,w,H),b>-1&&(fe(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete u.g[K],u.h--)))):u&&(u=Ds(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Re(v,b,w,H)),(b=u>-1?v[u]:null)&&Wa(b))}function Wa(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[ft])be(v.i,u);else{var b=u.type,w=u.proxy;v.removeEventListener?v.removeEventListener(b,w,u.capture):v.detachEvent?v.detachEvent(xr(b),w):v.addListener&&v.removeListener&&v.removeListener(w),(b=Ds(v))?(be(b,u),b.h==0&&(b.src=null,v[Ue]=null)):fe(u)}}}function xr(u){return u in Ot?Ot[u]:Ot[u]="on"+u}function dl(u,v){if(u.da)u=!0;else{v=new Xe(v,this);const b=u.listener,w=u.ha||u.src;u.fa&&Wa(u),u=b.call(w,v)}return u}function Ds(u){return u=u[Ue],u instanceof me?u:null}var fl="__closure_events_fn_"+(Math.random()*1e9>>>0);function ml(u){return typeof u=="function"?u:(u[fl]||(u[fl]=function(v){return u.handleEvent(v)}),u[fl])}function St(){N.call(this),this.i=new me(this),this.M=this,this.G=null}T(St,N),St.prototype[ft]=!0,St.prototype.removeEventListener=function(u,v,b,w){Ga(this,u,v,b,w)};function Vt(u,v){var b,w=u.G;if(w)for(b=[];w;w=w.G)b.push(w);if(u=u.M,w=v.type||v,typeof v=="string")v=new L(v,u);else if(v instanceof L)v.target=v.target||u;else{var H=v;v=new L(w,u),ue(v,H)}H=!0;let K,ce;if(b)for(ce=b.length-1;ce>=0;ce--)K=v.g=b[ce],H=Ci(K,w,!0,v)&&H;if(K=v.g=u,H=Ci(K,w,!0,v)&&H,H=Ci(K,w,!1,v)&&H,b)for(ce=0;ce<b.length;ce++)K=v.g=b[ce],H=Ci(K,w,!1,v)&&H}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const b=u.g[v];for(let w=0;w<b.length;w++)fe(b[w]);delete u.g[v],u.h--}}this.G=null},St.prototype.J=function(u,v,b,w){return this.i.add(String(u),v,!1,b,w)},St.prototype.K=function(u,v,b,w){return this.i.add(String(u),v,!0,b,w)};function Ci(u,v,b,w){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let K=0;K<v.length;++K){const ce=v[K];if(ce&&!ce.da&&ce.capture==b){const we=ce.listener,Et=ce.ha||ce.src;ce.fa&&be(u.i,ce),H=we.call(Et,w)!==!1&&H}}return H&&!w.defaultPrevented}function nf(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(u,v||0)}function nu(u){u.g=nf(()=>{u.g=null,u.i&&(u.i=!1,nu(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class un extends N{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:nu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(u){N.call(this),this.h=u,this.g={}}T(js,N);var pl=[];function gl(u){Ie(u.g,function(v,b){this.g.hasOwnProperty(b)&&Wa(v)},u),u.g={}}js.prototype.N=function(){js.Z.N.call(this),gl(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ii=h.JSON.stringify,rf=h.JSON.parse,ru=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function iu(){}function su(){}var tr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){L.call(this,"d")}T($t,L);function Vn(){L.call(this,"c")}T(Vn,L);var _t={},au=null;function $a(){return au=au||new St}_t.Ia="serverreachability";function ou(u){L.call(this,_t.Ia,u)}T(ou,L);function br(u){const v=$a();Vt(v,new ou(v))}_t.STAT_EVENT="statevent";function Ms(u,v){L.call(this,_t.STAT_EVENT,u),this.stat=v}T(Ms,L);function At(u){const v=$a();Vt(v,new Ms(v,u))}_t.Ja="timingevent";function Tr(u,v){L.call(this,_t.Ja,u),this.size=v}T(Tr,L);function Sr(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},v)}function nr(){this.g=!0}nr.prototype.ua=function(){this.g=!1};function sf(u,v,b,w,H,K){u.info(function(){if(u.g)if(K){var ce="",we=K.split("&");for(let qe=0;qe<we.length;qe++){var Et=we[qe].split("=");if(Et.length>1){const ut=Et[0];Et=Et[1];const Bn=ut.split("_");ce=Bn.length>=2&&Bn[1]=="type"?ce+(ut+"="+Et+"&"):ce+(ut+"=redacted&")}}}else ce=null;else ce=K;return"XMLHTTP REQ ("+w+") [attempt "+H+"]: "+v+`
`+b+`
`+ce})}function lu(u,v,b,w,H,K,ce){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+H+"]: "+v+`
`+b+`
`+K+" "+ce})}function Ar(u,v,b,w){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+af(u,b)+(w?" "+w:"")})}function Os(u,v){u.info(function(){return"TIMEOUT: "+v})}nr.prototype.info=function(){};function af(u,v){if(!u.g)return v;if(!v)return null;try{const K=JSON.parse(v);if(K){for(u=0;u<K.length;u++)if(Array.isArray(K[u])){var b=K[u];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var H=w[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ce=1;ce<w.length;ce++)w[ce]=""}}}}return Ii(K)}catch{return v}}var Vs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vl;function Ps(){}T(Ps,iu),Ps.prototype.g=function(){return new XMLHttpRequest},vl=new Ps;function Jr(u){return encodeURIComponent(String(u))}function cu(u){var v=1;u=u.split(":");const b=[];for(;v>0&&u.length;)b.push(u.shift()),v--;return u.length&&b.push(u.join(":")),b}function rr(u,v,b,w){this.j=u,this.i=v,this.l=b,this.S=w||1,this.V=new js(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ir}function ir(){this.i=null,this.g="",this.h=!1}var wt={},Bt={};function wr(u,v,b){u.M=1,u.A=Us(Rt(v)),u.u=b,u.R=!0,Qa(u,null)}function Qa(u,v){u.F=Date.now(),kr(u),u.B=Rt(u.A);var b=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),Za(b.i,"t",w),u.C=0,b=u.j.L,u.h=new ir,u.g=Su(u.j,b?v:null,!u.u),u.P>0&&(u.O=new un(p(u.Y,u,u.g),u.P)),v=u.V,b=u.g,w=u.ba;var H="readystatechange";Array.isArray(H)||(H&&(pl[0]=H.toString()),H=pl);for(let K=0;K<H.length;K++){const ce=ct(b,H[K],w||v.handleEvent,!1,v.h||v);if(!ce)break;v.g[ce.key]=ce}v=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),br(),sf(u.i,u.v,u.B,u.l,u.S,u.u)}rr.prototype.ba=function(u){u=u.target;const v=this.O;v&&or(u)==3?v.j():this.Y(u)},rr.prototype.Y=function(u){try{if(u==this.g)e:{const we=or(this.g),Et=this.g.ya(),qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||we!=4||Et==7||(Et==8||qe<=0?br(3):br(2)),Rr(this);var v=this.g.ca();this.X=v;var b=of(this);if(this.o=v==200,lu(this.i,this.v,this.B,this.l,this.S,we,v),this.o){if(this.U&&!this.L){t:{if(this.g){var w,H=this.g;if((w=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var K=w;break t}}K=null}if(u=K)Ar(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Cr(this,u);else{this.o=!1,this.m=3,At(12),An(this),Pn(this);break e}}if(this.R){u=!0;let ut;for(;!this.K&&this.C<b.length;)if(ut=hu(this,b),ut==Bt){we==4&&(this.m=4,At(14),u=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==wt){this.m=4,At(15),Ar(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else Ar(this.i,this.l,ut,null),Cr(this,ut);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||b.length!=0||this.h.h||(this.m=1,At(16),u=!1),this.o=this.o&&u,!u)Ar(this.i,this.l,b,"[Invalid Chunked Response]"),An(this),Pn(this);else if(b.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Dl(ce),ce.P=!0,At(11))}}else Ar(this.i,this.l,b,null),Cr(this,b);we==4&&An(this),this.o&&!this.K&&(we==4?Eu(this.j,this):(this.o=!1,kr(this)))}else ti(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),An(this),Pn(this)}}}catch{}};function of(u){if(!uu(u))return u.g.la();const v=Qt(u.g);if(v==="")return"";let b="";const w=v.length,H=or(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return An(u),Pn(u),"";u.h.i=new h.TextDecoder}for(let K=0;K<w;K++)u.h.h=!0,b+=u.h.i.decode(v[K],{stream:!(H&&K==w-1)});return v.length=0,u.h.g+=b,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function hu(u,v){var b=u.C,w=v.indexOf(`
`,b);return w==-1?Bt:(b=Number(v.substring(b,w)),isNaN(b)?wt:(w+=1,w+b>v.length?Bt:(v=v.slice(w,w+b),u.C=w+b,v)))}rr.prototype.cancel=function(){this.K=!0,An(this)};function kr(u){u.T=Date.now()+u.H,Ka(u,u.H)}function Ka(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Sr(p(u.aa,u),v)}function Rr(u){u.D&&(h.clearTimeout(u.D),u.D=null)}rr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Os(this.i,this.B),this.M!=2&&(br(),At(17)),An(this),this.m=2,Pn(this)):Ka(this,this.T-u)};function Pn(u){u.j.I==0||u.K||Eu(u.j,u)}function An(u){Rr(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,gl(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function Cr(u,v){try{var b=u.j;if(b.I!=0&&(b.g==u||Nr(b.h,u))){if(!u.L&&Nr(b.h,u)&&b.I==3){try{var w=b.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var H=w;if(H[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)ro(b),Pi(b);else break e;Ws(b),At(18)}}else b.xa=H[1],0<b.xa-b.K&&H[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Sr(p(b.Va,b),6e3));Ir(b.h)<=1&&b.ta&&(b.ta=void 0)}else Vr(b,11)}else if((u.L||b.g==u)&&ro(b),!I(v))for(H=b.Ba.g.parse(v),v=0;v<H.length;v++){let qe=H[v];const ut=qe[0];if(!(ut<=b.K))if(b.K=ut,qe=qe[1],b.I==2)if(qe[0]=="c"){b.M=qe[1],b.ba=qe[2];const Bn=qe[3];Bn!=null&&(b.ka=Bn,b.j.info("VER="+b.ka));const Pr=qe[4];Pr!=null&&(b.za=Pr,b.j.info("SVER="+b.za));const lr=qe[5];lr!=null&&typeof lr=="number"&&lr>0&&(w=1.5*lr,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const cr=u.g;if(cr){const $s=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($s){var K=w.h;K.g||$s.indexOf("spdy")==-1&&$s.indexOf("quic")==-1&&$s.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(xl(K,K.h),K.h=null))}if(w.G){const io=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;io&&(w.wa=io,$e(w.J,w.G,io))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var ce=u;if(w.na=Tu(w,w.L?w.ba:null,w.W),ce.L){bl(w.h,ce);var we=ce,Et=w.O;Et&&(we.H=Et),we.D&&(Rr(we),kr(we)),w.g=ce}else vu(w);b.i.length>0&&Or(b)}else qe[0]!="stop"&&qe[0]!="close"||Vr(b,7);else b.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Vr(b,7):Nl(b):qe[0]!="noop"&&b.l&&b.l.qa(qe),b.A=0)}}br(4)}catch{}}var kt=class{constructor(u,v){this.g=u,this.map=v}};function _l(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function El(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ir(u){return u.h?1:u.g?u.g.size:0}function Nr(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function xl(u,v){u.g?u.g.add(v):u.h=v}function bl(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}_l.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const b of u.g.values())v=v.concat(b.G);return v}return M(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ya(u,v){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const w=u[b].indexOf("=");let H,K=null;w>=0?(H=u[b].substring(0,w),K=u[b].substring(w+1)):H=u[b],v(H,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function wn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof wn?(this.l=u.l,Ht(this,u.j),this.o=u.o,this.g=u.g,Ni(this,u.u),this.h=u.h,Sl(this,gu(u.i)),this.m=u.m):u&&(v=String(u).match(du))?(this.l=!1,Ht(this,v[1]||"",!0),this.o=Lr(v[2]||""),this.g=Lr(v[3]||"",!0),Ni(this,v[4]),this.h=Lr(v[5]||"",!0),Sl(this,v[6]||"",!0),this.m=Lr(v[7]||"")):(this.l=!1,this.i=new Di(null,this.l))}wn.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(zs(v,Xa,!0),":");var b=this.g;return(b||v=="file")&&(u.push("//"),(v=this.o)&&u.push(zs(v,Xa,!0),"@"),u.push(Jr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(zs(b,b.charAt(0)=="/"?Al:fu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",zs(b,mu)),u.join("")},wn.prototype.resolve=function(u){const v=Rt(this);let b=!!u.j;b?Ht(v,u.j):b=!!u.o,b?v.o=u.o:b=!!u.g,b?v.g=u.g:b=u.u!=null;var w=u.h;if(b)Ni(v,u.u);else if(b=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var H=v.h.lastIndexOf("/");H!=-1&&(w=v.h.slice(0,H+1)+w)}if(H=w,H==".."||H==".")w="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){w=H.lastIndexOf("/",0)==0,H=H.split("/");const K=[];for(let ce=0;ce<H.length;){const we=H[ce++];we=="."?w&&ce==H.length&&K.push(""):we==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&ce==H.length&&K.push("")):(K.push(we),w=!0)}w=K.join("/")}else w=H}return b?v.h=w:b=u.i.toString()!=="",b?Sl(v,gu(u.i)):b=!!u.m,b&&(v.m=u.m),v};function Rt(u){return new wn(u)}function Ht(u,v,b){u.j=b?Lr(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Ni(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function Sl(u,v,b){v instanceof Di?(u.i=v,Ja(u.i,u.l)):(b||(v=zs(v,Li)),u.i=new Di(v,u.l))}function $e(u,v,b){u.i.set(v,b)}function Us(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Lr(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function zs(u,v,b){return typeof u=="string"?(u=encodeURI(u).replace(v,pn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Xa=/[#\/\?@]/g,fu=/[#\?:]/g,Al=/[#\?]/g,Li=/[#\?@]/g,mu=/#/g;function Di(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ya(u.i,function(v,b){u.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}r=Di.prototype,r.add=function(u,v){gn(this),this.i=null,u=ji(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(v),this.h+=1,this};function pu(u,v){gn(u),v=ji(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function wl(u,v){return gn(u),v=ji(u,v),u.g.has(v)}r.forEach=function(u,v){gn(this),this.g.forEach(function(b,w){b.forEach(function(H){u.call(v,H,w,this)},this)},this)};function kl(u,v){gn(u);let b=[];if(typeof v=="string")wl(u,v)&&(b=b.concat(u.g.get(ji(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)b=b.concat(u[v]);return b}r.set=function(u,v){return gn(this),this.i=null,u=ji(this,u),wl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},r.get=function(u,v){return u?(u=kl(this,u),u.length>0?String(u[0]):v):v};function Za(u,v,b){pu(u,v),b.length>0&&(u.i=null,u.g.set(ji(u,v),M(b)),u.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var b=v[w];const H=Jr(b);b=kl(this,b);for(let K=0;K<b.length;K++){let ce=H;b[K]!==""&&(ce+="="+Jr(b[K])),u.push(ce)}}return this.i=u.join("&")};function gu(u){const v=new Di;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function ji(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Ja(u,v){v&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(b,w){const H=w.toLowerCase();w!=H&&(pu(this,w),Za(this,H,b))},u)),u.j=v}function sr(u,v){const b=new nr;if(h.Image){const w=new Image;w.onload=x(Un,b,"TestLoadImage: loaded",!0,v,w),w.onerror=x(Un,b,"TestLoadImage: error",!1,v,w),w.onabort=x(Un,b,"TestLoadImage: abort",!1,v,w),w.ontimeout=x(Un,b,"TestLoadImage: timeout",!1,v,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else v(!1)}function Rl(u,v){const b=new nr,w=new AbortController,H=setTimeout(()=>{w.abort(),Un(b,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:w.signal}).then(K=>{clearTimeout(H),K.ok?Un(b,"TestPingServer: ok",!0,v):Un(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Un(b,"TestPingServer: error",!1,v)})}function Un(u,v,b,w,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),w(b)}catch{}}function Mi(){this.g=new ru}function Dr(u){this.i=u.Sb||null,this.h=u.ab||!1}T(Dr,iu),Dr.prototype.g=function(){return new Bs(this.i,this.h)};function Bs(u,v){St.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Bs,St),r=Bs.prototype,r.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,ar(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Oi(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eo(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function eo(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Oi(this):ar(this),this.readyState==3&&eo(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Oi(this))},r.Na=function(u){this.g&&(this.response=u,Oi(this))},r.ga=function(){this.g&&Oi(this)};function Oi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ar(u)}r.setRequestHeader=function(u,v){this.A.append(u,v)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=v.next();return u.join(`\r
`)};function ar(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function zn(u){let v="";return Ie(u,function(b,w){v+=w,v+=":",v+=b,v+=`\r
`}),v}function Hs(u,v,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=zn(b),typeof u=="string"?b!=null&&Jr(b):$e(u,v,b))}function Ze(u){St.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ze,St);var jr=/^https?$/i,Cl=["POST","PUT"];r=Ze.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,v,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vl.g(),this.g.onreadystatechange=A(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(K){Fs(this,K);return}if(u=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var H in w)b.set(H,w[H]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())b.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(K=>K.toLowerCase()=="content-type"),H=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(Cl,v,void 0)>=0)||w||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ce]of b)this.g.setRequestHeader(K,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(K){Fs(this,K)}};function Fs(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,Il(u),ei(u)}function Il(u){u.A||(u.A=!0,Vt(u,"complete"),Vt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Vt(this,"complete"),Vt(this,"abort"),ei(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?qs(this):this.Xa())},r.Xa=function(){qs(this)};function qs(u){if(u.h&&typeof c<"u"){if(u.v&&or(u)==4)setTimeout(u.Ca.bind(u),0);else if(Vt(u,"readystatechange"),or(u)==4){u.h=!1;try{const K=u.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var w;if(w=K===0){let ce=String(u.D).match(du)[1]||null;!ce&&h.self&&h.self.location&&(ce=h.self.location.protocol.slice(0,-1)),w=!jr.test(ce?ce.toLowerCase():"")}b=w}if(b)Vt(u,"complete"),Vt(u,"success");else{u.o=6;try{var H=or(u)>2?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.ca()+"]",Il(u)}}finally{ei(u)}}}}function ei(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,v||Vt(u,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function or(u){return u.g?u.g.readyState:0}r.ca=function(){try{return or(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),rf(v)}};function Qt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ti(u){const v={};u=(u.g&&or(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(I(u[w]))continue;var b=cu(u[w]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const K=v[H]||[];v[H]=K,K.push(b)}Be(v,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mr(u,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||v}function Vi(u){this.za=0,this.i=[],this.j=new nr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mr("baseRetryDelayMs",5e3,u),this.Za=Mr("retryDelaySeedMs",1e4,u),this.Ta=Mr("forwardChannelMaxRetries",2,u),this.va=Mr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _l(u&&u.concurrentRequestLimit),this.Ba=new Mi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Vi.prototype,r.ka=8,r.I=1,r.connect=function(u,v,b,w){At(0),this.W=u,this.H=v||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=Tu(this,null,this.W),Or(this)};function Nl(u){if(to(u),u.I==3){var v=u.V++,b=Rt(u.J);if($e(b,"SID",u.M),$e(b,"RID",v),$e(b,"TYPE","terminate"),Gs(u,b),v=new rr(u,u.j,v),v.M=2,v.A=Us(Rt(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=v.A,b=!0),b||(v.g=Su(v.j,null),v.g.ea(v.A)),v.F=Date.now(),kr(v)}bu(u)}function Pi(u){u.g&&(Dl(u),u.g.cancel(),u.g=null)}function to(u){Pi(u),u.v&&(h.clearTimeout(u.v),u.v=null),ro(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function Or(u){if(!El(u.h)&&!u.m){u.m=!0;var v=u.Ea;le||R(),ae||(le(),ae=!0),C.add(v,u),u.D=0}}function no(u,v){return Ir(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Sr(p(u.Ea,u,v),xu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const H=new rr(this,this.j,u);let K=this.o;if(this.U&&(K?(K=V(K),ue(K,this.U)):K=this.U),this.u!==null||this.R||(H.J=K,K=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=yu(this,H,v),b=Rt(this.J),$e(b,"RID",u),$e(b,"CVER",22),this.G&&$e(b,"X-HTTP-Session-Id",this.G),Gs(this,b),K&&(this.R?v="headers="+Jr(zn(K))+"&"+v:this.u&&Hs(b,this.u,K)),xl(this.h,H),this.Ra&&$e(b,"TYPE","init"),this.S?($e(b,"$req",v),$e(b,"SID","null"),H.U=!0,wr(H,b,null)):wr(H,b,v),this.I=2}}else this.I==3&&(u?Ll(this,u):this.i.length==0||El(this.h)||Ll(this))};function Ll(u,v){var b;v?b=v.l:b=u.V++;const w=Rt(u.J);$e(w,"SID",u.M),$e(w,"RID",b),$e(w,"AID",u.K),Gs(u,w),u.u&&u.o&&Hs(w,u.u,u.o),b=new rr(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),v&&(u.i=v.G.concat(u.i)),v=yu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),xl(u.h,b),wr(b,w,v)}function Gs(u,v){u.H&&Ie(u.H,function(b,w){$e(v,w,b)}),u.l&&Ie({},function(b,w){$e(v,w,b)})}function yu(u,v,b){b=Math.min(u.i.length,b);const w=u.l?p(u.l.Ka,u.l,u):null;e:{var H=u.i;let we=-1;for(;;){const Et=["count="+b];we==-1?b>0?(we=H[0].g,Et.push("ofs="+we)):we=0:Et.push("ofs="+we);let qe=!0;for(let ut=0;ut<b;ut++){var K=H[ut].g;const Bn=H[ut].map;if(K-=we,K<0)we=Math.max(0,H[ut].g-100),qe=!1;else try{K="req"+K+"_"||"";try{var ce=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Pr,lr]of ce){let cr=lr;m(lr)&&(cr=Ii(lr)),Et.push(K+Pr+"="+encodeURIComponent(cr))}}catch(Pr){throw Et.push(K+"type="+encodeURIComponent("_badmap")),Pr}}catch{w&&w(Bn)}}if(qe){ce=Et.join("&");break e}}ce=void 0}return u=u.i.splice(0,b),v.G=u,ce}function vu(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;le||R(),ae||(le(),ae=!0),C.add(v,u),u.A=0}}function Ws(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Sr(p(u.Da,u),xu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Sr(p(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Pi(this),_u(this))};function Dl(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new rr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=Rt(u.na);$e(v,"RID","rpc"),$e(v,"SID",u.M),$e(v,"AID",u.K),$e(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(v,"TO",u.ia),$e(v,"TYPE","xmlhttp"),Gs(u,v),u.u&&u.o&&Hs(v,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Us(Rt(v)),b.u=null,b.R=!0,Qa(b,u)}r.Va=function(){this.C!=null&&(this.C=null,Pi(this),Ws(this),At(19))};function ro(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Eu(u,v){var b=null;if(u.g==v){ro(u),Dl(u),u.g=null;var w=2}else if(Nr(u.h,v))b=v.G,bl(u.h,v),w=1;else return;if(u.I!=0){if(v.o)if(w==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var H=u.D;w=$a(),Vt(w,new Tr(w,b)),Or(u)}else vu(u);else if(H=v.m,H==3||H==0&&v.X>0||!(w==1&&no(u,v)||w==2&&Ws(u)))switch(b&&b.length>0&&(v=u.h,v.i=v.i.concat(b)),H){case 1:Vr(u,5);break;case 4:Vr(u,10);break;case 3:Vr(u,6);break;default:Vr(u,2)}}}function xu(u,v){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*v}function Vr(u,v){if(u.j.info("Error code "+v),v==2){var b=p(u.bb,u),w=u.Ua;const H=!w;w=new wn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ht(w,"https"),Us(w),H?sr(w.toString(),b):Rl(w.toString(),b)}else At(2);u.I=0,u.l&&u.l.pa(v),bu(u),to(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function bu(u){if(u.I=0,u.ja=[],u.l){const v=Tl(u.h);(v.length!=0||u.i.length!=0)&&(B(u.ja,v),B(u.ja,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.oa()}}function Tu(u,v,b){var w=b instanceof wn?Rt(b):new wn(b);if(w.g!="")v&&(w.g=v+"."+w.g),Ni(w,w.u);else{var H=h.location;w=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const K=new wn(null);w&&Ht(K,w),v&&(K.g=v),H&&Ni(K,H),b&&(K.h=b),w=K}return b=u.G,v=u.wa,b&&v&&$e(w,b,v),$e(w,"VER",u.ka),Gs(u,w),w}function Su(u,v,b){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new Ze(new Dr({ab:b})):new Ze(u.ma),v.Fa(u.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ui(){}Ui.prototype.g=function(u,v){return new hn(u,v)};function hn(u,v){St.call(this),this.g=new Vi(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!I(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!I(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new ni(this)}T(hn,St),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Nl(this.g)},hn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=Ii(u),u=b);v.i.push(new kt(v.Ya++,u)),v.I==3&&Or(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,hn.Z.N.call(this)};function wu(u){$t.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const b in v){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}T(wu,$t);function ku(){Vn.call(this),this.status=1}T(ku,Vn);function ni(u){this.g=u}T(ni,Au),ni.prototype.ra=function(){Vt(this.g,"a")},ni.prototype.qa=function(u){Vt(this.g,new wu(u))},ni.prototype.pa=function(u){Vt(this.g,new ku)},ni.prototype.oa=function(){Vt(this.g,"b")},Ui.prototype.createWebChannel=Ui.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,ox=function(){return new Ui},ax=function(){return $a()},sx=_t,Vp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vs.NO_ERROR=0,Vs.TIMEOUT=8,Vs.HTTP_ERROR=6,qh=Vs,yl.COMPLETE="complete",ix=yl,su.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",St.prototype.listen=St.prototype.J,bc=su,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,rx=Ze}).apply(typeof Dh<"u"?Dh:typeof self<"u"?self:typeof window<"u"?window:{});class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let ol="12.8.0";function F6(r){ol=r}const ga=new Ad("@firebase/firestore");function Mo(){return ga.logLevel}function de(r,...e){if(ga.logLevel<=Me.DEBUG){const n=e.map(bg);ga.debug(`Firestore (${ol}): ${r}`,...n)}}function Ai(r,...e){if(ga.logLevel<=Me.ERROR){const n=e.map(bg);ga.error(`Firestore (${ol}): ${r}`,...n)}}function $o(r,...e){if(ga.logLevel<=Me.WARN){const n=e.map(bg);ga.warn(`Firestore (${ol}): ${r}`,...n)}}function bg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function xe(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,lx(r,s,n)}function lx(r,e,n){let s=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ai(s),new Error(s)}function We(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||lx(e,o,s)}function Ae(r,e){return r}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class cx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class G6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class W6{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new cx(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class $6{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Q6{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new $6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class L_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const s=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new L_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new L_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Y6(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Tg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Y6(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Oe(r,e){return r<e?-1:r>e?1:0}function Pp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return yp(o)===yp(c)?Oe(o,c):yp(o)?1:-1}return Oe(r.length,e.length)}const X6=55296,Z6=57343;function yp(r){const e=r.charCodeAt(0);return e>=X6&&e<=Z6}function Qo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const D_="__name__";class qr{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=qr.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Oe(e.length,n.length)}static compareSegments(e,n){const s=qr.isNumericId(e),o=qr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?qr.extractNumericId(e).compare(qr.extractNumericId(n)):Pp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ys.fromString(e.substring(4,e.length-2))}}class at extends qr{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const J6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends qr{construct(e,n,s){return new nn(e,n,s)}static isValidIdentifier(e){return J6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D_}static keyField(){return new nn([D_])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(c(),o++)}if(c(),h)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(at.fromString(e))}static fromName(e){return new ve(at.fromString(e).popFirst(5))}static empty(){return new ve(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new at(e.slice()))}}function ux(r,e,n){if(!n)throw new he(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function eC(r,e,n,s){if(e===!0&&s===!0)throw new he(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function j_(r){if(!ve.isDocumentKey(r))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function M_(r){if(ve.isDocumentKey(r))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function hx(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Id(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function Sn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Id(r);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Mt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Yc(r,e){if(!hx(r))throw new he(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new he(ne.INVALID_ARGUMENT,n);return!0}const O_=-62135596800,V_=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*V_);return new nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<O_)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V_}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yc(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-O_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Mt("string",nt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new nt(0,0))}static max(){return new Te(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Oc=-1;function tC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new nt(n+1,0):new nt(n,s));return new xs(o,ve.empty(),e)}function nC(r){return new xs(r.readTime,r.key,Oc)}class xs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new xs(Te.min(),ve.empty(),Oc)}static max(){return new xs(Te.max(),ve.empty(),Oc)}}function rC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Oe(r.largestBatchId,e.largestBatchId))}const iC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ll(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==iC)throw r;de("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,s)=>{n(e)}))}static reject(e){return new se(((n,s)=>{s(e)}))}static waitFor(e){return new se(((n,s)=>{let o=0,c=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++c,h&&c===o&&n()}),(g=>s(g)))})),h=!0,c===o&&n()}))}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next((o=>o?se.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new se(((s,o)=>{const c=e.length,h=new Array(c);let m=0;for(let g=0;g<c;g++){const p=g;n(e[p]).next((x=>{h[p]=x,++m,m===c&&s(h)}),(x=>o(x)))}}))}static doWhile(e,n){return new se(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function aC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cl(r){return r.name==="IndexedDbTransactionError"}class Nd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nd.ce=-1;const Sg=-1;function Ld(r){return r==null}function ad(r){return r===0&&1/r==-1/0}function oC(r){return typeof r=="number"&&Number.isInteger(r)&&!ad(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const dx="";function lC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=P_(e)),e=cC(r.get(n),e);return P_(e)}function cC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case dx:n+="";break;default:n+=c}}return n}function P_(r){return r+dx+""}function U_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Cs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function fx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class mt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jh(this.root,e,this.comparator,!0)}}class jh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??en.RED,this.left=o??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new en(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z_(this.data.getIterator())}getIteratorFrom(e){return new z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new jn([])}unionWith(e){let n=new Ut(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class mx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new mx("Invalid base64 string: "+c):c}})(e);return new rn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const uC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(r){if(We(!!r,39018),typeof r=="string"){let e=0;const n=uC.exec(r);if(We(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(r.seconds),nanos:Tt(r.nanos)}}function Tt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ts(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}const px="server_timestamp",gx="__type__",yx="__previous_value__",vx="__local_write_time__";function Ag(r){return(r?.mapValue?.fields||{})[gx]?.stringValue===px}function Dd(r){const e=r.mapValue.fields[yx];return Ag(e)?Dd(e):e}function Vc(r){const e=bs(r.mapValue.fields[vx].timestampValue);return new nt(e.seconds,e.nanos)}class hC{constructor(e,n,s,o,c,h,m,g,p,x,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=x,this.apiKey=T}}const od="(default)";class Pc{constructor(e,n){this.projectId=e,this.database=n||od}static empty(){return new Pc("","")}get isDefaultDatabase(){return this.database===od}isEqual(e){return e instanceof Pc&&e.projectId===this.projectId&&e.database===this.database}}function dC(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pc(r.options.projectId,e)}const _x="__type__",fC="__max__",Mh={mapValue:{}},Ex="__vector__",ld="value";function Ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ag(r)?4:pC(r)?9007199254740991:mC(r)?10:11:xe(28295,{value:r})}function Xr(r,e){if(r===e)return!0;const n=Ss(r);if(n!==Ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Vc(r).isEqual(Vc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=bs(o.timestampValue),m=bs(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return Ts(o.bytesValue).isEqual(Ts(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return Tt(o.geoPointValue.latitude)===Tt(c.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Tt(o.integerValue)===Tt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=Tt(o.doubleValue),m=Tt(c.doubleValue);return h===m?ad(h)===ad(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return Qo(r.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},m=c.mapValue.fields||{};if(U_(h)!==U_(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Xr(h[g],m[g])))return!1;return!0})(r,e);default:return xe(52216,{left:r})}}function Uc(r,e){return(r.values||[]).find((n=>Xr(n,e)))!==void 0}function Ko(r,e){if(r===e)return 0;const n=Ss(r),s=Ss(e);if(n!==s)return Oe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,e.booleanValue);case 2:return(function(c,h){const m=Tt(c.integerValue||c.doubleValue),g=Tt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return B_(r.timestampValue,e.timestampValue);case 4:return B_(Vc(r),Vc(e));case 5:return Pp(r.stringValue,e.stringValue);case 6:return(function(c,h){const m=Ts(c),g=Ts(h);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,h){const m=c.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const x=Oe(m[p],g[p]);if(x!==0)return x}return Oe(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,h){const m=Oe(Tt(c.latitude),Tt(h.latitude));return m!==0?m:Oe(Tt(c.longitude),Tt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return H_(r.arrayValue,e.arrayValue);case 10:return(function(c,h){const m=c.fields||{},g=h.fields||{},p=m[ld]?.arrayValue,x=g[ld]?.arrayValue,T=Oe(p?.values?.length||0,x?.values?.length||0);return T!==0?T:H_(p,x)})(r.mapValue,e.mapValue);case 11:return(function(c,h){if(c===Mh.mapValue&&h===Mh.mapValue)return 0;if(c===Mh.mapValue)return 1;if(h===Mh.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),p=h.fields||{},x=Object.keys(p);g.sort(),x.sort();for(let T=0;T<g.length&&T<x.length;++T){const A=Pp(g[T],x[T]);if(A!==0)return A;const M=Ko(m[g[T]],p[x[T]]);if(M!==0)return M}return Oe(g.length,x.length)})(r.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function B_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Oe(r,e);const n=bs(r),s=bs(e),o=Oe(n.seconds,s.seconds);return o!==0?o:Oe(n.nanos,s.nanos)}function H_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=Ko(n[o],s[o]);if(c)return c}return Oe(n.length,s.length)}function Yo(r){return Up(r)}function Up(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=bs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ts(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ve.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Up(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of s)c?c=!1:o+=",",o+=`${h}:${Up(n.fields[h])}`;return o+"}"})(r.mapValue):xe(61005,{value:r})}function Gh(r){switch(Ss(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dd(r);return e?16+Gh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Gh(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Cs(s.fields,((c,h)=>{o+=c.length+Gh(h)})),o})(r.mapValue);default:throw xe(13486,{value:r})}}function F_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function zp(r){return!!r&&"integerValue"in r}function wg(r){return!!r&&"arrayValue"in r}function q_(r){return!!r&&"nullValue"in r}function G_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wh(r){return!!r&&"mapValue"in r}function mC(r){return(r?.mapValue?.fields||{})[_x]?.stringValue===Ex}function Rc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Cs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Rc(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rc(r.arrayValue.values[n]);return e}return{...r}}function pC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===fC}class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rc(n)}setAll(e){let n=nn.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Rc(h):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());Wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Wh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Cs(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new Tn(Rc(this.value))}}function xx(r){const e=[];return Cs(r.fields,((n,s)=>{const o=new nn([n]);if(Wh(s)){const c=xx(s.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new jn(e)}class ln{constructor(e,n,s,o,c,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new ln(e,0,Te.min(),Te.min(),Te.min(),Tn.empty(),0)}static newFoundDocument(e,n,s,o){return new ln(e,1,n,Te.min(),s,o,0)}static newNoDocument(e,n){return new ln(e,2,n,Te.min(),Te.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Te.min(),Te.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cd{constructor(e,n){this.position=e,this.inclusive=n}}function W_(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],h=r.position[o];if(c.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),n.key):s=Ko(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function $_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Xr(r.position[n],e.position[n]))return!1;return!0}class zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function gC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class bx{}class jt extends bx{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new vC(e,n,s):n==="array-contains"?new xC(e,s):n==="in"?new bC(e,s):n==="not-in"?new TC(e,s):n==="array-contains-any"?new SC(e,s):new jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new _C(e,s):new EC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ko(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison(Ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends bx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _r(e,n)}matches(e){return Tx(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Tx(r){return r.op==="and"}function Sx(r){return yC(r)&&Tx(r)}function yC(r){for(const e of r.filters)if(e instanceof _r)return!1;return!0}function Bp(r){if(r instanceof jt)return r.field.canonicalString()+r.op.toString()+Yo(r.value);if(Sx(r))return r.filters.map((e=>Bp(e))).join(",");{const e=r.filters.map((n=>Bp(n))).join(",");return`${r.op}(${e})`}}function Ax(r,e){return r instanceof jt?(function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&Xr(s.value,o.value)})(r,e):r instanceof _r?(function(s,o){return o instanceof _r&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,h,m)=>c&&Ax(h,o.filters[m])),!0):!1})(r,e):void xe(19439)}function wx(r){return r instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Yo(n.value)}`})(r):r instanceof _r?(function(n){return n.op.toString()+" {"+n.getFilters().map(wx).join(" ,")+"}"})(r):"Filter"}class vC extends jt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class _C extends jt{constructor(e,n){super(e,"in",n),this.keys=kx("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class EC extends jt{constructor(e,n){super(e,"not-in",n),this.keys=kx("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function kx(r,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class xC extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wg(n)&&Uc(n.arrayValue,this.value)}}class bC extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uc(this.value.arrayValue,n)}}class TC extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Uc(this.value.arrayValue,n)}}class SC extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Uc(this.value.arrayValue,s)))}}class AC{constructor(e,n=null,s=[],o=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=h,this.endAt=m,this.Te=null}}function Q_(r,e=null,n=[],s=[],o=null,c=null,h=null){return new AC(r,e,n,s,o,c,h)}function kg(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Bp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Yo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Yo(s))).join(",")),e.Te=n}return e.Te}function Rg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!gC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Ax(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!$_(r.startAt,e.startAt)&&$_(r.endAt,e.endAt)}function Hp(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ul{constructor(e,n=null,s=[],o=[],c=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function wC(r,e,n,s,o,c,h,m){return new ul(r,e,n,s,o,c,h,m)}function jd(r){return new ul(r)}function K_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function kC(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Rx(r){return r.collectionGroup!==null}function Cc(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ut(nn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new zc(c,s))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new zc(nn.keyField(),s))}return e.Ie}function $r(r){const e=Ae(r);return e.Ee||(e.Ee=RC(e,Cc(r))),e.Ee}function RC(r,e){if(r.limitType==="F")return Q_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new zc(o.field,c)}));const n=r.endAt?new cd(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new cd(r.startAt.position,r.startAt.inclusive):null;return Q_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Fp(r,e){const n=r.filters.concat([e]);return new ul(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function CC(r,e){const n=r.explicitOrderBy.concat([e]);return new ul(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function qp(r,e,n){return new ul(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Md(r,e){return Rg($r(r),$r(e))&&r.limitType===e.limitType}function Cx(r){return`${kg($r(r))}|lt:${r.limitType}`}function Oo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>wx(o))).join(", ")}]`),Ld(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Yo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Yo(o))).join(",")),`Target(${s})`})($r(r))}; limitType=${r.limitType})`}function Od(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ve.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of Cc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const p=W_(h,m,g);return h.inclusive?p<=0:p<0})(s.startAt,Cc(s),o)||s.endAt&&!(function(h,m,g){const p=W_(h,m,g);return h.inclusive?p>=0:p>0})(s.endAt,Cc(s),o))})(r,e)}function IC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ix(r){return(e,n)=>{let s=!1;for(const o of Cc(r)){const c=NC(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function NC(r,e,n){const s=r.field.isKeyField()?ve.comparator(e.key,n.key):(function(c,h,m){const g=h.data.field(c),p=m.data.field(c);return g!==null&&p!==null?Ko(g,p):xe(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:r.dir})}}class Ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return fx(this.inner)}size(){return this.innerSize}}const LC=new mt(ve.comparator);function wi(){return LC}const Nx=new mt(ve.comparator);function Tc(...r){let e=Nx;for(const n of r)e=e.insert(n.key,n);return e}function Lx(r){let e=Nx;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ua(){return Ic()}function Dx(){return Ic()}function Ic(){return new Ta((r=>r.toString()),((r,e)=>r.isEqual(e)))}const DC=new mt(ve.comparator),jC=new Ut(ve.comparator);function Ve(...r){let e=jC;for(const n of r)e=e.add(n);return e}const MC=new Ut(Oe);function OC(){return MC}function Cg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ad(e)?"-0":e}}function jx(r){return{integerValue:""+r}}function VC(r,e){return oC(e)?jx(e):Cg(r,e)}class Vd{constructor(){this._=void 0}}function PC(r,e,n){return r instanceof Bc?(function(o,c){const h={fields:{[gx]:{stringValue:px},[vx]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Ag(c)&&(c=Dd(c)),c&&(h.fields[yx]=c),{mapValue:h}})(n,e):r instanceof Hc?Ox(r,e):r instanceof Fc?Vx(r,e):(function(o,c){const h=Mx(o,c),m=Y_(h)+Y_(o.Ae);return zp(h)&&zp(o.Ae)?jx(m):Cg(o.serializer,m)})(r,e)}function UC(r,e,n){return r instanceof Hc?Ox(r,e):r instanceof Fc?Vx(r,e):n}function Mx(r,e){return r instanceof ud?(function(s){return zp(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Bc extends Vd{}class Hc extends Vd{constructor(e){super(),this.elements=e}}function Ox(r,e){const n=Px(e);for(const s of r.elements)n.some((o=>Xr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Fc extends Vd{constructor(e){super(),this.elements=e}}function Vx(r,e){let n=Px(e);for(const s of r.elements)n=n.filter((o=>!Xr(o,s)));return{arrayValue:{values:n}}}class ud extends Vd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Y_(r){return Tt(r.integerValue||r.doubleValue)}function Px(r){return wg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class zC{constructor(e,n){this.field=e,this.transform=n}}function BC(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Hc&&o instanceof Hc||s instanceof Fc&&o instanceof Fc?Qo(s.elements,o.elements,Xr):s instanceof ud&&o instanceof ud?Xr(s.Ae,o.Ae):s instanceof Bc&&o instanceof Bc})(r.transform,e.transform)}class HC{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $h(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Pd{}function Ux(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ig(r.key,Jn.none()):new Xc(r.key,r.data,Jn.none());{const n=r.data,s=Tn.empty();let o=new Ut(nn.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),o=o.add(c)}return new Is(r.key,s,new jn(o.toArray()),Jn.none())}}function FC(r,e,n){r instanceof Xc?(function(o,c,h){const m=o.value.clone(),g=Z_(o.fieldTransforms,c,h.transformResults);m.setAll(g),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Is?(function(o,c,h){if(!$h(o.precondition,c))return void c.convertToUnknownDocument(h.version);const m=Z_(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(zx(o)),g.setAll(m),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Nc(r,e,n,s){return r instanceof Xc?(function(c,h,m,g){if(!$h(c.precondition,h))return m;const p=c.value.clone(),x=J_(c.fieldTransforms,g,h);return p.setAll(x),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof Is?(function(c,h,m,g){if(!$h(c.precondition,h))return m;const p=J_(c.fieldTransforms,g,h),x=h.data;return x.setAll(zx(c)),x.setAll(p),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(c,h,m){return $h(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function qC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=Mx(s.transform,o||null);c!=null&&(n===null&&(n=Tn.empty()),n.set(s.field,c))}return n||null}function X_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Qo(s,o,((c,h)=>BC(c,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Xc extends Pd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Is extends Pd{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function zx(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function Z_(r,e,n){const s=new Map;We(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const c=r[o],h=c.transform,m=e.data.field(c.field);s.set(c.field,UC(h,m,n[o]))}return s}function J_(r,e,n){const s=new Map;for(const o of r){const c=o.transform,h=n.data.field(o.field);s.set(o.field,PC(c,h,e))}return s}class Ig extends Pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GC extends Pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class WC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&FC(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Nc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Nc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Dx();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(o.key)?null:m;const g=Ux(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,((n,s)=>X_(n,s)))&&Qo(this.baseMutations,e.baseMutations,((n,s)=>X_(n,s)))}}class Ng{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){We(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return DC})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,s[h].version);return new Ng(e,n,s,o)}}class $C{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QC{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,ze;function KC(r){switch(r){case ne.OK:return xe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function Bx(r){if(r===void 0)return Ai("GRPC error has no .code"),ne.UNKNOWN;switch(r){case Dt.OK:return ne.OK;case Dt.CANCELLED:return ne.CANCELLED;case Dt.UNKNOWN:return ne.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ne.INTERNAL;case Dt.UNAVAILABLE:return ne.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ne.NOT_FOUND;case Dt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Dt.ABORTED:return ne.ABORTED;case Dt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Dt.DATA_LOSS:return ne.DATA_LOSS;default:return xe(39323,{code:r})}}(ze=Dt||(Dt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function YC(){return new TextEncoder}const XC=new ys([4294967295,4294967295],0);function eE(r){const e=YC().encode(r),n=new nx;return n.update(e),new Uint8Array(n.digest())}function tE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ys([n,s],0),new ys([o,c],0)]}class Lg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Sc(`Invalid padding: ${n}`);if(s<0)throw new Sc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ys.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ys.fromNumber(s)));return o.compare(XC)===1&&(o=new ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=eE(e),[s,o]=tE(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Lg(c,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=eE(e),[s,o]=tE(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ud{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ud(Te.min(),o,new mt(Oe),wi(),Ve())}}class Zc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Zc(s,n,Ve(),Ve(),Ve())}}class Qh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Hx{constructor(e,n){this.targetId=e,this.Ce=n}}class Fx{constructor(e,n,s=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class nE{constructor(){this.ve=0,this.Fe=rE(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:xe(38017,{changeType:c})}})),new Zc(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=rE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ZC{constructor(e){this.Ge=e,this.ze=new Map,this.je=wi(),this.He=Oh(),this.Je=Oh(),this.Ze=new mt(Oe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Hp(c))if(s===0){const h=new ve(c.path);this.et(n,h,ln.newNoDocument(h,Te.min()))}else We(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let h,m;try{h=Ts(s).toUint8Array()}catch(g){if(g instanceof mx)return $o("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Lg(h,o,c)}catch(g){return $o(g instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const m=this.ot(h);if(m){if(c.current&&Hp(m.target)){const g=new ve(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,ln.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.Ke())}}));let s=Ve();this.Je.forEach(((c,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new Ud(e,n,this.Ze,this.je,s);return this.je=wi(),this.He=Oh(),this.Je=Oh(),this.Ze=new mt(Oe),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new nE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ut(Oe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ut(Oe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Oh(){return new mt(ve.comparator)}function rE(){return new mt(ve.comparator)}const JC={asc:"ASCENDING",desc:"DESCENDING"},e8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t8={and:"AND",or:"OR"};class n8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gp(r,e){return r.useProto3Json||Ld(e)?e:{value:e}}function hd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qx(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function r8(r,e){return hd(r,e.toTimestamp())}function Qr(r){return We(!!r,49232),Te.fromTimestamp((function(n){const s=bs(n);return new nt(s.seconds,s.nanos)})(r))}function Dg(r,e){return Wp(r,e).canonicalString()}function Wp(r,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Gx(r){const e=at.fromString(r);return We(Yx(e),10190,{key:e.toString()}),e}function $p(r,e){return Dg(r.databaseId,e.path)}function vp(r,e){const n=Gx(e);if(n.get(1)!==r.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve($x(n))}function Wx(r,e){return Dg(r.databaseId,e)}function i8(r){const e=Gx(r);return e.length===4?at.emptyPath():$x(e)}function Qp(r){return new at(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function $x(r){return We(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function iE(r,e,n){return{name:$p(r,e),fields:n.value.mapValue.fields}}function s8(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(p,x){return p.useProto3Json?(We(x===void 0||typeof x=="string",58123),rn.fromBase64String(x||"")):(We(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),rn.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const x=p.code===void 0?ne.UNKNOWN:Bx(p.code);return new he(x,p.message||"")})(h);n=new Fx(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=vp(r,s.document.name),c=Qr(s.document.updateTime),h=s.document.createTime?Qr(s.document.createTime):Te.min(),m=new Tn({mapValue:{fields:s.document.fields}}),g=ln.newFoundDocument(o,c,h,m),p=s.targetIds||[],x=s.removedTargetIds||[];n=new Qh(p,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=vp(r,s.document),c=s.readTime?Qr(s.readTime):Te.min(),h=ln.newNoDocument(o,c),m=s.removedTargetIds||[];n=new Qh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=vp(r,s.document),c=s.removedTargetIds||[];n=new Qh([],c,o,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,h=new QC(o,c),m=s.targetId;n=new Hx(m,h)}}return n}function a8(r,e){let n;if(e instanceof Xc)n={update:iE(r,e.key,e.value)};else if(e instanceof Ig)n={delete:$p(r,e.key)};else if(e instanceof Is)n={update:iE(r,e.key,e.data),updateMask:p8(e.fieldMask)};else{if(!(e instanceof GC))return xe(16599,{dt:e.type});n={verify:$p(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const m=h.transform;if(m instanceof Bc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Hc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Fc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ud)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw xe(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:r8(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:xe(27497)})(r,e.precondition)),n}function o8(r,e){return r&&r.length>0?(We(e!==void 0,14353),r.map((n=>(function(o,c){let h=o.updateTime?Qr(o.updateTime):Qr(c);return h.isEqual(Te.min())&&(h=Qr(c)),new HC(h,o.transformResults||[])})(n,e)))):[]}function l8(r,e){return{documents:[Wx(r,e.path)]}}function c8(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Wx(r,o);const c=(function(p){if(p.length!==0)return Kx(_r.create(p,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(p){if(p.length!==0)return p.map((x=>(function(A){return{field:Vo(A.field),direction:d8(A.dir)}})(x)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Gp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function u8(r){let e=i8(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){We(s===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(T){const A=Qx(T);return A instanceof _r&&Sx(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(B){return new zc(Po(B.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,Ld(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(T){const A=!!T.before,M=T.values||[];return new cd(M,A)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const A=!T.before,M=T.values||[];return new cd(M,A)})(n.endAt)),wC(e,o,h,c,m,"F",g,p)}function h8(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Qx(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Po(n.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Po(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Po(n.unaryFilter.field);return jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Po(n.unaryFilter.field);return jt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(r):r.fieldFilter!==void 0?(function(n){return jt.create(Po(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return _r.create(n.compositeFilter.filters.map((s=>Qx(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(r):xe(30097,{filter:r})}function d8(r){return JC[r]}function f8(r){return e8[r]}function m8(r){return t8[r]}function Vo(r){return{fieldPath:r.canonicalString()}}function Po(r){return nn.fromServerFormat(r.fieldPath)}function Kx(r){return r instanceof jt?(function(n){if(n.op==="=="){if(G_(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NAN"}};if(q_(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G_(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NAN"}};if(q_(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(n.field),op:f8(n.op),value:n.value}}})(r):r instanceof _r?(function(n){const s=n.getFilters().map((o=>Kx(o)));return s.length===1?s[0]:{compositeFilter:{op:m8(n.op),filters:s}}})(r):xe(54877,{filter:r})}function p8(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Yx(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function Xx(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class fs{constructor(e,n,s,o,c=Te.min(),h=Te.min(),m=rn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class g8{constructor(e){this.yt=e}}function y8(r){const e=u8({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?qp(e,e.limit,"L"):e}class v8{constructor(){this.Sn=new _8}addToCollectionParentIndex(e,n){return this.Sn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(xs.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class _8{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(at.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(at.comparator)).toArray()}}const sE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zx=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(Zx,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class Xo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Xo(0)}static ar(){return new Xo(-1)}}const aE="LruGarbageCollector",E8=1048576;function oE([r,e],[n,s]){const o=Oe(r,n);return o===0?Oe(e,s):o}class x8{constructor(e){this.Pr=e,this.buffer=new Ut(oE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();oE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class b8{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){de(aE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cl(n)?de(aE,"Ignoring IndexedDB error during garbage collection: ",n):await ll(n)}await this.Ar(3e5)}))}}class T8{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Nd.ce);const s=new x8(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(sE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,c,h,m,g,p;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(c=T,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(p=Date.now(),Mo()<=Me.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-x}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function S8(r,e){return new T8(r,e)}class A8{constructor(){this.changes=new Ta((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class w8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class k8{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Nc(s.mutation,o,jn.empty(),nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const o=ua();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let h=Tc();return c.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ua();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let c=wi();const h=Ic(),m=(function(){return Ic()})();return n.forEach(((g,p)=>{const x=s.get(p.key);o.has(p.key)&&(x===void 0||x.mutation instanceof Is)?c=c.insert(p.key,p):x!==void 0?(h.set(p.key,x.mutation.getFieldMask()),Nc(x.mutation,p,x.mutation.getFieldMask(),nt.now())):h.set(p.key,jn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((p,x)=>h.set(p,x))),n.forEach(((p,x)=>m.set(p,new w8(x,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Ic();let o=new mt(((h,m)=>h-m)),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let x=s.get(g)||jn.empty();x=m.applyToLocalView(p,x),s.set(g,x);const T=(o.get(m.batchId)||Ve()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,x=g.value,T=Dx();x.forEach((A=>{if(!c.has(A)){const M=Ux(n.get(A),s.get(A));M!==null&&T.set(A,M),c=c.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,T))}return se.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return kC(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Rx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):se.resolve(ua());let m=Oc,g=c;return h.next((p=>se.forEach(p,((x,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(x)?se.resolve():this.remoteDocumentCache.getEntry(e,x).next((A=>{g=g.insert(x,A)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,g,p,Ve()))).next((x=>({batchId:m,changes:Lx(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let o=Tc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let h=Tc();return this.indexManager.getCollectionParents(e,c).next((m=>se.forEach(m,(g=>{const p=(function(T,A){return new ul(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((x=>{x.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((h=>{c.forEach(((g,p)=>{const x=p.getKey();h.get(x)===null&&(h=h.insert(x,ln.newInvalidDocument(x)))}));let m=Tc();return h.forEach(((g,p)=>{const x=c.get(g);x!==void 0&&Nc(x.mutation,p,jn.empty(),nt.now()),Od(n,p)&&(m=m.insert(g,p))})),m}))}}class R8{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return se.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Qr(o.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:y8(o.bundledQuery),readTime:Qr(o.readTime)}})(n)),se.resolve()}}class C8{constructor(){this.overlays=new mt(ve.comparator),this.Lr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ua();return se.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.bt(e,n,c)})),se.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const o=ua(),c=n.length+1,h=new ve(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new mt(((p,x)=>p-x));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let x=c.get(p.largestBatchId);x===null&&(x=ua(),c=c.insert(p.largestBatchId,x)),x.set(p.getKey(),p)}}const m=ua(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,x)=>m.set(p,x))),!(m.size()>=o)););return se.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new $C(n,s));let c=this.Lr.get(n);c===void 0&&(c=Ve(),this.Lr.set(n,c)),this.Lr.set(n,c.add(s.key))}}class I8{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class jg{constructor(){this.kr=new Ut(qt.Kr),this.qr=new Ut(qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new qt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ve(new at([])),s=new qt(n,e),o=new qt(n,e+1),c=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ve(new at([])),s=new qt(n,e),o=new qt(n,e+1);let c=Ve();return this.qr.forEachInRange([s,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new qt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ve.comparator(e.key,n.key)||Oe(e.Hr,n.Hr)}static Ur(e,n){return Oe(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}class N8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ut(qt.Kr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new WC(c,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new qt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(h)}lookupMutationBatch(e,n){return se.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),c=o<0?0:o;return se.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Sg:this.Yn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);c.push(m)})),se.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(Oe);return n.forEach((o=>{const c=new qt(o,0),h=new qt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(m=>{s=s.add(m.Hr)}))})),se.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;ve.isDocumentKey(c)||(c=c.child(""));const h=new qt(new ve(c),0);let m=new Ut(Oe);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)}),h),se.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){We(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return se.forEach(n.mutations,(o=>{const c=new qt(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new qt(n,0),o=this.Jr.firstAfterOrEqual(s);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class L8{constructor(e){this.ti=e,this.docs=(function(){return new mt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let s=wi();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():ln.newInvalidDocument(o))})),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=wi();const h=n.path,m=new ve(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:x}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||rC(nC(x),s)<=0||(o.has(x.key)||Od(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return se.resolve(c)}getAllFromCollectionGroup(e,n,s,o){xe(9500)}ni(e,n){return se.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new D8(this)}getSize(e){return se.resolve(this.size)}}class D8 extends A8{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),se.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class j8{constructor(e){this.persistence=e,this.ri=new Ta((n=>kg(n)),Rg),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ii=0,this.si=new jg,this.targetCount=0,this.oi=Xo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),se.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Xo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.lr(n),se.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),se.waitFor(c).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),se.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),se.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this.si.containsKey(n))}}class Jx{constructor(e,n){this._i={},this.overlays={},this.ai=new Nd(0),this.ui=!1,this.ui=!0,this.ci=new I8,this.referenceDelegate=e(this),this.li=new j8(this),this.indexManager=new v8,this.remoteDocumentCache=(function(o){return new L8(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new g8(n),this.Pi=new R8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new C8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new N8(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const o=new M8(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return se.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class M8 extends sC{constructor(e){super(),this.currentSequenceNumber=e}}class Mg{constructor(e){this.persistence=e,this.Ri=new jg,this.Ai=null}static Vi(e){return new Mg(e)}get di(){if(this.Ai)return this.Ai;throw xe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,(s=>{const o=ve.fromPath(s);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Te.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class dd{constructor(e,n){this.persistence=e,this.fi=new Ta((s=>lC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=S8(this,n)}static Vi(e,n){return new dd(e,n)}Ti(){}Ii(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return se.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?se.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,c.removeEntry(h,Te.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gh(e.data.value)),n}wr(e,n,s){return se.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return se.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Og{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Ve(),o=Ve();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Og(e,n.fromCache,s,o)}}class O8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class V8{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ok()?8:aC(cn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.gs(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,n,o,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new O8;return this.ys(e,n,h).next((m=>{if(c.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>c.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(Mo()<=Me.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):(Mo()<=Me.DEBUG&&de("QueryEngine","Query:",Oo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Mo()<=Me.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(n))):se.resolve())}gs(e,n){if(K_(n))return se.resolve(null);let s=$r(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=qp(n,null,"F"),s=$r(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=Ve(...c);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.bs(n,m);return this.Ss(n,p,h,g.readTime)?this.gs(e,qp(n,null,"F")):this.Ds(e,p,n,g)}))))})))))}ps(e,n,s,o){return K_(n)||o.isEqual(Te.min())?se.resolve(null):this.fs.getDocuments(e,s).next((c=>{const h=this.bs(n,c);return this.Ss(n,h,s,o)?se.resolve(null):(Mo()<=Me.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Oo(n)),this.Ds(e,h,n,tC(o,Oc)).next((m=>m)))}))}bs(e,n){let s=new Ut(Ix(e));return n.forEach(((o,c)=>{Od(e,c)&&(s=s.add(c))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,s){return Mo()<=Me.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Oo(n)),this.fs.getDocumentsMatchingQuery(e,n,xs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const Vg="LocalStore",P8=3e8;class U8{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new mt(Oe),this.Fs=new Ta((c=>kg(c)),Rg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k8(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function z8(r,e,n,s){return new U8(r,e,n,s)}async function eb(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],m=[];let g=Ve();for(const p of o){h.push(p.batchId);for(const x of p.mutations)g=g.add(x.key)}for(const p of c){m.push(p.batchId);for(const x of p.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ns:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function B8(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,x){const T=p.batch,A=T.keys();let M=se.resolve();return A.forEach((B=>{M=M.next((()=>x.getEntry(g,B))).next((Q=>{const $=p.docVersions.get(B);We($!==null,48541),Q.version.compareTo($)<0&&(T.applyToRemoteDocument(Q,p),Q.isValidDocument()&&(Q.setReadTime(p.commitVersion),x.addEntry(Q)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Ve();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function tb(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function H8(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((x,T)=>{const A=o.get(T);if(!A)return;m.push(n.li.removeMatchingKeys(c,x.removedDocuments,T).next((()=>n.li.addMatchingKeys(c,x.addedDocuments,T))));let M=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?M=M.withResumeToken(rn.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):x.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(x.resumeToken,s)),o=o.insert(T,M),(function(Q,$,Z){return Q.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=P8?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(A,M,x)&&m.push(n.li.updateTargetData(c,M))}));let g=wi(),p=Ve();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),m.push(F8(c,h,e.documentUpdates).next((x=>{g=x.Bs,p=x.Ls}))),!s.isEqual(Te.min())){const x=n.li.getLastRemoteSnapshotVersion(c).next((T=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(x)}return se.waitFor(m).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,p))).next((()=>g))})).then((c=>(n.vs=o,c)))}function F8(r,e,n){let s=Ve(),o=Ve();return n.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let h=wi();return n.forEach(((m,g)=>{const p=c.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):de(Vg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function q8(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Sg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function G8(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((c=>c?(o=c,se.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new fs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Kp(r,e,n){const s=Ae(r),o=s.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!cl(h))throw h;de(Vg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function lE(r,e,n){const s=Ae(r);let o=Te.min(),c=Ve();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,x){const T=Ae(g),A=T.Fs.get(x);return A!==void 0?se.resolve(T.vs.get(A)):T.li.getTargetData(p,x)})(s,h,$r(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((g=>{c=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Te.min(),n?c:Ve()))).next((m=>(W8(s,IC(e),m),{documents:m,ks:c})))))}function W8(r,e,n){let s=r.Ms.get(e)||Te.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(e,s)}class cE{constructor(){this.activeTargetIds=OC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $8{constructor(){this.vo=new cE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new cE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Q8{Mo(e){}shutdown(){}}const uE="ConnectivityMonitor";class hE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){de(uE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){de(uE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vh=null;function Yp(){return Vh===null?Vh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vh++,"0x"+Vh.toString(16)}const _p="RestConnection",K8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Y8{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===od?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,c){const h=Yp(),m=this.Qo(e,n.toUriEncodedString());de(_p,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:p}=new URL(m),x=rl(p);return this.zo(e,m,g,s,x).then((T=>(de(_p,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw $o(_p,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}jo(e,n,s,o,c,h){return this.Wo(e,n,s,o,c)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const s=K8[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class X8{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const an="WebChannelConnection",_c=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Fo extends Y8{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Fo.c_){const e=ax();_c(e,sx.STAT_EVENT,(n=>{n.stat===Vp.PROXY?de(an,"STAT_EVENT: detected buffering proxy"):n.stat===Vp.NOPROXY&&de(an,"STAT_EVENT: detected no buffering proxy")})),Fo.c_=!0}}zo(e,n,s,o,c){const h=Yp();return new Promise(((m,g)=>{const p=new rx;p.setWithCredentials(!0),p.listenOnce(ix.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case qh.NO_ERROR:const T=p.getResponseJson();de(an,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case qh.TIMEOUT:de(an,`RPC '${e}' ${h} timed out`),g(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const A=p.getStatus();if(de(an,`RPC '${e}' ${h} failed with status:`,A,"response text:",p.getResponseText()),A>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const B=M?.error;if(B&&B.status&&B.message){const Q=(function(Z){const X=Z.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(X)>=0?X:ne.UNKNOWN})(B.status);g(new he(Q,B.message))}else g(new he(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new he(ne.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{de(an,`RPC '${e}' ${h} completed.`)}}));const x=JSON.stringify(o);de(an,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",x,s,15)}))}T_(e,n,s){const o=Yp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const p=c.join("");de(an,`Creating RPC '${e}' stream ${o}: ${p}`,m);const x=h.createWebChannel(p,m);this.I_(x);let T=!1,A=!1;const M=new X8({Ho:B=>{A?de(an,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(T||(de(an,`Opening RPC '${e}' stream ${o} transport.`),x.open(),T=!0),de(an,`RPC '${e}' stream ${o} sending:`,B),x.send(B))},Jo:()=>x.close()});return _c(x,bc.EventType.OPEN,(()=>{A||(de(an,`RPC '${e}' stream ${o} transport opened.`),M.i_())})),_c(x,bc.EventType.CLOSE,(()=>{A||(A=!0,de(an,`RPC '${e}' stream ${o} transport closed`),M.o_(),this.E_(x))})),_c(x,bc.EventType.ERROR,(B=>{A||(A=!0,$o(an,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),M.o_(new he(ne.UNAVAILABLE,"The operation could not be completed")))})),_c(x,bc.EventType.MESSAGE,(B=>{if(!A){const Q=B.data[0];We(!!Q,16349);const $=Q,Z=$?.error||$[0]?.error;if(Z){de(an,`RPC '${e}' stream ${o} received error:`,Z);const X=Z.status;let oe=(function(ae){const C=Dt[ae];if(C!==void 0)return Bx(C)})(X),z=Z.message;oe===void 0&&(oe=ne.INTERNAL,z="Unknown error status: "+X+" with message "+Z.message),A=!0,M.o_(new he(oe,z)),x.close()}else de(an,`RPC '${e}' stream ${o} received:`,Q),M.__(Q)}})),Fo.u_(),setTimeout((()=>{M.s_()}),0),M}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ox()}}function Z8(r){return new Fo(r)}function Ep(){return typeof document<"u"?document:null}function zd(r){return new n8(r,!0)}Fo.c_=!1;class nb{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const dE="PersistentStream";class rb{constructor(e,n,s,o,c,h,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(dE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(de(dE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class J8 extends rb{constructor(e,n,s,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=s8(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Te.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?Qr(h.readTime):Te.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Qp(this.serializer),n.addTarget=(function(c,h){let m;const g=h.target;if(m=Hp(g)?{documents:l8(c,g)}:{query:c8(c,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=qx(c,h.resumeToken);const p=Gp(c,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Te.min())>0){m.readTime=hd(c,h.snapshotVersion.toTimestamp());const p=Gp(c,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=h8(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Qp(this.serializer),n.removeTarget=e,this.K_(n)}}class eI extends rb{constructor(e,n,s,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=o8(e.writeResults,e.commitTime),s=Qr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Qp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>a8(this.serializer,s)))};this.K_(n)}}class tI{}class nI extends tI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,Wp(n,s),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ne.UNKNOWN,c.toString())}))}jo(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Wp(n,s),o,h,m,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(ne.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function rI(r,e,n,s){return new nI(r,e,n,s)}class iI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ai(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ya="RemoteStore";class sI{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{Sa(this)&&(de(ya,"Restarting streams for network reachability change."),await(async function(g){const p=Ae(g);p.Ea.add(4),await Jc(p),p.Va.set("Unknown"),p.Ea.delete(4),await Bd(p)})(this))}))})),this.Va=new iI(s,o)}}async function Bd(r){if(Sa(r))for(const e of r.Ra)await e(!0)}async function Jc(r){for(const e of r.Ra)await e(!1)}function ib(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Bg(n)?zg(n):hl(n).O_()&&Ug(n,e))}function Pg(r,e){const n=Ae(r),s=hl(n);n.Ia.delete(e),s.O_()&&sb(n,e),n.Ia.size===0&&(s.O_()?s.L_():Sa(n)&&n.Va.set("Unknown"))}function Ug(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hl(r).Z_(e)}function sb(r,e){r.da.$e(e),hl(r).X_(e)}function zg(r){r.da=new ZC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),hl(r).start(),r.Va.ua()}function Bg(r){return Sa(r)&&!hl(r).x_()&&r.Ia.size>0}function Sa(r){return Ae(r).Ea.size===0}function ab(r){r.da=void 0}async function aI(r){r.Va.set("Online")}async function oI(r){r.Ia.forEach(((e,n)=>{Ug(r,e)}))}async function lI(r,e){ab(r),Bg(r)?(r.Va.ha(e),zg(r)):r.Va.set("Unknown")}async function cI(r,e,n){if(r.Va.set("Online"),e instanceof Fx&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){de(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await fd(r,s)}else if(e instanceof Qh?r.da.Xe(e):e instanceof Hx?r.da.st(e):r.da.tt(e),!n.isEqual(Te.min()))try{const s=await tb(r.localStore);n.compareTo(s)>=0&&await(function(c,h){const m=c.da.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(p);x&&c.Ia.set(p,x.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(rn.EMPTY_BYTE_STRING,x.snapshotVersion)),sb(c,g);const T=new fs(x.target,g,p,x.sequenceNumber);Ug(c,T)})),c.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){de(ya,"Failed to raise snapshot:",s),await fd(r,s)}}async function fd(r,e,n){if(!cl(e))throw e;r.Ea.add(1),await Jc(r),r.Va.set("Offline"),n||(n=()=>tb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{de(ya,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Bd(r)}))}function ob(r,e){return e().catch((n=>fd(r,n,e)))}async function Hd(r){const e=Ae(r),n=As(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sg;for(;uI(e);)try{const o=await q8(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,hI(e,o)}catch(o){await fd(e,o)}lb(e)&&cb(e)}function uI(r){return Sa(r)&&r.Ta.length<10}function hI(r,e){r.Ta.push(e);const n=As(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function lb(r){return Sa(r)&&!As(r).x_()&&r.Ta.length>0}function cb(r){As(r).start()}async function dI(r){As(r).ra()}async function fI(r){const e=As(r);for(const n of r.Ta)e.ea(n.mutations)}async function mI(r,e,n){const s=r.Ta.shift(),o=Ng.from(s,e,n);await ob(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Hd(r)}async function pI(r,e){e&&As(r).Y_&&await(async function(s,o){if((function(h){return KC(h)&&h!==ne.ABORTED})(o.code)){const c=s.Ta.shift();As(s).B_(),await ob(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Hd(s)}})(r,e),lb(r)&&cb(r)}async function fE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),de(ya,"RemoteStore received new credentials");const s=Sa(n);n.Ea.add(3),await Jc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bd(n)}async function gI(r,e){const n=Ae(r);e?(n.Ea.delete(2),await Bd(n)):e||(n.Ea.add(2),await Jc(n),n.Va.set("Unknown"))}function hl(r){return r.ma||(r.ma=(function(n,s,o){const c=Ae(n);return c.sa(),new J8(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:aI.bind(null,r),Yo:oI.bind(null,r),t_:lI.bind(null,r),J_:cI.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Bg(r)?zg(r):r.Va.set("Unknown")):(await r.ma.stop(),ab(r))}))),r.ma}function As(r){return r.fa||(r.fa=(function(n,s,o){const c=Ae(n);return c.sa(),new eI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:dI.bind(null,r),t_:pI.bind(null,r),ta:fI.bind(null,r),na:mI.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Hd(r)):(await r.fa.stop(),r.Ta.length>0&&(de(ya,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Hg{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const h=Date.now()+s,m=new Hg(e,n,h,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fg(r,e){if(Ai("AsyncQueue",`${e}: ${r}`),cl(r))return new he(ne.UNAVAILABLE,`${e}: ${r}`);throw r}class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=Tc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new qo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class mE{constructor(){this.ga=new mt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Zo{constructor(e,n,s,o,c,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,c){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Zo(e,n,qo.emptySet(n),h,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class yI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class vI{constructor(){this.queries=pE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),c=o.queries;o.queries=pE(),c.forEach(((h,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function pE(){return new Ta((r=>Cx(r)),Md)}async function qg(r,e){const n=Ae(r);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new yI,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Fg(h,`Initialization of query '${Oo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Wg(n)}async function Gg(r,e){const n=Ae(r),s=e.query;let o=3;const c=n.queries.get(s);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function _I(r,e){const n=Ae(r);let s=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&Wg(n)}function EI(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(n);s.queries.delete(e)}function Wg(r){r.Ca.forEach((e=>{e.next()}))}var Xp,gE;(gE=Xp||(Xp={})).Ma="default",gE.Cache="cache";class $g{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Zo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xp.Cache}}class ub{constructor(e){this.key=e}}class hb{constructor(e){this.key=e}}class xI{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.eu=Ix(e),this.tu=new qo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new mE,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,T)=>{const A=o.get(x),M=Od(this.query,T)?T:null,B=!!A&&this.mutatedKeys.has(A.key),Q=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let $=!1;A&&M?A.data.isEqual(M.data)?B!==Q&&(s.track({type:3,doc:M}),$=!0):this.su(A,M)||(s.track({type:2,doc:M}),$=!0,(g&&this.eu(M,g)>0||p&&this.eu(M,p)<0)&&(m=!0)):!A&&M?(s.track({type:0,doc:M}),$=!0):A&&!M&&(s.track({type:1,doc:A}),$=!0,(g||p)&&(m=!0)),$&&(M?(h=h.add(M),c=Q?c.add(x):c.delete(x)):(h=h.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),c=c.delete(x.key),s.track({type:1,doc:x})}return{tu:h,iu:s,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((x,T)=>(function(M,B){const Q=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:$})}};return Q(M)-Q(B)})(x.type,T.type)||this.eu(x.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Xa;return this.Xa=g,h.length!==0||p?{snapshot:new Zo(this.query,e.tu,c,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new hb(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new ub(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Qg="SyncEngine";class bI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class TI{constructor(e){this.key=e,this.hu=!1}}class SI{constructor(e,n,s,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ta((m=>Cx(m)),Md),this.Iu=new Map,this.Eu=new Set,this.Ru=new mt(ve.comparator),this.Au=new Map,this.Vu=new jg,this.du={},this.mu=new Map,this.fu=Xo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AI(r,e,n=!0){const s=yb(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await db(s,e,n,!0),o}async function wI(r,e){const n=yb(r);await db(n,e,!0,!1)}async function db(r,e,n,s){const o=await G8(r.localStore,$r(e)),c=o.targetId,h=r.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await kI(r,e,c,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&ib(r.remoteStore,o),m}async function kI(r,e,n,s,o){r.pu=(T,A,M)=>(async function(Q,$,Z,X){let oe=$.view.ru(Z);oe.Ss&&(oe=await lE(Q.localStore,$.query,!1).then((({documents:C})=>$.view.ru(C,oe))));const z=X&&X.targetChanges.get($.targetId),le=X&&X.targetMismatches.get($.targetId)!=null,ae=$.view.applyChanges(oe,Q.isPrimaryClient,z,le);return vE(Q,$.targetId,ae.au),ae.snapshot})(r,T,A,M);const c=await lE(r.localStore,e,!0),h=new xI(e,c.ks),m=h.ru(c.documents),g=Zc.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=h.applyChanges(m,r.isPrimaryClient,g);vE(r,n,p.au);const x=new bI(e,n,h);return r.Tu.set(e,x),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function RI(r,e,n){const s=Ae(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((h=>!Md(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Kp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Pg(s.remoteStore,o.targetId),Zp(s,o.targetId)})).catch(ll)):(Zp(s,o.targetId),await Kp(s.localStore,o.targetId,!0))}async function CI(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Pg(n.remoteStore,s.targetId))}async function II(r,e,n){const s=VI(r);try{const o=await(function(h,m){const g=Ae(h),p=nt.now(),x=m.reduce(((M,B)=>M.add(B.key)),Ve());let T,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let B=wi(),Q=Ve();return g.xs.getEntries(M,x).next(($=>{B=$,B.forEach(((Z,X)=>{X.isValidDocument()||(Q=Q.add(Z))}))})).next((()=>g.localDocuments.getOverlayedDocuments(M,B))).next(($=>{T=$;const Z=[];for(const X of m){const oe=qC(X,T.get(X.key).overlayedDocument);oe!=null&&Z.push(new Is(X.key,oe,xx(oe.value.mapValue),Jn.exists(!0)))}return g.mutationQueue.addMutationBatch(M,p,Z,m)})).next(($=>{A=$;const Z=$.applyToLocalDocumentSet(T,Q);return g.documentOverlayCache.saveOverlays(M,$.batchId,Z)}))})).then((()=>({batchId:A.batchId,changes:Lx(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.du[h.currentUser.toKey()];p||(p=new mt(Oe)),p=p.insert(m,g),h.du[h.currentUser.toKey()]=p})(s,o.batchId,n),await eu(s,o.changes),await Hd(s.remoteStore)}catch(o){const c=Fg(o,"Failed to persist write");n.reject(c)}}async function fb(r,e){const n=Ae(r);try{const s=await H8(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?We(h.hu,14607):o.removedDocuments.size>0&&(We(h.hu,42227),h.hu=!1))})),await eu(n,s,e)}catch(s){await ll(s)}}function yE(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=Ae(h);g.onlineState=m;let p=!1;g.queries.forEach(((x,T)=>{for(const A of T.ba)A.va(m)&&(p=!0)})),p&&Wg(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function NI(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let h=new mt(ve.comparator);h=h.insert(c,ln.newNoDocument(c,Te.min()));const m=Ve().add(c),g=new Ud(Te.min(),new Map,new mt(Oe),h,m);await fb(s,g),s.Ru=s.Ru.remove(c),s.Au.delete(e),Kg(s)}else await Kp(s.localStore,e,!1).then((()=>Zp(s,e,n))).catch(ll)}async function LI(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await B8(n.localStore,e);pb(n,s,null),mb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await eu(n,o)}catch(o){await ll(o)}}async function DI(r,e,n){const s=Ae(r);try{const o=await(function(h,m){const g=Ae(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let x;return g.mutationQueue.lookupMutationBatch(p,m).next((T=>(We(T!==null,37113),x=T.keys(),g.mutationQueue.removeMutationBatch(p,T)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,x,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,x))).next((()=>g.localDocuments.getDocuments(p,x)))}))})(s.localStore,e);pb(s,e,n),mb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await eu(s,o)}catch(o){await ll(o)}}function mb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function pb(r,e,n){const s=Ae(r);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Zp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||gb(r,s)}))}function gb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Pg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Kg(r))}function vE(r,e,n){for(const s of n)s instanceof ub?(r.Vu.addReference(s.key,e),jI(r,s)):s instanceof hb?(de(Qg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||gb(r,s.key)):xe(19791,{wu:s})}function jI(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(de(Qg,"New document in limbo: "+n),r.Eu.add(s),Kg(r))}function Kg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ve(at.fromString(e)),s=r.fu.next();r.Au.set(s,new TI(n)),r.Ru=r.Ru.insert(n,s),ib(r.remoteStore,new fs($r(jd(n.path)),s,"TargetPurposeLimboResolution",Nd.ce))}}async function eu(r,e,n){const s=Ae(r),o=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const x=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(p){o.push(p);const x=Og.Es(g.targetId,p);c.push(x)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(g,p){const x=Ae(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>se.forEach(p,(A=>se.forEach(A.Ts,(M=>x.persistence.referenceDelegate.addReference(T,A.targetId,M))).next((()=>se.forEach(A.Is,(M=>x.persistence.referenceDelegate.removeReference(T,A.targetId,M)))))))))}catch(T){if(!cl(T))throw T;de(Vg,"Failed to update sequence numbers: "+T)}for(const T of p){const A=T.targetId;if(!T.fromCache){const M=x.vs.get(A),B=M.snapshotVersion,Q=M.withLastLimboFreeSnapshotVersion(B);x.vs=x.vs.insert(A,Q)}}})(s.localStore,c))}async function MI(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){de(Qg,"User change. New user:",e.toKey());const s=await eb(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new he(ne.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await eu(n,s.Ns)}}function OI(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function yb(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=fb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NI.bind(null,e),e.Pu.J_=_I.bind(null,e.eventManager),e.Pu.yu=EI.bind(null,e.eventManager),e}function VI(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DI.bind(null,e),e}class md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return z8(this.persistence,new V8,e.initialUser,this.serializer)}Cu(e){return new Jx(Mg.Vi,this.serializer)}Du(e){return new $8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}md.provider={build:()=>new md};class PI extends md{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof dd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new b8(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new Jx((s=>dd.Vi(s,n)),this.serializer)}}class Jp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>yE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=MI.bind(null,this.syncEngine),await gI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vI})()}createDatastore(e){const n=zd(e.databaseInfo.databaseId),s=Z8(e.databaseInfo);return rI(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,h,m){return new sI(s,o,c,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>yE(this.syncEngine,n,0)),(function(){return hE.v()?new hE:new Q8})())}createSyncEngine(e,n){return(function(o,c,h,m,g,p,x){const T=new SI(o,c,h,m,g,p);return x&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);de(ya,"RemoteStore shutting down."),s.Ea.add(5),await Jc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jp.provider={build:()=>new Jp};class Yg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ws="FirestoreClient";class UI{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=Tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{de(ws,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(de(ws,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Fg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function xp(r,e){r.asyncQueue.verifyOperationInProgress(),de(ws,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await eb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function _E(r,e){r.asyncQueue.verifyOperationInProgress();const n=await zI(r);de(ws,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>fE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>fE(e.remoteStore,o))),r._onlineComponents=e}async function zI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(ws,"Using user provided OfflineComponentProvider");try{await xp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;$o("Error using user provided cache. Falling back to memory cache: "+n),await xp(r,new md)}}else de(ws,"Using default OfflineComponentProvider"),await xp(r,new PI(void 0));return r._offlineComponents}async function vb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(ws,"Using user provided OnlineComponentProvider"),await _E(r,r._uninitializedComponentsProvider._online)):(de(ws,"Using default OnlineComponentProvider"),await _E(r,new Jp))),r._onlineComponents}function BI(r){return vb(r).then((e=>e.syncEngine))}async function pd(r){const e=await vb(r),n=e.eventManager;return n.onListen=AI.bind(null,e.syncEngine),n.onUnlisten=RI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CI.bind(null,e.syncEngine),n}function HI(r,e,n,s){const o=new Yg(s),c=new $g(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>qg(await pd(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>Gg(await pd(r),c)))}}function FI(r,e,n={}){const s=new xi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,g,p){const x=new Yg({next:A=>{x.Nu(),h.enqueueAndForget((()=>Gg(c,T)));const M=A.docs.has(m);!M&&A.fromCache?p.reject(new he(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&A.fromCache&&g&&g.source==="server"?p.reject(new he(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new $g(jd(m.path),x,{includeMetadataChanges:!0,Ka:!0});return qg(c,T)})(await pd(r),r.asyncQueue,e,n,s))),s.promise}function qI(r,e,n={}){const s=new xi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,g,p){const x=new Yg({next:A=>{x.Nu(),h.enqueueAndForget((()=>Gg(c,T))),A.fromCache&&g.source==="server"?p.reject(new he(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new $g(m,x,{includeMetadataChanges:!0,Ka:!0});return qg(c,T)})(await pd(r),r.asyncQueue,e,n,s))),s.promise}function GI(r,e){const n=new xi;return r.asyncQueue.enqueueAndForget((async()=>II(await BI(r),e,n))),n.promise}function _b(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const WI="ComponentProvider",EE=new Map;function $I(r,e,n,s,o){return new hC(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,_b(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const Eb="firestore.googleapis.com",xE=!0;class bE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Eb,this.ssl=xE}else this.host=e.host,this.ssl=e.ssl??xE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<E8)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_b(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new q6;switch(s.type){case"firstParty":return new Q6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=EE.get(n);s&&(de(WI,"Removing Datastore"),EE.delete(n),s.terminate())})(this),Promise.resolve()}}function QI(r,e,n,s={}){r=Sn(r,Fd);const o=rl(e),c=r._getSettings(),h={...c,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(d2(`https://${m}`),f2("Firestore",!0)),c.host!==Eb&&c.host!==m&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:s};if(!Es(g,h)&&(r._setSettings(g),s.mockUserToken)){let p,x;if(typeof s.mockUserToken=="string")p=s.mockUserToken,x=on.MOCK_USER;else{p=Jw(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new on(T)}r._authCredentials=new G6(new cx(p,x))}}class Ns{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Yc(n,yt._jsonSchema))return new yt(e,s||null,new ve(at.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Mt("string",yt._jsonSchemaVersion),referencePath:Mt("string")};class vs extends Ns{constructor(e,n,s){super(e,n,jd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ve(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function fn(r,e,...n){if(r=vt(r),ux("collection","path",e),r instanceof Fd){const s=at.fromString(e,...n);return M_(s),new vs(r,null,s)}{if(!(r instanceof yt||r instanceof vs))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return M_(s),new vs(r.firestore,null,s)}}function Gt(r,e,...n){if(r=vt(r),arguments.length===1&&(e=Tg.newId()),ux("doc","path",e),r instanceof Fd){const s=at.fromString(e,...n);return j_(s),new yt(r,null,new ve(s))}{if(!(r instanceof yt||r instanceof vs))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return j_(s),new yt(r.firestore,r instanceof vs?r.converter:null,new ve(s))}}const TE="AsyncQueue";class SE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nb(this,"async_queue_retry"),this._c=()=>{const s=Ep();s&&de(TE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new xi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!cl(e))throw e;de(TE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ai("INTERNAL UNHANDLED ERROR: ",AE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Hg.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:AE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function AE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ki extends Fd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new SE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new SE(e),this._firestoreClient=void 0,await e}}}function KI(r,e){const n=typeof r=="object"?r:fg(),s=typeof r=="string"?r:od,o=xa(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=Xw("firestore");c&&QI(o,...c)}return o}function qd(r){if(r._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||YI(r),r._firestoreClient}function YI(r){const e=r._freezeSettings(),n=$I(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new UI(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(rn.fromBase64String(e))}catch(n){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yc(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Mt("string",Xn._jsonSchemaVersion),bytes:Mt("string")};class Xg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gd{constructor(e){this._methodName=e}}class Kr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Kr._jsonSchemaVersion}}static fromJSON(e){if(Yc(e,Kr._jsonSchema))return new Kr(e.latitude,e.longitude)}}Kr._jsonSchemaVersion="firestore/geoPoint/1.0",Kr._jsonSchema={type:Mt("string",Kr._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class gr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yc(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gr(e.vectorValues);throw new he(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:Mt("string",gr._jsonSchemaVersion),vectorValues:Mt("object")};const XI=/^__.*__$/;class ZI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xc(e,this.data,n,this.fieldTransforms)}}class xb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{dataSource:r})}}class Zg{constructor(e,n,s,o,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Zg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return gd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(bb(this.dataSource)&&XI.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class JI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||zd(e)}createContext(e,n,s,o=!1){return new Zg({dataSource:e,methodName:n,targetDoc:s,path:nn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wd(r){const e=r._freezeSettings(),n=zd(r._databaseId);return new JI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Tb(r,e,n,s,o,c={}){const h=r.createContext(c.merge||c.mergeFields?2:0,e,n,o);e0("Data must be an object, but it was:",h,s);const m=Sb(s,h);let g,p;if(c.merge)g=new jn(h.fieldMask),p=h.fieldTransforms;else if(c.mergeFields){const x=[];for(const T of c.mergeFields){const A=Jo(e,T,n);if(!h.contains(A))throw new he(ne.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);kb(x,A)||x.push(A)}g=new jn(x),p=h.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,p=h.fieldTransforms;return new ZI(new Tn(m),g,p)}class $d extends Gd{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $d}}class Jg extends Gd{_toFieldTransform(e){return new zC(e.path,new Bc)}isEqual(e){return e instanceof Jg}}function eN(r,e,n,s){const o=r.createContext(1,e,n);e0("Data must be an object, but it was:",o,s);const c=[],h=Tn.empty();Cs(s,((g,p)=>{const x=wb(e,g,n);p=vt(p);const T=o.childContextForFieldPath(x);if(p instanceof $d)c.push(x);else{const A=tu(p,T);A!=null&&(c.push(x),h.set(x,A))}}));const m=new jn(c);return new xb(h,m,o.fieldTransforms)}function tN(r,e,n,s,o,c){const h=r.createContext(1,e,n),m=[Jo(e,s,n)],g=[o];if(c.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)m.push(Jo(e,c[A])),g.push(c[A+1]);const p=[],x=Tn.empty();for(let A=m.length-1;A>=0;--A)if(!kb(p,m[A])){const M=m[A];let B=g[A];B=vt(B);const Q=h.childContextForFieldPath(M);if(B instanceof $d)p.push(M);else{const $=tu(B,Q);$!=null&&(p.push(M),x.set(M,$))}}const T=new jn(p);return new xb(x,T,h.fieldTransforms)}function nN(r,e,n,s=!1){return tu(n,r.createContext(s?4:3,e))}function tu(r,e){if(Ab(r=vt(r)))return e0("Unsupported field value:",e,r),Sb(r,e);if(r instanceof Gd)return(function(s,o){if(!bb(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let h=0;for(const m of s){let g=tu(m,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return VC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=nt.fromDate(s);return{timestampValue:hd(o.serializer,c)}}if(s instanceof nt){const c=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hd(o.serializer,c)}}if(s instanceof Kr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xn)return{bytesValue:qx(o.serializer,s._byteString)};if(s instanceof yt){const c=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof gr)return(function(h,m){const g=h instanceof gr?h.toArray():h;return{mapValue:{fields:{[_x]:{stringValue:Ex},[ld]:{arrayValue:{values:g.map((x=>{if(typeof x!="number")throw m.createError("VectorValues must only contain numeric values.");return Cg(m.serializer,x)}))}}}}}})(s,o);if(Xx(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Id(s)}`)})(r,e)}function Sb(r,e){const n={};return fx(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(r,((s,o)=>{const c=tu(o,e.childContextForField(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function Ab(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof nt||r instanceof Kr||r instanceof Xn||r instanceof yt||r instanceof Gd||r instanceof gr||Xx(r))}function e0(r,e,n){if(!Ab(n)||!hx(n)){const s=Id(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function Jo(r,e,n){if((e=vt(e))instanceof Xg)return e._internalPath;if(typeof e=="string")return wb(r,e);throw gd("Field path arguments must be of type string or ",r,!1,void 0,n)}const rN=new RegExp("[~\\*/\\[\\]]");function wb(r,e,n){if(e.search(rN)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Xg(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function gd(r,e,n,s,o){const c=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new he(ne.INVALID_ARGUMENT,m+r+g)}function kb(r,e){return r.some((n=>n.isEqual(e)))}class iN{convertValue(e,n="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Cs(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[ld].arrayValue?.values?.map((s=>Tt(s.doubleValue)));return new gr(n)}convertGeoPoint(e){return new Kr(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Dd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Vc(e));default:return null}}convertTimestamp(e){const n=bs(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);We(Yx(s),9688,{name:e});const o=new Pc(s.get(1),s.get(3)),c=new ve(s.popFirst(5));return o.isEqual(n)||Ai(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class t0 extends iN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function tn(){return new Jg("serverTimestamp")}const wE="@firebase/firestore",kE="4.10.0";function RE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Rb{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Jo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sN extends Rb{data(){return super.data()}}function Cb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n0{}class Ib extends n0{}function _s(r,e,...n){let s=[];e instanceof n0&&s.push(e),s=s.concat(n),(function(c){const h=c.filter((g=>g instanceof i0)).length,m=c.filter((g=>g instanceof r0)).length;if(h>1||h>0&&m>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class r0 extends Ib{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new r0(e,n,s)}_apply(e){const n=this._parse(e);return Lb(e._query,n),new Ns(e.firestore,e.converter,Fp(e._query,n))}_parse(e){const n=Wd(e.firestore);return(function(c,h,m,g,p,x,T){let A;if(p.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){IE(T,x);const B=[];for(const Q of T)B.push(CE(g,c,Q));A={arrayValue:{values:B}}}else A=CE(g,c,T)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||IE(T,x),A=nN(m,h,T,x==="in"||x==="not-in");return jt.create(p,x,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class i0 extends n0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new i0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let h=o;const m=c.getFlattenedFilters();for(const g of m)Lb(h,g),h=Fp(h,g)})(e._query,n),new Ns(e.firestore,e.converter,Fp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class s0 extends Ib{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new s0(e,n)}_apply(e){const n=(function(o,c,h){if(o.startAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zc(c,h)})(e._query,this._field,this._direction);return new Ns(e.firestore,e.converter,CC(e._query,n))}}function Nb(r,e="asc"){const n=e,s=Jo("orderBy",r);return s0._create(s,n)}function CE(r,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rx(e)&&n.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!ve.isDocumentKey(s))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return F_(r,new ve(s))}if(n instanceof yt)return F_(r,n._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Id(n)}.`)}function IE(r,e){if(!Array.isArray(r)||r.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lb(r,e){const n=(function(o,c){for(const h of o)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Db(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class da extends Rb{constructor(e,n,s,o,c,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Jo("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:Mt("string",da._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Kh extends da{data(e={}){return super.data(e)}}class fa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ac(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Kh(this._firestore,this._userDataWriter,s.key,s,new Ac(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new Kh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ac(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new Kh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ac(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,x=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),x=h.indexOf(m.doc.key)),{type:aN(m.type),doc:g,oldIndex:p,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}fa._jsonSchemaVersion="firestore/querySnapshot/1.0",fa._jsonSchema={type:Mt("string",fa._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};function Qd(r){r=Sn(r,yt);const e=Sn(r.firestore,ki),n=qd(e);return FI(n,r._key).then((s=>Mb(e,r,s)))}function ma(r){r=Sn(r,Ns);const e=Sn(r.firestore,ki),n=qd(e),s=new t0(e);return Cb(r._query),qI(n,r._query).then((o=>new fa(e,s,r,o)))}function pr(r,e,n){r=Sn(r,yt);const s=Sn(r.firestore,ki),o=Db(r.converter,e),c=Wd(s);return Xd(s,[Tb(c,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Jn.none())])}function Kd(r,e,n,...s){r=Sn(r,yt);const o=Sn(r.firestore,ki),c=Wd(o);let h;return h=typeof(e=vt(e))=="string"||e instanceof Xg?tN(c,"updateDoc",r._key,e,n,s):eN(c,"updateDoc",r._key,e),Xd(o,[h.toMutation(r._key,Jn.exists(!0))])}function jb(r){return Xd(Sn(r.firestore,ki),[new Ig(r._key,Jn.none())])}function oN(r,e){const n=Sn(r.firestore,ki),s=Gt(r),o=Db(r.converter,e),c=Wd(r.firestore);return Xd(n,[Tb(c,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Jn.exists(!1))]).then((()=>s))}function Yd(r,...e){r=vt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||RE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(RE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let c,h,m;if(r instanceof yt)h=Sn(r.firestore,ki),m=jd(r._key.path),c={next:p=>{e[s]&&e[s](Mb(h,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Sn(r,Ns);h=Sn(p.firestore,ki),m=p._query;const x=new t0(h);c={next:T=>{e[s]&&e[s](new fa(h,x,p,T))},error:e[s+1],complete:e[s+2]},Cb(r._query)}const g=qd(h);return HI(g,m,o,c)}function Xd(r,e){const n=qd(r);return GI(n,e)}function Mb(r,e,n){const s=n.docs.get(e._key),o=new t0(r);return new da(r,o,e._key,s,new Ac(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){F6(il),Yr(new yr("firestore",((s,{instanceIdentifier:o,options:c})=>{const h=s.getProvider("app").getImmediate(),m=new ki(new W6(s.getProvider("auth-internal")),new K6(h,s.getProvider("app-check-internal")),dC(h,o),h);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Zn(wE,kE,e),Zn(wE,kE,"esm2020")})();const Ob="@firebase/installations",a0="0.6.19";const Vb=1e4,Pb=`w:${a0}`,Ub="FIS_v2",lN="https://firebaseinstallations.googleapis.com/v1",cN=3600*1e3,uN="installations",hN="Installations";const dN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},va=new Ea(uN,hN,dN);function zb(r){return r instanceof Er&&r.code.includes("request-failed")}function Bb({projectId:r}){return`${lN}/projects/${r}/installations`}function Hb(r){return{token:r.token,requestStatus:2,expiresIn:mN(r.expiresIn),creationTime:Date.now()}}async function Fb(r,e){const s=(await e.json()).error;return va.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function qb({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function fN(r,{refreshToken:e}){const n=qb(r);return n.append("Authorization",pN(e)),n}async function Gb(r){const e=await r();return e.status>=500&&e.status<600?r():e}function mN(r){return Number(r.replace("s","000"))}function pN(r){return`${Ub} ${r}`}async function gN({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const s=Bb(r),o=qb(r),c=e.getImmediate({optional:!0});if(c){const p=await c.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={fid:n,authVersion:Ub,appId:r.appId,sdkVersion:Pb},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await Gb(()=>fetch(s,m));if(g.ok){const p=await g.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:Hb(p.authToken)}}else throw await Fb("Create Installation",g)}function Wb(r){return new Promise(e=>{setTimeout(e,r)})}function yN(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const vN=/^[cdef][\w-]{21}$/,eg="";function _N(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=EN(r);return vN.test(n)?n:eg}catch{return eg}}function EN(r){return yN(r).substr(0,22)}function Zd(r){return`${r.appName}!${r.appId}`}const $b=new Map;function Qb(r,e){const n=Zd(r);Kb(n,e),xN(n,e)}function Kb(r,e){const n=$b.get(r);if(n)for(const s of n)s(e)}function xN(r,e){const n=bN();n&&n.postMessage({key:r,fid:e}),TN()}let ha=null;function bN(){return!ha&&"BroadcastChannel"in self&&(ha=new BroadcastChannel("[Firebase] FID Change"),ha.onmessage=r=>{Kb(r.data.key,r.data.fid)}),ha}function TN(){$b.size===0&&ha&&(ha.close(),ha=null)}const SN="firebase-installations-database",AN=1,_a="firebase-installations-store";let bp=null;function o0(){return bp||(bp=_2(SN,AN,{upgrade:(r,e)=>{e===0&&r.createObjectStore(_a)}})),bp}async function yd(r,e){const n=Zd(r),o=(await o0()).transaction(_a,"readwrite"),c=o.objectStore(_a),h=await c.get(n);return await c.put(e,n),await o.done,(!h||h.fid!==e.fid)&&Qb(r,e.fid),e}async function Yb(r){const e=Zd(r),s=(await o0()).transaction(_a,"readwrite");await s.objectStore(_a).delete(e),await s.done}async function Jd(r,e){const n=Zd(r),o=(await o0()).transaction(_a,"readwrite"),c=o.objectStore(_a),h=await c.get(n),m=e(h);return m===void 0?await c.delete(n):await c.put(m,n),await o.done,m&&(!h||h.fid!==m.fid)&&Qb(r,m.fid),m}async function l0(r){let e;const n=await Jd(r.appConfig,s=>{const o=wN(s),c=kN(r,o);return e=c.registrationPromise,c.installationEntry});return n.fid===eg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function wN(r){const e=r||{fid:_N(),registrationStatus:0};return Xb(e)}function kN(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(va.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=RN(r,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:CN(r)}:{installationEntry:e}}async function RN(r,e){try{const n=await gN(r,e);return yd(r.appConfig,n)}catch(n){throw zb(n)&&n.customData.serverCode===409?await Yb(r.appConfig):await yd(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function CN(r){let e=await NE(r.appConfig);for(;e.registrationStatus===1;)await Wb(100),e=await NE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await l0(r);return s||n}return e}function NE(r){return Jd(r,e=>{if(!e)throw va.create("installation-not-found");return Xb(e)})}function Xb(r){return IN(r)?{fid:r.fid,registrationStatus:0}:r}function IN(r){return r.registrationStatus===1&&r.registrationTime+Vb<Date.now()}async function NN({appConfig:r,heartbeatServiceProvider:e},n){const s=LN(r,n),o=fN(r,n),c=e.getImmediate({optional:!0});if(c){const p=await c.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={installation:{sdkVersion:Pb,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await Gb(()=>fetch(s,m));if(g.ok){const p=await g.json();return Hb(p)}else throw await Fb("Generate Auth Token",g)}function LN(r,{fid:e}){return`${Bb(r)}/${e}/authTokens:generate`}async function c0(r,e=!1){let n;const s=await Jd(r.appConfig,c=>{if(!Zb(c))throw va.create("not-registered");const h=c.authToken;if(!e&&MN(h))return c;if(h.requestStatus===1)return n=DN(r,e),c;{if(!navigator.onLine)throw va.create("app-offline");const m=VN(c);return n=jN(r,m),m}});return n?await n:s.authToken}async function DN(r,e){let n=await LE(r.appConfig);for(;n.authToken.requestStatus===1;)await Wb(100),n=await LE(r.appConfig);const s=n.authToken;return s.requestStatus===0?c0(r,e):s}function LE(r){return Jd(r,e=>{if(!Zb(e))throw va.create("not-registered");const n=e.authToken;return PN(n)?{...e,authToken:{requestStatus:0}}:e})}async function jN(r,e){try{const n=await NN(r,e),s={...e,authToken:n};return await yd(r.appConfig,s),n}catch(n){if(zb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Yb(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await yd(r.appConfig,s)}throw n}}function Zb(r){return r!==void 0&&r.registrationStatus===2}function MN(r){return r.requestStatus===2&&!ON(r)}function ON(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+cN}function VN(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function PN(r){return r.requestStatus===1&&r.requestTime+Vb<Date.now()}async function UN(r){const e=r,{installationEntry:n,registrationPromise:s}=await l0(e);return s?s.catch(console.error):c0(e).catch(console.error),n.fid}async function zN(r,e=!1){const n=r;return await BN(n),(await c0(n,e)).token}async function BN(r){const{registrationPromise:e}=await l0(r);e&&await e}function HN(r){if(!r||!r.options)throw Tp("App Configuration");if(!r.name)throw Tp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw Tp(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Tp(r){return va.create("missing-app-config-values",{valueName:r})}const Jb="installations",FN="installations-internal",qN=r=>{const e=r.getProvider("app").getImmediate(),n=HN(e),s=xa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},GN=r=>{const e=r.getProvider("app").getImmediate(),n=xa(e,Jb).getImmediate();return{getId:()=>UN(n),getToken:o=>zN(n,o)}};function WN(){Yr(new yr(Jb,qN,"PUBLIC")),Yr(new yr(FN,GN,"PRIVATE"))}WN();Zn(Ob,a0);Zn(Ob,a0,"esm2020");const vd="analytics",$N="firebase_id",QN="origin",KN=60*1e3,YN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",u0="https://www.googletagmanager.com/gtag/js";const mn=new Ad("@firebase/analytics");const XN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Mn=new Ea("analytics","Analytics",XN);function ZN(r){if(!r.startsWith(u0)){const e=Mn.create("invalid-gtag-resource",{gtagURL:r});return mn.warn(e.message),""}return r}function eT(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function JN(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function eL(r,e){const n=JN("firebase-js-sdk-policy",{createScriptURL:ZN}),s=document.createElement("script"),o=`${u0}?l=${r}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function tL(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function nL(r,e,n,s,o,c){const h=s[o];try{if(h)await e[h];else{const g=(await eT(n)).find(p=>p.measurementId===o);g&&await e[g.appId]}}catch(m){mn.error(m)}r("config",o,c)}async function rL(r,e,n,s,o){try{let c=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await eT(n);for(const g of h){const p=m.find(T=>T.measurementId===g),x=p&&e[p.appId];if(x)c.push(x);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),r("event",s,o||{})}catch(c){mn.error(c)}}function iL(r,e,n,s){async function o(c,...h){try{if(c==="event"){const[m,g]=h;await rL(r,e,n,m,g)}else if(c==="config"){const[m,g]=h;await nL(r,e,n,s,m,g)}else if(c==="consent"){const[m,g]=h;r("consent",m,g)}else if(c==="get"){const[m,g,p]=h;r("get",m,g,p)}else if(c==="set"){const[m]=h;r("set",m)}else r(c,...h)}catch(m){mn.error(m)}}return o}function sL(r,e,n,s,o){let c=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=iL(c,r,e,n),{gtagCore:c,wrappedGtag:window[o]}}function aL(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(u0)&&n.src.includes(r))return n;return null}const oL=30,lL=1e3;class cL{constructor(e={},n=lL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const tT=new cL;function uL(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function hL(r){const{appId:e,apiKey:n}=r,s={method:"GET",headers:uL(n)},o=YN.replace("{app-id}",e),c=await fetch(o,s);if(c.status!==200&&c.status!==304){let h="";try{const m=await c.json();m.error?.message&&(h=m.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:h})}return c.json()}async function dL(r,e=tT,n){const{appId:s,apiKey:o,measurementId:c}=r.options;if(!s)throw Mn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw Mn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new pL;return setTimeout(async()=>{m.abort()},KN),nT({appId:s,apiKey:o,measurementId:c},h,m,e)}async function nT(r,{throttleEndTimeMillis:e,backoffCount:n},s,o=tT){const{appId:c,measurementId:h}=r;try{await fL(s,e)}catch(m){if(h)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:h};throw m}try{const m=await hL(r);return o.deleteThrottleMetadata(c),m}catch(m){const g=m;if(!mL(g)){if(o.deleteThrottleMetadata(c),h)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:h};throw m}const p=Number(g?.customData?.httpStatus)===503?n_(n,o.intervalMillis,oL):n_(n,o.intervalMillis),x={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return o.setThrottleMetadata(c,x),mn.debug(`Calling attemptFetch again in ${p} millis`),nT(r,x,s,o)}}function fL(r,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(c),s(Mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mL(r){if(!(r instanceof Er)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class pL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function gL(r,e,n,s,o){if(o&&o.global){r("event",n,s);return}else{const c=await e,h={...s,send_to:c};r("event",n,h)}}async function yL(r,e,n,s){if(s&&s.global){const o={};for(const c of Object.keys(n))o[`user_properties.${c}`]=n[c];return r("set",o),Promise.resolve()}else{const o=await e;r("config",o,{update:!0,user_properties:n})}}async function vL(){if(p2())try{await g2()}catch(r){return mn.warn(Mn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return mn.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _L(r,e,n,s,o,c,h){const m=dL(r);m.then(A=>{n[A.measurementId]=A.appId,r.options.measurementId&&A.measurementId!==r.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>mn.error(A)),e.push(m);const g=vL().then(A=>{if(A)return s.getId()}),[p,x]=await Promise.all([m,g]);aL(c)||eL(c,p.measurementId),o("js",new Date);const T=h?.config??{};return T[QN]="firebase",T.update=!0,x!=null&&(T[$N]=x),o("config",p.measurementId,T),p.measurementId}class EL{constructor(e){this.app=e}_delete(){return delete Go[this.app.options.appId],Promise.resolve()}}let Go={},DE=[];const jE={};let Sp="dataLayer",xL="gtag",ME,h0,OE=!1;function bL(){const r=[];if(m2()&&r.push("This is a browser extension environment."),lk()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Mn.create("invalid-analytics-context",{errorInfo:e});mn.warn(n.message)}}function TL(r,e,n){bL();const s=r.options.appId;if(!s)throw Mn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Mn.create("no-api-key");if(Go[s]!=null)throw Mn.create("already-exists",{id:s});if(!OE){tL(Sp);const{wrappedGtag:c,gtagCore:h}=sL(Go,DE,jE,Sp,xL);h0=c,ME=h,OE=!0}return Go[s]=_L(r,DE,jE,e,ME,Sp,n),new EL(r)}function SL(r=fg()){r=vt(r);const e=xa(r,vd);return e.isInitialized()?e.getImmediate():AL(r)}function AL(r,e={}){const n=xa(r,vd);if(n.isInitialized()){const o=n.getImmediate();if(Es(e,n.getOptions()))return o;throw Mn.create("already-initialized")}return n.initialize({options:e})}function wL(r,e,n){r=vt(r),yL(h0,Go[r.app.options.appId],e,n).catch(s=>mn.error(s))}function kL(r,e,n,s){r=vt(r),gL(h0,Go[r.app.options.appId],e,n,s).catch(o=>mn.error(o))}const VE="@firebase/analytics",PE="0.10.19";function RL(){Yr(new yr(vd,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return TL(s,o,n)},"PUBLIC")),Yr(new yr("analytics-internal",r,"PRIVATE")),Zn(VE,PE),Zn(VE,PE,"esm2020");function r(e){try{const n=e.getProvider(vd).getImmediate();return{logEvent:(s,o,c)=>kL(n,s,o,c),setUserProperties:(s,o)=>wL(n,s,o)}}catch(n){throw Mn.create("interop-component-reg-failed",{reason:n})}}}RL();const CL={apiKey:"AIzaSyA1AWyQt-mKcZTGJ1MaPrf4IoRxxCpRl8w",authDomain:"brewsy-6e24c.firebaseapp.com",projectId:"brewsy-6e24c",storageBucket:"brewsy-6e24c.firebasestorage.app",messagingSenderId:"965602953101",appId:"1:965602953101:web:50f84823c3a2db81da5fc4",measurementId:"G-9T8DY7JG9C"},d0=E2(CL),ks=U6(d0),Ye=KI(d0);SL(d0);const IL=async(r,e)=>{try{return{user:(await SR(ks,r,e)).user,error:null}}catch(n){return{user:null,error:n}}},NL=async()=>{try{return await RR(ks),{error:null}}catch(r){return{error:r}}},LL=r=>kR(ks,r),rT=j.createContext({user:null,loading:!0}),Aa=()=>{const r=j.useContext(rT);if(!r)throw new Error("useAuth must be used within AuthProvider");return r},DL=({children:r})=>{const[e,n]=j.useState(null),[s,o]=j.useState(!0);return j.useEffect(()=>LL(h=>{n(h),o(!1)}),[]),y.jsx(rT.Provider,{value:{user:e,loading:s},children:r})},iT=j.createContext(void 0),jL=({children:r})=>{const[e,n]=j.useState(()=>localStorage.getItem("brewsy-current-space")||"naturopathie"),s=o=>{n(o),localStorage.setItem("brewsy-current-space",o),o==="naturopathie"?(document.body.classList.add("theme-drogue"),document.body.classList.remove("theme-malandrinerie")):(document.body.classList.add("theme-malandrinerie"),document.body.classList.remove("theme-drogue"))};return j.useEffect(()=>{e==="naturopathie"?(document.body.classList.add("theme-drogue"),document.body.classList.remove("theme-malandrinerie")):(document.body.classList.add("theme-malandrinerie"),document.body.classList.remove("theme-drogue"))},[e]),y.jsx(iT.Provider,{value:{currentSpace:e,setCurrentSpace:s},children:r})},sT=()=>{const r=j.useContext(iT);if(r===void 0)throw new Error("useSpace must be used within a SpaceProvider");return r},ML=()=>{const[r,e]=j.useState(""),[n,s]=j.useState(""),[o,c]=j.useState(null),[h,m]=j.useState(!1),g=async p=>{p.preventDefault(),c(null),m(!0);const{error:x}=await IL(r,n);x&&(c("Email ou mot de passe incorrect"),m(!1))};return y.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-card rounded-soft-lg shadow-soft-lg p-8 max-w-md w-full border border-border",children:[y.jsx("h1",{className:"text-3xl font-bold text-peach mb-2 text-center",children:"Cozy Production"}),y.jsx("p",{className:"text-text-secondary text-center mb-6",children:"Connexion"}),y.jsxs("form",{onSubmit:g,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-secondary mb-1",children:"Email"}),y.jsx("input",{id:"email",type:"email",value:r,onChange:p=>e(p.target.value),required:!0,className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all",placeholder:"votre@email.com"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-secondary mb-1",children:"Mot de passe"}),y.jsx("input",{id:"password",type:"password",value:n,onChange:p=>s(p.target.value),required:!0,className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all",placeholder:""})]}),o&&y.jsx("div",{className:"bg-peach-light text-peach-dark px-4 py-2 rounded-soft text-sm border border-peach/30",children:o}),y.jsx("button",{type:"submit",disabled:h,className:"w-full bg-linear-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark disabled:from-text-muted disabled:to-text-muted text-white font-semibold py-3 px-6 rounded-soft shadow-soft hover:shadow-soft-lg transition-all duration-200",children:h?"Connexion...":"Se connecter"})]})]})})},OL=async()=>{const r=Gt(Ye,"configs","default"),e=await Qd(r);return e.exists()?e.data():null},ef=async()=>{const r=fn(Ye,"configs","default","transformations");return(await ma(r)).docs.map(n=>({id:n.id,...n.data()}))},aT=(r,e)=>{const n=fn(Ye,"users",r,"stocks");return Yd(n,s=>{const o=s.docs.map(c=>({...c.data()}));e(o)})},Ap=async(r,e,n,s)=>{const o=Gt(Ye,"users",r,"stocks",e);await pr(o,{crateId:e,label:s,quantity:n,updatedAt:tn()})},f0=(r,e)=>{const n=fn(Ye,"users",r,"prices");return Yd(n,s=>{const o=s.docs.map(c=>({...c.data()}));e(o)})},VL=async(r,e,n)=>{const s=Gt(Ye,"users",r,"prices",e),o=await Qd(s),c=o.exists()?o.data().values:[];await pr(s,{crateId:e,values:[...c,n],updatedAt:tn()})},PL=async(r,e,n)=>{const s=Gt(Ye,"users",r,"prices",e),o=await Qd(s);if(!o.exists())return;const h=o.data().values.filter((m,g)=>g!==n);h.length===0?await jb(s):await Kd(s,{values:h,updatedAt:tn()})},oT=(r,e)=>{const n=fn(Ye,"users",r,"runs"),s=_s(n,Nb("startedAt","desc"));return Yd(s,o=>{const c=o.docs.map(h=>({id:h.id,...h.data()}));e(c)})},UL=async(r,e,n,s,o)=>{const c=fn(Ye,"users",r,"runs"),h=o||new Date,m=nt.fromDate(h),g=nt.fromMillis(m.toMillis()+s*60*60*1e3),p={transformationId:e,inputQuantityUsed:n,startedAt:m,durationHours:s,reducedByAction:!1,endsAt:g,status:"RUNNING",createdAt:tn()};return await pr(Gt(c),p)},zL=async(r,e,n)=>{const s=Gt(Ye,"users",r,"runs",e);await Kd(s,{status:n})},BL=async(r,e,n=1)=>{const s=Gt(Ye,"users",r,"runs",e),o=await Qd(s);if(!o.exists())return;const c=o.data();if(c.reducedByAction)return;const h=nt.fromMillis(c.endsAt.toMillis()-n*60*60*1e3);await Kd(s,{reducedByAction:!0,endsAt:h})},UE=async(r,e)=>{const n=Gt(Ye,"users",r,"runs",e);await jb(n)},lT=(r,e)=>{const n=fn(Ye,"users",r,"history"),s=_s(n,Nb("createdAt","desc"));return Yd(s,o=>{const c=o.docs.map(h=>({id:h.id,...h.data()}));e(c)})},HL=async(r,e,n,s,o)=>{const c=fn(Ye,"users",r,"history"),h={type:"TRANSFORMATION",transformationId:e,startedAt:n,endsAt:s,reducedByAction:o,createdAt:tn()};await pr(Gt(c),h)},FL=async(r,e,n,s,o,c,h)=>{const m=fn(Ye,"users",r,"history"),g={type:"SALE",crateId:e,crateLabel:n,quantitySold:s,estimatedValue:o,actualValue:c,createdAt:tn()};await pr(Gt(m),g)},qL=(r,e)=>r.input.quantity*e,GL=r=>r,WL=(r,e)=>r.tool.price*e,tf=r=>{if(r.length===0)return 0;const e=r.reduce((n,s)=>n+s,0);return Math.round(e/r.length)},tg=(r,e)=>r*e,$L=(r,e)=>{const n=new Map(e.map(s=>[s.crateId,tf(s.values)]));return r.reduce((s,o)=>{const c=n.get(o.crateId)||0;return s+tg(o.quantity,c)},0)},_d=r=>new Date>=r,cT=r=>Math.max(0,r.getTime()-Date.now()),uT=r=>{const e=Math.floor(r/36e5),n=Math.floor(r%(1e3*60*60)/(1e3*60));return e>0?`${e}h ${n}m`:`${n}m`},it=({children:r,className:e="",onClick:n})=>y.jsx("div",{className:`bg-card rounded-soft-lg shadow-soft border border-border card-hover ${e}`,onClick:n,children:r}),st=({children:r,className:e=""})=>y.jsx("div",{className:e,children:r}),Ed=[{id:"crate_zeed",label:"Zeed",icon:""},{id:"crate_pandoxine",label:"Pandoxine",icon:""},{id:"crate_krakenine",label:"Krakenine",icon:""},{id:"crate_psylocybine",label:"Psylocybine",icon:""}],QL=()=>{const{user:r}=Aa(),{currentSpace:e}=sT(),[n,s]=j.useState([]),[o,c]=j.useState([]),[h,m]=j.useState([]),[g,p]=j.useState([]),[x,T]=j.useState([]),A=og(),[,M]=j.useState(0);j.useEffect(()=>{if(!r)return;const k=aT(r.uid,s),N=f0(r.uid,c),L=oT(r.uid,m),P=lT(r.uid,T);return()=>{k(),N(),L(),P()}},[r]),j.useEffect(()=>{(async()=>{const N=await ef();p(N)})()},[]),j.useEffect(()=>{const k=setInterval(()=>{M(Date.now())},1e3);return()=>clearInterval(k)},[]);const B=$L(n,o),Q=h.filter(k=>k.status==="RUNNING"),$=h.filter(k=>k.status==="DONE"?!1:_d(k.endsAt.toDate())),Z=new Map(o.map(k=>[k.crateId,tf(k.values)])),X=k=>n.find(N=>N.crateId===k),oe=k=>g.find(N=>N.id===k.transformationId),z=h.filter(k=>k.status==="RUNNING"&&!_d(k.endsAt.toDate())),le=new Date;le.setDate(le.getDate()-7);const ae=x.filter(k=>{if(k.type!=="SALE")return!1;const N=k.createdAt?.toDate();return N&&N>=le}),C=ae.reduce((k,N)=>N.type!=="SALE"?k:k+N.actualValue,0),R=ae.reduce((k,N)=>N.type!=="SALE"?k:k+N.quantitySold,0);return e==="malandrinerie"?y.jsxs("div",{className:"space-y-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-text",children:"Dashboard - Malandrinerie"}),y.jsx(it,{children:y.jsxs(st,{className:"p-8 text-center",children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsx("h2",{className:"text-xl font-semibold text-text mb-2",children:"Espace Malandrinerie"}),y.jsx("p",{className:"text-text-muted mb-4",children:"Cet espace est en cours de dveloppement. Les fonctionnalits (Dashboard, Calculettes, Commandes) seront bientt disponibles !"}),y.jsx("div",{className:"inline-block px-4 py-2 bg-peach-light rounded-soft text-peach-dark text-sm",children:" venir prochainement"})]})})]}):y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold text-text",children:"Dashboard - Drogue"}),y.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"text-text-muted",children:"Valeur:"}),y.jsxs("span",{className:"font-bold text-mint-dark",children:[B.toLocaleString()," $"]})]}),y.jsx("div",{className:"w-px h-4 bg-border"}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"text-text-muted",children:"Actives:"}),y.jsx("span",{className:"font-semibold text-mint",children:Q.length})]}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"text-text-muted",children:"Prtes:"}),y.jsx("span",{className:"font-semibold text-mint-dark",children:$.length})]})]})]}),$.length>0&&y.jsx("div",{className:"bg-mint-light border border-mint rounded-soft px-3 py-2 cursor-pointer hover:bg-mint/30 transition-colors",onClick:()=>A("/timers"),children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-lg",children:""}),y.jsxs("span",{className:"text-sm font-semibold text-mint-dark",children:[$.length," transformation",$.length>1?"s":""," prte",$.length>1?"s":"","  rcolter"]})]})}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[y.jsx(it,{className:"md:col-span-2",children:y.jsxs(st,{className:"p-3",children:[y.jsx("h2",{className:"text-sm font-semibold text-text mb-2",children:"Stocks"}),y.jsx("div",{className:"space-y-1.5",children:Ed.map(k=>{const L=X(k.id)?.quantity||0,P=Z.get(k.id)||0,I=L*P;return y.jsxs("div",{className:"flex items-center justify-between py-2 px-2 rounded hover:bg-surface transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[y.jsx("span",{className:"text-xl",children:k.icon}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-semibold text-text",children:k.label}),y.jsxs("div",{className:"text-xs text-text-muted",children:[L," ",L>1?"caisses":"caisse"]})]})]}),y.jsx("div",{className:"text-right",children:P>0?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-base font-bold text-peach",children:[I.toLocaleString()," $"]}),y.jsxs("div",{className:"text-xs text-text-muted",children:[P.toLocaleString()," $ / u"]})]}):y.jsx("div",{className:"text-xs text-text-muted",children:"Prix non dfini"})})]},k.id)})})]})}),y.jsx(it,{children:y.jsxs(st,{className:"p-3",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsx("h2",{className:"text-sm font-semibold text-text",children:"7 derniers jours"}),y.jsx("button",{onClick:()=>A("/history"),className:"text-xs text-peach hover:text-peach-dark transition-colors",children:"Historique "})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"p-3 bg-peach-light rounded-soft border border-peach/30",children:[y.jsx("div",{className:"text-xs text-text-muted mb-1",children:"Revenus"}),y.jsxs("div",{className:"text-xl font-bold text-peach",children:[C.toLocaleString()," $"]})]}),y.jsxs("div",{className:"p-3 bg-lavender-light rounded-soft border border-lavender/30",children:[y.jsx("div",{className:"text-xs text-text-muted mb-1",children:"Ventes"}),y.jsxs("div",{className:"flex items-baseline gap-2",children:[y.jsx("div",{className:"text-xl font-bold text-lavender-dark",children:ae.length}),y.jsxs("div",{className:"text-sm text-text-muted",children:["vente",ae.length>1?"s":""]})]}),y.jsxs("div",{className:"text-xs text-text-muted mt-1",children:[R," caisse",R>1?"s":""]})]})]})]})})]}),z.length>0&&y.jsx(it,{children:y.jsxs(st,{className:"p-3",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("h2",{className:"text-sm font-semibold text-text",children:"En cours"}),y.jsx("button",{onClick:()=>A("/timers"),className:"text-xs text-lavender hover:text-lavender-dark transition-colors",children:"Voir tout "})]}),y.jsx("div",{className:"space-y-2",children:z.slice(0,3).map(k=>{const N=oe(k),L=cT(k.endsAt.toDate()),P=k.durationHours*60*60*1e3,I=Math.max(0,Math.min(100,(P-L)/P*100));return y.jsxs("div",{className:"bg-surface rounded-soft p-2",children:[y.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm font-medium text-text",children:N?.name}),k.reducedByAction&&y.jsx("span",{className:"text-xs",children:""})]}),y.jsx("span",{className:"text-xs font-semibold text-lavender",children:uT(L)})]}),y.jsx("div",{className:"w-full bg-border rounded-full h-1.5 overflow-hidden",children:y.jsx("div",{className:"h-full bg-linear-to-r from-lavender to-peach transition-all duration-1000",style:{width:`${I}%`}})})]},k.id)})})]})})]})};var KL=j.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),Wt=function(e,n,s){var o=s.get(e);return o?o(n):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function zE(r,e){if(r==null)return{};var n={},s=Object.keys(r),o,c;for(c=0;c<s.length;c++)o=s[c],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}var zt=j.forwardRef(function(r,e){var n=r.alt,s=r.color,o=r.size,c=r.weight,h=r.mirrored,m=r.children,g=r.renderPath,p=zE(r,["alt","color","size","weight","mirrored","children","renderPath"]),x=j.useContext(KL),T=x.color,A=T===void 0?"currentColor":T,M=x.size,B=x.weight,Q=B===void 0?"regular":B,$=x.mirrored,Z=$===void 0?!1:$,X=zE(x,["color","size","weight","mirrored"]);return _.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o??M,height:o??M,fill:s??A,viewBox:"0 0 256 256",transform:h||Z?"scale(-1, 1)":void 0},X,p),!!n&&_.createElement("title",null,n),m,_.createElement("rect",{width:"256",height:"256",fill:"none"}),g(c??Q,s??A))});zt.displayName="IconBase";var wa=new Map;wa.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});wa.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44Z",opacity:"0.2"}),_.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});wa.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M224,216a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H88V140H84A68.1,68.1,0,0,1,16,72a28,28,0,0,1,56,0A12,12,0,0,0,84,84h4V56a40,40,0,0,1,80,0v68h4a12,12,0,0,0,12-12,28,28,0,0,1,56,0,68.1,68.1,0,0,1-68,68h-4v28h48A8,8,0,0,1,224,216Z"}))});wa.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});wa.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});wa.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var YL=function(e,n){return Wt(e,n,wa)},hT=j.forwardRef(function(r,e){return _.createElement(zt,Object.assign({ref:e},r,{renderPath:YL}))});hT.displayName="Cactus";var ka=new Map;ka.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"92",y1:"76",x2:"164",y2:"76",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("circle",{cx:"104",cy:"128",r:"16"}),_.createElement("circle",{cx:"152",cy:"128",r:"16"}),_.createElement("circle",{cx:"104",cy:"176",r:"16"}),_.createElement("circle",{cx:"152",cy:"176",r:"16"}))});ka.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("rect",{x:"80",y:"64",width:"96",height:"48",opacity:"0.2"}),_.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256 0) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"88",cy:"148",r:"12"}),_.createElement("circle",{cx:"128",cy:"148",r:"12"}),_.createElement("circle",{cx:"168",cy:"148",r:"12"}),_.createElement("circle",{cx:"88",cy:"188",r:"12"}),_.createElement("circle",{cx:"128",cy:"188",r:"12"}),_.createElement("circle",{cx:"168",cy:"188",r:"12"}))});ka.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M200,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24ZM88,200a12,12,0,1,1,12-12A12,12,0,0,1,88,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,88,160Zm40,40a12,12,0,1,1,12-12A12,12,0,0,1,128,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,128,160Zm40,40a12,12,0,1,1,12-12A12,12,0,0,1,168,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,168,160Zm16-56a8,8,0,0,1-8,8H80a8,8,0,0,1-8-8V64a8,8,0,0,1,8-8h96a8,8,0,0,1,8,8Z"}))});ka.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("circle",{cx:"88",cy:"148",r:"10"}),_.createElement("circle",{cx:"128",cy:"148",r:"10"}),_.createElement("circle",{cx:"168",cy:"148",r:"10"}),_.createElement("circle",{cx:"88",cy:"188",r:"10"}),_.createElement("circle",{cx:"128",cy:"188",r:"10"}),_.createElement("circle",{cx:"168",cy:"188",r:"10"}))});ka.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("circle",{cx:"88",cy:"148",r:"8"}),_.createElement("circle",{cx:"128",cy:"148",r:"8"}),_.createElement("circle",{cx:"168",cy:"148",r:"8"}),_.createElement("circle",{cx:"88",cy:"188",r:"8"}),_.createElement("circle",{cx:"128",cy:"188",r:"8"}),_.createElement("circle",{cx:"168",cy:"188",r:"8"}))});ka.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"88",cy:"148",r:"12"}),_.createElement("circle",{cx:"128",cy:"148",r:"12"}),_.createElement("circle",{cx:"168",cy:"148",r:"12"}),_.createElement("circle",{cx:"88",cy:"188",r:"12"}),_.createElement("circle",{cx:"128",cy:"188",r:"12"}),_.createElement("circle",{cx:"168",cy:"188",r:"12"}))});var XL=function(e,n){return Wt(e,n,ka)},dT=j.forwardRef(function(r,e){return _.createElement(zt,Object.assign({ref:e},r,{renderPath:XL}))});dT.displayName="Calculator";var Ra=new Map;Ra.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ra.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("rect",{x:"156",y:"40",width:"56",height:"168",opacity:"0.2"}),_.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ra.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M228,200h-8V40a8,8,0,0,0-8-8H156a8,8,0,0,0-8,8V80H100a8,8,0,0,0-8,8v40H44a8,8,0,0,0-8,8v64H28a8,8,0,0,0,0,16H228a8,8,0,0,0,0-16ZM108,96h40V200H108ZM52,144H92v56H52Z"}))});Ra.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ra.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ra.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var ZL=function(e,n){return Wt(e,n,Ra)},ng=j.forwardRef(function(r,e){return _.createElement(zt,Object.assign({ref:e},r,{renderPath:ZL}))});ng.displayName="ChartBar";var Ca=new Map;Ca.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ca.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),_.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ca.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm49.5,85.8-58.6,56a8.1,8.1,0,0,1-5.6,2.2,7.7,7.7,0,0,1-5.5-2.2l-29.3-28a8,8,0,1,1,11-11.6l23.8,22.7,53.2-50.7a8,8,0,0,1,11,11.6Z"}))});Ca.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ca.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ca.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var JL=function(e,n){return Wt(e,n,Ca)},fT=j.forwardRef(function(r,e){return _.createElement(zt,Object.assign({ref:e},r,{renderPath:JL}))});fT.displayName="CheckCircle";var Ia=new Map;Ia.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ia.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"88",opacity:"0.2"}),_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ia.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M136,80v43.4l37.6,21.7a8,8,0,0,1-4,14.9,7.1,7.1,0,0,1-4-1.1l-41.6-24h-.2l-.4-.2-.3-.3-.3-.2-.3-.3-.2-.2c-.2-.1-.3-.3-.4-.4l-.2-.2-.2-.4-.2-.3-.2-.3a.5.5,0,0,1-.2-.4l-.2-.3c0-.1-.1-.2-.1-.4a.4.4,0,0,1-.1-.3l-.2-.4a.4.4,0,0,0-.1-.3c0-.2,0-.3-.1-.4v-.4c0-.2-.1-.3-.1-.4V80a8,8,0,0,1,16,0Zm59.9-19.9a96.2,96.2,0,0,0-135.8,0l-8.3,8.3L37.5,54.1a8,8,0,0,0-8.7-1.8,8.2,8.2,0,0,0-5,7.4v40a8,8,0,0,0,8,8h40a8,8,0,0,0,5.7-13.6L63.1,79.7l8.3-8.3a80,80,0,1,1,0,113.2,7.9,7.9,0,0,0-11.3,0,8,8,0,0,0,0,11.3A96,96,0,0,0,195.9,60.1Z"}))});Ia.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ia.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ia.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var e3=function(e,n){return Wt(e,n,Ia)},mT=j.forwardRef(function(r,e){return _.createElement(zt,Object.assign({ref:e},r,{renderPath:e3}))});mT.displayName="ClockCounterClockwise";var Na=new Map;Na.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Na.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Na.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M152,120H136V56h8a32.1,32.1,0,0,1,32,32,8,8,0,0,0,16,0,48,48,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40H108a48,48,0,0,0,0,96h12v64H104a32.1,32.1,0,0,1-32-32,8,8,0,0,0-16,0,48,48,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-32,0H108a32,32,0,0,1,0-64h12Zm32,80H136V136h16a32,32,0,0,1,0,64Z"}))});Na.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Na.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Na.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var t3=function(e,n){return Wt(e,n,Na)},pT=j.forwardRef(function(r,e){return _.createElement(zt,Object.assign({ref:e},r,{renderPath:t3}))});pT.displayName="CurrencyDollar";var La=new Map;La.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});La.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M146.5,90.5l51.4-52.6a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7Z",opacity:"0.2"}),_.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});La.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M231.8,32.2a28.1,28.1,0,0,0-39.7.1L18.3,210.4a8,8,0,0,0,3.9,13.4,154.1,154.1,0,0,0,35,4c33.4,0,66.8-10.9,98.3-32.2a232,232,0,0,0,50.9-46.8,8.1,8.1,0,0,0-.7-10.5l-18.8-18.7,45-47.9A28,28,0,0,0,231.8,32.2ZM189.2,144.5a227,227,0,0,1-43.1,38.2c-34.5,23.2-70,32.6-105.8,28.1L146.6,101.9l23.3,23.3c.1.1.2.3.4.4h.1Z"}))});La.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});La.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});La.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var n3=function(e,n){return Wt(e,n,La)},gT=j.forwardRef(function(r,e){return _.createElement(zt,Object.assign({ref:e},r,{renderPath:n3}))});gT.displayName="Knife";var Da=new Map;Da.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Da.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",opacity:"0.2"}),_.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Da.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M224,39.5a8.1,8.1,0,0,0-7.5-7.5C140.2,27.5,79.1,50.5,53,93.6a87.3,87.3,0,0,0-12.8,49.1c.6,15.9,5.2,32.1,13.8,48L154.3,90.3a8.1,8.1,0,0,1,11.4,11.4L65.3,202c15.9,8.6,32.1,13.2,48,13.8h3.3A87,87,0,0,0,162.4,203C205.5,176.9,228.5,115.8,224,39.5Z"}),_.createElement("path",{d:"M57.1,196.1c-1.1-1.8-2.1-3.6-3.1-5.4L34.3,210.3a8.1,8.1,0,0,0,0,11.4,8.2,8.2,0,0,0,11.4,0L65.3,202l-5.4-3.1A9.3,9.3,0,0,1,57.1,196.1Z"}))});Da.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Da.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Da.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var r3=function(e,n){return Wt(e,n,Da)},yT=j.forwardRef(function(r,e){return _.createElement(zt,Object.assign({ref:e},r,{renderPath:r3}))});yT.displayName="Leaf";var ja=new Map;ja.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});ja.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"116",cy:"116",r:"84",opacity:"0.2"}),_.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});ja.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M176,116a60,60,0,1,1-60-60A60,60,0,0,1,176,116Zm53.6,113.7A8,8,0,0,1,224,232a8.3,8.3,0,0,1-5.7-2.3l-43.2-43.3a92.2,92.2,0,1,1,11.3-11.3l43.2,43.2A8,8,0,0,1,229.6,229.7ZM116,192a76,76,0,1,0-76-76A76.1,76.1,0,0,0,116,192Z"}))});ja.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});ja.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});ja.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var i3=function(e,n){return Wt(e,n,ja)},vT=j.forwardRef(function(r,e){return _.createElement(zt,Object.assign({ref:e},r,{renderPath:i3}))});vT.displayName="MagnifyingGlass";var Ma=new Map;Ma.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ma.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ma.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M216,136H40a8,8,0,0,1,0-16H216a8,8,0,0,1,0,16Z"}))});Ma.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ma.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ma.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var s3=function(e,n){return Wt(e,n,Ma)},_T=j.forwardRef(function(r,e){return _.createElement(zt,Object.assign({ref:e},r,{renderPath:s3}))});_T.displayName="Minus";var Oa=new Map;Oa.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Oa.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M33.1,74.6A8.1,8.1,0,0,0,32,78.7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.6,7.6,0,0,0,3.9,1h0l.9-106.8L33.1,74.6Z",opacity:"0.2"}),_.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Oa.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M229.9,70.8h0a.1.1,0,0,1-.1-.1,16.2,16.2,0,0,0-6-5.9l-88-49.5a16,16,0,0,0-15.6,0l-88,49.5a16.2,16.2,0,0,0-6,5.9.1.1,0,0,1-.1.1v.2A15,15,0,0,0,24,78.7v98.6a16.1,16.1,0,0,0,8.2,14l88,49.5a16.5,16.5,0,0,0,7.2,2h1.4a15.7,15.7,0,0,0,7-2l88-49.5a16.1,16.1,0,0,0,8.2-14V78.7A15.6,15.6,0,0,0,229.9,70.8ZM128,29.2,207.7,74,177.1,91.4,96.4,46.9Zm.9,89.6L48.4,74,80,56.2l80.8,44.5Zm7.2,103.5.8-89.6L169,114.4v38.1a8,8,0,0,0,16,0V105.3l31-17.6v89.6Z"}))});Oa.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Oa.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Oa.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var a3=function(e,n){return Wt(e,n,Oa)},xd=j.forwardRef(function(r,e){return _.createElement(zt,Object.assign({ref:e},r,{renderPath:a3}))});xd.displayName="Package";var Va=new Map;Va.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Va.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Va.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M216,120H136V40a8,8,0,0,0-16,0v80H40a8,8,0,0,0,0,16h80v80a8,8,0,0,0,16,0V136h80a8,8,0,0,0,0-16Z"}))});Va.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Va.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Va.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var o3=function(e,n){return Wt(e,n,Va)},m0=j.forwardRef(function(r,e){return _.createElement(zt,Object.assign({ref:e},r,{renderPath:o3}))});m0.displayName="Plus";var Pa=new Map;Pa.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"104",y1:"100",x2:"168",y2:"100",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"104",y1:"140",x2:"168",y2:"140",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Pa.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M88,216a24,24,0,0,0,17.9-40h112A24,24,0,0,1,200,216Z",opacity:"0.2"}),_.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"104",x2:"168",y2:"104",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"136",x2:"168",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Pa.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M223.8,170.7a7.8,7.8,0,0,0-5.9-2.7H208V64a32.1,32.1,0,0,0-32-32H40A32.1,32.1,0,0,0,8,64a31.5,31.5,0,0,0,8.2,21.3,7.9,7.9,0,0,0,11.2.7,8,8,0,0,0,.7-11.3A16,16,0,1,1,56,64V192a32.1,32.1,0,0,0,32,32H200a32.1,32.1,0,0,0,32-32A31.5,31.5,0,0,0,223.8,170.7ZM104,96h64a8,8,0,0,1,0,16H104a8,8,0,0,1,0-16Zm-8,40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H104A8,8,0,0,1,96,136Zm104,72H115.7a32.2,32.2,0,0,0,4.3-16,30.8,30.8,0,0,0-1-8h94.9A16.1,16.1,0,0,1,200,208Z"}))});Pa.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"104",y1:"104",x2:"168",y2:"104",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"104",y1:"136",x2:"168",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Pa.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"104",y1:"104",x2:"168",y2:"104",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"104",y1:"136",x2:"168",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Pa.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"104",x2:"168",y2:"104",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"136",x2:"168",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var l3=function(e,n){return Wt(e,n,Pa)},p0=j.forwardRef(function(r,e){return _.createElement(zt,Object.assign({ref:e},r,{renderPath:l3}))});p0.displayName="Scroll";var Ua=new Map;Ua.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ua.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48Z",opacity:"0.2"}),_.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ua.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M223.9,65.4l-12.2,66.9A24,24,0,0,1,188.1,152H72.1l4.4,24H184a24,24,0,1,1-24,24,23.6,23.6,0,0,1,1.4-8H102.6a23.6,23.6,0,0,1,1.4,8,24,24,0,1,1-42.2-15.6L34.1,32H16a8,8,0,0,1,0-16H34.1A16,16,0,0,1,49.8,29.1L54.7,56H216a7.9,7.9,0,0,1,6.1,2.9A7.7,7.7,0,0,1,223.9,65.4Z"}))});Ua.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ua.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ua.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var c3=function(e,n){return Wt(e,n,Ua)},g0=j.forwardRef(function(r,e){return _.createElement(zt,Object.assign({ref:e},r,{renderPath:c3}))});g0.displayName="ShoppingCart";var za=new Map;za.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});za.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});za.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M221.7,133.7l-42,42A8.3,8.3,0,0,1,174,178a7.7,7.7,0,0,1-3-.6,8,8,0,0,1-5-7.4V136H104a8,8,0,0,1,0-16h62V86a8,8,0,0,1,5-7.4,8.2,8.2,0,0,1,8.7,1.7l42,42A8.1,8.1,0,0,1,221.7,133.7ZM104,208H48V48h56a8,8,0,0,0,0-16H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16h56a8,8,0,0,0,0-16Z"}))});za.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});za.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});za.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var u3=function(e,n){return Wt(e,n,za)},ET=j.forwardRef(function(r,e){return _.createElement(zt,Object.assign({ref:e},r,{renderPath:u3}))});ET.displayName="SignOut";var Ba=new Map;Ba.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"140",r:"88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"128",y1:"140",x2:"161.9",y2:"106.1",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"104",y1:"12",x2:"152",y2:"12",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ba.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"88",opacity:"0.2"}),_.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),_.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ba.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M104,16h48a8,8,0,0,0,0-16H104a8,8,0,0,0,0,16Z"}),_.createElement("path",{d:"M128,32a96,96,0,1,0,96,96A96.2,96.2,0,0,0,128,32Zm45.3,62.1-39.6,39.6a8.2,8.2,0,0,1-11.4,0,8.1,8.1,0,0,1,0-11.4l39.6-39.6a8.1,8.1,0,1,1,11.4,11.4Z"}))});Ba.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ba.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ba.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),_.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var h3=function(e,n){return Wt(e,n,Ba)},xT=j.forwardRef(function(r,e){return _.createElement(zt,Object.assign({ref:e},r,{renderPath:h3}))});xT.displayName="Timer";var Ha=new Map;Ha.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"216",y1:"60",x2:"40",y2:"60",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M200,60V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V60",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M168,60V36a16,16,0,0,0-16-16H104A16,16,0,0,0,88,36V60",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ha.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z",opacity:"0.2"}),_.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ha.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M216,48H176V40a24.1,24.1,0,0,0-24-24H104A24.1,24.1,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"}))});Ha.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ha.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ha.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var d3=function(e,n){return Wt(e,n,Ha)},bT=j.forwardRef(function(r,e){return _.createElement(zt,Object.assign({ref:e},r,{renderPath:d3}))});bT.displayName="Trash";var Fa=new Map;Fa.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("circle",{cx:"128",cy:"172",r:"16"}))});Fa.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"128",cy:"172",r:"12"}))});Fa.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm-8,56a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm8,104a12,12,0,1,1,12-12A12,12,0,0,1,128,184Z"}))});Fa.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("circle",{cx:"128",cy:"172",r:"10"}))});Fa.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("circle",{cx:"128",cy:"172",r:"8"}))});Fa.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"128",cy:"172",r:"12"}))});var f3=function(e,n){return Wt(e,n,Fa)},TT=j.forwardRef(function(r,e){return _.createElement(zt,Object.assign({ref:e},r,{renderPath:f3}))});TT.displayName="WarningCircle";const m3=({children:r})=>{const e=Ri(),{currentSpace:n,setCurrentSpace:s}=sT(),o=async()=>{await NL()},m=n==="naturopathie"?[{path:"/",label:"Dashboard",Icon:ng},{path:"/stocks",label:"Stocks",Icon:xd},{path:"/prices",label:"Prix",Icon:pT},{path:"/calculator",label:"Calculateur",Icon:dT},{path:"/timers",label:"Transformations",Icon:xT},{path:"/history",label:"Historique",Icon:mT}]:[{path:"/",label:"Dashboard",Icon:ng},{path:"/malandrinerie/stocks",label:"Stocks",Icon:xd},{path:"/malandrinerie/recipes",label:"Recettes",Icon:p0},{path:"/malandrinerie/orders",label:"Commandes",Icon:g0}],g=p=>e.pathname===p;return y.jsxs("div",{className:"min-h-screen flex flex-col",children:[y.jsx("header",{className:"bg-card sticky top-0 z-10 border-b border-border shadow-soft",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[y.jsxs("h1",{className:"text-2xl font-bold text-peach flex gap-2 items-center",children:[y.jsx(hT,{size:24,weight:"duotone"}),"Brewsy"]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("div",{className:"flex items-center gap-2 bg-surface rounded-soft p-1 shadow-sm border border-border",children:[y.jsxs("button",{onClick:()=>s("naturopathie"),className:`flex items-center gap-2 px-3 py-2 rounded-soft transition-all ${n==="naturopathie"?"bg-mint text-white font-semibold shadow-soft":"text-text-muted hover:text-text hover:bg-card"}`,title:"Espace Drogue",children:[y.jsx(yT,{size:20,weight:n==="naturopathie"?"fill":"duotone"}),y.jsx("span",{className:"hidden sm:inline",children:"Drogue"})]}),y.jsxs("button",{onClick:()=>s("malandrinerie"),className:`flex items-center gap-2 px-3 py-2 rounded-soft transition-all ${n==="malandrinerie"?"bg-peach text-white font-semibold shadow-soft":"text-text-muted hover:text-text hover:bg-card"}`,title:"Espace Malandrinerie",children:[y.jsx(gT,{size:20,weight:n==="malandrinerie"?"fill":"duotone"}),y.jsx("span",{className:"hidden sm:inline",children:"Malandrinerie"})]})]}),y.jsx("button",{onClick:o,className:"p-2 rounded-soft hover:bg-surface transition-colors text-text-secondary",title:"Dconnexion",children:y.jsx(ET,{size:24,weight:"duotone"})})]})]})}),y.jsxs("div",{className:"flex-1 flex",children:[y.jsx("nav",{className:"w-64 glass-strong p-4 hidden md:block border-r border-border shadow-glass",children:y.jsx("ul",{className:"space-y-2",children:m.map(p=>y.jsx("li",{children:y.jsxs(Xh,{to:p.path,className:`flex items-center gap-3 px-4 py-3 rounded-soft transition-colors ${g(p.path)?"bg-sky text-peach-dark font-semibold shadow-glass":"text-text-muted hover:glass"}`,children:[y.jsx(p.Icon,{size:24,weight:g(p.path)?"fill":"duotone"}),y.jsx("span",{children:p.label})]})},p.path))})}),y.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-y-auto",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:r})})]}),y.jsx("nav",{className:"md:hidden glass-strong sticky bottom-0 border-t border-border shadow-glass",children:y.jsx("ul",{className:"flex justify-around py-2",children:m.map(p=>y.jsx("li",{children:y.jsxs(Xh,{to:p.path,className:`flex flex-col items-center gap-1 px-3 py-2 rounded-soft transition-colors ${g(p.path)?"text-sky font-semibold":"text-text-muted"}`,children:[y.jsx(p.Icon,{size:24,weight:g(p.path)?"fill":"duotone"}),y.jsx("span",{className:"text-xs",children:p.label})]})},p.path))})})]})},Jt=({children:r,variant:e="primary",size:n="md",className:s="",...o})=>{const c="font-semibold rounded-soft transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",h={primary:"bg-gradient-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark text-white shadow-soft",secondary:"bg-surface hover:bg-surface-hover text-text border border-border",outline:"border-2 border-peach text-peach hover:bg-peach-light",danger:"bg-peach hover:bg-peach-dark text-white shadow-soft"},m={sm:"py-1.5 px-3 text-sm",md:"py-2 px-4",lg:"py-3 px-6 text-lg"};return y.jsx("button",{className:`${c} ${h[e]} ${m[n]} ${s}`,...o,children:r})},p3=()=>{const{user:r}=Aa(),[e,n]=j.useState([]),[s,o]=j.useState([]),[c,h]=j.useState(null),[m,g]=j.useState("1"),[p,x]=j.useState("0"),[T,A]=j.useState({});j.useEffect(()=>{if(!r)return;const z=aT(r.uid,n),le=f0(r.uid,o);return()=>{z(),le()}},[r]);const M=z=>e.find(le=>le.crateId===z),B=async(z,le,ae)=>{if(!r)return;const C=M(z),R=Math.max(0,(C?.quantity||0)+ae);await Ap(r.uid,z,R,le)},Q=async(z,le,ae)=>{r&&await Ap(r.uid,z,Math.max(0,ae),le)},$=z=>{const ae=M(z)?.quantity||0;h(z),g(String(ae));const C=X.get(z)||0;x(String(C*ae))},Z=async(z,le)=>{const ae=parseInt(m)||0,C=parseInt(p)||0;if(!r||ae<=0||C<0)return;const R=M(z);if(!R||R.quantity<ae){alert("Stock insuffisant");return}const N=(X.get(z)||0)*ae;try{await FL(r.uid,z,le,ae,N,C,void 0),await Ap(r.uid,z,R.quantity-ae,le),h(null),g("1"),x("0")}catch(L){console.error("Erreur lors de la vente:",L),alert("Erreur lors de l'enregistrement de la vente")}},X=new Map(s.map(z=>[z.crateId,tf(z.values)])),oe=Ed.reduce((z,le)=>{const ae=M(le.id),C=X.get(le.id)||0;return z+tg(ae?.quantity||0,C)},0);return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Stocks"}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-sm text-dark-600 dark:text-dark-400",children:"Valeur totale"}),y.jsxs("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:[oe.toLocaleString()," $"]})]})]}),y.jsx("div",{className:"grid grid-cols-1 gap-3",children:Ed.map(z=>{const ae=M(z.id)?.quantity||0,C=X.get(z.id)||0,R=tg(ae,C);return y.jsx(it,{children:y.jsxs(st,{className:"p-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[y.jsx("span",{className:"text-3xl",children:z.icon}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-dark-800 dark:text-dark-100",children:z.label}),C>0&&y.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[C.toLocaleString()," $ / caisse"]})]})]}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("button",{onClick:()=>B(z.id,z.label,-10),className:"w-9 h-9 rounded-soft bg-peach-light hover:bg-peach transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"-10",children:"--"}),y.jsx("button",{onClick:()=>B(z.id,z.label,-1),className:"w-9 h-9 rounded-soft bg-lavender-light hover:bg-lavender transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"-1",children:"-"}),y.jsx("input",{type:"number",value:T[z.id]!==void 0?T[z.id]:ae,onChange:k=>{const N=k.target.value;A(L=>({...L,[z.id]:N}))},onBlur:()=>{const k=T[z.id];k!==void 0&&(Q(z.id,z.label,parseInt(k)||0),A(N=>{const L={...N};return delete L[z.id],L}))},onKeyDown:k=>{k.key==="Enter"&&k.currentTarget.blur()},className:"w-20 text-center px-3 py-2 rounded-soft border border-border bg-card text-text font-semibold shadow-sm focus:ring-2 focus:ring-peach/30 focus:border-peach outline-none transition-all"}),y.jsx("button",{onClick:()=>B(z.id,z.label,1),className:"w-9 h-9 rounded-soft bg-sage-light hover:bg-sage transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"+1",children:"+"}),y.jsx("button",{onClick:()=>B(z.id,z.label,10),className:"w-9 h-9 rounded-soft bg-butter-light hover:bg-butter transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"+10",children:"++"})]}),y.jsx("div",{className:"text-right min-w-[100px]",children:y.jsxs("div",{className:"text-lg font-bold text-peach-600 dark:text-peach-400",children:[R.toLocaleString()," $"]})}),y.jsx(Jt,{size:"sm",variant:"secondary",onClick:()=>$(z.id),disabled:ae===0,children:" Vendre"})]}),c===z.id&&y.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:y.jsxs("div",{className:"flex items-end gap-2",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Quantit"}),y.jsx("input",{type:"number",min:"1",max:ae,value:m,onChange:k=>{const N=k.target.value;g(N);const L=parseInt(N)||0;L>0&&x(String(C*L))},className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Prix total rcolt"}),y.jsx("input",{type:"number",min:"0",value:p,onChange:k=>x(k.target.value),className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),y.jsx(Jt,{size:"sm",variant:"secondary",onClick:()=>h(null),children:""}),y.jsx(Jt,{size:"sm",onClick:()=>Z(z.id,z.label),children:" Vendre"})]})})]})},z.id)})})]})},g3=()=>{const{user:r}=Aa(),[e,n]=j.useState([]),[s,o]=j.useState({});j.useEffect(()=>r?f0(r.uid,n):void 0,[r]);const c=p=>e.find(x=>x.crateId===p),h=async p=>{if(!r)return;const x=s[p],T=parseInt(x);!T||T<=0||(await VL(r.uid,p,T),o({...s,[p]:""}))},m=async(p,x)=>{r&&await PL(r.uid,p,x)},g=(p,x)=>{p.key==="Enter"&&h(x)};return y.jsxs("div",{className:"space-y-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Prix moyens"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Ed.map(p=>{const x=c(p.id),T=x?tf(x.values):0,A=x?Math.min(...x.values):0,M=x?Math.max(...x.values):0,B=x?.values.length||0;return y.jsx(it,{children:y.jsxs(st,{className:"p-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-2xl",children:p.icon}),y.jsx("h3",{className:"font-semibold text-dark-800 dark:text-dark-100",children:p.label})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-xl font-bold text-peach-600 dark:text-peach-400",children:T>0?`${T.toLocaleString()} $`:""}),y.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[B," prix"]})]})]}),B>0&&y.jsxs("div",{className:"flex gap-4 text-xs mb-3 py-2 px-3 bg-butter-50 dark:bg-dark-700 rounded",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-dark-500 dark:text-dark-500",children:"Min:"}),y.jsxs("span",{className:"ml-1 font-semibold text-sage-600 dark:text-sage-400",children:[A.toLocaleString()," $"]})]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-dark-500 dark:text-dark-500",children:"Max:"}),y.jsxs("span",{className:"ml-1 font-semibold text-lavender-600 dark:text-lavender-400",children:[M.toLocaleString()," $"]})]})]}),y.jsxs("div",{className:"flex gap-2 mb-3",children:[y.jsx("input",{type:"number",placeholder:"Nouveau prix",value:s[p.id]||"",onChange:Q=>o({...s,[p.id]:Q.target.value}),onKeyPress:Q=>g(Q,p.id),className:"flex-1 px-3 py-1.5 text-sm rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"}),y.jsx("button",{onClick:()=>h(p.id),className:"px-4 py-1.5 text-sm font-semibold rounded-soft bg-linear-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark text-white transition-all shadow-sm hover:shadow-soft",children:"+"})]}),x&&x.values.length>0&&y.jsxs("div",{className:"space-y-1",children:[x.values.slice(0,3).map((Q,$)=>y.jsxs("div",{className:"flex items-center justify-between py-1 px-2 text-sm   rounded border border-peach/20 bg-peach/20 dark:border-dark-600",children:[y.jsxs("span",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[Q.toLocaleString()," $"]}),y.jsx("button",{onClick:()=>m(p.id,$),className:"text-xs px-2 py-0.5 rounded 0 text-dark  dark:hover:bg-red-900/50 transition-colors",children:""})]},$)),x.values.length>3&&y.jsxs("div",{className:"text-xs text-center text-dark-500 dark:text-dark-500 py-1",children:["+",x.values.length-3," autre(s)"]})]})]})},p.id)})})]})},ST=({label:r,children:e,className:n="",...s})=>y.jsxs("div",{className:"w-full",children:[r&&y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:r}),y.jsx("select",{className:`w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all ${n}`,...s,children:e})]}),AT=j.forwardRef(({label:r,error:e,className:n="",...s},o)=>y.jsxs("div",{className:"w-full",children:[r&&y.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-200 mb-1",children:r}),y.jsx("input",{ref:o,className:`w-full px-4 py-2 rounded-input border ${e?"border-peach-dark focus:ring-peach-dark":"border-border focus:ring-peach/30"} bg-card text-text focus:outline-none focus:ring-2 focus:border-peach shadow-sm transition-all ${n}`,...s}),e&&y.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:e})]}));AT.displayName="Input";const y3=()=>{const[r,e]=j.useState([]),[n,s]=j.useState(null),[o,c]=j.useState("1");j.useEffect(()=>{h()},[]);const h=async()=>{const A=await ef();e(A),A.length>0&&s(A[0])},m=A=>{const M=r.find(B=>B.id===A);s(M||null)},g=parseInt(o)||1,p=n?qL(n,g):0,x=GL(g),T=n?WL(n,g):0;return y.jsxs("div",{className:"space-y-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Calculateur"}),y.jsx(it,{children:y.jsx(st,{className:"p-4",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[y.jsx(ST,{label:"Transformation",value:n?.id||"",onChange:A=>m(A.target.value),children:r.length===0?y.jsx("option",{children:"Chargement..."}):r.map(A=>y.jsxs("option",{value:A.id,children:[A.name," (",A.durationHours,"h)"]},A.id))}),y.jsx(AT,{label:"Nombre",type:"number",min:"1",value:o,onChange:A=>c(A.target.value)})]})})}),n&&y.jsx(it,{children:y.jsxs(st,{className:"p-4",children:[y.jsx("h2",{className:"font-semibold text-dark-800 dark:text-dark-100 mb-3",children:n.name}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[y.jsxs("div",{className:"p-2 bg-butter-50 dark:bg-dark-700 rounded",children:[y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Matriau"}),y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.input.quantity," ",n.input.materialName]})]}),y.jsxs("div",{className:"p-2 bg-lavender-50 dark:bg-dark-700 rounded",children:[y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Outil"}),y.jsx("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:n.tool.name})]}),y.jsxs("div",{className:"p-2 bg-sage-50 dark:bg-dark-700 rounded",children:[y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Dure"}),y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.durationHours,"h",y.jsx("span",{className:"text-xs text-dark-400 dark:text-dark-600",children:" (-1h si )"})]})]}),y.jsxs("div",{className:"p-2 bg-sky-50 dark:bg-dark-700 rounded",children:[y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Caisse"}),y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.crate.quantityPerCrate," /caisse"]})]})]})]})}),y.jsx(it,{children:y.jsxs(st,{className:"p-4",children:[y.jsxs("h2",{className:"font-semibold text-dark-800 dark:text-dark-100 mb-3",children:["Pour ",g," transformation",g>1?"s":""]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[y.jsxs("div",{className:"p-3 bg-gradient-to-br from-peach-50 to-butter-50 dark:from-peach-900/20 dark:to-butter-900/20 rounded-cozy",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Matriaux ncessaires"}),y.jsx("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:p}),y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:n?.input.materialName})]}),y.jsxs("div",{className:"p-3 bg-gradient-to-br from-lavender-50 to-sage-50 dark:from-lavender-900/20 dark:to-sage-900/20 rounded-cozy",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Outils requis"}),y.jsx("div",{className:"text-2xl font-bold text-lavender-600 dark:text-lavender-400",children:x}),y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:n?.tool.name})]}),n&&n.tool.price>0&&y.jsxs("div",{className:"p-3 bg-gradient-to-br from-sky-50 to-lavender-50 dark:from-sky-900/20 dark:to-lavender-900/20 rounded-cozy",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Cot total"}),y.jsxs("div",{className:"text-2xl font-bold text-sky-600 dark:text-sky-400",children:[T.toLocaleString()," $"]}),y.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[n.tool.price.toLocaleString()," $  ",x]})]})]})]})})]})},v3=({isOpen:r,onClose:e,title:n,children:s,actions:o})=>r?y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-dark-900/50 backdrop-blur-sm",onClick:e,children:y.jsxs("div",{className:"bg-card rounded-soft-lg shadow-soft-lg border border-border max-w-md w-full overflow-hidden",onClick:c=>c.stopPropagation(),children:[y.jsxs("div",{className:"px-6 py-4 border-b border-border flex items-center justify-between",children:[y.jsx("h2",{className:"text-lg font-semibold text-text",children:n}),y.jsx("button",{onClick:e,className:"w-8 h-8 rounded-soft flex items-center justify-center hover:bg-surface transition-colors text-text-muted hover:text-text",children:""})]}),y.jsx("div",{className:"px-6 py-4 text-text-secondary",children:s}),o&&y.jsx("div",{className:"px-6 py-4 border-t border-border flex items-center justify-end gap-2",children:o})]})}):null,_3=()=>{const{user:r}=Aa(),[e,n]=j.useState([]),[s,o]=j.useState([]),[c,h]=j.useState(null),[m,g]=j.useState(!1),[p,x]=j.useState(""),[T,A]=j.useState("1"),[M,B]=j.useState(""),[Q,$]=j.useState(""),[Z,X]=j.useState(!1),[oe,z]=j.useState(null),[,le]=j.useState(Date.now());j.useEffect(()=>{ae()},[]),j.useEffect(()=>r?oT(r.uid,o):void 0,[r]),j.useEffect(()=>{const G=setInterval(()=>{le(Date.now())},1e3);return()=>clearInterval(G)},[]);const ae=async()=>{const[G,fe]=await Promise.all([ef(),OL()]);n(G),h(fe),G.length>0&&x(G[0].id)},C=async()=>{if(!r||!p)return;const G=e.find(Ie=>Ie.id===p);if(!G)return;let fe;M&&Q?fe=new Date(`${M}T${Q}`):M&&(fe=new Date(M)),await UL(r.uid,p,parseInt(T)||1,G.durationHours,fe),A("1"),B(""),$(""),g(!1)},R=async G=>{!r||!G||await BL(r.uid,G,c?.rules.timeReductionHours)},k=async G=>{!r||!G.id||(await zL(r.uid,G.id,"DONE"),await HL(r.uid,G.transformationId,G.startedAt,G.endsAt,G.reducedByAction))},N=async G=>{r&&await UE(r.uid,G)},L=G=>{z(G),X(!0)},P=async()=>{!r||!oe||(await UE(r.uid,oe),X(!1),z(null))},I=G=>e.find(fe=>fe.id===G.transformationId),Xe=s.filter(G=>G.status==="RUNNING"&&!_d(G.endsAt.toDate())),ft=s.filter(G=>G.status!=="DONE"&&_d(G.endsAt.toDate())),J=s.filter(G=>G.status==="DONE");return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Transformations"}),y.jsx(Jt,{onClick:()=>g(!m),size:"sm",children:m?"":"+ Nouveau"})]}),m&&y.jsx(it,{children:y.jsxs(st,{className:"p-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[y.jsx(ST,{label:"Type",value:p,onChange:G=>x(G.target.value),children:e.map(G=>y.jsxs("option",{value:G.id,children:[G.name," (",G.durationHours,"h)"]},G.id))}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Productions places"}),y.jsx("input",{type:"number",min:"1",value:T,onChange:G=>A(G.target.value),className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:" Date de dbut (optionnel)"}),y.jsx("input",{type:"date",value:M,onChange:G=>B(G.target.value),className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-lavender/30 focus:border-lavender transition-all hover:border-lavender/50",style:{colorScheme:"light dark"}})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:" Heure de dbut (optionnel)"}),y.jsx("input",{type:"time",value:Q,onChange:G=>$(G.target.value),className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-lavender/30 focus:border-lavender transition-all hover:border-lavender/50",style:{colorScheme:"light dark"}})]})]}),M&&y.jsxs("div",{className:"mb-3 p-2 bg-lavender-light rounded-soft text-xs text-text-muted",children:[" Si vide, dmarre maintenant. Sinon, dmarre le ",M," ",Q&&` ${Q}`]}),y.jsx(Jt,{onClick:C,className:"w-full",children:" Dmarrer"})]})}),ft.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsxs("h2",{className:"text-lg font-semibold text-sage-600 dark:text-sage-400",children:[" Prtes (",ft.length,")"]}),ft.map(G=>{const fe=I(G);return y.jsx(it,{className:"border-2 border-sage-400 dark:border-sage-600",children:y.jsx(st,{className:"p-3",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[fe?.name,G.reducedByAction&&y.jsx("span",{className:"ml-2 text-xs",children:""})]}),y.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400",children:[G.inputQuantityUsed," production",G.inputQuantityUsed>1?"s":""]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(Jt,{size:"sm",variant:"secondary",onClick:()=>k(G),children:"Rcolter"}),y.jsx(Jt,{size:"sm",variant:"danger",onClick:()=>G.id&&N(G.id),children:""})]})]})})},G.id)})]}),Xe.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsxs("h2",{className:"text-lg font-semibold text-lavender-600 dark:text-lavender-400",children:["En cours (",Xe.length,")"]}),Xe.map(G=>{const fe=I(G),Ie=cT(G.endsAt.toDate()),Be=G.durationHours*60*60*1e3,V=Math.max(0,Math.min(100,(Be-Ie)/Be*100));return y.jsx(it,{children:y.jsxs(st,{className:"p-3",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[fe?.name,G.reducedByAction&&y.jsx("span",{className:"ml-2 text-xs",children:""})]}),y.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400",children:[G.inputQuantityUsed," production",G.inputQuantityUsed>1?"s":"","  Fin prvue: ",G.endsAt.toDate().toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm font-semibold text-lavender-600 dark:text-lavender-400",children:uT(Ie)}),y.jsx(Jt,{variant:"secondary",size:"sm",onClick:()=>G.id&&R(G.id),disabled:G.reducedByAction,title:G.reducedByAction?"Dj arros":"Arroser (-1h)",children:""}),y.jsx(Jt,{variant:"danger",size:"sm",onClick:()=>G.id&&L(G.id),title:"Annuler la production",children:"Annuler"})]})]}),y.jsx("div",{className:"w-full bg-surface rounded-full h-2 overflow-hidden border border-border",children:y.jsx("div",{className:"h-full bg-linear-to-r from-lavender to-peach transition-all duration-1000",style:{width:`${V}%`}})})]})},G.id)})]}),J.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsxs("h2",{className:"text-sm font-semibold text-dark-600 dark:text-dark-400",children:["Rcentes (",J.slice(0,3).length,")"]}),J.slice(0,3).map(G=>{const fe=I(G);return y.jsx(it,{className:"opacity-60",children:y.jsx(st,{className:"p-2",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"text-sm",children:[y.jsx("span",{className:"font-semibold text-dark-800 dark:text-dark-100",children:fe?.name}),y.jsxs("span",{className:"text-xs text-dark-600 dark:text-dark-400 ml-2",children:[" ",G.inputQuantityUsed," production",G.inputQuantityUsed>1?"s":""]})]}),y.jsx(Jt,{variant:"danger",size:"sm",onClick:()=>G.id&&N(G.id),className:"text-xs",children:""})]})})},G.id)})]}),s.length===0&&y.jsx(it,{children:y.jsxs(st,{className:"p-8 text-center",children:[y.jsx("div",{className:"text-4xl mb-3",children:""}),y.jsx("p",{className:"text-dark-600 dark:text-dark-400 mb-3",children:"Aucune transformation en cours"}),y.jsx(Jt,{onClick:()=>g(!0),size:"sm",children:"Dmarrer une transformation"})]})}),y.jsx(v3,{isOpen:Z,onClose:()=>X(!1),title:"Annuler la production",actions:y.jsxs(y.Fragment,{children:[y.jsx(Jt,{variant:"secondary",onClick:()=>X(!1),children:"Non, garder"}),y.jsx(Jt,{variant:"danger",onClick:P,children:"Oui, annuler"})]}),children:y.jsx("p",{className:"text-text-secondary",children:"tes-vous sr de vouloir annuler cette production ? Cette action est irrversible."})})]})},E3=()=>{const{user:r}=Aa(),[e,n]=j.useState([]),[s,o]=j.useState([]);j.useEffect(()=>{c()},[]),j.useEffect(()=>r?lT(r.uid,n):void 0,[r]);const c=async()=>{const x=await ef();o(x)},h=x=>s.find(T=>T.id===x),m=e.reduce((x,T)=>{const A=T.createdAt.toDate().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return x[A]||(x[A]=[]),x[A].push(T),x},{}),g=x=>x.toDate().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),p=x=>{const T=x.startedAt.toDate(),M=x.endsAt.toDate().getTime()-T.getTime();return Math.floor(M/(1e3*60*60))};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Historique"}),y.jsxs("div",{className:"text-sm text-dark-600 dark:text-dark-400",children:[e.length," entre",e.length>1?"s":""]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[y.jsx(it,{children:y.jsx(st,{className:"p-3",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Total"}),y.jsx("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:e.length})]})})}),y.jsx(it,{children:y.jsx(st,{className:"p-3",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Transformations"}),y.jsx("div",{className:"text-2xl font-bold text-lavender-600 dark:text-lavender-400",children:e.filter(x=>x.type==="TRANSFORMATION").length})]})})}),y.jsx(it,{children:y.jsx(st,{className:"p-3",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Ventes"}),y.jsx("div",{className:"text-2xl font-bold text-sage-600 dark:text-sage-400",children:e.filter(x=>x.type==="SALE").length})]})})}),y.jsx(it,{children:y.jsx(st,{className:"p-3",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Cette semaine"}),y.jsx("div",{className:"text-2xl font-bold text-sky-600 dark:text-sky-400",children:e.filter(x=>{const T=new Date;return T.setDate(T.getDate()-7),x.createdAt.toDate()>T}).length})]})})})]}),y.jsx("div",{className:"space-y-6",children:Object.keys(m).length===0?y.jsx(it,{children:y.jsx(st,{children:y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsx("p",{className:"text-dark-600 dark:text-dark-400 mb-2",children:"Aucun historique pour le moment"}),y.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-500",children:"Les transformations et ventes apparatront ici"})]})})}):Object.entries(m).map(([x,T])=>y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold text-dark-700 dark:text-dark-300 mb-3 capitalize",children:x}),y.jsx("div",{className:"space-y-3",children:T.map(A=>{if(A.type==="TRANSFORMATION"){const M=A,B=h(M.transformationId),Q=p(M);return y.jsx(it,{children:y.jsx(st,{className:"p-3",children:y.jsx("div",{className:"flex items-start justify-between",children:y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-lavender-400 to-peach-400 flex items-center justify-center text-white text-sm",children:""}),y.jsx("h3",{className:"text-base font-semibold text-dark-800 dark:text-dark-100",children:B?.name||"Transformation inconnue"}),M.reducedByAction&&y.jsx("span",{className:"px-2 py-0.5 bg-sage-100 dark:bg-sage-900/30 text-sage-700 dark:text-sage-300 text-xs rounded-cozy font-semibold",children:""})]}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Dbut"}),y.jsx("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:g(M.startedAt)})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Fin"}),y.jsx("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:g(M.endsAt)})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Dure"}),y.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[Q,"h"]})]})]})]})})})},A.id)}else{const M=A,B=M.actualValue-M.estimatedValue,Q=Math.abs(B)>0;return y.jsx(it,{className:Q?"border-l-4 border-l-peach-400":"",children:y.jsx(st,{className:"p-3",children:y.jsx("div",{className:"flex items-start justify-between",children:y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-sage-400 to-peach-400 flex items-center justify-center text-white text-sm",children:""}),y.jsxs("h3",{className:"text-base font-semibold text-dark-800 dark:text-dark-100",children:["Vente de ",M.crateLabel]})]}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm mb-2",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Quantit"}),y.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[M.quantitySold," caisse",M.quantitySold>1?"s":""]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Valeur estime"}),y.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[M.estimatedValue.toLocaleString()," $"]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Valeur rcolte"}),y.jsxs("div",{className:`font-semibold ${B>0?"text-sage-600 dark:text-sage-400":B<0?"text-peach-600 dark:text-peach-400":"text-dark-700 dark:text-dark-300"}`,children:[M.actualValue.toLocaleString()," $"]})]}),Q&&y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Diffrence"}),y.jsxs("div",{className:`font-semibold ${B>0?"text-sage-600 dark:text-sage-400":"text-peach-600 dark:text-peach-400"}`,children:[B>0?"+":"",B.toLocaleString()," $"]})]})]}),M.notes&&y.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400 italic bg-dark-50 dark:bg-dark-800 rounded p-2",children:[" ",M.notes]})]})})})},A.id)}})})]},x))})]})},x3=async()=>{try{console.log(" Dbut de l'initialisation Firestore...");const r=Gt(Ye,"configs","default");await pr(r,{name:"default",rules:{timeReductionHours:1},updatedAt:tn()}),console.log(" Config cre");const e=[{id:"zeed",name:"Zeed",input:{materialName:"Feuille",quantity:60},tool:{name:"Pot de terre",price:0},durationHours:48,crate:{name:"Caisse de Zeed",quantityPerCrate:20}},{id:"pandoxine",name:"Pandoxine",input:{materialName:"Viande",quantity:18},tool:{name:"Marmite",price:0},durationHours:96,crate:{name:"Caisse de Pandoxine",quantityPerCrate:12}},{id:"krakenine",name:"Krakenine",input:{materialName:"Huile",quantity:10},tool:{name:"Bidon de chauffe",price:0},durationHours:24,crate:{name:"Caisse de Krakenine",quantityPerCrate:12}},{id:"psylocybine",name:"Psylocybine",input:{materialName:"Champignon",quantity:60},tool:{name:"Sachet de fermentation",price:0},durationHours:72,crate:{name:"Caisse de Psylocybine",quantityPerCrate:20}}];for(const n of e){const s=Gt(Ye,"configs","default","transformations",n.id);await pr(s,n),console.log(` Transformation ${n.name} cre`)}return console.log(" Initialisation termine avec succs!"),{success:!0,message:"Toutes les donnes ont t cres avec succs!"}}catch(r){return console.error(" Erreur lors de l'initialisation:",r),{success:!1,message:`Erreur: ${r.message}`}}},b3="Donnes d'initialisation pour l'espace Malandrinerie dans Firestore",T3={malandrinerie:{materials:[{id:"plastiques",name:"Plastiques",unit:"unit"},{id:"rubans",name:"Rubans",unit:"unit"},{id:"dentiers",name:"Dentiers",unit:"unit"},{id:"pantheres",name:"Panthres",unit:"unit"},{id:"tubes",name:"Tubes",unit:"unit"},{id:"sacs",name:"Sacs",unit:"unit"},{id:"bracelets",name:"Bracelets",unit:"unit"},{id:"consoles",name:"Consoles",unit:"unit"},{id:"smartphones",name:"Smartphones",unit:"unit"},{id:"bons",name:"Bons d'achats",unit:"unit"},{id:"dentifrices",name:"Dentifrices",unit:"unit"},{id:"cigarettes",name:"Cigarettes",unit:"unit"},{id:"plexiglas",name:"Plexiglas",unit:"unit"},{id:"lentilles",name:"Lentilles",unit:"unit"},{id:"batteries",name:"Batteries",unit:"unit"},{id:"flashs",name:"Flashs",unit:"unit"},{id:"circuits",name:"Circuits",unit:"unit"},{id:"ecrous",name:"crous",unit:"unit"},{id:"vis",name:"Vis",unit:"unit"},{id:"fils",name:"Fils",unit:"unit"},{id:"aluminium",name:"Aluminium",unit:"unit"},{id:"viandes",name:"Viandes",unit:"unit"},{id:"abats",name:"Abats",unit:"unit"},{id:"langues",name:"Langues",unit:"unit"},{id:"rognons",name:"Rognons",unit:"unit"},{id:"jerricans",name:"Jerricans",unit:"unit"},{id:"briquets",name:"Briquets",unit:"unit"},{id:"bonbonnes",name:"Bonbonnes",unit:"unit"},{id:"additifs",name:"Additifs",unit:"unit"},{id:"gels",name:"Gels",unit:"unit"},{id:"accelerometres",name:"Acclromtres",unit:"unit"}],recipes:[{id:"couteau",name:"Couteau",emoji:"",category:"T1",batchSize:1,unitPrice:1e3,materials:{plastiques:6,rubans:6,dentiers:6,pantheres:2}},{id:"zips",name:"Zips",emoji:"",category:"T1",batchSize:12,unitPrice:250,materials:{tubes:2,plastiques:6,sacs:4,bracelets:4}},{id:"kits_crochetage_miteux",name:"Kits de crochetage miteux",emoji:"",category:"T1",batchSize:16,unitPrice:250,materials:{consoles:2,tubes:4,plastiques:4,rubans:6}},{id:"faux_tickets_parking",name:"Faux tickets de parking",emoji:"",category:"T1",batchSize:4,unitPrice:0,materials:{smartphones:3,bons:10,rubans:2,consoles:5}},{id:"paquet_cigarette_era",name:"Paquet de cigarette Era",emoji:"",category:"T1",batchSize:5,unitPrice:0,materials:{dentifrices:2,cigarettes:10,bons:2,consoles:2}},{id:"tenue_stagiaire_pole_emploi",name:"Tenue de stagiaire Ple Emploi",emoji:"",category:"T1",batchSize:4,unitPrice:1e3,materials:{bons:6,consoles:4,cigarettes:2,rubans:2,bracelets:3,smartphones:3}},{id:"antistress_artisanal",name:"Antistress artisanal",emoji:"",category:"T1",batchSize:6,unitPrice:400,materials:{dentiers:2,sacs:2,cigarettes:6,dentifrices:6}},{id:"9x19_ap",name:"9x19 AP",emoji:"",category:"T1",batchSize:6,unitPrice:450,materials:{pantheres:4,bracelets:4,sacs:2,dentiers:6}},{id:"pistolet",name:"Pistolet",emoji:"",category:"T1",batchSize:1,unitPrice:3500,materials:{pantheres:6,dentifrices:6,tubes:10,plastiques:8,sacs:10}},{id:"gilet_pare_balles_miteux",name:"Gilet pare-balles miteux",emoji:"",category:"T2",batchSize:1,unitPrice:0,materials:{plexiglas:11,rubans:6,bracelets:6,sacs:3}},{id:"tenue_stagiaire_entreprise",name:"Tenue de stagiaire d'entreprise",emoji:"",category:"T2",batchSize:4,unitPrice:2e3,materials:{lentilles:5,batteries:5,flashs:6,circuits:3,bons:8,cigarettes:5}},{id:"kits_crochetage_avance",name:"Kits de crochetage avanc",emoji:"",category:"T2",batchSize:16,unitPrice:700,materials:{ecrous:5,vis:5,fils:4,circuits:4,dentiers:4}},{id:"mre_peach",name:"MRE Peach / Z ERA",emoji:"",category:"T2",batchSize:6,unitPrice:750,materials:{aluminium:6,viandes:6,abats:5,langues:3,rognons:3}},{id:"bidons_artisanaux",name:"Bidons artisanaux",emoji:"",category:"T2",batchSize:1,unitPrice:10,materials:{plexiglas:3,vis:3,jerricans:6,briquets:6,bonbonnes:4}},{id:"baume_anti_stress",name:"Baume anti-stress",emoji:"",category:"T2",batchSize:4,unitPrice:1e3,materials:{plexiglas:4,additifs:6,cigarettes:4,dentifrices:8}},{id:"pistolet_combat",name:"Pistolet de combat",emoji:"",category:"T2",batchSize:1,unitPrice:6e3,materials:{pistolet:1,vis:3,lentilles:8,flashs:11,pantheres:3},requiresCraft:["pistolet"]},{id:"pistolet_lance",name:"Pistolet lance-...",emoji:"",category:"T2",batchSize:1,unitPrice:5e3,materials:{gels:3,accelerometres:6}},{id:"fusees_eclairantes",name:"Fuses clairantes",emoji:"",category:"T2",batchSize:20,unitPrice:750,materials:{additifs:5,bonbonnes:6,briquets:6,plexiglas:3,flashs:3}},{id:"cocktail_molotov",name:"Cocktail Molotov",emoji:"",category:"T2",batchSize:2,unitPrice:5e3,materials:{jerricans:9,additifs:11,briquets:8,gels:6,fils:5,batteries:8}},{id:"tec9",name:"Tec-9",emoji:"",category:"T2",batchSize:1,unitPrice:1e4,materials:{gels:13,ecrous:8,vis:3,lentilles:9,accelerometres:12}}],groups:[{id:"glory",name:"Glory"},{id:"b2mc",name:"B2MC"},{id:"ob",name:"OB"},{id:"g7",name:"G7"},{id:"mrg",name:"MRG"},{id:"88",name:"88"},{id:"individual",name:"Individuel"}]}},wp={description:b3,spaces:T3},S3=async()=>{try{const r=ks.currentUser;if(!r)return{success:!1,message:"Vous devez tre connect pour initialiser les donnes"};console.log(" Dbut de l'initialisation Malandrinerie...");const e=wp.spaces.malandrinerie.materials,n=wp.spaces.malandrinerie.recipes,s=wp.spaces.malandrinerie.groups;console.log(" Cration des matires premires...");for(const o of e){const c=Gt(Ye,"configs","default","spaces","malandrinerie","materials",o.id);await pr(c,{...o,createdAt:tn(),updatedAt:tn()})}console.log(` ${e.length} matires premires cres`),console.log(" Cration des recettes...");for(const o of n){const c=Gt(Ye,"configs","default","spaces","malandrinerie","recipes",o.id);await pr(c,{...o,createdAt:tn(),updatedAt:tn()})}console.log(` ${n.length} recettes cres`),console.log(" Cration des groupes...");for(const o of s){const c=Gt(Ye,"configs","default","spaces","malandrinerie","groups",o.id);await pr(c,{...o,createdAt:tn(),updatedAt:tn()})}console.log(` ${s.length} groupes crs`),console.log(" Initialisation des stocks utilisateur...");for(const o of e){const c=Gt(Ye,"users",r.uid,"materialStocks",o.id);await pr(c,{materialId:o.id,materialName:o.name,space:"malandrinerie",quantity:0,unit:o.unit,createdAt:tn(),updatedAt:tn()})}return console.log(` ${e.length} stocks initialiss`),console.log(" Initialisation Malandrinerie termine avec succs!"),{success:!0,message:` ${e.length} matires, ${n.length} recettes, ${s.length} groupes et ${e.length} stocks crs!`}}catch(r){return console.error(" Erreur lors de l'initialisation Malandrinerie:",r),{success:!1,message:`Erreur: ${r.message}`}}},A3=()=>{const[r,e]=j.useState(!1),[n,s]=j.useState(null),[o,c]=j.useState(!1),[h,m]=j.useState(null),g=async()=>{e(!0),s(null);const T=await x3();s(T),e(!1)},p=async()=>{c(!0),m(null);const T=await S3();m(T),c(!1)},x=({result:T})=>T?y.jsxs("div",{className:`p-4 rounded-soft mt-4 ${T.success?"bg-sage-light border border-sage":"bg-peach-light border border-peach"}`,children:[y.jsx("p",{className:`font-semibold mb-2 ${T.success?"text-sage-dark":"text-peach-dark"}`,children:T.success?" Succs!":" Erreur"}),y.jsx("p",{className:"text-sm text-text-secondary",children:T.message})]}):null;return y.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:y.jsxs("div",{className:"max-w-6xl w-full space-y-6",children:[y.jsx("h1",{className:"text-4xl font-bold text-text text-center mb-8",children:" Initialisation Firestore"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsx(it,{children:y.jsxs(st,{className:"p-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-mint-dark mb-4 flex items-center gap-2",children:" Espace Drogue"}),y.jsxs("div",{className:"space-y-3 mb-6",children:[y.jsx("p",{className:"text-sm text-text-secondary",children:"Initialise les donnes pour l'espace Drogue/Naturopathie :"}),y.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary ml-4",children:[y.jsx("li",{children:"Configuration globale"}),y.jsx("li",{children:"4 transformations (Zeed, Pandoxine, Krakenine, Psylocybine)"}),y.jsx("li",{children:"Rgle de rduction de temps (1h)"})]}),y.jsx("div",{className:"bg-butter-light border border-butter rounded-soft p-3",children:y.jsx("p",{className:"text-xs text-text-muted",children:" N'excuter qu'une seule fois!"})})]}),y.jsx(Jt,{onClick:g,disabled:r,className:"w-full",children:r?"Initialisation...":" Initialiser Drogue"}),y.jsx(x,{result:n})]})}),y.jsx(it,{children:y.jsxs(st,{className:"p-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-peach-dark mb-4 flex items-center gap-2",children:" Espace Malandrinerie"}),y.jsxs("div",{className:"space-y-3 mb-6",children:[y.jsx("p",{className:"text-sm text-text-secondary",children:"Initialise les donnes pour l'espace Malandrinerie :"}),y.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary ml-4",children:[y.jsx("li",{children:"31 matires premires"}),y.jsx("li",{children:"20 recettes/crafts (10 T1 + 10 T2)"}),y.jsx("li",{children:"7 groupes de commandes"}),y.jsx("li",{children:"Stocks utilisateur  0"})]}),y.jsx("div",{className:"bg-butter-light border border-butter rounded-soft p-3",children:y.jsx("p",{className:"text-xs text-text-muted",children:" Ncessite d'tre connect!"})})]}),y.jsx(Jt,{onClick:p,disabled:o,className:"w-full",children:o?"Initialisation...":" Initialiser Malandrinerie"}),y.jsx(x,{result:h})]})})]}),y.jsx("div",{className:"mt-8 text-center",children:y.jsx("p",{className:"text-xs text-text-muted",children:" Cette page peut tre supprime aprs l'initialisation"})})]})})},w3=()=>{const[r,e]=j.useState([]),[n,s]=j.useState(!0),[o,c]=j.useState(null);j.useEffect(()=>{h()},[]);const h=async()=>{try{const g=ks.currentUser;if(!g)return;const p=fn(Ye,"users",g.uid,"materialStocks"),x=_s(p),T=await ma(x),A=[];T.forEach(M=>{const B=M.data();B.space==="malandrinerie"&&A.push({id:M.id,materialId:B.materialId,materialName:B.materialName,quantity:B.quantity||0,unit:B.unit||"unit"})}),A.sort((M,B)=>M.materialName.localeCompare(B.materialName)),e(A)}catch(g){console.error("Error loading stocks:",g)}finally{s(!1)}},m=async(g,p)=>{try{c(g);const x=ks.currentUser;if(!x)return;const T=r.find(B=>B.id===g);if(!T)return;const A=Math.max(0,T.quantity+p),M=Gt(Ye,"users",x.uid,"materialStocks",g);await Kd(M,{quantity:A,updatedAt:tn()}),e(r.map(B=>B.id===g?{...B,quantity:A}:B))}catch(x){console.error("Error updating stock:",x)}finally{c(null)}};return n?y.jsx("div",{className:"flex items-center justify-center h-64",children:y.jsx("p",{className:"text-text-muted",children:"Chargement des stocks..."})}):y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(xd,{size:32,weight:"duotone",className:"text-peach"}),y.jsx("h1",{className:"text-3xl font-bold text-text",children:"Stocks"})]}),y.jsx(it,{children:y.jsxs(st,{className:"p-0",children:[y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-card-hover border-b border-divider",children:y.jsxs("tr",{className:"text-xs text-text-muted uppercase",children:[y.jsx("th",{className:"text-left p-2 font-semibold",children:"Matire premire"}),y.jsx("th",{className:"text-center p-2 font-semibold w-48",children:"Quantit"}),y.jsx("th",{className:"text-center p-2 font-semibold w-20",children:"Unit"})]})}),y.jsx("tbody",{className:"divide-y divide-divider",children:r.map(g=>{const p=o===g.id;return y.jsxs("tr",{className:"hover:bg-card-hover transition-colors",children:[y.jsx("td",{className:"p-2",children:y.jsx("span",{className:"font-medium text-text text-sm",children:g.materialName})}),y.jsx("td",{className:"p-2",children:y.jsxs("div",{className:"flex items-center justify-center gap-2",children:[y.jsx("button",{onClick:()=>m(g.id,-1),disabled:p||g.quantity===0,className:"p-1 rounded hover:bg-peach-light disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Retirer 1",children:y.jsx(_T,{size:16,weight:"bold",className:"text-peach"})}),y.jsx("span",{className:`font-bold text-lg min-w-[3rem] text-center ${g.quantity===0?"text-text-muted":"text-text"} ${p?"opacity-50":""}`,children:g.quantity}),y.jsx("button",{onClick:()=>m(g.id,1),disabled:p,className:"p-1 rounded hover:bg-sage-light disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Ajouter 1",children:y.jsx(m0,{size:16,weight:"bold",className:"text-sage"})})]})}),y.jsx("td",{className:"p-2 text-center",children:y.jsx("span",{className:"text-xs text-text-secondary",children:g.unit})})]},g.id)})})]})}),r.length===0&&y.jsxs("div",{className:"text-center py-12 text-text-muted",children:[y.jsx("p",{className:"mb-2",children:"Aucun stock trouv"}),y.jsx("p",{className:"text-sm",children:"Initialisez les donnes depuis la page /setup"})]})]})})]})},k3=()=>{const[r,e]=j.useState([]),[n,s]=j.useState(new Map),[o,c]=j.useState(new Map),[h,m]=j.useState(!0),[g,p]=j.useState(new Map),[x,T]=j.useState("");j.useEffect(()=>{A()},[]);const A=async()=>{try{const Z=ks.currentUser;if(!Z)return;const X=fn(Ye,"configs","default","spaces","malandrinerie","recipes"),oe=await ma(_s(X)),z=[];oe.forEach(L=>{z.push({id:L.id,...L.data()})}),z.sort((L,P)=>L.category!==P.category?L.category.localeCompare(P.category):L.name.localeCompare(P.name)),e(z);const le=fn(Ye,"configs","default","spaces","malandrinerie","materials"),ae=await ma(_s(le)),C=new Map;ae.forEach(L=>{C.set(L.id,L.data().name)}),c(C);const R=fn(Ye,"users",Z.uid,"materialStocks"),k=await ma(_s(R)),N=new Map;k.forEach(L=>{const P=L.data();P.space==="malandrinerie"&&N.set(P.materialId,P.quantity||0)}),s(N)}catch(Z){console.error("Error loading data:",Z)}finally{m(!1)}},M=(Z,X)=>{const oe=parseInt(X)||0,z=r.find(R=>R.id===Z);if(!z)return;const le=Math.ceil(oe/z.batchSize),ae=le*z.batchSize,C=ae-oe;p(new Map(g.set(Z,{recipeId:Z,desiredQty:oe,craftsNeeded:le,actualProduction:ae,surplus:C})))},B=(Z,X,oe)=>{const z=g.get(Z);if(!z||z.craftsNeeded===0)return{sufficient:!0,missing:0};const le=oe*z.craftsNeeded,ae=n.get(X)||0,C=ae>=le,R=C?0:le-ae;return{sufficient:C,missing:R,totalNeeded:le,available:ae}},Q=Z=>{const X=r.find(z=>z.id===Z),oe=g.get(Z);return!X||!oe||oe.craftsNeeded===0?!0:Object.entries(X.materials).every(([z,le])=>B(Z,z,le).sufficient)},$=r.filter(Z=>Z.name.toLowerCase().includes(x.toLowerCase())||Z.emoji.includes(x));return h?y.jsx("div",{className:"flex items-center justify-center h-64",children:y.jsx("p",{className:"text-text-muted",children:"Chargement des recettes..."})}):y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"flex items-center justify-between",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(p0,{size:32,weight:"duotone",className:"text-peach"}),y.jsx("h1",{className:"text-3xl font-bold text-text",children:"Recettes"})]})}),y.jsxs("div",{className:"relative",children:[y.jsx(vT,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-muted"}),y.jsx("input",{type:"text",placeholder:"Rechercher une recette...",value:x,onChange:Z=>T(Z.target.value),className:"w-full pl-10 pr-4 py-2 border border-divider rounded-soft bg-card text-text"})]}),y.jsx(it,{children:y.jsxs(st,{className:"p-0",children:[y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-card-hover border-b border-divider",children:y.jsxs("tr",{className:"text-xs text-text-muted uppercase",children:[y.jsx("th",{className:"text-left p-2 font-semibold",children:"Recette"}),y.jsx("th",{className:"text-center p-2 font-semibold w-20",children:"Qt demande"}),y.jsx("th",{className:"text-center p-2 font-semibold w-16",children:"Crafts"}),y.jsx("th",{className:"text-center p-2 font-semibold w-20",children:"Prod. relle"}),y.jsx("th",{className:"text-left p-2 font-semibold",children:"Matriaux ncessaires"}),y.jsx("th",{className:"text-center p-2 font-semibold w-16",children:"tat"})]})}),y.jsx("tbody",{className:"divide-y divide-divider",children:$.map(Z=>{const X=g.get(Z.id),oe=Q(Z.id);return y.jsxs("tr",{className:"hover:bg-card-hover transition-colors",children:[y.jsx("td",{className:"p-2",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-xl",children:Z.emoji}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-text text-sm",children:Z.name}),y.jsxs("p",{className:"text-xs text-text-muted",children:[Z.batchSize>1?`x${Z.batchSize}`:"Unit",Z.unitPrice>0&&`  ${Z.unitPrice}`,Z.category&&`  ${Z.category}`]})]})]})}),y.jsx("td",{className:"p-2",children:y.jsx("input",{type:"number",min:"0",placeholder:"0",value:X?.desiredQty||"",onChange:z=>M(Z.id,z.target.value),className:"w-full px-2 py-1 text-sm text-center border border-divider rounded bg-card"})}),y.jsx("td",{className:"p-2 text-center",children:X&&X.desiredQty>0?y.jsx("span",{className:"text-sm font-semibold text-text",children:X.craftsNeeded}):y.jsx("span",{className:"text-xs text-text-muted",children:"-"})}),y.jsx("td",{className:"p-2 text-center",children:X&&X.desiredQty>0?y.jsxs("div",{className:"text-sm",children:[y.jsx("span",{className:"font-semibold text-text",children:X.actualProduction}),X.surplus>0&&y.jsxs("span",{className:"text-xs text-butter-dark ml-1",children:["(+",X.surplus,")"]})]}):y.jsx("span",{className:"text-xs text-text-muted",children:"-"})}),y.jsx("td",{className:"p-2",children:y.jsx("div",{className:"flex flex-wrap gap-2 text-xs",children:Object.entries(Z.materials).map(([z,le])=>{const ae=B(Z.id,z,le),C=X&&X.desiredQty>0;return y.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full ${C&&!ae.sufficient?"bg-peach-light text-peach-dark":"bg-card-hover text-text-secondary"}`,children:[o.get(z)||z,": ",le,C&&` (${ae.totalNeeded})`,C&&!ae.sufficient&&y.jsxs("span",{className:"font-semibold",children:["-",ae.missing]})]},z)})})}),y.jsx("td",{className:"p-2 text-center",children:X&&X.desiredQty>0&&(oe?y.jsx(fT,{size:20,weight:"fill",className:"text-sage inline-block"}):y.jsx(TT,{size:20,weight:"fill",className:"text-peach inline-block"}))})]},Z.id)})})]})}),$.length===0&&y.jsxs("div",{className:"p-12 text-center text-text-muted",children:[y.jsx("p",{className:"mb-2",children:x?"Aucune recette ne correspond  votre recherche":"Aucune recette trouve"}),!x&&y.jsx("p",{className:"text-sm",children:"Initialisez les donnes depuis la page /setup"})]})]})})]})},R3=()=>{const[r,e]=j.useState([]),[n,s]=j.useState([]),[o,c]=j.useState(!0),[h,m]=j.useState(""),[g,p]=j.useState([]),[x,T]=j.useState(""),[A,M]=j.useState(0);j.useEffect(()=>{B()},[]);const B=async()=>{try{const z=fn(Ye,"configs","default","spaces","malandrinerie","recipes"),le=await ma(_s(z)),ae=[];le.forEach(N=>{ae.push({id:N.id,...N.data()})}),ae.sort((N,L)=>N.name.localeCompare(L.name)),e(ae);const C=fn(Ye,"configs","default","spaces","malandrinerie","groups"),R=await ma(_s(C)),k=[];R.forEach(N=>{k.push({id:N.id,...N.data()})}),s(k)}catch(z){console.error("Error loading data:",z)}finally{c(!1)}},Q=()=>{if(!x||A<=0)return;const z=r.find(N=>N.id===x);if(!z)return;const le=Math.ceil(A/z.batchSize),ae=le*z.batchSize,C=ae-A,R=ae*z.unitPrice,k={recipeId:z.id,recipeName:z.name,emoji:z.emoji,requestedQty:A,batchSize:z.batchSize,craftsNeeded:le,actualProduction:ae,surplus:C,unitPrice:z.unitPrice,totalPrice:R};p([...g,k]),T(""),M(0)},$=z=>{p(g.filter((le,ae)=>ae!==z))},Z=(z,le)=>{const ae=[...g];ae[z].unitPrice=le,ae[z].totalPrice=le*ae[z].actualProduction,p(ae)},X=()=>g.reduce((z,le)=>z+le.totalPrice,0),oe=async()=>{try{const z=ks.currentUser;if(!z||!h||g.length===0)return;const le=n.find(C=>C.id===h);if(!le)return;const ae={userId:z.uid,space:"malandrinerie",groupId:h,groupName:le.name,items:g,totalAmount:X(),createdAt:tn()};await oN(fn(Ye,"users",z.uid,"orders"),ae),p([]),m(""),alert("Commande enregistre avec succs!")}catch(z){console.error("Error saving order:",z),alert("Erreur lors de l'enregistrement")}};return o?y.jsx("div",{className:"flex items-center justify-center h-64",children:y.jsx("p",{className:"text-text-muted",children:"Chargement..."})}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(g0,{size:32,weight:"duotone",className:"text-peach"}),y.jsx("h1",{className:"text-3xl font-bold text-text",children:"Commandes - Malandrinerie"})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsx("div",{className:"lg:col-span-2 space-y-6",children:y.jsx(it,{children:y.jsxs(st,{className:"p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-text mb-4",children:"Nouvelle commande"}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-semibold text-text mb-2",children:"Groupe ou personne"}),y.jsxs("select",{value:h,onChange:z=>m(z.target.value),className:"w-full px-3 py-2 border border-divider rounded-soft",children:[y.jsx("option",{value:"",children:"-- Slectionner --"}),n.map(z=>y.jsx("option",{value:z.id,children:z.name},z.id))]})]}),y.jsxs("div",{className:"mb-4 p-4 bg-card-hover rounded-soft",children:[y.jsx("p",{className:"text-sm font-semibold text-text mb-3",children:"Ajouter un article"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[y.jsxs("select",{value:x,onChange:z=>T(z.target.value),className:"col-span-2 px-3 py-2 border border-divider rounded-soft",children:[y.jsx("option",{value:"",children:"-- Slectionner une recette --"}),r.map(z=>y.jsxs("option",{value:z.id,children:[z.emoji," ",z.name," ",z.batchSize>1?`(x${z.batchSize})`:""]},z.id))]}),y.jsx("input",{type:"number",min:"0",placeholder:"Quantit",value:A||"",onChange:z=>M(parseInt(z.target.value)||0),className:"px-3 py-2 border border-divider rounded-soft"})]}),y.jsxs(Jt,{onClick:Q,disabled:!x||A<=0,className:"w-full mt-3",children:[y.jsx(m0,{size:18,weight:"bold"}),"Ajouter  la commande"]})]}),g.length>0&&y.jsxs("div",{className:"space-y-3",children:[y.jsx("p",{className:"text-sm font-semibold text-text-muted",children:"Articles de la commande"}),g.map((z,le)=>y.jsxs("div",{className:"p-4 border border-divider rounded-soft",children:[y.jsxs("div",{className:"flex items-start justify-between mb-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-xl",children:z.emoji}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-text",children:z.recipeName}),y.jsxs("p",{className:"text-xs text-text-muted",children:["Demand: ",z.requestedQty,"  Crafts: ",z.craftsNeeded,"  Production: ",z.actualProduction,z.surplus>0&&` (+${z.surplus} surplus)`]})]})]}),y.jsx("button",{onClick:()=>$(le),className:"text-peach hover:text-peach-dark",children:y.jsx(bT,{size:20})})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Prix unitaire"}),y.jsx("input",{type:"number",min:"0",value:z.unitPrice,onChange:ae=>Z(le,parseFloat(ae.target.value)||0),className:"w-full px-3 py-1 text-sm border border-divider rounded-soft"})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Total"}),y.jsxs("p",{className:"font-bold text-text px-3 py-1",children:[z.totalPrice.toFixed(2),""]})]})]})]},le))]})]})})}),y.jsx("div",{children:y.jsx(it,{children:y.jsxs(st,{className:"p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-text mb-4",children:"Rsum"}),h?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-4 p-3 bg-card-hover rounded-soft",children:[y.jsx("p",{className:"text-sm text-text-muted",children:"Groupe/Personne"}),y.jsx("p",{className:"font-bold text-text",children:n.find(z=>z.id===h)?.name})]}),y.jsxs("div",{className:"mb-4 p-3 bg-card-hover rounded-soft",children:[y.jsx("p",{className:"text-sm text-text-muted",children:"Articles"}),y.jsx("p",{className:"font-bold text-text text-2xl",children:g.length})]}),y.jsxs("div",{className:"mb-6 p-4 bg-peach-light rounded-soft border border-peach",children:[y.jsx("p",{className:"text-sm text-text-muted mb-1",children:"Total de la commande"}),y.jsxs("p",{className:"font-bold text-text text-3xl",children:[X().toFixed(2),""]})]}),y.jsx(Jt,{onClick:oe,disabled:g.length===0,className:"w-full",children:"Enregistrer la commande"})]}):y.jsx("p",{className:"text-sm text-text-muted text-center py-8",children:"Slectionnez un groupe pour commencer"})]})})})]})]})},Fr=({children:r})=>{const{user:e,loading:n}=Aa();return n?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"text-xl text-dark-600 dark:text-dark-400",children:"Chargement..."})}):e?y.jsx(m3,{children:r}):y.jsx(t2,{to:"/login",replace:!0})};function C3(){const{user:r,loading:e}=Aa();return e?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"text-xl text-dark-600 dark:text-dark-400",children:"Chargement..."})}):y.jsxs(cw,{children:[y.jsx(Yn,{path:"/login",element:r?y.jsx(t2,{to:"/",replace:!0}):y.jsx(ML,{})}),y.jsx(Yn,{path:"/",element:y.jsx(Fr,{children:y.jsx(QL,{})})}),y.jsx(Yn,{path:"/stocks",element:y.jsx(Fr,{children:y.jsx(p3,{})})}),y.jsx(Yn,{path:"/prices",element:y.jsx(Fr,{children:y.jsx(g3,{})})}),y.jsx(Yn,{path:"/calculator",element:y.jsx(Fr,{children:y.jsx(y3,{})})}),y.jsx(Yn,{path:"/timers",element:y.jsx(Fr,{children:y.jsx(_3,{})})}),y.jsx(Yn,{path:"/history",element:y.jsx(Fr,{children:y.jsx(E3,{})})}),y.jsx(Yn,{path:"/setup",element:y.jsx(Fr,{children:y.jsx(A3,{})})}),y.jsx(Yn,{path:"/malandrinerie/stocks",element:y.jsx(Fr,{children:y.jsx(w3,{})})}),y.jsx(Yn,{path:"/malandrinerie/recipes",element:y.jsx(Fr,{children:y.jsx(k3,{})})}),y.jsx(Yn,{path:"/malandrinerie/orders",element:y.jsx(Fr,{children:y.jsx(R3,{})})})]})}function I3(){return y.jsx(Dw,{basename:"/Brewsy",children:y.jsx(DL,{children:y.jsx(jL,{children:y.jsx(C3,{})})})})}dA.createRoot(document.getElementById("root")).render(y.jsx(j.StrictMode,{children:y.jsx(I3,{})}));
