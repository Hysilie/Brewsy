(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function oA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ip={exports:{}},yc={};var Bv;function lA(){if(Bv)return yc;Bv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:c}}return yc.Fragment=e,yc.jsx=n,yc.jsxs=n,yc}var Hv;function cA(){return Hv||(Hv=1,ip.exports=lA()),ip.exports}var y=cA(),sp={exports:{}},Se={};var Fv;function uA(){if(Fv)return Se;Fv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function M(P){return P===null||typeof P!="object"?null:(P=A&&P[A]||P["@@iterator"],typeof P=="function"?P:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,Q={};function se(P,re,he){this.props=P,this.context=re,this.refs=Q,this.updater=he||B}se.prototype.isReactComponent={},se.prototype.setState=function(P,re){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,re,"setState")},se.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function ne(){}ne.prototype=se.prototype;function oe(P,re,he){this.props=P,this.context=re,this.refs=Q,this.updater=he||B}var G=oe.prototype=new ne;G.constructor=oe,$(G,se.prototype),G.isPureReactComponent=!0;var le=Array.isArray;function ae(){}var R={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function k(P,re,he){var me=he.ref;return{$$typeof:r,type:P,key:re,ref:me!==void 0?me:null,props:he}}function I(P,re){return k(P.type,re,P.props)}function L(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function V(P){var re={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(he){return re[he]})}var N=/\/+/g;function Ne(P,re){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):re.toString(36)}function Ze(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ae,ae):(P.status="pending",P.then(function(re){P.status==="pending"&&(P.status="fulfilled",P.value=re)},function(re){P.status==="pending"&&(P.status="rejected",P.reason=re)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Y(P,re,he,me,be){var Re=typeof P;(Re==="undefined"||Re==="boolean")&&(P=null);var ze=!1;if(P===null)ze=!0;else switch(Re){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(P.$$typeof){case r:case e:ze=!0;break;case x:return ze=P._init,Y(ze(P._payload),re,he,me,be)}}if(ze)return be=be(P),ze=me===""?"."+Ne(P,0):me,le(be)?(he="",ze!=null&&(he=ze.replace(N,"$&/")+"/"),Y(be,re,he,"",function(Ls){return Ls})):be!=null&&(L(be)&&(be=I(be,he+(be.key==null||P&&P.key===be.key?"":(""+be.key).replace(N,"$&/")+"/")+ze)),re.push(be)),1;ze=0;var Pt=me===""?".":me+":";if(le(P))for(var ut=0;ut<P.length;ut++)me=P[ut],Re=Pt+Ne(me,ut),ze+=Y(me,re,he,Re,be);else if(ut=M(P),typeof ut=="function")for(P=ut.call(P),ut=0;!(me=P.next()).done;)me=me.value,Re=Pt+Ne(me,ut++),ze+=Y(me,re,he,Re,be);else if(Re==="object"){if(typeof P.then=="function")return Y(Ze(P),re,he,me,be);throw re=String(P),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return ze}function z(P,re,he){if(P==null)return P;var me=[],be=0;return Y(P,me,"","",function(Re){return re.call(he,Re,be++)}),me}function ue(P){if(P._status===-1){var re=P._result;re=re(),re.then(function(he){(P._status===0||P._status===-1)&&(P._status=1,P._result=he)},function(he){(P._status===0||P._status===-1)&&(P._status=2,P._result=he)}),P._status===-1&&(P._status=0,P._result=re)}if(P._status===1)return P._result.default;throw P._result}var Ie=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},He={map:z,forEach:function(P,re,he){z(P,function(){re.apply(this,arguments)},he)},count:function(P){var re=0;return z(P,function(){re++}),re},toArray:function(P){return z(P,function(re){return re})||[]},only:function(P){if(!L(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Se.Activity=T,Se.Children=He,Se.Component=se,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=oe,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Se.__COMPILER_RUNTIME={__proto__:null,c:function(P){return R.H.useMemoCache(P)}},Se.cache=function(P){return function(){return P.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(P,re,he){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var me=$({},P.props),be=P.key;if(re!=null)for(Re in re.key!==void 0&&(be=""+re.key),re)!C.call(re,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&re.ref===void 0||(me[Re]=re[Re]);var Re=arguments.length-2;if(Re===1)me.children=he;else if(1<Re){for(var ze=Array(Re),Pt=0;Pt<Re;Pt++)ze[Pt]=arguments[Pt+2];me.children=ze}return k(P.type,be,me)},Se.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:c,_context:P},P},Se.createElement=function(P,re,he){var me,be={},Re=null;if(re!=null)for(me in re.key!==void 0&&(Re=""+re.key),re)C.call(re,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(be[me]=re[me]);var ze=arguments.length-2;if(ze===1)be.children=he;else if(1<ze){for(var Pt=Array(ze),ut=0;ut<ze;ut++)Pt[ut]=arguments[ut+2];be.children=Pt}if(P&&P.defaultProps)for(me in ze=P.defaultProps,ze)be[me]===void 0&&(be[me]=ze[me]);return k(P,Re,be)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(P){return{$$typeof:m,render:P}},Se.isValidElement=L,Se.lazy=function(P){return{$$typeof:x,_payload:{_status:-1,_result:P},_init:ue}},Se.memo=function(P,re){return{$$typeof:p,type:P,compare:re===void 0?null:re}},Se.startTransition=function(P){var re=R.T,he={};R.T=he;try{var me=P(),be=R.S;be!==null&&be(he,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(ae,Ie)}catch(Re){Ie(Re)}finally{re!==null&&he.types!==null&&(re.types=he.types),R.T=re}},Se.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Se.use=function(P){return R.H.use(P)},Se.useActionState=function(P,re,he){return R.H.useActionState(P,re,he)},Se.useCallback=function(P,re){return R.H.useCallback(P,re)},Se.useContext=function(P){return R.H.useContext(P)},Se.useDebugValue=function(){},Se.useDeferredValue=function(P,re){return R.H.useDeferredValue(P,re)},Se.useEffect=function(P,re){return R.H.useEffect(P,re)},Se.useEffectEvent=function(P){return R.H.useEffectEvent(P)},Se.useId=function(){return R.H.useId()},Se.useImperativeHandle=function(P,re,he){return R.H.useImperativeHandle(P,re,he)},Se.useInsertionEffect=function(P,re){return R.H.useInsertionEffect(P,re)},Se.useLayoutEffect=function(P,re){return R.H.useLayoutEffect(P,re)},Se.useMemo=function(P,re){return R.H.useMemo(P,re)},Se.useOptimistic=function(P,re){return R.H.useOptimistic(P,re)},Se.useReducer=function(P,re,he){return R.H.useReducer(P,re,he)},Se.useRef=function(P){return R.H.useRef(P)},Se.useState=function(P){return R.H.useState(P)},Se.useSyncExternalStore=function(P,re,he){return R.H.useSyncExternalStore(P,re,he)},Se.useTransition=function(){return R.H.useTransition()},Se.version="19.2.3",Se}var qv;function og(){return qv||(qv=1,sp.exports=uA()),sp.exports}var j=og();const _=oA(j);var ap={exports:{}},vc={},op={exports:{}},lp={};var Gv;function hA(){return Gv||(Gv=1,(function(r){function e(Y,z){var ue=Y.length;Y.push(z);e:for(;0<ue;){var Ie=ue-1>>>1,He=Y[Ie];if(0<o(He,z))Y[Ie]=z,Y[ue]=He,ue=Ie;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var z=Y[0],ue=Y.pop();if(ue!==z){Y[0]=ue;e:for(var Ie=0,He=Y.length,P=He>>>1;Ie<P;){var re=2*(Ie+1)-1,he=Y[re],me=re+1,be=Y[me];if(0>o(he,ue))me<He&&0>o(be,he)?(Y[Ie]=be,Y[me]=ue,Ie=me):(Y[Ie]=he,Y[re]=ue,Ie=re);else if(me<He&&0>o(be,ue))Y[Ie]=be,Y[me]=ue,Ie=me;else break e}}return z}function o(Y,z){var ue=Y.sortIndex-z.sortIndex;return ue!==0?ue:Y.id-z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],p=[],x=1,T=null,A=3,M=!1,B=!1,$=!1,Q=!1,se=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function G(Y){for(var z=n(p);z!==null;){if(z.callback===null)s(p);else if(z.startTime<=Y)s(p),z.sortIndex=z.expirationTime,e(g,z);else break;z=n(p)}}function le(Y){if($=!1,G(Y),!B)if(n(g)!==null)B=!0,ae||(ae=!0,V());else{var z=n(p);z!==null&&Ze(le,z.startTime-Y)}}var ae=!1,R=-1,C=5,k=-1;function I(){return Q?!0:!(r.unstable_now()-k<C)}function L(){if(Q=!1,ae){var Y=r.unstable_now();k=Y;var z=!0;try{e:{B=!1,$&&($=!1,ne(R),R=-1),M=!0;var ue=A;try{t:{for(G(Y),T=n(g);T!==null&&!(T.expirationTime>Y&&I());){var Ie=T.callback;if(typeof Ie=="function"){T.callback=null,A=T.priorityLevel;var He=Ie(T.expirationTime<=Y);if(Y=r.unstable_now(),typeof He=="function"){T.callback=He,G(Y),z=!0;break t}T===n(g)&&s(g),G(Y)}else s(g);T=n(g)}if(T!==null)z=!0;else{var P=n(p);P!==null&&Ze(le,P.startTime-Y),z=!1}}break e}finally{T=null,A=ue,M=!1}z=void 0}}finally{z?V():ae=!1}}}var V;if(typeof oe=="function")V=function(){oe(L)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ne=N.port2;N.port1.onmessage=L,V=function(){Ne.postMessage(null)}}else V=function(){se(L,0)};function Ze(Y,z){R=se(function(){Y(r.unstable_now())},z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var z=3;break;default:z=A}var ue=A;A=z;try{return Y()}finally{A=ue}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(Y,z){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ue=A;A=Y;try{return z()}finally{A=ue}},r.unstable_scheduleCallback=function(Y,z,ue){var Ie=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ie+ue:Ie):ue=Ie,Y){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=ue+He,Y={id:x++,callback:z,priorityLevel:Y,startTime:ue,expirationTime:He,sortIndex:-1},ue>Ie?(Y.sortIndex=ue,e(p,Y),n(g)===null&&Y===n(p)&&($?(ne(R),R=-1):$=!0,Ze(le,ue-Ie))):(Y.sortIndex=He,e(g,Y),B||M||(B=!0,ae||(ae=!0,V()))),Y},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(Y){var z=A;return function(){var ue=A;A=z;try{return Y.apply(this,arguments)}finally{A=ue}}}})(lp)),lp}var Wv;function dA(){return Wv||(Wv=1,op.exports=hA()),op.exports}var cp={exports:{}},sn={};var $v;function fA(){if($v)return sn;$v=1;var r=og();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,p,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:p,implementation:x}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(g,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(g,p,null,x)},sn.flushSync=function(g){var p=h.T,x=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=x,s.d.f()}},sn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},sn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},sn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var x=p.as,T=m(x,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:M}):x==="script"&&s.d.X(g,{crossOrigin:T,integrity:A,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},sn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,T=m(x,p.crossOrigin);s.d.L(g,x,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(g,p){if(typeof g=="string")if(p){var x=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},sn.requestFormReset=function(g){s.d.r(g)},sn.unstable_batchedUpdates=function(g,p){return g(p)},sn.useFormState=function(g,p,x){return h.H.useFormState(g,p,x)},sn.useFormStatus=function(){return h.H.useHostTransitionStatus()},sn.version="19.2.3",sn}var Qv;function mA(){if(Qv)return cp.exports;Qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cp.exports=fA(),cp.exports}var Kv;function pA(){if(Kv)return vc;Kv=1;var r=dA(),e=og(),n=mA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return g(d),t;if(f===l)return g(d),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var E=!1,S=d.child;S;){if(S===a){E=!0,a=d,l=f;break}if(S===l){E=!0,l=d,a=f;break}S=S.sibling}if(!E){for(S=f.child;S;){if(S===a){E=!0,a=f,l=d;break}if(S===l){E=!0,l=f,a=d;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function x(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=x(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case se:return"Profiler";case Q:return"StrictMode";case le:return"Suspense";case ae:return"SuspenseList";case k:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case oe:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case G:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:Ne(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return Ne(t(i))}catch{}}return null}var Ze=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ie=[],He=-1;function P(t){return{current:t}}function re(t){0>He||(t.current=Ie[He],Ie[He]=null,He--)}function he(t,i){He++,Ie[He]=t.current,t.current=i}var me=P(null),be=P(null),Re=P(null),ze=P(null);function Pt(t,i){switch(he(Re,i),he(be,t),he(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?uv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=uv(i),t=hv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}re(me),he(me,t)}function ut(){re(me),re(be),re(Re)}function Ls(t){t.memoizedState!==null&&he(ze,t);var i=me.current,a=hv(i,t.type);i!==a&&(he(be,t),he(me,a))}function Ga(t){be.current===t&&(re(me),re(be)),ze.current===t&&(re(ze),fc._currentValue=ue)}var Wa,$a;function xr(t){if(Wa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Wa=i&&i[1]||"",$a=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wa+t+$a}var fl=!1;function Ds(t,i){if(!t||fl)return"";fl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(X){var W=X}Reflect.construct(t,[],te)}else{try{te.call()}catch(X){W=X}t.call(te.prototype)}}else{try{throw Error()}catch(X){W=X}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(X){if(X&&W&&typeof X.stack=="string")return[X.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),E=f[0],S=f[1];if(E&&S){var D=E.split(`
`),q=S.split(`
`);for(d=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(l===D.length||d===q.length)for(l=D.length-1,d=q.length-1;1<=l&&0<=d&&D[l]!==q[d];)d--;for(;1<=l&&0<=d;l--,d--)if(D[l]!==q[d]){if(l!==1||d!==1)do if(l--,d--,0>d||D[l]!==q[d]){var Z=`
`+D[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=d);break}}}finally{fl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?xr(a):""}function ml(t,i){switch(t.tag){case 26:case 27:case 5:return xr(t.type);case 16:return xr("Lazy");case 13:return t.child!==i&&i!==null?xr("Suspense Fallback"):xr("Suspense");case 19:return xr("SuspenseList");case 0:case 15:return Ds(t.type,!1);case 11:return Ds(t.type.render,!1);case 1:return Ds(t.type,!0);case 31:return xr("Activity");default:return""}}function pl(t){try{var i="",a=null;do i+=ml(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var St=Object.prototype.hasOwnProperty,Ut=r.unstable_scheduleCallback,Ii=r.unstable_cancelCallback,af=r.unstable_shouldYield,au=r.unstable_requestPaint,hn=r.unstable_now,js=r.unstable_getCurrentPriorityLevel,gl=r.unstable_ImmediatePriority,yl=r.unstable_UserBlockingPriority,Ni=r.unstable_NormalPriority,of=r.unstable_LowPriority,ou=r.unstable_IdlePriority,lu=r.log,cu=r.unstable_setDisableYieldValue,tr=null,Kt=null;function Pn(t){if(typeof lu=="function"&&cu(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(tr,t)}catch{}}var _t=Math.clz32?Math.clz32:hu,uu=Math.log,Qa=Math.LN2;function hu(t){return t>>>=0,t===0?32:31-(uu(t)/Qa|0)|0}var br=256,Ms=262144,At=4194304;function Tr(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sr(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~f,l!==0?d=Tr(l):(E&=S,E!==0?d=Tr(E):a||(a=S&~t,a!==0&&(d=Tr(a))))):(S=l&~f,S!==0?d=Tr(S):E!==0?d=Tr(E):a||(a=l&~t,a!==0&&(d=Tr(a)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:d}function nr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function lf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function du(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function Ar(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Os(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function cf(t,i,a,l,d,f){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,q=t.hiddenUpdates;for(a=E&~a;0<a;){var Z=31-_t(a),te=1<<Z;S[Z]=0,D[Z]=-1;var W=q[Z];if(W!==null)for(q[Z]=null,Z=0;Z<W.length;Z++){var X=W[Z];X!==null&&(X.lane&=-536870913)}a&=~te}l!==0&&Vs(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(E&~i))}function Vs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-_t(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function vl(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-_t(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function _l(t,i){var a=i&-i;return a=(a&42)!==0?1:Ps(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ei(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fu(){var t=z.p;return t!==0?t:(t=window.event,t===void 0?32:jv(t.type))}function rr(t,i){var a=z.p;try{return z.p=t,i()}finally{z.p=a}}var ir=Math.random().toString(36).slice(2),wt="__reactFiber$"+ir,qt="__reactProps$"+ir,wr="__reactContainer$"+ir,Ka="__reactEvents$"+ir,uf="__reactListeners$"+ir,mu="__reactHandles$"+ir,pu="__reactResources$"+ir,kr="__reactMarker$"+ir;function Ya(t){delete t[wt],delete t[qt],delete t[Ka],delete t[uf],delete t[mu]}function Rr(t){var i=t[wt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[wr]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=vv(t);t!==null;){if(a=t[wt])return a;t=vv(t)}return i}t=a,a=t.parentNode}return null}function Un(t){if(t=t[wt]||t[wr]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function wn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Cr(t){var i=t[pu];return i||(i=t[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function kt(t){t[kr]=!0}var El=new Set,xl={};function Ir(t,i){Nr(t,i),Nr(t+"Capture",i)}function Nr(t,i){for(xl[t]=i,t=0;t<i.length;t++)El.add(i[t])}var bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tl={},Sl={};function gu(t){return St.call(Sl,t)?!0:St.call(Tl,t)?!1:bl.test(t)?Sl[t]=!0:(Tl[t]=!0,!1)}function Xa(t,i,a){if(gu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function kn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Rt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Gt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Li(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Al(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(E){a=""+E,f.call(this,E)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=Li(t)?"checked":"value";t._valueTracker=Al(t,i,""+t[i])}}function Us(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Li(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Lr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zs=/[\n"\\]/g;function yn(t){return t.replace(zs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Za(t,i,a,l,d,f,E,S){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Gt(i)):t.value!==""+Gt(i)&&(t.value=""+Gt(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?wl(t,E,Gt(i)):a!=null?wl(t,E,Gt(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Gt(S):t.removeAttribute("name")}function yu(t,i,a,l,d,f,E,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Gt(a):"",i=i!=null?""+Gt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),Ke(t)}function wl(t,i,a){i==="number"&&Lr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Di(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Gt(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function vu(t,i,a){if(i!=null&&(i=""+Gt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Gt(a):""}function ji(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ze(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Gt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function vn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||_u.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Rl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&kl(t,d,l)}else for(var f in i)i.hasOwnProperty(f)&&kl(t,f,i[f])}function Ja(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(t){return Mi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function sr(){}var Cl=null;function zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oi=null,Dr=null;function Bs(t){var i=Un(t);if(i&&(t=i.stateNode)){var a=t[qt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Za(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[qt]||null;if(!d)throw Error(s(90));Za(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Us(l)}break e;case"textarea":vu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Di(t,!!a.multiple,i,!1)}}}var to=!1;function Vi(t,i,a){if(to)return t(i,a);to=!0;try{var l=t(i);return l}finally{if(to=!1,(Oi!==null||Dr!==null)&&(fh(),Oi&&(i=Oi,t=Dr,Dr=Oi=null,Bs(i),t)))for(i=0;i<t.length;i++)Bs(t[i])}}function ar(t,i){var a=t.stateNode;if(a===null)return null;var l=a[qt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hs=!1;if(Bn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Hs=!1}var jr=null,Il=null,Fs=null;function Nl(){if(Fs)return Fs;var t,i=Il,a=i.length,l,d="value"in jr?jr.value:jr.textContent,f=d.length;for(t=0;t<a&&i[t]===d[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===d[f-l];l++);return Fs=d.slice(t,1<l?1-l:void 0)}function qs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ti(){return!0}function or(){return!1}function Yt(t){function i(a,l,d,f,E){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=E,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ti:or,this.isPropagationStopped=or,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),i}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mr=Yt(ni),Pi=T({},ni,{view:0,detail:0}),Ll=Yt(Pi),Ui,no,Or,ro=T({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Or&&(Or&&t.type==="mousemove"?(Ui=t.screenX-Or.screenX,no=t.screenY-Or.screenY):no=Ui=0,Or=t),Ui)},movementY:function(t){return"movementY"in t?t.movementY:no}}),Dl=Yt(ro),Gs=T({},ro,{dataTransfer:0}),xu=Yt(Gs),bu=T({},Pi,{relatedTarget:0}),Ws=Yt(bu),jl=T({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=Yt(jl),io=T({},ni,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Su=Yt(io),Au=T({},ni,{data:0}),Vr=Yt(Au),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ru[t])?!!i[t]:!1}function zi(){return Cu}var dn=T({},Pi,{key:function(t){if(t.key){var i=wu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=qs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zi,charCode:function(t){return t.type==="keypress"?qs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Iu=Yt(dn),Nu=T({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ri=Yt(Nu),u=T({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zi}),v=Yt(u),b=T({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Yt(b),H=T({},ro,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Yt(H),ce=T({},ni,{newState:0,oldState:0}),we=Yt(ce),Et=[9,13,27,32],We=Bn&&"CompositionEvent"in window,ht=null;Bn&&"documentMode"in document&&(ht=document.documentMode);var Hn=Bn&&"TextEvent"in window&&!ht,Pr=Bn&&(!We||ht&&8<ht&&11>=ht),lr=" ",cr=!1;function $s(t,i){switch(t){case"keyup":return Et.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function so(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ao=!1;function NT(t,i){switch(t){case"compositionend":return so(i);case"keypress":return i.which!==32?null:(cr=!0,lr);case"textInput":return t=i.data,t===lr&&cr?null:t;default:return null}}function LT(t,i){if(ao)return t==="compositionend"||!We&&$s(t,i)?(t=Nl(),Fs=Il=jr=null,ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pr&&i.locale!=="ko"?null:i.data;default:return null}}var DT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x0(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!DT[t.type]:i==="textarea"}function b0(t,i,a,l){Oi?Dr?Dr.push(l):Dr=[l]:Oi=l,i=Eh(i,"onChange"),0<i.length&&(a=new Mr("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ml=null,Ol=null;function jT(t){iv(t,0)}function Lu(t){var i=wn(t);if(Us(i))return t}function T0(t,i){if(t==="change")return i}var S0=!1;if(Bn){var hf;if(Bn){var df="oninput"in document;if(!df){var A0=document.createElement("div");A0.setAttribute("oninput","return;"),df=typeof A0.oninput=="function"}hf=df}else hf=!1;S0=hf&&(!document.documentMode||9<document.documentMode)}function w0(){Ml&&(Ml.detachEvent("onpropertychange",k0),Ol=Ml=null)}function k0(t){if(t.propertyName==="value"&&Lu(Ol)){var i=[];b0(i,Ol,t,zn(t)),Vi(jT,i)}}function MT(t,i,a){t==="focusin"?(w0(),Ml=i,Ol=a,Ml.attachEvent("onpropertychange",k0)):t==="focusout"&&w0()}function OT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(Ol)}function VT(t,i){if(t==="click")return Lu(i)}function PT(t,i){if(t==="input"||t==="change")return Lu(i)}function UT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Rn=typeof Object.is=="function"?Object.is:UT;function Vl(t,i){if(Rn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!St.call(i,d)||!Rn(t[d],i[d]))return!1}return!0}function R0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function C0(t,i){var a=R0(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=R0(a)}}function I0(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?I0(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function N0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Lr(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Lr(t.document)}return i}function ff(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var zT=Bn&&"documentMode"in document&&11>=document.documentMode,oo=null,mf=null,Pl=null,pf=!1;function L0(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||oo==null||oo!==Lr(l)||(l=oo,"selectionStart"in l&&ff(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Pl&&Vl(Pl,l)||(Pl=l,l=Eh(mf,"onSelect"),0<l.length&&(i=new Mr("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=oo)))}function Qs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var lo={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},gf={},D0={};Bn&&(D0=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Ks(t){if(gf[t])return gf[t];if(!lo[t])return t;var i=lo[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in D0)return gf[t]=i[a];return t}var j0=Ks("animationend"),M0=Ks("animationiteration"),O0=Ks("animationstart"),BT=Ks("transitionrun"),HT=Ks("transitionstart"),FT=Ks("transitioncancel"),V0=Ks("transitionend"),P0=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function ur(t,i){P0.set(t,i),Ir(i,[t])}var Du=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fn=[],co=0,vf=0;function ju(){for(var t=co,i=vf=co=0;i<t;){var a=Fn[i];Fn[i++]=null;var l=Fn[i];Fn[i++]=null;var d=Fn[i];Fn[i++]=null;var f=Fn[i];if(Fn[i++]=null,l!==null&&d!==null){var E=l.pending;E===null?d.next=d:(d.next=E.next,E.next=d),l.pending=d}f!==0&&U0(a,d,f)}}function Mu(t,i,a,l){Fn[co++]=t,Fn[co++]=i,Fn[co++]=a,Fn[co++]=l,vf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _f(t,i,a,l){return Mu(t,i,a,l),Ou(t)}function Ys(t,i){return Mu(t,null,null,i),Ou(t)}function U0(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&i!==null&&(d=31-_t(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),f):null}function Ou(t){if(50<ac)throw ac=0,Rm=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var uo={};function qT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,i,a,l){return new qT(t,i,a,l)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ii(t,i){var a=t.alternate;return a===null?(a=Cn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function z0(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Vu(t,i,a,l,d,f){var E=0;if(l=t,typeof t=="function")Ef(t)&&(E=1);else if(typeof t=="string")E=KS(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case k:return t=Cn(31,a,i,d),t.elementType=k,t.lanes=f,t;case $:return Xs(a.children,d,f,i);case Q:E=8,d|=24;break;case se:return t=Cn(12,a,i,d|2),t.elementType=se,t.lanes=f,t;case le:return t=Cn(13,a,i,d),t.elementType=le,t.lanes=f,t;case ae:return t=Cn(19,a,i,d),t.elementType=ae,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oe:E=10;break e;case ne:E=9;break e;case G:E=11;break e;case R:E=14;break e;case C:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Cn(E,a,i,d),i.elementType=t,i.type=l,i.lanes=f,i}function Xs(t,i,a,l){return t=Cn(7,t,l,i),t.lanes=a,t}function xf(t,i,a){return t=Cn(6,t,null,i),t.lanes=a,t}function B0(t){var i=Cn(18,null,null,0);return i.stateNode=t,i}function bf(t,i,a){return i=Cn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var H0=new WeakMap;function qn(t,i){if(typeof t=="object"&&t!==null){var a=H0.get(t);return a!==void 0?a:(i={value:t,source:i,stack:pl(i)},H0.set(t,i),i)}return{value:t,source:i,stack:pl(i)}}var ho=[],fo=0,Pu=null,Ul=0,Gn=[],Wn=0,Bi=null,Ur=1,zr="";function si(t,i){ho[fo++]=Ul,ho[fo++]=Pu,Pu=t,Ul=i}function F0(t,i,a){Gn[Wn++]=Ur,Gn[Wn++]=zr,Gn[Wn++]=Bi,Bi=t;var l=Ur;t=zr;var d=32-_t(l)-1;l&=~(1<<d),a+=1;var f=32-_t(i)+d;if(30<f){var E=d-d%5;f=(l&(1<<E)-1).toString(32),l>>=E,d-=E,Ur=1<<32-_t(i)+d|a<<d|l,zr=f+t}else Ur=1<<f|a<<d|l,zr=t}function Tf(t){t.return!==null&&(si(t,1),F0(t,1,0))}function Sf(t){for(;t===Pu;)Pu=ho[--fo],ho[fo]=null,Ul=ho[--fo],ho[fo]=null;for(;t===Bi;)Bi=Gn[--Wn],Gn[Wn]=null,zr=Gn[--Wn],Gn[Wn]=null,Ur=Gn[--Wn],Gn[Wn]=null}function q0(t,i){Gn[Wn++]=Ur,Gn[Wn++]=zr,Gn[Wn++]=Bi,Ur=i.id,zr=i.overflow,Bi=t}var Xt=null,lt=null,Ue=!1,Hi=null,$n=!1,Af=Error(s(519));function Fi(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(qn(i,t)),Af}function G0(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[wt]=t,i[qt]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<lc.length;a++)De(lc[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),yu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),ji(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||lv(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=sr),i=!0):i=!1,i||Fi(t,!0)}function W0(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Xt=Xt.return}}function mo(t){if(t!==Xt)return!1;if(!Ue)return W0(t),Ue=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Fm(t.type,t.memoizedProps)),a=!a),a&&lt&&Fi(t),W0(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));lt=yv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));lt=yv(t)}else i===27?(i=lt,rs(t.type)?(t=Qm,Qm=null,lt=t):lt=i):lt=Xt?Kn(t.stateNode.nextSibling):null;return!0}function Zs(){lt=Xt=null,Ue=!1}function wf(){var t=Hi;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),Hi=null),t}function zl(t){Hi===null?Hi=[t]:Hi.push(t)}var kf=P(null),Js=null,ai=null;function qi(t,i,a){he(kf,i._currentValue),i._currentValue=a}function oi(t){t._currentValue=kf.current,re(kf)}function Rf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Cf(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var E=d.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=d;for(var D=0;D<i.length;D++)if(S.context===i[D]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),Rf(f.return,a,t),l||(E=null);break e}f=S.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(s(341));E.lanes|=a,f=E.alternate,f!==null&&(f.lanes|=a),Rf(E,a,t),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===t){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function po(t,i,a,l){t=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=d.type;Rn(d.pendingProps.value,E.value)||(t!==null?t.push(S):t=[S])}}else if(d===ze.current){if(E=d.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(fc):t=[fc])}d=d.return}t!==null&&Cf(i,t,a,l),i.flags|=262144}function Uu(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){Js=t,ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return $0(Js,t)}function zu(t,i){return Js===null&&ea(t),$0(t,i)}function $0(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ai===null){if(t===null)throw Error(s(308));ai=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ai=ai.next=i;return a}var GT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},WT=r.unstable_scheduleCallback,$T=r.unstable_NormalPriority,Ct={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new GT,data:new Map,refCount:0}}function Bl(t){t.refCount--,t.refCount===0&&WT($T,function(){t.controller.abort()})}var Hl=null,Nf=0,go=0,yo=null;function QT(t,i){if(Hl===null){var a=Hl=[];Nf=0,go=jm(),yo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nf++,i.then(Q0,Q0),i}function Q0(){if(--Nf===0&&Hl!==null){yo!==null&&(yo.status="fulfilled");var t=Hl;Hl=null,go=0,yo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function KT(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var K0=Y.S;Y.S=function(t,i){L1=hn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&QT(t,i),K0!==null&&K0(t,i)};var ta=P(null);function Lf(){var t=ta.current;return t!==null?t:it.pooledCache}function Bu(t,i){i===null?he(ta,ta.current):he(ta,i.pool)}function Y0(){var t=Lf();return t===null?null:{parent:Ct._currentValue,pool:t}}var vo=Error(s(460)),Df=Error(s(474)),Hu=Error(s(542)),Fu={then:function(){}};function X0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Z0(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(sr,sr),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ey(t),t;default:if(typeof i.status=="string")i.then(sr,sr);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ey(t),t}throw ra=i,vo}}function na(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ra=a,vo):a}}var ra=null;function J0(){if(ra===null)throw Error(s(459));var t=ra;return ra=null,t}function ey(t){if(t===vo||t===Hu)throw Error(s(483))}var _o=null,Fl=0;function qu(t){var i=Fl;return Fl+=1,_o===null&&(_o=[]),Z0(_o,t,i)}function ql(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Gu(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ty(t){function i(U,O){if(t){var F=U.deletions;F===null?(U.deletions=[O],U.flags|=16):F.push(O)}}function a(U,O){if(!t)return null;for(;O!==null;)i(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function d(U,O){return U=ii(U,O),U.index=0,U.sibling=null,U}function f(U,O,F){return U.index=F,t?(F=U.alternate,F!==null?(F=F.index,F<O?(U.flags|=67108866,O):F):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function E(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function S(U,O,F,J){return O===null||O.tag!==6?(O=xf(F,U.mode,J),O.return=U,O):(O=d(O,F),O.return=U,O)}function D(U,O,F,J){var ye=F.type;return ye===$?Z(U,O,F.props.children,J,F.key):O!==null&&(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===C&&na(ye)===O.type)?(O=d(O,F.props),ql(O,F),O.return=U,O):(O=Vu(F.type,F.key,F.props,null,U.mode,J),ql(O,F),O.return=U,O)}function q(U,O,F,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=bf(F,U.mode,J),O.return=U,O):(O=d(O,F.children||[]),O.return=U,O)}function Z(U,O,F,J,ye){return O===null||O.tag!==7?(O=Xs(F,U.mode,J,ye),O.return=U,O):(O=d(O,F),O.return=U,O)}function te(U,O,F){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=xf(""+O,U.mode,F),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case M:return F=Vu(O.type,O.key,O.props,null,U.mode,F),ql(F,O),F.return=U,F;case B:return O=bf(O,U.mode,F),O.return=U,O;case C:return O=na(O),te(U,O,F)}if(Ze(O)||V(O))return O=Xs(O,U.mode,F,null),O.return=U,O;if(typeof O.then=="function")return te(U,qu(O),F);if(O.$$typeof===oe)return te(U,zu(U,O),F);Gu(U,O)}return null}function W(U,O,F,J){var ye=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ye!==null?null:S(U,O,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case M:return F.key===ye?D(U,O,F,J):null;case B:return F.key===ye?q(U,O,F,J):null;case C:return F=na(F),W(U,O,F,J)}if(Ze(F)||V(F))return ye!==null?null:Z(U,O,F,J,null);if(typeof F.then=="function")return W(U,O,qu(F),J);if(F.$$typeof===oe)return W(U,O,zu(U,F),J);Gu(U,F)}return null}function X(U,O,F,J,ye){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(F)||null,S(O,U,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case M:return U=U.get(J.key===null?F:J.key)||null,D(O,U,J,ye);case B:return U=U.get(J.key===null?F:J.key)||null,q(O,U,J,ye);case C:return J=na(J),X(U,O,F,J,ye)}if(Ze(J)||V(J))return U=U.get(F)||null,Z(O,U,J,ye,null);if(typeof J.then=="function")return X(U,O,F,qu(J),ye);if(J.$$typeof===oe)return X(U,O,F,zu(O,J),ye);Gu(O,J)}return null}function pe(U,O,F,J){for(var ye=null,Fe=null,ge=O,Ce=O=0,Me=null;ge!==null&&Ce<F.length;Ce++){ge.index>Ce?(Me=ge,ge=null):Me=ge.sibling;var qe=W(U,ge,F[Ce],J);if(qe===null){ge===null&&(ge=Me);break}t&&ge&&qe.alternate===null&&i(U,ge),O=f(qe,O,Ce),Fe===null?ye=qe:Fe.sibling=qe,Fe=qe,ge=Me}if(Ce===F.length)return a(U,ge),Ue&&si(U,Ce),ye;if(ge===null){for(;Ce<F.length;Ce++)ge=te(U,F[Ce],J),ge!==null&&(O=f(ge,O,Ce),Fe===null?ye=ge:Fe.sibling=ge,Fe=ge);return Ue&&si(U,Ce),ye}for(ge=l(ge);Ce<F.length;Ce++)Me=X(ge,U,Ce,F[Ce],J),Me!==null&&(t&&Me.alternate!==null&&ge.delete(Me.key===null?Ce:Me.key),O=f(Me,O,Ce),Fe===null?ye=Me:Fe.sibling=Me,Fe=Me);return t&&ge.forEach(function(ls){return i(U,ls)}),Ue&&si(U,Ce),ye}function _e(U,O,F,J){if(F==null)throw Error(s(151));for(var ye=null,Fe=null,ge=O,Ce=O=0,Me=null,qe=F.next();ge!==null&&!qe.done;Ce++,qe=F.next()){ge.index>Ce?(Me=ge,ge=null):Me=ge.sibling;var ls=W(U,ge,qe.value,J);if(ls===null){ge===null&&(ge=Me);break}t&&ge&&ls.alternate===null&&i(U,ge),O=f(ls,O,Ce),Fe===null?ye=ls:Fe.sibling=ls,Fe=ls,ge=Me}if(qe.done)return a(U,ge),Ue&&si(U,Ce),ye;if(ge===null){for(;!qe.done;Ce++,qe=F.next())qe=te(U,qe.value,J),qe!==null&&(O=f(qe,O,Ce),Fe===null?ye=qe:Fe.sibling=qe,Fe=qe);return Ue&&si(U,Ce),ye}for(ge=l(ge);!qe.done;Ce++,qe=F.next())qe=X(ge,U,Ce,qe.value,J),qe!==null&&(t&&qe.alternate!==null&&ge.delete(qe.key===null?Ce:qe.key),O=f(qe,O,Ce),Fe===null?ye=qe:Fe.sibling=qe,Fe=qe);return t&&ge.forEach(function(aA){return i(U,aA)}),Ue&&si(U,Ce),ye}function nt(U,O,F,J){if(typeof F=="object"&&F!==null&&F.type===$&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case M:e:{for(var ye=F.key;O!==null;){if(O.key===ye){if(ye=F.type,ye===$){if(O.tag===7){a(U,O.sibling),J=d(O,F.props.children),J.return=U,U=J;break e}}else if(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===C&&na(ye)===O.type){a(U,O.sibling),J=d(O,F.props),ql(J,F),J.return=U,U=J;break e}a(U,O);break}else i(U,O);O=O.sibling}F.type===$?(J=Xs(F.props.children,U.mode,J,F.key),J.return=U,U=J):(J=Vu(F.type,F.key,F.props,null,U.mode,J),ql(J,F),J.return=U,U=J)}return E(U);case B:e:{for(ye=F.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){a(U,O.sibling),J=d(O,F.children||[]),J.return=U,U=J;break e}else{a(U,O);break}else i(U,O);O=O.sibling}J=bf(F,U.mode,J),J.return=U,U=J}return E(U);case C:return F=na(F),nt(U,O,F,J)}if(Ze(F))return pe(U,O,F,J);if(V(F)){if(ye=V(F),typeof ye!="function")throw Error(s(150));return F=ye.call(F),_e(U,O,F,J)}if(typeof F.then=="function")return nt(U,O,qu(F),J);if(F.$$typeof===oe)return nt(U,O,zu(U,F),J);Gu(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,O!==null&&O.tag===6?(a(U,O.sibling),J=d(O,F),J.return=U,U=J):(a(U,O),J=xf(F,U.mode,J),J.return=U,U=J),E(U)):a(U,O)}return function(U,O,F,J){try{Fl=0;var ye=nt(U,O,F,J);return _o=null,ye}catch(ge){if(ge===vo||ge===Hu)throw ge;var Fe=Cn(29,ge,null,U.mode);return Fe.lanes=J,Fe.return=U,Fe}}}var ia=ty(!0),ny=ty(!1),Gi=!1;function jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $i(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=Ou(t),U0(t,null,a),i}return Mu(t,l,i,a),Ou(t)}function Gl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,vl(t,a)}}function Of(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=E:f=f.next=E,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Vf=!1;function Wl(){if(Vf){var t=yo;if(t!==null)throw t}}function $l(t,i,a,l){Vf=!1;var d=t.updateQueue;Gi=!1;var f=d.firstBaseUpdate,E=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var D=S,q=D.next;D.next=null,E===null?f=q:E.next=q,E=D;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==E&&(S===null?Z.firstBaseUpdate=q:S.next=q,Z.lastBaseUpdate=D))}if(f!==null){var te=d.baseState;E=0,Z=q=D=null,S=f;do{var W=S.lane&-536870913,X=W!==S.lane;if(X?(je&W)===W:(l&W)===W){W!==0&&W===go&&(Vf=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=t,_e=S;W=i;var nt=a;switch(_e.tag){case 1:if(pe=_e.payload,typeof pe=="function"){te=pe.call(nt,te,W);break e}te=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=_e.payload,W=typeof pe=="function"?pe.call(nt,te,W):pe,W==null)break e;te=T({},te,W);break e;case 2:Gi=!0}}W=S.callback,W!==null&&(t.flags|=64,X&&(t.flags|=8192),X=d.callbacks,X===null?d.callbacks=[W]:X.push(W))}else X={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(q=Z=X,D=te):Z=Z.next=X,E|=W;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;X=S,S=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);Z===null&&(D=te),d.baseState=D,d.firstBaseUpdate=q,d.lastBaseUpdate=Z,f===null&&(d.shared.lanes=0),Zi|=E,t.lanes=E,t.memoizedState=te}}function ry(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function iy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ry(a[t],i)}var Eo=P(null),Wu=P(0);function sy(t,i){t=gi,he(Wu,t),he(Eo,i),gi=t|i.baseLanes}function Pf(){he(Wu,gi),he(Eo,Eo.current)}function Uf(){gi=Wu.current,re(Eo),re(Wu)}var In=P(null),Qn=null;function Qi(t){var i=t.alternate;he(xt,xt.current&1),he(In,t),Qn===null&&(i===null||Eo.current!==null||i.memoizedState!==null)&&(Qn=t)}function zf(t){he(xt,xt.current),he(In,t),Qn===null&&(Qn=t)}function ay(t){t.tag===22?(he(xt,xt.current),he(In,t),Qn===null&&(Qn=t)):Ki()}function Ki(){he(xt,xt.current),he(In,In.current)}function Nn(t){re(In),Qn===t&&(Qn=null),re(xt)}var xt=P(0);function $u(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wm(a)||$m(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var li=0,ke=null,et=null,It=null,Qu=!1,xo=!1,sa=!1,Ku=0,Ql=0,bo=null,YT=0;function gt(){throw Error(s(321))}function Bf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Rn(t[a],i[a]))return!1;return!0}function Hf(t,i,a,l,d,f){return li=f,ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?Fy:rm,sa=!1,f=a(l,d),sa=!1,xo&&(f=ly(i,a,l,d)),oy(t),f}function oy(t){Y.H=Xl;var i=et!==null&&et.next!==null;if(li=0,It=et=ke=null,Qu=!1,Ql=0,bo=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&Uu(t)&&(Nt=!0))}function ly(t,i,a,l){ke=t;var d=0;do{if(xo&&(bo=null),Ql=0,xo=!1,25<=d)throw Error(s(301));if(d+=1,It=et=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=qy,f=i(a,l)}while(xo);return f}function XT(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?Kl(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(ke.flags|=1024),i}function Ff(){var t=Ku!==0;return Ku=0,t}function qf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Gf(t){if(Qu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Qu=!1}li=0,It=et=ke=null,xo=!1,Ql=Ku=0,bo=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?ke.memoizedState=It=t:It=It.next=t,It}function bt(){if(et===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=It===null?ke.memoizedState:It.next;if(i!==null)It=i,et=t;else{if(t===null)throw ke.alternate===null?Error(s(467)):Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},It===null?ke.memoizedState=It=t:It=It.next=t}return It}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(t){var i=Ql;return Ql+=1,bo===null&&(bo=[]),t=Z0(bo,t,i),i=ke,(It===null?i.memoizedState:It.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Fy:rm),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Kl(t);if(t.$$typeof===oe)return Zt(t)}throw Error(s(438,String(t)))}function Wf(t){var i=null,a=ke.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Yu(),ke.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=I;return i.index++,a}function ci(t,i){return typeof i=="function"?i(t):i}function Zu(t){var i=bt();return $f(i,et,t)}function $f(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var E=d.next;d.next=f.next,f.next=E}i.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{i=d.next;var S=E=null,D=null,q=i,Z=!1;do{var te=q.lane&-536870913;if(te!==q.lane?(je&te)===te:(li&te)===te){var W=q.revertLane;if(W===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),te===go&&(Z=!0);else if((li&W)===W){q=q.next,W===go&&(Z=!0);continue}else te={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(S=D=te,E=f):D=D.next=te,ke.lanes|=W,Zi|=W;te=q.action,sa&&a(f,te),f=q.hasEagerState?q.eagerState:a(f,te)}else W={lane:te,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(S=D=W,E=f):D=D.next=W,ke.lanes|=te,Zi|=te;q=q.next}while(q!==null&&q!==i);if(D===null?E=f:D.next=S,!Rn(f,t.memoizedState)&&(Nt=!0,Z&&(a=yo,a!==null)))throw a;t.memoizedState=f,t.baseState=E,t.baseQueue=D,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qf(t){var i=bt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do f=t(f,E.action),E=E.next;while(E!==d);Rn(f,i.memoizedState)||(Nt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function cy(t,i,a){var l=ke,d=bt(),f=Ue;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!Rn((et||d).memoizedState,a);if(E&&(d.memoizedState=a,Nt=!0),d=d.queue,Xf(dy.bind(null,l,d,t),[t]),d.getSnapshot!==i||E||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,To(9,{destroy:void 0},hy.bind(null,l,d,a,i),null),it===null)throw Error(s(349));f||(li&127)!==0||uy(l,i,a)}return a}function uy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=ke.updateQueue,i===null?(i=Yu(),ke.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function hy(t,i,a,l){i.value=a,i.getSnapshot=l,fy(i)&&my(t)}function dy(t,i,a){return a(function(){fy(i)&&my(t)})}function fy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Rn(t,a)}catch{return!0}}function my(t){var i=Ys(t,2);i!==null&&Tn(i,t,2)}function Kf(t){var i=fn();if(typeof t=="function"){var a=t;if(t=a(),sa){Pn(!0);try{a()}finally{Pn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:t},i}function py(t,i,a,l){return t.baseState=a,$f(t,et,typeof l=="function"?l:ci)}function ZT(t,i,a,l,d){if(th(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){f.listeners.push(E)}};Y.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,gy(i,f)):(f.next=a.next,i.pending=a.next=f)}}function gy(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var f=Y.T,E={};Y.T=E;try{var S=a(d,l),D=Y.S;D!==null&&D(E,S),yy(t,i,S)}catch(q){Yf(t,i,q)}finally{f!==null&&E.types!==null&&(f.types=E.types),Y.T=f}}else try{f=a(d,l),yy(t,i,f)}catch(q){Yf(t,i,q)}}function yy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){vy(t,i,l)},function(l){return Yf(t,i,l)}):vy(t,i,a)}function vy(t,i,a){i.status="fulfilled",i.value=a,_y(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,gy(t,a)))}function Yf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,_y(i),i=i.next;while(i!==l)}t.action=null}function _y(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ey(t,i){return i}function xy(t,i){if(Ue){var a=it.formState;if(a!==null){e:{var l=ke;if(Ue){if(lt){t:{for(var d=lt,f=$n;d.nodeType!==8;){if(!f){d=null;break t}if(d=Kn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){lt=Kn(d.nextSibling),l=d.data==="F!";break e}}Fi(l)}l=!1}l&&(i=a[0])}}return a=fn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:i},a.queue=l,a=zy.bind(null,ke,l),l.dispatch=a,l=Kf(!1),f=nm.bind(null,ke,!1,l.queue),l=fn(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=ZT.bind(null,ke,d,f,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function by(t){var i=bt();return Ty(i,et,t)}function Ty(t,i,a){if(i=$f(t,i,Ey)[0],t=Zu(ci)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Kl(i)}catch(E){throw E===vo?Hu:E}else l=i;i=bt();var d=i.queue,f=d.dispatch;return a!==i.memoizedState&&(ke.flags|=2048,To(9,{destroy:void 0},JT.bind(null,d,a),null)),[l,f,t]}function JT(t,i){t.action=i}function Sy(t){var i=bt(),a=et;if(a!==null)return Ty(i,a,t);bt(),i=i.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function To(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=ke.updateQueue,i===null&&(i=Yu(),ke.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ay(){return bt().memoizedState}function Ju(t,i,a,l){var d=fn();ke.flags|=t,d.memoizedState=To(1|i,{destroy:void 0},a,l===void 0?null:l)}function eh(t,i,a,l){var d=bt();l=l===void 0?null:l;var f=d.memoizedState.inst;et!==null&&l!==null&&Bf(l,et.memoizedState.deps)?d.memoizedState=To(i,f,a,l):(ke.flags|=t,d.memoizedState=To(1|i,f,a,l))}function wy(t,i){Ju(8390656,8,t,i)}function Xf(t,i){eh(2048,8,t,i)}function eS(t){ke.flags|=4;var i=ke.updateQueue;if(i===null)i=Yu(),ke.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function ky(t){var i=bt().memoizedState;return eS({ref:i,nextImpl:t}),function(){if(($e&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ry(t,i){return eh(4,2,t,i)}function Cy(t,i){return eh(4,4,t,i)}function Iy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ny(t,i,a){a=a!=null?a.concat([t]):null,eh(4,4,Iy.bind(null,i,t),a)}function Zf(){}function Ly(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Bf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Dy(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Bf(i,l[1]))return l[0];if(l=t(),sa){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,i],l}function Jf(t,i,a){return a===void 0||(li&1073741824)!==0&&(je&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=j1(),ke.lanes|=t,Zi|=t,a)}function jy(t,i,a,l){return Rn(a,i)?a:Eo.current!==null?(t=Jf(t,a,l),Rn(t,i)||(Nt=!0),t):(li&42)===0||(li&1073741824)!==0&&(je&261930)===0?(Nt=!0,t.memoizedState=a):(t=j1(),ke.lanes|=t,Zi|=t,i)}function My(t,i,a,l,d){var f=z.p;z.p=f!==0&&8>f?f:8;var E=Y.T,S={};Y.T=S,nm(t,!1,i,a);try{var D=d(),q=Y.S;if(q!==null&&q(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=KT(D,l);Yl(t,i,Z,jn(t))}else Yl(t,i,l,jn(t))}catch(te){Yl(t,i,{then:function(){},status:"rejected",reason:te},jn())}finally{z.p=f,E!==null&&S.types!==null&&(E.types=S.types),Y.T=E}}function tS(){}function em(t,i,a,l){if(t.tag!==5)throw Error(s(476));var d=Oy(t).queue;My(t,d,i,ue,a===null?tS:function(){return Vy(t),a(l)})}function Oy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:ue},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Vy(t){var i=Oy(t);i.next===null&&(i=t.alternate.memoizedState),Yl(t,i.next.queue,{},jn())}function tm(){return Zt(fc)}function Py(){return bt().memoizedState}function Uy(){return bt().memoizedState}function nS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=jn();t=Wi(a);var l=$i(i,t,a);l!==null&&(Tn(l,i,a),Gl(l,i,a)),i={cache:If()},t.payload=i;return}i=i.return}}function rS(t,i,a){var l=jn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},th(t)?By(i,a):(a=_f(t,i,a,l),a!==null&&(Tn(a,t,l),Hy(a,i,l)))}function zy(t,i,a){var l=jn();Yl(t,i,a,l)}function Yl(t,i,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(th(t))By(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var E=i.lastRenderedState,S=f(E,a);if(d.hasEagerState=!0,d.eagerState=S,Rn(S,E))return Mu(t,i,d,0),it===null&&ju(),!1}catch{}if(a=_f(t,i,d,l),a!==null)return Tn(a,t,l),Hy(a,i,l),!0}return!1}function nm(t,i,a,l){if(l={lane:2,revertLane:jm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},th(t)){if(i)throw Error(s(479))}else i=_f(t,a,l,2),i!==null&&Tn(i,t,2)}function th(t){var i=t.alternate;return t===ke||i!==null&&i===ke}function By(t,i){xo=Qu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Hy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,vl(t,a)}}var Xl={readContext:Zt,use:Xu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};Xl.useEffectEvent=gt;var Fy={readContext:Zt,use:Xu,useCallback:function(t,i){return fn().memoizedState=[t,i===void 0?null:i],t},useContext:Zt,useEffect:wy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ju(4194308,4,Iy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ju(4194308,4,t,i)},useInsertionEffect:function(t,i){Ju(4,2,t,i)},useMemo:function(t,i){var a=fn();i=i===void 0?null:i;var l=t();if(sa){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=fn();if(a!==void 0){var d=a(i);if(sa){Pn(!0);try{a(i)}finally{Pn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=rS.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var i=fn();return t={current:t},i.memoizedState=t},useState:function(t){t=Kf(t);var i=t.queue,a=zy.bind(null,ke,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(t,i){var a=fn();return Jf(a,t,i)},useTransition:function(){var t=Kf(!1);return t=My.bind(null,ke,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=ke,d=fn();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),it===null)throw Error(s(349));(je&127)!==0||uy(l,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,wy(dy.bind(null,l,f,t),[t]),l.flags|=2048,To(9,{destroy:void 0},hy.bind(null,l,f,a,i),null),a},useId:function(){var t=fn(),i=it.identifierPrefix;if(Ue){var a=zr,l=Ur;a=(l&~(1<<32-_t(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Ku++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=YT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:tm,useFormState:xy,useActionState:xy,useOptimistic:function(t){var i=fn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nm.bind(null,ke,!0,a),a.dispatch=i,[t,i]},useMemoCache:Wf,useCacheRefresh:function(){return fn().memoizedState=nS.bind(null,ke)},useEffectEvent:function(t){var i=fn(),a={impl:t};return i.memoizedState=a,function(){if(($e&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},rm={readContext:Zt,use:Xu,useCallback:Ly,useContext:Zt,useEffect:Xf,useImperativeHandle:Ny,useInsertionEffect:Ry,useLayoutEffect:Cy,useMemo:Dy,useReducer:Zu,useRef:Ay,useState:function(){return Zu(ci)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=bt();return jy(a,et.memoizedState,t,i)},useTransition:function(){var t=Zu(ci)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:Kl(t),i]},useSyncExternalStore:cy,useId:Py,useHostTransitionStatus:tm,useFormState:by,useActionState:by,useOptimistic:function(t,i){var a=bt();return py(a,et,t,i)},useMemoCache:Wf,useCacheRefresh:Uy};rm.useEffectEvent=ky;var qy={readContext:Zt,use:Xu,useCallback:Ly,useContext:Zt,useEffect:Xf,useImperativeHandle:Ny,useInsertionEffect:Ry,useLayoutEffect:Cy,useMemo:Dy,useReducer:Qf,useRef:Ay,useState:function(){return Qf(ci)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=bt();return et===null?Jf(a,t,i):jy(a,et.memoizedState,t,i)},useTransition:function(){var t=Qf(ci)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:Kl(t),i]},useSyncExternalStore:cy,useId:Py,useHostTransitionStatus:tm,useFormState:Sy,useActionState:Sy,useOptimistic:function(t,i){var a=bt();return et!==null?py(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:Uy};qy.useEffectEvent=ky;function im(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var sm={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=jn(),d=Wi(l);d.payload=i,a!=null&&(d.callback=a),i=$i(t,d,l),i!==null&&(Tn(i,t,l),Gl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=jn(),d=Wi(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=$i(t,d,l),i!==null&&(Tn(i,t,l),Gl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=jn(),l=Wi(a);l.tag=2,i!=null&&(l.callback=i),i=$i(t,l,a),i!==null&&(Tn(i,t,a),Gl(i,t,a))}};function Gy(t,i,a,l,d,f,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,E):i.prototype&&i.prototype.isPureReactComponent?!Vl(a,l)||!Vl(d,f):!0}function Wy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&sm.enqueueReplaceState(i,i.state,null)}function aa(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function $y(t){Du(t)}function Qy(t){console.error(t)}function Ky(t){Du(t)}function nh(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Yy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function am(t,i,a){return a=Wi(a),a.tag=3,a.payload={element:null},a.callback=function(){nh(t,i)},a}function Xy(t){return t=Wi(t),t.tag=3,t}function Zy(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){Yy(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Yy(i,a,l),typeof d!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function iS(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&po(i,a,d,!0),a=In.current,a!==null){switch(a.tag){case 31:case 13:return Qn===null?mh():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Fu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Nm(t,l,d)),!1;case 22:return a.flags|=65536,l===Fu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Nm(t,l,d)),!1}throw Error(s(435,a.tag))}return Nm(t,l,d),mh(),!1}if(Ue)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==Af&&(t=Error(s(422),{cause:l}),zl(qn(t,a)))):(l!==Af&&(i=Error(s(423),{cause:l}),zl(qn(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=qn(l,a),d=am(t.stateNode,l,d),Of(t,d),yt!==4&&(yt=2)),!1;var f=Error(s(520),{cause:l});if(f=qn(f,a),sc===null?sc=[f]:sc.push(f),yt!==4&&(yt=2),i===null)return!0;l=qn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=am(a.stateNode,l,t),Of(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ji===null||!Ji.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Xy(d),Zy(d,t,a,l),Of(a,d),!1}a=a.return}while(a!==null);return!1}var om=Error(s(461)),Nt=!1;function Jt(t,i,a,l){i.child=t===null?ny(i,null,a,l):ia(i,t.child,a,l)}function Jy(t,i,a,l,d){a=a.render;var f=i.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return ea(i),l=Hf(t,i,a,E,f,d),S=Ff(),t!==null&&!Nt?(qf(t,i,d),ui(t,i,d)):(Ue&&S&&Tf(i),i.flags|=1,Jt(t,i,l,d),i.child)}function e1(t,i,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!Ef(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,t1(t,i,f,l,d)):(t=Vu(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!pm(t,d)){var E=f.memoizedProps;if(a=a.compare,a=a!==null?a:Vl,a(E,l)&&t.ref===i.ref)return ui(t,i,d)}return i.flags|=1,t=ii(f,l),t.ref=i.ref,t.return=i,i.child=t}function t1(t,i,a,l,d){if(t!==null){var f=t.memoizedProps;if(Vl(f,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=f,pm(t,d))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,ui(t,i,d)}return lm(t,i,a,l,d)}function n1(t,i,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,i.child=null;return r1(t,i,f,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(i,f!==null?f.cachePool:null),f!==null?sy(i,f):Pf(),ay(i);else return l=i.lanes=536870912,r1(t,i,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Bu(i,f.cachePool),sy(i,f),Ki(),i.memoizedState=null):(t!==null&&Bu(i,null),Pf(),Ki());return Jt(t,i,d,a),i.child}function Zl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function r1(t,i,a,l,d){var f=Lf();return f=f===null?null:{parent:Ct._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Bu(i,null),Pf(),ay(i),t!==null&&po(t,i,l,!0),i.childLanes=d,null}function rh(t,i){return i=sh({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function i1(t,i,a){return ia(i,t.child,null,a),t=rh(i,i.pendingProps),t.flags|=2,Nn(i),i.memoizedState=null,t}function sS(t,i,a){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=rh(i,l),i.lanes=536870912,Zl(null,t);if(zf(i),(t=lt)?(t=gv(t,$n),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Bi!==null?{id:Ur,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},a=B0(t),a.return=i,i.child=a,Xt=i,lt=null)):t=null,t===null)throw Fi(i);return i.lanes=536870912,null}return rh(i,l)}var f=t.memoizedState;if(f!==null){var E=f.dehydrated;if(zf(i),d)if(i.flags&256)i.flags&=-257,i=i1(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Nt||po(t,i,a,!1),d=(a&t.childLanes)!==0,Nt||d){if(l=it,l!==null&&(E=_l(l,a),E!==0&&E!==f.retryLane))throw f.retryLane=E,Ys(t,E),Tn(l,t,E),om;mh(),i=i1(t,i,a)}else t=f.treeContext,lt=Kn(E.nextSibling),Xt=i,Ue=!0,Hi=null,$n=!1,t!==null&&q0(i,t),i=rh(i,l),i.flags|=4096;return i}return t=ii(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function ih(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function lm(t,i,a,l,d){return ea(i),a=Hf(t,i,a,l,void 0,d),l=Ff(),t!==null&&!Nt?(qf(t,i,d),ui(t,i,d)):(Ue&&l&&Tf(i),i.flags|=1,Jt(t,i,a,d),i.child)}function s1(t,i,a,l,d,f){return ea(i),i.updateQueue=null,a=ly(i,l,a,d),oy(t),l=Ff(),t!==null&&!Nt?(qf(t,i,f),ui(t,i,f)):(Ue&&l&&Tf(i),i.flags|=1,Jt(t,i,a,f),i.child)}function a1(t,i,a,l,d){if(ea(i),i.stateNode===null){var f=uo,E=a.contextType;typeof E=="object"&&E!==null&&(f=Zt(E)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=sm,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},jf(i),E=a.contextType,f.context=typeof E=="object"&&E!==null?Zt(E):uo,f.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(im(i,a,E,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(E=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),E!==f.state&&sm.enqueueReplaceState(f,f.state,null),$l(i,l,f,d),Wl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var S=i.memoizedProps,D=aa(a,S);f.props=D;var q=f.context,Z=a.contextType;E=uo,typeof Z=="object"&&Z!==null&&(E=Zt(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||q!==E)&&Wy(i,f,l,E),Gi=!1;var W=i.memoizedState;f.state=W,$l(i,l,f,d),Wl(),q=i.memoizedState,S||W!==q||Gi?(typeof te=="function"&&(im(i,a,te,l),q=i.memoizedState),(D=Gi||Gy(i,a,D,l,W,q,E))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),f.props=l,f.state=q,f.context=E,l=D):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Mf(t,i),E=i.memoizedProps,Z=aa(a,E),f.props=Z,te=i.pendingProps,W=f.context,q=a.contextType,D=uo,typeof q=="object"&&q!==null&&(D=Zt(q)),S=a.getDerivedStateFromProps,(q=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E!==te||W!==D)&&Wy(i,f,l,D),Gi=!1,W=i.memoizedState,f.state=W,$l(i,l,f,d),Wl();var X=i.memoizedState;E!==te||W!==X||Gi||t!==null&&t.dependencies!==null&&Uu(t.dependencies)?(typeof S=="function"&&(im(i,a,S,l),X=i.memoizedState),(Z=Gi||Gy(i,a,Z,l,W,X,D)||t!==null&&t.dependencies!==null&&Uu(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,X,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,X,D)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),f.props=l,f.state=X,f.context=D,l=Z):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,ih(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=ia(i,t.child,null,d),i.child=ia(i,null,a,d)):Jt(t,i,a,d),i.memoizedState=f.state,t=i.child):t=ui(t,i,d),t}function o1(t,i,a,l){return Zs(),i.flags|=256,Jt(t,i,a,l),i.child}var cm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function um(t){return{baseLanes:t,cachePool:Y0()}}function hm(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Dn),t}function l1(t,i,a){var l=i.pendingProps,d=!1,f=(i.flags&128)!==0,E;if((E=f)||(E=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),E&&(d=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ue){if(d?Qi(i):Ki(),(t=lt)?(t=gv(t,$n),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Bi!==null?{id:Ur,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},a=B0(t),a.return=i,i.child=a,Xt=i,lt=null)):t=null,t===null)throw Fi(i);return $m(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,d?(Ki(),d=i.mode,S=sh({mode:"hidden",children:S},d),l=Xs(l,d,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=um(a),l.childLanes=hm(t,E,a),i.memoizedState=cm,Zl(null,l)):(Qi(i),dm(i,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(f)i.flags&256?(Qi(i),i.flags&=-257,i=fm(t,i,a)):i.memoizedState!==null?(Ki(),i.child=t.child,i.flags|=128,i=null):(Ki(),S=l.fallback,d=i.mode,l=sh({mode:"visible",children:l.children},d),S=Xs(S,d,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,ia(i,t.child,null,a),l=i.child,l.memoizedState=um(a),l.childLanes=hm(t,E,a),i.memoizedState=cm,i=Zl(null,l));else if(Qi(i),$m(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var q=E.dgst;E=q,l=Error(s(419)),l.stack="",l.digest=E,zl({value:l,source:null,stack:null}),i=fm(t,i,a)}else if(Nt||po(t,i,a,!1),E=(a&t.childLanes)!==0,Nt||E){if(E=it,E!==null&&(l=_l(E,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ys(t,l),Tn(E,t,l),om;Wm(S)||mh(),i=fm(t,i,a)}else Wm(S)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,lt=Kn(S.nextSibling),Xt=i,Ue=!0,Hi=null,$n=!1,t!==null&&q0(i,t),i=dm(i,l.children),i.flags|=4096);return i}return d?(Ki(),S=l.fallback,d=i.mode,D=t.child,q=D.sibling,l=ii(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?S=ii(q,S):(S=Xs(S,d,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Zl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=um(a):(d=S.cachePool,d!==null?(D=Ct._currentValue,d=d.parent!==D?{parent:D,pool:D}:d):d=Y0(),S={baseLanes:S.baseLanes|a,cachePool:d}),l.memoizedState=S,l.childLanes=hm(t,E,a),i.memoizedState=cm,Zl(t.child,l)):(Qi(i),a=t.child,t=a.sibling,a=ii(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function dm(t,i){return i=sh({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function sh(t,i){return t=Cn(22,t,null,i),t.lanes=0,t}function fm(t,i,a){return ia(i,t.child,null,a),t=dm(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function c1(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Rf(t.return,i,a)}function mm(t,i,a,l,d,f){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=a,E.tailMode=d,E.treeForkCount=f)}function u1(t,i,a){var l=i.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var E=xt.current,S=(E&2)!==0;if(S?(E=E&1|2,i.flags|=128):E&=1,he(xt,E),Jt(t,i,l,a),l=Ue?Ul:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&c1(t,a,i);else if(t.tag===19)c1(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&$u(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),mm(i,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&$u(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}mm(i,!0,a,null,f,l);break;case"together":mm(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ui(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Zi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(po(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ii(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ii(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function pm(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Uu(t)))}function aS(t,i,a){switch(i.tag){case 3:Pt(i,i.stateNode.containerInfo),qi(i,Ct,t.memoizedState.cache),Zs();break;case 27:case 5:Ls(i);break;case 4:Pt(i,i.stateNode.containerInfo);break;case 10:qi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Qi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?l1(t,i,a):(Qi(i),t=ui(t,i,a),t!==null?t.sibling:null);Qi(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(po(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return u1(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),he(xt,xt.current),l)break;return null;case 22:return i.lanes=0,n1(t,i,a,i.pendingProps);case 24:qi(i,Ct,t.memoizedState.cache)}return ui(t,i,a)}function h1(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!pm(t,a)&&(i.flags&128)===0)return Nt=!1,aS(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,Ue&&(i.flags&1048576)!==0&&F0(i,Ul,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=na(i.elementType),i.type=t,typeof t=="function")Ef(t)?(l=aa(t,l),i.tag=1,i=a1(null,i,t,l,a)):(i.tag=0,i=lm(null,i,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===G){i.tag=11,i=Jy(null,i,t,l,a);break e}else if(d===R){i.tag=14,i=e1(null,i,t,l,a);break e}}throw i=Ne(t)||t,Error(s(306,i,""))}}return i;case 0:return lm(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=aa(l,i.pendingProps),a1(t,i,l,d,a);case 3:e:{if(Pt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;d=f.element,Mf(t,i),$l(i,l,null,a);var E=i.memoizedState;if(l=E.cache,qi(i,Ct,l),l!==f.cache&&Cf(i,[Ct],a,!0),Wl(),l=E.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=o1(t,i,l,a);break e}else if(l!==d){d=qn(Error(s(424)),i),zl(d),i=o1(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,lt=Kn(t.firstChild),Xt=i,Ue=!0,Hi=null,$n=!0,a=ny(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Zs(),l===d){i=ui(t,i,a);break e}Jt(t,i,l,a)}i=i.child}return i;case 26:return ih(t,i),t===null?(a=bv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ue||(a=i.type,t=i.pendingProps,l=xh(Re.current).createElement(a),l[wt]=i,l[qt]=t,en(l,a,t),kt(l),i.stateNode=l):i.memoizedState=bv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ls(i),t===null&&Ue&&(l=i.stateNode=_v(i.type,i.pendingProps,Re.current),Xt=i,$n=!0,d=lt,rs(i.type)?(Qm=d,lt=Kn(l.firstChild)):lt=d),Jt(t,i,i.pendingProps.children,a),ih(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ue&&((d=l=lt)&&(l=OS(l,i.type,i.pendingProps,$n),l!==null?(i.stateNode=l,Xt=i,lt=Kn(l.firstChild),$n=!1,d=!0):d=!1),d||Fi(i)),Ls(i),d=i.type,f=i.pendingProps,E=t!==null?t.memoizedProps:null,l=f.children,Fm(d,f)?l=null:E!==null&&Fm(d,E)&&(i.flags|=32),i.memoizedState!==null&&(d=Hf(t,i,XT,null,null,a),fc._currentValue=d),ih(t,i),Jt(t,i,l,a),i.child;case 6:return t===null&&Ue&&((t=a=lt)&&(a=VS(a,i.pendingProps,$n),a!==null?(i.stateNode=a,Xt=i,lt=null,t=!0):t=!1),t||Fi(i)),null;case 13:return l1(t,i,a);case 4:return Pt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ia(i,null,l,a):Jt(t,i,l,a),i.child;case 11:return Jy(t,i,i.type,i.pendingProps,a);case 7:return Jt(t,i,i.pendingProps,a),i.child;case 8:return Jt(t,i,i.pendingProps.children,a),i.child;case 12:return Jt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,qi(i,i.type,l.value),Jt(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,ea(i),d=Zt(d),l=l(d),i.flags|=1,Jt(t,i,l,a),i.child;case 14:return e1(t,i,i.type,i.pendingProps,a);case 15:return t1(t,i,i.type,i.pendingProps,a);case 19:return u1(t,i,a);case 31:return sS(t,i,a);case 22:return n1(t,i,a,i.pendingProps);case 24:return ea(i),l=Zt(Ct),t===null?(d=Lf(),d===null&&(d=it,f=If(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),i.memoizedState={parent:l,cache:d},jf(i),qi(i,Ct,d)):((t.lanes&a)!==0&&(Mf(t,i),$l(i,null,null,a),Wl()),d=t.memoizedState,f=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),qi(i,Ct,l)):(l=f.cache,qi(i,Ct,l),l!==d.cache&&Cf(i,[Ct],a,!0))),Jt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function hi(t){t.flags|=4}function gm(t,i,a,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(P1())t.flags|=8192;else throw ra=Fu,Df}else t.flags&=-16777217}function d1(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!kv(i))if(P1())t.flags|=8192;else throw ra=Fu,Df}function ah(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?du():536870912,t.lanes|=i,ko|=i)}function Jl(t,i){if(!Ue)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function oS(t,i,a){var l=i.pendingProps;switch(Sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(i),null;case 1:return ct(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),oi(Ct),ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(mo(i)?hi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wf())),ct(i),null;case 26:var d=i.type,f=i.memoizedState;return t===null?(hi(i),f!==null?(ct(i),d1(i,f)):(ct(i),gm(i,d,null,l,a))):f?f!==t.memoizedState?(hi(i),ct(i),d1(i,f)):(ct(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&hi(i),ct(i),gm(i,d,t,l,a)),null;case 27:if(Ga(i),a=Re.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}t=me.current,mo(i)?G0(i):(t=_v(d,l,a),i.stateNode=t,hi(i))}return ct(i),null;case 5:if(Ga(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}if(f=me.current,mo(i))G0(i);else{var E=xh(Re.current);switch(f){case 1:f=E.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=E.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=E.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?E.createElement(d,{is:l.is}):E.createElement(d)}}f[wt]=i,f[qt]=l;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)f.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=f;e:switch(en(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&hi(i)}}return ct(i),gm(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&hi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Re.current,mo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=Xt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[wt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||lv(t.nodeValue,a)),t||Fi(i,!0)}else t=xh(t).createTextNode(l),t[wt]=i,i.stateNode=t}return ct(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=mo(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[wt]=i}else Zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),t=!1}else a=wf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Nn(i),i):(Nn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ct(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=mo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[wt]=i}else Zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),d=!1}else d=wf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Nn(i),i):(Nn(i),null)}return Nn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),ah(i,i.updateQueue),ct(i),null);case 4:return ut(),t===null&&Pm(i.stateNode.containerInfo),ct(i),null;case 10:return oi(i.type),ct(i),null;case 19:if(re(xt),l=i.memoizedState,l===null)return ct(i),null;if(d=(i.flags&128)!==0,f=l.rendering,f===null)if(d)Jl(l,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=$u(t),f!==null){for(i.flags|=128,Jl(l,!1),t=f.updateQueue,i.updateQueue=t,ah(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)z0(a,t),a=a.sibling;return he(xt,xt.current&1|2),Ue&&si(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&hn()>hh&&(i.flags|=128,d=!0,Jl(l,!1),i.lanes=4194304)}else{if(!d)if(t=$u(f),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,ah(i,t),Jl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ue)return ct(i),null}else 2*hn()-l.renderingStartTime>hh&&a!==536870912&&(i.flags|=128,d=!0,Jl(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(t=l.last,t!==null?t.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=hn(),t.sibling=null,a=xt.current,he(xt,d?a&1|2:a&1),Ue&&si(i,l.treeForkCount),t):(ct(i),null);case 22:case 23:return Nn(i),Uf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ct(i),i.subtreeFlags&6&&(i.flags|=8192)):ct(i),a=i.updateQueue,a!==null&&ah(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&re(ta),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),oi(Ct),ct(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function lS(t,i){switch(Sf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return oi(Ct),ut(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ga(i),null;case 31:if(i.memoizedState!==null){if(Nn(i),i.alternate===null)throw Error(s(340));Zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Nn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return re(xt),null;case 4:return ut(),null;case 10:return oi(i.type),null;case 22:case 23:return Nn(i),Uf(),t!==null&&re(ta),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return oi(Ct),null;case 25:return null;default:return null}}function f1(t,i){switch(Sf(i),i.tag){case 3:oi(Ct),ut();break;case 26:case 27:case 5:Ga(i);break;case 4:ut();break;case 31:i.memoizedState!==null&&Nn(i);break;case 13:Nn(i);break;case 19:re(xt);break;case 10:oi(i.type);break;case 22:case 23:Nn(i),Uf(),t!==null&&re(ta);break;case 24:oi(Ct)}}function ec(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,E=a.inst;l=f(),E.destroy=l}a=a.next}while(a!==d)}}catch(S){Xe(i,i.return,S)}}function Yi(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,d=i;var D=a,q=S;try{q()}catch(Z){Xe(d,D,Z)}}}l=l.next}while(l!==f)}}catch(Z){Xe(i,i.return,Z)}}function m1(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{iy(i,a)}catch(l){Xe(t,t.return,l)}}}function p1(t,i,a){a.props=aa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function tc(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){Xe(t,i,d)}}function Br(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Xe(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Xe(t,i,d)}else a.current=null}function g1(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Xe(t,t.return,d)}}function ym(t,i,a){try{var l=t.stateNode;IS(l,t.type,a,i),l[qt]=i}catch(d){Xe(t,t.return,d)}}function y1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rs(t.type)||t.tag===4}function vm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _m(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=sr));else if(l!==4&&(l===27&&rs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(_m(t,i,a),t=t.sibling;t!==null;)_m(t,i,a),t=t.sibling}function oh(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&rs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(oh(t,i,a),t=t.sibling;t!==null;)oh(t,i,a),t=t.sibling}function v1(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);en(i,l,a),i[wt]=t,i[qt]=a}catch(f){Xe(t,t.return,f)}}var di=!1,Lt=!1,Em=!1,_1=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function cS(t,i){if(t=t.containerInfo,Bm=Rh,t=N0(t),ff(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var E=0,S=-1,D=-1,q=0,Z=0,te=t,W=null;t:for(;;){for(var X;te!==a||d!==0&&te.nodeType!==3||(S=E+d),te!==f||l!==0&&te.nodeType!==3||(D=E+l),te.nodeType===3&&(E+=te.nodeValue.length),(X=te.firstChild)!==null;)W=te,te=X;for(;;){if(te===t)break t;if(W===a&&++q===d&&(S=E),W===f&&++Z===l&&(D=E),(X=te.nextSibling)!==null)break;te=W,W=te.parentNode}te=X}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hm={focusedElem:t,selectionRange:a},Rh=!1,Wt=i;Wt!==null;)if(i=Wt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Wt=t;else for(;Wt!==null;){switch(i=Wt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var pe=aa(a.type,d);t=l.getSnapshotBeforeUpdate(pe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Gm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Wt=t;break}Wt=i.return}}function E1(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:mi(t,a),l&4&&ec(5,a);break;case 1:if(mi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(E){Xe(a,a.return,E)}else{var d=aa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Xe(a,a.return,E)}}l&64&&m1(a),l&512&&tc(a,a.return);break;case 3:if(mi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{iy(t,i)}catch(E){Xe(a,a.return,E)}}break;case 27:i===null&&l&4&&v1(a);case 26:case 5:mi(t,a),i===null&&l&4&&g1(a),l&512&&tc(a,a.return);break;case 12:mi(t,a);break;case 31:mi(t,a),l&4&&T1(t,a);break;case 13:mi(t,a),l&4&&S1(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=vS.bind(null,a),PS(t,a))));break;case 22:if(l=a.memoizedState!==null||di,!l){i=i!==null&&i.memoizedState!==null||Lt,d=di;var f=Lt;di=l,(Lt=i)&&!f?pi(t,a,(a.subtreeFlags&8772)!==0):mi(t,a),di=d,Lt=f}break;case 30:break;default:mi(t,a)}}function x1(t){var i=t.alternate;i!==null&&(t.alternate=null,x1(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ya(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,_n=!1;function fi(t,i,a){for(a=a.child;a!==null;)b1(t,i,a),a=a.sibling}function b1(t,i,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(tr,a)}catch{}switch(a.tag){case 26:Lt||Br(a,i),fi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||Br(a,i);var l=dt,d=_n;rs(a.type)&&(dt=a.stateNode,_n=!1),fi(t,i,a),uc(a.stateNode),dt=l,_n=d;break;case 5:Lt||Br(a,i);case 6:if(l=dt,d=_n,dt=null,fi(t,i,a),dt=l,_n=d,dt!==null)if(_n)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(a.stateNode)}catch(f){Xe(a,i,f)}else try{dt.removeChild(a.stateNode)}catch(f){Xe(a,i,f)}break;case 18:dt!==null&&(_n?(t=dt,mv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Mo(t)):mv(dt,a.stateNode));break;case 4:l=dt,d=_n,dt=a.stateNode.containerInfo,_n=!0,fi(t,i,a),dt=l,_n=d;break;case 0:case 11:case 14:case 15:Yi(2,a,i),Lt||Yi(4,a,i),fi(t,i,a);break;case 1:Lt||(Br(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&p1(a,i,l)),fi(t,i,a);break;case 21:fi(t,i,a);break;case 22:Lt=(l=Lt)||a.memoizedState!==null,fi(t,i,a),Lt=l;break;default:fi(t,i,a)}}function T1(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Mo(t)}catch(a){Xe(i,i.return,a)}}}function S1(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Mo(t)}catch(a){Xe(i,i.return,a)}}function uS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new _1),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new _1),i;default:throw Error(s(435,t.tag))}}function lh(t,i){var a=uS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var d=_S.bind(null,t,l);l.then(d,d)}})}function En(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,E=i,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(rs(S.type)){dt=S.stateNode,_n=!1;break e}break;case 5:dt=S.stateNode,_n=!1;break e;case 3:case 4:dt=S.stateNode.containerInfo,_n=!0;break e}S=S.return}if(dt===null)throw Error(s(160));b1(f,E,d),dt=null,_n=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)A1(i,t),i=i.sibling}var hr=null;function A1(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(i,t),xn(t),l&4&&(Yi(3,t,t.return),ec(3,t),Yi(5,t,t.return));break;case 1:En(i,t),xn(t),l&512&&(Lt||a===null||Br(a,a.return)),l&64&&di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=hr;if(En(i,t),xn(t),l&512&&(Lt||a===null||Br(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[kr]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),en(f,l,a),f[wt]=t,kt(f),l=f;break e;case"link":var E=Av("link","href",d).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(f=E[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}f=d.createElement(l),en(f,l,a),d.head.appendChild(f);break;case"meta":if(E=Av("meta","content",d).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(f=E[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}f=d.createElement(l),en(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[wt]=t,kt(f),l=f}t.stateNode=l}else wv(d,t.type,t.stateNode);else t.stateNode=Sv(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?wv(d,t.type,t.stateNode):Sv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ym(t,t.memoizedProps,a.memoizedProps)}break;case 27:En(i,t),xn(t),l&512&&(Lt||a===null||Br(a,a.return)),a!==null&&l&4&&ym(t,t.memoizedProps,a.memoizedProps);break;case 5:if(En(i,t),xn(t),l&512&&(Lt||a===null||Br(a,a.return)),t.flags&32){d=t.stateNode;try{vn(d,"")}catch(pe){Xe(t,t.return,pe)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,ym(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Em=!0);break;case 6:if(En(i,t),xn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(pe){Xe(t,t.return,pe)}}break;case 3:if(Sh=null,d=hr,hr=bh(i.containerInfo),En(i,t),hr=d,xn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Mo(i.containerInfo)}catch(pe){Xe(t,t.return,pe)}Em&&(Em=!1,w1(t));break;case 4:l=hr,hr=bh(t.stateNode.containerInfo),En(i,t),xn(t),hr=l;break;case 12:En(i,t),xn(t);break;case 31:En(i,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lh(t,l)));break;case 13:En(i,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uh=hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lh(t,l)));break;case 22:d=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,q=di,Z=Lt;if(di=q||d,Lt=Z||D,En(i,t),Lt=Z,di=q,xn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||D||di||Lt||oa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(f=D.stateNode,d)E=f.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=D.stateNode;var te=D.memoizedProps.style,W=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(pe){Xe(D,D.return,pe)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch(pe){Xe(D,D.return,pe)}}}else if(i.tag===18){if(a===null){D=i;try{var X=D.stateNode;d?pv(X,!0):pv(D.stateNode,!1)}catch(pe){Xe(D,D.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,lh(t,a))));break;case 19:En(i,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lh(t,l)));break;case 30:break;case 21:break;default:En(i,t),xn(t)}}function xn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(y1(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=vm(t);oh(t,f,d);break;case 5:var E=a.stateNode;a.flags&32&&(vn(E,""),a.flags&=-33);var S=vm(t);oh(t,S,E);break;case 3:case 4:var D=a.stateNode.containerInfo,q=vm(t);_m(t,q,D);break;default:throw Error(s(161))}}catch(Z){Xe(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function w1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;w1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function mi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)E1(t,i.alternate,i),i=i.sibling}function oa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Yi(4,i,i.return),oa(i);break;case 1:Br(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&p1(i,i.return,a),oa(i);break;case 27:uc(i.stateNode);case 26:case 5:Br(i,i.return),oa(i);break;case 22:i.memoizedState===null&&oa(i);break;case 30:oa(i);break;default:oa(i)}t=t.sibling}}function pi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,f=i,E=f.flags;switch(f.tag){case 0:case 11:case 15:pi(d,f,a),ec(4,f);break;case 1:if(pi(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){Xe(l,l.return,q)}if(l=f,d=l.updateQueue,d!==null){var S=l.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)ry(D[d],S)}catch(q){Xe(l,l.return,q)}}a&&E&64&&m1(f),tc(f,f.return);break;case 27:v1(f);case 26:case 5:pi(d,f,a),a&&l===null&&E&4&&g1(f),tc(f,f.return);break;case 12:pi(d,f,a);break;case 31:pi(d,f,a),a&&E&4&&T1(d,f);break;case 13:pi(d,f,a),a&&E&4&&S1(d,f);break;case 22:f.memoizedState===null&&pi(d,f,a),tc(f,f.return);break;case 30:break;default:pi(d,f,a)}i=i.sibling}}function xm(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Bl(a))}function bm(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Bl(t))}function dr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)k1(t,i,a,l),i=i.sibling}function k1(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:dr(t,i,a,l),d&2048&&ec(9,i);break;case 1:dr(t,i,a,l);break;case 3:dr(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Bl(t)));break;case 12:if(d&2048){dr(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,E=f.id,S=f.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Xe(i,i.return,D)}}else dr(t,i,a,l);break;case 31:dr(t,i,a,l);break;case 13:dr(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,E=i.alternate,i.memoizedState!==null?f._visibility&2?dr(t,i,a,l):nc(t,i):f._visibility&2?dr(t,i,a,l):(f._visibility|=2,So(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&xm(E,i);break;case 24:dr(t,i,a,l),d&2048&&bm(i.alternate,i);break;default:dr(t,i,a,l)}}function So(t,i,a,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,E=i,S=a,D=l,q=E.flags;switch(E.tag){case 0:case 11:case 15:So(f,E,S,D,d),ec(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?So(f,E,S,D,d):nc(f,E):(Z._visibility|=2,So(f,E,S,D,d)),d&&q&2048&&xm(E.alternate,E);break;case 24:So(f,E,S,D,d),d&&q&2048&&bm(E.alternate,E);break;default:So(f,E,S,D,d)}i=i.sibling}}function nc(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:nc(a,l),d&2048&&xm(l.alternate,l);break;case 24:nc(a,l),d&2048&&bm(l.alternate,l);break;default:nc(a,l)}i=i.sibling}}var rc=8192;function Ao(t,i,a){if(t.subtreeFlags&rc)for(t=t.child;t!==null;)R1(t,i,a),t=t.sibling}function R1(t,i,a){switch(t.tag){case 26:Ao(t,i,a),t.flags&rc&&t.memoizedState!==null&&YS(a,hr,t.memoizedState,t.memoizedProps);break;case 5:Ao(t,i,a);break;case 3:case 4:var l=hr;hr=bh(t.stateNode.containerInfo),Ao(t,i,a),hr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=rc,rc=16777216,Ao(t,i,a),rc=l):Ao(t,i,a));break;default:Ao(t,i,a)}}function C1(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ic(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Wt=l,N1(l,t)}C1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)I1(t),t=t.sibling}function I1(t){switch(t.tag){case 0:case 11:case 15:ic(t),t.flags&2048&&Yi(9,t,t.return);break;case 3:ic(t);break;case 12:ic(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,ch(t)):ic(t);break;default:ic(t)}}function ch(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Wt=l,N1(l,t)}C1(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Yi(8,i,i.return),ch(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ch(i));break;default:ch(i)}t=t.sibling}}function N1(t,i){for(;Wt!==null;){var a=Wt;switch(a.tag){case 0:case 11:case 15:Yi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Bl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Wt=l;else e:for(a=t;Wt!==null;){l=Wt;var d=l.sibling,f=l.return;if(x1(l),l===a){Wt=null;break e}if(d!==null){d.return=f,Wt=d;break e}Wt=f}}}var hS={getCacheForType:function(t){var i=Zt(Ct),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Zt(Ct).controller.signal}},dS=typeof WeakMap=="function"?WeakMap:Map,$e=0,it=null,Le=null,je=0,Ye=0,Ln=null,Xi=!1,wo=!1,Tm=!1,gi=0,yt=0,Zi=0,la=0,Sm=0,Dn=0,ko=0,sc=null,bn=null,Am=!1,uh=0,L1=0,hh=1/0,dh=null,Ji=null,zt=0,es=null,Ro=null,yi=0,wm=0,km=null,D1=null,ac=0,Rm=null;function jn(){return($e&2)!==0&&je!==0?je&-je:Y.T!==null?jm():fu()}function j1(){if(Dn===0)if((je&536870912)===0||Ue){var t=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),Dn=t}else Dn=536870912;return t=In.current,t!==null&&(t.flags|=32),Dn}function Tn(t,i,a){(t===it&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Co(t,0),ts(t,je,Dn,!1)),Os(t,a),(($e&2)===0||t!==it)&&(t===it&&(($e&2)===0&&(la|=a),yt===4&&ts(t,je,Dn,!1)),Hr(t))}function M1(t,i,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||nr(t,i),d=l?pS(t,i):Im(t,i,!0),f=l;do{if(d===0){wo&&!l&&ts(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!fS(a)){d=Im(t,i,!1),f=!1;continue}if(d===2){if(f=i,t.errorRecoveryDisabledLanes&f)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var S=t;d=sc;var D=S.current.memoizedState.isDehydrated;if(D&&(Co(S,E).flags|=256),E=Im(S,E,!1),E!==2){if(Tm&&!D){S.errorRecoveryDisabledLanes|=f,la|=f,d=4;break e}f=bn,bn=d,f!==null&&(bn===null?bn=f:bn.push.apply(bn,f))}d=E}if(f=!1,d!==2)continue}}if(d===1){Co(t,0),ts(t,i,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ts(l,i,Dn,!Xi);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=uh+300-hn(),10<d)){if(ts(l,i,Dn,!Xi),Sr(l,0,!0)!==0)break e;yi=i,l.timeoutHandle=dv(O1.bind(null,l,a,bn,dh,Am,i,Dn,la,ko,Xi,f,"Throttled",-0,0),d);break e}O1(l,a,bn,dh,Am,i,Dn,la,ko,Xi,f,null,-0,0)}}break}while(!0);Hr(t)}function O1(t,i,a,l,d,f,E,S,D,q,Z,te,W,X){if(t.timeoutHandle=-1,te=i.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sr},R1(i,f,te);var pe=(f&62914560)===f?uh-hn():(f&4194048)===f?L1-hn():0;if(pe=XS(te,pe),pe!==null){yi=f,t.cancelPendingCommit=pe(q1.bind(null,t,i,f,a,l,d,E,S,D,Z,te,null,W,X)),ts(t,f,E,!q);return}}q1(t,i,f,a,l,d,E,S,D)}function fS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!Rn(f(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ts(t,i,a,l){i&=~Sm,i&=~la,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var f=31-_t(d),E=1<<f;l[f]=-1,d&=~E}a!==0&&Vs(t,a,i)}function fh(){return($e&6)===0?(oc(0),!1):!0}function Cm(){if(Le!==null){if(Ye===0)var t=Le.return;else t=Le,ai=Js=null,Gf(t),_o=null,Fl=0,t=Le;for(;t!==null;)f1(t.alternate,t),t=t.return;Le=null}}function Co(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,DS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),yi=0,Cm(),it=t,Le=a=ii(t.current,null),je=i,Ye=0,Ln=null,Xi=!1,wo=nr(t,i),Tm=!1,ko=Dn=Sm=la=Zi=yt=0,bn=sc=null,Am=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-_t(l),f=1<<d;i|=t[d],l&=~f}return gi=i,ju(),a}function V1(t,i){ke=null,Y.H=Xl,i===vo||i===Hu?(i=J0(),Ye=3):i===Df?(i=J0(),Ye=4):Ye=i===om?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ln=i,Le===null&&(yt=1,nh(t,qn(i,t.current)))}function P1(){var t=In.current;return t===null?!0:(je&4194048)===je?Qn===null:(je&62914560)===je||(je&536870912)!==0?t===Qn:!1}function U1(){var t=Y.H;return Y.H=Xl,t===null?Xl:t}function z1(){var t=Y.A;return Y.A=hS,t}function mh(){yt=4,Xi||(je&4194048)!==je&&In.current!==null||(wo=!0),(Zi&134217727)===0&&(la&134217727)===0||it===null||ts(it,je,Dn,!1)}function Im(t,i,a){var l=$e;$e|=2;var d=U1(),f=z1();(it!==t||je!==i)&&(dh=null,Co(t,i)),i=!1;var E=yt;e:do try{if(Ye!==0&&Le!==null){var S=Le,D=Ln;switch(Ye){case 8:Cm(),E=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(i=!0);var q=Ye;if(Ye=0,Ln=null,Io(t,S,D,q),a&&wo){E=0;break e}break;default:q=Ye,Ye=0,Ln=null,Io(t,S,D,q)}}mS(),E=yt;break}catch(Z){V1(t,Z)}while(!0);return i&&t.shellSuspendCounter++,ai=Js=null,$e=l,Y.H=d,Y.A=f,Le===null&&(it=null,je=0,ju()),E}function mS(){for(;Le!==null;)B1(Le)}function pS(t,i){var a=$e;$e|=2;var l=U1(),d=z1();it!==t||je!==i?(dh=null,hh=hn()+500,Co(t,i)):wo=nr(t,i);e:do try{if(Ye!==0&&Le!==null){i=Le;var f=Ln;t:switch(Ye){case 1:Ye=0,Ln=null,Io(t,i,f,1);break;case 2:case 9:if(X0(f)){Ye=0,Ln=null,H1(i);break}i=function(){Ye!==2&&Ye!==9||it!==t||(Ye=7),Hr(t)},f.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:X0(f)?(Ye=0,Ln=null,H1(i)):(Ye=0,Ln=null,Io(t,i,f,7));break;case 5:var E=null;switch(Le.tag){case 26:E=Le.memoizedState;case 5:case 27:var S=Le;if(E?kv(E):S.stateNode.complete){Ye=0,Ln=null;var D=S.sibling;if(D!==null)Le=D;else{var q=S.return;q!==null?(Le=q,ph(q)):Le=null}break t}}Ye=0,Ln=null,Io(t,i,f,5);break;case 6:Ye=0,Ln=null,Io(t,i,f,6);break;case 8:Cm(),yt=6;break e;default:throw Error(s(462))}}gS();break}catch(Z){V1(t,Z)}while(!0);return ai=Js=null,Y.H=l,Y.A=d,$e=a,Le!==null?0:(it=null,je=0,ju(),yt)}function gS(){for(;Le!==null&&!af();)B1(Le)}function B1(t){var i=h1(t.alternate,t,gi);t.memoizedProps=t.pendingProps,i===null?ph(t):Le=i}function H1(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=s1(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=s1(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:Gf(i);default:f1(a,i),i=Le=z0(i,gi),i=h1(a,i,gi)}t.memoizedProps=t.pendingProps,i===null?ph(t):Le=i}function Io(t,i,a,l){ai=Js=null,Gf(i),_o=null,Fl=0;var d=i.return;try{if(iS(t,d,i,a,je)){yt=1,nh(t,qn(a,t.current)),Le=null;return}}catch(f){if(d!==null)throw Le=d,f;yt=1,nh(t,qn(a,t.current)),Le=null;return}i.flags&32768?(Ue||l===1?t=!0:wo||(je&536870912)!==0?t=!1:(Xi=t=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),F1(i,t)):ph(i)}function ph(t){var i=t;do{if((i.flags&32768)!==0){F1(i,Xi);return}t=i.return;var a=oS(i.alternate,i,gi);if(a!==null){Le=a;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=t}while(i!==null);yt===0&&(yt=5)}function F1(t,i){do{var a=lS(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);yt=6,Le=null}function q1(t,i,a,l,d,f,E,S,D){t.cancelPendingCommit=null;do gh();while(zt!==0);if(($e&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=vf,cf(t,a,f,E,S,D),t===it&&(Le=it=null,je=0),Ro=i,es=t,yi=a,wm=f,km=d,D1=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ES(Ni,function(){return K1(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,d=z.p,z.p=2,E=$e,$e|=4;try{cS(t,i,a)}finally{$e=E,z.p=d,Y.T=l}}zt=1,G1(),W1(),$1()}}function G1(){if(zt===1){zt=0;var t=es,i=Ro,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=z.p;z.p=2;var d=$e;$e|=4;try{A1(i,t);var f=Hm,E=N0(t.containerInfo),S=f.focusedElem,D=f.selectionRange;if(E!==S&&S&&S.ownerDocument&&I0(S.ownerDocument.documentElement,S)){if(D!==null&&ff(S)){var q=D.start,Z=D.end;if(Z===void 0&&(Z=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(Z,S.value.length);else{var te=S.ownerDocument||document,W=te&&te.defaultView||window;if(W.getSelection){var X=W.getSelection(),pe=S.textContent.length,_e=Math.min(D.start,pe),nt=D.end===void 0?_e:Math.min(D.end,pe);!X.extend&&_e>nt&&(E=nt,nt=_e,_e=E);var U=C0(S,_e),O=C0(S,nt);if(U&&O&&(X.rangeCount!==1||X.anchorNode!==U.node||X.anchorOffset!==U.offset||X.focusNode!==O.node||X.focusOffset!==O.offset)){var F=te.createRange();F.setStart(U.node,U.offset),X.removeAllRanges(),_e>nt?(X.addRange(F),X.extend(O.node,O.offset)):(F.setEnd(O.node,O.offset),X.addRange(F))}}}}for(te=[],X=S;X=X.parentNode;)X.nodeType===1&&te.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var J=te[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Rh=!!Bm,Hm=Bm=null}finally{$e=d,z.p=l,Y.T=a}}t.current=i,zt=2}}function W1(){if(zt===2){zt=0;var t=es,i=Ro,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=z.p;z.p=2;var d=$e;$e|=4;try{E1(t,i.alternate,i)}finally{$e=d,z.p=l,Y.T=a}}zt=3}}function $1(){if(zt===4||zt===3){zt=0,au();var t=es,i=Ro,a=yi,l=D1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zt=5:(zt=0,Ro=es=null,Q1(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Ji=null),ei(a),i=i.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(tr,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,d=z.p,z.p=2,Y.T=null;try{for(var f=t.onRecoverableError,E=0;E<l.length;E++){var S=l[E];f(S.value,{componentStack:S.stack})}}finally{Y.T=i,z.p=d}}(yi&3)!==0&&gh(),Hr(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===Rm?ac++:(ac=0,Rm=t):ac=0,oc(0)}}function Q1(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Bl(i)))}function gh(){return G1(),W1(),$1(),K1()}function K1(){if(zt!==5)return!1;var t=es,i=wm;wm=0;var a=ei(yi),l=Y.T,d=z.p;try{z.p=32>a?32:a,Y.T=null,a=km,km=null;var f=es,E=yi;if(zt=0,Ro=es=null,yi=0,($e&6)!==0)throw Error(s(331));var S=$e;if($e|=4,I1(f.current),k1(f,f.current,E,a),$e=S,oc(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(tr,f)}catch{}return!0}finally{z.p=d,Y.T=l,Q1(t,i)}}function Y1(t,i,a){i=qn(a,i),i=am(t.stateNode,i,2),t=$i(t,i,2),t!==null&&(Os(t,2),Hr(t))}function Xe(t,i,a){if(t.tag===3)Y1(t,t,a);else for(;i!==null;){if(i.tag===3){Y1(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ji===null||!Ji.has(l))){t=qn(a,t),a=Xy(2),l=$i(i,a,2),l!==null&&(Zy(a,l,i,t),Os(l,2),Hr(l));break}}i=i.return}}function Nm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new dS;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(Tm=!0,d.add(a),t=yS.bind(null,t,i,a),i.then(t,t))}function yS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(je&a)===a&&(yt===4||yt===3&&(je&62914560)===je&&300>hn()-uh?($e&2)===0&&Co(t,0):Sm|=a,ko===je&&(ko=0)),Hr(t)}function X1(t,i){i===0&&(i=du()),t=Ys(t,i),t!==null&&(Os(t,i),Hr(t))}function vS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),X1(t,a)}function _S(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),X1(t,a)}function ES(t,i){return Ut(t,i)}var yh=null,No=null,Lm=!1,vh=!1,Dm=!1,ns=0;function Hr(t){t!==No&&t.next===null&&(No===null?yh=No=t:No=No.next=t),vh=!0,Lm||(Lm=!0,bS())}function oc(t,i){if(!Dm&&vh){Dm=!0;do for(var a=!1,l=yh;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var E=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=d&~(E&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,tv(l,f))}else f=je,f=Sr(l,l===it?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||nr(l,f)||(a=!0,tv(l,f));l=l.next}while(a);Dm=!1}}function xS(){Z1()}function Z1(){vh=Lm=!1;var t=0;ns!==0&&LS()&&(t=ns);for(var i=hn(),a=null,l=yh;l!==null;){var d=l.next,f=J1(l,i);f===0?(l.next=null,a===null?yh=d:a.next=d,d===null&&(No=a)):(a=l,(t!==0||(f&3)!==0)&&(vh=!0)),l=d}zt!==0&&zt!==5||oc(t),ns!==0&&(ns=0)}function J1(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var E=31-_t(f),S=1<<E,D=d[E];D===-1?((S&a)===0||(S&l)!==0)&&(d[E]=lf(S,i)):D<=i&&(t.expiredLanes|=S),f&=~S}if(i=it,a=je,a=Sr(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ii(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||nr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ii(l),ei(a)){case 2:case 8:a=yl;break;case 32:a=Ni;break;case 268435456:a=ou;break;default:a=Ni}return l=ev.bind(null,t),a=Ut(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ii(l),t.callbackPriority=2,t.callbackNode=null,2}function ev(t,i){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(gh()&&t.callbackNode!==a)return null;var l=je;return l=Sr(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(M1(t,l,i),J1(t,hn()),t.callbackNode!=null&&t.callbackNode===a?ev.bind(null,t):null)}function tv(t,i){if(gh())return null;M1(t,i,!0)}function bS(){jS(function(){($e&6)!==0?Ut(gl,xS):Z1()})}function jm(){if(ns===0){var t=go;t===0&&(t=br,br<<=1,(br&261888)===0&&(br=256)),ns=t}return ns}function nv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:eo(""+t)}function rv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function TS(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var f=nv((d[qt]||null).action),E=l.submitter;E&&(i=(i=E[qt]||null)?nv(i.formAction):E.getAttribute("formAction"),i!==null&&(f=i,E=null));var S=new Mr("action","action",null,l,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ns!==0){var D=E?rv(d,E):new FormData(d);em(a,{pending:!0,data:D,method:d.method,action:f},null,D)}}else typeof f=="function"&&(S.preventDefault(),D=E?rv(d,E):new FormData(d),em(a,{pending:!0,data:D,method:d.method,action:f},f,D))},currentTarget:d}]})}}for(var Mm=0;Mm<yf.length;Mm++){var Om=yf[Mm],SS=Om.toLowerCase(),AS=Om[0].toUpperCase()+Om.slice(1);ur(SS,"on"+AS)}ur(j0,"onAnimationEnd"),ur(M0,"onAnimationIteration"),ur(O0,"onAnimationStart"),ur("dblclick","onDoubleClick"),ur("focusin","onFocus"),ur("focusout","onBlur"),ur(BT,"onTransitionRun"),ur(HT,"onTransitionStart"),ur(FT,"onTransitionCancel"),ur(V0,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lc));function iv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var E=l.length-1;0<=E;E--){var S=l[E],D=S.instance,q=S.currentTarget;if(S=S.listener,D!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=q;try{f(d)}catch(Z){Du(Z)}d.currentTarget=null,f=D}else for(E=0;E<l.length;E++){if(S=l[E],D=S.instance,q=S.currentTarget,S=S.listener,D!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=q;try{f(d)}catch(Z){Du(Z)}d.currentTarget=null,f=D}}}}function De(t,i){var a=i[Ka];a===void 0&&(a=i[Ka]=new Set);var l=t+"__bubble";a.has(l)||(sv(i,t,2,!1),a.add(l))}function Vm(t,i,a){var l=0;i&&(l|=4),sv(a,t,l,i)}var _h="_reactListening"+Math.random().toString(36).slice(2);function Pm(t){if(!t[_h]){t[_h]=!0,El.forEach(function(a){a!=="selectionchange"&&(wS.has(a)||Vm(a,!1,t),Vm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[_h]||(i[_h]=!0,Vm("selectionchange",!1,i))}}function sv(t,i,a,l){switch(jv(i)){case 2:var d=eA;break;case 8:d=tA;break;default:d=Jm}a=d.bind(null,i,a,t),d=void 0,!Hs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function Um(t,i,a,l,d){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===d)break;if(E===4)for(E=l.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;S!==null;){if(E=Rr(S),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){l=f=E;continue e}S=S.parentNode}}l=l.return}Vi(function(){var q=f,Z=zn(a),te=[];e:{var W=P0.get(t);if(W!==void 0){var X=Mr,pe=t;switch(t){case"keypress":if(qs(a)===0)break e;case"keydown":case"keyup":X=Iu;break;case"focusin":pe="focus",X=Ws;break;case"focusout":pe="blur",X=Ws;break;case"beforeblur":case"afterblur":X=Ws;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case j0:case M0:case O0:X=Tu;break;case V0:X=w;break;case"scroll":case"scrollend":X=Ll;break;case"wheel":X=K;break;case"copy":case"cut":case"paste":X=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ri;break;case"toggle":case"beforetoggle":X=we}var _e=(i&4)!==0,nt=!_e&&(t==="scroll"||t==="scrollend"),U=_e?W!==null?W+"Capture":null:W;_e=[];for(var O=q,F;O!==null;){var J=O;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||U===null||(J=ar(O,U),J!=null&&_e.push(cc(O,J,F))),nt)break;O=O.return}0<_e.length&&(W=new X(W,pe,null,a,Z),te.push({event:W,listeners:_e}))}}if((i&7)===0){e:{if(W=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",W&&a!==Cl&&(pe=a.relatedTarget||a.fromElement)&&(Rr(pe)||pe[wr]))break e;if((X||W)&&(W=Z.window===Z?Z:(W=Z.ownerDocument)?W.defaultView||W.parentWindow:window,X?(pe=a.relatedTarget||a.toElement,X=q,pe=pe?Rr(pe):null,pe!==null&&(nt=c(pe),_e=pe.tag,pe!==nt||_e!==5&&_e!==27&&_e!==6)&&(pe=null)):(X=null,pe=q),X!==pe)){if(_e=Dl,J="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=ri,J="onPointerLeave",U="onPointerEnter",O="pointer"),nt=X==null?W:wn(X),F=pe==null?W:wn(pe),W=new _e(J,O+"leave",X,a,Z),W.target=nt,W.relatedTarget=F,J=null,Rr(Z)===q&&(_e=new _e(U,O+"enter",pe,a,Z),_e.target=F,_e.relatedTarget=nt,J=_e),nt=J,X&&pe)t:{for(_e=kS,U=X,O=pe,F=0,J=U;J;J=_e(J))F++;J=0;for(var ye=O;ye;ye=_e(ye))J++;for(;0<F-J;)U=_e(U),F--;for(;0<J-F;)O=_e(O),J--;for(;F--;){if(U===O||O!==null&&U===O.alternate){_e=U;break t}U=_e(U),O=_e(O)}_e=null}else _e=null;X!==null&&av(te,W,X,_e,!1),pe!==null&&nt!==null&&av(te,nt,pe,_e,!0)}}e:{if(W=q?wn(q):window,X=W.nodeName&&W.nodeName.toLowerCase(),X==="select"||X==="input"&&W.type==="file")var Fe=T0;else if(x0(W))if(S0)Fe=PT;else{Fe=OT;var ge=MT}else X=W.nodeName,!X||X.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?q&&Ja(q.elementType)&&(Fe=T0):Fe=VT;if(Fe&&(Fe=Fe(t,q))){b0(te,Fe,a,Z);break e}ge&&ge(t,W,q),t==="focusout"&&q&&W.type==="number"&&q.memoizedProps.value!=null&&wl(W,"number",W.value)}switch(ge=q?wn(q):window,t){case"focusin":(x0(ge)||ge.contentEditable==="true")&&(oo=ge,mf=q,Pl=null);break;case"focusout":Pl=mf=oo=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,L0(te,a,Z);break;case"selectionchange":if(zT)break;case"keydown":case"keyup":L0(te,a,Z)}var Ce;if(We)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else ao?$s(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Pr&&a.locale!=="ko"&&(ao||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&ao&&(Ce=Nl()):(jr=Z,Il="value"in jr?jr.value:jr.textContent,ao=!0)),ge=Eh(q,Me),0<ge.length&&(Me=new Vr(Me,t,null,a,Z),te.push({event:Me,listeners:ge}),Ce?Me.data=Ce:(Ce=so(a),Ce!==null&&(Me.data=Ce)))),(Ce=Hn?NT(t,a):LT(t,a))&&(Me=Eh(q,"onBeforeInput"),0<Me.length&&(ge=new Vr("onBeforeInput","beforeinput",null,a,Z),te.push({event:ge,listeners:Me}),ge.data=Ce)),TS(te,t,q,a,Z)}iv(te,i)})}function cc(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Eh(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=ar(t,a),d!=null&&l.unshift(cc(t,d,f)),d=ar(t,i),d!=null&&l.push(cc(t,d,f))),t.tag===3)return l;t=t.return}return[]}function kS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function av(t,i,a,l,d){for(var f=i._reactName,E=[];a!==null&&a!==l;){var S=a,D=S.alternate,q=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||q===null||(D=q,d?(q=ar(a,f),q!=null&&E.unshift(cc(a,q,D))):d||(q=ar(a,f),q!=null&&E.push(cc(a,q,D)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var RS=/\r\n?/g,CS=/\u0000|\uFFFD/g;function ov(t){return(typeof t=="string"?t:""+t).replace(RS,`
`).replace(CS,"")}function lv(t,i){return i=ov(i),ov(t)===i}function tt(t,i,a,l,d,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||vn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&vn(t,""+l);break;case"className":kn(t,"class",l);break;case"tabIndex":kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,a,l);break;case"style":Rl(t,l,f);break;case"data":if(i!=="object"){kn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=eo(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",d.name,d,null),tt(t,i,"formEncType",d.formEncType,d,null),tt(t,i,"formMethod",d.formMethod,d,null),tt(t,i,"formTarget",d.formTarget,d,null)):(tt(t,i,"encType",d.encType,d,null),tt(t,i,"method",d.method,d,null),tt(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=eo(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=sr);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=eo(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),Xa(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eu.get(a)||a,Xa(t,a,l))}}function zm(t,i,a,l,d,f){switch(a){case"style":Rl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?vn(t,l):(typeof l=="number"||typeof l=="bigint")&&vn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),f=t[qt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Xa(t,a,l)}}}function en(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var E=a[f];if(E!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,f,E,a,null)}}d&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var S=f=E=d=null,D=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":d=Z;break;case"type":E=Z;break;case"checked":D=Z;break;case"defaultChecked":q=Z;break;case"value":f=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:tt(t,i,l,Z,a,null)}}yu(t,f,S,D,q,E,d,!1);return;case"select":De("invalid",t),l=E=f=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":f=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:tt(t,i,d,S,a,null)}i=f,a=E,t.multiple=!!l,i!=null?Di(t,!!l,i,!1):a!=null&&Di(t,!!l,a,!0);return;case"textarea":De("invalid",t),f=d=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":d=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:tt(t,i,E,S,a,null)}ji(t,l,d,f);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":tt(t,i,D,l,a,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<lc.length;l++)De(lc[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,q,l,a,null)}return;default:if(Ja(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&zm(t,i,Z,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&tt(t,i,S,l,a,null))}function IS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,E=null,S=null,D=null,q=null,Z=null;for(X in a){var te=a[X];if(a.hasOwnProperty(X)&&te!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=te;default:l.hasOwnProperty(X)||tt(t,i,X,null,l,te)}}for(var W in l){var X=l[W];if(te=a[W],l.hasOwnProperty(W)&&(X!=null||te!=null))switch(W){case"type":f=X;break;case"name":d=X;break;case"checked":q=X;break;case"defaultChecked":Z=X;break;case"value":E=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==te&&tt(t,i,W,X,l,te)}}Za(t,E,S,D,q,Z,f,d);return;case"select":X=E=S=W=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":X=D;default:l.hasOwnProperty(f)||tt(t,i,f,null,l,D)}for(d in l)if(f=l[d],D=a[d],l.hasOwnProperty(d)&&(f!=null||D!=null))switch(d){case"value":W=f;break;case"defaultValue":S=f;break;case"multiple":E=f;default:f!==D&&tt(t,i,d,f,l,D)}i=S,a=E,l=X,W!=null?Di(t,!!a,W,!1):!!l!=!!a&&(i!=null?Di(t,!!a,i,!0):Di(t,!!a,a?[]:"",!1));return;case"textarea":X=W=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:tt(t,i,S,null,l,d)}for(E in l)if(d=l[E],f=a[E],l.hasOwnProperty(E)&&(d!=null||f!=null))switch(E){case"value":W=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&tt(t,i,E,d,l,f)}vu(t,W,X);return;case"option":for(var pe in a)W=a[pe],a.hasOwnProperty(pe)&&W!=null&&!l.hasOwnProperty(pe)&&(pe==="selected"?t.selected=!1:tt(t,i,pe,null,l,W));for(D in l)W=l[D],X=a[D],l.hasOwnProperty(D)&&W!==X&&(W!=null||X!=null)&&(D==="selected"?t.selected=W&&typeof W!="function"&&typeof W!="symbol":tt(t,i,D,W,l,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)W=a[_e],a.hasOwnProperty(_e)&&W!=null&&!l.hasOwnProperty(_e)&&tt(t,i,_e,null,l,W);for(q in l)if(W=l[q],X=a[q],l.hasOwnProperty(q)&&W!==X&&(W!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:tt(t,i,q,W,l,X)}return;default:if(Ja(i)){for(var nt in a)W=a[nt],a.hasOwnProperty(nt)&&W!==void 0&&!l.hasOwnProperty(nt)&&zm(t,i,nt,void 0,l,W);for(Z in l)W=l[Z],X=a[Z],!l.hasOwnProperty(Z)||W===X||W===void 0&&X===void 0||zm(t,i,Z,W,l,X);return}}for(var U in a)W=a[U],a.hasOwnProperty(U)&&W!=null&&!l.hasOwnProperty(U)&&tt(t,i,U,null,l,W);for(te in l)W=l[te],X=a[te],!l.hasOwnProperty(te)||W===X||W==null&&X==null||tt(t,i,te,W,l,X)}function cv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,E=d.initiatorType,S=d.duration;if(f&&S&&cv(E)){for(E=0,S=d.responseEnd,l+=1;l<a.length;l++){var D=a[l],q=D.startTime;if(q>S)break;var Z=D.transferSize,te=D.initiatorType;Z&&cv(te)&&(D=D.responseEnd,E+=Z*(D<S?1:(S-q)/(D-q)))}if(--l,i+=8*(f+E)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bm=null,Hm=null;function xh(t){return t.nodeType===9?t:t.ownerDocument}function uv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Fm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qm=null;function LS(){var t=window.event;return t&&t.type==="popstate"?t===qm?!1:(qm=t,!0):(qm=null,!1)}var dv=typeof setTimeout=="function"?setTimeout:void 0,DS=typeof clearTimeout=="function"?clearTimeout:void 0,fv=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof fv<"u"?function(t){return fv.resolve(null).then(t).catch(MS)}:dv;function MS(t){setTimeout(function(){throw t})}function rs(t){return t==="head"}function mv(t,i){var a=i,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),Mo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")uc(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,uc(a);for(var f=a.firstChild;f;){var E=f.nextSibling,S=f.nodeName;f[kr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=E}}else a==="body"&&uc(t.ownerDocument.body);a=d}while(a);Mo(i)}function pv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Gm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gm(a),Ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function OS(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[kr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function VS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function gv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Kn(t.nextSibling),t===null))return null;return t}function Wm(t){return t.data==="$?"||t.data==="$~"}function $m(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function PS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Qm=null;function yv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function vv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function _v(t,i,a){switch(i=xh(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function uc(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ya(t)}var Yn=new Map,Ev=new Set;function bh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vi=z.d;z.d={f:US,r:zS,D:BS,C:HS,L:FS,m:qS,X:WS,S:GS,M:$S};function US(){var t=vi.f(),i=fh();return t||i}function zS(t){var i=Un(t);i!==null&&i.tag===5&&i.type==="form"?Vy(i):vi.r(t)}var Lo=typeof document>"u"?null:document;function xv(t,i,a){var l=Lo;if(l&&typeof i=="string"&&i){var d=yn(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Ev.has(d)||(Ev.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),en(i,"link",t),kt(i),l.head.appendChild(i)))}}function BS(t){vi.D(t),xv("dns-prefetch",t,null)}function HS(t,i){vi.C(t,i),xv("preconnect",t,i)}function FS(t,i,a){vi.L(t,i,a);var l=Lo;if(l&&t&&i){var d='link[rel="preload"][as="'+yn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+yn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+yn(a.imageSizes)+'"]')):d+='[href="'+yn(t)+'"]';var f=d;switch(i){case"style":f=Do(t);break;case"script":f=jo(t)}Yn.has(f)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Yn.set(f,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(hc(f))||i==="script"&&l.querySelector(dc(f))||(i=l.createElement("link"),en(i,"link",t),kt(i),l.head.appendChild(i)))}}function qS(t,i){vi.m(t,i);var a=Lo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=jo(t)}if(!Yn.has(f)&&(t=T({rel:"modulepreload",href:t},i),Yn.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(dc(f)))return}l=a.createElement("link"),en(l,"link",t),kt(l),a.head.appendChild(l)}}}function GS(t,i,a){vi.S(t,i,a);var l=Lo;if(l&&t){var d=Cr(l).hoistableStyles,f=Do(t);i=i||"default";var E=d.get(f);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(hc(f)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Yn.get(f))&&Km(t,a);var D=E=l.createElement("link");kt(D),en(D,"link",t),D._p=new Promise(function(q,Z){D.onload=q,D.onerror=Z}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Th(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:S},d.set(f,E)}}}function WS(t,i){vi.X(t,i);var a=Lo;if(a&&t){var l=Cr(a).hoistableScripts,d=jo(t),f=l.get(d);f||(f=a.querySelector(dc(d)),f||(t=T({src:t,async:!0},i),(i=Yn.get(d))&&Ym(t,i),f=a.createElement("script"),kt(f),en(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function $S(t,i){vi.M(t,i);var a=Lo;if(a&&t){var l=Cr(a).hoistableScripts,d=jo(t),f=l.get(d);f||(f=a.querySelector(dc(d)),f||(t=T({src:t,async:!0,type:"module"},i),(i=Yn.get(d))&&Ym(t,i),f=a.createElement("script"),kt(f),en(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function bv(t,i,a,l){var d=(d=Re.current)?bh(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Do(a.href),a=Cr(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Do(a.href);var f=Cr(d).hoistableStyles,E=f.get(t);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,E),(f=d.querySelector(hc(t)))&&!f._p&&(E.instance=f,E.state.loading=5),Yn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(t,a),f||QS(d,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=jo(a),a=Cr(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Do(t){return'href="'+yn(t)+'"'}function hc(t){return'link[rel="stylesheet"]['+t+"]"}function Tv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function QS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),en(i,"link",a),kt(i),t.head.appendChild(i))}function jo(t){return'[src="'+yn(t)+'"]'}function dc(t){return"script[async]"+t}function Sv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+yn(a.href)+'"]');if(l)return i.instance=l,kt(l),l;var d=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),kt(l),en(l,"style",d),Th(l,a.precedence,t),i.instance=l;case"stylesheet":d=Do(a.href);var f=t.querySelector(hc(d));if(f)return i.state.loading|=4,i.instance=f,kt(f),f;l=Tv(a),(d=Yn.get(d))&&Km(l,d),f=(t.ownerDocument||t).createElement("link"),kt(f);var E=f;return E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),en(f,"link",l),i.state.loading|=4,Th(f,a.precedence,t),i.instance=f;case"script":return f=jo(a.src),(d=t.querySelector(dc(f)))?(i.instance=d,kt(d),d):(l=a,(d=Yn.get(f))&&(l=T({},a),Ym(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),kt(d),en(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Th(l,a.precedence,t));return i.instance}function Th(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===i)f=S;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Km(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Ym(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Sh=null;function Av(t,i,a){if(Sh===null){var l=new Map,d=Sh=new Map;d.set(a,l)}else d=Sh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[kr]||f[wt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var E=f.getAttribute(i)||"";E=t+E;var S=l.get(E);S?S.push(f):l.set(E,[f])}}return l}function wv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function KS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function kv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function YS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Do(l.href),f=i.querySelector(hc(d));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Ah.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,kt(f);return}f=i.ownerDocument||i,l=Tv(l),(d=Yn.get(d))&&Km(l,d),f=f.createElement("link"),kt(f);var E=f;E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),en(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ah.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Xm=0;function XS(t,i){return t.stylesheets&&t.count===0&&kh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&kh(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Xm===0&&(Xm=62500*NS());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&kh(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Xm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wh=null;function kh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wh=new Map,i.forEach(ZS,t),wh=null,Ah.call(t))}function ZS(t,i){if(!(i.state.loading&4)){var a=wh.get(t);if(a)var l=a.get(null);else{a=new Map,wh.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var E=d[f];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}d=i.instance,E=d.getAttribute("data-precedence"),f=a.get(E)||l,f===l&&a.set(null,d),a.set(E,d),this.count++,l=Ah.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var fc={$$typeof:oe,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function JS(t,i,a,l,d,f,E,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Rv(t,i,a,l,d,f,E,S,D,q,Z,te){return t=new JS(t,i,a,E,D,q,Z,te,S),i=1,f===!0&&(i|=24),f=Cn(3,null,null,i),t.current=f,f.stateNode=t,i=If(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},jf(f),t}function Cv(t){return t?(t=uo,t):uo}function Iv(t,i,a,l,d,f){d=Cv(d),l.context===null?l.context=d:l.pendingContext=d,l=Wi(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=$i(t,l,i),a!==null&&(Tn(a,t,i),Gl(a,t,i))}function Nv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Zm(t,i){Nv(t,i),(t=t.alternate)&&Nv(t,i)}function Lv(t){if(t.tag===13||t.tag===31){var i=Ys(t,67108864);i!==null&&Tn(i,t,67108864),Zm(t,67108864)}}function Dv(t){if(t.tag===13||t.tag===31){var i=jn();i=Ps(i);var a=Ys(t,i);a!==null&&Tn(a,t,i),Zm(t,i)}}var Rh=!0;function eA(t,i,a,l){var d=Y.T;Y.T=null;var f=z.p;try{z.p=2,Jm(t,i,a,l)}finally{z.p=f,Y.T=d}}function tA(t,i,a,l){var d=Y.T;Y.T=null;var f=z.p;try{z.p=8,Jm(t,i,a,l)}finally{z.p=f,Y.T=d}}function Jm(t,i,a,l){if(Rh){var d=ep(l);if(d===null)Um(t,i,l,Ch,a),Mv(t,l);else if(rA(d,t,i,a,l))l.stopPropagation();else if(Mv(t,l),i&4&&-1<nA.indexOf(t)){for(;d!==null;){var f=Un(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var E=Tr(f.pendingLanes);if(E!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var D=1<<31-_t(E);S.entanglements[1]|=D,E&=~D}Hr(f),($e&6)===0&&(hh=hn()+500,oc(0))}}break;case 31:case 13:S=Ys(f,2),S!==null&&Tn(S,f,2),fh(),Zm(f,2)}if(f=ep(l),f===null&&Um(t,i,l,Ch,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else Um(t,i,l,null,a)}}function ep(t){return t=zn(t),tp(t)}var Ch=null;function tp(t){if(Ch=null,t=Rr(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ch=t,null}function jv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(js()){case gl:return 2;case yl:return 8;case Ni:case of:return 32;case ou:return 268435456;default:return 32}default:return 32}}var np=!1,is=null,ss=null,as=null,mc=new Map,pc=new Map,os=[],nA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mv(t,i){switch(t){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":mc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(i.pointerId)}}function gc(t,i,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},i!==null&&(i=Un(i),i!==null&&Lv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function rA(t,i,a,l,d){switch(i){case"focusin":return is=gc(is,t,i,a,l,d),!0;case"dragenter":return ss=gc(ss,t,i,a,l,d),!0;case"mouseover":return as=gc(as,t,i,a,l,d),!0;case"pointerover":var f=d.pointerId;return mc.set(f,gc(mc.get(f)||null,t,i,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,pc.set(f,gc(pc.get(f)||null,t,i,a,l,d)),!0}return!1}function Ov(t){var i=Rr(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,rr(t.priority,function(){Dv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,rr(t.priority,function(){Dv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ih(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=ep(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Cl=l,a.target.dispatchEvent(l),Cl=null}else return i=Un(a),i!==null&&Lv(i),t.blockedOn=a,!1;i.shift()}return!0}function Vv(t,i,a){Ih(t)&&a.delete(i)}function iA(){np=!1,is!==null&&Ih(is)&&(is=null),ss!==null&&Ih(ss)&&(ss=null),as!==null&&Ih(as)&&(as=null),mc.forEach(Vv),pc.forEach(Vv)}function Nh(t,i){t.blockedOn===i&&(t.blockedOn=null,np||(np=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,iA)))}var Lh=null;function Pv(t){Lh!==t&&(Lh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Lh===t&&(Lh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(tp(l||a)===null)continue;break}var f=Un(a);f!==null&&(t.splice(i,3),i-=3,em(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Mo(t){function i(D){return Nh(D,t)}is!==null&&Nh(is,t),ss!==null&&Nh(ss,t),as!==null&&Nh(as,t),mc.forEach(i),pc.forEach(i);for(var a=0;a<os.length;a++){var l=os[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<os.length&&(a=os[0],a.blockedOn===null);)Ov(a),a.blockedOn===null&&os.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],E=d[qt]||null;if(typeof f=="function")E||Pv(a);else if(E){var S=null;if(f&&f.hasAttribute("formAction")){if(d=f,E=f[qt]||null)S=E.formAction;else if(tp(d)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Pv(a)}}}function Uv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(E){return d=E})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function rp(t){this._internalRoot=t}Dh.prototype.render=rp.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=jn();Iv(a,l,t,i,null,null)},Dh.prototype.unmount=rp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Iv(t.current,2,null,t,null,null),fh(),i[wr]=null}};function Dh(t){this._internalRoot=t}Dh.prototype.unstable_scheduleHydration=function(t){if(t){var i=fu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<os.length&&i!==0&&i<os[a].priority;a++);os.splice(a,0,t),a===0&&Ov(t)}};var zv=e.version;if(zv!=="19.2.3")throw Error(s(527,zv,"19.2.3"));z.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var sA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{tr=jh.inject(sA),Kt=jh}catch{}}return vc.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",d=$y,f=Qy,E=Ky;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=Rv(t,1,!1,null,null,a,l,null,d,f,E,Uv),t[wr]=i.current,Pm(t),new rp(i)},vc.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,d="",f=$y,E=Qy,S=Ky,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=Rv(t,1,!0,i,a??null,l,d,D,f,E,S,Uv),i.context=Cv(null),a=i.current,l=jn(),l=Ps(l),d=Wi(l),d.callback=null,$i(a,d,l),a=l,i.current.lanes=a,Os(i,a),Hr(i),t[wr]=i.current,Pm(t),new Dh(i)},vc.version="19.2.3",vc}var Yv;function gA(){if(Yv)return ap.exports;Yv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ap.exports=pA(),ap.exports}var yA=gA();var Xv="popstate";function vA(r={}){function e(s,o){let{pathname:c,search:h,hash:m}=s.location;return Np("",{pathname:c,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Dc(o)}return EA(e,n,null,r)}function ft(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function er(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _A(){return Math.random().toString(36).substring(2,10)}function Zv(r,e){return{usr:r.state,key:r.key,idx:e}}function Np(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?tl(e):e,state:n,key:e&&e.key||s||_A()}}function Dc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function tl(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function EA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,h=o.history,m="POP",g=null,p=x();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function x(){return(h.state||{idx:null}).idx}function T(){m="POP";let Q=x(),se=Q==null?null:Q-p;p=Q,g&&g({action:m,location:$.location,delta:se})}function A(Q,se){m="PUSH";let ne=Np($.location,Q,se);p=x()+1;let oe=Zv(ne,p),G=$.createHref(ne);try{h.pushState(oe,"",G)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(G)}c&&g&&g({action:m,location:$.location,delta:1})}function M(Q,se){m="REPLACE";let ne=Np($.location,Q,se);p=x();let oe=Zv(ne,p),G=$.createHref(ne);h.replaceState(oe,"",G),c&&g&&g({action:m,location:$.location,delta:0})}function B(Q){return xA(Q)}let $={get action(){return m},get location(){return r(o,h)},listen(Q){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Xv,T),g=Q,()=>{o.removeEventListener(Xv,T),g=null}},createHref(Q){return e(o,Q)},createURL:B,encodeLocation(Q){let se=B(Q);return{pathname:se.pathname,search:se.search,hash:se.hash}},push:A,replace:M,go(Q){return h.go(Q)}};return $}function xA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Dc(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function GE(r,e,n="/"){return bA(r,e,n,!1)}function bA(r,e,n,s){let o=typeof e=="string"?tl(e):e,c=Ti(o.pathname||"/",n);if(c==null)return null;let h=WE(r);TA(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=jA(c);m=LA(h[g],p,s)}return m}function WE(r,e=[],n=[],s="",o=!1){let c=(h,m,g=o,p)=>{let x={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&g)return;ft(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let T=xi([s,x.relativePath]),A=n.concat(x);h.children&&h.children.length>0&&(ft(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),WE(h.children,e,A,T,g)),!(h.path==null&&!h.index)&&e.push({path:T,score:IA(T,h.index),routesMeta:A})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))c(h,m);else for(let g of $E(h.path))c(h,m,!0,g)}),e}function $E(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let h=$E(s.join("/")),m=[];return m.push(...h.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function TA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:NA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var SA=/^:[\w-]+$/,AA=3,wA=2,kA=1,RA=10,CA=-2,Jv=r=>r==="*";function IA(r,e){let n=r.split("/"),s=n.length;return n.some(Jv)&&(s+=CA),e&&(s+=wA),n.filter(o=>!Jv(o)).reduce((o,c)=>o+(SA.test(c)?AA:c===""?kA:RA),s)}function NA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function LA(r,e,n=!1){let{routesMeta:s}=r,o={},c="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,x=c==="/"?e:e.slice(c.length)||"/",T=ed({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},x),A=g.route;if(!T&&p&&n&&!s[s.length-1].route.index&&(T=ed({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:xi([c,T.pathname]),pathnameBase:PA(xi([c,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(c=xi([c,T.pathnameBase]))}return h}function ed(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=DA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:x,isOptional:T},A)=>{if(x==="*"){let B=m[A]||"";h=c.slice(0,c.length-B.length).replace(/(.)\/+$/,"$1")}const M=m[A];return T&&!M?p[x]=void 0:p[x]=(M||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:h,pattern:r}}function DA(r,e=!1,n=!0){er(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function jA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return er(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ti(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var QE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MA=r=>QE.test(r);function OA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?tl(r):r,c;if(n)if(MA(n))c=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),er(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?c=e_(n.substring(1),"/"):c=e_(n,e)}else c=e;return{pathname:c,search:UA(s),hash:zA(o)}}function e_(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function up(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lg(r){let e=VA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function cg(r,e,n,s=!1){let o;typeof r=="string"?o=tl(r):(o={...r},ft(!o.pathname||!o.pathname.includes("?"),up("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),up("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),up("#","search","hash",o)));let c=r===""||o.pathname==="",h=c?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let g=OA(o,m),p=h&&h!=="/"&&h.endsWith("/"),x=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||x)&&(g.pathname+="/"),g}var xi=r=>r.join("/").replace(/\/\/+/g,"/"),PA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),UA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,zA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,BA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function HA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function FA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var KE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function YE(r,e){let n=r;if(typeof n!="string"||!QE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(KE)try{let c=new URL(window.location.href),h=n.startsWith("//")?new URL(c.protocol+n):new URL(n),m=Ti(h.pathname,e);h.origin===c.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{er(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var XE=["POST","PUT","PATCH","DELETE"];new Set(XE);var qA=["GET",...XE];new Set(qA);var nl=j.createContext(null);nl.displayName="DataRouter";var wd=j.createContext(null);wd.displayName="DataRouterState";var GA=j.createContext(!1),ZE=j.createContext({isTransitioning:!1});ZE.displayName="ViewTransition";var WA=j.createContext(new Map);WA.displayName="Fetchers";var $A=j.createContext(null);$A.displayName="Await";var Vn=j.createContext(null);Vn.displayName="Navigation";var Gc=j.createContext(null);Gc.displayName="Location";var Jr=j.createContext({outlet:null,matches:[],isDataRoute:!1});Jr.displayName="Route";var ug=j.createContext(null);ug.displayName="RouteError";var JE="REACT_ROUTER_ERROR",QA="REDIRECT",KA="ROUTE_ERROR_RESPONSE";function YA(r){if(r.startsWith(`${JE}:${QA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function XA(r){if(r.startsWith(`${JE}:${KA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new BA(e.status,e.statusText,e.data)}catch{}}function ZA(r,{relative:e}={}){ft(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Vn),{hash:o,pathname:c,search:h}=Wc(r,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:xi([n,c])),s.createHref({pathname:m,search:h,hash:o})}function rl(){return j.useContext(Gc)!=null}function Ci(){return ft(rl(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Gc).location}var e2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t2(r){j.useContext(Vn).static||j.useLayoutEffect(r)}function hg(){let{isDataRoute:r}=j.useContext(Jr);return r?hw():JA()}function JA(){ft(rl(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(nl),{basename:e,navigator:n}=j.useContext(Vn),{matches:s}=j.useContext(Jr),{pathname:o}=Ci(),c=JSON.stringify(lg(s)),h=j.useRef(!1);return t2(()=>{h.current=!0}),j.useCallback((g,p={})=>{if(er(h.current,e2),!h.current)return;if(typeof g=="number"){n.go(g);return}let x=cg(g,JSON.parse(c),o,p.relative==="path");r==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:xi([e,x.pathname])),(p.replace?n.replace:n.push)(x,p.state,p)},[e,n,c,o,r])}j.createContext(null);function Wc(r,{relative:e}={}){let{matches:n}=j.useContext(Jr),{pathname:s}=Ci(),o=JSON.stringify(lg(n));return j.useMemo(()=>cg(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function ew(r,e){return n2(r,e)}function n2(r,e,n,s,o){ft(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=j.useContext(Vn),{matches:h}=j.useContext(Jr),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",x=m?m.pathnameBase:"/",T=m&&m.route;{let ne=T&&T.path||"";i2(p,!T||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let A=Ci(),M;if(e){let ne=typeof e=="string"?tl(e):e;ft(x==="/"||ne.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),M=ne}else M=A;let B=M.pathname||"/",$=B;if(x!=="/"){let ne=x.replace(/^\//,"").split("/");$="/"+B.replace(/^\//,"").split("/").slice(ne.length).join("/")}let Q=GE(r,{pathname:$});er(T||Q!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),er(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let se=sw(Q&&Q.map(ne=>Object.assign({},ne,{params:Object.assign({},g,ne.params),pathname:xi([x,c.encodeLocation?c.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?x:xi([x,c.encodeLocation?c.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),h,n,s,o);return e&&se?j.createElement(Gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},se):se}function tw(){let r=uw(),e=HA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,h)}var nw=j.createElement(tw,null),r2=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=XA(r.digest);n&&(r=n)}let e=r!==void 0?j.createElement(Jr.Provider,{value:this.props.routeContext},j.createElement(ug.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?j.createElement(rw,{error:r},e):e}};r2.contextType=GA;var hp=new WeakMap;function rw({children:r,error:e}){let{basename:n}=j.useContext(Vn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=YA(e.digest);if(s){let o=hp.get(e);if(o)throw o;let c=YE(s.location,n);if(KE&&!hp.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw hp.set(e,h),h}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function iw({routeContext:r,match:e,children:n}){let s=j.useContext(nl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Jr.Provider,{value:r},n)}function sw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,h=n?.errors;if(h!=null){let x=c.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);ft(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let m=!1,g=-1;if(n)for(let x=0;x<c.length;x++){let T=c[x];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=x),T.route.id){let{loaderData:A,errors:M}=n,B=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!M||M[T.route.id]===void 0);if(T.route.lazy||B){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let p=n&&s?(x,T)=>{s(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:FA(n.matches),errorInfo:T})}:void 0;return c.reduceRight((x,T,A)=>{let M,B=!1,$=null,Q=null;n&&(M=h&&T.route.id?h[T.route.id]:void 0,$=T.route.errorElement||nw,m&&(g<0&&A===0?(i2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,Q=null):g===A&&(B=!0,Q=T.route.hydrateFallbackElement||null)));let se=e.concat(c.slice(0,A+1)),ne=()=>{let oe;return M?oe=$:B?oe=Q:T.route.Component?oe=j.createElement(T.route.Component,null):T.route.element?oe=T.route.element:oe=x,j.createElement(iw,{match:T,routeContext:{outlet:x,matches:se,isDataRoute:n!=null},children:oe})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?j.createElement(r2,{location:n.location,revalidation:n.revalidation,component:$,error:M,children:ne(),routeContext:{outlet:null,matches:se,isDataRoute:!0},onError:p}):ne()},null)}function dg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aw(r){let e=j.useContext(nl);return ft(e,dg(r)),e}function ow(r){let e=j.useContext(wd);return ft(e,dg(r)),e}function lw(r){let e=j.useContext(Jr);return ft(e,dg(r)),e}function fg(r){let e=lw(r),n=e.matches[e.matches.length-1];return ft(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function cw(){return fg("useRouteId")}function uw(){let r=j.useContext(ug),e=ow("useRouteError"),n=fg("useRouteError");return r!==void 0?r:e.errors?.[n]}function hw(){let{router:r}=aw("useNavigate"),e=fg("useNavigate"),n=j.useRef(!1);return t2(()=>{n.current=!0}),j.useCallback(async(o,c={})=>{er(n.current,e2),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var t_={};function i2(r,e,n){!e&&!t_[r]&&(t_[r]=!0,er(!1,n))}j.memo(dw);function dw({routes:r,future:e,state:n,onError:s}){return n2(r,void 0,n,s,e)}function s2({to:r,replace:e,state:n,relative:s}){ft(rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(Vn);er(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=j.useContext(Jr),{pathname:h}=Ci(),m=hg(),g=cg(r,lg(c),h,s==="path"),p=JSON.stringify(g);return j.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function Xn(r){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:h}){ft(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=j.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:h,future:{}}),[m,o,c,h]);typeof n=="string"&&(n=tl(n));let{pathname:p="/",search:x="",hash:T="",state:A=null,key:M="default"}=n,B=j.useMemo(()=>{let $=Ti(p,m);return $==null?null:{location:{pathname:$,search:x,hash:T,state:A,key:M},navigationType:s}},[m,p,x,T,A,M,s]);return er(B!=null,`<Router basename="${m}"> is not able to match the URL "${p}${x}${T}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:j.createElement(Vn.Provider,{value:g},j.createElement(Gc.Provider,{children:e,value:B}))}function mw({children:r,location:e}){return ew(Lp(r),e)}function Lp(r,e=[]){let n=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let c=[...e,o];if(s.type===j.Fragment){n.push.apply(n,Lp(s.props.children,c));return}ft(s.type===Xn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Lp(s.props.children,c)),n.push(h)}),n}var Hh="get",Fh="application/x-www-form-urlencoded";function kd(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function pw(r){return kd(r)&&r.tagName.toLowerCase()==="button"}function gw(r){return kd(r)&&r.tagName.toLowerCase()==="form"}function yw(r){return kd(r)&&r.tagName.toLowerCase()==="input"}function vw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function _w(r,e){return r.button===0&&(!e||e==="_self")&&!vw(r)}var Mh=null;function Ew(){if(Mh===null)try{new FormData(document.createElement("form"),0),Mh=!1}catch{Mh=!0}return Mh}var xw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dp(r){return r!=null&&!xw.has(r)?(er(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fh}"`),null):r}function bw(r,e){let n,s,o,c,h;if(gw(r)){let m=r.getAttribute("action");s=m?Ti(m,e):null,n=r.getAttribute("method")||Hh,o=dp(r.getAttribute("enctype"))||Fh,c=new FormData(r)}else if(pw(r)||yw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?Ti(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Hh,o=dp(r.getAttribute("formenctype"))||dp(m.getAttribute("enctype"))||Fh,c=new FormData(m,r),!Ew()){let{name:p,type:x,value:T}=r;if(x==="image"){let A=p?`${p}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else p&&c.append(p,T)}}else{if(kd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hh,s=null,o=Fh,h=r}return c&&o==="text/plain"&&(h=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Tw(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Ti(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Sw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Aw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ww(r,e,n){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await Sw(c,n);return h.links?h.links():[]}return[]}));return Iw(s.flat(1).filter(Aw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function n_(r,e,n,s,o,c){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):c==="data"?e.filter((g,p)=>{let x=s.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function kw(r,e,{includeHydrateFallback:n}={}){return Rw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Rw(r){return[...new Set(r)]}function Cw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Iw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(Cw(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function a2(){let r=j.useContext(nl);return mg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Nw(){let r=j.useContext(wd);return mg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var pg=j.createContext(void 0);pg.displayName="FrameworkContext";function o2(){let r=j.useContext(pg);return mg(r,"You must render this element inside a <HydratedRouter> element"),r}function Lw(r,e){let n=j.useContext(pg),[s,o]=j.useState(!1),[c,h]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:x,onTouchStart:T}=e,A=j.useRef(null);j.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let $=se=>{se.forEach(ne=>{h(ne.isIntersecting)})},Q=new IntersectionObserver($,{threshold:.5});return A.current&&Q.observe(A.current),()=>{Q.disconnect()}}},[r]),j.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let M=()=>{o(!0)},B=()=>{o(!1),h(!1)};return n?r!=="intent"?[c,A,{}]:[c,A,{onFocus:_c(m,M),onBlur:_c(g,B),onMouseEnter:_c(p,M),onMouseLeave:_c(x,B),onTouchStart:_c(T,M)}]:[!1,A,{}]}function _c(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Dw({page:r,...e}){let{router:n}=a2(),s=j.useMemo(()=>GE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?j.createElement(Mw,{page:r,matches:s,...e}):null}function jw(r){let{manifest:e,routeModules:n}=o2(),[s,o]=j.useState([]);return j.useEffect(()=>{let c=!1;return ww(r,e,n).then(h=>{c||o(h)}),()=>{c=!0}},[r,e,n]),s}function Mw({page:r,matches:e,...n}){let s=Ci(),{future:o,manifest:c,routeModules:h}=o2(),{basename:m}=a2(),{loaderData:g,matches:p}=Nw(),x=j.useMemo(()=>n_(r,e,p,c,s,"data"),[r,e,p,c,s]),T=j.useMemo(()=>n_(r,e,p,c,s,"assets"),[r,e,p,c,s]),A=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let $=new Set,Q=!1;if(e.forEach(ne=>{let oe=c.routes[ne.route.id];!oe||!oe.hasLoader||(!x.some(G=>G.route.id===ne.route.id)&&ne.route.id in g&&h[ne.route.id]?.shouldRevalidate||oe.hasClientLoader?Q=!0:$.add(ne.route.id))}),$.size===0)return[];let se=Tw(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return Q&&$.size>0&&se.searchParams.set("_routes",e.filter(ne=>$.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[se.pathname+se.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,c,x,e,r,h]),M=j.useMemo(()=>kw(T,c),[T,c]),B=jw(T);return j.createElement(j.Fragment,null,A.map($=>j.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...n})),M.map($=>j.createElement("link",{key:$,rel:"modulepreload",href:$,...n})),B.map(({key:$,link:Q})=>j.createElement("link",{key:$,nonce:n.nonce,...Q})))}function Ow(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Vw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vw&&(window.__reactRouterVersion="7.12.0")}catch{}function Pw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=j.useRef();o.current==null&&(o.current=vA({window:s,v5Compat:!0}));let c=o.current,[h,m]=j.useState({action:c.action,location:c.location}),g=j.useCallback(p=>{n===!1?m(p):j.startTransition(()=>m(p))},[n]);return j.useLayoutEffect(()=>c.listen(g),[c,g]),j.createElement(fw,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:n})}var l2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,td=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:h,state:m,target:g,to:p,preventScrollReset:x,viewTransition:T,unstable_defaultShouldRevalidate:A,...M},B){let{basename:$,unstable_useTransitions:Q}=j.useContext(Vn),se=typeof p=="string"&&l2.test(p),ne=YE(p,$);p=ne.to;let oe=ZA(p,{relative:o}),[G,le,ae]=Lw(s,M),R=Hw(p,{replace:h,state:m,target:g,preventScrollReset:x,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:A,unstable_useTransitions:Q});function C(I){e&&e(I),I.defaultPrevented||R(I)}let k=j.createElement("a",{...M,...ae,href:ne.absoluteURL||oe,onClick:ne.isExternal||c?e:C,ref:Ow(B,le),target:g,"data-discover":!se&&n==="render"?"true":void 0});return G&&!se?j.createElement(j.Fragment,null,k,j.createElement(Dw,{page:oe})):k});td.displayName="Link";var Uw=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:h,viewTransition:m,children:g,...p},x){let T=Wc(h,{relative:p.relative}),A=Ci(),M=j.useContext(wd),{navigator:B,basename:$}=j.useContext(Vn),Q=M!=null&&$w(T)&&m===!0,se=B.encodeLocation?B.encodeLocation(T).pathname:T.pathname,ne=A.pathname,oe=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),oe=oe?oe.toLowerCase():null,se=se.toLowerCase()),oe&&$&&(oe=Ti(oe,$)||oe);const G=se!=="/"&&se.endsWith("/")?se.length-1:se.length;let le=ne===se||!o&&ne.startsWith(se)&&ne.charAt(G)==="/",ae=oe!=null&&(oe===se||!o&&oe.startsWith(se)&&oe.charAt(se.length)==="/"),R={isActive:le,isPending:ae,isTransitioning:Q},C=le?e:void 0,k;typeof s=="function"?k=s(R):k=[s,le?"active":null,ae?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let I=typeof c=="function"?c(R):c;return j.createElement(td,{...p,"aria-current":C,className:k,ref:x,style:I,to:h,viewTransition:m},typeof g=="function"?g(R):g)});Uw.displayName="NavLink";var zw=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:h=Hh,action:m,onSubmit:g,relative:p,preventScrollReset:x,viewTransition:T,unstable_defaultShouldRevalidate:A,...M},B)=>{let{unstable_useTransitions:$}=j.useContext(Vn),Q=Gw(),se=Ww(m,{relative:p}),ne=h.toLowerCase()==="get"?"get":"post",oe=typeof m=="string"&&l2.test(m),G=le=>{if(g&&g(le),le.defaultPrevented)return;le.preventDefault();let ae=le.nativeEvent.submitter,R=ae?.getAttribute("formmethod")||h,C=()=>Q(ae||le.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:o,state:c,relative:p,preventScrollReset:x,viewTransition:T,unstable_defaultShouldRevalidate:A});$&&n!==!1?j.startTransition(()=>C()):C()};return j.createElement("form",{ref:B,method:ne,action:se,onSubmit:s?g:G,...M,"data-discover":!oe&&r==="render"?"true":void 0})});zw.displayName="Form";function Bw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c2(r){let e=j.useContext(nl);return ft(e,Bw(r)),e}function Hw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=hg(),x=Ci(),T=Wc(r,{relative:c});return j.useCallback(A=>{if(_w(A,e)){A.preventDefault();let M=n!==void 0?n:Dc(x)===Dc(T),B=()=>p(r,{replace:M,state:s,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:m});g?j.startTransition(()=>B()):B()}},[x,p,T,n,s,e,r,o,c,h,m,g])}var Fw=0,qw=()=>`__${String(++Fw)}__`;function Gw(){let{router:r}=c2("useSubmit"),{basename:e}=j.useContext(Vn),n=cw(),s=r.fetch,o=r.navigate;return j.useCallback(async(c,h={})=>{let{action:m,method:g,encType:p,formData:x,body:T}=bw(c,e);if(h.navigate===!1){let A=h.fetcherKey||qw();await s(A,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:T,formMethod:h.method||g,formEncType:h.encType||p,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:T,formMethod:h.method||g,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function Ww(r,{relative:e}={}){let{basename:n}=j.useContext(Vn),s=j.useContext(Jr);ft(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Wc(r||".",{relative:e})},h=Ci();if(r==null){c.search=h.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(x=>x==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let x=m.toString();c.search=x?`?${x}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:xi([n,c.pathname])),Dc(c)}function $w(r,{relative:e}={}){let n=j.useContext(ZE);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=c2("useViewTransitionState"),o=Wc(r,{relative:e});if(!n.isTransitioning)return!1;let c=Ti(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Ti(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ed(o.pathname,h)!=null||ed(o.pathname,c)!=null}const Qw=()=>{};var r_={};const u2=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Kw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],h=r[n++],m=r[n++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},h2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,x=c>>2,T=(c&3)<<4|m>>4;let A=(m&15)<<2|p>>6,M=p&63;g||(M=64,h||(A=64)),s.push(n[x],n[T],n[A],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(u2(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Kw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||m==null||p==null||T==null)throw new Yw;const A=c<<2|m>>4;if(s.push(A),p!==64){const M=m<<4&240|p>>2;if(s.push(M),T!==64){const B=p<<6&192|T;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Yw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xw=function(r){const e=u2(r);return h2.encodeByteArray(e,!0)},nd=function(r){return Xw(r).replace(/\./g,"")},d2=function(r){try{return h2.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Zw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Jw=()=>Zw().__FIREBASE_DEFAULTS__,ek=()=>{if(typeof process>"u"||typeof r_>"u")return;const r=r_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},tk=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&d2(r[1]);return e&&JSON.parse(e)},Rd=()=>{try{return Qw()||Jw()||ek()||tk()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},f2=r=>Rd()?.emulatorHosts?.[r],nk=r=>{const e=f2(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},m2=()=>Rd()?.config,p2=r=>Rd()?.[`_${r}`];class rk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function il(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function g2(r){return(await fetch(r,{credentials:"include"})).ok}function ik(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[nd(JSON.stringify(n)),nd(JSON.stringify(h)),""].join(".")}const kc={};function sk(){const r={prod:[],emulator:[]};for(const e of Object.keys(kc))kc[e]?r.emulator.push(e):r.prod.push(e);return r}function ak(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let i_=!1;function y2(r,e){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||kc[r]===e||kc[r]||i_)return;kc[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",c=sk().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,M){A.setAttribute("width","24"),A.setAttribute("id",M),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{i_=!0,h()},A}function x(A,M){A.setAttribute("id",M),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=ak(s),M=n("text"),B=document.getElementById(M)||document.createElement("span"),$=n("learnmore"),Q=document.getElementById($)||document.createElement("a"),se=n("preprendIcon"),ne=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const oe=A.element;m(oe),x(Q,$);const G=p();g(ne,se),oe.append(ne,B,Q,G),document.body.appendChild(oe)}c?(B.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ok(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function lk(){const r=Rd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ck(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function uk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hk(){const r=un();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function dk(){return!lk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _2(){try{return typeof indexedDB=="object"}catch{return!1}}function E2(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function fk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const mk="FirebaseError";class Er extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=mk,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ea.prototype.create)}}class Ea{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?pk(c,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Er(o,m,s)}}function pk(r,e){return r.replace(gk,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const gk=/\{\$([^}]+)}/g;function yk(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function xs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=r[o],h=e[o];if(s_(c)&&s_(h)){if(!xs(c,h))return!1}else if(c!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function s_(r){return r!==null&&typeof r=="object"}function $c(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function xc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function bc(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function vk(r,e){const n=new _k(r,e);return n.subscribe.bind(n)}class _k{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Ek(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=fp),o.error===void 0&&(o.error=fp),o.complete===void 0&&(o.complete=fp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ek(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function fp(){}const xk=1e3,bk=2,Tk=14400*1e3,Sk=.5;function a_(r,e=xk,n=bk){const s=e*Math.pow(n,r),o=Math.round(Sk*s*(Math.random()-.5)*2);return Math.min(Tk,s+o)}function mt(r){return r&&r._delegate?r._delegate:r}class yr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ca="[DEFAULT]";class Ak{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new rk;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kk(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:wk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wk(r){return r===ca?void 0:r}function kk(r){return r.instantiationMode==="EAGER"}class Rk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ak(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const Ck={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Ik=Oe.INFO,Nk={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Lk=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Nk[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cd{constructor(e){this.name=e,this._logLevel=Ik,this._logHandler=Lk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ck[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const Dk=(r,e)=>e.some(n=>r instanceof n);let o_,l_;function jk(){return o_||(o_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mk(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x2=new WeakMap,Dp=new WeakMap,b2=new WeakMap,mp=new WeakMap,gg=new WeakMap;function Ok(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",h)},c=()=>{n(ps(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&x2.set(n,r)}).catch(()=>{}),gg.set(e,r),e}function Vk(r){if(Dp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",h),r.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",h),r.addEventListener("abort",h)});Dp.set(r,e)}let jp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Dp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||b2.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ps(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Pk(r){jp=r(jp)}function Uk(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(pp(this),e,...n);return b2.set(s,e.sort?e.sort():[e]),ps(s)}:Mk().includes(r)?function(...e){return r.apply(pp(this),e),ps(x2.get(this))}:function(...e){return ps(r.apply(pp(this),e))}}function zk(r){return typeof r=="function"?Uk(r):(r instanceof IDBTransaction&&Vk(r),Dk(r,jk())?new Proxy(r,jp):r)}function ps(r){if(r instanceof IDBRequest)return Ok(r);if(mp.has(r))return mp.get(r);const e=zk(r);return e!==r&&(mp.set(r,e),gg.set(e,r)),e}const pp=r=>gg.get(r);function T2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const h=indexedDB.open(r,e),m=ps(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ps(h.result),g.oldVersion,g.newVersion,ps(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const Bk=["get","getKey","getAll","getAllKeys","count"],Hk=["put","add","delete","clear"],gp=new Map;function c_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(gp.get(e))return gp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Hk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Bk.includes(n)))return;const c=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return gp.set(e,c),c}Pk(r=>({...r,get:(e,n,s)=>c_(e,n)||r.get(e,n,s),has:(e,n)=>!!c_(e,n)||r.has(e,n)}));class Fk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function qk(r){return r.getComponent()?.type==="VERSION"}const Mp="@firebase/app",u_="0.14.7";const Si=new Cd("@firebase/app"),Gk="@firebase/app-compat",Wk="@firebase/analytics-compat",$k="@firebase/analytics",Qk="@firebase/app-check-compat",Kk="@firebase/app-check",Yk="@firebase/auth",Xk="@firebase/auth-compat",Zk="@firebase/database",Jk="@firebase/data-connect",e4="@firebase/database-compat",t4="@firebase/functions",n4="@firebase/functions-compat",r4="@firebase/installations",i4="@firebase/installations-compat",s4="@firebase/messaging",a4="@firebase/messaging-compat",o4="@firebase/performance",l4="@firebase/performance-compat",c4="@firebase/remote-config",u4="@firebase/remote-config-compat",h4="@firebase/storage",d4="@firebase/storage-compat",f4="@firebase/firestore",m4="@firebase/ai",p4="@firebase/firestore-compat",g4="firebase",y4="12.8.0";const Op="[DEFAULT]",v4={[Mp]:"fire-core",[Gk]:"fire-core-compat",[$k]:"fire-analytics",[Wk]:"fire-analytics-compat",[Kk]:"fire-app-check",[Qk]:"fire-app-check-compat",[Yk]:"fire-auth",[Xk]:"fire-auth-compat",[Zk]:"fire-rtdb",[Jk]:"fire-data-connect",[e4]:"fire-rtdb-compat",[t4]:"fire-fn",[n4]:"fire-fn-compat",[r4]:"fire-iid",[i4]:"fire-iid-compat",[s4]:"fire-fcm",[a4]:"fire-fcm-compat",[o4]:"fire-perf",[l4]:"fire-perf-compat",[c4]:"fire-rc",[u4]:"fire-rc-compat",[h4]:"fire-gcs",[d4]:"fire-gcs-compat",[f4]:"fire-fst",[p4]:"fire-fst-compat",[m4]:"fire-vertex","fire-js":"fire-js",[g4]:"fire-js-all"};const rd=new Map,_4=new Map,Vp=new Map;function h_(r,e){try{r.container.addComponent(e)}catch(n){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Yr(r){const e=r.name;if(Vp.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;Vp.set(e,r);for(const n of rd.values())h_(n,r);for(const n of _4.values())h_(n,r);return!0}function xa(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function fr(r){return r==null?!1:r.settings!==void 0}const E4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new Ea("app","Firebase",E4);class x4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}const sl=y4;function S2(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Op,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw gs.create("bad-app-name",{appName:String(o)});if(n||(n=m2()),!n)throw gs.create("no-options");const c=rd.get(o);if(c){if(xs(n,c.options)&&xs(s,c.config))return c;throw gs.create("duplicate-app",{appName:o})}const h=new Rk(o);for(const g of Vp.values())h.addComponent(g);const m=new x4(n,s,h);return rd.set(o,m),m}function yg(r=Op){const e=rd.get(r);if(!e&&r===Op&&m2())return S2();if(!e)throw gs.create("no-app",{appName:r});return e}function Jn(r,e,n){let s=v4[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(h.join(" "));return}Yr(new yr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const b4="firebase-heartbeat-database",T4=1,jc="firebase-heartbeat-store";let yp=null;function A2(){return yp||(yp=T2(b4,T4,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(jc)}catch(n){console.warn(n)}}}}).catch(r=>{throw gs.create("idb-open",{originalErrorMessage:r.message})})),yp}async function S4(r){try{const n=(await A2()).transaction(jc),s=await n.objectStore(jc).get(w2(r));return await n.done,s}catch(e){if(e instanceof Er)Si.warn(e.message);else{const n=gs.create("idb-get",{originalErrorMessage:e?.message});Si.warn(n.message)}}}async function d_(r,e){try{const s=(await A2()).transaction(jc,"readwrite");await s.objectStore(jc).put(e,w2(r)),await s.done}catch(n){if(n instanceof Er)Si.warn(n.message);else{const s=gs.create("idb-set",{originalErrorMessage:n?.message});Si.warn(s.message)}}}function w2(r){return`${r.name}!${r.options.appId}`}const A4=1024,w4=30;class k4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new C4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=f_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>w4){const o=I4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Si.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=f_(),{heartbeatsToSend:n,unsentEntries:s}=R4(this._heartbeatsCache.heartbeats),o=nd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Si.warn(e),""}}}function f_(){return new Date().toISOString().substring(0,10)}function R4(r,e=A4){const n=[];let s=r.slice();for(const o of r){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),m_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),m_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class C4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _2()?E2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await S4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return d_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return d_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function m_(r){return nd(JSON.stringify({version:2,heartbeats:r})).length}function I4(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function N4(r){Yr(new yr("platform-logger",e=>new Fk(e),"PRIVATE")),Yr(new yr("heartbeat",e=>new k4(e),"PRIVATE")),Jn(Mp,u_,r),Jn(Mp,u_,"esm2020"),Jn("fire-js","")}N4("");function k2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L4=k2,R2=new Ea("auth","Firebase",k2());const id=new Cd("@firebase/auth");function D4(r,...e){id.logLevel<=Oe.WARN&&id.warn(`Auth (${sl}): ${r}`,...e)}function qh(r,...e){id.logLevel<=Oe.ERROR&&id.error(`Auth (${sl}): ${r}`,...e)}function vr(r,...e){throw vg(r,...e)}function Gr(r,...e){return vg(r,...e)}function C2(r,e,n){const s={...L4(),[e]:n};return new Ea("auth","Firebase",s).create(e,{appName:r.name})}function ys(r){return C2(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return R2.create(r,...e)}function Ee(r,e,...n){if(!r)throw vg(e,...n)}function _i(r){const e="INTERNAL ASSERTION FAILED: "+r;throw qh(e),new Error(e)}function Ai(r,e){r||_i(e)}function Pp(){return typeof self<"u"&&self.location?.href||""}function j4(){return p_()==="http:"||p_()==="https:"}function p_(){return typeof self<"u"&&self.location?.protocol||null}function M4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j4()||v2()||"connection"in navigator)?navigator.onLine:!0}function O4(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Qc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ai(n>e,"Short delay should be less than long delay!"),this.isMobile=ok()||uk()}get(){return M4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _g(r,e){Ai(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class I2{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const V4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const P4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],U4=new Qc(3e4,6e4);function ba(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Rs(r,e,n,s,o={}){return N2(r,o,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const m=$c({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...c};return ck()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&il(r.emulatorConfig.host)&&(p.credentials="include"),I2.fetch()(await L2(r,r.config.apiHost,n,m),p)})}async function N2(r,e,n){r._canInitEmulator=!1;const s={...V4,...e};try{const o=new B4(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Oh(r,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oh(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Oh(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Oh(r,"user-disabled",h);const x=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw C2(r,x,p);vr(r,x)}}catch(o){if(o instanceof Er)throw o;vr(r,"network-request-failed",{message:String(o)})}}async function Id(r,e,n,s,o={}){const c=await Rs(r,e,n,s,o);return"mfaPendingCredential"in c&&vr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function L2(r,e,n,s){const o=`${e}${n}?${s}`,c=r,h=c.config.emulator?_g(r.config,o):`${r.config.apiScheme}://${o}`;return P4.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function z4(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class B4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Gr(this.auth,"network-request-failed")),U4.get())})}}function Oh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Gr(r,e,s);return o.customData._tokenResponse=n,o}function g_(r){return r!==void 0&&r.enterprise!==void 0}class H4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return z4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function F4(r,e){return Rs(r,"GET","/v2/recaptchaConfig",ba(r,e))}async function q4(r,e){return Rs(r,"POST","/v1/accounts:delete",e)}async function sd(r,e){return Rs(r,"POST","/v1/accounts:lookup",e)}function Rc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function G4(r,e=!1){const n=mt(r),s=await n.getIdToken(e),o=Eg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:s,authTime:Rc(vp(o.auth_time)),issuedAtTime:Rc(vp(o.iat)),expirationTime:Rc(vp(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function vp(r){return Number(r)*1e3}function Eg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return qh("JWT malformed, contained fewer than 3 sections"),null;try{const o=d2(n);return o?JSON.parse(o):(qh("Failed to decode base64 JWT payload"),null)}catch(o){return qh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function y_(r){const e=Eg(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Mc(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Er&&W4(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function W4({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class $4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Up{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rc(this.lastLoginAt),this.creationTime=Rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ad(r){const e=r.auth,n=await r.getIdToken(),s=await Mc(r,sd(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?D2(o.providerUserInfo):[],h=K4(r.providerData,c),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,p=m?g:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Up(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,x)}async function Q4(r){const e=mt(r);await ad(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K4(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function D2(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Y4(r,e){const n=await N2(r,{},async()=>{const s=$c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,h=await L2(r,o,"/v1/token",`key=${c}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&il(r.emulatorConfig.host)&&(g.credentials="include"),I2.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function X4(r,e){return Rs(r,"POST","/v2/accounts:revokeToken",ba(r,e))}class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=y_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await Y4(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,h=new Bo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return _i("not implemented")}}function cs(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class mr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new $4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Up(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Mc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return G4(this,e)}reload(){return Q4(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ad(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(ys(this.auth));const e=await this.getIdToken();return await Mc(this,q4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:M,providerData:B,stsTokenManager:$}=n;Ee(T&&$,e,"internal-error");const Q=Bo.fromJSON(this.name,$);Ee(typeof T=="string",e,"internal-error"),cs(s,e.name),cs(o,e.name),Ee(typeof A=="boolean",e,"internal-error"),Ee(typeof M=="boolean",e,"internal-error"),cs(c,e.name),cs(h,e.name),cs(m,e.name),cs(g,e.name),cs(p,e.name),cs(x,e.name);const se=new mr({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:M,photoURL:h,phoneNumber:c,tenantId:m,stsTokenManager:Q,createdAt:p,lastLoginAt:x});return B&&Array.isArray(B)&&(se.providerData=B.map(ne=>({...ne}))),g&&(se._redirectEventId=g),se}static async _fromIdTokenResponse(e,n,s=!1){const o=new Bo;o.updateFromServerResponse(n);const c=new mr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ad(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?D2(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,m=new Bo;m.updateFromIdToken(s);const g=new mr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Up(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,p),g}}const v_=new Map;function Ei(r){Ai(r instanceof Function,"Expected a class definition");let e=v_.get(r);return e?(Ai(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,v_.set(r,e),e)}class j2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}j2.type="NONE";const __=j2;function Gh(r,e,n){return`firebase:${r}:${e}:${n}`}class Ho{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Gh(this.userKey,o.apiKey,c),this.fullPersistenceKey=Gh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sd(this.auth,{idToken:e}).catch(()=>{});return n?mr._fromGetAccountInfoResponse(this.auth,n,e):null}return mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ho(Ei(__),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||Ei(__);const h=Gh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const x=await p._get(h);if(x){let T;if(typeof x=="string"){const A=await sd(e,{idToken:x}).catch(()=>{});if(!A)break;T=await mr._fromGetAccountInfoResponse(e,A,x)}else T=mr._fromJSON(e,x);p!==c&&(m=T),c=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Ho(c,e,s):(c=g[0],m&&await c._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==c)try{await p._remove(h)}catch{}})),new Ho(c,e,s))}}function E_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z2(e))return"Blackberry";if(B2(e))return"Webos";if(O2(e))return"Safari";if((e.includes("chrome/")||V2(e))&&!e.includes("edge/"))return"Chrome";if(U2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function M2(r=un()){return/firefox\//i.test(r)}function O2(r=un()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V2(r=un()){return/crios\//i.test(r)}function P2(r=un()){return/iemobile/i.test(r)}function U2(r=un()){return/android/i.test(r)}function z2(r=un()){return/blackberry/i.test(r)}function B2(r=un()){return/webos/i.test(r)}function xg(r=un()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Z4(r=un()){return xg(r)&&!!window.navigator?.standalone}function J4(){return hk()&&document.documentMode===10}function H2(r=un()){return xg(r)||U2(r)||B2(r)||z2(r)||/windows phone/i.test(r)||P2(r)}function F2(r,e=[]){let n;switch(r){case"Browser":n=E_(un());break;case"Worker":n=`${E_(un())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sl}/${s}`}class eR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((h,m)=>{try{const g=e(c);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function tR(r,e={}){return Rs(r,"GET","/v2/passwordPolicy",ba(r,e))}const nR=6;class rR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??nR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class iR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x_(this),this.idTokenSubscription=new x_(this),this.beforeStateQueue=new eR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ei(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sd(this,{idToken:e}),s=await mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ad(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=O4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(ys(this));const n=e?mt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tR(this),n=new rR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ea("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await X4(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ei(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[Ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&D4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function al(r){return mt(r)}class x_{constructor(e){this.auth=e,this.observer=null,this.addObserver=vk(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sR(r){Nd=r}function q2(r){return Nd.loadJS(r)}function aR(){return Nd.recaptchaEnterpriseScript}function oR(){return Nd.gapiScript}function lR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class cR{constructor(){this.enterprise=new uR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class uR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const hR="recaptcha-enterprise",G2="NO_RECAPTCHA";class dR{constructor(e){this.type=hR,this.auth=al(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,m)=>{F4(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new H4(g);return c.tenantId==null?c._agentRecaptchaConfig=p:c._tenantRecaptchaConfigs[c.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(c,h,m){const g=window.grecaptcha;g_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(p=>{h(p)}).catch(()=>{h(G2)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cR().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{s(this.auth).then(m=>{if(!n&&g_(window.grecaptcha))o(m,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=aR();g.length!==0&&(g+=m),q2(g).then(()=>{o(m,c,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function b_(r,e,n,s=!1,o=!1){const c=new dR(r);let h;if(o)h=G2;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function T_(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await b_(r,e,n,n==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await b_(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(c)})}function fR(r,e){const n=xa(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(xs(c,e??{}))return o;vr(o,"already-initialized")}return n.initialize({options:e})}function mR(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ei);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function pR(r,e,n){const s=al(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=W2(e),{host:h,port:m}=gR(e),g=m===null?"":`:${m}`,p={url:`${c}//${h}${g}/`},x=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(xs(p,s.config.emulator)&&xs(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,il(h)?(g2(`${c}//${h}${g}`),y2("Auth",!0)):yR()}function W2(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function gR(r){const e=W2(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:S_(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:S_(h)}}}function S_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function yR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class bg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,n){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}}async function vR(r,e){return Rs(r,"POST","/v1/accounts:signUp",e)}async function _R(r,e){return Id(r,"POST","/v1/accounts:signInWithPassword",ba(r,e))}async function ER(r,e){return Id(r,"POST","/v1/accounts:signInWithEmailLink",ba(r,e))}async function xR(r,e){return Id(r,"POST","/v1/accounts:signInWithEmailLink",ba(r,e))}class Oc extends bg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Oc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Oc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return T_(e,n,"signInWithPassword",_R);case"emailLink":return ER(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return T_(e,s,"signUpPassword",vR);case"emailLink":return xR(e,{idToken:n,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Fo(r,e){return Id(r,"POST","/v1/accounts:signInWithIdp",ba(r,e))}const bR="http://localhost";class pa extends bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const h=new pa(s,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Fo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Fo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fo(e,n)}buildRequest(){const e={requestUri:bR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$c(n)}return e}}function TR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SR(r){const e=xc(bc(r)).link,n=e?xc(bc(e)).deep_link_id:null,s=xc(bc(r)).deep_link_id;return(s?xc(bc(s)).link:null)||s||n||e||r}class Tg{constructor(e){const n=xc(bc(e)),s=n.apiKey??null,o=n.oobCode??null,c=TR(n.mode??null);Ee(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=SR(e);try{return new Tg(n)}catch{return null}}}class ol{constructor(){this.providerId=ol.PROVIDER_ID}static credential(e,n){return Oc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Tg.parseLink(n);return Ee(s,"argument-error"),Oc._fromEmailAndCode(e,s.code,s.tenantId)}}ol.PROVIDER_ID="password";ol.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ol.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class $2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Kc extends $2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class us extends Kc{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";class hs extends Kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pa._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return hs.credential(n,s)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";class ds extends Kc{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";class fs extends Kc{constructor(){super("twitter.com")}static credential(e,n){return pa._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return fs.credential(n,s)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";class $o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await mr._fromIdTokenResponse(e,s,o),h=A_(s);return new $o({user:c,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=A_(s);return new $o({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function A_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class od extends Er{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,od.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new od(e,n,s,o)}}function Q2(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?od._fromErrorAndOperation(r,c,e,s):c})}async function AR(r,e,n=!1){const s=await Mc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return $o._forOperation(r,"link",s)}async function wR(r,e,n=!1){const{auth:s}=r;if(fr(s.app))return Promise.reject(ys(s));const o="reauthenticate";try{const c=await Mc(r,Q2(s,o,e,r),n);Ee(c.idToken,s,"internal-error");const h=Eg(c.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(r.uid===m,s,"user-mismatch"),$o._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&vr(s,"user-mismatch"),c}}async function K2(r,e,n=!1){if(fr(r.app))return Promise.reject(ys(r));const s="signIn",o=await Q2(r,s,e),c=await $o._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(c.user),c}async function kR(r,e){return K2(al(r),e)}async function RR(r){const e=al(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function CR(r,e,n){return fr(r.app)?Promise.reject(ys(r)):kR(mt(r),ol.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&RR(r),s})}function IR(r,e,n,s){return mt(r).onIdTokenChanged(e,n,s)}function NR(r,e,n){return mt(r).beforeAuthStateChanged(e,n)}function LR(r,e,n,s){return mt(r).onAuthStateChanged(e,n,s)}function DR(r){return mt(r).signOut()}const ld="__sak";class Y2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ld,"1"),this.storage.removeItem(ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const jR=1e3,MR=10;class X2 extends Y2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);J4()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,MR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},jR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}X2.type="LOCAL";const OR=X2;class Z2 extends Y2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Z2.type="SESSION";const J2=Z2;function VR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ld{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Ld(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,c)),g=await VR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ld.receivers=[];function Sg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class PR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((m,g)=>{const p=Sg("",20);o.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(A.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Wr(){return window}function UR(r){Wr().location.href=r}function ex(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function zR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BR(){return navigator?.serviceWorker?.controller||null}function HR(){return ex()?self:null}const tx="firebaseLocalStorageDb",FR=1,cd="firebaseLocalStorage",nx="fbase_key";class Yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dd(r,e){return r.transaction([cd],e?"readwrite":"readonly").objectStore(cd)}function qR(){const r=indexedDB.deleteDatabase(tx);return new Yc(r).toPromise()}function zp(){const r=indexedDB.open(tx,FR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(cd,{keyPath:nx})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(cd)?e(s):(s.close(),await qR(),e(await zp()))})})}async function w_(r,e,n){const s=Dd(r,!0).put({[nx]:e,value:n});return new Yc(s).toPromise()}async function GR(r,e){const n=Dd(r,!1).get(e),s=await new Yc(n).toPromise();return s===void 0?null:s.value}function k_(r,e){const n=Dd(r,!0).delete(e);return new Yc(n).toPromise()}const WR=800,$R=3;class rx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>$R)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ex()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ld._getInstance(HR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zR(),!this.activeServiceWorker)return;this.sender=new PR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zp();return await w_(e,ld,"1"),await k_(e,ld),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>w_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>GR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>k_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Dd(o,!1).getAll();return new Yc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rx.type="LOCAL";const QR=rx;new Qc(3e4,6e4);function KR(r,e){return e?Ei(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Ag extends bg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YR(r){return K2(r.auth,new Ag(r),r.bypassAuthState)}function XR(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),wR(n,new Ag(r),r.bypassAuthState)}async function ZR(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),AR(n,new Ag(r),r.bypassAuthState)}class ix{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YR;case"linkViaPopup":case"linkViaRedirect":return ZR;case"reauthViaPopup":case"reauthViaRedirect":return XR;default:vr(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const JR=new Qc(2e3,1e4);class zo extends ix{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,zo.currentPopupAction&&zo.currentPopupAction.cancel(),zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=Sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JR.get())};e()}}zo.currentPopupAction=null;const e6="pendingRedirect",Wh=new Map;class t6 extends ix{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Wh.get(this.auth._key());if(!e){try{const s=await n6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Wh.set(this.auth._key(),e)}return this.bypassAuthState||Wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n6(r,e){const n=s6(e),s=i6(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function r6(r,e){Wh.set(r._key(),e)}function i6(r){return Ei(r._redirectPersistence)}function s6(r){return Gh(e6,r.config.apiKey,r.name)}async function a6(r,e,n=!1){if(fr(r.app))return Promise.reject(ys(r));const s=al(r),o=KR(s,e),h=await new t6(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const o6=600*1e3;class l6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!c6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!sx(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Gr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=o6&&this.cachedEventUids.clear(),this.cachedEventUids.has(R_(e))}saveEventToCache(e){this.cachedEventUids.add(R_(e)),this.lastProcessedEventTime=Date.now()}}function R_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function sx({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function c6(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sx(r);default:return!1}}async function u6(r,e={}){return Rs(r,"GET","/v1/projects",e)}const h6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d6=/^https?/;async function f6(r){if(r.config.emulator)return;const{authorizedDomains:e}=await u6(r);for(const n of e)try{if(m6(n))return}catch{}vr(r,"unauthorized-domain")}function m6(r){const e=Pp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!d6.test(n))return!1;if(h6.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const p6=new Qc(3e4,6e4);function C_(){const r=Wr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function g6(r){return new Promise((e,n)=>{function s(){C_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C_(),n(Gr(r,"network-request-failed"))},timeout:p6.get()})}if(Wr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Wr().gapi?.load)s();else{const o=lR("iframefcb");return Wr()[o]=()=>{gapi.load?s():n(Gr(r,"network-request-failed"))},q2(`${oR()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw $h=null,e})}let $h=null;function y6(r){return $h=$h||g6(r),$h}const v6=new Qc(5e3,15e3),_6="__/auth/iframe",E6="emulator/auth/iframe",x6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T6(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?_g(e,E6):`https://${r.config.authDomain}/${_6}`,s={apiKey:e.apiKey,appName:r.name,v:sl},o=b6.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${$c(s).slice(1)}`}async function S6(r){const e=await y6(r),n=Wr().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:T6(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x6,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const h=Gr(r,"network-request-failed"),m=Wr().setTimeout(()=>{c(h)},v6.get());function g(){Wr().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{c(h)})}))}const A6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w6=500,k6=600,R6="_blank",C6="http://localhost";class I_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I6(r,e,n,s=w6,o=k6){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...A6,width:s.toString(),height:o.toString(),top:c,left:h},p=un().toLowerCase();n&&(m=V2(p)?R6:n),M2(p)&&(e=e||C6,g.scrollbars="yes");const x=Object.entries(g).reduce((A,[M,B])=>`${A}${M}=${B},`,"");if(Z4(p)&&m!=="_self")return N6(e||"",m),new I_(null);const T=window.open(e||"",m,x);Ee(T,r,"popup-blocked");try{T.focus()}catch{}return new I_(T)}function N6(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const L6="__/auth/handler",D6="emulator/auth/handler",j6=encodeURIComponent("fac");async function N_(r,e,n,s,o,c){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:sl,eventId:o};if(e instanceof $2){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",yk(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,T]of Object.entries({}))h[x]=T}if(e instanceof Kc){const x=e.getScopes().filter(T=>T!=="");x.length>0&&(h.scopes=x.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const x of Object.keys(m))m[x]===void 0&&delete m[x];const g=await r._getAppCheckToken(),p=g?`#${j6}=${encodeURIComponent(g)}`:"";return`${M6(r)}?${$c(m).slice(1)}${p}`}function M6({config:r}){return r.emulator?_g(r,D6):`https://${r.authDomain}/${L6}`}const _p="webStorageSupport";class O6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J2,this._completeRedirectFn=a6,this._overrideRedirectResult=r6}async _openPopup(e,n,s,o){Ai(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await N_(e,n,s,Pp(),o);return I6(e,c,Sg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await N_(e,n,s,Pp(),o);return UR(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Ai(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await S6(e),s=new l6(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_p,{type:_p},o=>{const c=o?.[0]?.[_p];c!==void 0&&n(!!c),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=f6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return H2()||O2()||xg()}}const V6=O6;var L_="@firebase/auth",D_="1.12.0";class P6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function U6(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z6(r){Yr(new yr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F2(r)},p=new iR(s,o,c,g);return mR(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Yr(new yr("auth-internal",e=>{const n=al(e.getProvider("auth").getImmediate());return(s=>new P6(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(L_,D_,U6(r)),Jn(L_,D_,"esm2020")}const B6=300,H6=p2("authIdTokenMaxAge")||B6;let j_=null;const F6=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>H6)return;const o=n?.token;j_!==o&&(j_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function q6(r=yg()){const e=xa(r,"auth");if(e.isInitialized())return e.getImmediate();const n=fR(r,{popupRedirectResolver:V6,persistence:[QR,OR,J2]}),s=p2("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=F6(c.toString());NR(n,h,()=>h(n.currentUser)),IR(n,m=>h(m))}}const o=f2("auth");return o&&pR(n,`http://${o}`),n}function G6(){return document.getElementsByTagName("head")?.[0]??document}sR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const c=Gr("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",G6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z6("Browser");var W6="firebase",$6="12.8.0";Jn(W6,$6,"app");var M_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vs,ax;(function(){var r;function e(R,C){function k(){}k.prototype=C.prototype,R.F=C.prototype,R.prototype=new k,R.prototype.constructor=R,R.D=function(I,L,V){for(var N=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)N[Ne-2]=arguments[Ne];return C.prototype[L].apply(I,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,C,k){k||(k=0);const I=Array(16);if(typeof C=="string")for(var L=0;L<16;++L)I[L]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(L=0;L<16;++L)I[L]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=R.g[0],k=R.g[1],L=R.g[2];let V=R.g[3],N;N=C+(V^k&(L^V))+I[0]+3614090360&4294967295,C=k+(N<<7&4294967295|N>>>25),N=V+(L^C&(k^L))+I[1]+3905402710&4294967295,V=C+(N<<12&4294967295|N>>>20),N=L+(k^V&(C^k))+I[2]+606105819&4294967295,L=V+(N<<17&4294967295|N>>>15),N=k+(C^L&(V^C))+I[3]+3250441966&4294967295,k=L+(N<<22&4294967295|N>>>10),N=C+(V^k&(L^V))+I[4]+4118548399&4294967295,C=k+(N<<7&4294967295|N>>>25),N=V+(L^C&(k^L))+I[5]+1200080426&4294967295,V=C+(N<<12&4294967295|N>>>20),N=L+(k^V&(C^k))+I[6]+2821735955&4294967295,L=V+(N<<17&4294967295|N>>>15),N=k+(C^L&(V^C))+I[7]+4249261313&4294967295,k=L+(N<<22&4294967295|N>>>10),N=C+(V^k&(L^V))+I[8]+1770035416&4294967295,C=k+(N<<7&4294967295|N>>>25),N=V+(L^C&(k^L))+I[9]+2336552879&4294967295,V=C+(N<<12&4294967295|N>>>20),N=L+(k^V&(C^k))+I[10]+4294925233&4294967295,L=V+(N<<17&4294967295|N>>>15),N=k+(C^L&(V^C))+I[11]+2304563134&4294967295,k=L+(N<<22&4294967295|N>>>10),N=C+(V^k&(L^V))+I[12]+1804603682&4294967295,C=k+(N<<7&4294967295|N>>>25),N=V+(L^C&(k^L))+I[13]+4254626195&4294967295,V=C+(N<<12&4294967295|N>>>20),N=L+(k^V&(C^k))+I[14]+2792965006&4294967295,L=V+(N<<17&4294967295|N>>>15),N=k+(C^L&(V^C))+I[15]+1236535329&4294967295,k=L+(N<<22&4294967295|N>>>10),N=C+(L^V&(k^L))+I[1]+4129170786&4294967295,C=k+(N<<5&4294967295|N>>>27),N=V+(k^L&(C^k))+I[6]+3225465664&4294967295,V=C+(N<<9&4294967295|N>>>23),N=L+(C^k&(V^C))+I[11]+643717713&4294967295,L=V+(N<<14&4294967295|N>>>18),N=k+(V^C&(L^V))+I[0]+3921069994&4294967295,k=L+(N<<20&4294967295|N>>>12),N=C+(L^V&(k^L))+I[5]+3593408605&4294967295,C=k+(N<<5&4294967295|N>>>27),N=V+(k^L&(C^k))+I[10]+38016083&4294967295,V=C+(N<<9&4294967295|N>>>23),N=L+(C^k&(V^C))+I[15]+3634488961&4294967295,L=V+(N<<14&4294967295|N>>>18),N=k+(V^C&(L^V))+I[4]+3889429448&4294967295,k=L+(N<<20&4294967295|N>>>12),N=C+(L^V&(k^L))+I[9]+568446438&4294967295,C=k+(N<<5&4294967295|N>>>27),N=V+(k^L&(C^k))+I[14]+3275163606&4294967295,V=C+(N<<9&4294967295|N>>>23),N=L+(C^k&(V^C))+I[3]+4107603335&4294967295,L=V+(N<<14&4294967295|N>>>18),N=k+(V^C&(L^V))+I[8]+1163531501&4294967295,k=L+(N<<20&4294967295|N>>>12),N=C+(L^V&(k^L))+I[13]+2850285829&4294967295,C=k+(N<<5&4294967295|N>>>27),N=V+(k^L&(C^k))+I[2]+4243563512&4294967295,V=C+(N<<9&4294967295|N>>>23),N=L+(C^k&(V^C))+I[7]+1735328473&4294967295,L=V+(N<<14&4294967295|N>>>18),N=k+(V^C&(L^V))+I[12]+2368359562&4294967295,k=L+(N<<20&4294967295|N>>>12),N=C+(k^L^V)+I[5]+4294588738&4294967295,C=k+(N<<4&4294967295|N>>>28),N=V+(C^k^L)+I[8]+2272392833&4294967295,V=C+(N<<11&4294967295|N>>>21),N=L+(V^C^k)+I[11]+1839030562&4294967295,L=V+(N<<16&4294967295|N>>>16),N=k+(L^V^C)+I[14]+4259657740&4294967295,k=L+(N<<23&4294967295|N>>>9),N=C+(k^L^V)+I[1]+2763975236&4294967295,C=k+(N<<4&4294967295|N>>>28),N=V+(C^k^L)+I[4]+1272893353&4294967295,V=C+(N<<11&4294967295|N>>>21),N=L+(V^C^k)+I[7]+4139469664&4294967295,L=V+(N<<16&4294967295|N>>>16),N=k+(L^V^C)+I[10]+3200236656&4294967295,k=L+(N<<23&4294967295|N>>>9),N=C+(k^L^V)+I[13]+681279174&4294967295,C=k+(N<<4&4294967295|N>>>28),N=V+(C^k^L)+I[0]+3936430074&4294967295,V=C+(N<<11&4294967295|N>>>21),N=L+(V^C^k)+I[3]+3572445317&4294967295,L=V+(N<<16&4294967295|N>>>16),N=k+(L^V^C)+I[6]+76029189&4294967295,k=L+(N<<23&4294967295|N>>>9),N=C+(k^L^V)+I[9]+3654602809&4294967295,C=k+(N<<4&4294967295|N>>>28),N=V+(C^k^L)+I[12]+3873151461&4294967295,V=C+(N<<11&4294967295|N>>>21),N=L+(V^C^k)+I[15]+530742520&4294967295,L=V+(N<<16&4294967295|N>>>16),N=k+(L^V^C)+I[2]+3299628645&4294967295,k=L+(N<<23&4294967295|N>>>9),N=C+(L^(k|~V))+I[0]+4096336452&4294967295,C=k+(N<<6&4294967295|N>>>26),N=V+(k^(C|~L))+I[7]+1126891415&4294967295,V=C+(N<<10&4294967295|N>>>22),N=L+(C^(V|~k))+I[14]+2878612391&4294967295,L=V+(N<<15&4294967295|N>>>17),N=k+(V^(L|~C))+I[5]+4237533241&4294967295,k=L+(N<<21&4294967295|N>>>11),N=C+(L^(k|~V))+I[12]+1700485571&4294967295,C=k+(N<<6&4294967295|N>>>26),N=V+(k^(C|~L))+I[3]+2399980690&4294967295,V=C+(N<<10&4294967295|N>>>22),N=L+(C^(V|~k))+I[10]+4293915773&4294967295,L=V+(N<<15&4294967295|N>>>17),N=k+(V^(L|~C))+I[1]+2240044497&4294967295,k=L+(N<<21&4294967295|N>>>11),N=C+(L^(k|~V))+I[8]+1873313359&4294967295,C=k+(N<<6&4294967295|N>>>26),N=V+(k^(C|~L))+I[15]+4264355552&4294967295,V=C+(N<<10&4294967295|N>>>22),N=L+(C^(V|~k))+I[6]+2734768916&4294967295,L=V+(N<<15&4294967295|N>>>17),N=k+(V^(L|~C))+I[13]+1309151649&4294967295,k=L+(N<<21&4294967295|N>>>11),N=C+(L^(k|~V))+I[4]+4149444226&4294967295,C=k+(N<<6&4294967295|N>>>26),N=V+(k^(C|~L))+I[11]+3174756917&4294967295,V=C+(N<<10&4294967295|N>>>22),N=L+(C^(V|~k))+I[2]+718787259&4294967295,L=V+(N<<15&4294967295|N>>>17),N=k+(V^(L|~C))+I[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+L&4294967295,R.g[3]=R.g[3]+V&4294967295}s.prototype.v=function(R,C){C===void 0&&(C=R.length);const k=C-this.blockSize,I=this.C;let L=this.h,V=0;for(;V<C;){if(L==0)for(;V<=k;)o(this,R,V),V+=this.blockSize;if(typeof R=="string"){for(;V<C;)if(I[L++]=R.charCodeAt(V++),L==this.blockSize){o(this,I),L=0;break}}else for(;V<C;)if(I[L++]=R[V++],L==this.blockSize){o(this,I),L=0;break}}this.h=L,this.o+=C},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;C=this.o*8;for(var k=R.length-8;k<R.length;++k)R[k]=C&255,C/=256;for(this.v(R),R=Array(16),C=0,k=0;k<4;++k)for(let I=0;I<32;I+=8)R[C++]=this.g[k]>>>I&255;return R};function c(R,C){var k=m;return Object.prototype.hasOwnProperty.call(k,R)?k[R]:k[R]=C(R)}function h(R,C){this.h=C;const k=[];let I=!0;for(let L=R.length-1;L>=0;L--){const V=R[L]|0;I&&V==C||(k[L]=V,I=!1)}this.g=k}var m={};function g(R){return-128<=R&&R<128?c(R,function(C){return new h([C|0],C<0?-1:0)}):new h([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return Q(p(-R));const C=[];let k=1;for(let I=0;R>=k;I++)C[I]=R/k|0,k*=4294967296;return new h(C,0)}function x(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return Q(x(R.substring(1),C));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=p(Math.pow(C,8));let I=T;for(let V=0;V<R.length;V+=8){var L=Math.min(8,R.length-V);const N=parseInt(R.substring(V,V+L),C);L<8?(L=p(Math.pow(C,L)),I=I.j(L).add(p(N))):(I=I.j(k),I=I.add(p(N)))}return I}var T=g(0),A=g(1),M=g(16777216);r=h.prototype,r.m=function(){if($(this))return-Q(this).m();let R=0,C=1;for(let k=0;k<this.g.length;k++){const I=this.i(k);R+=(I>=0?I:4294967296+I)*C,C*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(B(this))return"0";if($(this))return"-"+Q(this).toString(R);const C=p(Math.pow(R,6));var k=this;let I="";for(;;){const L=G(k,C).g;k=se(k,L.j(C));let V=((k.g.length>0?k.g[0]:k.h)>>>0).toString(R);if(k=L,B(k))return V+I;for(;V.length<6;)V="0"+V;I=V+I}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function B(R){if(R.h!=0)return!1;for(let C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function $(R){return R.h==-1}r.l=function(R){return R=se(this,R),$(R)?-1:B(R)?0:1};function Q(R){const C=R.g.length,k=[];for(let I=0;I<C;I++)k[I]=~R.g[I];return new h(k,~R.h).add(A)}r.abs=function(){return $(this)?Q(this):this},r.add=function(R){const C=Math.max(this.g.length,R.g.length),k=[];let I=0;for(let L=0;L<=C;L++){let V=I+(this.i(L)&65535)+(R.i(L)&65535),N=(V>>>16)+(this.i(L)>>>16)+(R.i(L)>>>16);I=N>>>16,V&=65535,N&=65535,k[L]=N<<16|V}return new h(k,k[k.length-1]&-2147483648?-1:0)};function se(R,C){return R.add(Q(C))}r.j=function(R){if(B(this)||B(R))return T;if($(this))return $(R)?Q(this).j(Q(R)):Q(Q(this).j(R));if($(R))return Q(this.j(Q(R)));if(this.l(M)<0&&R.l(M)<0)return p(this.m()*R.m());const C=this.g.length+R.g.length,k=[];for(var I=0;I<2*C;I++)k[I]=0;for(I=0;I<this.g.length;I++)for(let L=0;L<R.g.length;L++){const V=this.i(I)>>>16,N=this.i(I)&65535,Ne=R.i(L)>>>16,Ze=R.i(L)&65535;k[2*I+2*L]+=N*Ze,ne(k,2*I+2*L),k[2*I+2*L+1]+=V*Ze,ne(k,2*I+2*L+1),k[2*I+2*L+1]+=N*Ne,ne(k,2*I+2*L+1),k[2*I+2*L+2]+=V*Ne,ne(k,2*I+2*L+2)}for(R=0;R<C;R++)k[R]=k[2*R+1]<<16|k[2*R];for(R=C;R<2*C;R++)k[R]=0;return new h(k,0)};function ne(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function oe(R,C){this.g=R,this.h=C}function G(R,C){if(B(C))throw Error("division by zero");if(B(R))return new oe(T,T);if($(R))return C=G(Q(R),C),new oe(Q(C.g),Q(C.h));if($(C))return C=G(R,Q(C)),new oe(Q(C.g),C.h);if(R.g.length>30){if($(R)||$(C))throw Error("slowDivide_ only works with positive integers.");for(var k=A,I=C;I.l(R)<=0;)k=le(k),I=le(I);var L=ae(k,1),V=ae(I,1);for(I=ae(I,2),k=ae(k,2);!B(I);){var N=V.add(I);N.l(R)<=0&&(L=L.add(k),V=N),I=ae(I,1),k=ae(k,1)}return C=se(R,L.j(C)),new oe(L,C)}for(L=T;R.l(C)>=0;){for(k=Math.max(1,Math.floor(R.m()/C.m())),I=Math.ceil(Math.log(k)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),V=p(k),N=V.j(C);$(N)||N.l(R)>0;)k-=I,V=p(k),N=V.j(C);B(V)&&(V=A),L=L.add(V),R=se(R,N)}return new oe(L,R)}r.B=function(R){return G(this,R).h},r.and=function(R){const C=Math.max(this.g.length,R.g.length),k=[];for(let I=0;I<C;I++)k[I]=this.i(I)&R.i(I);return new h(k,this.h&R.h)},r.or=function(R){const C=Math.max(this.g.length,R.g.length),k=[];for(let I=0;I<C;I++)k[I]=this.i(I)|R.i(I);return new h(k,this.h|R.h)},r.xor=function(R){const C=Math.max(this.g.length,R.g.length),k=[];for(let I=0;I<C;I++)k[I]=this.i(I)^R.i(I);return new h(k,this.h^R.h)};function le(R){const C=R.g.length+1,k=[];for(let I=0;I<C;I++)k[I]=R.i(I)<<1|R.i(I-1)>>>31;return new h(k,R.h)}function ae(R,C){const k=C>>5;C%=32;const I=R.g.length-k,L=[];for(let V=0;V<I;V++)L[V]=C>0?R.i(V+k)>>>C|R.i(V+k+1)<<32-C:R.i(V+k);return new h(L,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ax=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=x,vs=h}).apply(typeof M_<"u"?M_:typeof self<"u"?self:typeof window<"u"?window:{});var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ox,Tc,lx,Qh,Bp,cx,ux,hx;(function(){var r,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vh=="object"&&Vh];for(var v=0;v<u.length;++v){var b=u[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function o(u,v){if(v)e:{var b=s;u=u.split(".");for(var w=0;w<u.length-1;w++){var H=u[w];if(!(H in b))break e;b=b[H]}u=u[u.length-1],w=b[u],v=v(w),v!=w&&v!=null&&e(b,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var b=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&b.push([w,v[w]]);return b}});var c=c||{},h=this||self;function m(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function g(u,v,b){return u.call.apply(u.bind,arguments)}function p(u,v,b){return p=g,p.apply(null,arguments)}function x(u,v){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function T(u,v){function b(){}b.prototype=v.prototype,u.Z=v.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(w,H,K){for(var ce=Array(arguments.length-2),we=2;we<arguments.length;we++)ce[we-2]=arguments[we];return v.prototype[H].apply(w,ce)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function M(u){const v=u.length;if(v>0){const b=Array(v);for(let w=0;w<v;w++)b[w]=u[w];return b}return[]}function B(u,v){for(let w=1;w<arguments.length;w++){const H=arguments[w];var b=typeof H;if(b=b!="object"?b:H?Array.isArray(H)?"array":b:"null",b=="array"||b=="object"&&typeof H.length=="number"){b=u.length||0;const K=H.length||0;u.length=b+K;for(let ce=0;ce<K;ce++)u[b+ce]=H[ce]}else u.push(H)}}class ${constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Q(u){h.setTimeout(()=>{throw u},0)}function se(){var u=R;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class ne{constructor(){this.h=this.g=null}add(v,b){const w=oe.get();w.set(v,b),this.h?this.h.next=w:this.g=w,this.h=w}}var oe=new $(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ae=!1,R=new ne,C=()=>{const u=Promise.resolve(void 0);le=()=>{u.then(k)}};function k(){for(var u;u=se();){try{u.h.call(u.g)}catch(b){Q(b)}var v=oe;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}ae=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};h.addEventListener("test",b,v),h.removeEventListener("test",b,v)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function Ne(u,v){L.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}T(Ne,L),Ne.prototype.init=function(u,v){const b=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(b=="mouseover"?v=u.fromElement:b=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ne.Z.h.call(this)},Ne.prototype.h=function(){Ne.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ze="closure_listenable_"+(Math.random()*1e6|0),Y=0;function z(u,v,b,w,H){this.listener=u,this.proxy=null,this.src=v,this.type=b,this.capture=!!w,this.ha=H,this.key=++Y,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ie(u,v,b){for(const w in u)v.call(b,u[w],w,u)}function He(u,v){for(const b in u)v.call(void 0,u[b],b,u)}function P(u){const v={};for(const b in u)v[b]=u[b];return v}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(u,v){let b,w;for(let H=1;H<arguments.length;H++){w=arguments[H];for(b in w)u[b]=w[b];for(let K=0;K<re.length;K++)b=re[K],Object.prototype.hasOwnProperty.call(w,b)&&(u[b]=w[b])}}function me(u){this.src=u,this.g={},this.h=0}me.prototype.add=function(u,v,b,w,H){const K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);const ce=Re(u,v,w,H);return ce>-1?(v=u[ce],b||(v.fa=!1)):(v=new z(v,this.src,K,!!w,H),v.fa=b,u.push(v)),v};function be(u,v){const b=v.type;if(b in u.g){var w=u.g[b],H=Array.prototype.indexOf.call(w,v,void 0),K;(K=H>=0)&&Array.prototype.splice.call(w,H,1),K&&(ue(v),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Re(u,v,b,w){for(let H=0;H<u.length;++H){const K=u[H];if(!K.da&&K.listener==v&&K.capture==!!b&&K.ha==w)return H}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Pt={};function ut(u,v,b,w,H){if(Array.isArray(v)){for(let K=0;K<v.length;K++)ut(u,v[K],b,w,H);return null}return b=pl(b),u&&u[Ze]?u.J(v,b,m(w)?!!w.capture:!1,H):Ls(u,v,b,!1,w,H)}function Ls(u,v,b,w,H,K){if(!v)throw Error("Invalid event type");const ce=m(H)?!!H.capture:!!H;let we=Ds(u);if(we||(u[ze]=we=new me(u)),b=we.add(v,b,w,ce,K),b.proxy)return b;if(w=Ga(),b.proxy=w,w.src=u,w.listener=b,u.addEventListener)V||(H=ce),H===void 0&&(H=!1),u.addEventListener(v.toString(),w,H);else if(u.attachEvent)u.attachEvent(xr(v.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ga(){function u(b){return v.call(u.src,u.listener,b)}const v=fl;return u}function Wa(u,v,b,w,H){if(Array.isArray(v))for(var K=0;K<v.length;K++)Wa(u,v[K],b,w,H);else w=m(w)?!!w.capture:!!w,b=pl(b),u&&u[Ze]?(u=u.i,K=String(v).toString(),K in u.g&&(v=u.g[K],b=Re(v,b,w,H),b>-1&&(ue(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete u.g[K],u.h--)))):u&&(u=Ds(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Re(v,b,w,H)),(b=u>-1?v[u]:null)&&$a(b))}function $a(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[Ze])be(v.i,u);else{var b=u.type,w=u.proxy;v.removeEventListener?v.removeEventListener(b,w,u.capture):v.detachEvent?v.detachEvent(xr(b),w):v.addListener&&v.removeListener&&v.removeListener(w),(b=Ds(v))?(be(b,u),b.h==0&&(b.src=null,v[ze]=null)):ue(u)}}}function xr(u){return u in Pt?Pt[u]:Pt[u]="on"+u}function fl(u,v){if(u.da)u=!0;else{v=new Ne(v,this);const b=u.listener,w=u.ha||u.src;u.fa&&$a(u),u=b.call(w,v)}return u}function Ds(u){return u=u[ze],u instanceof me?u:null}var ml="__closure_events_fn_"+(Math.random()*1e9>>>0);function pl(u){return typeof u=="function"?u:(u[ml]||(u[ml]=function(v){return u.handleEvent(v)}),u[ml])}function St(){I.call(this),this.i=new me(this),this.M=this,this.G=null}T(St,I),St.prototype[Ze]=!0,St.prototype.removeEventListener=function(u,v,b,w){Wa(this,u,v,b,w)};function Ut(u,v){var b,w=u.G;if(w)for(b=[];w;w=w.G)b.push(w);if(u=u.M,w=v.type||v,typeof v=="string")v=new L(v,u);else if(v instanceof L)v.target=v.target||u;else{var H=v;v=new L(w,u),he(v,H)}H=!0;let K,ce;if(b)for(ce=b.length-1;ce>=0;ce--)K=v.g=b[ce],H=Ii(K,w,!0,v)&&H;if(K=v.g=u,H=Ii(K,w,!0,v)&&H,H=Ii(K,w,!1,v)&&H,b)for(ce=0;ce<b.length;ce++)K=v.g=b[ce],H=Ii(K,w,!1,v)&&H}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const b=u.g[v];for(let w=0;w<b.length;w++)ue(b[w]);delete u.g[v],u.h--}}this.G=null},St.prototype.J=function(u,v,b,w){return this.i.add(String(u),v,!1,b,w)},St.prototype.K=function(u,v,b,w){return this.i.add(String(u),v,!0,b,w)};function Ii(u,v,b,w){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let K=0;K<v.length;++K){const ce=v[K];if(ce&&!ce.da&&ce.capture==b){const we=ce.listener,Et=ce.ha||ce.src;ce.fa&&be(u.i,ce),H=we.call(Et,w)!==!1&&H}}return H&&!w.defaultPrevented}function af(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(u,v||0)}function au(u){u.g=af(()=>{u.g=null,u.i&&(u.i=!1,au(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class hn extends I{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(u){I.call(this),this.h=u,this.g={}}T(js,I);var gl=[];function yl(u){Ie(u.g,function(v,b){this.g.hasOwnProperty(b)&&$a(v)},u),u.g={}}js.prototype.N=function(){js.Z.N.call(this),yl(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ni=h.JSON.stringify,of=h.JSON.parse,ou=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function lu(){}function cu(){}var tr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){L.call(this,"d")}T(Kt,L);function Pn(){L.call(this,"c")}T(Pn,L);var _t={},uu=null;function Qa(){return uu=uu||new St}_t.Ia="serverreachability";function hu(u){L.call(this,_t.Ia,u)}T(hu,L);function br(u){const v=Qa();Ut(v,new hu(v))}_t.STAT_EVENT="statevent";function Ms(u,v){L.call(this,_t.STAT_EVENT,u),this.stat=v}T(Ms,L);function At(u){const v=Qa();Ut(v,new Ms(v,u))}_t.Ja="timingevent";function Tr(u,v){L.call(this,_t.Ja,u),this.size=v}T(Tr,L);function Sr(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},v)}function nr(){this.g=!0}nr.prototype.ua=function(){this.g=!1};function lf(u,v,b,w,H,K){u.info(function(){if(u.g)if(K){var ce="",we=K.split("&");for(let We=0;We<we.length;We++){var Et=we[We].split("=");if(Et.length>1){const ht=Et[0];Et=Et[1];const Hn=ht.split("_");ce=Hn.length>=2&&Hn[1]=="type"?ce+(ht+"="+Et+"&"):ce+(ht+"=redacted&")}}}else ce=null;else ce=K;return"XMLHTTP REQ ("+w+") [attempt "+H+"]: "+v+`
`+b+`
`+ce})}function du(u,v,b,w,H,K,ce){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+H+"]: "+v+`
`+b+`
`+K+" "+ce})}function Ar(u,v,b,w){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+cf(u,b)+(w?" "+w:"")})}function Os(u,v){u.info(function(){return"TIMEOUT: "+v})}nr.prototype.info=function(){};function cf(u,v){if(!u.g)return v;if(!v)return null;try{const K=JSON.parse(v);if(K){for(u=0;u<K.length;u++)if(Array.isArray(K[u])){var b=K[u];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var H=w[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ce=1;ce<w.length;ce++)w[ce]=""}}}}return Ni(K)}catch{return v}}var Vs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_l;function Ps(){}T(Ps,lu),Ps.prototype.g=function(){return new XMLHttpRequest},_l=new Ps;function ei(u){return encodeURIComponent(String(u))}function fu(u){var v=1;u=u.split(":");const b=[];for(;v>0&&u.length;)b.push(u.shift()),v--;return u.length&&b.push(u.join(":")),b}function rr(u,v,b,w){this.j=u,this.i=v,this.l=b,this.S=w||1,this.V=new js(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ir}function ir(){this.i=null,this.g="",this.h=!1}var wt={},qt={};function wr(u,v,b){u.M=1,u.A=Us(Rt(v)),u.u=b,u.R=!0,Ka(u,null)}function Ka(u,v){u.F=Date.now(),kr(u),u.B=Rt(u.A);var b=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),Ja(b.i,"t",w),u.C=0,b=u.j.L,u.h=new ir,u.g=Ru(u.j,b?v:null,!u.u),u.P>0&&(u.O=new hn(p(u.Y,u,u.g),u.P)),v=u.V,b=u.g,w=u.ba;var H="readystatechange";Array.isArray(H)||(H&&(gl[0]=H.toString()),H=gl);for(let K=0;K<H.length;K++){const ce=ut(b,H[K],w||v.handleEvent,!1,v.h||v);if(!ce)break;v.g[ce.key]=ce}v=u.J?P(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),br(),lf(u.i,u.v,u.B,u.l,u.S,u.u)}rr.prototype.ba=function(u){u=u.target;const v=this.O;v&&or(u)==3?v.j():this.Y(u)},rr.prototype.Y=function(u){try{if(u==this.g)e:{const we=or(this.g),Et=this.g.ya(),We=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||we!=4||Et==7||(Et==8||We<=0?br(3):br(2)),Rr(this);var v=this.g.ca();this.X=v;var b=uf(this);if(this.o=v==200,du(this.i,this.v,this.B,this.l,this.S,we,v),this.o){if(this.U&&!this.L){t:{if(this.g){var w,H=this.g;if((w=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var K=w;break t}}K=null}if(u=K)Ar(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Cr(this,u);else{this.o=!1,this.m=3,At(12),wn(this),Un(this);break e}}if(this.R){u=!0;let ht;for(;!this.K&&this.C<b.length;)if(ht=pu(this,b),ht==qt){we==4&&(this.m=4,At(14),u=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==wt){this.m=4,At(15),Ar(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else Ar(this.i,this.l,ht,null),Cr(this,ht);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||b.length!=0||this.h.h||(this.m=1,At(16),u=!1),this.o=this.o&&u,!u)Ar(this.i,this.l,b,"[Invalid Chunked Response]"),wn(this),Un(this);else if(b.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),jl(ce),ce.P=!0,At(11))}}else Ar(this.i,this.l,b,null),Cr(this,b);we==4&&wn(this),this.o&&!this.K&&(we==4?Su(this.j,this):(this.o=!1,kr(this)))}else ni(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),wn(this),Un(this)}}}catch{}};function uf(u){if(!mu(u))return u.g.la();const v=Yt(u.g);if(v==="")return"";let b="";const w=v.length,H=or(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return wn(u),Un(u),"";u.h.i=new h.TextDecoder}for(let K=0;K<w;K++)u.h.h=!0,b+=u.h.i.decode(v[K],{stream:!(H&&K==w-1)});return v.length=0,u.h.g+=b,u.C=0,u.h.g}function mu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function pu(u,v){var b=u.C,w=v.indexOf(`
`,b);return w==-1?qt:(b=Number(v.substring(b,w)),isNaN(b)?wt:(w+=1,w+b>v.length?qt:(v=v.slice(w,w+b),u.C=w+b,v)))}rr.prototype.cancel=function(){this.K=!0,wn(this)};function kr(u){u.T=Date.now()+u.H,Ya(u,u.H)}function Ya(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Sr(p(u.aa,u),v)}function Rr(u){u.D&&(h.clearTimeout(u.D),u.D=null)}rr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Os(this.i,this.B),this.M!=2&&(br(),At(17)),wn(this),this.m=2,Un(this)):Ya(this,this.T-u)};function Un(u){u.j.I==0||u.K||Su(u.j,u)}function wn(u){Rr(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,yl(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function Cr(u,v){try{var b=u.j;if(b.I!=0&&(b.g==u||Nr(b.h,u))){if(!u.L&&Nr(b.h,u)&&b.I==3){try{var w=b.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var H=w;if(H[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)io(b),Ui(b);else break e;Ws(b),At(18)}}else b.xa=H[1],0<b.xa-b.K&&H[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Sr(p(b.Va,b),6e3));Ir(b.h)<=1&&b.ta&&(b.ta=void 0)}else Vr(b,11)}else if((u.L||b.g==u)&&io(b),!N(v))for(H=b.Ba.g.parse(v),v=0;v<H.length;v++){let We=H[v];const ht=We[0];if(!(ht<=b.K))if(b.K=ht,We=We[1],b.I==2)if(We[0]=="c"){b.M=We[1],b.ba=We[2];const Hn=We[3];Hn!=null&&(b.ka=Hn,b.j.info("VER="+b.ka));const Pr=We[4];Pr!=null&&(b.za=Pr,b.j.info("SVER="+b.za));const lr=We[5];lr!=null&&typeof lr=="number"&&lr>0&&(w=1.5*lr,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const cr=u.g;if(cr){const $s=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($s){var K=w.h;K.g||$s.indexOf("spdy")==-1&&$s.indexOf("quic")==-1&&$s.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(bl(K,K.h),K.h=null))}if(w.G){const so=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;so&&(w.wa=so,Ke(w.J,w.G,so))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var ce=u;if(w.na=ku(w,w.L?w.ba:null,w.W),ce.L){Tl(w.h,ce);var we=ce,Et=w.O;Et&&(we.H=Et),we.D&&(Rr(we),kr(we)),w.g=ce}else bu(w);b.i.length>0&&Or(b)}else We[0]!="stop"&&We[0]!="close"||Vr(b,7);else b.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Vr(b,7):Ll(b):We[0]!="noop"&&b.l&&b.l.qa(We),b.A=0)}}br(4)}catch{}}var kt=class{constructor(u,v){this.g=u,this.map=v}};function El(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ir(u){return u.h?1:u.g?u.g.size:0}function Nr(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function bl(u,v){u.g?u.g.add(v):u.h=v}function Tl(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}El.prototype.cancel=function(){if(this.i=Sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Sl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const b of u.g.values())v=v.concat(b.G);return v}return M(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xa(u,v){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const w=u[b].indexOf("=");let H,K=null;w>=0?(H=u[b].substring(0,w),K=u[b].substring(w+1)):H=u[b],v(H,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function kn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof kn?(this.l=u.l,Gt(this,u.j),this.o=u.o,this.g=u.g,Li(this,u.u),this.h=u.h,Al(this,Eu(u.i)),this.m=u.m):u&&(v=String(u).match(gu))?(this.l=!1,Gt(this,v[1]||"",!0),this.o=Lr(v[2]||""),this.g=Lr(v[3]||"",!0),Li(this,v[4]),this.h=Lr(v[5]||"",!0),Al(this,v[6]||"",!0),this.m=Lr(v[7]||"")):(this.l=!1,this.i=new ji(null,this.l))}kn.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(zs(v,Za,!0),":");var b=this.g;return(b||v=="file")&&(u.push("//"),(v=this.o)&&u.push(zs(v,Za,!0),"@"),u.push(ei(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(zs(b,b.charAt(0)=="/"?wl:yu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",zs(b,vu)),u.join("")},kn.prototype.resolve=function(u){const v=Rt(this);let b=!!u.j;b?Gt(v,u.j):b=!!u.o,b?v.o=u.o:b=!!u.g,b?v.g=u.g:b=u.u!=null;var w=u.h;if(b)Li(v,u.u);else if(b=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var H=v.h.lastIndexOf("/");H!=-1&&(w=v.h.slice(0,H+1)+w)}if(H=w,H==".."||H==".")w="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){w=H.lastIndexOf("/",0)==0,H=H.split("/");const K=[];for(let ce=0;ce<H.length;){const we=H[ce++];we=="."?w&&ce==H.length&&K.push(""):we==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&ce==H.length&&K.push("")):(K.push(we),w=!0)}w=K.join("/")}else w=H}return b?v.h=w:b=u.i.toString()!=="",b?Al(v,Eu(u.i)):b=!!u.m,b&&(v.m=u.m),v};function Rt(u){return new kn(u)}function Gt(u,v,b){u.j=b?Lr(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Li(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function Al(u,v,b){v instanceof ji?(u.i=v,eo(u.i,u.l)):(b||(v=zs(v,Di)),u.i=new ji(v,u.l))}function Ke(u,v,b){u.i.set(v,b)}function Us(u){return Ke(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Lr(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function zs(u,v,b){return typeof u=="string"?(u=encodeURI(u).replace(v,yn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Za=/[#\/\?@]/g,yu=/[#\?:]/g,wl=/[#\?]/g,Di=/[#\?@]/g,vu=/#/g;function ji(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&Xa(u.i,function(v,b){u.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}r=ji.prototype,r.add=function(u,v){vn(this),this.i=null,u=Mi(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(v),this.h+=1,this};function _u(u,v){vn(u),v=Mi(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function kl(u,v){return vn(u),v=Mi(u,v),u.g.has(v)}r.forEach=function(u,v){vn(this),this.g.forEach(function(b,w){b.forEach(function(H){u.call(v,H,w,this)},this)},this)};function Rl(u,v){vn(u);let b=[];if(typeof v=="string")kl(u,v)&&(b=b.concat(u.g.get(Mi(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)b=b.concat(u[v]);return b}r.set=function(u,v){return vn(this),this.i=null,u=Mi(this,u),kl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},r.get=function(u,v){return u?(u=Rl(this,u),u.length>0?String(u[0]):v):v};function Ja(u,v,b){_u(u,v),b.length>0&&(u.i=null,u.g.set(Mi(u,v),M(b)),u.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var b=v[w];const H=ei(b);b=Rl(this,b);for(let K=0;K<b.length;K++){let ce=H;b[K]!==""&&(ce+="="+ei(b[K])),u.push(ce)}}return this.i=u.join("&")};function Eu(u){const v=new ji;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function Mi(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function eo(u,v){v&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(b,w){const H=w.toLowerCase();w!=H&&(_u(this,w),Ja(this,H,b))},u)),u.j=v}function sr(u,v){const b=new nr;if(h.Image){const w=new Image;w.onload=x(zn,b,"TestLoadImage: loaded",!0,v,w),w.onerror=x(zn,b,"TestLoadImage: error",!1,v,w),w.onabort=x(zn,b,"TestLoadImage: abort",!1,v,w),w.ontimeout=x(zn,b,"TestLoadImage: timeout",!1,v,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else v(!1)}function Cl(u,v){const b=new nr,w=new AbortController,H=setTimeout(()=>{w.abort(),zn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:w.signal}).then(K=>{clearTimeout(H),K.ok?zn(b,"TestPingServer: ok",!0,v):zn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),zn(b,"TestPingServer: error",!1,v)})}function zn(u,v,b,w,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),w(b)}catch{}}function Oi(){this.g=new ou}function Dr(u){this.i=u.Sb||null,this.h=u.ab||!1}T(Dr,lu),Dr.prototype.g=function(){return new Bs(this.i,this.h)};function Bs(u,v){St.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Bs,St),r=Bs.prototype,r.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,ar(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vi(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;to(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function to(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Vi(this):ar(this),this.readyState==3&&to(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Vi(this))},r.Na=function(u){this.g&&(this.response=u,Vi(this))},r.ga=function(){this.g&&Vi(this)};function Vi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ar(u)}r.setRequestHeader=function(u,v){this.A.append(u,v)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=v.next();return u.join(`\r
`)};function ar(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Bn(u){let v="";return Ie(u,function(b,w){v+=w,v+=":",v+=b,v+=`\r
`}),v}function Hs(u,v,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=Bn(b),typeof u=="string"?b!=null&&ei(b):Ke(u,v,b))}function Je(u){St.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Je,St);var jr=/^https?$/i,Il=["POST","PUT"];r=Je.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,v,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_l.g(),this.g.onreadystatechange=A(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(K){Fs(this,K);return}if(u=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var H in w)b.set(H,w[H]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())b.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(K=>K.toLowerCase()=="content-type"),H=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(Il,v,void 0)>=0)||w||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ce]of b)this.g.setRequestHeader(K,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(K){Fs(this,K)}};function Fs(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,Nl(u),ti(u)}function Nl(u){u.A||(u.A=!0,Ut(u,"complete"),Ut(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ut(this,"complete"),Ut(this,"abort"),ti(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ti(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?qs(this):this.Xa())},r.Xa=function(){qs(this)};function qs(u){if(u.h&&typeof c<"u"){if(u.v&&or(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ut(u,"readystatechange"),or(u)==4){u.h=!1;try{const K=u.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var w;if(w=K===0){let ce=String(u.D).match(gu)[1]||null;!ce&&h.self&&h.self.location&&(ce=h.self.location.protocol.slice(0,-1)),w=!jr.test(ce?ce.toLowerCase():"")}b=w}if(b)Ut(u,"complete"),Ut(u,"success");else{u.o=6;try{var H=or(u)>2?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.ca()+"]",Nl(u)}}finally{ti(u)}}}}function ti(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,v||Ut(u,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function or(u){return u.g?u.g.readyState:0}r.ca=function(){try{return or(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),of(v)}};function Yt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ni(u){const v={};u=(u.g&&or(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(N(u[w]))continue;var b=fu(u[w]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const K=v[H]||[];v[H]=K,K.push(b)}He(v,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mr(u,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||v}function Pi(u){this.za=0,this.i=[],this.j=new nr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mr("baseRetryDelayMs",5e3,u),this.Za=Mr("retryDelaySeedMs",1e4,u),this.Ta=Mr("forwardChannelMaxRetries",2,u),this.va=Mr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new El(u&&u.concurrentRequestLimit),this.Ba=new Oi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Pi.prototype,r.ka=8,r.I=1,r.connect=function(u,v,b,w){At(0),this.W=u,this.H=v||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=ku(this,null,this.W),Or(this)};function Ll(u){if(no(u),u.I==3){var v=u.V++,b=Rt(u.J);if(Ke(b,"SID",u.M),Ke(b,"RID",v),Ke(b,"TYPE","terminate"),Gs(u,b),v=new rr(u,u.j,v),v.M=2,v.A=Us(Rt(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=v.A,b=!0),b||(v.g=Ru(v.j,null),v.g.ea(v.A)),v.F=Date.now(),kr(v)}wu(u)}function Ui(u){u.g&&(jl(u),u.g.cancel(),u.g=null)}function no(u){Ui(u),u.v&&(h.clearTimeout(u.v),u.v=null),io(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function Or(u){if(!xl(u.h)&&!u.m){u.m=!0;var v=u.Ea;le||C(),ae||(le(),ae=!0),R.add(v,u),u.D=0}}function ro(u,v){return Ir(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Sr(p(u.Ea,u,v),Au(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const H=new rr(this,this.j,u);let K=this.o;if(this.U&&(K?(K=P(K),he(K,this.U)):K=this.U),this.u!==null||this.R||(H.J=K,K=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=xu(this,H,v),b=Rt(this.J),Ke(b,"RID",u),Ke(b,"CVER",22),this.G&&Ke(b,"X-HTTP-Session-Id",this.G),Gs(this,b),K&&(this.R?v="headers="+ei(Bn(K))+"&"+v:this.u&&Hs(b,this.u,K)),bl(this.h,H),this.Ra&&Ke(b,"TYPE","init"),this.S?(Ke(b,"$req",v),Ke(b,"SID","null"),H.U=!0,wr(H,b,null)):wr(H,b,v),this.I=2}}else this.I==3&&(u?Dl(this,u):this.i.length==0||xl(this.h)||Dl(this))};function Dl(u,v){var b;v?b=v.l:b=u.V++;const w=Rt(u.J);Ke(w,"SID",u.M),Ke(w,"RID",b),Ke(w,"AID",u.K),Gs(u,w),u.u&&u.o&&Hs(w,u.u,u.o),b=new rr(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),v&&(u.i=v.G.concat(u.i)),v=xu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),bl(u.h,b),wr(b,w,v)}function Gs(u,v){u.H&&Ie(u.H,function(b,w){Ke(v,w,b)}),u.l&&Ie({},function(b,w){Ke(v,w,b)})}function xu(u,v,b){b=Math.min(u.i.length,b);const w=u.l?p(u.l.Ka,u.l,u):null;e:{var H=u.i;let we=-1;for(;;){const Et=["count="+b];we==-1?b>0?(we=H[0].g,Et.push("ofs="+we)):we=0:Et.push("ofs="+we);let We=!0;for(let ht=0;ht<b;ht++){var K=H[ht].g;const Hn=H[ht].map;if(K-=we,K<0)we=Math.max(0,H[ht].g-100),We=!1;else try{K="req"+K+"_"||"";try{var ce=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Pr,lr]of ce){let cr=lr;m(lr)&&(cr=Ni(lr)),Et.push(K+Pr+"="+encodeURIComponent(cr))}}catch(Pr){throw Et.push(K+"type="+encodeURIComponent("_badmap")),Pr}}catch{w&&w(Hn)}}if(We){ce=Et.join("&");break e}}ce=void 0}return u=u.i.splice(0,b),v.G=u,ce}function bu(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;le||C(),ae||(le(),ae=!0),R.add(v,u),u.A=0}}function Ws(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Sr(p(u.Da,u),Au(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Sr(p(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Ui(this),Tu(this))};function jl(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function Tu(u){u.g=new rr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=Rt(u.na);Ke(v,"RID","rpc"),Ke(v,"SID",u.M),Ke(v,"AID",u.K),Ke(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ke(v,"TO",u.ia),Ke(v,"TYPE","xmlhttp"),Gs(u,v),u.u&&u.o&&Hs(v,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Us(Rt(v)),b.u=null,b.R=!0,Ka(b,u)}r.Va=function(){this.C!=null&&(this.C=null,Ui(this),Ws(this),At(19))};function io(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Su(u,v){var b=null;if(u.g==v){io(u),jl(u),u.g=null;var w=2}else if(Nr(u.h,v))b=v.G,Tl(u.h,v),w=1;else return;if(u.I!=0){if(v.o)if(w==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var H=u.D;w=Qa(),Ut(w,new Tr(w,b)),Or(u)}else bu(u);else if(H=v.m,H==3||H==0&&v.X>0||!(w==1&&ro(u,v)||w==2&&Ws(u)))switch(b&&b.length>0&&(v=u.h,v.i=v.i.concat(b)),H){case 1:Vr(u,5);break;case 4:Vr(u,10);break;case 3:Vr(u,6);break;default:Vr(u,2)}}}function Au(u,v){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*v}function Vr(u,v){if(u.j.info("Error code "+v),v==2){var b=p(u.bb,u),w=u.Ua;const H=!w;w=new kn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Gt(w,"https"),Us(w),H?sr(w.toString(),b):Cl(w.toString(),b)}else At(2);u.I=0,u.l&&u.l.pa(v),wu(u),no(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function wu(u){if(u.I=0,u.ja=[],u.l){const v=Sl(u.h);(v.length!=0||u.i.length!=0)&&(B(u.ja,v),B(u.ja,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.oa()}}function ku(u,v,b){var w=b instanceof kn?Rt(b):new kn(b);if(w.g!="")v&&(w.g=v+"."+w.g),Li(w,w.u);else{var H=h.location;w=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const K=new kn(null);w&&Gt(K,w),v&&(K.g=v),H&&Li(K,H),b&&(K.h=b),w=K}return b=u.G,v=u.wa,b&&v&&Ke(w,b,v),Ke(w,"VER",u.ka),Gs(u,w),w}function Ru(u,v,b){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new Je(new Dr({ab:b})):new Je(u.ma),v.Fa(u.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}r=Cu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function zi(){}zi.prototype.g=function(u,v){return new dn(u,v)};function dn(u,v){St.call(this),this.g=new Pi(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!N(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new ri(this)}T(dn,St),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Ll(this.g)},dn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=Ni(u),u=b);v.i.push(new kt(v.Ya++,u)),v.I==3&&Or(v)},dn.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,dn.Z.N.call(this)};function Iu(u){Kt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const b in v){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}T(Iu,Kt);function Nu(){Pn.call(this),this.status=1}T(Nu,Pn);function ri(u){this.g=u}T(ri,Cu),ri.prototype.ra=function(){Ut(this.g,"a")},ri.prototype.qa=function(u){Ut(this.g,new Iu(u))},ri.prototype.pa=function(u){Ut(this.g,new Nu)},ri.prototype.oa=function(){Ut(this.g,"b")},zi.prototype.createWebChannel=zi.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,hx=function(){return new zi},ux=function(){return Qa()},cx=_t,Bp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vs.NO_ERROR=0,Vs.TIMEOUT=8,Vs.HTTP_ERROR=6,Qh=Vs,vl.COMPLETE="complete",lx=vl,cu.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",St.prototype.listen=St.prototype.J,Tc=cu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,ox=Je}).apply(typeof Vh<"u"?Vh:typeof self<"u"?self:typeof window<"u"?window:{});class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let ll="12.8.0";function Q6(r){ll=r}const ga=new Cd("@firebase/firestore");function Oo(){return ga.logLevel}function fe(r,...e){if(ga.logLevel<=Oe.DEBUG){const n=e.map(wg);ga.debug(`Firestore (${ll}): ${r}`,...n)}}function wi(r,...e){if(ga.logLevel<=Oe.ERROR){const n=e.map(wg);ga.error(`Firestore (${ll}): ${r}`,...n)}}function Qo(r,...e){if(ga.logLevel<=Oe.WARN){const n=e.map(wg);ga.warn(`Firestore (${ll}): ${r}`,...n)}}function wg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function xe(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,dx(r,s,n)}function dx(r,e,n){let s=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw wi(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||dx(e,o,s)}function Ae(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class fx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class Y6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class X6{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new bi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new bi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new fx(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class Z6{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class J6{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Z6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new O_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class kg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=tC(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Hp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return Ep(o)===Ep(c)?Ve(o,c):Ep(o)?1:-1}return Ve(r.length,e.length)}const nC=55296,rC=57343;function Ep(r){const e=r.charCodeAt(0);return e>=nC&&e<=rC}function Ko(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const V_="__name__";class qr{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=qr.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Ve(e.length,n.length)}static compareSegments(e,n){const s=qr.isNumericId(e),o=qr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?qr.extractNumericId(e).compare(qr.extractNumericId(n)):Hp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vs.fromString(e.substring(4,e.length-2))}}class ot extends qr{construct(e,n,s){return new ot(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const iC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends qr{construct(e,n,s){return new nn(e,n,s)}static isValidIdentifier(e){return iC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new nn([V_])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(c(),o++)}if(c(),h)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ot.fromString(e))}static fromName(e){return new ve(ot.fromString(e).popFirst(5))}static empty(){return new ve(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ot(e.slice()))}}function mx(r,e,n){if(!n)throw new de(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function sC(r,e,n,s){if(e===!0&&s===!0)throw new de(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function P_(r){if(!ve.isDocumentKey(r))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function U_(r){if(ve.isDocumentKey(r))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function px(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function jd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function mn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jd(r);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Mt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Xc(r,e){if(!px(r))throw new de(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new de(ee.INVALID_ARGUMENT,n);return!0}const z_=-62135596800,B_=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*B_);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<z_)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B_}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xc(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-z_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Mt("string",rt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new rt(0,0))}static max(){return new Te(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vc=-1;function aC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new bs(o,ve.empty(),e)}function oC(r){return new bs(r.readTime,r.key,Vc)}class bs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new bs(Te.min(),ve.empty(),Vc)}static max(){return new bs(Te.max(),ve.empty(),Vc)}}function lC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const cC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function cl(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==cC)throw r;fe("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,c=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++c,h&&c===o&&n()}),(g=>s(g)))})),h=!0,c===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const c=e.length,h=new Array(c);let m=0;for(let g=0;g<c;g++){const p=g;n(e[p]).next((x=>{h[p]=x,++m,m===c&&s(h)}),(x=>o(x)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function hC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ul(r){return r.name==="IndexedDbTransactionError"}class Md{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Md.ce=-1;const Rg=-1;function Od(r){return r==null}function ud(r){return r===0&&1/r==-1/0}function dC(r){return typeof r=="number"&&Number.isInteger(r)&&!ud(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const gx="";function fC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=H_(e)),e=mC(r.get(n),e);return H_(e)}function mC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case gx:n+="";break;default:n+=c}}return n}function H_(r){return r+gx+""}function F_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Cs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function yx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class pt{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ph(this.root,e,this.comparator,!0)}}class Ph{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??tn.RED,this.left=o??tn.EMPTY,this.right=c??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new tn(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(e){return new q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new Ht(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class vx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new vx("Invalid base64 string: "+c):c}})(e);return new rn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const pC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=pC.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(r.seconds),nanos:Tt(r.nanos)}}function Tt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ss(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}const _x="server_timestamp",Ex="__type__",xx="__previous_value__",bx="__local_write_time__";function Cg(r){return(r?.mapValue?.fields||{})[Ex]?.stringValue===_x}function Vd(r){const e=r.mapValue.fields[xx];return Cg(e)?Vd(e):e}function Pc(r){const e=Ts(r.mapValue.fields[bx].timestampValue);return new rt(e.seconds,e.nanos)}class gC{constructor(e,n,s,o,c,h,m,g,p,x,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=x,this.apiKey=T}}const hd="(default)";class Uc{constructor(e,n){this.projectId=e,this.database=n||hd}static empty(){return new Uc("","")}get isDefaultDatabase(){return this.database===hd}isEqual(e){return e instanceof Uc&&e.projectId===this.projectId&&e.database===this.database}}function yC(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uc(r.options.projectId,e)}const Tx="__type__",vC="__max__",Uh={mapValue:{}},Sx="__vector__",dd="value";function As(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cg(r)?4:EC(r)?9007199254740991:_C(r)?10:11:xe(28295,{value:r})}function Xr(r,e){if(r===e)return!0;const n=As(r);if(n!==As(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Pc(r).isEqual(Pc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=Ts(o.timestampValue),m=Ts(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return Ss(o.bytesValue).isEqual(Ss(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return Tt(o.geoPointValue.latitude)===Tt(c.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Tt(o.integerValue)===Tt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=Tt(o.doubleValue),m=Tt(c.doubleValue);return h===m?ud(h)===ud(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return Ko(r.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},m=c.mapValue.fields||{};if(F_(h)!==F_(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Xr(h[g],m[g])))return!1;return!0})(r,e);default:return xe(52216,{left:r})}}function zc(r,e){return(r.values||[]).find((n=>Xr(n,e)))!==void 0}function Yo(r,e){if(r===e)return 0;const n=As(r),s=As(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(c,h){const m=Tt(c.integerValue||c.doubleValue),g=Tt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return G_(r.timestampValue,e.timestampValue);case 4:return G_(Pc(r),Pc(e));case 5:return Hp(r.stringValue,e.stringValue);case 6:return(function(c,h){const m=Ss(c),g=Ss(h);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,h){const m=c.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const x=Ve(m[p],g[p]);if(x!==0)return x}return Ve(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,h){const m=Ve(Tt(c.latitude),Tt(h.latitude));return m!==0?m:Ve(Tt(c.longitude),Tt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return W_(r.arrayValue,e.arrayValue);case 10:return(function(c,h){const m=c.fields||{},g=h.fields||{},p=m[dd]?.arrayValue,x=g[dd]?.arrayValue,T=Ve(p?.values?.length||0,x?.values?.length||0);return T!==0?T:W_(p,x)})(r.mapValue,e.mapValue);case 11:return(function(c,h){if(c===Uh.mapValue&&h===Uh.mapValue)return 0;if(c===Uh.mapValue)return 1;if(h===Uh.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),p=h.fields||{},x=Object.keys(p);g.sort(),x.sort();for(let T=0;T<g.length&&T<x.length;++T){const A=Hp(g[T],x[T]);if(A!==0)return A;const M=Yo(m[g[T]],p[x[T]]);if(M!==0)return M}return Ve(g.length,x.length)})(r.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function G_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=Ts(r),s=Ts(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function W_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=Yo(n[o],s[o]);if(c)return c}return Ve(n.length,s.length)}function Xo(r){return Fp(r)}function Fp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Ts(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ss(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ve.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Fp(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of s)c?c=!1:o+=",",o+=`${h}:${Fp(n.fields[h])}`;return o+"}"})(r.mapValue):xe(61005,{value:r})}function Kh(r){switch(As(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vd(r);return e?16+Kh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Kh(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Cs(s.fields,((c,h)=>{o+=c.length+Kh(h)})),o})(r.mapValue);default:throw xe(13486,{value:r})}}function $_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function qp(r){return!!r&&"integerValue"in r}function Ig(r){return!!r&&"arrayValue"in r}function Q_(r){return!!r&&"nullValue"in r}function K_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yh(r){return!!r&&"mapValue"in r}function _C(r){return(r?.mapValue?.fields||{})[Tx]?.stringValue===Sx}function Cc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Cs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Cc(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cc(r.arrayValue.values[n]);return e}return{...r}}function EC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===vC}class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Yh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cc(n)}setAll(e){let n=nn.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Cc(h):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());Yh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Yh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Cs(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new An(Cc(this.value))}}function Ax(r){const e=[];return Cs(r.fields,((n,s)=>{const o=new nn([n]);if(Yh(s)){const c=Ax(s.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new Mn(e)}class ln{constructor(e,n,s,o,c,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new ln(e,0,Te.min(),Te.min(),Te.min(),An.empty(),0)}static newFoundDocument(e,n,s,o){return new ln(e,1,n,Te.min(),s,o,0)}static newNoDocument(e,n){return new ln(e,2,n,Te.min(),Te.min(),An.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Te.min(),Te.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fd{constructor(e,n){this.position=e,this.inclusive=n}}function Y_(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],h=r.position[o];if(c.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),n.key):s=Yo(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function X_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Xr(r.position[n],e.position[n]))return!1;return!0}class Bc{constructor(e,n="asc"){this.field=e,this.dir=n}}function xC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class wx{}class jt extends wx{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new TC(e,n,s):n==="array-contains"?new wC(e,s):n==="in"?new kC(e,s):n==="not-in"?new RC(e,s):n==="array-contains-any"?new CC(e,s):new jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new SC(e,s):new AC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yo(n,this.value)):n!==null&&As(this.value)===As(n)&&this.matchesComparison(Yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends wx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _r(e,n)}matches(e){return kx(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kx(r){return r.op==="and"}function Rx(r){return bC(r)&&kx(r)}function bC(r){for(const e of r.filters)if(e instanceof _r)return!1;return!0}function Gp(r){if(r instanceof jt)return r.field.canonicalString()+r.op.toString()+Xo(r.value);if(Rx(r))return r.filters.map((e=>Gp(e))).join(",");{const e=r.filters.map((n=>Gp(n))).join(",");return`${r.op}(${e})`}}function Cx(r,e){return r instanceof jt?(function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&Xr(s.value,o.value)})(r,e):r instanceof _r?(function(s,o){return o instanceof _r&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,h,m)=>c&&Cx(h,o.filters[m])),!0):!1})(r,e):void xe(19439)}function Ix(r){return r instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Xo(n.value)}`})(r):r instanceof _r?(function(n){return n.op.toString()+" {"+n.getFilters().map(Ix).join(" ,")+"}"})(r):"Filter"}class TC extends jt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class SC extends jt{constructor(e,n){super(e,"in",n),this.keys=Nx("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class AC extends jt{constructor(e,n){super(e,"not-in",n),this.keys=Nx("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Nx(r,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class wC extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ig(n)&&zc(n.arrayValue,this.value)}}class kC extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zc(this.value.arrayValue,n)}}class RC extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zc(this.value.arrayValue,n)}}class CC extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ig(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>zc(this.value.arrayValue,s)))}}class IC{constructor(e,n=null,s=[],o=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=h,this.endAt=m,this.Te=null}}function Z_(r,e=null,n=[],s=[],o=null,c=null,h=null){return new IC(r,e,n,s,o,c,h)}function Ng(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Gp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Xo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Xo(s))).join(",")),e.Te=n}return e.Te}function Lg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!xC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Cx(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!X_(r.startAt,e.startAt)&&X_(r.endAt,e.endAt)}function Wp(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class hl{constructor(e,n=null,s=[],o=[],c=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function NC(r,e,n,s,o,c,h,m){return new hl(r,e,n,s,o,c,h,m)}function Pd(r){return new hl(r)}function J_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function LC(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Lx(r){return r.collectionGroup!==null}function Ic(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ht(nn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Bc(c,s))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new Bc(nn.keyField(),s))}return e.Ie}function $r(r){const e=Ae(r);return e.Ee||(e.Ee=DC(e,Ic(r))),e.Ee}function DC(r,e){if(r.limitType==="F")return Z_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Bc(o.field,c)}));const n=r.endAt?new fd(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new fd(r.startAt.position,r.startAt.inclusive):null;return Z_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function $p(r,e){const n=r.filters.concat([e]);return new hl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function jC(r,e){const n=r.explicitOrderBy.concat([e]);return new hl(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Qp(r,e,n){return new hl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ud(r,e){return Lg($r(r),$r(e))&&r.limitType===e.limitType}function Dx(r){return`${Ng($r(r))}|lt:${r.limitType}`}function Vo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Ix(o))).join(", ")}]`),Od(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Xo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Xo(o))).join(",")),`Target(${s})`})($r(r))}; limitType=${r.limitType})`}function zd(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ve.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of Ic(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const p=Y_(h,m,g);return h.inclusive?p<=0:p<0})(s.startAt,Ic(s),o)||s.endAt&&!(function(h,m,g){const p=Y_(h,m,g);return h.inclusive?p>=0:p>0})(s.endAt,Ic(s),o))})(r,e)}function MC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function jx(r){return(e,n)=>{let s=!1;for(const o of Ic(r)){const c=OC(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function OC(r,e,n){const s=r.field.isKeyField()?ve.comparator(e.key,n.key):(function(c,h,m){const g=h.data.field(c),p=m.data.field(c);return g!==null&&p!==null?Yo(g,p):xe(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:r.dir})}}class Ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return yx(this.inner)}size(){return this.innerSize}}const VC=new pt(ve.comparator);function ki(){return VC}const Mx=new pt(ve.comparator);function Sc(...r){let e=Mx;for(const n of r)e=e.insert(n.key,n);return e}function Ox(r){let e=Mx;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ua(){return Nc()}function Vx(){return Nc()}function Nc(){return new Ta((r=>r.toString()),((r,e)=>r.isEqual(e)))}const PC=new pt(ve.comparator),UC=new Ht(ve.comparator);function Pe(...r){let e=UC;for(const n of r)e=e.add(n);return e}const zC=new Ht(Ve);function BC(){return zC}function Dg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ud(e)?"-0":e}}function Px(r){return{integerValue:""+r}}function HC(r,e){return dC(e)?Px(e):Dg(r,e)}class Bd{constructor(){this._=void 0}}function FC(r,e,n){return r instanceof Hc?(function(o,c){const h={fields:{[Ex]:{stringValue:_x},[bx]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Cg(c)&&(c=Vd(c)),c&&(h.fields[xx]=c),{mapValue:h}})(n,e):r instanceof Fc?zx(r,e):r instanceof qc?Bx(r,e):(function(o,c){const h=Ux(o,c),m=eE(h)+eE(o.Ae);return qp(h)&&qp(o.Ae)?Px(m):Dg(o.serializer,m)})(r,e)}function qC(r,e,n){return r instanceof Fc?zx(r,e):r instanceof qc?Bx(r,e):n}function Ux(r,e){return r instanceof md?(function(s){return qp(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Hc extends Bd{}class Fc extends Bd{constructor(e){super(),this.elements=e}}function zx(r,e){const n=Hx(e);for(const s of r.elements)n.some((o=>Xr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class qc extends Bd{constructor(e){super(),this.elements=e}}function Bx(r,e){let n=Hx(e);for(const s of r.elements)n=n.filter((o=>!Xr(o,s)));return{arrayValue:{values:n}}}class md extends Bd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function eE(r){return Tt(r.integerValue||r.doubleValue)}function Hx(r){return Ig(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class GC{constructor(e,n){this.field=e,this.transform=n}}function WC(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Fc&&o instanceof Fc||s instanceof qc&&o instanceof qc?Ko(s.elements,o.elements,Xr):s instanceof md&&o instanceof md?Xr(s.Ae,o.Ae):s instanceof Hc&&o instanceof Hc})(r.transform,e.transform)}class $C{constructor(e,n){this.version=e,this.transformResults=n}}class pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pn}static exists(e){return new pn(void 0,e)}static updateTime(e){return new pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Hd{}function Fx(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Fd(r.key,pn.none()):new Zc(r.key,r.data,pn.none());{const n=r.data,s=An.empty();let o=new Ht(nn.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),o=o.add(c)}return new Is(r.key,s,new Mn(o.toArray()),pn.none())}}function QC(r,e,n){r instanceof Zc?(function(o,c,h){const m=o.value.clone(),g=nE(o.fieldTransforms,c,h.transformResults);m.setAll(g),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Is?(function(o,c,h){if(!Xh(o.precondition,c))return void c.convertToUnknownDocument(h.version);const m=nE(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(qx(o)),g.setAll(m),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Lc(r,e,n,s){return r instanceof Zc?(function(c,h,m,g){if(!Xh(c.precondition,h))return m;const p=c.value.clone(),x=rE(c.fieldTransforms,g,h);return p.setAll(x),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof Is?(function(c,h,m,g){if(!Xh(c.precondition,h))return m;const p=rE(c.fieldTransforms,g,h),x=h.data;return x.setAll(qx(c)),x.setAll(p),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(c,h,m){return Xh(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function KC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=Ux(s.transform,o||null);c!=null&&(n===null&&(n=An.empty()),n.set(s.field,c))}return n||null}function tE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ko(s,o,((c,h)=>WC(c,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Zc extends Hd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Is extends Hd{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function qx(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function nE(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const c=r[o],h=c.transform,m=e.data.field(c.field);s.set(c.field,qC(h,m,n[o]))}return s}function rE(r,e,n){const s=new Map;for(const o of r){const c=o.transform,h=n.data.field(o.field);s.set(o.field,FC(c,h,e))}return s}class Fd extends Hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YC extends Hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class XC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&QC(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Lc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Lc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Vx();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(o.key)?null:m;const g=Fx(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,((n,s)=>tE(n,s)))&&Ko(this.baseMutations,e.baseMutations,((n,s)=>tE(n,s)))}}class jg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return PC})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,s[h].version);return new jg(e,n,s,o)}}class ZC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class JC{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,Be;function e8(r){switch(r){case ee.OK:return xe(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function Gx(r){if(r===void 0)return wi("GRPC error has no .code"),ee.UNKNOWN;switch(r){case Dt.OK:return ee.OK;case Dt.CANCELLED:return ee.CANCELLED;case Dt.UNKNOWN:return ee.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ee.INTERNAL;case Dt.UNAVAILABLE:return ee.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ee.NOT_FOUND;case Dt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Dt.ABORTED:return ee.ABORTED;case Dt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Dt.DATA_LOSS:return ee.DATA_LOSS;default:return xe(39323,{code:r})}}(Be=Dt||(Dt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function t8(){return new TextEncoder}const n8=new vs([4294967295,4294967295],0);function iE(r){const e=t8().encode(r),n=new ax;return n.update(e),new Uint8Array(n.digest())}function sE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new vs([n,s],0),new vs([o,c],0)]}class Mg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ac(`Invalid padding: ${n}`);if(s<0)throw new Ac(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ac(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ac(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=vs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(vs.fromNumber(s)));return o.compare(n8)===1&&(o=new vs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=iE(e),[s,o]=sE(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Mg(c,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=iE(e),[s,o]=sE(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qd{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Jc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new qd(Te.min(),o,new pt(Ve),ki(),Pe())}}class Jc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Jc(s,n,Pe(),Pe(),Pe())}}class Zh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Wx{constructor(e,n){this.targetId=e,this.Ce=n}}class $x{constructor(e,n,s=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class aE{constructor(){this.ve=0,this.Fe=oE(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:xe(38017,{changeType:c})}})),new Jc(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=oE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class r8{constructor(e){this.Ge=e,this.ze=new Map,this.je=ki(),this.He=zh(),this.Je=zh(),this.Ze=new pt(Ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Wp(c))if(s===0){const h=new ve(c.path);this.et(n,h,ln.newNoDocument(h,Te.min()))}else Qe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let h,m;try{h=Ss(s).toUint8Array()}catch(g){if(g instanceof vx)return Qo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Mg(h,o,c)}catch(g){return Qo(g instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const m=this.ot(h);if(m){if(c.current&&Wp(m.target)){const g=new ve(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,ln.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.Ke())}}));let s=Pe();this.Je.forEach(((c,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new qd(e,n,this.Ze,this.je,s);return this.je=ki(),this.He=zh(),this.Je=zh(),this.Ze=new pt(Ve),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new aE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ht(Ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ht(Ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new aE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zh(){return new pt(ve.comparator)}function oE(){return new pt(ve.comparator)}const i8={asc:"ASCENDING",desc:"DESCENDING"},s8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},a8={and:"AND",or:"OR"};class o8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kp(r,e){return r.useProto3Json||Od(e)?e:{value:e}}function pd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qx(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function l8(r,e){return pd(r,e.toTimestamp())}function Qr(r){return Qe(!!r,49232),Te.fromTimestamp((function(n){const s=Ts(n);return new rt(s.seconds,s.nanos)})(r))}function Og(r,e){return Yp(r,e).canonicalString()}function Yp(r,e){const n=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Kx(r){const e=ot.fromString(r);return Qe(eb(e),10190,{key:e.toString()}),e}function Xp(r,e){return Og(r.databaseId,e.path)}function xp(r,e){const n=Kx(e);if(n.get(1)!==r.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(Xx(n))}function Yx(r,e){return Og(r.databaseId,e)}function c8(r){const e=Kx(r);return e.length===4?ot.emptyPath():Xx(e)}function Zp(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Xx(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function lE(r,e,n){return{name:Xp(r,e),fields:n.value.mapValue.fields}}function u8(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(p,x){return p.useProto3Json?(Qe(x===void 0||typeof x=="string",58123),rn.fromBase64String(x||"")):(Qe(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),rn.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const x=p.code===void 0?ee.UNKNOWN:Gx(p.code);return new de(x,p.message||"")})(h);n=new $x(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=xp(r,s.document.name),c=Qr(s.document.updateTime),h=s.document.createTime?Qr(s.document.createTime):Te.min(),m=new An({mapValue:{fields:s.document.fields}}),g=ln.newFoundDocument(o,c,h,m),p=s.targetIds||[],x=s.removedTargetIds||[];n=new Zh(p,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=xp(r,s.document),c=s.readTime?Qr(s.readTime):Te.min(),h=ln.newNoDocument(o,c),m=s.removedTargetIds||[];n=new Zh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=xp(r,s.document),c=s.removedTargetIds||[];n=new Zh([],c,o,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,h=new JC(o,c),m=s.targetId;n=new Wx(m,h)}}return n}function h8(r,e){let n;if(e instanceof Zc)n={update:lE(r,e.key,e.value)};else if(e instanceof Fd)n={delete:Xp(r,e.key)};else if(e instanceof Is)n={update:lE(r,e.key,e.data),updateMask:E8(e.fieldMask)};else{if(!(e instanceof YC))return xe(16599,{dt:e.type});n={verify:Xp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const m=h.transform;if(m instanceof Hc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Fc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof qc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof md)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw xe(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:l8(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:xe(27497)})(r,e.precondition)),n}function d8(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,c){let h=o.updateTime?Qr(o.updateTime):Qr(c);return h.isEqual(Te.min())&&(h=Qr(c)),new $C(h,o.transformResults||[])})(n,e)))):[]}function f8(r,e){return{documents:[Yx(r,e.path)]}}function m8(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Yx(r,o);const c=(function(p){if(p.length!==0)return Jx(_r.create(p,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(p){if(p.length!==0)return p.map((x=>(function(A){return{field:Po(A.field),direction:y8(A.dir)}})(x)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Kp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function p8(r){let e=c8(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(T){const A=Zx(T);return A instanceof _r&&Rx(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(B){return new Bc(Uo(B.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,Od(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(T){const A=!!T.before,M=T.values||[];return new fd(M,A)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const A=!T.before,M=T.values||[];return new fd(M,A)})(n.endAt)),NC(e,o,h,c,m,"F",g,p)}function g8(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Zx(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Uo(n.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Uo(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Uo(n.unaryFilter.field);return jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Uo(n.unaryFilter.field);return jt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(r):r.fieldFilter!==void 0?(function(n){return jt.create(Uo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return _r.create(n.compositeFilter.filters.map((s=>Zx(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(r):xe(30097,{filter:r})}function y8(r){return i8[r]}function v8(r){return s8[r]}function _8(r){return a8[r]}function Po(r){return{fieldPath:r.canonicalString()}}function Uo(r){return nn.fromServerFormat(r.fieldPath)}function Jx(r){return r instanceof jt?(function(n){if(n.op==="=="){if(K_(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NAN"}};if(Q_(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(K_(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NAN"}};if(Q_(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(n.field),op:v8(n.op),value:n.value}}})(r):r instanceof _r?(function(n){const s=n.getFilters().map((o=>Jx(o)));return s.length===1?s[0]:{compositeFilter:{op:_8(n.op),filters:s}}})(r):xe(54877,{filter:r})}function E8(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function eb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function tb(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ms{constructor(e,n,s,o,c=Te.min(),h=Te.min(),m=rn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class x8{constructor(e){this.yt=e}}function b8(r){const e=p8({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qp(e,e.limit,"L"):e}class T8{constructor(){this.Sn=new S8}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(bs.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class S8{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ht(ot.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ht(ot.comparator)).toArray()}}const cE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nb=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(nb,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class Zo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Zo(0)}static ar(){return new Zo(-1)}}const uE="LruGarbageCollector",A8=1048576;function hE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class w8{constructor(e){this.Pr=e,this.buffer=new Ht(hE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();hE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class k8{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){fe(uE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ul(n)?fe(uE,"Ignoring IndexedDB error during garbage collection: ",n):await cl(n)}await this.Ar(3e5)}))}}class R8{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Md.ce);const s=new w8(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(cE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,c,h,m,g,p;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(c=T,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(p=Date.now(),Oo()<=Oe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-x}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function C8(r,e){return new R8(r,e)}class I8{constructor(){this.changes=new Ta((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class N8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class L8{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Lc(s.mutation,o,Mn.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=ua();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let h=Sc();return c.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ua();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let c=ki();const h=Nc(),m=(function(){return Nc()})();return n.forEach(((g,p)=>{const x=s.get(p.key);o.has(p.key)&&(x===void 0||x.mutation instanceof Is)?c=c.insert(p.key,p):x!==void 0?(h.set(p.key,x.mutation.getFieldMask()),Lc(x.mutation,p,x.mutation.getFieldMask(),rt.now())):h.set(p.key,Mn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((p,x)=>h.set(p,x))),n.forEach(((p,x)=>m.set(p,new N8(x,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Nc();let o=new pt(((h,m)=>h-m)),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let x=s.get(g)||Mn.empty();x=m.applyToLocalView(p,x),s.set(g,x);const T=(o.get(m.batchId)||Pe()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,x=g.value,T=Vx();x.forEach((A=>{if(!c.has(A)){const M=Fx(n.get(A),s.get(A));M!==null&&T.set(A,M),c=c.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,T))}return ie.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return LC(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Lx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):ie.resolve(ua());let m=Vc,g=c;return h.next((p=>ie.forEach(p,((x,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(x)?ie.resolve():this.remoteDocumentCache.getEntry(e,x).next((A=>{g=g.insert(x,A)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,g,p,Pe()))).next((x=>({batchId:m,changes:Ox(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let o=Sc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let h=Sc();return this.indexManager.getCollectionParents(e,c).next((m=>ie.forEach(m,(g=>{const p=(function(T,A){return new hl(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((x=>{x.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((h=>{c.forEach(((g,p)=>{const x=p.getKey();h.get(x)===null&&(h=h.insert(x,ln.newInvalidDocument(x)))}));let m=Sc();return h.forEach(((g,p)=>{const x=c.get(g);x!==void 0&&Lc(x.mutation,p,Mn.empty(),rt.now()),zd(n,p)&&(m=m.insert(g,p))})),m}))}}class D8{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Qr(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:b8(o.bundledQuery),readTime:Qr(o.readTime)}})(n)),ie.resolve()}}class j8{constructor(){this.overlays=new pt(ve.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ua();return ie.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.bt(e,n,c)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=ua(),c=n.length+1,h=new ve(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new pt(((p,x)=>p-x));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let x=c.get(p.largestBatchId);x===null&&(x=ua(),c=c.insert(p.largestBatchId,x)),x.set(p.getKey(),p)}}const m=ua(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,x)=>m.set(p,x))),!(m.size()>=o)););return ie.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new ZC(n,s));let c=this.Lr.get(n);c===void 0&&(c=Pe(),this.Lr.set(n,c)),this.Lr.set(n,c.add(s.key))}}class M8{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class Vg{constructor(){this.kr=new Ht(Qt.Kr),this.qr=new Ht(Qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Qt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Qt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ve(new ot([])),s=new Qt(n,e),o=new Qt(n,e+1),c=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ve(new ot([])),s=new Qt(n,e),o=new Qt(n,e+1);let c=Pe();return this.qr.forEachInRange([s,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new Qt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Qt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ve.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}class O8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ht(Qt.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new XC(c,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Qt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),c=o<0?0:o;return ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Rg:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Qt(n,0),o=new Qt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);c.push(m)})),ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ht(Ve);return n.forEach((o=>{const c=new Qt(o,0),h=new Qt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(m=>{s=s.add(m.Hr)}))})),ie.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;ve.isDocumentKey(c)||(c=c.child(""));const h=new Qt(new ve(c),0);let m=new Ht(Ve);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)}),h),ie.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ie.forEach(n.mutations,(o=>{const c=new Qt(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Qt(n,0),o=this.Jr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class V8{constructor(e){this.ti=e,this.docs=(function(){return new pt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let s=ki();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():ln.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=ki();const h=n.path,m=new ve(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:x}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||lC(oC(x),s)<=0||(o.has(x.key)||zd(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ie.resolve(c)}getAllFromCollectionGroup(e,n,s,o){xe(9500)}ni(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new P8(this)}getSize(e){return ie.resolve(this.size)}}class P8 extends I8{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class U8{constructor(e){this.persistence=e,this.ri=new Ta((n=>Ng(n)),Lg),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ii=0,this.si=new Vg,this.targetCount=0,this.oi=Zo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(c).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),ie.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}class rb{constructor(e,n){this._i={},this.overlays={},this.ai=new Md(0),this.ui=!1,this.ui=!0,this.ci=new M8,this.referenceDelegate=e(this),this.li=new U8(this),this.indexManager=new T8,this.remoteDocumentCache=(function(o){return new V8(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new x8(n),this.Pi=new D8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new j8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new O8(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new z8(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return ie.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class z8 extends uC{constructor(e){super(),this.currentSequenceNumber=e}}class Pg{constructor(e){this.persistence=e,this.Ri=new Vg,this.Ai=null}static Vi(e){return new Pg(e)}get di(){if(this.Ai)return this.Ai;throw xe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(s=>{const o=ve.fromPath(s);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Te.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class gd{constructor(e,n){this.persistence=e,this.fi=new Ta((s=>fC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=C8(this,n)}static Vi(e,n){return new gd(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,c.removeEntry(h,Te.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kh(e.data.value)),n}wr(e,n,s){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ug{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Pe(),o=Pe();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Ug(e,n.fromCache,s,o)}}class B8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class H8{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return dk()?8:hC(un())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.gs(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,n,o,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new B8;return this.ys(e,n,h).next((m=>{if(c.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>c.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(Oo()<=Oe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(Oo()<=Oe.DEBUG&&fe("QueryEngine","Query:",Vo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Oo()<=Oe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(n))):ie.resolve())}gs(e,n){if(J_(n))return ie.resolve(null);let s=$r(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Qp(n,null,"F"),s=$r(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=Pe(...c);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.bs(n,m);return this.Ss(n,p,h,g.readTime)?this.gs(e,Qp(n,null,"F")):this.Ds(e,p,n,g)}))))})))))}ps(e,n,s,o){return J_(n)||o.isEqual(Te.min())?ie.resolve(null):this.fs.getDocuments(e,s).next((c=>{const h=this.bs(n,c);return this.Ss(n,h,s,o)?ie.resolve(null):(Oo()<=Oe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vo(n)),this.Ds(e,h,n,aC(o,Vc)).next((m=>m)))}))}bs(e,n){let s=new Ht(jx(e));return n.forEach(((o,c)=>{zd(e,c)&&(s=s.add(c))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,s){return Oo()<=Oe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Vo(n)),this.fs.getDocumentsMatchingQuery(e,n,bs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const zg="LocalStore",F8=3e8;class q8{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new pt(Ve),this.Fs=new Ta((c=>Ng(c)),Lg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L8(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function G8(r,e,n,s){return new q8(r,e,n,s)}async function ib(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],m=[];let g=Pe();for(const p of o){h.push(p.batchId);for(const x of p.mutations)g=g.add(x.key)}for(const p of c){m.push(p.batchId);for(const x of p.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ns:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function W8(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,x){const T=p.batch,A=T.keys();let M=ie.resolve();return A.forEach((B=>{M=M.next((()=>x.getEntry(g,B))).next(($=>{const Q=p.docVersions.get(B);Qe(Q!==null,48541),$.version.compareTo(Q)<0&&(T.applyToRemoteDocument($,p),$.isValidDocument()&&($.setReadTime(p.commitVersion),x.addEntry($)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Pe();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function sb(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function $8(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((x,T)=>{const A=o.get(T);if(!A)return;m.push(n.li.removeMatchingKeys(c,x.removedDocuments,T).next((()=>n.li.addMatchingKeys(c,x.addedDocuments,T))));let M=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?M=M.withResumeToken(rn.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):x.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(x.resumeToken,s)),o=o.insert(T,M),(function($,Q,se){return $.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=F8?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(A,M,x)&&m.push(n.li.updateTargetData(c,M))}));let g=ki(),p=Pe();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),m.push(Q8(c,h,e.documentUpdates).next((x=>{g=x.Bs,p=x.Ls}))),!s.isEqual(Te.min())){const x=n.li.getLastRemoteSnapshotVersion(c).next((T=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(x)}return ie.waitFor(m).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,p))).next((()=>g))})).then((c=>(n.vs=o,c)))}function Q8(r,e,n){let s=Pe(),o=Pe();return n.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let h=ki();return n.forEach(((m,g)=>{const p=c.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):fe(zg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function K8(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Rg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Y8(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((c=>c?(o=c,ie.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new ms(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Jp(r,e,n){const s=Ae(r),o=s.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ul(h))throw h;fe(zg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function dE(r,e,n){const s=Ae(r);let o=Te.min(),c=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,x){const T=Ae(g),A=T.Fs.get(x);return A!==void 0?ie.resolve(T.vs.get(A)):T.li.getTargetData(p,x)})(s,h,$r(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((g=>{c=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Te.min(),n?c:Pe()))).next((m=>(X8(s,MC(e),m),{documents:m,ks:c})))))}function X8(r,e,n){let s=r.Ms.get(e)||Te.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(e,s)}class fE{constructor(){this.activeTargetIds=BC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z8{constructor(){this.vo=new fE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new fE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class J8{Mo(e){}shutdown(){}}const mE="ConnectivityMonitor";class pE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){fe(mE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){fe(mE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bh=null;function eg(){return Bh===null?Bh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bh++,"0x"+Bh.toString(16)}const bp="RestConnection",eI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class tI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===hd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,c){const h=eg(),m=this.Qo(e,n.toUriEncodedString());fe(bp,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:p}=new URL(m),x=il(p);return this.zo(e,m,g,s,x).then((T=>(fe(bp,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Qo(bp,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}jo(e,n,s,o,c,h){return this.Wo(e,n,s,o,c)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ll})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const s=eI[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class nI{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const an="WebChannelConnection",Ec=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class qo extends tI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!qo.c_){const e=ux();Ec(e,cx.STAT_EVENT,(n=>{n.stat===Bp.PROXY?fe(an,"STAT_EVENT: detected buffering proxy"):n.stat===Bp.NOPROXY&&fe(an,"STAT_EVENT: detected no buffering proxy")})),qo.c_=!0}}zo(e,n,s,o,c){const h=eg();return new Promise(((m,g)=>{const p=new ox;p.setWithCredentials(!0),p.listenOnce(lx.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Qh.NO_ERROR:const T=p.getResponseJson();fe(an,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Qh.TIMEOUT:fe(an,`RPC '${e}' ${h} timed out`),g(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Qh.HTTP_ERROR:const A=p.getStatus();if(fe(an,`RPC '${e}' ${h} failed with status:`,A,"response text:",p.getResponseText()),A>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const B=M?.error;if(B&&B.status&&B.message){const $=(function(se){const ne=se.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ne)>=0?ne:ee.UNKNOWN})(B.status);g(new de($,B.message))}else g(new de(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new de(ee.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(an,`RPC '${e}' ${h} completed.`)}}));const x=JSON.stringify(o);fe(an,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",x,s,15)}))}T_(e,n,s){const o=eg(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const p=c.join("");fe(an,`Creating RPC '${e}' stream ${o}: ${p}`,m);const x=h.createWebChannel(p,m);this.I_(x);let T=!1,A=!1;const M=new nI({Ho:B=>{A?fe(an,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(T||(fe(an,`Opening RPC '${e}' stream ${o} transport.`),x.open(),T=!0),fe(an,`RPC '${e}' stream ${o} sending:`,B),x.send(B))},Jo:()=>x.close()});return Ec(x,Tc.EventType.OPEN,(()=>{A||(fe(an,`RPC '${e}' stream ${o} transport opened.`),M.i_())})),Ec(x,Tc.EventType.CLOSE,(()=>{A||(A=!0,fe(an,`RPC '${e}' stream ${o} transport closed`),M.o_(),this.E_(x))})),Ec(x,Tc.EventType.ERROR,(B=>{A||(A=!0,Qo(an,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),M.o_(new de(ee.UNAVAILABLE,"The operation could not be completed")))})),Ec(x,Tc.EventType.MESSAGE,(B=>{if(!A){const $=B.data[0];Qe(!!$,16349);const Q=$,se=Q?.error||Q[0]?.error;if(se){fe(an,`RPC '${e}' stream ${o} received error:`,se);const ne=se.status;let oe=(function(ae){const R=Dt[ae];if(R!==void 0)return Gx(R)})(ne),G=se.message;oe===void 0&&(oe=ee.INTERNAL,G="Unknown error status: "+ne+" with message "+se.message),A=!0,M.o_(new de(oe,G)),x.close()}else fe(an,`RPC '${e}' stream ${o} received:`,$),M.__($)}})),qo.u_(),setTimeout((()=>{M.s_()}),0),M}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return hx()}}function rI(r){return new qo(r)}function Tp(){return typeof document<"u"?document:null}function Gd(r){return new o8(r,!0)}qo.c_=!1;class ab{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const gE="PersistentStream";class ob{constructor(e,n,s,o,c,h,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ab(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(wi(n.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new de(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(gE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(fe(gE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iI extends ob{constructor(e,n,s,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=u8(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Te.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?Qr(h.readTime):Te.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Zp(this.serializer),n.addTarget=(function(c,h){let m;const g=h.target;if(m=Wp(g)?{documents:f8(c,g)}:{query:m8(c,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Qx(c,h.resumeToken);const p=Kp(c,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Te.min())>0){m.readTime=pd(c,h.snapshotVersion.toTimestamp());const p=Kp(c,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=g8(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Zp(this.serializer),n.removeTarget=e,this.K_(n)}}class sI extends ob{constructor(e,n,s,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=d8(e.writeResults,e.commitTime),s=Qr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Zp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>h8(this.serializer,s)))};this.K_(n)}}class aI{}class oI extends aI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,Yp(n,s),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(ee.UNKNOWN,c.toString())}))}jo(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Yp(n,s),o,h,m,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(ee.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function lI(r,e,n,s){return new oI(r,e,n,s)}class cI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wi(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ya="RemoteStore";class uI{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{Sa(this)&&(fe(ya,"Restarting streams for network reachability change."),await(async function(g){const p=Ae(g);p.Ea.add(4),await eu(p),p.Va.set("Unknown"),p.Ea.delete(4),await Wd(p)})(this))}))})),this.Va=new cI(s,o)}}async function Wd(r){if(Sa(r))for(const e of r.Ra)await e(!0)}async function eu(r){for(const e of r.Ra)await e(!1)}function lb(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qg(n)?Fg(n):dl(n).O_()&&Hg(n,e))}function Bg(r,e){const n=Ae(r),s=dl(n);n.Ia.delete(e),s.O_()&&cb(n,e),n.Ia.size===0&&(s.O_()?s.L_():Sa(n)&&n.Va.set("Unknown"))}function Hg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dl(r).Z_(e)}function cb(r,e){r.da.$e(e),dl(r).X_(e)}function Fg(r){r.da=new r8({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),dl(r).start(),r.Va.ua()}function qg(r){return Sa(r)&&!dl(r).x_()&&r.Ia.size>0}function Sa(r){return Ae(r).Ea.size===0}function ub(r){r.da=void 0}async function hI(r){r.Va.set("Online")}async function dI(r){r.Ia.forEach(((e,n)=>{Hg(r,e)}))}async function fI(r,e){ub(r),qg(r)?(r.Va.ha(e),Fg(r)):r.Va.set("Unknown")}async function mI(r,e,n){if(r.Va.set("Online"),e instanceof $x&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){fe(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await yd(r,s)}else if(e instanceof Zh?r.da.Xe(e):e instanceof Wx?r.da.st(e):r.da.tt(e),!n.isEqual(Te.min()))try{const s=await sb(r.localStore);n.compareTo(s)>=0&&await(function(c,h){const m=c.da.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(p);x&&c.Ia.set(p,x.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(rn.EMPTY_BYTE_STRING,x.snapshotVersion)),cb(c,g);const T=new ms(x.target,g,p,x.sequenceNumber);Hg(c,T)})),c.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){fe(ya,"Failed to raise snapshot:",s),await yd(r,s)}}async function yd(r,e,n){if(!ul(e))throw e;r.Ea.add(1),await eu(r),r.Va.set("Offline"),n||(n=()=>sb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{fe(ya,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Wd(r)}))}function hb(r,e){return e().catch((n=>yd(r,n,e)))}async function $d(r){const e=Ae(r),n=ws(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rg;for(;pI(e);)try{const o=await K8(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,gI(e,o)}catch(o){await yd(e,o)}db(e)&&fb(e)}function pI(r){return Sa(r)&&r.Ta.length<10}function gI(r,e){r.Ta.push(e);const n=ws(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function db(r){return Sa(r)&&!ws(r).x_()&&r.Ta.length>0}function fb(r){ws(r).start()}async function yI(r){ws(r).ra()}async function vI(r){const e=ws(r);for(const n of r.Ta)e.ea(n.mutations)}async function _I(r,e,n){const s=r.Ta.shift(),o=jg.from(s,e,n);await hb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await $d(r)}async function EI(r,e){e&&ws(r).Y_&&await(async function(s,o){if((function(h){return e8(h)&&h!==ee.ABORTED})(o.code)){const c=s.Ta.shift();ws(s).B_(),await hb(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await $d(s)}})(r,e),db(r)&&fb(r)}async function yE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),fe(ya,"RemoteStore received new credentials");const s=Sa(n);n.Ea.add(3),await eu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Wd(n)}async function xI(r,e){const n=Ae(r);e?(n.Ea.delete(2),await Wd(n)):e||(n.Ea.add(2),await eu(n),n.Va.set("Unknown"))}function dl(r){return r.ma||(r.ma=(function(n,s,o){const c=Ae(n);return c.sa(),new iI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:hI.bind(null,r),Yo:dI.bind(null,r),t_:fI.bind(null,r),J_:mI.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),qg(r)?Fg(r):r.Va.set("Unknown")):(await r.ma.stop(),ub(r))}))),r.ma}function ws(r){return r.fa||(r.fa=(function(n,s,o){const c=Ae(n);return c.sa(),new sI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:yI.bind(null,r),t_:EI.bind(null,r),ta:vI.bind(null,r),na:_I.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await $d(r)):(await r.fa.stop(),r.Ta.length>0&&(fe(ya,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Gg{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const h=Date.now()+s,m=new Gg(e,n,h,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wg(r,e){if(wi("AsyncQueue",`${e}: ${r}`),ul(r))return new de(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=Sc(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class vE{constructor(){this.ga=new pt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Jo{constructor(e,n,s,o,c,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,c){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Jo(e,n,Go.emptySet(n),h,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class bI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class TI{constructor(){this.queries=_E(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),c=o.queries;o.queries=_E(),c.forEach(((h,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new de(ee.ABORTED,"Firestore shutting down"))}}function _E(){return new Ta((r=>Dx(r)),Ud)}async function $g(r,e){const n=Ae(r);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new bI,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Wg(h,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Kg(n)}async function Qg(r,e){const n=Ae(r),s=e.query;let o=3;const c=n.queries.get(s);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function SI(r,e){const n=Ae(r);let s=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&Kg(n)}function AI(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(n);s.queries.delete(e)}function Kg(r){r.Ca.forEach((e=>{e.next()}))}var tg,EE;(EE=tg||(tg={})).Ma="default",EE.Cache="cache";class Yg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Jo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tg.Cache}}class mb{constructor(e){this.key=e}}class pb{constructor(e){this.key=e}}class wI{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pe(),this.mutatedKeys=Pe(),this.eu=jx(e),this.tu=new Go(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new vE,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,T)=>{const A=o.get(x),M=zd(this.query,T)?T:null,B=!!A&&this.mutatedKeys.has(A.key),$=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let Q=!1;A&&M?A.data.isEqual(M.data)?B!==$&&(s.track({type:3,doc:M}),Q=!0):this.su(A,M)||(s.track({type:2,doc:M}),Q=!0,(g&&this.eu(M,g)>0||p&&this.eu(M,p)<0)&&(m=!0)):!A&&M?(s.track({type:0,doc:M}),Q=!0):A&&!M&&(s.track({type:1,doc:A}),Q=!0,(g||p)&&(m=!0)),Q&&(M?(h=h.add(M),c=$?c.add(x):c.delete(x)):(h=h.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),c=c.delete(x.key),s.track({type:1,doc:x})}return{tu:h,iu:s,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((x,T)=>(function(M,B){const $=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:Q})}};return $(M)-$(B)})(x.type,T.type)||this.eu(x.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Xa;return this.Xa=g,h.length!==0||p?{snapshot:new Jo(this.query,e.tu,c,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new pb(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new mb(s))})),n}cu(e){this.Za=e.ks,this.Ya=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Xg="SyncEngine";class kI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class RI{constructor(e){this.key=e,this.hu=!1}}class CI{constructor(e,n,s,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ta((m=>Dx(m)),Ud),this.Iu=new Map,this.Eu=new Set,this.Ru=new pt(ve.comparator),this.Au=new Map,this.Vu=new Vg,this.du={},this.mu=new Map,this.fu=Zo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function II(r,e,n=!0){const s=xb(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await gb(s,e,n,!0),o}async function NI(r,e){const n=xb(r);await gb(n,e,!0,!1)}async function gb(r,e,n,s){const o=await Y8(r.localStore,$r(e)),c=o.targetId,h=r.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await LI(r,e,c,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&lb(r.remoteStore,o),m}async function LI(r,e,n,s,o){r.pu=(T,A,M)=>(async function($,Q,se,ne){let oe=Q.view.ru(se);oe.Ss&&(oe=await dE($.localStore,Q.query,!1).then((({documents:R})=>Q.view.ru(R,oe))));const G=ne&&ne.targetChanges.get(Q.targetId),le=ne&&ne.targetMismatches.get(Q.targetId)!=null,ae=Q.view.applyChanges(oe,$.isPrimaryClient,G,le);return bE($,Q.targetId,ae.au),ae.snapshot})(r,T,A,M);const c=await dE(r.localStore,e,!0),h=new wI(e,c.ks),m=h.ru(c.documents),g=Jc.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=h.applyChanges(m,r.isPrimaryClient,g);bE(r,n,p.au);const x=new kI(e,n,h);return r.Tu.set(e,x),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function DI(r,e,n){const s=Ae(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((h=>!Ud(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Bg(s.remoteStore,o.targetId),ng(s,o.targetId)})).catch(cl)):(ng(s,o.targetId),await Jp(s.localStore,o.targetId,!0))}async function jI(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Bg(n.remoteStore,s.targetId))}async function MI(r,e,n){const s=HI(r);try{const o=await(function(h,m){const g=Ae(h),p=rt.now(),x=m.reduce(((M,B)=>M.add(B.key)),Pe());let T,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let B=ki(),$=Pe();return g.xs.getEntries(M,x).next((Q=>{B=Q,B.forEach(((se,ne)=>{ne.isValidDocument()||($=$.add(se))}))})).next((()=>g.localDocuments.getOverlayedDocuments(M,B))).next((Q=>{T=Q;const se=[];for(const ne of m){const oe=KC(ne,T.get(ne.key).overlayedDocument);oe!=null&&se.push(new Is(ne.key,oe,Ax(oe.value.mapValue),pn.exists(!0)))}return g.mutationQueue.addMutationBatch(M,p,se,m)})).next((Q=>{A=Q;const se=Q.applyToLocalDocumentSet(T,$);return g.documentOverlayCache.saveOverlays(M,Q.batchId,se)}))})).then((()=>({batchId:A.batchId,changes:Ox(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.du[h.currentUser.toKey()];p||(p=new pt(Ve)),p=p.insert(m,g),h.du[h.currentUser.toKey()]=p})(s,o.batchId,n),await tu(s,o.changes),await $d(s.remoteStore)}catch(o){const c=Wg(o,"Failed to persist write");n.reject(c)}}async function yb(r,e){const n=Ae(r);try{const s=await $8(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Qe(h.hu,14607):o.removedDocuments.size>0&&(Qe(h.hu,42227),h.hu=!1))})),await tu(n,s,e)}catch(s){await cl(s)}}function xE(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=Ae(h);g.onlineState=m;let p=!1;g.queries.forEach(((x,T)=>{for(const A of T.ba)A.va(m)&&(p=!0)})),p&&Kg(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function OI(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let h=new pt(ve.comparator);h=h.insert(c,ln.newNoDocument(c,Te.min()));const m=Pe().add(c),g=new qd(Te.min(),new Map,new pt(Ve),h,m);await yb(s,g),s.Ru=s.Ru.remove(c),s.Au.delete(e),Zg(s)}else await Jp(s.localStore,e,!1).then((()=>ng(s,e,n))).catch(cl)}async function VI(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await W8(n.localStore,e);_b(n,s,null),vb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await tu(n,o)}catch(o){await cl(o)}}async function PI(r,e,n){const s=Ae(r);try{const o=await(function(h,m){const g=Ae(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let x;return g.mutationQueue.lookupMutationBatch(p,m).next((T=>(Qe(T!==null,37113),x=T.keys(),g.mutationQueue.removeMutationBatch(p,T)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,x,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,x))).next((()=>g.localDocuments.getDocuments(p,x)))}))})(s.localStore,e);_b(s,e,n),vb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await tu(s,o)}catch(o){await cl(o)}}function vb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function _b(r,e,n){const s=Ae(r);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function ng(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||Eb(r,s)}))}function Eb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Bg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Zg(r))}function bE(r,e,n){for(const s of n)s instanceof mb?(r.Vu.addReference(s.key,e),UI(r,s)):s instanceof pb?(fe(Xg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||Eb(r,s.key)):xe(19791,{wu:s})}function UI(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(fe(Xg,"New document in limbo: "+n),r.Eu.add(s),Zg(r))}function Zg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ve(ot.fromString(e)),s=r.fu.next();r.Au.set(s,new RI(n)),r.Ru=r.Ru.insert(n,s),lb(r.remoteStore,new ms($r(Pd(n.path)),s,"TargetPurposeLimboResolution",Md.ce))}}async function tu(r,e,n){const s=Ae(r),o=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const x=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(p){o.push(p);const x=Ug.Es(g.targetId,p);c.push(x)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(g,p){const x=Ae(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(p,(A=>ie.forEach(A.Ts,(M=>x.persistence.referenceDelegate.addReference(T,A.targetId,M))).next((()=>ie.forEach(A.Is,(M=>x.persistence.referenceDelegate.removeReference(T,A.targetId,M)))))))))}catch(T){if(!ul(T))throw T;fe(zg,"Failed to update sequence numbers: "+T)}for(const T of p){const A=T.targetId;if(!T.fromCache){const M=x.vs.get(A),B=M.snapshotVersion,$=M.withLastLimboFreeSnapshotVersion(B);x.vs=x.vs.insert(A,$)}}})(s.localStore,c))}async function zI(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){fe(Xg,"User change. New user:",e.toKey());const s=await ib(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new de(ee.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await tu(n,s.Ns)}}function BI(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function xb(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=yb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OI.bind(null,e),e.Pu.J_=SI.bind(null,e.eventManager),e.Pu.yu=AI.bind(null,e.eventManager),e}function HI(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PI.bind(null,e),e}class vd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return G8(this.persistence,new H8,e.initialUser,this.serializer)}Cu(e){return new rb(Pg.Vi,this.serializer)}Du(e){return new Z8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vd.provider={build:()=>new vd};class FI extends vd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof gd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new k8(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new rb((s=>gd.Vi(s,n)),this.serializer)}}class rg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>xE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=zI.bind(null,this.syncEngine),await xI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TI})()}createDatastore(e){const n=Gd(e.databaseInfo.databaseId),s=rI(e.databaseInfo);return lI(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,h,m){return new uI(s,o,c,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>xE(this.syncEngine,n,0)),(function(){return pE.v()?new pE:new J8})())}createSyncEngine(e,n){return(function(o,c,h,m,g,p,x){const T=new CI(o,c,h,m,g,p);return x&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);fe(ya,"RemoteStore shutting down."),s.Ea.add(5),await eu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rg.provider={build:()=>new rg};class Jg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ks="FirestoreClient";class qI{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=kg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{fe(ks,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(fe(ks,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Wg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Sp(r,e){r.asyncQueue.verifyOperationInProgress(),fe(ks,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await ib(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function TE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await GI(r);fe(ks,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>yE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>yE(e.remoteStore,o))),r._onlineComponents=e}async function GI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(ks,"Using user provided OfflineComponentProvider");try{await Sp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Qo("Error using user provided cache. Falling back to memory cache: "+n),await Sp(r,new vd)}}else fe(ks,"Using default OfflineComponentProvider"),await Sp(r,new FI(void 0));return r._offlineComponents}async function bb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(ks,"Using user provided OnlineComponentProvider"),await TE(r,r._uninitializedComponentsProvider._online)):(fe(ks,"Using default OnlineComponentProvider"),await TE(r,new rg))),r._onlineComponents}function WI(r){return bb(r).then((e=>e.syncEngine))}async function _d(r){const e=await bb(r),n=e.eventManager;return n.onListen=II.bind(null,e.syncEngine),n.onUnlisten=DI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jI.bind(null,e.syncEngine),n}function $I(r,e,n,s){const o=new Jg(s),c=new Yg(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>$g(await _d(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>Qg(await _d(r),c)))}}function QI(r,e,n={}){const s=new bi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,g,p){const x=new Jg({next:A=>{x.Nu(),h.enqueueAndForget((()=>Qg(c,T)));const M=A.docs.has(m);!M&&A.fromCache?p.reject(new de(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&A.fromCache&&g&&g.source==="server"?p.reject(new de(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new Yg(Pd(m.path),x,{includeMetadataChanges:!0,Ka:!0});return $g(c,T)})(await _d(r),r.asyncQueue,e,n,s))),s.promise}function KI(r,e,n={}){const s=new bi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,g,p){const x=new Jg({next:A=>{x.Nu(),h.enqueueAndForget((()=>Qg(c,T))),A.fromCache&&g.source==="server"?p.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new Yg(m,x,{includeMetadataChanges:!0,Ka:!0});return $g(c,T)})(await _d(r),r.asyncQueue,e,n,s))),s.promise}function YI(r,e){const n=new bi;return r.asyncQueue.enqueueAndForget((async()=>MI(await WI(r),e,n))),n.promise}function Tb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const XI="ComponentProvider",SE=new Map;function ZI(r,e,n,s,o){return new gC(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Tb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const Sb="firestore.googleapis.com",AE=!0;class wE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sb,this.ssl=AE}else this.host=e.host,this.ssl=e.ssl??AE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<A8)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new K6;switch(s.type){case"firstParty":return new J6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=SE.get(n);s&&(fe(XI,"Removing Datastore"),SE.delete(n),s.terminate())})(this),Promise.resolve()}}function JI(r,e,n,s={}){r=mn(r,Qd);const o=il(e),c=r._getSettings(),h={...c,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(g2(`https://${m}`),y2("Firestore",!0)),c.host!==Sb&&c.host!==m&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:s};if(!xs(g,h)&&(r._setSettings(g),s.mockUserToken)){let p,x;if(typeof s.mockUserToken=="string")p=s.mockUserToken,x=on.MOCK_USER;else{p=ik(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new on(T)}r._authCredentials=new Y6(new fx(p,x))}}class Ns{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Xc(n,vt._jsonSchema))return new vt(e,s||null,new ve(ot.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Mt("string",vt._jsonSchemaVersion),referencePath:Mt("string")};class _s extends Ns{constructor(e,n,s){super(e,n,Pd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ve(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function cn(r,e,...n){if(r=mt(r),mx("collection","path",e),r instanceof Qd){const s=ot.fromString(e,...n);return U_(s),new _s(r,null,s)}{if(!(r instanceof vt||r instanceof _s))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...n));return U_(s),new _s(r.firestore,null,s)}}function Ot(r,e,...n){if(r=mt(r),arguments.length===1&&(e=kg.newId()),mx("doc","path",e),r instanceof Qd){const s=ot.fromString(e,...n);return P_(s),new vt(r,null,new ve(s))}{if(!(r instanceof vt||r instanceof _s))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...n));return P_(s),new vt(r.firestore,r instanceof _s?r.converter:null,new ve(s))}}const kE="AsyncQueue";class RE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ab(this,"async_queue_retry"),this._c=()=>{const s=Tp();s&&fe(kE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Tp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Tp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new bi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ul(e))throw e;fe(kE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,wi("INTERNAL UNHANDLED ERROR: ",CE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Gg.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:CE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function CE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Zr extends Qd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new RE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RE(e),this._firestoreClient=void 0,await e}}}function eN(r,e){const n=typeof r=="object"?r:yg(),s=typeof r=="string"?r:hd,o=xa(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=nk("firestore");c&&JI(o,...c)}return o}function nu(r){if(r._terminated)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||tN(r),r._firestoreClient}function tN(r){const e=r._freezeSettings(),n=ZI(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new qI(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(rn.fromBase64String(e))}catch(n){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xc(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Mt("string",Zn._jsonSchemaVersion),bytes:Mt("string")};class Kd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yd{constructor(e){this._methodName=e}}class Kr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Kr._jsonSchemaVersion}}static fromJSON(e){if(Xc(e,Kr._jsonSchema))return new Kr(e.latitude,e.longitude)}}Kr._jsonSchemaVersion="firestore/geoPoint/1.0",Kr._jsonSchema={type:Mt("string",Kr._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class gr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xc(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gr(e.vectorValues);throw new de(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:Mt("string",gr._jsonSchemaVersion),vectorValues:Mt("object")};const nN=/^__.*__$/;class rN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zc(e,this.data,n,this.fieldTransforms)}}class Ab{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{dataSource:r})}}class e0{constructor(e,n,s,o,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new e0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ed(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(wb(this.dataSource)&&nN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class iN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Gd(e)}createContext(e,n,s,o=!1){return new e0({dataSource:e,methodName:n,targetDoc:s,path:nn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ru(r){const e=r._freezeSettings(),n=Gd(r._databaseId);return new iN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function t0(r,e,n,s,o,c={}){const h=r.createContext(c.merge||c.mergeFields?2:0,e,n,o);r0("Data must be an object, but it was:",h,s);const m=Cb(s,h);let g,p;if(c.merge)g=new Mn(h.fieldMask),p=h.fieldTransforms;else if(c.mergeFields){const x=[];for(const T of c.mergeFields){const A=el(e,T,n);if(!h.contains(A))throw new de(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Lb(x,A)||x.push(A)}g=new Mn(x),p=h.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,p=h.fieldTransforms;return new rN(new An(m),g,p)}class Xd extends Yd{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xd}}class n0 extends Yd{_toFieldTransform(e){return new GC(e.path,new Hc)}isEqual(e){return e instanceof n0}}function kb(r,e,n,s){const o=r.createContext(1,e,n);r0("Data must be an object, but it was:",o,s);const c=[],h=An.empty();Cs(s,((g,p)=>{const x=Nb(e,g,n);p=mt(p);const T=o.childContextForFieldPath(x);if(p instanceof Xd)c.push(x);else{const A=iu(p,T);A!=null&&(c.push(x),h.set(x,A))}}));const m=new Mn(c);return new Ab(h,m,o.fieldTransforms)}function Rb(r,e,n,s,o,c){const h=r.createContext(1,e,n),m=[el(e,s,n)],g=[o];if(c.length%2!=0)throw new de(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)m.push(el(e,c[A])),g.push(c[A+1]);const p=[],x=An.empty();for(let A=m.length-1;A>=0;--A)if(!Lb(p,m[A])){const M=m[A];let B=g[A];B=mt(B);const $=h.childContextForFieldPath(M);if(B instanceof Xd)p.push(M);else{const Q=iu(B,$);Q!=null&&(p.push(M),x.set(M,Q))}}const T=new Mn(p);return new Ab(x,T,h.fieldTransforms)}function sN(r,e,n,s=!1){return iu(n,r.createContext(s?4:3,e))}function iu(r,e){if(Ib(r=mt(r)))return r0("Unsupported field value:",e,r),Cb(r,e);if(r instanceof Yd)return(function(s,o){if(!wb(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let h=0;for(const m of s){let g=iu(m,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=mt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return HC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=rt.fromDate(s);return{timestampValue:pd(o.serializer,c)}}if(s instanceof rt){const c=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:pd(o.serializer,c)}}if(s instanceof Kr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Zn)return{bytesValue:Qx(o.serializer,s._byteString)};if(s instanceof vt){const c=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Og(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof gr)return(function(h,m){const g=h instanceof gr?h.toArray():h;return{mapValue:{fields:{[Tx]:{stringValue:Sx},[dd]:{arrayValue:{values:g.map((x=>{if(typeof x!="number")throw m.createError("VectorValues must only contain numeric values.");return Dg(m.serializer,x)}))}}}}}})(s,o);if(tb(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${jd(s)}`)})(r,e)}function Cb(r,e){const n={};return yx(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(r,((s,o)=>{const c=iu(o,e.childContextForField(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function Ib(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Kr||r instanceof Zn||r instanceof vt||r instanceof Yd||r instanceof gr||tb(r))}function r0(r,e,n){if(!Ib(n)||!px(n)){const s=jd(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function el(r,e,n){if((e=mt(e))instanceof Kd)return e._internalPath;if(typeof e=="string")return Nb(r,e);throw Ed("Field path arguments must be of type string or ",r,!1,void 0,n)}const aN=new RegExp("[~\\*/\\[\\]]");function Nb(r,e,n){if(e.search(aN)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Kd(...e.split("."))._internalPath}catch{throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ed(r,e,n,s,o){const c=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new de(ee.INVALID_ARGUMENT,m+r+g)}function Lb(r,e){return r.some((n=>n.isEqual(e)))}class oN{convertValue(e,n="none"){switch(As(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Cs(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[dd].arrayValue?.values?.map((s=>Tt(s.doubleValue)));return new gr(n)}convertGeoPoint(e){return new Kr(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Vd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Pc(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ot.fromString(e);Qe(eb(s),9688,{name:e});const o=new Uc(s.get(1),s.get(3)),c=new ve(s.popFirst(5));return o.isEqual(n)||wi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class i0 extends oN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function Bt(){return new n0("serverTimestamp")}const IE="@firebase/firestore",NE="4.10.0";function LE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Db{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(el("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lN extends Db{data(){return super.data()}}function jb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s0{}class Mb extends s0{}function Es(r,e,...n){let s=[];e instanceof s0&&s.push(e),s=s.concat(n),(function(c){const h=c.filter((g=>g instanceof o0)).length,m=c.filter((g=>g instanceof a0)).length;if(h>1||h>0&&m>0)throw new de(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class a0 extends Mb{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new a0(e,n,s)}_apply(e){const n=this._parse(e);return Vb(e._query,n),new Ns(e.firestore,e.converter,$p(e._query,n))}_parse(e){const n=ru(e.firestore);return(function(c,h,m,g,p,x,T){let A;if(p.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new de(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){jE(T,x);const B=[];for(const $ of T)B.push(DE(g,c,$));A={arrayValue:{values:B}}}else A=DE(g,c,T)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||jE(T,x),A=sN(m,h,T,x==="in"||x==="not-in");return jt.create(p,x,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class o0 extends s0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new o0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let h=o;const m=c.getFlattenedFilters();for(const g of m)Vb(h,g),h=$p(h,g)})(e._query,n),new Ns(e.firestore,e.converter,$p(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class l0 extends Mb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new l0(e,n)}_apply(e){const n=(function(o,c,h){if(o.startAt!==null)throw new de(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new de(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bc(c,h)})(e._query,this._field,this._direction);return new Ns(e.firestore,e.converter,jC(e._query,n))}}function Ob(r,e="asc"){const n=e,s=el("orderBy",r);return l0._create(s,n)}function DE(r,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new de(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lx(e)&&n.indexOf("/")!==-1)throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ot.fromString(n));if(!ve.isDocumentKey(s))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return $_(r,new ve(s))}if(n instanceof vt)return $_(r,n._key);throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jd(n)}.`)}function jE(r,e){if(!Array.isArray(r)||r.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Vb(r,e){const n=(function(o,c){for(const h of o)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function c0(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class wc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class da extends Db{constructor(e,n,s,o,c,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(el("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:Mt("string",da._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Jh extends da{data(e={}){return super.data(e)}}class fa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new wc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Jh(this._firestore,this._userDataWriter,s.key,s,new wc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new Jh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new wc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new Jh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new wc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,x=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),x=h.indexOf(m.doc.key)),{type:cN(m.type),doc:g,oldIndex:p,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}fa._jsonSchemaVersion="firestore/querySnapshot/1.0",fa._jsonSchema={type:Mt("string",fa._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class uN{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ru(e)}set(e,n,s){this._verifyNotCommitted();const o=Ap(e,this._firestore),c=c0(o.converter,n,s),h=t0(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,pn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const c=Ap(e,this._firestore);let h;return h=typeof(n=mt(n))=="string"||n instanceof Kd?Rb(this._dataReader,"WriteBatch.update",c._key,n,s,o):kb(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(h.toMutation(c._key,pn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ap(e,this._firestore);return this._mutations=this._mutations.concat(new Fd(n._key,pn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ap(r,e){if((r=mt(r)).firestore!==e)throw new de(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Zd(r){r=mn(r,vt);const e=mn(r.firestore,Zr),n=nu(e);return QI(n,r._key).then((s=>Ub(e,r,s)))}function ma(r){r=mn(r,Ns);const e=mn(r.firestore,Zr),n=nu(e),s=new i0(e);return jb(r._query),KI(n,r._query).then((o=>new fa(e,s,r,o)))}function pr(r,e,n){r=mn(r,vt);const s=mn(r.firestore,Zr),o=c0(r.converter,e,n),c=ru(s);return su(s,[t0(c,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,pn.none())])}function Jd(r,e,n,...s){r=mn(r,vt);const o=mn(r.firestore,Zr),c=ru(o);let h;return h=typeof(e=mt(e))=="string"||e instanceof Kd?Rb(c,"updateDoc",r._key,e,n,s):kb(c,"updateDoc",r._key,e),su(o,[h.toMutation(r._key,pn.exists(!0))])}function Pb(r){return su(mn(r.firestore,Zr),[new Fd(r._key,pn.none())])}function hN(r,e){const n=mn(r.firestore,Zr),s=Ot(r),o=c0(r.converter,e),c=ru(r.firestore);return su(n,[t0(c,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,pn.exists(!1))]).then((()=>s))}function ef(r,...e){r=mt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||LE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(LE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let c,h,m;if(r instanceof vt)h=mn(r.firestore,Zr),m=Pd(r._key.path),c={next:p=>{e[s]&&e[s](Ub(h,r,p))},error:e[s+1],complete:e[s+2]};else{const p=mn(r,Ns);h=mn(p.firestore,Zr),m=p._query;const x=new i0(h);c={next:T=>{e[s]&&e[s](new fa(h,x,p,T))},error:e[s+1],complete:e[s+2]},jb(r._query)}const g=nu(h);return $I(g,m,o,c)}function su(r,e){const n=nu(r);return YI(n,e)}function Ub(r,e,n){const s=n.docs.get(e._key),o=new i0(r);return new da(r,o,e._key,s,new wc(n.hasPendingWrites,n.fromCache),e.converter)}function dN(r){return r=mn(r,Zr),nu(r),new uN(r,(e=>su(r,e)))}(function(e,n=!0){Q6(sl),Yr(new yr("firestore",((s,{instanceIdentifier:o,options:c})=>{const h=s.getProvider("app").getImmediate(),m=new Zr(new X6(s.getProvider("auth-internal")),new eC(h,s.getProvider("app-check-internal")),yC(h,o),h);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Jn(IE,NE,e),Jn(IE,NE,"esm2020")})();const zb="@firebase/installations",u0="0.6.19";const Bb=1e4,Hb=`w:${u0}`,Fb="FIS_v2",fN="https://firebaseinstallations.googleapis.com/v1",mN=3600*1e3,pN="installations",gN="Installations";const yN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},va=new Ea(pN,gN,yN);function qb(r){return r instanceof Er&&r.code.includes("request-failed")}function Gb({projectId:r}){return`${fN}/projects/${r}/installations`}function Wb(r){return{token:r.token,requestStatus:2,expiresIn:_N(r.expiresIn),creationTime:Date.now()}}async function $b(r,e){const s=(await e.json()).error;return va.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Qb({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function vN(r,{refreshToken:e}){const n=Qb(r);return n.append("Authorization",EN(e)),n}async function Kb(r){const e=await r();return e.status>=500&&e.status<600?r():e}function _N(r){return Number(r.replace("s","000"))}function EN(r){return`${Fb} ${r}`}async function xN({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const s=Gb(r),o=Qb(r),c=e.getImmediate({optional:!0});if(c){const p=await c.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={fid:n,authVersion:Fb,appId:r.appId,sdkVersion:Hb},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await Kb(()=>fetch(s,m));if(g.ok){const p=await g.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:Wb(p.authToken)}}else throw await $b("Create Installation",g)}function Yb(r){return new Promise(e=>{setTimeout(e,r)})}function bN(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const TN=/^[cdef][\w-]{21}$/,ig="";function SN(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=AN(r);return TN.test(n)?n:ig}catch{return ig}}function AN(r){return bN(r).substr(0,22)}function tf(r){return`${r.appName}!${r.appId}`}const Xb=new Map;function Zb(r,e){const n=tf(r);Jb(n,e),wN(n,e)}function Jb(r,e){const n=Xb.get(r);if(n)for(const s of n)s(e)}function wN(r,e){const n=kN();n&&n.postMessage({key:r,fid:e}),RN()}let ha=null;function kN(){return!ha&&"BroadcastChannel"in self&&(ha=new BroadcastChannel("[Firebase] FID Change"),ha.onmessage=r=>{Jb(r.data.key,r.data.fid)}),ha}function RN(){Xb.size===0&&ha&&(ha.close(),ha=null)}const CN="firebase-installations-database",IN=1,_a="firebase-installations-store";let wp=null;function h0(){return wp||(wp=T2(CN,IN,{upgrade:(r,e)=>{e===0&&r.createObjectStore(_a)}})),wp}async function xd(r,e){const n=tf(r),o=(await h0()).transaction(_a,"readwrite"),c=o.objectStore(_a),h=await c.get(n);return await c.put(e,n),await o.done,(!h||h.fid!==e.fid)&&Zb(r,e.fid),e}async function eT(r){const e=tf(r),s=(await h0()).transaction(_a,"readwrite");await s.objectStore(_a).delete(e),await s.done}async function nf(r,e){const n=tf(r),o=(await h0()).transaction(_a,"readwrite"),c=o.objectStore(_a),h=await c.get(n),m=e(h);return m===void 0?await c.delete(n):await c.put(m,n),await o.done,m&&(!h||h.fid!==m.fid)&&Zb(r,m.fid),m}async function d0(r){let e;const n=await nf(r.appConfig,s=>{const o=NN(s),c=LN(r,o);return e=c.registrationPromise,c.installationEntry});return n.fid===ig?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function NN(r){const e=r||{fid:SN(),registrationStatus:0};return tT(e)}function LN(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(va.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=DN(r,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:jN(r)}:{installationEntry:e}}async function DN(r,e){try{const n=await xN(r,e);return xd(r.appConfig,n)}catch(n){throw qb(n)&&n.customData.serverCode===409?await eT(r.appConfig):await xd(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function jN(r){let e=await ME(r.appConfig);for(;e.registrationStatus===1;)await Yb(100),e=await ME(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await d0(r);return s||n}return e}function ME(r){return nf(r,e=>{if(!e)throw va.create("installation-not-found");return tT(e)})}function tT(r){return MN(r)?{fid:r.fid,registrationStatus:0}:r}function MN(r){return r.registrationStatus===1&&r.registrationTime+Bb<Date.now()}async function ON({appConfig:r,heartbeatServiceProvider:e},n){const s=VN(r,n),o=vN(r,n),c=e.getImmediate({optional:!0});if(c){const p=await c.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={installation:{sdkVersion:Hb,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await Kb(()=>fetch(s,m));if(g.ok){const p=await g.json();return Wb(p)}else throw await $b("Generate Auth Token",g)}function VN(r,{fid:e}){return`${Gb(r)}/${e}/authTokens:generate`}async function f0(r,e=!1){let n;const s=await nf(r.appConfig,c=>{if(!nT(c))throw va.create("not-registered");const h=c.authToken;if(!e&&zN(h))return c;if(h.requestStatus===1)return n=PN(r,e),c;{if(!navigator.onLine)throw va.create("app-offline");const m=HN(c);return n=UN(r,m),m}});return n?await n:s.authToken}async function PN(r,e){let n=await OE(r.appConfig);for(;n.authToken.requestStatus===1;)await Yb(100),n=await OE(r.appConfig);const s=n.authToken;return s.requestStatus===0?f0(r,e):s}function OE(r){return nf(r,e=>{if(!nT(e))throw va.create("not-registered");const n=e.authToken;return FN(n)?{...e,authToken:{requestStatus:0}}:e})}async function UN(r,e){try{const n=await ON(r,e),s={...e,authToken:n};return await xd(r.appConfig,s),n}catch(n){if(qb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await eT(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await xd(r.appConfig,s)}throw n}}function nT(r){return r!==void 0&&r.registrationStatus===2}function zN(r){return r.requestStatus===2&&!BN(r)}function BN(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+mN}function HN(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function FN(r){return r.requestStatus===1&&r.requestTime+Bb<Date.now()}async function qN(r){const e=r,{installationEntry:n,registrationPromise:s}=await d0(e);return s?s.catch(console.error):f0(e).catch(console.error),n.fid}async function GN(r,e=!1){const n=r;return await WN(n),(await f0(n,e)).token}async function WN(r){const{registrationPromise:e}=await d0(r);e&&await e}function $N(r){if(!r||!r.options)throw kp("App Configuration");if(!r.name)throw kp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw kp(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function kp(r){return va.create("missing-app-config-values",{valueName:r})}const rT="installations",QN="installations-internal",KN=r=>{const e=r.getProvider("app").getImmediate(),n=$N(e),s=xa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},YN=r=>{const e=r.getProvider("app").getImmediate(),n=xa(e,rT).getImmediate();return{getId:()=>qN(n),getToken:o=>GN(n,o)}};function XN(){Yr(new yr(rT,KN,"PUBLIC")),Yr(new yr(QN,YN,"PRIVATE"))}XN();Jn(zb,u0);Jn(zb,u0,"esm2020");const bd="analytics",ZN="firebase_id",JN="origin",eL=60*1e3,tL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",m0="https://www.googletagmanager.com/gtag/js";const gn=new Cd("@firebase/analytics");const nL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},On=new Ea("analytics","Analytics",nL);function rL(r){if(!r.startsWith(m0)){const e=On.create("invalid-gtag-resource",{gtagURL:r});return gn.warn(e.message),""}return r}function iT(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function iL(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function sL(r,e){const n=iL("firebase-js-sdk-policy",{createScriptURL:rL}),s=document.createElement("script"),o=`${m0}?l=${r}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function aL(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function oL(r,e,n,s,o,c){const h=s[o];try{if(h)await e[h];else{const g=(await iT(n)).find(p=>p.measurementId===o);g&&await e[g.appId]}}catch(m){gn.error(m)}r("config",o,c)}async function lL(r,e,n,s,o){try{let c=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await iT(n);for(const g of h){const p=m.find(T=>T.measurementId===g),x=p&&e[p.appId];if(x)c.push(x);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),r("event",s,o||{})}catch(c){gn.error(c)}}function cL(r,e,n,s){async function o(c,...h){try{if(c==="event"){const[m,g]=h;await lL(r,e,n,m,g)}else if(c==="config"){const[m,g]=h;await oL(r,e,n,s,m,g)}else if(c==="consent"){const[m,g]=h;r("consent",m,g)}else if(c==="get"){const[m,g,p]=h;r("get",m,g,p)}else if(c==="set"){const[m]=h;r("set",m)}else r(c,...h)}catch(m){gn.error(m)}}return o}function uL(r,e,n,s,o){let c=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=cL(c,r,e,n),{gtagCore:c,wrappedGtag:window[o]}}function hL(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(m0)&&n.src.includes(r))return n;return null}const dL=30,fL=1e3;class mL{constructor(e={},n=fL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const sT=new mL;function pL(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function gL(r){const{appId:e,apiKey:n}=r,s={method:"GET",headers:pL(n)},o=tL.replace("{app-id}",e),c=await fetch(o,s);if(c.status!==200&&c.status!==304){let h="";try{const m=await c.json();m.error?.message&&(h=m.error.message)}catch{}throw On.create("config-fetch-failed",{httpStatus:c.status,responseMessage:h})}return c.json()}async function yL(r,e=sT,n){const{appId:s,apiKey:o,measurementId:c}=r.options;if(!s)throw On.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw On.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new EL;return setTimeout(async()=>{m.abort()},eL),aT({appId:s,apiKey:o,measurementId:c},h,m,e)}async function aT(r,{throttleEndTimeMillis:e,backoffCount:n},s,o=sT){const{appId:c,measurementId:h}=r;try{await vL(s,e)}catch(m){if(h)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:h};throw m}try{const m=await gL(r);return o.deleteThrottleMetadata(c),m}catch(m){const g=m;if(!_L(g)){if(o.deleteThrottleMetadata(c),h)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:h};throw m}const p=Number(g?.customData?.httpStatus)===503?a_(n,o.intervalMillis,dL):a_(n,o.intervalMillis),x={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return o.setThrottleMetadata(c,x),gn.debug(`Calling attemptFetch again in ${p} millis`),aT(r,x,s,o)}}function vL(r,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(c),s(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _L(r){if(!(r instanceof Er)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class EL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function xL(r,e,n,s,o){if(o&&o.global){r("event",n,s);return}else{const c=await e,h={...s,send_to:c};r("event",n,h)}}async function bL(r,e,n,s){if(s&&s.global){const o={};for(const c of Object.keys(n))o[`user_properties.${c}`]=n[c];return r("set",o),Promise.resolve()}else{const o=await e;r("config",o,{update:!0,user_properties:n})}}async function TL(){if(_2())try{await E2()}catch(r){return gn.warn(On.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return gn.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function SL(r,e,n,s,o,c,h){const m=yL(r);m.then(A=>{n[A.measurementId]=A.appId,r.options.measurementId&&A.measurementId!==r.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>gn.error(A)),e.push(m);const g=TL().then(A=>{if(A)return s.getId()}),[p,x]=await Promise.all([m,g]);hL(c)||sL(c,p.measurementId),o("js",new Date);const T=h?.config??{};return T[JN]="firebase",T.update=!0,x!=null&&(T[ZN]=x),o("config",p.measurementId,T),p.measurementId}class AL{constructor(e){this.app=e}_delete(){return delete Wo[this.app.options.appId],Promise.resolve()}}let Wo={},VE=[];const PE={};let Rp="dataLayer",wL="gtag",UE,p0,zE=!1;function kL(){const r=[];if(v2()&&r.push("This is a browser extension environment."),fk()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=On.create("invalid-analytics-context",{errorInfo:e});gn.warn(n.message)}}function RL(r,e,n){kL();const s=r.options.appId;if(!s)throw On.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw On.create("no-api-key");if(Wo[s]!=null)throw On.create("already-exists",{id:s});if(!zE){aL(Rp);const{wrappedGtag:c,gtagCore:h}=uL(Wo,VE,PE,Rp,wL);p0=c,UE=h,zE=!0}return Wo[s]=SL(r,VE,PE,e,UE,Rp,n),new AL(r)}function CL(r=yg()){r=mt(r);const e=xa(r,bd);return e.isInitialized()?e.getImmediate():IL(r)}function IL(r,e={}){const n=xa(r,bd);if(n.isInitialized()){const o=n.getImmediate();if(xs(e,n.getOptions()))return o;throw On.create("already-initialized")}return n.initialize({options:e})}function NL(r,e,n){r=mt(r),bL(p0,Wo[r.app.options.appId],e,n).catch(s=>gn.error(s))}function LL(r,e,n,s){r=mt(r),xL(p0,Wo[r.app.options.appId],e,n,s).catch(o=>gn.error(o))}const BE="@firebase/analytics",HE="0.10.19";function DL(){Yr(new yr(bd,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return RL(s,o,n)},"PUBLIC")),Yr(new yr("analytics-internal",r,"PRIVATE")),Jn(BE,HE),Jn(BE,HE,"esm2020");function r(e){try{const n=e.getProvider(bd).getImmediate();return{logEvent:(s,o,c)=>LL(n,s,o,c),setUserProperties:(s,o)=>NL(n,s,o)}}catch(n){throw On.create("interop-component-reg-failed",{reason:n})}}}DL();const jL={apiKey:"AIzaSyA1AWyQt-mKcZTGJ1MaPrf4IoRxxCpRl8w",authDomain:"brewsy-6e24c.firebaseapp.com",projectId:"brewsy-6e24c",storageBucket:"brewsy-6e24c.firebasestorage.app",messagingSenderId:"965602953101",appId:"1:965602953101:web:50f84823c3a2db81da5fc4",measurementId:"G-9T8DY7JG9C"},g0=S2(jL),Ri=q6(g0),Ge=eN(g0);CL(g0);const ML=async(r,e)=>{try{return{user:(await CR(Ri,r,e)).user,error:null}}catch(n){return{user:null,error:n}}},OL=async()=>{try{return await DR(Ri),{error:null}}catch(r){return{error:r}}},VL=r=>LR(Ri,r),oT=j.createContext({user:null,loading:!0}),Aa=()=>{const r=j.useContext(oT);if(!r)throw new Error("useAuth must be used within AuthProvider");return r},PL=({children:r})=>{const[e,n]=j.useState(null),[s,o]=j.useState(!0);return j.useEffect(()=>VL(h=>{n(h),o(!1)}),[]),y.jsx(oT.Provider,{value:{user:e,loading:s},children:r})},lT=j.createContext(void 0),UL=({children:r})=>{const[e,n]=j.useState(()=>localStorage.getItem("brewsy-current-space")||"naturopathie"),s=o=>{n(o),localStorage.setItem("brewsy-current-space",o),o==="naturopathie"?(document.body.classList.add("theme-drogue"),document.body.classList.remove("theme-malandrinerie")):(document.body.classList.add("theme-malandrinerie"),document.body.classList.remove("theme-drogue"))};return j.useEffect(()=>{e==="naturopathie"?(document.body.classList.add("theme-drogue"),document.body.classList.remove("theme-malandrinerie")):(document.body.classList.add("theme-malandrinerie"),document.body.classList.remove("theme-drogue"))},[e]),y.jsx(lT.Provider,{value:{currentSpace:e,setCurrentSpace:s},children:r})},cT=()=>{const r=j.useContext(lT);if(r===void 0)throw new Error("useSpace must be used within a SpaceProvider");return r},zL=()=>{const[r,e]=j.useState(""),[n,s]=j.useState(""),[o,c]=j.useState(null),[h,m]=j.useState(!1),g=async p=>{p.preventDefault(),c(null),m(!0);const{error:x}=await ML(r,n);x&&(c("Email ou mot de passe incorrect"),m(!1))};return y.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-card rounded-soft-lg shadow-soft-lg p-8 max-w-md w-full border border-border",children:[y.jsx("h1",{className:"text-3xl font-bold text-peach mb-2 text-center",children:"Cozy Production"}),y.jsx("p",{className:"text-text-secondary text-center mb-6",children:"Connexion"}),y.jsxs("form",{onSubmit:g,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-secondary mb-1",children:"Email"}),y.jsx("input",{id:"email",type:"email",value:r,onChange:p=>e(p.target.value),required:!0,className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all",placeholder:"votre@email.com"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-secondary mb-1",children:"Mot de passe"}),y.jsx("input",{id:"password",type:"password",value:n,onChange:p=>s(p.target.value),required:!0,className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all",placeholder:""})]}),o&&y.jsx("div",{className:"bg-peach-light text-peach-dark px-4 py-2 rounded-soft text-sm border border-peach/30",children:o}),y.jsx("button",{type:"submit",disabled:h,className:"w-full bg-linear-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark disabled:from-text-muted disabled:to-text-muted text-white font-semibold py-3 px-6 rounded-soft shadow-soft hover:shadow-soft-lg transition-all duration-200",children:h?"Connexion...":"Se connecter"})]})]})})},BL=async()=>{const r=Ot(Ge,"configs","default"),e=await Zd(r);return e.exists()?e.data():null},rf=async()=>{const r=cn(Ge,"configs","default","transformations");return(await ma(r)).docs.map(n=>({id:n.id,...n.data()}))},uT=(r,e)=>{const n=cn(Ge,"users",r,"stocks");return ef(n,s=>{const o=s.docs.map(c=>({...c.data()}));e(o)})},Cp=async(r,e,n,s)=>{const o=Ot(Ge,"users",r,"stocks",e);await pr(o,{crateId:e,label:s,quantity:n,updatedAt:Bt()})},y0=(r,e)=>{const n=cn(Ge,"users",r,"prices");return ef(n,s=>{const o=s.docs.map(c=>({...c.data()}));e(o)})},HL=async(r,e,n)=>{const s=Ot(Ge,"users",r,"prices",e),o=await Zd(s),c=o.exists()?o.data().values:[];await pr(s,{crateId:e,values:[...c,n],updatedAt:Bt()})},FL=async(r,e,n)=>{const s=Ot(Ge,"users",r,"prices",e),o=await Zd(s);if(!o.exists())return;const h=o.data().values.filter((m,g)=>g!==n);h.length===0?await Pb(s):await Jd(s,{values:h,updatedAt:Bt()})},hT=(r,e)=>{const n=cn(Ge,"users",r,"runs"),s=Es(n,Ob("startedAt","desc"));return ef(s,o=>{const c=o.docs.map(h=>({id:h.id,...h.data()}));e(c)})},qL=async(r,e,n,s,o)=>{const c=cn(Ge,"users",r,"runs"),h=o||new Date,m=rt.fromDate(h),g=rt.fromMillis(m.toMillis()+s*60*60*1e3),p={transformationId:e,inputQuantityUsed:n,startedAt:m,durationHours:s,reducedByAction:!1,endsAt:g,status:"RUNNING",createdAt:Bt()};return await pr(Ot(c),p)},GL=async(r,e,n)=>{const s=Ot(Ge,"users",r,"runs",e);await Jd(s,{status:n})},WL=async(r,e,n=1)=>{const s=Ot(Ge,"users",r,"runs",e),o=await Zd(s);if(!o.exists())return;const c=o.data();if(c.reducedByAction)return;const h=rt.fromMillis(c.endsAt.toMillis()-n*60*60*1e3);await Jd(s,{reducedByAction:!0,endsAt:h})},FE=async(r,e)=>{const n=Ot(Ge,"users",r,"runs",e);await Pb(n)},dT=(r,e)=>{const n=cn(Ge,"users",r,"history"),s=Es(n,Ob("createdAt","desc"));return ef(s,o=>{const c=o.docs.map(h=>({id:h.id,...h.data()}));e(c)})},$L=async(r,e,n,s,o)=>{const c=cn(Ge,"users",r,"history"),h={type:"TRANSFORMATION",transformationId:e,startedAt:n,endsAt:s,reducedByAction:o,createdAt:Bt()};await pr(Ot(c),h)},QL=async(r,e,n,s,o,c,h)=>{const m=cn(Ge,"users",r,"history"),g={type:"SALE",crateId:e,crateLabel:n,quantitySold:s,estimatedValue:o,actualValue:c,createdAt:Bt()};await pr(Ot(m),g)},KL=(r,e)=>r.input.quantity*e,YL=r=>r,XL=(r,e)=>r.tool.price*e,sf=r=>{if(r.length===0)return 0;const e=r.reduce((n,s)=>n+s,0);return Math.round(e/r.length)},sg=(r,e)=>r*e,ZL=(r,e)=>{const n=new Map(e.map(s=>[s.crateId,sf(s.values)]));return r.reduce((s,o)=>{const c=n.get(o.crateId)||0;return s+sg(o.quantity,c)},0)},Td=r=>new Date>=r,fT=r=>Math.max(0,r.getTime()-Date.now()),mT=r=>{const e=Math.floor(r/36e5),n=Math.floor(r%(1e3*60*60)/(1e3*60));return e>0?`${e}h ${n}m`:`${n}m`},st=({children:r,className:e="",onClick:n})=>y.jsx("div",{className:`bg-card rounded-soft-lg shadow-soft border border-border card-hover ${e}`,onClick:n,children:r}),at=({children:r,className:e=""})=>y.jsx("div",{className:e,children:r}),Sd=[{id:"crate_zeed",label:"Zeed",icon:""},{id:"crate_pandoxine",label:"Pandoxine",icon:""},{id:"crate_krakenine",label:"Krakenine",icon:""},{id:"crate_psylocybine",label:"Psylocybine",icon:""}],JL=()=>{const{user:r}=Aa(),{currentSpace:e}=cT(),[n,s]=j.useState([]),[o,c]=j.useState([]),[h,m]=j.useState([]),[g,p]=j.useState([]),[x,T]=j.useState([]),A=hg(),[,M]=j.useState(0);j.useEffect(()=>{if(!r)return;const k=uT(r.uid,s),I=y0(r.uid,c),L=hT(r.uid,m),V=dT(r.uid,T);return()=>{k(),I(),L(),V()}},[r]),j.useEffect(()=>{(async()=>{const I=await rf();p(I)})()},[]),j.useEffect(()=>{const k=setInterval(()=>{M(Date.now())},1e3);return()=>clearInterval(k)},[]);const B=ZL(n,o),$=h.filter(k=>k.status==="RUNNING"),Q=h.filter(k=>k.status==="DONE"?!1:Td(k.endsAt.toDate())),se=new Map(o.map(k=>[k.crateId,sf(k.values)])),ne=k=>n.find(I=>I.crateId===k),oe=k=>g.find(I=>I.id===k.transformationId),G=h.filter(k=>k.status==="RUNNING"&&!Td(k.endsAt.toDate())),le=new Date;le.setDate(le.getDate()-7);const ae=x.filter(k=>{if(k.type!=="SALE")return!1;const I=k.createdAt?.toDate();return I&&I>=le}),R=ae.reduce((k,I)=>I.type!=="SALE"?k:k+I.actualValue,0),C=ae.reduce((k,I)=>I.type!=="SALE"?k:k+I.quantitySold,0);return e==="malandrinerie"?y.jsxs("div",{className:"space-y-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-text",children:"Dashboard - Malandrinerie"}),y.jsx(st,{children:y.jsxs(at,{className:"p-8 text-center",children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsx("h2",{className:"text-xl font-semibold text-text mb-2",children:"Espace Malandrinerie"}),y.jsx("p",{className:"text-text-muted mb-4",children:"Cet espace est en cours de dveloppement. Les fonctionnalits (Dashboard, Calculettes, Commandes) seront bientt disponibles !"}),y.jsx("div",{className:"inline-block px-4 py-2 bg-peach-light rounded-soft text-peach-dark text-sm",children:" venir prochainement"})]})})]}):y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold text-text",children:"Dashboard - Drogue"}),y.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"text-text-muted",children:"Valeur:"}),y.jsxs("span",{className:"font-bold text-mint-dark",children:[B.toLocaleString()," $"]})]}),y.jsx("div",{className:"w-px h-4 bg-border"}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"text-text-muted",children:"Actives:"}),y.jsx("span",{className:"font-semibold text-mint",children:$.length})]}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"text-text-muted",children:"Prtes:"}),y.jsx("span",{className:"font-semibold text-mint-dark",children:Q.length})]})]})]}),Q.length>0&&y.jsx("div",{className:"bg-mint-light border border-mint rounded-soft px-3 py-2 cursor-pointer hover:bg-mint/30 transition-colors",onClick:()=>A("/timers"),children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-lg",children:""}),y.jsxs("span",{className:"text-sm font-semibold text-mint-dark",children:[Q.length," transformation",Q.length>1?"s":""," prte",Q.length>1?"s":"","  rcolter"]})]})}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[y.jsx(st,{className:"md:col-span-2",children:y.jsxs(at,{className:"p-3",children:[y.jsx("h2",{className:"text-sm font-semibold text-text mb-2",children:"Stocks"}),y.jsx("div",{className:"space-y-1.5",children:Sd.map(k=>{const L=ne(k.id)?.quantity||0,V=se.get(k.id)||0,N=L*V;return y.jsxs("div",{className:"flex items-center justify-between py-2 px-2 rounded hover:bg-surface transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[y.jsx("span",{className:"text-xl",children:k.icon}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-semibold text-text",children:k.label}),y.jsxs("div",{className:"text-xs text-text-muted",children:[L," ",L>1?"caisses":"caisse"]})]})]}),y.jsx("div",{className:"text-right",children:V>0?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-base font-bold text-peach",children:[N.toLocaleString()," $"]}),y.jsxs("div",{className:"text-xs text-text-muted",children:[V.toLocaleString()," $ / u"]})]}):y.jsx("div",{className:"text-xs text-text-muted",children:"Prix non dfini"})})]},k.id)})})]})}),y.jsx(st,{children:y.jsxs(at,{className:"p-3",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsx("h2",{className:"text-sm font-semibold text-text",children:"7 derniers jours"}),y.jsx("button",{onClick:()=>A("/history"),className:"text-xs text-peach hover:text-peach-dark transition-colors",children:"Historique "})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"p-3 bg-peach-light rounded-soft border border-peach/30",children:[y.jsx("div",{className:"text-xs text-text-muted mb-1",children:"Revenus"}),y.jsxs("div",{className:"text-xl font-bold text-peach",children:[R.toLocaleString()," $"]})]}),y.jsxs("div",{className:"p-3 bg-lavender-light rounded-soft border border-lavender/30",children:[y.jsx("div",{className:"text-xs text-text-muted mb-1",children:"Ventes"}),y.jsxs("div",{className:"flex items-baseline gap-2",children:[y.jsx("div",{className:"text-xl font-bold text-lavender-dark",children:ae.length}),y.jsxs("div",{className:"text-sm text-text-muted",children:["vente",ae.length>1?"s":""]})]}),y.jsxs("div",{className:"text-xs text-text-muted mt-1",children:[C," caisse",C>1?"s":""]})]})]})]})})]}),G.length>0&&y.jsx(st,{children:y.jsxs(at,{className:"p-3",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("h2",{className:"text-sm font-semibold text-text",children:"En cours"}),y.jsx("button",{onClick:()=>A("/timers"),className:"text-xs text-lavender hover:text-lavender-dark transition-colors",children:"Voir tout "})]}),y.jsx("div",{className:"space-y-2",children:G.slice(0,3).map(k=>{const I=oe(k),L=fT(k.endsAt.toDate()),V=k.durationHours*60*60*1e3,N=Math.max(0,Math.min(100,(V-L)/V*100));return y.jsxs("div",{className:"bg-surface rounded-soft p-2",children:[y.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm font-medium text-text",children:I?.name}),k.reducedByAction&&y.jsx("span",{className:"text-xs",children:""})]}),y.jsx("span",{className:"text-xs font-semibold text-lavender",children:mT(L)})]}),y.jsx("div",{className:"w-full bg-border rounded-full h-1.5 overflow-hidden",children:y.jsx("div",{className:"h-full bg-linear-to-r from-lavender to-peach transition-all duration-1000",style:{width:`${N}%`}})})]},k.id)})})]})})]})};var e3=j.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),Ft=function(e,n,s){var o=s.get(e);return o?o(n):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function qE(r,e){if(r==null)return{};var n={},s=Object.keys(r),o,c;for(c=0;c<s.length;c++)o=s[c],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}var Vt=j.forwardRef(function(r,e){var n=r.alt,s=r.color,o=r.size,c=r.weight,h=r.mirrored,m=r.children,g=r.renderPath,p=qE(r,["alt","color","size","weight","mirrored","children","renderPath"]),x=j.useContext(e3),T=x.color,A=T===void 0?"currentColor":T,M=x.size,B=x.weight,$=B===void 0?"regular":B,Q=x.mirrored,se=Q===void 0?!1:Q,ne=qE(x,["color","size","weight","mirrored"]);return _.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o??M,height:o??M,fill:s??A,viewBox:"0 0 256 256",transform:h||se?"scale(-1, 1)":void 0},ne,p),!!n&&_.createElement("title",null,n),m,_.createElement("rect",{width:"256",height:"256",fill:"none"}),g(c??$,s??A))});Vt.displayName="IconBase";var wa=new Map;wa.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});wa.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44Z",opacity:"0.2"}),_.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});wa.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M224,216a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H88V140H84A68.1,68.1,0,0,1,16,72a28,28,0,0,1,56,0A12,12,0,0,0,84,84h4V56a40,40,0,0,1,80,0v68h4a12,12,0,0,0,12-12,28,28,0,0,1,56,0,68.1,68.1,0,0,1-68,68h-4v28h48A8,8,0,0,1,224,216Z"}))});wa.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});wa.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});wa.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var t3=function(e,n){return Ft(e,n,wa)},pT=j.forwardRef(function(r,e){return _.createElement(Vt,Object.assign({ref:e},r,{renderPath:t3}))});pT.displayName="Cactus";var ka=new Map;ka.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"92",y1:"76",x2:"164",y2:"76",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("circle",{cx:"104",cy:"128",r:"16"}),_.createElement("circle",{cx:"152",cy:"128",r:"16"}),_.createElement("circle",{cx:"104",cy:"176",r:"16"}),_.createElement("circle",{cx:"152",cy:"176",r:"16"}))});ka.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("rect",{x:"80",y:"64",width:"96",height:"48",opacity:"0.2"}),_.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256 0) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"88",cy:"148",r:"12"}),_.createElement("circle",{cx:"128",cy:"148",r:"12"}),_.createElement("circle",{cx:"168",cy:"148",r:"12"}),_.createElement("circle",{cx:"88",cy:"188",r:"12"}),_.createElement("circle",{cx:"128",cy:"188",r:"12"}),_.createElement("circle",{cx:"168",cy:"188",r:"12"}))});ka.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M200,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24ZM88,200a12,12,0,1,1,12-12A12,12,0,0,1,88,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,88,160Zm40,40a12,12,0,1,1,12-12A12,12,0,0,1,128,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,128,160Zm40,40a12,12,0,1,1,12-12A12,12,0,0,1,168,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,168,160Zm16-56a8,8,0,0,1-8,8H80a8,8,0,0,1-8-8V64a8,8,0,0,1,8-8h96a8,8,0,0,1,8,8Z"}))});ka.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("circle",{cx:"88",cy:"148",r:"10"}),_.createElement("circle",{cx:"128",cy:"148",r:"10"}),_.createElement("circle",{cx:"168",cy:"148",r:"10"}),_.createElement("circle",{cx:"88",cy:"188",r:"10"}),_.createElement("circle",{cx:"128",cy:"188",r:"10"}),_.createElement("circle",{cx:"168",cy:"188",r:"10"}))});ka.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("circle",{cx:"88",cy:"148",r:"8"}),_.createElement("circle",{cx:"128",cy:"148",r:"8"}),_.createElement("circle",{cx:"168",cy:"148",r:"8"}),_.createElement("circle",{cx:"88",cy:"188",r:"8"}),_.createElement("circle",{cx:"128",cy:"188",r:"8"}),_.createElement("circle",{cx:"168",cy:"188",r:"8"}))});ka.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"88",cy:"148",r:"12"}),_.createElement("circle",{cx:"128",cy:"148",r:"12"}),_.createElement("circle",{cx:"168",cy:"148",r:"12"}),_.createElement("circle",{cx:"88",cy:"188",r:"12"}),_.createElement("circle",{cx:"128",cy:"188",r:"12"}),_.createElement("circle",{cx:"168",cy:"188",r:"12"}))});var n3=function(e,n){return Ft(e,n,ka)},gT=j.forwardRef(function(r,e){return _.createElement(Vt,Object.assign({ref:e},r,{renderPath:n3}))});gT.displayName="Calculator";var Ra=new Map;Ra.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ra.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("rect",{x:"156",y:"40",width:"56",height:"168",opacity:"0.2"}),_.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ra.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M228,200h-8V40a8,8,0,0,0-8-8H156a8,8,0,0,0-8,8V80H100a8,8,0,0,0-8,8v40H44a8,8,0,0,0-8,8v64H28a8,8,0,0,0,0,16H228a8,8,0,0,0,0-16ZM108,96h40V200H108ZM52,144H92v56H52Z"}))});Ra.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ra.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ra.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var r3=function(e,n){return Ft(e,n,Ra)},ag=j.forwardRef(function(r,e){return _.createElement(Vt,Object.assign({ref:e},r,{renderPath:r3}))});ag.displayName="ChartBar";var Ca=new Map;Ca.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"216 72 104 184 48 128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ca.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"216 72 104 184 48 128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ca.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M104,192a8.5,8.5,0,0,1-5.7-2.3l-56-56a8.1,8.1,0,0,1,11.4-11.4L104,172.7,210.3,66.3a8.1,8.1,0,0,1,11.4,11.4l-112,112A8.5,8.5,0,0,1,104,192Z"}))});Ca.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"216 72 104 184 48 128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ca.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"216 72 104 184 48 128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ca.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"216 72 104 184 48 128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var i3=function(e,n){return Ft(e,n,Ca)},yT=j.forwardRef(function(r,e){return _.createElement(Vt,Object.assign({ref:e},r,{renderPath:i3}))});yT.displayName="Check";var Ia=new Map;Ia.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ia.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),_.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ia.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm49.5,85.8-58.6,56a8.1,8.1,0,0,1-5.6,2.2,7.7,7.7,0,0,1-5.5-2.2l-29.3-28a8,8,0,1,1,11-11.6l23.8,22.7,53.2-50.7a8,8,0,0,1,11,11.6Z"}))});Ia.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ia.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ia.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var s3=function(e,n){return Ft(e,n,Ia)},vT=j.forwardRef(function(r,e){return _.createElement(Vt,Object.assign({ref:e},r,{renderPath:s3}))});vT.displayName="CheckCircle";var Na=new Map;Na.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Na.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"88",opacity:"0.2"}),_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Na.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M136,80v43.4l37.6,21.7a8,8,0,0,1-4,14.9,7.1,7.1,0,0,1-4-1.1l-41.6-24h-.2l-.4-.2-.3-.3-.3-.2-.3-.3-.2-.2c-.2-.1-.3-.3-.4-.4l-.2-.2-.2-.4-.2-.3-.2-.3a.5.5,0,0,1-.2-.4l-.2-.3c0-.1-.1-.2-.1-.4a.4.4,0,0,1-.1-.3l-.2-.4a.4.4,0,0,0-.1-.3c0-.2,0-.3-.1-.4v-.4c0-.2-.1-.3-.1-.4V80a8,8,0,0,1,16,0Zm59.9-19.9a96.2,96.2,0,0,0-135.8,0l-8.3,8.3L37.5,54.1a8,8,0,0,0-8.7-1.8,8.2,8.2,0,0,0-5,7.4v40a8,8,0,0,0,8,8h40a8,8,0,0,0,5.7-13.6L63.1,79.7l8.3-8.3a80,80,0,1,1,0,113.2,7.9,7.9,0,0,0-11.3,0,8,8,0,0,0,0,11.3A96,96,0,0,0,195.9,60.1Z"}))});Na.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Na.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Na.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var a3=function(e,n){return Ft(e,n,Na)},_T=j.forwardRef(function(r,e){return _.createElement(Vt,Object.assign({ref:e},r,{renderPath:a3}))});_T.displayName="ClockCounterClockwise";var La=new Map;La.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});La.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});La.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M152,120H136V56h8a32.1,32.1,0,0,1,32,32,8,8,0,0,0,16,0,48,48,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40H108a48,48,0,0,0,0,96h12v64H104a32.1,32.1,0,0,1-32-32,8,8,0,0,0-16,0,48,48,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-32,0H108a32,32,0,0,1,0-64h12Zm32,80H136V136h16a32,32,0,0,1,0,64Z"}))});La.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});La.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});La.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var o3=function(e,n){return Ft(e,n,La)},ET=j.forwardRef(function(r,e){return _.createElement(Vt,Object.assign({ref:e},r,{renderPath:o3}))});ET.displayName="CurrencyDollar";var Da=new Map;Da.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Da.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M146.5,90.5l51.4-52.6a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7Z",opacity:"0.2"}),_.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Da.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M231.8,32.2a28.1,28.1,0,0,0-39.7.1L18.3,210.4a8,8,0,0,0,3.9,13.4,154.1,154.1,0,0,0,35,4c33.4,0,66.8-10.9,98.3-32.2a232,232,0,0,0,50.9-46.8,8.1,8.1,0,0,0-.7-10.5l-18.8-18.7,45-47.9A28,28,0,0,0,231.8,32.2ZM189.2,144.5a227,227,0,0,1-43.1,38.2c-34.5,23.2-70,32.6-105.8,28.1L146.6,101.9l23.3,23.3c.1.1.2.3.4.4h.1Z"}))});Da.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Da.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Da.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var l3=function(e,n){return Ft(e,n,Da)},xT=j.forwardRef(function(r,e){return _.createElement(Vt,Object.assign({ref:e},r,{renderPath:l3}))});xT.displayName="Knife";var ja=new Map;ja.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});ja.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",opacity:"0.2"}),_.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});ja.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M224,39.5a8.1,8.1,0,0,0-7.5-7.5C140.2,27.5,79.1,50.5,53,93.6a87.3,87.3,0,0,0-12.8,49.1c.6,15.9,5.2,32.1,13.8,48L154.3,90.3a8.1,8.1,0,0,1,11.4,11.4L65.3,202c15.9,8.6,32.1,13.2,48,13.8h3.3A87,87,0,0,0,162.4,203C205.5,176.9,228.5,115.8,224,39.5Z"}),_.createElement("path",{d:"M57.1,196.1c-1.1-1.8-2.1-3.6-3.1-5.4L34.3,210.3a8.1,8.1,0,0,0,0,11.4,8.2,8.2,0,0,0,11.4,0L65.3,202l-5.4-3.1A9.3,9.3,0,0,1,57.1,196.1Z"}))});ja.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});ja.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});ja.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var c3=function(e,n){return Ft(e,n,ja)},bT=j.forwardRef(function(r,e){return _.createElement(Vt,Object.assign({ref:e},r,{renderPath:c3}))});bT.displayName="Leaf";var Ma=new Map;Ma.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ma.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"116",cy:"116",r:"84",opacity:"0.2"}),_.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ma.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M176,116a60,60,0,1,1-60-60A60,60,0,0,1,176,116Zm53.6,113.7A8,8,0,0,1,224,232a8.3,8.3,0,0,1-5.7-2.3l-43.2-43.3a92.2,92.2,0,1,1,11.3-11.3l43.2,43.2A8,8,0,0,1,229.6,229.7ZM116,192a76,76,0,1,0-76-76A76.1,76.1,0,0,0,116,192Z"}))});Ma.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ma.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ma.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var u3=function(e,n){return Ft(e,n,Ma)},TT=j.forwardRef(function(r,e){return _.createElement(Vt,Object.assign({ref:e},r,{renderPath:u3}))});TT.displayName="MagnifyingGlass";var Oa=new Map;Oa.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Oa.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Oa.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M216,136H40a8,8,0,0,1,0-16H216a8,8,0,0,1,0,16Z"}))});Oa.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Oa.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Oa.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var h3=function(e,n){return Ft(e,n,Oa)},ST=j.forwardRef(function(r,e){return _.createElement(Vt,Object.assign({ref:e},r,{renderPath:h3}))});ST.displayName="Minus";var Va=new Map;Va.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Va.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M33.1,74.6A8.1,8.1,0,0,0,32,78.7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.6,7.6,0,0,0,3.9,1h0l.9-106.8L33.1,74.6Z",opacity:"0.2"}),_.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Va.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M229.9,70.8h0a.1.1,0,0,1-.1-.1,16.2,16.2,0,0,0-6-5.9l-88-49.5a16,16,0,0,0-15.6,0l-88,49.5a16.2,16.2,0,0,0-6,5.9.1.1,0,0,1-.1.1v.2A15,15,0,0,0,24,78.7v98.6a16.1,16.1,0,0,0,8.2,14l88,49.5a16.5,16.5,0,0,0,7.2,2h1.4a15.7,15.7,0,0,0,7-2l88-49.5a16.1,16.1,0,0,0,8.2-14V78.7A15.6,15.6,0,0,0,229.9,70.8ZM128,29.2,207.7,74,177.1,91.4,96.4,46.9Zm.9,89.6L48.4,74,80,56.2l80.8,44.5Zm7.2,103.5.8-89.6L169,114.4v38.1a8,8,0,0,0,16,0V105.3l31-17.6v89.6Z"}))});Va.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Va.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Va.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var d3=function(e,n){return Ft(e,n,Va)},Ad=j.forwardRef(function(r,e){return _.createElement(Vt,Object.assign({ref:e},r,{renderPath:d3}))});Ad.displayName="Package";var Pa=new Map;Pa.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Pa.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Pa.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M216,120H136V40a8,8,0,0,0-16,0v80H40a8,8,0,0,0,0,16h80v80a8,8,0,0,0,16,0V136h80a8,8,0,0,0,0-16Z"}))});Pa.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Pa.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Pa.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var f3=function(e,n){return Ft(e,n,Pa)},v0=j.forwardRef(function(r,e){return _.createElement(Vt,Object.assign({ref:e},r,{renderPath:f3}))});v0.displayName="Plus";var Ua=new Map;Ua.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"104",y1:"100",x2:"168",y2:"100",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"104",y1:"140",x2:"168",y2:"140",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ua.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M88,216a24,24,0,0,0,17.9-40h112A24,24,0,0,1,200,216Z",opacity:"0.2"}),_.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"104",x2:"168",y2:"104",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"136",x2:"168",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ua.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M223.8,170.7a7.8,7.8,0,0,0-5.9-2.7H208V64a32.1,32.1,0,0,0-32-32H40A32.1,32.1,0,0,0,8,64a31.5,31.5,0,0,0,8.2,21.3,7.9,7.9,0,0,0,11.2.7,8,8,0,0,0,.7-11.3A16,16,0,1,1,56,64V192a32.1,32.1,0,0,0,32,32H200a32.1,32.1,0,0,0,32-32A31.5,31.5,0,0,0,223.8,170.7ZM104,96h64a8,8,0,0,1,0,16H104a8,8,0,0,1,0-16Zm-8,40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H104A8,8,0,0,1,96,136Zm104,72H115.7a32.2,32.2,0,0,0,4.3-16,30.8,30.8,0,0,0-1-8h94.9A16.1,16.1,0,0,1,200,208Z"}))});Ua.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"104",y1:"104",x2:"168",y2:"104",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"104",y1:"136",x2:"168",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ua.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"104",y1:"104",x2:"168",y2:"104",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"104",y1:"136",x2:"168",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ua.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"104",x2:"168",y2:"104",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"136",x2:"168",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var m3=function(e,n){return Ft(e,n,Ua)},_0=j.forwardRef(function(r,e){return _.createElement(Vt,Object.assign({ref:e},r,{renderPath:m3}))});_0.displayName="Scroll";var za=new Map;za.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});za.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48Z",opacity:"0.2"}),_.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});za.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M223.9,65.4l-12.2,66.9A24,24,0,0,1,188.1,152H72.1l4.4,24H184a24,24,0,1,1-24,24,23.6,23.6,0,0,1,1.4-8H102.6a23.6,23.6,0,0,1,1.4,8,24,24,0,1,1-42.2-15.6L34.1,32H16a8,8,0,0,1,0-16H34.1A16,16,0,0,1,49.8,29.1L54.7,56H216a7.9,7.9,0,0,1,6.1,2.9A7.7,7.7,0,0,1,223.9,65.4Z"}))});za.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});za.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});za.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var p3=function(e,n){return Ft(e,n,za)},E0=j.forwardRef(function(r,e){return _.createElement(Vt,Object.assign({ref:e},r,{renderPath:p3}))});E0.displayName="ShoppingCart";var Ba=new Map;Ba.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ba.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ba.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M221.7,133.7l-42,42A8.3,8.3,0,0,1,174,178a7.7,7.7,0,0,1-3-.6,8,8,0,0,1-5-7.4V136H104a8,8,0,0,1,0-16h62V86a8,8,0,0,1,5-7.4,8.2,8.2,0,0,1,8.7,1.7l42,42A8.1,8.1,0,0,1,221.7,133.7ZM104,208H48V48h56a8,8,0,0,0,0-16H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16h56a8,8,0,0,0,0-16Z"}))});Ba.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ba.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ba.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var g3=function(e,n){return Ft(e,n,Ba)},AT=j.forwardRef(function(r,e){return _.createElement(Vt,Object.assign({ref:e},r,{renderPath:g3}))});AT.displayName="SignOut";var Ha=new Map;Ha.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"140",r:"88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"128",y1:"140",x2:"161.9",y2:"106.1",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"104",y1:"12",x2:"152",y2:"12",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ha.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"88",opacity:"0.2"}),_.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),_.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ha.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M104,16h48a8,8,0,0,0,0-16H104a8,8,0,0,0,0,16Z"}),_.createElement("path",{d:"M128,32a96,96,0,1,0,96,96A96.2,96.2,0,0,0,128,32Zm45.3,62.1-39.6,39.6a8.2,8.2,0,0,1-11.4,0,8.1,8.1,0,0,1,0-11.4l39.6-39.6a8.1,8.1,0,1,1,11.4,11.4Z"}))});Ha.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ha.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ha.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),_.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var y3=function(e,n){return Ft(e,n,Ha)},wT=j.forwardRef(function(r,e){return _.createElement(Vt,Object.assign({ref:e},r,{renderPath:y3}))});wT.displayName="Timer";var Fa=new Map;Fa.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"216",y1:"60",x2:"40",y2:"60",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M200,60V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V60",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M168,60V36a16,16,0,0,0-16-16H104A16,16,0,0,0,88,36V60",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Fa.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z",opacity:"0.2"}),_.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Fa.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M216,48H176V40a24.1,24.1,0,0,0-24-24H104A24.1,24.1,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"}))});Fa.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Fa.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Fa.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var v3=function(e,n){return Ft(e,n,Fa)},kT=j.forwardRef(function(r,e){return _.createElement(Vt,Object.assign({ref:e},r,{renderPath:v3}))});kT.displayName="Trash";var qa=new Map;qa.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("circle",{cx:"128",cy:"172",r:"16"}))});qa.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"128",cy:"172",r:"12"}))});qa.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm-8,56a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm8,104a12,12,0,1,1,12-12A12,12,0,0,1,128,184Z"}))});qa.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("circle",{cx:"128",cy:"172",r:"10"}))});qa.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("circle",{cx:"128",cy:"172",r:"8"}))});qa.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"128",cy:"172",r:"12"}))});var _3=function(e,n){return Ft(e,n,qa)},RT=j.forwardRef(function(r,e){return _.createElement(Vt,Object.assign({ref:e},r,{renderPath:_3}))});RT.displayName="WarningCircle";const E3=({children:r})=>{const e=Ci(),{currentSpace:n,setCurrentSpace:s}=cT(),o=async()=>{await OL()},m=n==="naturopathie"?[{path:"/",label:"Dashboard",Icon:ag},{path:"/stocks",label:"Stocks",Icon:Ad},{path:"/prices",label:"Prix",Icon:ET},{path:"/calculator",label:"Calculateur",Icon:gT},{path:"/timers",label:"Transformations",Icon:wT},{path:"/history",label:"Historique",Icon:_T}]:[{path:"/",label:"Dashboard",Icon:ag},{path:"/malandrinerie/stocks",label:"Stocks",Icon:Ad},{path:"/malandrinerie/recipes",label:"Recettes",Icon:_0},{path:"/malandrinerie/orders",label:"Commandes",Icon:E0}],g=p=>e.pathname===p;return y.jsxs("div",{className:"min-h-screen flex flex-col",children:[y.jsx("header",{className:"bg-card sticky top-0 z-10 border-b border-border shadow-soft",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[y.jsxs("h1",{className:"text-2xl font-bold text-peach flex gap-2 items-center",children:[y.jsx(pT,{size:24,weight:"duotone"}),"Brewsy"]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("div",{className:"flex items-center gap-2 bg-surface rounded-soft p-1 shadow-sm border border-border",children:[y.jsxs("button",{onClick:()=>s("naturopathie"),className:`flex items-center gap-2 px-3 py-2 rounded-soft transition-all ${n==="naturopathie"?"bg-mint text-white font-semibold shadow-soft":"text-text-muted hover:text-text hover:bg-card"}`,title:"Espace Drogue",children:[y.jsx(bT,{size:20,weight:n==="naturopathie"?"fill":"duotone"}),y.jsx("span",{className:"hidden sm:inline",children:"Drogue"})]}),y.jsxs("button",{onClick:()=>s("malandrinerie"),className:`flex items-center gap-2 px-3 py-2 rounded-soft transition-all ${n==="malandrinerie"?"bg-peach text-white font-semibold shadow-soft":"text-text-muted hover:text-text hover:bg-card"}`,title:"Espace Malandrinerie",children:[y.jsx(xT,{size:20,weight:n==="malandrinerie"?"fill":"duotone"}),y.jsx("span",{className:"hidden sm:inline",children:"Malandrinerie"})]})]}),y.jsx("button",{onClick:o,className:"p-2 rounded-soft hover:bg-surface transition-colors text-text-secondary",title:"Dconnexion",children:y.jsx(AT,{size:24,weight:"duotone"})})]})]})}),y.jsxs("div",{className:"flex-1 flex",children:[y.jsx("nav",{className:"w-64 glass-strong p-4 hidden md:block border-r border-border shadow-glass",children:y.jsx("ul",{className:"space-y-2",children:m.map(p=>y.jsx("li",{children:y.jsxs(td,{to:p.path,className:`flex items-center gap-3 px-4 py-3 rounded-soft transition-colors ${g(p.path)?"bg-sky text-peach-dark font-semibold shadow-glass":"text-text-muted hover:glass"}`,children:[y.jsx(p.Icon,{size:24,weight:g(p.path)?"fill":"duotone"}),y.jsx("span",{children:p.label})]})},p.path))})}),y.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-y-auto",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:r})})]}),y.jsx("nav",{className:"md:hidden glass-strong sticky bottom-0 border-t border-border shadow-glass",children:y.jsx("ul",{className:"flex justify-around py-2",children:m.map(p=>y.jsx("li",{children:y.jsxs(td,{to:p.path,className:`flex flex-col items-center gap-1 px-3 py-2 rounded-soft transition-colors ${g(p.path)?"text-sky font-semibold":"text-text-muted"}`,children:[y.jsx(p.Icon,{size:24,weight:g(p.path)?"fill":"duotone"}),y.jsx("span",{className:"text-xs",children:p.label})]})},p.path))})})]})},$t=({children:r,variant:e="primary",size:n="md",className:s="",...o})=>{const c="font-semibold rounded-soft transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",h={primary:"bg-gradient-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark text-white shadow-soft",secondary:"bg-surface hover:bg-surface-hover text-text border border-border",outline:"border-2 border-peach text-peach hover:bg-peach-light",danger:"bg-peach hover:bg-peach-dark text-white shadow-soft"},m={sm:"py-1.5 px-3 text-sm",md:"py-2 px-4",lg:"py-3 px-6 text-lg"};return y.jsx("button",{className:`${c} ${h[e]} ${m[n]} ${s}`,...o,children:r})},x3=()=>{const{user:r}=Aa(),[e,n]=j.useState([]),[s,o]=j.useState([]),[c,h]=j.useState(null),[m,g]=j.useState("1"),[p,x]=j.useState("0"),[T,A]=j.useState({});j.useEffect(()=>{if(!r)return;const G=uT(r.uid,n),le=y0(r.uid,o);return()=>{G(),le()}},[r]);const M=G=>e.find(le=>le.crateId===G),B=async(G,le,ae)=>{if(!r)return;const R=M(G),C=Math.max(0,(R?.quantity||0)+ae);await Cp(r.uid,G,C,le)},$=async(G,le,ae)=>{r&&await Cp(r.uid,G,Math.max(0,ae),le)},Q=G=>{const ae=M(G)?.quantity||0;h(G),g(String(ae));const R=ne.get(G)||0;x(String(R*ae))},se=async(G,le)=>{const ae=parseInt(m)||0,R=parseInt(p)||0;if(!r||ae<=0||R<0)return;const C=M(G);if(!C||C.quantity<ae){alert("Stock insuffisant");return}const I=(ne.get(G)||0)*ae;try{await QL(r.uid,G,le,ae,I,R,void 0),await Cp(r.uid,G,C.quantity-ae,le),h(null),g("1"),x("0")}catch(L){console.error("Erreur lors de la vente:",L),alert("Erreur lors de l'enregistrement de la vente")}},ne=new Map(s.map(G=>[G.crateId,sf(G.values)])),oe=Sd.reduce((G,le)=>{const ae=M(le.id),R=ne.get(le.id)||0;return G+sg(ae?.quantity||0,R)},0);return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Stocks"}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-sm text-dark-600 dark:text-dark-400",children:"Valeur totale"}),y.jsxs("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:[oe.toLocaleString()," $"]})]})]}),y.jsx("div",{className:"grid grid-cols-1 gap-3",children:Sd.map(G=>{const ae=M(G.id)?.quantity||0,R=ne.get(G.id)||0,C=sg(ae,R);return y.jsx(st,{children:y.jsxs(at,{className:"p-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[y.jsx("span",{className:"text-3xl",children:G.icon}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-dark-800 dark:text-dark-100",children:G.label}),R>0&&y.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[R.toLocaleString()," $ / caisse"]})]})]}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("button",{onClick:()=>B(G.id,G.label,-10),className:"w-9 h-9 rounded-soft bg-peach-light hover:bg-peach transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"-10",children:"--"}),y.jsx("button",{onClick:()=>B(G.id,G.label,-1),className:"w-9 h-9 rounded-soft bg-lavender-light hover:bg-lavender transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"-1",children:"-"}),y.jsx("input",{type:"number",value:T[G.id]!==void 0?T[G.id]:ae,onChange:k=>{const I=k.target.value;A(L=>({...L,[G.id]:I}))},onBlur:()=>{const k=T[G.id];k!==void 0&&($(G.id,G.label,parseInt(k)||0),A(I=>{const L={...I};return delete L[G.id],L}))},onKeyDown:k=>{k.key==="Enter"&&k.currentTarget.blur()},className:"w-20 text-center px-3 py-2 rounded-soft border border-border bg-card text-text font-semibold shadow-sm focus:ring-2 focus:ring-peach/30 focus:border-peach outline-none transition-all"}),y.jsx("button",{onClick:()=>B(G.id,G.label,1),className:"w-9 h-9 rounded-soft bg-sage-light hover:bg-sage transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"+1",children:"+"}),y.jsx("button",{onClick:()=>B(G.id,G.label,10),className:"w-9 h-9 rounded-soft bg-butter-light hover:bg-butter transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"+10",children:"++"})]}),y.jsx("div",{className:"text-right min-w-[100px]",children:y.jsxs("div",{className:"text-lg font-bold text-peach-600 dark:text-peach-400",children:[C.toLocaleString()," $"]})}),y.jsx($t,{size:"sm",variant:"secondary",onClick:()=>Q(G.id),disabled:ae===0,children:" Vendre"})]}),c===G.id&&y.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:y.jsxs("div",{className:"flex items-end gap-2",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Quantit"}),y.jsx("input",{type:"number",min:"1",max:ae,value:m,onChange:k=>{const I=k.target.value;g(I);const L=parseInt(I)||0;L>0&&x(String(R*L))},className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Prix total rcolt"}),y.jsx("input",{type:"number",min:"0",value:p,onChange:k=>x(k.target.value),className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),y.jsx($t,{size:"sm",variant:"secondary",onClick:()=>h(null),children:""}),y.jsx($t,{size:"sm",onClick:()=>se(G.id,G.label),children:" Vendre"})]})})]})},G.id)})})]})},b3=()=>{const{user:r}=Aa(),[e,n]=j.useState([]),[s,o]=j.useState({});j.useEffect(()=>r?y0(r.uid,n):void 0,[r]);const c=p=>e.find(x=>x.crateId===p),h=async p=>{if(!r)return;const x=s[p],T=parseInt(x);!T||T<=0||(await HL(r.uid,p,T),o({...s,[p]:""}))},m=async(p,x)=>{r&&await FL(r.uid,p,x)},g=(p,x)=>{p.key==="Enter"&&h(x)};return y.jsxs("div",{className:"space-y-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Prix moyens"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Sd.map(p=>{const x=c(p.id),T=x?sf(x.values):0,A=x?Math.min(...x.values):0,M=x?Math.max(...x.values):0,B=x?.values.length||0;return y.jsx(st,{children:y.jsxs(at,{className:"p-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-2xl",children:p.icon}),y.jsx("h3",{className:"font-semibold text-dark-800 dark:text-dark-100",children:p.label})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-xl font-bold text-peach-600 dark:text-peach-400",children:T>0?`${T.toLocaleString()} $`:""}),y.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[B," prix"]})]})]}),B>0&&y.jsxs("div",{className:"flex gap-4 text-xs mb-3 py-2 px-3 bg-butter-50 dark:bg-dark-700 rounded",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-dark-500 dark:text-dark-500",children:"Min:"}),y.jsxs("span",{className:"ml-1 font-semibold text-sage-600 dark:text-sage-400",children:[A.toLocaleString()," $"]})]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-dark-500 dark:text-dark-500",children:"Max:"}),y.jsxs("span",{className:"ml-1 font-semibold text-lavender-600 dark:text-lavender-400",children:[M.toLocaleString()," $"]})]})]}),y.jsxs("div",{className:"flex gap-2 mb-3",children:[y.jsx("input",{type:"number",placeholder:"Nouveau prix",value:s[p.id]||"",onChange:$=>o({...s,[p.id]:$.target.value}),onKeyPress:$=>g($,p.id),className:"flex-1 px-3 py-1.5 text-sm rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"}),y.jsx("button",{onClick:()=>h(p.id),className:"px-4 py-1.5 text-sm font-semibold rounded-soft bg-linear-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark text-white transition-all shadow-sm hover:shadow-soft",children:"+"})]}),x&&x.values.length>0&&y.jsxs("div",{className:"space-y-1",children:[x.values.slice(0,3).map(($,Q)=>y.jsxs("div",{className:"flex items-center justify-between py-1 px-2 text-sm   rounded border border-peach/20 bg-peach/20 dark:border-dark-600",children:[y.jsxs("span",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[$.toLocaleString()," $"]}),y.jsx("button",{onClick:()=>m(p.id,Q),className:"text-xs px-2 py-0.5 rounded 0 text-dark  dark:hover:bg-red-900/50 transition-colors",children:""})]},Q)),x.values.length>3&&y.jsxs("div",{className:"text-xs text-center text-dark-500 dark:text-dark-500 py-1",children:["+",x.values.length-3," autre(s)"]})]})]})},p.id)})})]})},CT=({label:r,children:e,className:n="",...s})=>y.jsxs("div",{className:"w-full",children:[r&&y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:r}),y.jsx("select",{className:`w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all ${n}`,...s,children:e})]}),IT=j.forwardRef(({label:r,error:e,className:n="",...s},o)=>y.jsxs("div",{className:"w-full",children:[r&&y.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-200 mb-1",children:r}),y.jsx("input",{ref:o,className:`w-full px-4 py-2 rounded-input border ${e?"border-peach-dark focus:ring-peach-dark":"border-border focus:ring-peach/30"} bg-card text-text focus:outline-none focus:ring-2 focus:border-peach shadow-sm transition-all ${n}`,...s}),e&&y.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:e})]}));IT.displayName="Input";const T3=()=>{const[r,e]=j.useState([]),[n,s]=j.useState(null),[o,c]=j.useState("1");j.useEffect(()=>{h()},[]);const h=async()=>{const A=await rf();e(A),A.length>0&&s(A[0])},m=A=>{const M=r.find(B=>B.id===A);s(M||null)},g=parseInt(o)||1,p=n?KL(n,g):0,x=YL(g),T=n?XL(n,g):0;return y.jsxs("div",{className:"space-y-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Calculateur"}),y.jsx(st,{children:y.jsx(at,{className:"p-4",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[y.jsx(CT,{label:"Transformation",value:n?.id||"",onChange:A=>m(A.target.value),children:r.length===0?y.jsx("option",{children:"Chargement..."}):r.map(A=>y.jsxs("option",{value:A.id,children:[A.name," (",A.durationHours,"h)"]},A.id))}),y.jsx(IT,{label:"Nombre",type:"number",min:"1",value:o,onChange:A=>c(A.target.value)})]})})}),n&&y.jsx(st,{children:y.jsxs(at,{className:"p-4",children:[y.jsx("h2",{className:"font-semibold text-dark-800 dark:text-dark-100 mb-3",children:n.name}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[y.jsxs("div",{className:"p-2 bg-butter-50 dark:bg-dark-700 rounded",children:[y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Matriau"}),y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.input.quantity," ",n.input.materialName]})]}),y.jsxs("div",{className:"p-2 bg-lavender-50 dark:bg-dark-700 rounded",children:[y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Outil"}),y.jsx("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:n.tool.name})]}),y.jsxs("div",{className:"p-2 bg-sage-50 dark:bg-dark-700 rounded",children:[y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Dure"}),y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.durationHours,"h",y.jsx("span",{className:"text-xs text-dark-400 dark:text-dark-600",children:" (-1h si )"})]})]}),y.jsxs("div",{className:"p-2 bg-sky-50 dark:bg-dark-700 rounded",children:[y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Caisse"}),y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.crate.quantityPerCrate," /caisse"]})]})]})]})}),y.jsx(st,{children:y.jsxs(at,{className:"p-4",children:[y.jsxs("h2",{className:"font-semibold text-dark-800 dark:text-dark-100 mb-3",children:["Pour ",g," transformation",g>1?"s":""]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[y.jsxs("div",{className:"p-3 bg-gradient-to-br from-peach-50 to-butter-50 dark:from-peach-900/20 dark:to-butter-900/20 rounded-cozy",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Matriaux ncessaires"}),y.jsx("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:p}),y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:n?.input.materialName})]}),y.jsxs("div",{className:"p-3 bg-gradient-to-br from-lavender-50 to-sage-50 dark:from-lavender-900/20 dark:to-sage-900/20 rounded-cozy",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Outils requis"}),y.jsx("div",{className:"text-2xl font-bold text-lavender-600 dark:text-lavender-400",children:x}),y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:n?.tool.name})]}),n&&n.tool.price>0&&y.jsxs("div",{className:"p-3 bg-gradient-to-br from-sky-50 to-lavender-50 dark:from-sky-900/20 dark:to-lavender-900/20 rounded-cozy",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Cot total"}),y.jsxs("div",{className:"text-2xl font-bold text-sky-600 dark:text-sky-400",children:[T.toLocaleString()," $"]}),y.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[n.tool.price.toLocaleString()," $  ",x]})]})]})]})})]})},S3=({isOpen:r,onClose:e,title:n,children:s,actions:o})=>r?y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-dark-900/50 backdrop-blur-sm",onClick:e,children:y.jsxs("div",{className:"bg-card rounded-soft-lg shadow-soft-lg border border-border max-w-md w-full overflow-hidden",onClick:c=>c.stopPropagation(),children:[y.jsxs("div",{className:"px-6 py-4 border-b border-border flex items-center justify-between",children:[y.jsx("h2",{className:"text-lg font-semibold text-text",children:n}),y.jsx("button",{onClick:e,className:"w-8 h-8 rounded-soft flex items-center justify-center hover:bg-surface transition-colors text-text-muted hover:text-text",children:""})]}),y.jsx("div",{className:"px-6 py-4 text-text-secondary",children:s}),o&&y.jsx("div",{className:"px-6 py-4 border-t border-border flex items-center justify-end gap-2",children:o})]})}):null,A3=()=>{const{user:r}=Aa(),[e,n]=j.useState([]),[s,o]=j.useState([]),[c,h]=j.useState(null),[m,g]=j.useState(!1),[p,x]=j.useState(""),[T,A]=j.useState("1"),[M,B]=j.useState(""),[$,Q]=j.useState(""),[se,ne]=j.useState(!1),[oe,G]=j.useState(null),[,le]=j.useState(Date.now());j.useEffect(()=>{ae()},[]),j.useEffect(()=>r?hT(r.uid,o):void 0,[r]),j.useEffect(()=>{const z=setInterval(()=>{le(Date.now())},1e3);return()=>clearInterval(z)},[]);const ae=async()=>{const[z,ue]=await Promise.all([rf(),BL()]);n(z),h(ue),z.length>0&&x(z[0].id)},R=async()=>{if(!r||!p)return;const z=e.find(Ie=>Ie.id===p);if(!z)return;let ue;M&&$?ue=new Date(`${M}T${$}`):M&&(ue=new Date(M)),await qL(r.uid,p,parseInt(T)||1,z.durationHours,ue),A("1"),B(""),Q(""),g(!1)},C=async z=>{!r||!z||await WL(r.uid,z,c?.rules.timeReductionHours)},k=async z=>{!r||!z.id||(await GL(r.uid,z.id,"DONE"),await $L(r.uid,z.transformationId,z.startedAt,z.endsAt,z.reducedByAction))},I=async z=>{r&&await FE(r.uid,z)},L=z=>{G(z),ne(!0)},V=async()=>{!r||!oe||(await FE(r.uid,oe),ne(!1),G(null))},N=z=>e.find(ue=>ue.id===z.transformationId),Ne=s.filter(z=>z.status==="RUNNING"&&!Td(z.endsAt.toDate())),Ze=s.filter(z=>z.status!=="DONE"&&Td(z.endsAt.toDate())),Y=s.filter(z=>z.status==="DONE");return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Transformations"}),y.jsx($t,{onClick:()=>g(!m),size:"sm",children:m?"":"+ Nouveau"})]}),m&&y.jsx(st,{children:y.jsxs(at,{className:"p-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[y.jsx(CT,{label:"Type",value:p,onChange:z=>x(z.target.value),children:e.map(z=>y.jsxs("option",{value:z.id,children:[z.name," (",z.durationHours,"h)"]},z.id))}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Productions places"}),y.jsx("input",{type:"number",min:"1",value:T,onChange:z=>A(z.target.value),className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:" Date de dbut (optionnel)"}),y.jsx("input",{type:"date",value:M,onChange:z=>B(z.target.value),className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-lavender/30 focus:border-lavender transition-all hover:border-lavender/50",style:{colorScheme:"light dark"}})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:" Heure de dbut (optionnel)"}),y.jsx("input",{type:"time",value:$,onChange:z=>Q(z.target.value),className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-lavender/30 focus:border-lavender transition-all hover:border-lavender/50",style:{colorScheme:"light dark"}})]})]}),M&&y.jsxs("div",{className:"mb-3 p-2 bg-lavender-light rounded-soft text-xs text-text-muted",children:[" Si vide, dmarre maintenant. Sinon, dmarre le ",M," ",$&&` ${$}`]}),y.jsx($t,{onClick:R,className:"w-full",children:" Dmarrer"})]})}),Ze.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsxs("h2",{className:"text-lg font-semibold text-sage-600 dark:text-sage-400",children:[" Prtes (",Ze.length,")"]}),Ze.map(z=>{const ue=N(z);return y.jsx(st,{className:"border-2 border-sage-400 dark:border-sage-600",children:y.jsx(at,{className:"p-3",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[ue?.name,z.reducedByAction&&y.jsx("span",{className:"ml-2 text-xs",children:""})]}),y.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400",children:[z.inputQuantityUsed," production",z.inputQuantityUsed>1?"s":""]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx($t,{size:"sm",variant:"secondary",onClick:()=>k(z),children:"Rcolter"}),y.jsx($t,{size:"sm",variant:"danger",onClick:()=>z.id&&I(z.id),children:""})]})]})})},z.id)})]}),Ne.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsxs("h2",{className:"text-lg font-semibold text-lavender-600 dark:text-lavender-400",children:["En cours (",Ne.length,")"]}),Ne.map(z=>{const ue=N(z),Ie=fT(z.endsAt.toDate()),He=z.durationHours*60*60*1e3,P=Math.max(0,Math.min(100,(He-Ie)/He*100));return y.jsx(st,{children:y.jsxs(at,{className:"p-3",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[ue?.name,z.reducedByAction&&y.jsx("span",{className:"ml-2 text-xs",children:""})]}),y.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400",children:[z.inputQuantityUsed," production",z.inputQuantityUsed>1?"s":"","  Fin prvue: ",z.endsAt.toDate().toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm font-semibold text-lavender-600 dark:text-lavender-400",children:mT(Ie)}),y.jsx($t,{variant:"secondary",size:"sm",onClick:()=>z.id&&C(z.id),disabled:z.reducedByAction,title:z.reducedByAction?"Dj arros":"Arroser (-1h)",children:""}),y.jsx($t,{variant:"danger",size:"sm",onClick:()=>z.id&&L(z.id),title:"Annuler la production",children:"Annuler"})]})]}),y.jsx("div",{className:"w-full bg-surface rounded-full h-2 overflow-hidden border border-border",children:y.jsx("div",{className:"h-full bg-linear-to-r from-lavender to-peach transition-all duration-1000",style:{width:`${P}%`}})})]})},z.id)})]}),Y.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsxs("h2",{className:"text-sm font-semibold text-dark-600 dark:text-dark-400",children:["Rcentes (",Y.slice(0,3).length,")"]}),Y.slice(0,3).map(z=>{const ue=N(z);return y.jsx(st,{className:"opacity-60",children:y.jsx(at,{className:"p-2",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"text-sm",children:[y.jsx("span",{className:"font-semibold text-dark-800 dark:text-dark-100",children:ue?.name}),y.jsxs("span",{className:"text-xs text-dark-600 dark:text-dark-400 ml-2",children:[" ",z.inputQuantityUsed," production",z.inputQuantityUsed>1?"s":""]})]}),y.jsx($t,{variant:"danger",size:"sm",onClick:()=>z.id&&I(z.id),className:"text-xs",children:""})]})})},z.id)})]}),s.length===0&&y.jsx(st,{children:y.jsxs(at,{className:"p-8 text-center",children:[y.jsx("div",{className:"text-4xl mb-3",children:""}),y.jsx("p",{className:"text-dark-600 dark:text-dark-400 mb-3",children:"Aucune transformation en cours"}),y.jsx($t,{onClick:()=>g(!0),size:"sm",children:"Dmarrer une transformation"})]})}),y.jsx(S3,{isOpen:se,onClose:()=>ne(!1),title:"Annuler la production",actions:y.jsxs(y.Fragment,{children:[y.jsx($t,{variant:"secondary",onClick:()=>ne(!1),children:"Non, garder"}),y.jsx($t,{variant:"danger",onClick:V,children:"Oui, annuler"})]}),children:y.jsx("p",{className:"text-text-secondary",children:"tes-vous sr de vouloir annuler cette production ? Cette action est irrversible."})})]})},w3=()=>{const{user:r}=Aa(),[e,n]=j.useState([]),[s,o]=j.useState([]);j.useEffect(()=>{c()},[]),j.useEffect(()=>r?dT(r.uid,n):void 0,[r]);const c=async()=>{const x=await rf();o(x)},h=x=>s.find(T=>T.id===x),m=e.reduce((x,T)=>{const A=T.createdAt.toDate().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return x[A]||(x[A]=[]),x[A].push(T),x},{}),g=x=>x.toDate().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),p=x=>{const T=x.startedAt.toDate(),M=x.endsAt.toDate().getTime()-T.getTime();return Math.floor(M/(1e3*60*60))};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Historique"}),y.jsxs("div",{className:"text-sm text-dark-600 dark:text-dark-400",children:[e.length," entre",e.length>1?"s":""]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[y.jsx(st,{children:y.jsx(at,{className:"p-3",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Total"}),y.jsx("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:e.length})]})})}),y.jsx(st,{children:y.jsx(at,{className:"p-3",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Transformations"}),y.jsx("div",{className:"text-2xl font-bold text-lavender-600 dark:text-lavender-400",children:e.filter(x=>x.type==="TRANSFORMATION").length})]})})}),y.jsx(st,{children:y.jsx(at,{className:"p-3",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Ventes"}),y.jsx("div",{className:"text-2xl font-bold text-sage-600 dark:text-sage-400",children:e.filter(x=>x.type==="SALE").length})]})})}),y.jsx(st,{children:y.jsx(at,{className:"p-3",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Cette semaine"}),y.jsx("div",{className:"text-2xl font-bold text-sky-600 dark:text-sky-400",children:e.filter(x=>{const T=new Date;return T.setDate(T.getDate()-7),x.createdAt.toDate()>T}).length})]})})})]}),y.jsx("div",{className:"space-y-6",children:Object.keys(m).length===0?y.jsx(st,{children:y.jsx(at,{children:y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsx("p",{className:"text-dark-600 dark:text-dark-400 mb-2",children:"Aucun historique pour le moment"}),y.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-500",children:"Les transformations et ventes apparatront ici"})]})})}):Object.entries(m).map(([x,T])=>y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold text-dark-700 dark:text-dark-300 mb-3 capitalize",children:x}),y.jsx("div",{className:"space-y-3",children:T.map(A=>{if(A.type==="TRANSFORMATION"){const M=A,B=h(M.transformationId),$=p(M);return y.jsx(st,{children:y.jsx(at,{className:"p-3",children:y.jsx("div",{className:"flex items-start justify-between",children:y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-lavender-400 to-peach-400 flex items-center justify-center text-white text-sm",children:""}),y.jsx("h3",{className:"text-base font-semibold text-dark-800 dark:text-dark-100",children:B?.name||"Transformation inconnue"}),M.reducedByAction&&y.jsx("span",{className:"px-2 py-0.5 bg-sage-100 dark:bg-sage-900/30 text-sage-700 dark:text-sage-300 text-xs rounded-cozy font-semibold",children:""})]}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Dbut"}),y.jsx("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:g(M.startedAt)})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Fin"}),y.jsx("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:g(M.endsAt)})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Dure"}),y.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[$,"h"]})]})]})]})})})},A.id)}else{const M=A,B=M.actualValue-M.estimatedValue,$=Math.abs(B)>0;return y.jsx(st,{className:$?"border-l-4 border-l-peach-400":"",children:y.jsx(at,{className:"p-3",children:y.jsx("div",{className:"flex items-start justify-between",children:y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-sage-400 to-peach-400 flex items-center justify-center text-white text-sm",children:""}),y.jsxs("h3",{className:"text-base font-semibold text-dark-800 dark:text-dark-100",children:["Vente de ",M.crateLabel]})]}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm mb-2",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Quantit"}),y.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[M.quantitySold," caisse",M.quantitySold>1?"s":""]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Valeur estime"}),y.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[M.estimatedValue.toLocaleString()," $"]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Valeur rcolte"}),y.jsxs("div",{className:`font-semibold ${B>0?"text-sage-600 dark:text-sage-400":B<0?"text-peach-600 dark:text-peach-400":"text-dark-700 dark:text-dark-300"}`,children:[M.actualValue.toLocaleString()," $"]})]}),$&&y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Diffrence"}),y.jsxs("div",{className:`font-semibold ${B>0?"text-sage-600 dark:text-sage-400":"text-peach-600 dark:text-peach-400"}`,children:[B>0?"+":"",B.toLocaleString()," $"]})]})]}),M.notes&&y.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400 italic bg-dark-50 dark:bg-dark-800 rounded p-2",children:[" ",M.notes]})]})})})},A.id)}})})]},x))})]})},k3=async()=>{try{console.log(" Dbut de l'initialisation Firestore...");const r=Ot(Ge,"configs","default");await pr(r,{name:"default",rules:{timeReductionHours:1},updatedAt:Bt()}),console.log(" Config cre");const e=[{id:"zeed",name:"Zeed",input:{materialName:"Feuille",quantity:60},tool:{name:"Pot de terre",price:0},durationHours:48,crate:{name:"Caisse de Zeed",quantityPerCrate:20}},{id:"pandoxine",name:"Pandoxine",input:{materialName:"Viande",quantity:18},tool:{name:"Marmite",price:0},durationHours:96,crate:{name:"Caisse de Pandoxine",quantityPerCrate:12}},{id:"krakenine",name:"Krakenine",input:{materialName:"Huile",quantity:10},tool:{name:"Bidon de chauffe",price:0},durationHours:24,crate:{name:"Caisse de Krakenine",quantityPerCrate:12}},{id:"psylocybine",name:"Psylocybine",input:{materialName:"Champignon",quantity:60},tool:{name:"Sachet de fermentation",price:0},durationHours:72,crate:{name:"Caisse de Psylocybine",quantityPerCrate:20}}];for(const n of e){const s=Ot(Ge,"configs","default","transformations",n.id);await pr(s,n),console.log(` Transformation ${n.name} cre`)}return console.log(" Initialisation termine avec succs!"),{success:!0,message:"Toutes les donnes ont t cres avec succs!"}}catch(r){return console.error(" Erreur lors de l'initialisation:",r),{success:!1,message:`Erreur: ${r.message}`}}},R3="Donnes d'initialisation pour l'espace Malandrinerie dans Firestore",C3={malandrinerie:{materials:[{id:"plastiques",name:"Plastiques",unit:"unit"},{id:"rubans",name:"Rubans",unit:"unit"},{id:"dentiers",name:"Dentiers",unit:"unit"},{id:"pantheres",name:"Panthres",unit:"unit"},{id:"tubes",name:"Tubes",unit:"unit"},{id:"sacs",name:"Sacs",unit:"unit"},{id:"bracelets",name:"Bracelets",unit:"unit"},{id:"consoles",name:"Consoles",unit:"unit"},{id:"smartphones",name:"Smartphones",unit:"unit"},{id:"bons",name:"Bons d'achats",unit:"unit"},{id:"dentifrices",name:"Dentifrices",unit:"unit"},{id:"cigarettes",name:"Cigarettes",unit:"unit"},{id:"plexiglas",name:"Plexiglas",unit:"unit"},{id:"lentilles",name:"Lentilles",unit:"unit"},{id:"batteries",name:"Batteries",unit:"unit"},{id:"flashs",name:"Flashs",unit:"unit"},{id:"circuits",name:"Circuits",unit:"unit"},{id:"ecrous",name:"crous",unit:"unit"},{id:"vis",name:"Vis",unit:"unit"},{id:"fils",name:"Fils",unit:"unit"},{id:"aluminium",name:"Aluminium",unit:"unit"},{id:"viandes",name:"Viandes",unit:"unit"},{id:"abats",name:"Abats",unit:"unit"},{id:"langues",name:"Langues",unit:"unit"},{id:"rognons",name:"Rognons",unit:"unit"},{id:"jerricans",name:"Jerricans",unit:"unit"},{id:"briquets",name:"Briquets",unit:"unit"},{id:"bonbonnes",name:"Bonbonnes",unit:"unit"},{id:"additifs",name:"Additifs",unit:"unit"},{id:"gels",name:"Gels",unit:"unit"},{id:"accelerometres",name:"Acclromtres",unit:"unit"}],recipes:[{id:"couteau",name:"Couteau",emoji:"",category:"T1",batchSize:1,unitPrice:1e3,materials:{plastiques:6,rubans:6,dentiers:6,pantheres:2}},{id:"zips",name:"Zips",emoji:"",category:"T1",batchSize:12,unitPrice:250,materials:{tubes:2,plastiques:6,sacs:4,bracelets:4}},{id:"kits_crochetage_miteux",name:"Kits de crochetage miteux",emoji:"",category:"T1",batchSize:16,unitPrice:250,materials:{consoles:2,tubes:4,plastiques:4,rubans:6}},{id:"faux_tickets_parking",name:"Faux tickets de parking",emoji:"",category:"T1",batchSize:4,unitPrice:0,materials:{smartphones:3,bons:10,rubans:2,consoles:5}},{id:"paquet_cigarette_era",name:"Paquet de cigarette Era",emoji:"",category:"T1",batchSize:5,unitPrice:0,materials:{dentifrices:2,cigarettes:10,bons:2,consoles:2}},{id:"tenue_stagiaire_pole_emploi",name:"Tenue de stagiaire Ple Emploi",emoji:"",category:"T1",batchSize:4,unitPrice:1e3,materials:{bons:6,consoles:4,cigarettes:2,rubans:2,bracelets:3,smartphones:3}},{id:"antistress_artisanal",name:"Antistress artisanal",emoji:"",category:"T1",batchSize:6,unitPrice:400,materials:{dentiers:2,sacs:2,cigarettes:6,dentifrices:6}},{id:"9x19_ap",name:"9x19 AP",emoji:"",category:"T1",batchSize:6,unitPrice:450,materials:{pantheres:4,bracelets:4,sacs:2,dentiers:6}},{id:"pistolet",name:"Pistolet",emoji:"",category:"T1",batchSize:1,unitPrice:3500,materials:{pantheres:6,dentifrices:6,tubes:10,plastiques:8,sacs:10}},{id:"gilet_pare_balles_miteux",name:"Gilet pare-balles miteux",emoji:"",category:"T2",batchSize:1,unitPrice:0,materials:{plexiglas:11,rubans:6,bracelets:6,sacs:3}},{id:"tenue_stagiaire_entreprise",name:"Tenue de stagiaire d'entreprise",emoji:"",category:"T2",batchSize:4,unitPrice:2e3,materials:{lentilles:5,batteries:5,flashs:6,circuits:3,bons:8,cigarettes:5}},{id:"kits_crochetage_avance",name:"Kits de crochetage avanc",emoji:"",category:"T2",batchSize:16,unitPrice:700,materials:{ecrous:5,vis:5,fils:4,circuits:4,dentiers:4}},{id:"mre_peach",name:"MRE Peach / Z ERA",emoji:"",category:"T2",batchSize:6,unitPrice:750,materials:{aluminium:6,viandes:6,abats:5,langues:3,rognons:3}},{id:"bidons_artisanaux",name:"Bidons artisanaux",emoji:"",category:"T2",batchSize:1,unitPrice:10,materials:{plexiglas:3,vis:3,jerricans:6,briquets:6,bonbonnes:4}},{id:"baume_anti_stress",name:"Baume anti-stress",emoji:"",category:"T2",batchSize:4,unitPrice:1e3,materials:{plexiglas:4,additifs:6,cigarettes:4,dentifrices:8}},{id:"pistolet_combat",name:"Pistolet de combat",emoji:"",category:"T2",batchSize:1,unitPrice:6e3,materials:{pistolet:1,vis:3,lentilles:8,flashs:11,pantheres:3},requiresCraft:["pistolet"]},{id:"pistolet_lance",name:"Pistolet lance-...",emoji:"",category:"T2",batchSize:1,unitPrice:5e3,materials:{gels:3,accelerometres:6}},{id:"fusees_eclairantes",name:"Fuses clairantes",emoji:"",category:"T2",batchSize:20,unitPrice:750,materials:{additifs:5,bonbonnes:6,briquets:6,plexiglas:3,flashs:3}},{id:"cocktail_molotov",name:"Cocktail Molotov",emoji:"",category:"T2",batchSize:2,unitPrice:5e3,materials:{jerricans:9,additifs:11,briquets:8,gels:6,fils:5,batteries:8}},{id:"tec9",name:"Tec-9",emoji:"",category:"T2",batchSize:1,unitPrice:1e4,materials:{gels:13,ecrous:8,vis:3,lentilles:9,accelerometres:12}}],groups:[{id:"glory",name:"Glory"},{id:"b2mc",name:"B2MC"},{id:"ob",name:"OB"},{id:"g7",name:"G7"},{id:"mrg",name:"MRG"},{id:"88",name:"88"},{id:"individual",name:"Individuel"}]}},Ip={description:R3,spaces:C3},I3=async()=>{try{const r=Ri.currentUser;if(!r)return{success:!1,message:"Vous devez tre connect pour initialiser les donnes"};console.log(" Dbut de l'initialisation Malandrinerie...");const e=Ip.spaces.malandrinerie.materials,n=Ip.spaces.malandrinerie.recipes,s=Ip.spaces.malandrinerie.groups;console.log(" Cration des matires premires...");for(const o of e){const c=Ot(Ge,"configs","default","spaces","malandrinerie","materials",o.id);await pr(c,{...o,createdAt:Bt(),updatedAt:Bt()})}console.log(` ${e.length} matires premires cres`),console.log(" Cration des recettes...");for(const o of n){const c=Ot(Ge,"configs","default","spaces","malandrinerie","recipes",o.id);await pr(c,{...o,createdAt:Bt(),updatedAt:Bt()})}console.log(` ${n.length} recettes cres`),console.log(" Cration des groupes...");for(const o of s){const c=Ot(Ge,"configs","default","spaces","malandrinerie","groups",o.id);await pr(c,{...o,createdAt:Bt(),updatedAt:Bt()})}console.log(` ${s.length} groupes crs`),console.log(" Initialisation des stocks utilisateur...");for(const o of e){const c=Ot(Ge,"users",r.uid,"materialStocks",o.id);await pr(c,{materialId:o.id,materialName:o.name,space:"malandrinerie",quantity:0,unit:o.unit,createdAt:Bt(),updatedAt:Bt()})}return console.log(` ${e.length} stocks initialiss`),console.log(" Initialisation Malandrinerie termine avec succs!"),{success:!0,message:` ${e.length} matires, ${n.length} recettes, ${s.length} groupes et ${e.length} stocks crs!`}}catch(r){return console.error(" Erreur lors de l'initialisation Malandrinerie:",r),{success:!1,message:`Erreur: ${r.message}`}}},N3=()=>{const[r,e]=j.useState(!1),[n,s]=j.useState(null),[o,c]=j.useState(!1),[h,m]=j.useState(null),g=async()=>{e(!0),s(null);const T=await k3();s(T),e(!1)},p=async()=>{c(!0),m(null);const T=await I3();m(T),c(!1)},x=({result:T})=>T?y.jsxs("div",{className:`p-4 rounded-soft mt-4 ${T.success?"bg-sage-light border border-sage":"bg-peach-light border border-peach"}`,children:[y.jsx("p",{className:`font-semibold mb-2 ${T.success?"text-sage-dark":"text-peach-dark"}`,children:T.success?" Succs!":" Erreur"}),y.jsx("p",{className:"text-sm text-text-secondary",children:T.message})]}):null;return y.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:y.jsxs("div",{className:"max-w-6xl w-full space-y-6",children:[y.jsx("h1",{className:"text-4xl font-bold text-text text-center mb-8",children:" Initialisation Firestore"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsx(st,{children:y.jsxs(at,{className:"p-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-mint-dark mb-4 flex items-center gap-2",children:" Espace Drogue"}),y.jsxs("div",{className:"space-y-3 mb-6",children:[y.jsx("p",{className:"text-sm text-text-secondary",children:"Initialise les donnes pour l'espace Drogue/Naturopathie :"}),y.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary ml-4",children:[y.jsx("li",{children:"Configuration globale"}),y.jsx("li",{children:"4 transformations (Zeed, Pandoxine, Krakenine, Psylocybine)"}),y.jsx("li",{children:"Rgle de rduction de temps (1h)"})]}),y.jsx("div",{className:"bg-butter-light border border-butter rounded-soft p-3",children:y.jsx("p",{className:"text-xs text-text-muted",children:" N'excuter qu'une seule fois!"})})]}),y.jsx($t,{onClick:g,disabled:r,className:"w-full",children:r?"Initialisation...":" Initialiser Drogue"}),y.jsx(x,{result:n})]})}),y.jsx(st,{children:y.jsxs(at,{className:"p-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-peach-dark mb-4 flex items-center gap-2",children:" Espace Malandrinerie"}),y.jsxs("div",{className:"space-y-3 mb-6",children:[y.jsx("p",{className:"text-sm text-text-secondary",children:"Initialise les donnes pour l'espace Malandrinerie :"}),y.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary ml-4",children:[y.jsx("li",{children:"31 matires premires"}),y.jsx("li",{children:"20 recettes/crafts (10 T1 + 10 T2)"}),y.jsx("li",{children:"7 groupes de commandes"}),y.jsx("li",{children:"Stocks utilisateur  0"})]}),y.jsx("div",{className:"bg-butter-light border border-butter rounded-soft p-3",children:y.jsx("p",{className:"text-xs text-text-muted",children:" Ncessite d'tre connect!"})})]}),y.jsx($t,{onClick:p,disabled:o,className:"w-full",children:o?"Initialisation...":" Initialiser Malandrinerie"}),y.jsx(x,{result:h})]})})]}),y.jsx("div",{className:"mt-8 text-center",children:y.jsx("p",{className:"text-xs text-text-muted",children:" Cette page peut tre supprime aprs l'initialisation"})})]})})},L3=()=>{const[r,e]=j.useState([]),[n,s]=j.useState(!0),[o,c]=j.useState(null);j.useEffect(()=>{h()},[]);const h=async()=>{try{const g=Ri.currentUser;if(!g)return;const p=cn(Ge,"users",g.uid,"materialStocks"),x=Es(p),T=await ma(x),A=[];T.forEach(M=>{const B=M.data();B.space==="malandrinerie"&&A.push({id:M.id,materialId:B.materialId,materialName:B.materialName,quantity:B.quantity||0,unit:B.unit||"unit"})}),A.sort((M,B)=>M.materialName.localeCompare(B.materialName)),e(A)}catch(g){console.error("Error loading stocks:",g)}finally{s(!1)}},m=async(g,p)=>{try{c(g);const x=Ri.currentUser;if(!x)return;const T=r.find(B=>B.id===g);if(!T)return;const A=Math.max(0,T.quantity+p),M=Ot(Ge,"users",x.uid,"materialStocks",g);await Jd(M,{quantity:A,updatedAt:Bt()}),e(r.map(B=>B.id===g?{...B,quantity:A}:B))}catch(x){console.error("Error updating stock:",x)}finally{c(null)}};return n?y.jsx("div",{className:"flex items-center justify-center h-64",children:y.jsx("p",{className:"text-text-muted",children:"Chargement des stocks..."})}):y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Ad,{size:32,weight:"duotone",className:"text-peach"}),y.jsx("h1",{className:"text-3xl font-bold text-text",children:"Stocks"})]}),y.jsx(st,{children:y.jsxs(at,{className:"p-0",children:[y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-card-hover border-b border-divider",children:y.jsxs("tr",{className:"text-xs text-text-muted uppercase",children:[y.jsx("th",{className:"text-left p-2 font-semibold",children:"Matire premire"}),y.jsx("th",{className:"text-center p-2 font-semibold w-48",children:"Quantit"}),y.jsx("th",{className:"text-center p-2 font-semibold w-20",children:"Unit"})]})}),y.jsx("tbody",{className:"divide-y divide-divider",children:r.map(g=>{const p=o===g.id;return y.jsxs("tr",{className:"hover:bg-card-hover transition-colors",children:[y.jsx("td",{className:"p-2",children:y.jsx("span",{className:"font-medium text-text text-sm",children:g.materialName})}),y.jsx("td",{className:"p-2",children:y.jsxs("div",{className:"flex items-center justify-center gap-2",children:[y.jsx("button",{onClick:()=>m(g.id,-1),disabled:p||g.quantity===0,className:"p-1 rounded hover:bg-peach-light disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Retirer 1",children:y.jsx(ST,{size:16,weight:"bold",className:"text-peach"})}),y.jsx("span",{className:`font-bold text-lg min-w-[3rem] text-center ${g.quantity===0?"text-text-muted":"text-text"} ${p?"opacity-50":""}`,children:g.quantity}),y.jsx("button",{onClick:()=>m(g.id,1),disabled:p,className:"p-1 rounded hover:bg-sage-light disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Ajouter 1",children:y.jsx(v0,{size:16,weight:"bold",className:"text-sage"})})]})}),y.jsx("td",{className:"p-2 text-center",children:y.jsx("span",{className:"text-xs text-text-secondary",children:g.unit})})]},g.id)})})]})}),r.length===0&&y.jsxs("div",{className:"text-center py-12 text-text-muted",children:[y.jsx("p",{className:"mb-2",children:"Aucun stock trouv"}),y.jsx("p",{className:"text-sm",children:"Initialisez les donnes depuis la page /setup"})]})]})})]})},D3=()=>{const[r,e]=j.useState([]),[n,s]=j.useState(new Map),[o,c]=j.useState(new Map),[h,m]=j.useState(!0),[g,p]=j.useState(new Map),[x,T]=j.useState(""),[A,M]=j.useState(null),[B,$]=j.useState(null);j.useEffect(()=>{Q()},[]);const Q=async()=>{try{const R=Ri.currentUser;if(!R)return;const C=cn(Ge,"configs","default","spaces","malandrinerie","recipes"),k=await ma(Es(C)),I=[];k.forEach(z=>{I.push({id:z.id,...z.data()})}),I.sort((z,ue)=>z.category!==ue.category?z.category.localeCompare(ue.category):z.name.localeCompare(ue.name)),e(I);const L=cn(Ge,"configs","default","spaces","malandrinerie","materials"),V=await ma(Es(L)),N=new Map;V.forEach(z=>{N.set(z.id,z.data().name)}),c(N);const Ne=cn(Ge,"users",R.uid,"materialStocks"),Ze=await ma(Es(Ne)),Y=new Map;Ze.forEach(z=>{const ue=z.data();ue.space==="malandrinerie"&&Y.set(ue.materialId,ue.quantity||0)}),s(Y)}catch(R){console.error("Error loading data:",R)}finally{m(!1)}},se=(R,C)=>{const k=parseInt(C)||0,I=r.find(Ne=>Ne.id===R);if(!I)return;const L=Math.ceil(k/I.batchSize),V=L*I.batchSize,N=V-k;p(new Map(g.set(R,{recipeId:R,desiredQty:k,craftsNeeded:L,actualProduction:V,surplus:N})))},ne=(R,C,k)=>{const I=g.get(R);if(!I||I.craftsNeeded===0)return{sufficient:!0,missing:0};const L=k*I.craftsNeeded,V=n.get(C)||0,N=V>=L,Ne=N?0:L-V;return{sufficient:N,missing:Ne,totalNeeded:L,available:V}},oe=R=>{const C=r.find(I=>I.id===R),k=g.get(R);return!C||!k||k.craftsNeeded===0?!0:Object.entries(C.materials).every(([I,L])=>ne(R,I,L).sufficient)},G=async R=>{try{M(R);const C=Ri.currentUser;if(!C){le("Vous devez tre connect","error");return}const k=r.find(Y=>Y.id===R),I=g.get(R);if(!k||!I||I.craftsNeeded===0)return;if(!oe(R)){le("Stocks insuffisants pour cette production","error");return}const L=dN(Ge),V={};for(const[Y,z]of Object.entries(k.materials)){const ue=z*I.craftsNeeded;V[Y]=ue;const Ie=Ot(Ge,"users",C.uid,"materialStocks",Y),P=(n.get(Y)||0)-ue;L.update(Ie,{quantity:P,updatedAt:Bt()})}const N=Ot(cn(Ge,"users",C.uid,"productionHistory"));L.set(N,{recipeId:k.id,recipeName:k.name,recipeEmoji:k.emoji,space:"malandrinerie",craftsCount:I.craftsNeeded,desiredQty:I.desiredQty,actualProduction:I.actualProduction,materialsConsumed:V,createdAt:Bt()}),await L.commit();const Ne=new Map(n);for(const[Y,z]of Object.entries(V)){const ue=Ne.get(Y)||0;Ne.set(Y,ue-z)}s(Ne);const Ze=new Map(g);Ze.delete(R),p(Ze),le(`Production valide : ${I.actualProduction} ${k.name}`,"success")}catch(C){console.error("Error validating production:",C),le("Erreur lors de la validation","error")}finally{M(null)}},le=(R,C)=>{$({message:R,type:C}),setTimeout(()=>$(null),3e3)},ae=r.filter(R=>R.name.toLowerCase().includes(x.toLowerCase())||R.emoji.includes(x));return h?y.jsx("div",{className:"flex items-center justify-center h-64",children:y.jsx("p",{className:"text-text-muted",children:"Chargement des recettes..."})}):y.jsxs("div",{className:"space-y-4",children:[B&&y.jsx("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-soft shadow-lg border ${B.type==="success"?"bg-sage-light border-sage text-sage-dark":"bg-peach-light border-peach text-peach-dark"}`,children:y.jsx("p",{className:"font-semibold",children:B.message})}),y.jsx("div",{className:"flex items-center justify-between",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(_0,{size:32,weight:"duotone",className:"text-peach"}),y.jsx("h1",{className:"text-3xl font-bold text-text",children:"Recettes"})]})}),y.jsxs("div",{className:"relative",children:[y.jsx(TT,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-muted"}),y.jsx("input",{type:"text",placeholder:"Rechercher une recette...",value:x,onChange:R=>T(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-divider rounded-soft bg-card text-text"})]}),y.jsx(st,{children:y.jsxs(at,{className:"p-0",children:[y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-card-hover border-b border-divider",children:y.jsxs("tr",{className:"text-xs text-text-muted uppercase",children:[y.jsx("th",{className:"text-left p-2 font-semibold",children:"Recette"}),y.jsx("th",{className:"text-center p-2 font-semibold w-20",children:"Qt"}),y.jsx("th",{className:"text-left p-2 font-semibold",children:"Matriaux ncessaires"}),y.jsx("th",{className:"text-center p-2 font-semibold w-20",children:"Prix/u"}),y.jsx("th",{className:"text-center p-2 font-semibold w-24",children:"Prix total"}),y.jsx("th",{className:"text-center p-2 font-semibold w-16",children:"tat"}),y.jsx("th",{className:"text-center p-2 font-semibold w-24",children:"Action"})]})}),y.jsx("tbody",{className:"divide-y divide-divider",children:ae.map(R=>{const C=g.get(R.id),k=oe(R.id);return y.jsxs("tr",{className:"hover:bg-card-hover transition-colors",children:[y.jsx("td",{className:"p-2",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-xl",children:R.emoji}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-text text-sm",children:R.name}),y.jsxs("p",{className:"text-xs text-text-muted",children:[R.batchSize>1?`x${R.batchSize}`:"Unit",R.unitPrice>0&&`  ${R.unitPrice}$`,R.category&&`  ${R.category}`]})]})]})}),y.jsx("td",{className:"p-2",children:y.jsx("input",{type:"number",min:"0",placeholder:"0",value:C?.desiredQty||"",onChange:I=>se(R.id,I.target.value),className:"w-full px-2 py-1 text-sm text-center border border-divider rounded bg-card"})}),y.jsx("td",{className:"p-2",children:y.jsx("div",{className:"flex flex-wrap gap-2 text-xs",children:Object.entries(R.materials).map(([I,L])=>{const V=ne(R.id,I,L),N=C&&C.desiredQty>0;return y.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full ${N&&!V.sufficient?"bg-peach-light text-peach-dark":"bg-card-hover text-text-secondary"}`,children:[o.get(I)||I,": ",N?V.totalNeeded:L,N&&!V.sufficient&&y.jsxs("span",{className:"font-semibold ml-1",children:["-",V.missing]})]},I)})})}),y.jsx("td",{className:"p-2 text-center",children:R.unitPrice>0?y.jsxs("span",{className:"text-sm text-text",children:[R.unitPrice,"$"]}):y.jsx("span",{className:"text-xs text-text-muted",children:"-"})}),y.jsx("td",{className:"p-2 text-center",children:C&&C.desiredQty>0&&R.unitPrice>0?y.jsxs("span",{className:"text-sm font-semibold text-text",children:[(C.desiredQty*R.unitPrice).toLocaleString(),"$"]}):y.jsx("span",{className:"text-xs text-text-muted",children:"-"})}),y.jsx("td",{className:"p-2 text-center",children:C&&C.desiredQty>0&&(k?y.jsx(vT,{size:20,weight:"fill",className:"text-sage inline-block"}):y.jsx(RT,{size:20,weight:"fill",className:"text-peach inline-block"}))}),y.jsx("td",{className:"p-2 text-center",children:C&&C.desiredQty>0&&y.jsx($t,{onClick:()=>G(R.id),disabled:!k||A===R.id,className:"px-3 py-1 text-xs",children:A===R.id?"Validation...":y.jsxs(y.Fragment,{children:[y.jsx(yT,{size:14,weight:"bold"}),y.jsx("span",{className:"ml-1",children:"Valider"})]})})})]},R.id)})})]})}),ae.length===0&&y.jsxs("div",{className:"p-12 text-center text-text-muted",children:[y.jsx("p",{className:"mb-2",children:x?"Aucune recette ne correspond  votre recherche":"Aucune recette trouve"}),!x&&y.jsx("p",{className:"text-sm",children:"Initialisez les donnes depuis la page /setup"})]})]})})]})},j3=()=>{const[r,e]=j.useState([]),[n,s]=j.useState([]),[o,c]=j.useState(!0),[h,m]=j.useState(""),[g,p]=j.useState([]),[x,T]=j.useState(""),[A,M]=j.useState(0);j.useEffect(()=>{B()},[]);const B=async()=>{try{const G=cn(Ge,"configs","default","spaces","malandrinerie","recipes"),le=await ma(Es(G)),ae=[];le.forEach(I=>{ae.push({id:I.id,...I.data()})}),ae.sort((I,L)=>I.name.localeCompare(L.name)),e(ae);const R=cn(Ge,"configs","default","spaces","malandrinerie","groups"),C=await ma(Es(R)),k=[];C.forEach(I=>{k.push({id:I.id,...I.data()})}),s(k)}catch(G){console.error("Error loading data:",G)}finally{c(!1)}},$=()=>{if(!x||A<=0)return;const G=r.find(I=>I.id===x);if(!G)return;const le=Math.ceil(A/G.batchSize),ae=le*G.batchSize,R=ae-A,C=ae*G.unitPrice,k={recipeId:G.id,recipeName:G.name,emoji:G.emoji,requestedQty:A,batchSize:G.batchSize,craftsNeeded:le,actualProduction:ae,surplus:R,unitPrice:G.unitPrice,totalPrice:C};p([...g,k]),T(""),M(0)},Q=G=>{p(g.filter((le,ae)=>ae!==G))},se=(G,le)=>{const ae=[...g];ae[G].unitPrice=le,ae[G].totalPrice=le*ae[G].actualProduction,p(ae)},ne=()=>g.reduce((G,le)=>G+le.totalPrice,0),oe=async()=>{try{const G=Ri.currentUser;if(!G||!h||g.length===0)return;const le=n.find(R=>R.id===h);if(!le)return;const ae={userId:G.uid,space:"malandrinerie",groupId:h,groupName:le.name,items:g,totalAmount:ne(),createdAt:Bt()};await hN(cn(Ge,"users",G.uid,"orders"),ae),p([]),m(""),alert("Commande enregistre avec succs!")}catch(G){console.error("Error saving order:",G),alert("Erreur lors de l'enregistrement")}};return o?y.jsx("div",{className:"flex items-center justify-center h-64",children:y.jsx("p",{className:"text-text-muted",children:"Chargement..."})}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(E0,{size:32,weight:"duotone",className:"text-peach"}),y.jsx("h1",{className:"text-3xl font-bold text-text",children:"Commandes - Malandrinerie"})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsx("div",{className:"lg:col-span-2 space-y-6",children:y.jsx(st,{children:y.jsxs(at,{className:"p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-text mb-4",children:"Nouvelle commande"}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-semibold text-text mb-2",children:"Groupe ou personne"}),y.jsxs("select",{value:h,onChange:G=>m(G.target.value),className:"w-full px-3 py-2 border border-divider rounded-soft",children:[y.jsx("option",{value:"",children:"-- Slectionner --"}),n.map(G=>y.jsx("option",{value:G.id,children:G.name},G.id))]})]}),y.jsxs("div",{className:"mb-4 p-4 bg-card-hover rounded-soft",children:[y.jsx("p",{className:"text-sm font-semibold text-text mb-3",children:"Ajouter un article"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[y.jsxs("select",{value:x,onChange:G=>T(G.target.value),className:"col-span-2 px-3 py-2 border border-divider rounded-soft",children:[y.jsx("option",{value:"",children:"-- Slectionner une recette --"}),r.map(G=>y.jsxs("option",{value:G.id,children:[G.emoji," ",G.name," ",G.batchSize>1?`(x${G.batchSize})`:""]},G.id))]}),y.jsx("input",{type:"number",min:"0",placeholder:"Quantit",value:A||"",onChange:G=>M(parseInt(G.target.value)||0),className:"px-3 py-2 border border-divider rounded-soft"})]}),y.jsxs($t,{onClick:$,disabled:!x||A<=0,className:"w-full mt-3",children:[y.jsx(v0,{size:18,weight:"bold"}),"Ajouter  la commande"]})]}),g.length>0&&y.jsxs("div",{className:"space-y-3",children:[y.jsx("p",{className:"text-sm font-semibold text-text-muted",children:"Articles de la commande"}),g.map((G,le)=>y.jsxs("div",{className:"p-4 border border-divider rounded-soft",children:[y.jsxs("div",{className:"flex items-start justify-between mb-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-xl",children:G.emoji}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-text",children:G.recipeName}),y.jsxs("p",{className:"text-xs text-text-muted",children:["Demand: ",G.requestedQty,"  Crafts: ",G.craftsNeeded,"  Production: ",G.actualProduction,G.surplus>0&&` (+${G.surplus} surplus)`]})]})]}),y.jsx("button",{onClick:()=>Q(le),className:"text-peach hover:text-peach-dark",children:y.jsx(kT,{size:20})})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Prix unitaire"}),y.jsx("input",{type:"number",min:"0",value:G.unitPrice,onChange:ae=>se(le,parseFloat(ae.target.value)||0),className:"w-full px-3 py-1 text-sm border border-divider rounded-soft"})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Total"}),y.jsxs("p",{className:"font-bold text-text px-3 py-1",children:[G.totalPrice.toFixed(2),"$"]})]})]})]},le))]})]})})}),y.jsx("div",{children:y.jsx(st,{children:y.jsxs(at,{className:"p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-text mb-4",children:"Rsum"}),h?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-4 p-3 bg-card-hover rounded-soft",children:[y.jsx("p",{className:"text-sm text-text-muted",children:"Groupe/Personne"}),y.jsx("p",{className:"font-bold text-text",children:n.find(G=>G.id===h)?.name})]}),y.jsxs("div",{className:"mb-4 p-3 bg-card-hover rounded-soft",children:[y.jsx("p",{className:"text-sm text-text-muted",children:"Articles"}),y.jsx("p",{className:"font-bold text-text text-2xl",children:g.length})]}),y.jsxs("div",{className:"mb-6 p-4 bg-peach-light rounded-soft border border-peach",children:[y.jsx("p",{className:"text-sm text-text-muted mb-1",children:"Total de la commande"}),y.jsxs("p",{className:"font-bold text-text text-3xl",children:[ne().toFixed(2),"$"]})]}),y.jsx($t,{onClick:oe,disabled:g.length===0,className:"w-full",children:"Enregistrer la commande"})]}):y.jsx("p",{className:"text-sm text-text-muted text-center py-8",children:"Slectionnez un groupe pour commencer"})]})})})]})]})},Fr=({children:r})=>{const{user:e,loading:n}=Aa();return n?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"text-xl text-dark-600 dark:text-dark-400",children:"Chargement..."})}):e?y.jsx(E3,{children:r}):y.jsx(s2,{to:"/login",replace:!0})};function M3(){const{user:r,loading:e}=Aa();return e?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"text-xl text-dark-600 dark:text-dark-400",children:"Chargement..."})}):y.jsxs(mw,{children:[y.jsx(Xn,{path:"/login",element:r?y.jsx(s2,{to:"/",replace:!0}):y.jsx(zL,{})}),y.jsx(Xn,{path:"/",element:y.jsx(Fr,{children:y.jsx(JL,{})})}),y.jsx(Xn,{path:"/stocks",element:y.jsx(Fr,{children:y.jsx(x3,{})})}),y.jsx(Xn,{path:"/prices",element:y.jsx(Fr,{children:y.jsx(b3,{})})}),y.jsx(Xn,{path:"/calculator",element:y.jsx(Fr,{children:y.jsx(T3,{})})}),y.jsx(Xn,{path:"/timers",element:y.jsx(Fr,{children:y.jsx(A3,{})})}),y.jsx(Xn,{path:"/history",element:y.jsx(Fr,{children:y.jsx(w3,{})})}),y.jsx(Xn,{path:"/setup",element:y.jsx(Fr,{children:y.jsx(N3,{})})}),y.jsx(Xn,{path:"/malandrinerie/stocks",element:y.jsx(Fr,{children:y.jsx(L3,{})})}),y.jsx(Xn,{path:"/malandrinerie/recipes",element:y.jsx(Fr,{children:y.jsx(D3,{})})}),y.jsx(Xn,{path:"/malandrinerie/orders",element:y.jsx(Fr,{children:y.jsx(j3,{})})})]})}function O3(){return y.jsx(Pw,{basename:"/Brewsy",children:y.jsx(PL,{children:y.jsx(UL,{children:y.jsx(M3,{})})})})}yA.createRoot(document.getElementById("root")).render(y.jsx(j.StrictMode,{children:y.jsx(O3,{})}));
