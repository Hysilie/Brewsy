(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function ZS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Jm={exports:{}},mc={};var Ov;function JS(){if(Ov)return mc;Ov=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:c}}return mc.Fragment=e,mc.jsx=n,mc.jsxs=n,mc}var Vv;function eA(){return Vv||(Vv=1,Jm.exports=JS()),Jm.exports}var y=eA(),ep={exports:{}},Se={};var Pv;function tA(){if(Pv)return Se;Pv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),A=Symbol.iterator;function j(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,H={};function ee(V,ie,ue){this.props=V,this.context=ie,this.refs=H,this.updater=ue||B}ee.prototype.isReactComponent={},ee.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},ee.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function X(){}X.prototype=ee.prototype;function ae(V,ie,ue){this.props=V,this.context=ie,this.refs=H,this.updater=ue||B}var F=ae.prototype=new X;F.constructor=ae,z(F,ee.prototype),F.isPureReactComponent=!0;var le=Array.isArray;function oe(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function k(V,ie,ue){var me=ue.ref;return{$$typeof:r,type:V,key:ie,ref:me!==void 0?me:null,props:ue}}function N(V,ie){return k(V.type,ie,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return ie[ue]})}var I=/\/+/g;function Xe(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):ie.toString(36)}function ft(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(oe,oe):(V.status="pending",V.then(function(ie){V.status==="pending"&&(V.status="fulfilled",V.value=ie)},function(ie){V.status==="pending"&&(V.status="rejected",V.reason=ie)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Z(V,ie,ue,me,xe){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Re){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case r:case e:Ue=!0;break;case T:return Ue=V._init,Z(Ue(V._payload),ie,ue,me,xe)}}if(Ue)return xe=xe(V),Ue=me===""?"."+Xe(V,0):me,le(xe)?(ue="",Ue!=null&&(ue=Ue.replace(I,"$&/")+"/"),Z(xe,ie,ue,"",function(Ls){return Ls})):xe!=null&&(D(xe)&&(xe=N(xe,ue+(xe.key==null||V&&V.key===xe.key?"":(""+xe.key).replace(I,"$&/")+"/")+Ue)),ie.push(xe)),1;Ue=0;var Vt=me===""?".":me+":";if(le(V))for(var ct=0;ct<V.length;ct++)me=V[ct],Re=Vt+Xe(me,ct),Ue+=Z(me,ie,ue,Re,xe);else if(ct=j(V),typeof ct=="function")for(V=ct.call(V),ct=0;!(me=V.next()).done;)me=me.value,Re=Vt+Xe(me,ct++),Ue+=Z(me,ie,ue,Re,xe);else if(Re==="object"){if(typeof V.then=="function")return Z(ft(V),ie,ue,me,xe);throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function $(V,ie,ue){if(V==null)return V;var me=[],xe=0;return Z(V,me,"","",function(Re){return ie.call(ue,Re,xe++)}),me}function fe(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var Ie=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Be={map:$,forEach:function(V,ie,ue){$(V,function(){ie.apply(this,arguments)},ue)},count:function(V){var ie=0;return $(V,function(){ie++}),ie},toArray:function(V){return $(V,function(ie){return ie})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Se.Activity=b,Se.Children=Be,Se.Component=ee,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=ae,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Se.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Se.cache=function(V){return function(){return V.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(V,ie,ue){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var me=z({},V.props),xe=V.key;if(ie!=null)for(Re in ie.key!==void 0&&(xe=""+ie.key),ie)!R.call(ie,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ie.ref===void 0||(me[Re]=ie[Re]);var Re=arguments.length-2;if(Re===1)me.children=ue;else if(1<Re){for(var Ue=Array(Re),Vt=0;Vt<Re;Vt++)Ue[Vt]=arguments[Vt+2];me.children=Ue}return k(V.type,xe,me)},Se.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Se.createElement=function(V,ie,ue){var me,xe={},Re=null;if(ie!=null)for(me in ie.key!==void 0&&(Re=""+ie.key),ie)R.call(ie,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(xe[me]=ie[me]);var Ue=arguments.length-2;if(Ue===1)xe.children=ue;else if(1<Ue){for(var Vt=Array(Ue),ct=0;ct<Ue;ct++)Vt[ct]=arguments[ct+2];xe.children=Vt}if(V&&V.defaultProps)for(me in Ue=V.defaultProps,Ue)xe[me]===void 0&&(xe[me]=Ue[me]);return k(V,Re,xe)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(V){return{$$typeof:m,render:V}},Se.isValidElement=D,Se.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:fe}},Se.memo=function(V,ie){return{$$typeof:p,type:V,compare:ie===void 0?null:ie}},Se.startTransition=function(V){var ie=C.T,ue={};C.T=ue;try{var me=V(),xe=C.S;xe!==null&&xe(ue,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(oe,Ie)}catch(Re){Ie(Re)}finally{ie!==null&&ue.types!==null&&(ie.types=ue.types),C.T=ie}},Se.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Se.use=function(V){return C.H.use(V)},Se.useActionState=function(V,ie,ue){return C.H.useActionState(V,ie,ue)},Se.useCallback=function(V,ie){return C.H.useCallback(V,ie)},Se.useContext=function(V){return C.H.useContext(V)},Se.useDebugValue=function(){},Se.useDeferredValue=function(V,ie){return C.H.useDeferredValue(V,ie)},Se.useEffect=function(V,ie){return C.H.useEffect(V,ie)},Se.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Se.useId=function(){return C.H.useId()},Se.useImperativeHandle=function(V,ie,ue){return C.H.useImperativeHandle(V,ie,ue)},Se.useInsertionEffect=function(V,ie){return C.H.useInsertionEffect(V,ie)},Se.useLayoutEffect=function(V,ie){return C.H.useLayoutEffect(V,ie)},Se.useMemo=function(V,ie){return C.H.useMemo(V,ie)},Se.useOptimistic=function(V,ie){return C.H.useOptimistic(V,ie)},Se.useReducer=function(V,ie,ue){return C.H.useReducer(V,ie,ue)},Se.useRef=function(V){return C.H.useRef(V)},Se.useState=function(V){return C.H.useState(V)},Se.useSyncExternalStore=function(V,ie,ue){return C.H.useSyncExternalStore(V,ie,ue)},Se.useTransition=function(){return C.H.useTransition()},Se.version="19.2.3",Se}var Uv;function rg(){return Uv||(Uv=1,ep.exports=tA()),ep.exports}var M=rg();const E=ZS(M);var tp={exports:{}},pc={},np={exports:{}},rp={};var zv;function nA(){return zv||(zv=1,(function(r){function e(Z,$){var fe=Z.length;Z.push($);e:for(;0<fe;){var Ie=fe-1>>>1,Be=Z[Ie];if(0<o(Be,$))Z[Ie]=$,Z[fe]=Be,fe=Ie;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var $=Z[0],fe=Z.pop();if(fe!==$){Z[0]=fe;e:for(var Ie=0,Be=Z.length,V=Be>>>1;Ie<V;){var ie=2*(Ie+1)-1,ue=Z[ie],me=ie+1,xe=Z[me];if(0>o(ue,fe))me<Be&&0>o(xe,ue)?(Z[Ie]=xe,Z[me]=fe,Ie=me):(Z[Ie]=ue,Z[ie]=fe,Ie=ie);else if(me<Be&&0>o(xe,fe))Z[Ie]=xe,Z[me]=fe,Ie=me;else break e}}return $}function o(Z,$){var fe=Z.sortIndex-$.sortIndex;return fe!==0?fe:Z.id-$.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],p=[],T=1,b=null,A=3,j=!1,B=!1,z=!1,H=!1,ee=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function F(Z){for(var $=n(p);$!==null;){if($.callback===null)s(p);else if($.startTime<=Z)s(p),$.sortIndex=$.expirationTime,e(g,$);else break;$=n(p)}}function le(Z){if(z=!1,F(Z),!B)if(n(g)!==null)B=!0,oe||(oe=!0,P());else{var $=n(p);$!==null&&ft(le,$.startTime-Z)}}var oe=!1,C=-1,R=5,k=-1;function N(){return H?!0:!(r.unstable_now()-k<R)}function D(){if(H=!1,oe){var Z=r.unstable_now();k=Z;var $=!0;try{e:{B=!1,z&&(z=!1,X(C),C=-1),j=!0;var fe=A;try{t:{for(F(Z),b=n(g);b!==null&&!(b.expirationTime>Z&&N());){var Ie=b.callback;if(typeof Ie=="function"){b.callback=null,A=b.priorityLevel;var Be=Ie(b.expirationTime<=Z);if(Z=r.unstable_now(),typeof Be=="function"){b.callback=Be,F(Z),$=!0;break t}b===n(g)&&s(g),F(Z)}else s(g);b=n(g)}if(b!==null)$=!0;else{var V=n(p);V!==null&&ft(le,V.startTime-Z),$=!1}}break e}finally{b=null,A=fe,j=!1}$=void 0}}finally{$?P():oe=!1}}}var P;if(typeof ae=="function")P=function(){ae(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Xe=I.port2;I.port1.onmessage=D,P=function(){Xe.postMessage(null)}}else P=function(){ee(D,0)};function ft(Z,$){C=ee(function(){Z(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(Z){switch(A){case 1:case 2:case 3:var $=3;break;default:$=A}var fe=A;A=$;try{return Z()}finally{A=fe}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(Z,$){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var fe=A;A=Z;try{return $()}finally{A=fe}},r.unstable_scheduleCallback=function(Z,$,fe){var Ie=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ie+fe:Ie):fe=Ie,Z){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=fe+Be,Z={id:T++,callback:$,priorityLevel:Z,startTime:fe,expirationTime:Be,sortIndex:-1},fe>Ie?(Z.sortIndex=fe,e(p,Z),n(g)===null&&Z===n(p)&&(z?(X(C),C=-1):z=!0,ft(le,fe-Ie))):(Z.sortIndex=Be,e(g,Z),B||j||(B=!0,oe||(oe=!0,P()))),Z},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(Z){var $=A;return function(){var fe=A;A=$;try{return Z.apply(this,arguments)}finally{A=fe}}}})(rp)),rp}var Bv;function rA(){return Bv||(Bv=1,np.exports=nA()),np.exports}var ip={exports:{}},rn={};var Hv;function iA(){if(Hv)return rn;Hv=1;var r=rg();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,p,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:T}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(g,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(g,p,null,T)},rn.flushSync=function(g){var p=h.T,T=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=T,s.d.f()}},rn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},rn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},rn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var T=p.as,b=m(T,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:j}):T==="script"&&s.d.X(g,{crossOrigin:b,integrity:A,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},rn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},rn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,b=m(T,p.crossOrigin);s.d.L(g,T,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},rn.preloadModule=function(g,p){if(typeof g=="string")if(p){var T=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},rn.requestFormReset=function(g){s.d.r(g)},rn.unstable_batchedUpdates=function(g,p){return g(p)},rn.useFormState=function(g,p,T){return h.H.useFormState(g,p,T)},rn.useFormStatus=function(){return h.H.useHostTransitionStatus()},rn.version="19.2.3",rn}var qv;function sA(){if(qv)return ip.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ip.exports=iA(),ip.exports}var Fv;function aA(){if(Fv)return pc;Fv=1;var r=rA(),e=rg(),n=sA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return g(d),t;if(f===l)return g(d),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var _=!1,S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_){for(S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case ee:return"Profiler";case H:return"StrictMode";case le:return"Suspense";case oe:return"SuspenseList";case k:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case ae:return t.displayName||"Context";case X:return(t._context.displayName||"Context")+".Consumer";case F:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:Xe(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Xe(t(i))}catch{}}return null}var ft=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ie=[],Be=-1;function V(t){return{current:t}}function ie(t){0>Be||(t.current=Ie[Be],Ie[Be]=null,Be--)}function ue(t,i){Be++,Ie[Be]=t.current,t.current=i}var me=V(null),xe=V(null),Re=V(null),Ue=V(null);function Vt(t,i){switch(ue(Re,i),ue(xe,t),ue(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?sv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=sv(i),t=av(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ie(me),ue(me,t)}function ct(){ie(me),ie(xe),ie(Re)}function Ls(t){t.memoizedState!==null&&ue(Ue,t);var i=me.current,a=av(i,t.type);i!==a&&(ue(xe,t),ue(me,a))}function Ha(t){xe.current===t&&(ie(me),ie(xe)),Ue.current===t&&(ie(Ue),uc._currentValue=fe)}var qa,Fa;function Tr(t){if(qa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);qa=i&&i[1]||"",Fa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qa+t+Fa}var ul=!1;function Ds(t,i){if(!t||ul)return"";ul=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Y){var K=Y}Reflect.construct(t,[],re)}else{try{re.call()}catch(Y){K=Y}t.call(re.prototype)}}else{try{throw Error()}catch(Y){K=Y}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],S=f[1];if(_&&S){var L=_.split(`
`),W=S.split(`
`);for(d=l=0;l<L.length&&!L[l].includes("DetermineComponentFrameRoot");)l++;for(;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;if(l===L.length||d===W.length)for(l=L.length-1,d=W.length-1;1<=l&&0<=d&&L[l]!==W[d];)d--;for(;1<=l&&0<=d;l--,d--)if(L[l]!==W[d]){if(l!==1||d!==1)do if(l--,d--,0>d||L[l]!==W[d]){var J=`
`+L[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=d);break}}}finally{ul=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Tr(a):""}function hl(t,i){switch(t.tag){case 26:case 27:case 5:return Tr(t.type);case 16:return Tr("Lazy");case 13:return t.child!==i&&i!==null?Tr("Suspense Fallback"):Tr("Suspense");case 19:return Tr("SuspenseList");case 0:case 15:return Ds(t.type,!1);case 11:return Ds(t.type.render,!1);case 1:return Ds(t.type,!0);case 31:return Tr("Activity");default:return""}}function dl(t){try{var i="",a=null;do i+=hl(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var St=Object.prototype.hasOwnProperty,Pt=r.unstable_scheduleCallback,Ci=r.unstable_cancelCallback,ef=r.unstable_shouldYield,eu=r.unstable_requestPaint,un=r.unstable_now,js=r.unstable_getCurrentPriorityLevel,fl=r.unstable_ImmediatePriority,ml=r.unstable_UserBlockingPriority,Ii=r.unstable_NormalPriority,tf=r.unstable_LowPriority,tu=r.unstable_IdlePriority,nu=r.log,ru=r.unstable_setDisableYieldValue,tr=null,Wt=null;function Vn(t){if(typeof nu=="function"&&ru(t),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(tr,t)}catch{}}var _t=Math.clz32?Math.clz32:su,iu=Math.log,Ga=Math.LN2;function su(t){return t>>>=0,t===0?32:31-(iu(t)/Ga|0)|0}var xr=256,Ms=262144,At=4194304;function br(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sr(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~f,l!==0?d=br(l):(_&=S,_!==0?d=br(_):a||(a=S&~t,a!==0&&(d=br(a))))):(S=l&~f,S!==0?d=br(S):_!==0?d=br(_):a||(a=l&~t,a!==0&&(d=br(a)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:d}function nr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function nf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function Ar(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Os(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function rf(t,i,a,l,d,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,L=t.expirationTimes,W=t.hiddenUpdates;for(a=_&~a;0<a;){var J=31-_t(a),re=1<<J;S[J]=0,L[J]=-1;var K=W[J];if(K!==null)for(W[J]=null,J=0;J<K.length;J++){var Y=K[J];Y!==null&&(Y.lane&=-536870913)}a&=~re}l!==0&&Vs(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~i))}function Vs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-_t(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function pl(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-_t(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function gl(t,i){var a=i&-i;return a=(a&42)!==0?1:Ps(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Jr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ou(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:Cv(t.type))}function rr(t,i){var a=$.p;try{return $.p=t,i()}finally{$.p=a}}var ir=Math.random().toString(36).slice(2),wt="__reactFiber$"+ir,Bt="__reactProps$"+ir,wr="__reactContainer$"+ir,Wa="__reactEvents$"+ir,sf="__reactListeners$"+ir,lu="__reactHandles$"+ir,cu="__reactResources$"+ir,kr="__reactMarker$"+ir;function $a(t){delete t[wt],delete t[Bt],delete t[Wa],delete t[sf],delete t[lu]}function Rr(t){var i=t[wt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[wr]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=fv(t);t!==null;){if(a=t[wt])return a;t=fv(t)}return i}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[wt]||t[wr]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function An(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Cr(t){var i=t[cu];return i||(i=t[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function kt(t){t[kr]=!0}var yl=new Set,vl={};function Ir(t,i){Nr(t,i),Nr(t+"Capture",i)}function Nr(t,i){for(vl[t]=i,t=0;t<i.length;t++)yl.add(i[t])}var _l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Tl={};function uu(t){return St.call(Tl,t)?!0:St.call(El,t)?!1:_l.test(t)?Tl[t]=!0:(El[t]=!0,!1)}function Ka(t,i,a){if(uu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function wn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Rt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ni(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function xl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $e(t){if(!t._valueTracker){var i=Ni(t)?"checked":"value";t._valueTracker=xl(t,i,""+t[i])}}function Us(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ni(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Lr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zs=/[\n"\\]/g;function pn(t){return t.replace(zs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Qa(t,i,a,l,d,f,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ht(i)):t.value!==""+Ht(i)&&(t.value=""+Ht(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?bl(t,_,Ht(i)):a!=null?bl(t,_,Ht(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ht(S):t.removeAttribute("name")}function hu(t,i,a,l,d,f,_,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){$e(t);return}a=a!=null?""+Ht(a):"",i=i!=null?""+Ht(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),$e(t)}function bl(t,i,a){i==="number"&&Lr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Li(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function du(t,i,a){if(i!=null&&(i=""+Ht(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ht(a):""}function Di(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ft(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ht(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function gn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||fu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Al(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&Sl(t,d,l)}else for(var f in i)i.hasOwnProperty(f)&&Sl(t,f,i[f])}function Ya(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xa(t){return ji.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function sr(){}var wl=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mi=null,Dr=null;function Bs(t){var i=Pn(t);if(i&&(t=i.stateNode)){var a=t[Bt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Qa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[Bt]||null;if(!d)throw Error(s(90));Qa(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Us(l)}break e;case"textarea":du(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Li(t,!!a.multiple,i,!1)}}}var Za=!1;function Oi(t,i,a){if(Za)return t(i,a);Za=!0;try{var l=t(i);return l}finally{if(Za=!1,(Mi!==null||Dr!==null)&&(oh(),Mi&&(i=Mi,t=Dr,Dr=Mi=null,Bs(i),t)))for(i=0;i<t.length;i++)Bs(t[i])}}function ar(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Bt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hs=!1;if(zn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Hs=!1}var jr=null,kl=null,qs=null;function Rl(){if(qs)return qs;var t,i=kl,a=i.length,l,d="value"in jr?jr.value:jr.textContent,f=d.length;for(t=0;t<a&&i[t]===d[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===d[f-l];l++);return qs=d.slice(t,1<l?1-l:void 0)}function Fs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ei(){return!0}function or(){return!1}function $t(t){function i(a,l,d,f,_){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ei:or,this.isPropagationStopped=or,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ei)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ei)},persist:function(){},isPersistent:ei}),i}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mr=$t(ti),Vi=b({},ti,{view:0,detail:0}),Cl=$t(Vi),Pi,Ja,Or,eo=b({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ui,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Or&&(Or&&t.type==="mousemove"?(Pi=t.screenX-Or.screenX,Ja=t.screenY-Or.screenY):Ja=Pi=0,Or=t),Pi)},movementY:function(t){return"movementY"in t?t.movementY:Ja}}),Il=$t(eo),Gs=b({},eo,{dataTransfer:0}),pu=$t(Gs),gu=b({},Vi,{relatedTarget:0}),Ws=$t(gu),Nl=b({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=$t(Nl),to=b({},ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vu=$t(to),_u=b({},ti,{data:0}),Vr=$t(_u),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=xu[t])?!!i[t]:!1}function Ui(){return bu}var hn=b({},Vi,{key:function(t){if(t.key){var i=Eu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Fs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ui,charCode:function(t){return t.type==="keypress"?Fs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Su=$t(hn),Au=b({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ni=$t(Au),u=b({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ui}),v=$t(u),x=b({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=$t(x),q=b({},eo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=$t(q),ce=b({},ti,{newState:0,oldState:0}),we=$t(ce),Et=[9,13,27,32],Fe=zn&&"CompositionEvent"in window,ut=null;zn&&"documentMode"in document&&(ut=document.documentMode);var Bn=zn&&"TextEvent"in window&&!ut,Pr=zn&&(!Fe||ut&&8<ut&&11>=ut),lr=" ",cr=!1;function $s(t,i){switch(t){case"keyup":return Et.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function no(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ro=!1;function xb(t,i){switch(t){case"compositionend":return no(i);case"keypress":return i.which!==32?null:(cr=!0,lr);case"textInput":return t=i.data,t===lr&&cr?null:t;default:return null}}function bb(t,i){if(ro)return t==="compositionend"||!Fe&&$s(t,i)?(t=Rl(),qs=kl=jr=null,ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pr&&i.locale!=="ko"?null:i.data;default:return null}}var Sb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g0(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Sb[t.type]:i==="textarea"}function y0(t,i,a,l){Mi?Dr?Dr.push(l):Dr=[l]:Mi=l,i=mh(i,"onChange"),0<i.length&&(a=new Mr("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ll=null,Dl=null;function Ab(t){J1(t,0)}function wu(t){var i=An(t);if(Us(i))return t}function v0(t,i){if(t==="change")return i}var _0=!1;if(zn){var af;if(zn){var of="oninput"in document;if(!of){var E0=document.createElement("div");E0.setAttribute("oninput","return;"),of=typeof E0.oninput=="function"}af=of}else af=!1;_0=af&&(!document.documentMode||9<document.documentMode)}function T0(){Ll&&(Ll.detachEvent("onpropertychange",x0),Dl=Ll=null)}function x0(t){if(t.propertyName==="value"&&wu(Dl)){var i=[];y0(i,Dl,t,Un(t)),Oi(Ab,i)}}function wb(t,i,a){t==="focusin"?(T0(),Ll=i,Dl=a,Ll.attachEvent("onpropertychange",x0)):t==="focusout"&&T0()}function kb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(Dl)}function Rb(t,i){if(t==="click")return wu(i)}function Cb(t,i){if(t==="input"||t==="change")return wu(i)}function Ib(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var kn=typeof Object.is=="function"?Object.is:Ib;function jl(t,i){if(kn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!St.call(i,d)||!kn(t[d],i[d]))return!1}return!0}function b0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function S0(t,i){var a=b0(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=b0(a)}}function A0(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?A0(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function w0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Lr(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Lr(t.document)}return i}function lf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Nb=zn&&"documentMode"in document&&11>=document.documentMode,io=null,cf=null,Ml=null,uf=!1;function k0(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uf||io==null||io!==Lr(l)||(l=io,"selectionStart"in l&&lf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ml&&jl(Ml,l)||(Ml=l,l=mh(cf,"onSelect"),0<l.length&&(i=new Mr("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=io)))}function Ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var so={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},hf={},R0={};zn&&(R0=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function Qs(t){if(hf[t])return hf[t];if(!so[t])return t;var i=so[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in R0)return hf[t]=i[a];return t}var C0=Qs("animationend"),I0=Qs("animationiteration"),N0=Qs("animationstart"),Lb=Qs("transitionrun"),Db=Qs("transitionstart"),jb=Qs("transitioncancel"),L0=Qs("transitionend"),D0=new Map,df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");df.push("scrollEnd");function ur(t,i){D0.set(t,i),Ir(i,[t])}var ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],ao=0,ff=0;function Ru(){for(var t=ao,i=ff=ao=0;i<t;){var a=Hn[i];Hn[i++]=null;var l=Hn[i];Hn[i++]=null;var d=Hn[i];Hn[i++]=null;var f=Hn[i];if(Hn[i++]=null,l!==null&&d!==null){var _=l.pending;_===null?d.next=d:(d.next=_.next,_.next=d),l.pending=d}f!==0&&j0(a,d,f)}}function Cu(t,i,a,l){Hn[ao++]=t,Hn[ao++]=i,Hn[ao++]=a,Hn[ao++]=l,ff|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function mf(t,i,a,l){return Cu(t,i,a,l),Iu(t)}function Ys(t,i){return Cu(t,null,null,i),Iu(t)}function j0(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&i!==null&&(d=31-_t(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),f):null}function Iu(t){if(50<rc)throw rc=0,bm=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var oo={};function Mb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,i,a,l){return new Mb(t,i,a,l)}function pf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ri(t,i){var a=t.alternate;return a===null?(a=Rn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function M0(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Nu(t,i,a,l,d,f){var _=0;if(l=t,typeof t=="function")pf(t)&&(_=1);else if(typeof t=="string")_=zS(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case k:return t=Rn(31,a,i,d),t.elementType=k,t.lanes=f,t;case z:return Xs(a.children,d,f,i);case H:_=8,d|=24;break;case ee:return t=Rn(12,a,i,d|2),t.elementType=ee,t.lanes=f,t;case le:return t=Rn(13,a,i,d),t.elementType=le,t.lanes=f,t;case oe:return t=Rn(19,a,i,d),t.elementType=oe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:_=10;break e;case X:_=9;break e;case F:_=11;break e;case C:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Rn(_,a,i,d),i.elementType=t,i.type=l,i.lanes=f,i}function Xs(t,i,a,l){return t=Rn(7,t,l,i),t.lanes=a,t}function gf(t,i,a){return t=Rn(6,t,null,i),t.lanes=a,t}function O0(t){var i=Rn(18,null,null,0);return i.stateNode=t,i}function yf(t,i,a){return i=Rn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var V0=new WeakMap;function qn(t,i){if(typeof t=="object"&&t!==null){var a=V0.get(t);return a!==void 0?a:(i={value:t,source:i,stack:dl(i)},V0.set(t,i),i)}return{value:t,source:i,stack:dl(i)}}var lo=[],co=0,Lu=null,Ol=0,Fn=[],Gn=0,zi=null,Ur=1,zr="";function ii(t,i){lo[co++]=Ol,lo[co++]=Lu,Lu=t,Ol=i}function P0(t,i,a){Fn[Gn++]=Ur,Fn[Gn++]=zr,Fn[Gn++]=zi,zi=t;var l=Ur;t=zr;var d=32-_t(l)-1;l&=~(1<<d),a+=1;var f=32-_t(i)+d;if(30<f){var _=d-d%5;f=(l&(1<<_)-1).toString(32),l>>=_,d-=_,Ur=1<<32-_t(i)+d|a<<d|l,zr=f+t}else Ur=1<<f|a<<d|l,zr=t}function vf(t){t.return!==null&&(ii(t,1),P0(t,1,0))}function _f(t){for(;t===Lu;)Lu=lo[--co],lo[co]=null,Ol=lo[--co],lo[co]=null;for(;t===zi;)zi=Fn[--Gn],Fn[Gn]=null,zr=Fn[--Gn],Fn[Gn]=null,Ur=Fn[--Gn],Fn[Gn]=null}function U0(t,i){Fn[Gn++]=Ur,Fn[Gn++]=zr,Fn[Gn++]=zi,Ur=i.id,zr=i.overflow,zi=t}var Kt=null,ot=null,Pe=!1,Bi=null,Wn=!1,Ef=Error(s(519));function Hi(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(qn(i,t)),Ef}function z0(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[wt]=t,i[Bt]=l,a){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(a=0;a<sc.length;a++)Le(sc[a],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),hu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),Di(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||rv(i.textContent,a)?(l.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),l.onScroll!=null&&Le("scroll",i),l.onScrollEnd!=null&&Le("scrollend",i),l.onClick!=null&&(i.onclick=sr),i=!0):i=!1,i||Hi(t,!0)}function B0(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Kt=Kt.return}}function uo(t){if(t!==Kt)return!1;if(!Pe)return B0(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Pm(t.type,t.memoizedProps)),a=!a),a&&ot&&Hi(t),B0(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=dv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=dv(t)}else i===27?(i=ot,ns(t.type)?(t=qm,qm=null,ot=t):ot=i):ot=Kt?Kn(t.stateNode.nextSibling):null;return!0}function Zs(){ot=Kt=null,Pe=!1}function Tf(){var t=Bi;return t!==null&&(En===null?En=t:En.push.apply(En,t),Bi=null),t}function Vl(t){Bi===null?Bi=[t]:Bi.push(t)}var xf=V(null),Js=null,si=null;function qi(t,i,a){ue(xf,i._currentValue),i._currentValue=a}function ai(t){t._currentValue=xf.current,ie(xf)}function bf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Sf(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var _=d.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=d;for(var L=0;L<i.length;L++)if(S.context===i[L]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),bf(f.return,a,t),l||(_=null);break e}f=S.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),bf(_,a,t),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===t){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function ho(t,i,a,l){t=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=d.type;kn(d.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(d===Ue.current){if(_=d.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(uc):t=[uc])}d=d.return}t!==null&&Sf(i,t,a,l),i.flags|=262144}function Du(t){for(t=t.firstContext;t!==null;){if(!kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){Js=t,si=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return H0(Js,t)}function ju(t,i){return Js===null&&ea(t),H0(t,i)}function H0(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},si===null){if(t===null)throw Error(s(308));si=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else si=si.next=i;return a}var Ob=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Vb=r.unstable_scheduleCallback,Pb=r.unstable_NormalPriority,Ct={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new Ob,data:new Map,refCount:0}}function Pl(t){t.refCount--,t.refCount===0&&Vb(Pb,function(){t.controller.abort()})}var Ul=null,wf=0,fo=0,mo=null;function Ub(t,i){if(Ul===null){var a=Ul=[];wf=0,fo=Cm(),mo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return wf++,i.then(q0,q0),i}function q0(){if(--wf===0&&Ul!==null){mo!==null&&(mo.status="fulfilled");var t=Ul;Ul=null,fo=0,mo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function zb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var F0=Z.S;Z.S=function(t,i){k1=un(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Ub(t,i),F0!==null&&F0(t,i)};var ta=V(null);function kf(){var t=ta.current;return t!==null?t:st.pooledCache}function Mu(t,i){i===null?ue(ta,ta.current):ue(ta,i.pool)}function G0(){var t=kf();return t===null?null:{parent:Ct._currentValue,pool:t}}var po=Error(s(460)),Rf=Error(s(474)),Ou=Error(s(542)),Vu={then:function(){}};function W0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $0(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(sr,sr),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Q0(t),t;default:if(typeof i.status=="string")i.then(sr,sr);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Q0(t),t}throw ra=i,po}}function na(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ra=a,po):a}}var ra=null;function K0(){if(ra===null)throw Error(s(459));var t=ra;return ra=null,t}function Q0(t){if(t===po||t===Ou)throw Error(s(483))}var go=null,zl=0;function Pu(t){var i=zl;return zl+=1,go===null&&(go=[]),$0(go,t,i)}function Bl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Uu(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Y0(t){function i(U,O){if(t){var G=U.deletions;G===null?(U.deletions=[O],U.flags|=16):G.push(O)}}function a(U,O){if(!t)return null;for(;O!==null;)i(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function d(U,O){return U=ri(U,O),U.index=0,U.sibling=null,U}function f(U,O,G){return U.index=G,t?(G=U.alternate,G!==null?(G=G.index,G<O?(U.flags|=67108866,O):G):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function S(U,O,G,te){return O===null||O.tag!==6?(O=gf(G,U.mode,te),O.return=U,O):(O=d(O,G),O.return=U,O)}function L(U,O,G,te){var ye=G.type;return ye===z?J(U,O,G.props.children,te,G.key):O!==null&&(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&na(ye)===O.type)?(O=d(O,G.props),Bl(O,G),O.return=U,O):(O=Nu(G.type,G.key,G.props,null,U.mode,te),Bl(O,G),O.return=U,O)}function W(U,O,G,te){return O===null||O.tag!==4||O.stateNode.containerInfo!==G.containerInfo||O.stateNode.implementation!==G.implementation?(O=yf(G,U.mode,te),O.return=U,O):(O=d(O,G.children||[]),O.return=U,O)}function J(U,O,G,te,ye){return O===null||O.tag!==7?(O=Xs(G,U.mode,te,ye),O.return=U,O):(O=d(O,G),O.return=U,O)}function re(U,O,G){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=gf(""+O,U.mode,G),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case j:return G=Nu(O.type,O.key,O.props,null,U.mode,G),Bl(G,O),G.return=U,G;case B:return O=yf(O,U.mode,G),O.return=U,O;case R:return O=na(O),re(U,O,G)}if(ft(O)||P(O))return O=Xs(O,U.mode,G,null),O.return=U,O;if(typeof O.then=="function")return re(U,Pu(O),G);if(O.$$typeof===ae)return re(U,ju(U,O),G);Uu(U,O)}return null}function K(U,O,G,te){var ye=O!==null?O.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ye!==null?null:S(U,O,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case j:return G.key===ye?L(U,O,G,te):null;case B:return G.key===ye?W(U,O,G,te):null;case R:return G=na(G),K(U,O,G,te)}if(ft(G)||P(G))return ye!==null?null:J(U,O,G,te,null);if(typeof G.then=="function")return K(U,O,Pu(G),te);if(G.$$typeof===ae)return K(U,O,ju(U,G),te);Uu(U,G)}return null}function Y(U,O,G,te,ye){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return U=U.get(G)||null,S(O,U,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case j:return U=U.get(te.key===null?G:te.key)||null,L(O,U,te,ye);case B:return U=U.get(te.key===null?G:te.key)||null,W(O,U,te,ye);case R:return te=na(te),Y(U,O,G,te,ye)}if(ft(te)||P(te))return U=U.get(G)||null,J(O,U,te,ye,null);if(typeof te.then=="function")return Y(U,O,G,Pu(te),ye);if(te.$$typeof===ae)return Y(U,O,G,ju(O,te),ye);Uu(O,te)}return null}function pe(U,O,G,te){for(var ye=null,He=null,ge=O,Ce=O=0,je=null;ge!==null&&Ce<G.length;Ce++){ge.index>Ce?(je=ge,ge=null):je=ge.sibling;var qe=K(U,ge,G[Ce],te);if(qe===null){ge===null&&(ge=je);break}t&&ge&&qe.alternate===null&&i(U,ge),O=f(qe,O,Ce),He===null?ye=qe:He.sibling=qe,He=qe,ge=je}if(Ce===G.length)return a(U,ge),Pe&&ii(U,Ce),ye;if(ge===null){for(;Ce<G.length;Ce++)ge=re(U,G[Ce],te),ge!==null&&(O=f(ge,O,Ce),He===null?ye=ge:He.sibling=ge,He=ge);return Pe&&ii(U,Ce),ye}for(ge=l(ge);Ce<G.length;Ce++)je=Y(ge,U,Ce,G[Ce],te),je!==null&&(t&&je.alternate!==null&&ge.delete(je.key===null?Ce:je.key),O=f(je,O,Ce),He===null?ye=je:He.sibling=je,He=je);return t&&ge.forEach(function(os){return i(U,os)}),Pe&&ii(U,Ce),ye}function _e(U,O,G,te){if(G==null)throw Error(s(151));for(var ye=null,He=null,ge=O,Ce=O=0,je=null,qe=G.next();ge!==null&&!qe.done;Ce++,qe=G.next()){ge.index>Ce?(je=ge,ge=null):je=ge.sibling;var os=K(U,ge,qe.value,te);if(os===null){ge===null&&(ge=je);break}t&&ge&&os.alternate===null&&i(U,ge),O=f(os,O,Ce),He===null?ye=os:He.sibling=os,He=os,ge=je}if(qe.done)return a(U,ge),Pe&&ii(U,Ce),ye;if(ge===null){for(;!qe.done;Ce++,qe=G.next())qe=re(U,qe.value,te),qe!==null&&(O=f(qe,O,Ce),He===null?ye=qe:He.sibling=qe,He=qe);return Pe&&ii(U,Ce),ye}for(ge=l(ge);!qe.done;Ce++,qe=G.next())qe=Y(ge,U,Ce,qe.value,te),qe!==null&&(t&&qe.alternate!==null&&ge.delete(qe.key===null?Ce:qe.key),O=f(qe,O,Ce),He===null?ye=qe:He.sibling=qe,He=qe);return t&&ge.forEach(function(XS){return i(U,XS)}),Pe&&ii(U,Ce),ye}function tt(U,O,G,te){if(typeof G=="object"&&G!==null&&G.type===z&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case j:e:{for(var ye=G.key;O!==null;){if(O.key===ye){if(ye=G.type,ye===z){if(O.tag===7){a(U,O.sibling),te=d(O,G.props.children),te.return=U,U=te;break e}}else if(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&na(ye)===O.type){a(U,O.sibling),te=d(O,G.props),Bl(te,G),te.return=U,U=te;break e}a(U,O);break}else i(U,O);O=O.sibling}G.type===z?(te=Xs(G.props.children,U.mode,te,G.key),te.return=U,U=te):(te=Nu(G.type,G.key,G.props,null,U.mode,te),Bl(te,G),te.return=U,U=te)}return _(U);case B:e:{for(ye=G.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===G.containerInfo&&O.stateNode.implementation===G.implementation){a(U,O.sibling),te=d(O,G.children||[]),te.return=U,U=te;break e}else{a(U,O);break}else i(U,O);O=O.sibling}te=yf(G,U.mode,te),te.return=U,U=te}return _(U);case R:return G=na(G),tt(U,O,G,te)}if(ft(G))return pe(U,O,G,te);if(P(G)){if(ye=P(G),typeof ye!="function")throw Error(s(150));return G=ye.call(G),_e(U,O,G,te)}if(typeof G.then=="function")return tt(U,O,Pu(G),te);if(G.$$typeof===ae)return tt(U,O,ju(U,G),te);Uu(U,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,O!==null&&O.tag===6?(a(U,O.sibling),te=d(O,G),te.return=U,U=te):(a(U,O),te=gf(G,U.mode,te),te.return=U,U=te),_(U)):a(U,O)}return function(U,O,G,te){try{zl=0;var ye=tt(U,O,G,te);return go=null,ye}catch(ge){if(ge===po||ge===Ou)throw ge;var He=Rn(29,ge,null,U.mode);return He.lanes=te,He.return=U,He}}}var ia=Y0(!0),X0=Y0(!1),Fi=!1;function Cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wi(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=Iu(t),j0(t,null,a),i}return Cu(t,l,i,a),Iu(t)}function Hl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,pl(t,a)}}function Nf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Lf=!1;function ql(){if(Lf){var t=mo;if(t!==null)throw t}}function Fl(t,i,a,l){Lf=!1;var d=t.updateQueue;Fi=!1;var f=d.firstBaseUpdate,_=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var L=S,W=L.next;L.next=null,_===null?f=W:_.next=W,_=L;var J=t.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==_&&(S===null?J.firstBaseUpdate=W:S.next=W,J.lastBaseUpdate=L))}if(f!==null){var re=d.baseState;_=0,J=W=L=null,S=f;do{var K=S.lane&-536870913,Y=K!==S.lane;if(Y?(De&K)===K:(l&K)===K){K!==0&&K===fo&&(Lf=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=t,_e=S;K=i;var tt=a;switch(_e.tag){case 1:if(pe=_e.payload,typeof pe=="function"){re=pe.call(tt,re,K);break e}re=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=_e.payload,K=typeof pe=="function"?pe.call(tt,re,K):pe,K==null)break e;re=b({},re,K);break e;case 2:Fi=!0}}K=S.callback,K!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=d.callbacks,Y===null?d.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(W=J=Y,L=re):J=J.next=Y,_|=K;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);J===null&&(L=re),d.baseState=L,d.firstBaseUpdate=W,d.lastBaseUpdate=J,f===null&&(d.shared.lanes=0),Xi|=_,t.lanes=_,t.memoizedState=re}}function Z0(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function J0(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Z0(a[t],i)}var yo=V(null),zu=V(0);function ey(t,i){t=pi,ue(zu,t),ue(yo,i),pi=t|i.baseLanes}function Df(){ue(zu,pi),ue(yo,yo.current)}function jf(){pi=zu.current,ie(yo),ie(zu)}var Cn=V(null),$n=null;function $i(t){var i=t.alternate;ue(Tt,Tt.current&1),ue(Cn,t),$n===null&&(i===null||yo.current!==null||i.memoizedState!==null)&&($n=t)}function Mf(t){ue(Tt,Tt.current),ue(Cn,t),$n===null&&($n=t)}function ty(t){t.tag===22?(ue(Tt,Tt.current),ue(Cn,t),$n===null&&($n=t)):Ki()}function Ki(){ue(Tt,Tt.current),ue(Cn,Cn.current)}function In(t){ie(Cn),$n===t&&($n=null),ie(Tt)}var Tt=V(0);function Bu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bm(a)||Hm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var oi=0,ke=null,Je=null,It=null,Hu=!1,vo=!1,sa=!1,qu=0,Gl=0,_o=null,Bb=0;function pt(){throw Error(s(321))}function Of(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!kn(t[a],i[a]))return!1;return!0}function Vf(t,i,a,l,d,f){return oi=f,ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Z.H=t===null||t.memoizedState===null?Py:Zf,sa=!1,f=a(l,d),sa=!1,vo&&(f=ry(i,a,l,d)),ny(t),f}function ny(t){Z.H=Kl;var i=Je!==null&&Je.next!==null;if(oi=0,It=Je=ke=null,Hu=!1,Gl=0,_o=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&Du(t)&&(Nt=!0))}function ry(t,i,a,l){ke=t;var d=0;do{if(vo&&(_o=null),Gl=0,vo=!1,25<=d)throw Error(s(301));if(d+=1,It=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Z.H=Uy,f=i(a,l)}while(vo);return f}function Hb(){var t=Z.H,i=t.useState()[0];return i=typeof i.then=="function"?Wl(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(ke.flags|=1024),i}function Pf(){var t=qu!==0;return qu=0,t}function Uf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function zf(t){if(Hu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Hu=!1}oi=0,It=Je=ke=null,vo=!1,Gl=qu=0,_o=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?ke.memoizedState=It=t:It=It.next=t,It}function xt(){if(Je===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=It===null?ke.memoizedState:It.next;if(i!==null)It=i,Je=t;else{if(t===null)throw ke.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},It===null?ke.memoizedState=It=t:It=It.next=t}return It}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(t){var i=Gl;return Gl+=1,_o===null&&(_o=[]),t=$0(_o,t,i),i=ke,(It===null?i.memoizedState:It.next)===null&&(i=i.alternate,Z.H=i===null||i.memoizedState===null?Py:Zf),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wl(t);if(t.$$typeof===ae)return Qt(t)}throw Error(s(438,String(t)))}function Bf(t){var i=null,a=ke.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Fu(),ke.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=N;return i.index++,a}function li(t,i){return typeof i=="function"?i(t):i}function Wu(t){var i=xt();return Hf(i,Je,t)}function Hf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var _=d.next;d.next=f.next,f.next=_}i.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{i=d.next;var S=_=null,L=null,W=i,J=!1;do{var re=W.lane&-536870913;if(re!==W.lane?(De&re)===re:(oi&re)===re){var K=W.revertLane;if(K===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),re===fo&&(J=!0);else if((oi&K)===K){W=W.next,K===fo&&(J=!0);continue}else re={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(S=L=re,_=f):L=L.next=re,ke.lanes|=K,Xi|=K;re=W.action,sa&&a(f,re),f=W.hasEagerState?W.eagerState:a(f,re)}else K={lane:re,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(S=L=K,_=f):L=L.next=K,ke.lanes|=re,Xi|=re;W=W.next}while(W!==null&&W!==i);if(L===null?_=f:L.next=S,!kn(f,t.memoizedState)&&(Nt=!0,J&&(a=mo,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=L,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function qf(t){var i=xt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do f=t(f,_.action),_=_.next;while(_!==d);kn(f,i.memoizedState)||(Nt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function iy(t,i,a){var l=ke,d=xt(),f=Pe;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!kn((Je||d).memoizedState,a);if(_&&(d.memoizedState=a,Nt=!0),d=d.queue,Wf(oy.bind(null,l,d,t),[t]),d.getSnapshot!==i||_||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,Eo(9,{destroy:void 0},ay.bind(null,l,d,a,i),null),st===null)throw Error(s(349));f||(oi&127)!==0||sy(l,i,a)}return a}function sy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=ke.updateQueue,i===null?(i=Fu(),ke.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ay(t,i,a,l){i.value=a,i.getSnapshot=l,ly(i)&&cy(t)}function oy(t,i,a){return a(function(){ly(i)&&cy(t)})}function ly(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!kn(t,a)}catch{return!0}}function cy(t){var i=Ys(t,2);i!==null&&Tn(i,t,2)}function Ff(t){var i=dn();if(typeof t=="function"){var a=t;if(t=a(),sa){Vn(!0);try{a()}finally{Vn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:t},i}function uy(t,i,a,l){return t.baseState=a,Hf(t,Je,typeof l=="function"?l:li)}function qb(t,i,a,l,d){if(Qu(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};Z.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,hy(i,f)):(f.next=a.next,i.pending=a.next=f)}}function hy(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var f=Z.T,_={};Z.T=_;try{var S=a(d,l),L=Z.S;L!==null&&L(_,S),dy(t,i,S)}catch(W){Gf(t,i,W)}finally{f!==null&&_.types!==null&&(f.types=_.types),Z.T=f}}else try{f=a(d,l),dy(t,i,f)}catch(W){Gf(t,i,W)}}function dy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){fy(t,i,l)},function(l){return Gf(t,i,l)}):fy(t,i,a)}function fy(t,i,a){i.status="fulfilled",i.value=a,my(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,hy(t,a)))}function Gf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,my(i),i=i.next;while(i!==l)}t.action=null}function my(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function py(t,i){return i}function gy(t,i){if(Pe){var a=st.formState;if(a!==null){e:{var l=ke;if(Pe){if(ot){t:{for(var d=ot,f=Wn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Kn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){ot=Kn(d.nextSibling),l=d.data==="F!";break e}}Hi(l)}l=!1}l&&(i=a[0])}}return a=dn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:py,lastRenderedState:i},a.queue=l,a=My.bind(null,ke,l),l.dispatch=a,l=Ff(!1),f=Xf.bind(null,ke,!1,l.queue),l=dn(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=qb.bind(null,ke,d,f,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function yy(t){var i=xt();return vy(i,Je,t)}function vy(t,i,a){if(i=Hf(t,i,py)[0],t=Wu(li)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Wl(i)}catch(_){throw _===po?Ou:_}else l=i;i=xt();var d=i.queue,f=d.dispatch;return a!==i.memoizedState&&(ke.flags|=2048,Eo(9,{destroy:void 0},Fb.bind(null,d,a),null)),[l,f,t]}function Fb(t,i){t.action=i}function _y(t){var i=xt(),a=Je;if(a!==null)return vy(i,a,t);xt(),i=i.memoizedState,a=xt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Eo(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=ke.updateQueue,i===null&&(i=Fu(),ke.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ey(){return xt().memoizedState}function $u(t,i,a,l){var d=dn();ke.flags|=t,d.memoizedState=Eo(1|i,{destroy:void 0},a,l===void 0?null:l)}function Ku(t,i,a,l){var d=xt();l=l===void 0?null:l;var f=d.memoizedState.inst;Je!==null&&l!==null&&Of(l,Je.memoizedState.deps)?d.memoizedState=Eo(i,f,a,l):(ke.flags|=t,d.memoizedState=Eo(1|i,f,a,l))}function Ty(t,i){$u(8390656,8,t,i)}function Wf(t,i){Ku(2048,8,t,i)}function Gb(t){ke.flags|=4;var i=ke.updateQueue;if(i===null)i=Fu(),ke.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function xy(t){var i=xt().memoizedState;return Gb({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function by(t,i){return Ku(4,2,t,i)}function Sy(t,i){return Ku(4,4,t,i)}function Ay(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function wy(t,i,a){a=a!=null?a.concat([t]):null,Ku(4,4,Ay.bind(null,i,t),a)}function $f(){}function ky(t,i){var a=xt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Of(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Ry(t,i){var a=xt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Of(i,l[1]))return l[0];if(l=t(),sa){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,i],l}function Kf(t,i,a){return a===void 0||(oi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=C1(),ke.lanes|=t,Xi|=t,a)}function Cy(t,i,a,l){return kn(a,i)?a:yo.current!==null?(t=Kf(t,a,l),kn(t,i)||(Nt=!0),t):(oi&42)===0||(oi&1073741824)!==0&&(De&261930)===0?(Nt=!0,t.memoizedState=a):(t=C1(),ke.lanes|=t,Xi|=t,i)}function Iy(t,i,a,l,d){var f=$.p;$.p=f!==0&&8>f?f:8;var _=Z.T,S={};Z.T=S,Xf(t,!1,i,a);try{var L=d(),W=Z.S;if(W!==null&&W(S,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var J=zb(L,l);$l(t,i,J,Dn(t))}else $l(t,i,l,Dn(t))}catch(re){$l(t,i,{then:function(){},status:"rejected",reason:re},Dn())}finally{$.p=f,_!==null&&S.types!==null&&(_.types=S.types),Z.T=_}}function Wb(){}function Qf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var d=Ny(t).queue;Iy(t,d,i,fe,a===null?Wb:function(){return Ly(t),a(l)})}function Ny(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:fe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ly(t){var i=Ny(t);i.next===null&&(i=t.alternate.memoizedState),$l(t,i.next.queue,{},Dn())}function Yf(){return Qt(uc)}function Dy(){return xt().memoizedState}function jy(){return xt().memoizedState}function $b(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Dn();t=Gi(a);var l=Wi(i,t,a);l!==null&&(Tn(l,i,a),Hl(l,i,a)),i={cache:Af()},t.payload=i;return}i=i.return}}function Kb(t,i,a){var l=Dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Qu(t)?Oy(i,a):(a=mf(t,i,a,l),a!==null&&(Tn(a,t,l),Vy(a,i,l)))}function My(t,i,a){var l=Dn();$l(t,i,a,l)}function $l(t,i,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qu(t))Oy(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,S=f(_,a);if(d.hasEagerState=!0,d.eagerState=S,kn(S,_))return Cu(t,i,d,0),st===null&&Ru(),!1}catch{}if(a=mf(t,i,d,l),a!==null)return Tn(a,t,l),Vy(a,i,l),!0}return!1}function Xf(t,i,a,l){if(l={lane:2,revertLane:Cm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Qu(t)){if(i)throw Error(s(479))}else i=mf(t,a,l,2),i!==null&&Tn(i,t,2)}function Qu(t){var i=t.alternate;return t===ke||i!==null&&i===ke}function Oy(t,i){vo=Hu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Vy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,pl(t,a)}}var Kl={readContext:Qt,use:Gu,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Kl.useEffectEvent=pt;var Py={readContext:Qt,use:Gu,useCallback:function(t,i){return dn().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:Ty,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,$u(4194308,4,Ay.bind(null,i,t),a)},useLayoutEffect:function(t,i){return $u(4194308,4,t,i)},useInsertionEffect:function(t,i){$u(4,2,t,i)},useMemo:function(t,i){var a=dn();i=i===void 0?null:i;var l=t();if(sa){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=dn();if(a!==void 0){var d=a(i);if(sa){Vn(!0);try{a(i)}finally{Vn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=Kb.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var i=dn();return t={current:t},i.memoizedState=t},useState:function(t){t=Ff(t);var i=t.queue,a=My.bind(null,ke,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:$f,useDeferredValue:function(t,i){var a=dn();return Kf(a,t,i)},useTransition:function(){var t=Ff(!1);return t=Iy.bind(null,ke,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=ke,d=dn();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),st===null)throw Error(s(349));(De&127)!==0||sy(l,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,Ty(oy.bind(null,l,f,t),[t]),l.flags|=2048,Eo(9,{destroy:void 0},ay.bind(null,l,f,a,i),null),a},useId:function(){var t=dn(),i=st.identifierPrefix;if(Pe){var a=zr,l=Ur;a=(l&~(1<<32-_t(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=qu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Bb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Yf,useFormState:gy,useActionState:gy,useOptimistic:function(t){var i=dn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Xf.bind(null,ke,!0,a),a.dispatch=i,[t,i]},useMemoCache:Bf,useCacheRefresh:function(){return dn().memoizedState=$b.bind(null,ke)},useEffectEvent:function(t){var i=dn(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Zf={readContext:Qt,use:Gu,useCallback:ky,useContext:Qt,useEffect:Wf,useImperativeHandle:wy,useInsertionEffect:by,useLayoutEffect:Sy,useMemo:Ry,useReducer:Wu,useRef:Ey,useState:function(){return Wu(li)},useDebugValue:$f,useDeferredValue:function(t,i){var a=xt();return Cy(a,Je.memoizedState,t,i)},useTransition:function(){var t=Wu(li)[0],i=xt().memoizedState;return[typeof t=="boolean"?t:Wl(t),i]},useSyncExternalStore:iy,useId:Dy,useHostTransitionStatus:Yf,useFormState:yy,useActionState:yy,useOptimistic:function(t,i){var a=xt();return uy(a,Je,t,i)},useMemoCache:Bf,useCacheRefresh:jy};Zf.useEffectEvent=xy;var Uy={readContext:Qt,use:Gu,useCallback:ky,useContext:Qt,useEffect:Wf,useImperativeHandle:wy,useInsertionEffect:by,useLayoutEffect:Sy,useMemo:Ry,useReducer:qf,useRef:Ey,useState:function(){return qf(li)},useDebugValue:$f,useDeferredValue:function(t,i){var a=xt();return Je===null?Kf(a,t,i):Cy(a,Je.memoizedState,t,i)},useTransition:function(){var t=qf(li)[0],i=xt().memoizedState;return[typeof t=="boolean"?t:Wl(t),i]},useSyncExternalStore:iy,useId:Dy,useHostTransitionStatus:Yf,useFormState:_y,useActionState:_y,useOptimistic:function(t,i){var a=xt();return Je!==null?uy(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:jy};Uy.useEffectEvent=xy;function Jf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var em={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Dn(),d=Gi(l);d.payload=i,a!=null&&(d.callback=a),i=Wi(t,d,l),i!==null&&(Tn(i,t,l),Hl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Dn(),d=Gi(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Wi(t,d,l),i!==null&&(Tn(i,t,l),Hl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Dn(),l=Gi(a);l.tag=2,i!=null&&(l.callback=i),i=Wi(t,l,a),i!==null&&(Tn(i,t,a),Hl(i,t,a))}};function zy(t,i,a,l,d,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):i.prototype&&i.prototype.isPureReactComponent?!jl(a,l)||!jl(d,f):!0}function By(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&em.enqueueReplaceState(i,i.state,null)}function aa(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function Hy(t){ku(t)}function qy(t){console.error(t)}function Fy(t){ku(t)}function Yu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Gy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function tm(t,i,a){return a=Gi(a),a.tag=3,a.payload={element:null},a.callback=function(){Yu(t,i)},a}function Wy(t){return t=Gi(t),t.tag=3,t}function $y(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){Gy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Gy(i,a,l),typeof d!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Qb(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ho(i,a,d,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return $n===null?lh():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Vu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),wm(t,l,d)),!1;case 22:return a.flags|=65536,l===Vu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),wm(t,l,d)),!1}throw Error(s(435,a.tag))}return wm(t,l,d),lh(),!1}if(Pe)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==Ef&&(t=Error(s(422),{cause:l}),Vl(qn(t,a)))):(l!==Ef&&(i=Error(s(423),{cause:l}),Vl(qn(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=qn(l,a),d=tm(t.stateNode,l,d),Nf(t,d),gt!==4&&(gt=2)),!1;var f=Error(s(520),{cause:l});if(f=qn(f,a),nc===null?nc=[f]:nc.push(f),gt!==4&&(gt=2),i===null)return!0;l=qn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=tm(a.stateNode,l,t),Nf(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zi===null||!Zi.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Wy(d),$y(d,t,a,l),Nf(a,d),!1}a=a.return}while(a!==null);return!1}var nm=Error(s(461)),Nt=!1;function Yt(t,i,a,l){i.child=t===null?X0(i,null,a,l):ia(i,t.child,a,l)}function Ky(t,i,a,l,d){a=a.render;var f=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return ea(i),l=Vf(t,i,a,_,f,d),S=Pf(),t!==null&&!Nt?(Uf(t,i,d),ci(t,i,d)):(Pe&&S&&vf(i),i.flags|=1,Yt(t,i,l,d),i.child)}function Qy(t,i,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!pf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Yy(t,i,f,l,d)):(t=Nu(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!um(t,d)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:jl,a(_,l)&&t.ref===i.ref)return ci(t,i,d)}return i.flags|=1,t=ri(f,l),t.ref=i.ref,t.return=i,i.child=t}function Yy(t,i,a,l,d){if(t!==null){var f=t.memoizedProps;if(jl(f,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=f,um(t,d))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,ci(t,i,d)}return rm(t,i,a,l,d)}function Xy(t,i,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,i.child=null;return Zy(t,i,f,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mu(i,f!==null?f.cachePool:null),f!==null?ey(i,f):Df(),ty(i);else return l=i.lanes=536870912,Zy(t,i,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Mu(i,f.cachePool),ey(i,f),Ki(),i.memoizedState=null):(t!==null&&Mu(i,null),Df(),Ki());return Yt(t,i,d,a),i.child}function Ql(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Zy(t,i,a,l,d){var f=kf();return f=f===null?null:{parent:Ct._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Mu(i,null),Df(),ty(i),t!==null&&ho(t,i,l,!0),i.childLanes=d,null}function Xu(t,i){return i=Ju({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Jy(t,i,a){return ia(i,t.child,null,a),t=Xu(i,i.pendingProps),t.flags|=2,In(i),i.memoizedState=null,t}function Yb(t,i,a){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Xu(i,l),i.lanes=536870912,Ql(null,t);if(Mf(i),(t=ot)?(t=hv(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:zi!==null?{id:Ur,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},a=O0(t),a.return=i,i.child=a,Kt=i,ot=null)):t=null,t===null)throw Hi(i);return i.lanes=536870912,null}return Xu(i,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Mf(i),d)if(i.flags&256)i.flags&=-257,i=Jy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Nt||ho(t,i,a,!1),d=(a&t.childLanes)!==0,Nt||d){if(l=st,l!==null&&(_=gl(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Ys(t,_),Tn(l,t,_),nm;lh(),i=Jy(t,i,a)}else t=f.treeContext,ot=Kn(_.nextSibling),Kt=i,Pe=!0,Bi=null,Wn=!1,t!==null&&U0(i,t),i=Xu(i,l),i.flags|=4096;return i}return t=ri(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Zu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function rm(t,i,a,l,d){return ea(i),a=Vf(t,i,a,l,void 0,d),l=Pf(),t!==null&&!Nt?(Uf(t,i,d),ci(t,i,d)):(Pe&&l&&vf(i),i.flags|=1,Yt(t,i,a,d),i.child)}function e1(t,i,a,l,d,f){return ea(i),i.updateQueue=null,a=ry(i,l,a,d),ny(t),l=Pf(),t!==null&&!Nt?(Uf(t,i,f),ci(t,i,f)):(Pe&&l&&vf(i),i.flags|=1,Yt(t,i,a,f),i.child)}function t1(t,i,a,l,d){if(ea(i),i.stateNode===null){var f=oo,_=a.contextType;typeof _=="object"&&_!==null&&(f=Qt(_)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=em,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},Cf(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?Qt(_):oo,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Jf(i,a,_,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&em.enqueueReplaceState(f,f.state,null),Fl(i,l,f,d),ql(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var S=i.memoizedProps,L=aa(a,S);f.props=L;var W=f.context,J=a.contextType;_=oo,typeof J=="object"&&J!==null&&(_=Qt(J));var re=a.getDerivedStateFromProps;J=typeof re=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||W!==_)&&By(i,f,l,_),Fi=!1;var K=i.memoizedState;f.state=K,Fl(i,l,f,d),ql(),W=i.memoizedState,S||K!==W||Fi?(typeof re=="function"&&(Jf(i,a,re,l),W=i.memoizedState),(L=Fi||zy(i,a,L,l,K,W,_))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=W),f.props=l,f.state=W,f.context=_,l=L):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,If(t,i),_=i.memoizedProps,J=aa(a,_),f.props=J,re=i.pendingProps,K=f.context,W=a.contextType,L=oo,typeof W=="object"&&W!==null&&(L=Qt(W)),S=a.getDerivedStateFromProps,(W=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==re||K!==L)&&By(i,f,l,L),Fi=!1,K=i.memoizedState,f.state=K,Fl(i,l,f,d),ql();var Y=i.memoizedState;_!==re||K!==Y||Fi||t!==null&&t.dependencies!==null&&Du(t.dependencies)?(typeof S=="function"&&(Jf(i,a,S,l),Y=i.memoizedState),(J=Fi||zy(i,a,J,l,K,Y,L)||t!==null&&t.dependencies!==null&&Du(t.dependencies))?(W||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,L),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,L)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),f.props=l,f.state=Y,f.context=L,l=J):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,Zu(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=ia(i,t.child,null,d),i.child=ia(i,null,a,d)):Yt(t,i,a,d),i.memoizedState=f.state,t=i.child):t=ci(t,i,d),t}function n1(t,i,a,l){return Zs(),i.flags|=256,Yt(t,i,a,l),i.child}var im={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sm(t){return{baseLanes:t,cachePool:G0()}}function am(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Ln),t}function r1(t,i,a){var l=i.pendingProps,d=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Tt.current&2)!==0),_&&(d=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(d?$i(i):Ki(),(t=ot)?(t=hv(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:zi!==null?{id:Ur,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},a=O0(t),a.return=i,i.child=a,Kt=i,ot=null)):t=null,t===null)throw Hi(i);return Hm(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,d?(Ki(),d=i.mode,S=Ju({mode:"hidden",children:S},d),l=Xs(l,d,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=sm(a),l.childLanes=am(t,_,a),i.memoizedState=im,Ql(null,l)):($i(i),om(i,S))}var L=t.memoizedState;if(L!==null&&(S=L.dehydrated,S!==null)){if(f)i.flags&256?($i(i),i.flags&=-257,i=lm(t,i,a)):i.memoizedState!==null?(Ki(),i.child=t.child,i.flags|=128,i=null):(Ki(),S=l.fallback,d=i.mode,l=Ju({mode:"visible",children:l.children},d),S=Xs(S,d,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,ia(i,t.child,null,a),l=i.child,l.memoizedState=sm(a),l.childLanes=am(t,_,a),i.memoizedState=im,i=Ql(null,l));else if($i(i),Hm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var W=_.dgst;_=W,l=Error(s(419)),l.stack="",l.digest=_,Vl({value:l,source:null,stack:null}),i=lm(t,i,a)}else if(Nt||ho(t,i,a,!1),_=(a&t.childLanes)!==0,Nt||_){if(_=st,_!==null&&(l=gl(_,a),l!==0&&l!==L.retryLane))throw L.retryLane=l,Ys(t,l),Tn(_,t,l),nm;Bm(S)||lh(),i=lm(t,i,a)}else Bm(S)?(i.flags|=192,i.child=t.child,i=null):(t=L.treeContext,ot=Kn(S.nextSibling),Kt=i,Pe=!0,Bi=null,Wn=!1,t!==null&&U0(i,t),i=om(i,l.children),i.flags|=4096);return i}return d?(Ki(),S=l.fallback,d=i.mode,L=t.child,W=L.sibling,l=ri(L,{mode:"hidden",children:l.children}),l.subtreeFlags=L.subtreeFlags&65011712,W!==null?S=ri(W,S):(S=Xs(S,d,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Ql(null,l),l=i.child,S=t.child.memoizedState,S===null?S=sm(a):(d=S.cachePool,d!==null?(L=Ct._currentValue,d=d.parent!==L?{parent:L,pool:L}:d):d=G0(),S={baseLanes:S.baseLanes|a,cachePool:d}),l.memoizedState=S,l.childLanes=am(t,_,a),i.memoizedState=im,Ql(t.child,l)):($i(i),a=t.child,t=a.sibling,a=ri(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function om(t,i){return i=Ju({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ju(t,i){return t=Rn(22,t,null,i),t.lanes=0,t}function lm(t,i,a){return ia(i,t.child,null,a),t=om(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function i1(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),bf(t.return,i,a)}function cm(t,i,a,l,d,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=d,_.treeForkCount=f)}function s1(t,i,a){var l=i.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var _=Tt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ue(Tt,_),Yt(t,i,l,a),l=Pe?Ol:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i1(t,a,i);else if(t.tag===19)i1(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&Bu(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),cm(i,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Bu(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}cm(i,!0,a,null,f,l);break;case"together":cm(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ci(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Xi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ho(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ri(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ri(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function um(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Du(t)))}function Xb(t,i,a){switch(i.tag){case 3:Vt(i,i.stateNode.containerInfo),qi(i,Ct,t.memoizedState.cache),Zs();break;case 27:case 5:Ls(i);break;case 4:Vt(i,i.stateNode.containerInfo);break;case 10:qi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Mf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?($i(i),i.flags|=128,null):(a&i.child.childLanes)!==0?r1(t,i,a):($i(i),t=ci(t,i,a),t!==null?t.sibling:null);$i(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ho(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return s1(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ue(Tt,Tt.current),l)break;return null;case 22:return i.lanes=0,Xy(t,i,a,i.pendingProps);case 24:qi(i,Ct,t.memoizedState.cache)}return ci(t,i,a)}function a1(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!um(t,a)&&(i.flags&128)===0)return Nt=!1,Xb(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,Pe&&(i.flags&1048576)!==0&&P0(i,Ol,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=na(i.elementType),i.type=t,typeof t=="function")pf(t)?(l=aa(t,l),i.tag=1,i=t1(null,i,t,l,a)):(i.tag=0,i=rm(null,i,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===F){i.tag=11,i=Ky(null,i,t,l,a);break e}else if(d===C){i.tag=14,i=Qy(null,i,t,l,a);break e}}throw i=Xe(t)||t,Error(s(306,i,""))}}return i;case 0:return rm(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=aa(l,i.pendingProps),t1(t,i,l,d,a);case 3:e:{if(Vt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;d=f.element,If(t,i),Fl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,qi(i,Ct,l),l!==f.cache&&Sf(i,[Ct],a,!0),ql(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=n1(t,i,l,a);break e}else if(l!==d){d=qn(Error(s(424)),i),Vl(d),i=n1(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ot=Kn(t.firstChild),Kt=i,Pe=!0,Bi=null,Wn=!0,a=X0(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Zs(),l===d){i=ci(t,i,a);break e}Yt(t,i,l,a)}i=i.child}return i;case 26:return Zu(t,i),t===null?(a=yv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=ph(Re.current).createElement(a),l[wt]=i,l[Bt]=t,Xt(l,a,t),kt(l),i.stateNode=l):i.memoizedState=yv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ls(i),t===null&&Pe&&(l=i.stateNode=mv(i.type,i.pendingProps,Re.current),Kt=i,Wn=!0,d=ot,ns(i.type)?(qm=d,ot=Kn(l.firstChild)):ot=d),Yt(t,i,i.pendingProps.children,a),Zu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((d=l=ot)&&(l=kS(l,i.type,i.pendingProps,Wn),l!==null?(i.stateNode=l,Kt=i,ot=Kn(l.firstChild),Wn=!1,d=!0):d=!1),d||Hi(i)),Ls(i),d=i.type,f=i.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Pm(d,f)?l=null:_!==null&&Pm(d,_)&&(i.flags|=32),i.memoizedState!==null&&(d=Vf(t,i,Hb,null,null,a),uc._currentValue=d),Zu(t,i),Yt(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=ot)&&(a=RS(a,i.pendingProps,Wn),a!==null?(i.stateNode=a,Kt=i,ot=null,t=!0):t=!1),t||Hi(i)),null;case 13:return r1(t,i,a);case 4:return Vt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ia(i,null,l,a):Yt(t,i,l,a),i.child;case 11:return Ky(t,i,i.type,i.pendingProps,a);case 7:return Yt(t,i,i.pendingProps,a),i.child;case 8:return Yt(t,i,i.pendingProps.children,a),i.child;case 12:return Yt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,qi(i,i.type,l.value),Yt(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,ea(i),d=Qt(d),l=l(d),i.flags|=1,Yt(t,i,l,a),i.child;case 14:return Qy(t,i,i.type,i.pendingProps,a);case 15:return Yy(t,i,i.type,i.pendingProps,a);case 19:return s1(t,i,a);case 31:return Yb(t,i,a);case 22:return Xy(t,i,a,i.pendingProps);case 24:return ea(i),l=Qt(Ct),t===null?(d=kf(),d===null&&(d=st,f=Af(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),i.memoizedState={parent:l,cache:d},Cf(i),qi(i,Ct,d)):((t.lanes&a)!==0&&(If(t,i),Fl(i,null,null,a),ql()),d=t.memoizedState,f=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),qi(i,Ct,l)):(l=f.cache,qi(i,Ct,l),l!==d.cache&&Sf(i,[Ct],a,!0))),Yt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ui(t){t.flags|=4}function hm(t,i,a,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(D1())t.flags|=8192;else throw ra=Vu,Rf}else t.flags&=-16777217}function o1(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!xv(i))if(D1())t.flags|=8192;else throw ra=Vu,Rf}function eh(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?au():536870912,t.lanes|=i,So|=i)}function Yl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Zb(t,i,a){var l=i.pendingProps;switch(_f(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ai(Ct),ct(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(uo(i)?ui(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tf())),lt(i),null;case 26:var d=i.type,f=i.memoizedState;return t===null?(ui(i),f!==null?(lt(i),o1(i,f)):(lt(i),hm(i,d,null,l,a))):f?f!==t.memoizedState?(ui(i),lt(i),o1(i,f)):(lt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ui(i),lt(i),hm(i,d,t,l,a)),null;case 27:if(Ha(i),a=Re.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}t=me.current,uo(i)?z0(i):(t=mv(d,l,a),i.stateNode=t,ui(i))}return lt(i),null;case 5:if(Ha(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}if(f=me.current,uo(i))z0(i);else{var _=ph(Re.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(d,{is:l.is}):_.createElement(d)}}f[wt]=i,f[Bt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;e:switch(Xt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ui(i)}}return lt(i),hm(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Re.current,uo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=Kt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[wt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||rv(t.nodeValue,a)),t||Hi(i,!0)}else t=ph(t).createTextNode(l),t[wt]=i,i.stateNode=t}return lt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=uo(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[wt]=i}else Zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),t=!1}else a=Tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(In(i),i):(In(i),null);if((i.flags&128)!==0)throw Error(s(558))}return lt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=uo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[wt]=i}else Zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),d=!1}else d=Tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(In(i),i):(In(i),null)}return In(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),eh(i,i.updateQueue),lt(i),null);case 4:return ct(),t===null&&Dm(i.stateNode.containerInfo),lt(i),null;case 10:return ai(i.type),lt(i),null;case 19:if(ie(Tt),l=i.memoizedState,l===null)return lt(i),null;if(d=(i.flags&128)!==0,f=l.rendering,f===null)if(d)Yl(l,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Bu(t),f!==null){for(i.flags|=128,Yl(l,!1),t=f.updateQueue,i.updateQueue=t,eh(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)M0(a,t),a=a.sibling;return ue(Tt,Tt.current&1|2),Pe&&ii(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&un()>sh&&(i.flags|=128,d=!0,Yl(l,!1),i.lanes=4194304)}else{if(!d)if(t=Bu(f),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,eh(i,t),Yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Pe)return lt(i),null}else 2*un()-l.renderingStartTime>sh&&a!==536870912&&(i.flags|=128,d=!0,Yl(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(t=l.last,t!==null?t.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=un(),t.sibling=null,a=Tt.current,ue(Tt,d?a&1|2:a&1),Pe&&ii(i,l.treeForkCount),t):(lt(i),null);case 22:case 23:return In(i),jf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&eh(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ie(ta),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ai(Ct),lt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Jb(t,i){switch(_f(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ai(Ct),ct(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ha(i),null;case 31:if(i.memoizedState!==null){if(In(i),i.alternate===null)throw Error(s(340));Zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(In(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ie(Tt),null;case 4:return ct(),null;case 10:return ai(i.type),null;case 22:case 23:return In(i),jf(),t!==null&&ie(ta),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ai(Ct),null;case 25:return null;default:return null}}function l1(t,i){switch(_f(i),i.tag){case 3:ai(Ct),ct();break;case 26:case 27:case 5:Ha(i);break;case 4:ct();break;case 31:i.memoizedState!==null&&In(i);break;case 13:In(i);break;case 19:ie(Tt);break;case 10:ai(i.type);break;case 22:case 23:In(i),jf(),t!==null&&ie(ta);break;case 24:ai(Ct)}}function Xl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==d)}}catch(S){Qe(i,i.return,S)}}function Qi(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,d=i;var L=a,W=S;try{W()}catch(J){Qe(d,L,J)}}}l=l.next}while(l!==f)}}catch(J){Qe(i,i.return,J)}}function c1(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{J0(i,a)}catch(l){Qe(t,t.return,l)}}}function u1(t,i,a){a.props=aa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(t,i,l)}}function Zl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){Qe(t,i,d)}}function Br(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Qe(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Qe(t,i,d)}else a.current=null}function h1(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Qe(t,t.return,d)}}function dm(t,i,a){try{var l=t.stateNode;TS(l,t.type,a,i),l[Bt]=i}catch(d){Qe(t,t.return,d)}}function d1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ns(t.type)||t.tag===4}function fm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||d1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ns(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mm(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=sr));else if(l!==4&&(l===27&&ns(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(mm(t,i,a),t=t.sibling;t!==null;)mm(t,i,a),t=t.sibling}function th(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&ns(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(th(t,i,a),t=t.sibling;t!==null;)th(t,i,a),t=t.sibling}function f1(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Xt(i,l,a),i[wt]=t,i[Bt]=a}catch(f){Qe(t,t.return,f)}}var hi=!1,Lt=!1,pm=!1,m1=typeof WeakSet=="function"?WeakSet:Set,qt=null;function eS(t,i){if(t=t.containerInfo,Om=xh,t=w0(t),lf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,S=-1,L=-1,W=0,J=0,re=t,K=null;t:for(;;){for(var Y;re!==a||d!==0&&re.nodeType!==3||(S=_+d),re!==f||l!==0&&re.nodeType!==3||(L=_+l),re.nodeType===3&&(_+=re.nodeValue.length),(Y=re.firstChild)!==null;)K=re,re=Y;for(;;){if(re===t)break t;if(K===a&&++W===d&&(S=_),K===f&&++J===l&&(L=_),(Y=re.nextSibling)!==null)break;re=K,K=re.parentNode}re=Y}a=S===-1||L===-1?null:{start:S,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vm={focusedElem:t,selectionRange:a},xh=!1,qt=i;qt!==null;)if(i=qt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,qt=t;else for(;qt!==null;){switch(i=qt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var pe=aa(a.type,d);t=l.getSnapshotBeforeUpdate(pe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Qe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)zm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":zm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,qt=t;break}qt=i.return}}function p1(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fi(t,a),l&4&&Xl(5,a);break;case 1:if(fi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Qe(a,a.return,_)}else{var d=aa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Qe(a,a.return,_)}}l&64&&c1(a),l&512&&Zl(a,a.return);break;case 3:if(fi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{J0(t,i)}catch(_){Qe(a,a.return,_)}}break;case 27:i===null&&l&4&&f1(a);case 26:case 5:fi(t,a),i===null&&l&4&&h1(a),l&512&&Zl(a,a.return);break;case 12:fi(t,a);break;case 31:fi(t,a),l&4&&v1(t,a);break;case 13:fi(t,a),l&4&&_1(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=cS.bind(null,a),CS(t,a))));break;case 22:if(l=a.memoizedState!==null||hi,!l){i=i!==null&&i.memoizedState!==null||Lt,d=hi;var f=Lt;hi=l,(Lt=i)&&!f?mi(t,a,(a.subtreeFlags&8772)!==0):fi(t,a),hi=d,Lt=f}break;case 30:break;default:fi(t,a)}}function g1(t){var i=t.alternate;i!==null&&(t.alternate=null,g1(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&$a(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,yn=!1;function di(t,i,a){for(a=a.child;a!==null;)y1(t,i,a),a=a.sibling}function y1(t,i,a){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(tr,a)}catch{}switch(a.tag){case 26:Lt||Br(a,i),di(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||Br(a,i);var l=ht,d=yn;ns(a.type)&&(ht=a.stateNode,yn=!1),di(t,i,a),oc(a.stateNode),ht=l,yn=d;break;case 5:Lt||Br(a,i);case 6:if(l=ht,d=yn,ht=null,di(t,i,a),ht=l,yn=d,ht!==null)if(yn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(f){Qe(a,i,f)}else try{ht.removeChild(a.stateNode)}catch(f){Qe(a,i,f)}break;case 18:ht!==null&&(yn?(t=ht,cv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Lo(t)):cv(ht,a.stateNode));break;case 4:l=ht,d=yn,ht=a.stateNode.containerInfo,yn=!0,di(t,i,a),ht=l,yn=d;break;case 0:case 11:case 14:case 15:Qi(2,a,i),Lt||Qi(4,a,i),di(t,i,a);break;case 1:Lt||(Br(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&u1(a,i,l)),di(t,i,a);break;case 21:di(t,i,a);break;case 22:Lt=(l=Lt)||a.memoizedState!==null,di(t,i,a),Lt=l;break;default:di(t,i,a)}}function v1(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Lo(t)}catch(a){Qe(i,i.return,a)}}}function _1(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Lo(t)}catch(a){Qe(i,i.return,a)}}function tS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new m1),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new m1),i;default:throw Error(s(435,t.tag))}}function nh(t,i){var a=tS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var d=uS.bind(null,t,l);l.then(d,d)}})}function vn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(ns(S.type)){ht=S.stateNode,yn=!1;break e}break;case 5:ht=S.stateNode,yn=!1;break e;case 3:case 4:ht=S.stateNode.containerInfo,yn=!0;break e}S=S.return}if(ht===null)throw Error(s(160));y1(f,_,d),ht=null,yn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)E1(i,t),i=i.sibling}var hr=null;function E1(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(i,t),_n(t),l&4&&(Qi(3,t,t.return),Xl(3,t),Qi(5,t,t.return));break;case 1:vn(i,t),_n(t),l&512&&(Lt||a===null||Br(a,a.return)),l&64&&hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=hr;if(vn(i,t),_n(t),l&512&&(Lt||a===null||Br(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[kr]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Xt(f,l,a),f[wt]=t,kt(f),l=f;break e;case"link":var _=Ev("link","href",d).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(f=_[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}f=d.createElement(l),Xt(f,l,a),d.head.appendChild(f);break;case"meta":if(_=Ev("meta","content",d).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(f=_[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}f=d.createElement(l),Xt(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[wt]=t,kt(f),l=f}t.stateNode=l}else Tv(d,t.type,t.stateNode);else t.stateNode=_v(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Tv(d,t.type,t.stateNode):_v(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&dm(t,t.memoizedProps,a.memoizedProps)}break;case 27:vn(i,t),_n(t),l&512&&(Lt||a===null||Br(a,a.return)),a!==null&&l&4&&dm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(vn(i,t),_n(t),l&512&&(Lt||a===null||Br(a,a.return)),t.flags&32){d=t.stateNode;try{gn(d,"")}catch(pe){Qe(t,t.return,pe)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,dm(t,d,a!==null?a.memoizedProps:d)),l&1024&&(pm=!0);break;case 6:if(vn(i,t),_n(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(pe){Qe(t,t.return,pe)}}break;case 3:if(vh=null,d=hr,hr=gh(i.containerInfo),vn(i,t),hr=d,_n(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Lo(i.containerInfo)}catch(pe){Qe(t,t.return,pe)}pm&&(pm=!1,T1(t));break;case 4:l=hr,hr=gh(t.stateNode.containerInfo),vn(i,t),_n(t),hr=l;break;case 12:vn(i,t),_n(t);break;case 31:vn(i,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nh(t,l)));break;case 13:vn(i,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ih=un()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nh(t,l)));break;case 22:d=t.memoizedState!==null;var L=a!==null&&a.memoizedState!==null,W=hi,J=Lt;if(hi=W||d,Lt=J||L,vn(i,t),Lt=J,hi=W,_n(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||L||hi||Lt||oa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){L=a=i;try{if(f=L.stateNode,d)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=L.stateNode;var re=L.memoizedProps.style,K=re!=null&&re.hasOwnProperty("display")?re.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(pe){Qe(L,L.return,pe)}}}else if(i.tag===6){if(a===null){L=i;try{L.stateNode.nodeValue=d?"":L.memoizedProps}catch(pe){Qe(L,L.return,pe)}}}else if(i.tag===18){if(a===null){L=i;try{var Y=L.stateNode;d?uv(Y,!0):uv(L.stateNode,!1)}catch(pe){Qe(L,L.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,nh(t,a))));break;case 19:vn(i,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nh(t,l)));break;case 30:break;case 21:break;default:vn(i,t),_n(t)}}function _n(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(d1(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=fm(t);th(t,f,d);break;case 5:var _=a.stateNode;a.flags&32&&(gn(_,""),a.flags&=-33);var S=fm(t);th(t,S,_);break;case 3:case 4:var L=a.stateNode.containerInfo,W=fm(t);mm(t,W,L);break;default:throw Error(s(161))}}catch(J){Qe(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function T1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;T1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function fi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)p1(t,i.alternate,i),i=i.sibling}function oa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Qi(4,i,i.return),oa(i);break;case 1:Br(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&u1(i,i.return,a),oa(i);break;case 27:oc(i.stateNode);case 26:case 5:Br(i,i.return),oa(i);break;case 22:i.memoizedState===null&&oa(i);break;case 30:oa(i);break;default:oa(i)}t=t.sibling}}function mi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:mi(d,f,a),Xl(4,f);break;case 1:if(mi(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(W){Qe(l,l.return,W)}if(l=f,d=l.updateQueue,d!==null){var S=l.stateNode;try{var L=d.shared.hiddenCallbacks;if(L!==null)for(d.shared.hiddenCallbacks=null,d=0;d<L.length;d++)Z0(L[d],S)}catch(W){Qe(l,l.return,W)}}a&&_&64&&c1(f),Zl(f,f.return);break;case 27:f1(f);case 26:case 5:mi(d,f,a),a&&l===null&&_&4&&h1(f),Zl(f,f.return);break;case 12:mi(d,f,a);break;case 31:mi(d,f,a),a&&_&4&&v1(d,f);break;case 13:mi(d,f,a),a&&_&4&&_1(d,f);break;case 22:f.memoizedState===null&&mi(d,f,a),Zl(f,f.return);break;case 30:break;default:mi(d,f,a)}i=i.sibling}}function gm(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Pl(a))}function ym(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Pl(t))}function dr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)x1(t,i,a,l),i=i.sibling}function x1(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:dr(t,i,a,l),d&2048&&Xl(9,i);break;case 1:dr(t,i,a,l);break;case 3:dr(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Pl(t)));break;case 12:if(d&2048){dr(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,_=f.id,S=f.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(L){Qe(i,i.return,L)}}else dr(t,i,a,l);break;case 31:dr(t,i,a,l);break;case 13:dr(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?dr(t,i,a,l):Jl(t,i):f._visibility&2?dr(t,i,a,l):(f._visibility|=2,To(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&gm(_,i);break;case 24:dr(t,i,a,l),d&2048&&ym(i.alternate,i);break;default:dr(t,i,a,l)}}function To(t,i,a,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,_=i,S=a,L=l,W=_.flags;switch(_.tag){case 0:case 11:case 15:To(f,_,S,L,d),Xl(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?To(f,_,S,L,d):Jl(f,_):(J._visibility|=2,To(f,_,S,L,d)),d&&W&2048&&gm(_.alternate,_);break;case 24:To(f,_,S,L,d),d&&W&2048&&ym(_.alternate,_);break;default:To(f,_,S,L,d)}i=i.sibling}}function Jl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:Jl(a,l),d&2048&&gm(l.alternate,l);break;case 24:Jl(a,l),d&2048&&ym(l.alternate,l);break;default:Jl(a,l)}i=i.sibling}}var ec=8192;function xo(t,i,a){if(t.subtreeFlags&ec)for(t=t.child;t!==null;)b1(t,i,a),t=t.sibling}function b1(t,i,a){switch(t.tag){case 26:xo(t,i,a),t.flags&ec&&t.memoizedState!==null&&BS(a,hr,t.memoizedState,t.memoizedProps);break;case 5:xo(t,i,a);break;case 3:case 4:var l=hr;hr=gh(t.stateNode.containerInfo),xo(t,i,a),hr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ec,ec=16777216,xo(t,i,a),ec=l):xo(t,i,a));break;default:xo(t,i,a)}}function S1(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function tc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];qt=l,w1(l,t)}S1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)A1(t),t=t.sibling}function A1(t){switch(t.tag){case 0:case 11:case 15:tc(t),t.flags&2048&&Qi(9,t,t.return);break;case 3:tc(t);break;case 12:tc(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,rh(t)):tc(t);break;default:tc(t)}}function rh(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];qt=l,w1(l,t)}S1(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Qi(8,i,i.return),rh(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,rh(i));break;default:rh(i)}t=t.sibling}}function w1(t,i){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Qi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=t;qt!==null;){l=qt;var d=l.sibling,f=l.return;if(g1(l),l===a){qt=null;break e}if(d!==null){d.return=f,qt=d;break e}qt=f}}}var nS={getCacheForType:function(t){var i=Qt(Ct),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Qt(Ct).controller.signal}},rS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,st=null,Ne=null,De=0,Ke=0,Nn=null,Yi=!1,bo=!1,vm=!1,pi=0,gt=0,Xi=0,la=0,_m=0,Ln=0,So=0,nc=null,En=null,Em=!1,ih=0,k1=0,sh=1/0,ah=null,Zi=null,Ut=0,Ji=null,Ao=null,gi=0,Tm=0,xm=null,R1=null,rc=0,bm=null;function Dn(){return(Ge&2)!==0&&De!==0?De&-De:Z.T!==null?Cm():ou()}function C1(){if(Ln===0)if((De&536870912)===0||Pe){var t=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),Ln=t}else Ln=536870912;return t=Cn.current,t!==null&&(t.flags|=32),Ln}function Tn(t,i,a){(t===st&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(wo(t,0),es(t,De,Ln,!1)),Os(t,a),((Ge&2)===0||t!==st)&&(t===st&&((Ge&2)===0&&(la|=a),gt===4&&es(t,De,Ln,!1)),Hr(t))}function I1(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||nr(t,i),d=l?aS(t,i):Am(t,i,!0),f=l;do{if(d===0){bo&&!l&&es(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!iS(a)){d=Am(t,i,!1),f=!1;continue}if(d===2){if(f=i,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;d=nc;var L=S.current.memoizedState.isDehydrated;if(L&&(wo(S,_).flags|=256),_=Am(S,_,!1),_!==2){if(vm&&!L){S.errorRecoveryDisabledLanes|=f,la|=f,d=4;break e}f=En,En=d,f!==null&&(En===null?En=f:En.push.apply(En,f))}d=_}if(f=!1,d!==2)continue}}if(d===1){wo(t,0),es(t,i,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:es(l,i,Ln,!Yi);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=ih+300-un(),10<d)){if(es(l,i,Ln,!Yi),Sr(l,0,!0)!==0)break e;gi=i,l.timeoutHandle=ov(N1.bind(null,l,a,En,ah,Em,i,Ln,la,So,Yi,f,"Throttled",-0,0),d);break e}N1(l,a,En,ah,Em,i,Ln,la,So,Yi,f,null,-0,0)}}break}while(!0);Hr(t)}function N1(t,i,a,l,d,f,_,S,L,W,J,re,K,Y){if(t.timeoutHandle=-1,re=i.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sr},b1(i,f,re);var pe=(f&62914560)===f?ih-un():(f&4194048)===f?k1-un():0;if(pe=HS(re,pe),pe!==null){gi=f,t.cancelPendingCommit=pe(U1.bind(null,t,i,f,a,l,d,_,S,L,J,re,null,K,Y)),es(t,f,_,!W);return}}U1(t,i,f,a,l,d,_,S,L)}function iS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!kn(f(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function es(t,i,a,l){i&=~_m,i&=~la,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var f=31-_t(d),_=1<<f;l[f]=-1,d&=~_}a!==0&&Vs(t,a,i)}function oh(){return(Ge&6)===0?(ic(0),!1):!0}function Sm(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,si=Js=null,zf(t),go=null,zl=0,t=Ne;for(;t!==null;)l1(t.alternate,t),t=t.return;Ne=null}}function wo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,SS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),gi=0,Sm(),st=t,Ne=a=ri(t.current,null),De=i,Ke=0,Nn=null,Yi=!1,bo=nr(t,i),vm=!1,So=Ln=_m=la=Xi=gt=0,En=nc=null,Em=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-_t(l),f=1<<d;i|=t[d],l&=~f}return pi=i,Ru(),a}function L1(t,i){ke=null,Z.H=Kl,i===po||i===Ou?(i=K0(),Ke=3):i===Rf?(i=K0(),Ke=4):Ke=i===nm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Nn=i,Ne===null&&(gt=1,Yu(t,qn(i,t.current)))}function D1(){var t=Cn.current;return t===null?!0:(De&4194048)===De?$n===null:(De&62914560)===De||(De&536870912)!==0?t===$n:!1}function j1(){var t=Z.H;return Z.H=Kl,t===null?Kl:t}function M1(){var t=Z.A;return Z.A=nS,t}function lh(){gt=4,Yi||(De&4194048)!==De&&Cn.current!==null||(bo=!0),(Xi&134217727)===0&&(la&134217727)===0||st===null||es(st,De,Ln,!1)}function Am(t,i,a){var l=Ge;Ge|=2;var d=j1(),f=M1();(st!==t||De!==i)&&(ah=null,wo(t,i)),i=!1;var _=gt;e:do try{if(Ke!==0&&Ne!==null){var S=Ne,L=Nn;switch(Ke){case 8:Sm(),_=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var W=Ke;if(Ke=0,Nn=null,ko(t,S,L,W),a&&bo){_=0;break e}break;default:W=Ke,Ke=0,Nn=null,ko(t,S,L,W)}}sS(),_=gt;break}catch(J){L1(t,J)}while(!0);return i&&t.shellSuspendCounter++,si=Js=null,Ge=l,Z.H=d,Z.A=f,Ne===null&&(st=null,De=0,Ru()),_}function sS(){for(;Ne!==null;)O1(Ne)}function aS(t,i){var a=Ge;Ge|=2;var l=j1(),d=M1();st!==t||De!==i?(ah=null,sh=un()+500,wo(t,i)):bo=nr(t,i);e:do try{if(Ke!==0&&Ne!==null){i=Ne;var f=Nn;t:switch(Ke){case 1:Ke=0,Nn=null,ko(t,i,f,1);break;case 2:case 9:if(W0(f)){Ke=0,Nn=null,V1(i);break}i=function(){Ke!==2&&Ke!==9||st!==t||(Ke=7),Hr(t)},f.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:W0(f)?(Ke=0,Nn=null,V1(i)):(Ke=0,Nn=null,ko(t,i,f,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var S=Ne;if(_?xv(_):S.stateNode.complete){Ke=0,Nn=null;var L=S.sibling;if(L!==null)Ne=L;else{var W=S.return;W!==null?(Ne=W,ch(W)):Ne=null}break t}}Ke=0,Nn=null,ko(t,i,f,5);break;case 6:Ke=0,Nn=null,ko(t,i,f,6);break;case 8:Sm(),gt=6;break e;default:throw Error(s(462))}}oS();break}catch(J){L1(t,J)}while(!0);return si=Js=null,Z.H=l,Z.A=d,Ge=a,Ne!==null?0:(st=null,De=0,Ru(),gt)}function oS(){for(;Ne!==null&&!ef();)O1(Ne)}function O1(t){var i=a1(t.alternate,t,pi);t.memoizedProps=t.pendingProps,i===null?ch(t):Ne=i}function V1(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=e1(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=e1(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:zf(i);default:l1(a,i),i=Ne=M0(i,pi),i=a1(a,i,pi)}t.memoizedProps=t.pendingProps,i===null?ch(t):Ne=i}function ko(t,i,a,l){si=Js=null,zf(i),go=null,zl=0;var d=i.return;try{if(Qb(t,d,i,a,De)){gt=1,Yu(t,qn(a,t.current)),Ne=null;return}}catch(f){if(d!==null)throw Ne=d,f;gt=1,Yu(t,qn(a,t.current)),Ne=null;return}i.flags&32768?(Pe||l===1?t=!0:bo||(De&536870912)!==0?t=!1:(Yi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),P1(i,t)):ch(i)}function ch(t){var i=t;do{if((i.flags&32768)!==0){P1(i,Yi);return}t=i.return;var a=Zb(i.alternate,i,pi);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);gt===0&&(gt=5)}function P1(t,i){do{var a=Jb(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);gt=6,Ne=null}function U1(t,i,a,l,d,f,_,S,L){t.cancelPendingCommit=null;do uh();while(Ut!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=ff,rf(t,a,f,_,S,L),t===st&&(Ne=st=null,De=0),Ao=i,Ji=t,gi=a,Tm=f,xm=d,R1=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,hS(Ii,function(){return F1(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,d=$.p,$.p=2,_=Ge,Ge|=4;try{eS(t,i,a)}finally{Ge=_,$.p=d,Z.T=l}}Ut=1,z1(),B1(),H1()}}function z1(){if(Ut===1){Ut=0;var t=Ji,i=Ao,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var l=$.p;$.p=2;var d=Ge;Ge|=4;try{E1(i,t);var f=Vm,_=w0(t.containerInfo),S=f.focusedElem,L=f.selectionRange;if(_!==S&&S&&S.ownerDocument&&A0(S.ownerDocument.documentElement,S)){if(L!==null&&lf(S)){var W=L.start,J=L.end;if(J===void 0&&(J=W),"selectionStart"in S)S.selectionStart=W,S.selectionEnd=Math.min(J,S.value.length);else{var re=S.ownerDocument||document,K=re&&re.defaultView||window;if(K.getSelection){var Y=K.getSelection(),pe=S.textContent.length,_e=Math.min(L.start,pe),tt=L.end===void 0?_e:Math.min(L.end,pe);!Y.extend&&_e>tt&&(_=tt,tt=_e,_e=_);var U=S0(S,_e),O=S0(S,tt);if(U&&O&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==O.node||Y.focusOffset!==O.offset)){var G=re.createRange();G.setStart(U.node,U.offset),Y.removeAllRanges(),_e>tt?(Y.addRange(G),Y.extend(O.node,O.offset)):(G.setEnd(O.node,O.offset),Y.addRange(G))}}}}for(re=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&re.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<re.length;S++){var te=re[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}xh=!!Om,Vm=Om=null}finally{Ge=d,$.p=l,Z.T=a}}t.current=i,Ut=2}}function B1(){if(Ut===2){Ut=0;var t=Ji,i=Ao,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var l=$.p;$.p=2;var d=Ge;Ge|=4;try{p1(t,i.alternate,i)}finally{Ge=d,$.p=l,Z.T=a}}Ut=3}}function H1(){if(Ut===4||Ut===3){Ut=0,eu();var t=Ji,i=Ao,a=gi,l=R1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ut=5:(Ut=0,Ao=Ji=null,q1(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Zi=null),Jr(a),i=i.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(tr,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Z.T,d=$.p,$.p=2,Z.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];f(S.value,{componentStack:S.stack})}}finally{Z.T=i,$.p=d}}(gi&3)!==0&&uh(),Hr(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===bm?rc++:(rc=0,bm=t):rc=0,ic(0)}}function q1(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Pl(i)))}function uh(){return z1(),B1(),H1(),F1()}function F1(){if(Ut!==5)return!1;var t=Ji,i=Tm;Tm=0;var a=Jr(gi),l=Z.T,d=$.p;try{$.p=32>a?32:a,Z.T=null,a=xm,xm=null;var f=Ji,_=gi;if(Ut=0,Ao=Ji=null,gi=0,(Ge&6)!==0)throw Error(s(331));var S=Ge;if(Ge|=4,A1(f.current),x1(f,f.current,_,a),Ge=S,ic(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(tr,f)}catch{}return!0}finally{$.p=d,Z.T=l,q1(t,i)}}function G1(t,i,a){i=qn(a,i),i=tm(t.stateNode,i,2),t=Wi(t,i,2),t!==null&&(Os(t,2),Hr(t))}function Qe(t,i,a){if(t.tag===3)G1(t,t,a);else for(;i!==null;){if(i.tag===3){G1(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zi===null||!Zi.has(l))){t=qn(a,t),a=Wy(2),l=Wi(i,a,2),l!==null&&($y(a,l,i,t),Os(l,2),Hr(l));break}}i=i.return}}function wm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new rS;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(vm=!0,d.add(a),t=lS.bind(null,t,i,a),i.then(t,t))}function lS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(De&a)===a&&(gt===4||gt===3&&(De&62914560)===De&&300>un()-ih?(Ge&2)===0&&wo(t,0):_m|=a,So===De&&(So=0)),Hr(t)}function W1(t,i){i===0&&(i=au()),t=Ys(t,i),t!==null&&(Os(t,i),Hr(t))}function cS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),W1(t,a)}function uS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),W1(t,a)}function hS(t,i){return Pt(t,i)}var hh=null,Ro=null,km=!1,dh=!1,Rm=!1,ts=0;function Hr(t){t!==Ro&&t.next===null&&(Ro===null?hh=Ro=t:Ro=Ro.next=t),dh=!0,km||(km=!0,fS())}function ic(t,i){if(!Rm&&dh){Rm=!0;do for(var a=!1,l=hh;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var _=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=d&~(_&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Y1(l,f))}else f=De,f=Sr(l,l===st?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||nr(l,f)||(a=!0,Y1(l,f));l=l.next}while(a);Rm=!1}}function dS(){$1()}function $1(){dh=km=!1;var t=0;ts!==0&&bS()&&(t=ts);for(var i=un(),a=null,l=hh;l!==null;){var d=l.next,f=K1(l,i);f===0?(l.next=null,a===null?hh=d:a.next=d,d===null&&(Ro=a)):(a=l,(t!==0||(f&3)!==0)&&(dh=!0)),l=d}Ut!==0&&Ut!==5||ic(t),ts!==0&&(ts=0)}function K1(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-_t(f),S=1<<_,L=d[_];L===-1?((S&a)===0||(S&l)!==0)&&(d[_]=nf(S,i)):L<=i&&(t.expiredLanes|=S),f&=~S}if(i=st,a=De,a=Sr(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ci(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||nr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ci(l),Jr(a)){case 2:case 8:a=ml;break;case 32:a=Ii;break;case 268435456:a=tu;break;default:a=Ii}return l=Q1.bind(null,t),a=Pt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ci(l),t.callbackPriority=2,t.callbackNode=null,2}function Q1(t,i){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(uh()&&t.callbackNode!==a)return null;var l=De;return l=Sr(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(I1(t,l,i),K1(t,un()),t.callbackNode!=null&&t.callbackNode===a?Q1.bind(null,t):null)}function Y1(t,i){if(uh())return null;I1(t,i,!0)}function fS(){AS(function(){(Ge&6)!==0?Pt(fl,dS):$1()})}function Cm(){if(ts===0){var t=fo;t===0&&(t=xr,xr<<=1,(xr&261888)===0&&(xr=256)),ts=t}return ts}function X1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xa(""+t)}function Z1(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function mS(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var f=X1((d[Bt]||null).action),_=l.submitter;_&&(i=(i=_[Bt]||null)?X1(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var S=new Mr("action","action",null,l,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ts!==0){var L=_?Z1(d,_):new FormData(d);Qf(a,{pending:!0,data:L,method:d.method,action:f},null,L)}}else typeof f=="function"&&(S.preventDefault(),L=_?Z1(d,_):new FormData(d),Qf(a,{pending:!0,data:L,method:d.method,action:f},f,L))},currentTarget:d}]})}}for(var Im=0;Im<df.length;Im++){var Nm=df[Im],pS=Nm.toLowerCase(),gS=Nm[0].toUpperCase()+Nm.slice(1);ur(pS,"on"+gS)}ur(C0,"onAnimationEnd"),ur(I0,"onAnimationIteration"),ur(N0,"onAnimationStart"),ur("dblclick","onDoubleClick"),ur("focusin","onFocus"),ur("focusout","onBlur"),ur(Lb,"onTransitionRun"),ur(Db,"onTransitionStart"),ur(jb,"onTransitionCancel"),ur(L0,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sc));function J1(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],L=S.instance,W=S.currentTarget;if(S=S.listener,L!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=W;try{f(d)}catch(J){ku(J)}d.currentTarget=null,f=L}else for(_=0;_<l.length;_++){if(S=l[_],L=S.instance,W=S.currentTarget,S=S.listener,L!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=W;try{f(d)}catch(J){ku(J)}d.currentTarget=null,f=L}}}}function Le(t,i){var a=i[Wa];a===void 0&&(a=i[Wa]=new Set);var l=t+"__bubble";a.has(l)||(ev(i,t,2,!1),a.add(l))}function Lm(t,i,a){var l=0;i&&(l|=4),ev(a,t,l,i)}var fh="_reactListening"+Math.random().toString(36).slice(2);function Dm(t){if(!t[fh]){t[fh]=!0,yl.forEach(function(a){a!=="selectionchange"&&(yS.has(a)||Lm(a,!1,t),Lm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[fh]||(i[fh]=!0,Lm("selectionchange",!1,i))}}function ev(t,i,a,l){switch(Cv(i)){case 2:var d=GS;break;case 8:d=WS;break;default:d=Km}a=d.bind(null,i,a,t),d=void 0,!Hs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function jm(t,i,a,l,d){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===d)break;if(_===4)for(_=l.return;_!==null;){var L=_.tag;if((L===3||L===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;S!==null;){if(_=Rr(S),_===null)return;if(L=_.tag,L===5||L===6||L===26||L===27){l=f=_;continue e}S=S.parentNode}}l=l.return}Oi(function(){var W=f,J=Un(a),re=[];e:{var K=D0.get(t);if(K!==void 0){var Y=Mr,pe=t;switch(t){case"keypress":if(Fs(a)===0)break e;case"keydown":case"keyup":Y=Su;break;case"focusin":pe="focus",Y=Ws;break;case"focusout":pe="blur",Y=Ws;break;case"beforeblur":case"afterblur":Y=Ws;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=v;break;case C0:case I0:case N0:Y=yu;break;case L0:Y=w;break;case"scroll":case"scrollend":Y=Cl;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ni;break;case"toggle":case"beforetoggle":Y=we}var _e=(i&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),U=_e?K!==null?K+"Capture":null:K;_e=[];for(var O=W,G;O!==null;){var te=O;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||U===null||(te=ar(O,U),te!=null&&_e.push(ac(O,te,G))),tt)break;O=O.return}0<_e.length&&(K=new Y(K,pe,null,a,J),re.push({event:K,listeners:_e}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",K&&a!==wl&&(pe=a.relatedTarget||a.fromElement)&&(Rr(pe)||pe[wr]))break e;if((Y||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(pe=a.relatedTarget||a.toElement,Y=W,pe=pe?Rr(pe):null,pe!==null&&(tt=c(pe),_e=pe.tag,pe!==tt||_e!==5&&_e!==27&&_e!==6)&&(pe=null)):(Y=null,pe=W),Y!==pe)){if(_e=Il,te="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=ni,te="onPointerLeave",U="onPointerEnter",O="pointer"),tt=Y==null?K:An(Y),G=pe==null?K:An(pe),K=new _e(te,O+"leave",Y,a,J),K.target=tt,K.relatedTarget=G,te=null,Rr(J)===W&&(_e=new _e(U,O+"enter",pe,a,J),_e.target=G,_e.relatedTarget=tt,te=_e),tt=te,Y&&pe)t:{for(_e=vS,U=Y,O=pe,G=0,te=U;te;te=_e(te))G++;te=0;for(var ye=O;ye;ye=_e(ye))te++;for(;0<G-te;)U=_e(U),G--;for(;0<te-G;)O=_e(O),te--;for(;G--;){if(U===O||O!==null&&U===O.alternate){_e=U;break t}U=_e(U),O=_e(O)}_e=null}else _e=null;Y!==null&&tv(re,K,Y,_e,!1),pe!==null&&tt!==null&&tv(re,tt,pe,_e,!0)}}e:{if(K=W?An(W):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var He=v0;else if(g0(K))if(_0)He=Cb;else{He=kb;var ge=wb}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?W&&Ya(W.elementType)&&(He=v0):He=Rb;if(He&&(He=He(t,W))){y0(re,He,a,J);break e}ge&&ge(t,K,W),t==="focusout"&&W&&K.type==="number"&&W.memoizedProps.value!=null&&bl(K,"number",K.value)}switch(ge=W?An(W):window,t){case"focusin":(g0(ge)||ge.contentEditable==="true")&&(io=ge,cf=W,Ml=null);break;case"focusout":Ml=cf=io=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,k0(re,a,J);break;case"selectionchange":if(Nb)break;case"keydown":case"keyup":k0(re,a,J)}var Ce;if(Fe)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else ro?$s(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Pr&&a.locale!=="ko"&&(ro||je!=="onCompositionStart"?je==="onCompositionEnd"&&ro&&(Ce=Rl()):(jr=J,kl="value"in jr?jr.value:jr.textContent,ro=!0)),ge=mh(W,je),0<ge.length&&(je=new Vr(je,t,null,a,J),re.push({event:je,listeners:ge}),Ce?je.data=Ce:(Ce=no(a),Ce!==null&&(je.data=Ce)))),(Ce=Bn?xb(t,a):bb(t,a))&&(je=mh(W,"onBeforeInput"),0<je.length&&(ge=new Vr("onBeforeInput","beforeinput",null,a,J),re.push({event:ge,listeners:je}),ge.data=Ce)),mS(re,t,W,a,J)}J1(re,i)})}function ac(t,i,a){return{instance:t,listener:i,currentTarget:a}}function mh(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=ar(t,a),d!=null&&l.unshift(ac(t,d,f)),d=ar(t,i),d!=null&&l.push(ac(t,d,f))),t.tag===3)return l;t=t.return}return[]}function vS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function tv(t,i,a,l,d){for(var f=i._reactName,_=[];a!==null&&a!==l;){var S=a,L=S.alternate,W=S.stateNode;if(S=S.tag,L!==null&&L===l)break;S!==5&&S!==26&&S!==27||W===null||(L=W,d?(W=ar(a,f),W!=null&&_.unshift(ac(a,W,L))):d||(W=ar(a,f),W!=null&&_.push(ac(a,W,L)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var _S=/\r\n?/g,ES=/\u0000|\uFFFD/g;function nv(t){return(typeof t=="string"?t:""+t).replace(_S,`
`).replace(ES,"")}function rv(t,i){return i=nv(i),nv(t)===i}function et(t,i,a,l,d,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&gn(t,""+l);break;case"className":wn(t,"class",l);break;case"tabIndex":wn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,a,l);break;case"style":Al(t,l,f);break;case"data":if(i!=="object"){wn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Xa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",d.name,d,null),et(t,i,"formEncType",d.formEncType,d,null),et(t,i,"formMethod",d.formMethod,d,null),et(t,i,"formTarget",d.formTarget,d,null)):(et(t,i,"encType",d.encType,d,null),et(t,i,"method",d.method,d,null),et(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Xa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=sr);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Xa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Ka(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ka(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mu.get(a)||a,Ka(t,a,l))}}function Mm(t,i,a,l,d,f){switch(a){case"style":Al(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),f=t[Bt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ka(t,a,l)}}}function Xt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,f,_,a,null)}}d&&et(t,i,"srcSet",a.srcSet,a,null),l&&et(t,i,"src",a.src,a,null);return;case"input":Le("invalid",t);var S=f=_=d=null,L=null,W=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":d=J;break;case"type":_=J;break;case"checked":L=J;break;case"defaultChecked":W=J;break;case"value":f=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:et(t,i,l,J,a,null)}}hu(t,f,S,L,W,_,d,!1);return;case"select":Le("invalid",t),l=_=f=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":f=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:et(t,i,d,S,a,null)}i=f,a=_,t.multiple=!!l,i!=null?Li(t,!!l,i,!1):a!=null&&Li(t,!!l,a,!0);return;case"textarea":Le("invalid",t),f=d=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":d=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:et(t,i,_,S,a,null)}Di(t,l,d,f);return;case"option":for(L in a)a.hasOwnProperty(L)&&(l=a[L],l!=null)&&(L==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":et(t,i,L,l,a,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<sc.length;l++)Le(sc[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in a)if(a.hasOwnProperty(W)&&(l=a[W],l!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,W,l,a,null)}return;default:if(Ya(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Mm(t,i,J,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&et(t,i,S,l,a,null))}function TS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,_=null,S=null,L=null,W=null,J=null;for(Y in a){var re=a[Y];if(a.hasOwnProperty(Y)&&re!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":L=re;default:l.hasOwnProperty(Y)||et(t,i,Y,null,l,re)}}for(var K in l){var Y=l[K];if(re=a[K],l.hasOwnProperty(K)&&(Y!=null||re!=null))switch(K){case"type":f=Y;break;case"name":d=Y;break;case"checked":W=Y;break;case"defaultChecked":J=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==re&&et(t,i,K,Y,l,re)}}Qa(t,_,S,L,W,J,f,d);return;case"select":Y=_=S=K=null;for(f in a)if(L=a[f],a.hasOwnProperty(f)&&L!=null)switch(f){case"value":break;case"multiple":Y=L;default:l.hasOwnProperty(f)||et(t,i,f,null,l,L)}for(d in l)if(f=l[d],L=a[d],l.hasOwnProperty(d)&&(f!=null||L!=null))switch(d){case"value":K=f;break;case"defaultValue":S=f;break;case"multiple":_=f;default:f!==L&&et(t,i,d,f,l,L)}i=S,a=_,l=Y,K!=null?Li(t,!!a,K,!1):!!l!=!!a&&(i!=null?Li(t,!!a,i,!0):Li(t,!!a,a?[]:"",!1));return;case"textarea":Y=K=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(t,i,S,null,l,d)}for(_ in l)if(d=l[_],f=a[_],l.hasOwnProperty(_)&&(d!=null||f!=null))switch(_){case"value":K=d;break;case"defaultValue":Y=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&et(t,i,_,d,l,f)}du(t,K,Y);return;case"option":for(var pe in a)K=a[pe],a.hasOwnProperty(pe)&&K!=null&&!l.hasOwnProperty(pe)&&(pe==="selected"?t.selected=!1:et(t,i,pe,null,l,K));for(L in l)K=l[L],Y=a[L],l.hasOwnProperty(L)&&K!==Y&&(K!=null||Y!=null)&&(L==="selected"?t.selected=K&&typeof K!="function"&&typeof K!="symbol":et(t,i,L,K,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)K=a[_e],a.hasOwnProperty(_e)&&K!=null&&!l.hasOwnProperty(_e)&&et(t,i,_e,null,l,K);for(W in l)if(K=l[W],Y=a[W],l.hasOwnProperty(W)&&K!==Y&&(K!=null||Y!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:et(t,i,W,K,l,Y)}return;default:if(Ya(i)){for(var tt in a)K=a[tt],a.hasOwnProperty(tt)&&K!==void 0&&!l.hasOwnProperty(tt)&&Mm(t,i,tt,void 0,l,K);for(J in l)K=l[J],Y=a[J],!l.hasOwnProperty(J)||K===Y||K===void 0&&Y===void 0||Mm(t,i,J,K,l,Y);return}}for(var U in a)K=a[U],a.hasOwnProperty(U)&&K!=null&&!l.hasOwnProperty(U)&&et(t,i,U,null,l,K);for(re in l)K=l[re],Y=a[re],!l.hasOwnProperty(re)||K===Y||K==null&&Y==null||et(t,i,re,K,l,Y)}function iv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,_=d.initiatorType,S=d.duration;if(f&&S&&iv(_)){for(_=0,S=d.responseEnd,l+=1;l<a.length;l++){var L=a[l],W=L.startTime;if(W>S)break;var J=L.transferSize,re=L.initiatorType;J&&iv(re)&&(L=L.responseEnd,_+=J*(L<S?1:(S-W)/(L-W)))}if(--l,i+=8*(f+_)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Om=null,Vm=null;function ph(t){return t.nodeType===9?t:t.ownerDocument}function sv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function av(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Pm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Um=null;function bS(){var t=window.event;return t&&t.type==="popstate"?t===Um?!1:(Um=t,!0):(Um=null,!1)}var ov=typeof setTimeout=="function"?setTimeout:void 0,SS=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,AS=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(t){return lv.resolve(null).then(t).catch(wS)}:ov;function wS(t){setTimeout(function(){throw t})}function ns(t){return t==="head"}function cv(t,i){var a=i,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),Lo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")oc(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,oc(a);for(var f=a.firstChild;f;){var _=f.nextSibling,S=f.nodeName;f[kr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&oc(t.ownerDocument.body);a=d}while(a);Lo(i)}function uv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function zm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zm(a),$a(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function kS(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[kr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function RS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function hv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Kn(t.nextSibling),t===null))return null;return t}function Bm(t){return t.data==="$?"||t.data==="$~"}function Hm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function CS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var qm=null;function dv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function fv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function mv(t,i,a){switch(i=ph(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function oc(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);$a(t)}var Qn=new Map,pv=new Set;function gh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var yi=$.d;$.d={f:IS,r:NS,D:LS,C:DS,L:jS,m:MS,X:VS,S:OS,M:PS};function IS(){var t=yi.f(),i=oh();return t||i}function NS(t){var i=Pn(t);i!==null&&i.tag===5&&i.type==="form"?Ly(i):yi.r(t)}var Co=typeof document>"u"?null:document;function gv(t,i,a){var l=Co;if(l&&typeof i=="string"&&i){var d=pn(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),pv.has(d)||(pv.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),Xt(i,"link",t),kt(i),l.head.appendChild(i)))}}function LS(t){yi.D(t),gv("dns-prefetch",t,null)}function DS(t,i){yi.C(t,i),gv("preconnect",t,i)}function jS(t,i,a){yi.L(t,i,a);var l=Co;if(l&&t&&i){var d='link[rel="preload"][as="'+pn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+pn(a.imageSizes)+'"]')):d+='[href="'+pn(t)+'"]';var f=d;switch(i){case"style":f=Io(t);break;case"script":f=No(t)}Qn.has(f)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Qn.set(f,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(lc(f))||i==="script"&&l.querySelector(cc(f))||(i=l.createElement("link"),Xt(i,"link",t),kt(i),l.head.appendChild(i)))}}function MS(t,i){yi.m(t,i);var a=Co;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+pn(l)+'"][href="'+pn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=No(t)}if(!Qn.has(f)&&(t=b({rel:"modulepreload",href:t},i),Qn.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cc(f)))return}l=a.createElement("link"),Xt(l,"link",t),kt(l),a.head.appendChild(l)}}}function OS(t,i,a){yi.S(t,i,a);var l=Co;if(l&&t){var d=Cr(l).hoistableStyles,f=Io(t);i=i||"default";var _=d.get(f);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(lc(f)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Qn.get(f))&&Fm(t,a);var L=_=l.createElement("link");kt(L),Xt(L,"link",t),L._p=new Promise(function(W,J){L.onload=W,L.onerror=J}),L.addEventListener("load",function(){S.loading|=1}),L.addEventListener("error",function(){S.loading|=2}),S.loading|=4,yh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},d.set(f,_)}}}function VS(t,i){yi.X(t,i);var a=Co;if(a&&t){var l=Cr(a).hoistableScripts,d=No(t),f=l.get(d);f||(f=a.querySelector(cc(d)),f||(t=b({src:t,async:!0},i),(i=Qn.get(d))&&Gm(t,i),f=a.createElement("script"),kt(f),Xt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function PS(t,i){yi.M(t,i);var a=Co;if(a&&t){var l=Cr(a).hoistableScripts,d=No(t),f=l.get(d);f||(f=a.querySelector(cc(d)),f||(t=b({src:t,async:!0,type:"module"},i),(i=Qn.get(d))&&Gm(t,i),f=a.createElement("script"),kt(f),Xt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function yv(t,i,a,l){var d=(d=Re.current)?gh(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Io(a.href),a=Cr(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Io(a.href);var f=Cr(d).hoistableStyles,_=f.get(t);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=d.querySelector(lc(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),f||US(d,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=No(a),a=Cr(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Io(t){return'href="'+pn(t)+'"'}function lc(t){return'link[rel="stylesheet"]['+t+"]"}function vv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function US(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xt(i,"link",a),kt(i),t.head.appendChild(i))}function No(t){return'[src="'+pn(t)+'"]'}function cc(t){return"script[async]"+t}function _v(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+pn(a.href)+'"]');if(l)return i.instance=l,kt(l),l;var d=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),kt(l),Xt(l,"style",d),yh(l,a.precedence,t),i.instance=l;case"stylesheet":d=Io(a.href);var f=t.querySelector(lc(d));if(f)return i.state.loading|=4,i.instance=f,kt(f),f;l=vv(a),(d=Qn.get(d))&&Fm(l,d),f=(t.ownerDocument||t).createElement("link"),kt(f);var _=f;return _._p=new Promise(function(S,L){_.onload=S,_.onerror=L}),Xt(f,"link",l),i.state.loading|=4,yh(f,a.precedence,t),i.instance=f;case"script":return f=No(a.src),(d=t.querySelector(cc(f)))?(i.instance=d,kt(d),d):(l=a,(d=Qn.get(f))&&(l=b({},a),Gm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),kt(d),Xt(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,yh(l,a.precedence,t));return i.instance}function yh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)f=S;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Fm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Gm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var vh=null;function Ev(t,i,a){if(vh===null){var l=new Map,d=vh=new Map;d.set(a,l)}else d=vh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[kr]||f[wt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(f):l.set(_,[f])}}return l}function Tv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function zS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function xv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function BS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Io(l.href),f=i.querySelector(lc(d));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=_h.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,kt(f);return}f=i.ownerDocument||i,l=vv(l),(d=Qn.get(d))&&Fm(l,d),f=f.createElement("link"),kt(f);var _=f;_._p=new Promise(function(S,L){_.onload=S,_.onerror=L}),Xt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=_h.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Wm=0;function HS(t,i){return t.stylesheets&&t.count===0&&Th(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Th(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Wm===0&&(Wm=62500*xS());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Th(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Wm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function _h(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Th(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Eh=null;function Th(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Eh=new Map,i.forEach(qS,t),Eh=null,_h.call(t))}function qS(t,i){if(!(i.state.loading&4)){var a=Eh.get(t);if(a)var l=a.get(null);else{a=new Map,Eh.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var _=d[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}d=i.instance,_=d.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,d),a.set(_,d),this.count++,l=_h.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var uc={$$typeof:ae,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function FS(t,i,a,l,d,f,_,S,L){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function bv(t,i,a,l,d,f,_,S,L,W,J,re){return t=new FS(t,i,a,_,L,W,J,re,S),i=1,f===!0&&(i|=24),f=Rn(3,null,null,i),t.current=f,f.stateNode=t,i=Af(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},Cf(f),t}function Sv(t){return t?(t=oo,t):oo}function Av(t,i,a,l,d,f){d=Sv(d),l.context===null?l.context=d:l.pendingContext=d,l=Gi(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Wi(t,l,i),a!==null&&(Tn(a,t,i),Hl(a,t,i))}function wv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function $m(t,i){wv(t,i),(t=t.alternate)&&wv(t,i)}function kv(t){if(t.tag===13||t.tag===31){var i=Ys(t,67108864);i!==null&&Tn(i,t,67108864),$m(t,67108864)}}function Rv(t){if(t.tag===13||t.tag===31){var i=Dn();i=Ps(i);var a=Ys(t,i);a!==null&&Tn(a,t,i),$m(t,i)}}var xh=!0;function GS(t,i,a,l){var d=Z.T;Z.T=null;var f=$.p;try{$.p=2,Km(t,i,a,l)}finally{$.p=f,Z.T=d}}function WS(t,i,a,l){var d=Z.T;Z.T=null;var f=$.p;try{$.p=8,Km(t,i,a,l)}finally{$.p=f,Z.T=d}}function Km(t,i,a,l){if(xh){var d=Qm(l);if(d===null)jm(t,i,l,bh,a),Iv(t,l);else if(KS(d,t,i,a,l))l.stopPropagation();else if(Iv(t,l),i&4&&-1<$S.indexOf(t)){for(;d!==null;){var f=Pn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=br(f.pendingLanes);if(_!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var L=1<<31-_t(_);S.entanglements[1]|=L,_&=~L}Hr(f),(Ge&6)===0&&(sh=un()+500,ic(0))}}break;case 31:case 13:S=Ys(f,2),S!==null&&Tn(S,f,2),oh(),$m(f,2)}if(f=Qm(l),f===null&&jm(t,i,l,bh,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else jm(t,i,l,null,a)}}function Qm(t){return t=Un(t),Ym(t)}var bh=null;function Ym(t){if(bh=null,t=Rr(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return bh=t,null}function Cv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(js()){case fl:return 2;case ml:return 8;case Ii:case tf:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Xm=!1,rs=null,is=null,ss=null,hc=new Map,dc=new Map,as=[],$S="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(t,i){switch(t){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":hc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(i.pointerId)}}function fc(t,i,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},i!==null&&(i=Pn(i),i!==null&&kv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function KS(t,i,a,l,d){switch(i){case"focusin":return rs=fc(rs,t,i,a,l,d),!0;case"dragenter":return is=fc(is,t,i,a,l,d),!0;case"mouseover":return ss=fc(ss,t,i,a,l,d),!0;case"pointerover":var f=d.pointerId;return hc.set(f,fc(hc.get(f)||null,t,i,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,dc.set(f,fc(dc.get(f)||null,t,i,a,l,d)),!0}return!1}function Nv(t){var i=Rr(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,rr(t.priority,function(){Rv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,rr(t.priority,function(){Rv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Qm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);wl=l,a.target.dispatchEvent(l),wl=null}else return i=Pn(a),i!==null&&kv(i),t.blockedOn=a,!1;i.shift()}return!0}function Lv(t,i,a){Sh(t)&&a.delete(i)}function QS(){Xm=!1,rs!==null&&Sh(rs)&&(rs=null),is!==null&&Sh(is)&&(is=null),ss!==null&&Sh(ss)&&(ss=null),hc.forEach(Lv),dc.forEach(Lv)}function Ah(t,i){t.blockedOn===i&&(t.blockedOn=null,Xm||(Xm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,QS)))}var wh=null;function Dv(t){wh!==t&&(wh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wh===t&&(wh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(Ym(l||a)===null)continue;break}var f=Pn(a);f!==null&&(t.splice(i,3),i-=3,Qf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Lo(t){function i(L){return Ah(L,t)}rs!==null&&Ah(rs,t),is!==null&&Ah(is,t),ss!==null&&Ah(ss,t),hc.forEach(i),dc.forEach(i);for(var a=0;a<as.length;a++){var l=as[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<as.length&&(a=as[0],a.blockedOn===null);)Nv(a),a.blockedOn===null&&as.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],_=d[Bt]||null;if(typeof f=="function")_||Dv(a);else if(_){var S=null;if(f&&f.hasAttribute("formAction")){if(d=f,_=f[Bt]||null)S=_.formAction;else if(Ym(d)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Dv(a)}}}function jv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function Zm(t){this._internalRoot=t}kh.prototype.render=Zm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Dn();Av(a,l,t,i,null,null)},kh.prototype.unmount=Zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Av(t.current,2,null,t,null,null),oh(),i[wr]=null}};function kh(t){this._internalRoot=t}kh.prototype.unstable_scheduleHydration=function(t){if(t){var i=ou();t={blockedOn:null,target:t,priority:i};for(var a=0;a<as.length&&i!==0&&i<as[a].priority;a++);as.splice(a,0,t),a===0&&Nv(t)}};var Mv=e.version;if(Mv!=="19.2.3")throw Error(s(527,Mv,"19.2.3"));$.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var YS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{tr=Rh.inject(YS),Wt=Rh}catch{}}return pc.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",d=Hy,f=qy,_=Fy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=bv(t,1,!1,null,null,a,l,null,d,f,_,jv),t[wr]=i.current,Dm(t),new Zm(i)},pc.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,d="",f=Hy,_=qy,S=Fy,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(L=a.formState)),i=bv(t,1,!0,i,a??null,l,d,L,f,_,S,jv),i.context=Sv(null),a=i.current,l=Dn(),l=Ps(l),d=Gi(l),d.callback=null,Wi(a,d,l),a=l,i.current.lanes=a,Os(i,a),Hr(i),t[wr]=i.current,Dm(t),new kh(i)},pc.version="19.2.3",pc}var Gv;function oA(){if(Gv)return tp.exports;Gv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),tp.exports=aA(),tp.exports}var lA=oA();var Wv="popstate";function cA(r={}){function e(s,o){let{pathname:c,search:h,hash:m}=s.location;return Ap("",{pathname:c,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ic(o)}return hA(e,n,null,r)}function dt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function er(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uA(){return Math.random().toString(36).substring(2,10)}function $v(r,e){return{usr:r.state,key:r.key,idx:e}}function Ap(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Zo(e):e,state:n,key:e&&e.key||s||uA()}}function Ic({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Zo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function hA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,h=o.history,m="POP",g=null,p=T();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function T(){return(h.state||{idx:null}).idx}function b(){m="POP";let H=T(),ee=H==null?null:H-p;p=H,g&&g({action:m,location:z.location,delta:ee})}function A(H,ee){m="PUSH";let X=Ap(z.location,H,ee);p=T()+1;let ae=$v(X,p),F=z.createHref(X);try{h.pushState(ae,"",F)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(F)}c&&g&&g({action:m,location:z.location,delta:1})}function j(H,ee){m="REPLACE";let X=Ap(z.location,H,ee);p=T();let ae=$v(X,p),F=z.createHref(X);h.replaceState(ae,"",F),c&&g&&g({action:m,location:z.location,delta:0})}function B(H){return dA(H)}let z={get action(){return m},get location(){return r(o,h)},listen(H){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Wv,b),g=H,()=>{o.removeEventListener(Wv,b),g=null}},createHref(H){return e(o,H)},createURL:B,encodeLocation(H){let ee=B(H);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:A,replace:j,go(H){return h.go(H)}};return z}function dA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ic(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function zE(r,e,n="/"){return fA(r,e,n,!1)}function fA(r,e,n,s){let o=typeof e=="string"?Zo(e):e,c=xi(o.pathname||"/",n);if(c==null)return null;let h=BE(r);mA(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=AA(c);m=bA(h[g],p,s)}return m}function BE(r,e=[],n=[],s="",o=!1){let c=(h,m,g=o,p)=>{let T={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&g)return;dt(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let b=Ei([s,T.relativePath]),A=n.concat(T);h.children&&h.children.length>0&&(dt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),BE(h.children,e,A,b,g)),!(h.path==null&&!h.index)&&e.push({path:b,score:TA(b,h.index),routesMeta:A})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))c(h,m);else for(let g of HE(h.path))c(h,m,!0,g)}),e}function HE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let h=HE(s.join("/")),m=[];return m.push(...h.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function mA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:xA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var pA=/^:[\w-]+$/,gA=3,yA=2,vA=1,_A=10,EA=-2,Kv=r=>r==="*";function TA(r,e){let n=r.split("/"),s=n.length;return n.some(Kv)&&(s+=EA),e&&(s+=yA),n.filter(o=>!Kv(o)).reduce((o,c)=>o+(pA.test(c)?gA:c===""?vA:_A),s)}function xA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function bA(r,e,n=!1){let{routesMeta:s}=r,o={},c="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,T=c==="/"?e:e.slice(c.length)||"/",b=Kh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},T),A=g.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=Kh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:Ei([c,b.pathname]),pathnameBase:CA(Ei([c,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(c=Ei([c,b.pathnameBase]))}return h}function Kh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=SA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:T,isOptional:b},A)=>{if(T==="*"){let B=m[A]||"";h=c.slice(0,c.length-B.length).replace(/(.)\/+$/,"$1")}const j=m[A];return b&&!j?p[T]=void 0:p[T]=(j||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:h,pattern:r}}function SA(r,e=!1,n=!0){er(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function AA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return er(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function xi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var qE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wA=r=>qE.test(r);function kA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Zo(r):r,c;if(n)if(wA(n))c=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),er(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?c=Qv(n.substring(1),"/"):c=Qv(n,e)}else c=e;return{pathname:c,search:IA(s),hash:NA(o)}}function Qv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function sp(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ig(r){let e=RA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function sg(r,e,n,s=!1){let o;typeof r=="string"?o=Zo(r):(o={...r},dt(!o.pathname||!o.pathname.includes("?"),sp("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),sp("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),sp("#","search","hash",o)));let c=r===""||o.pathname==="",h=c?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}m=b>=0?e[b]:"/"}let g=kA(o,m),p=h&&h!=="/"&&h.endsWith("/"),T=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||T)&&(g.pathname+="/"),g}var Ei=r=>r.join("/").replace(/\/\/+/g,"/"),CA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),IA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,NA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,LA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function DA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function jA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var FE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function GE(r,e){let n=r;if(typeof n!="string"||!qE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(FE)try{let c=new URL(window.location.href),h=n.startsWith("//")?new URL(c.protocol+n):new URL(n),m=xi(h.pathname,e);h.origin===c.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{er(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var WE=["POST","PUT","PATCH","DELETE"];new Set(WE);var MA=["GET",...WE];new Set(MA);var Jo=M.createContext(null);Jo.displayName="DataRouter";var Ed=M.createContext(null);Ed.displayName="DataRouterState";var OA=M.createContext(!1),$E=M.createContext({isTransitioning:!1});$E.displayName="ViewTransition";var VA=M.createContext(new Map);VA.displayName="Fetchers";var PA=M.createContext(null);PA.displayName="Await";var On=M.createContext(null);On.displayName="Navigation";var Hc=M.createContext(null);Hc.displayName="Location";var Zr=M.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var ag=M.createContext(null);ag.displayName="RouteError";var KE="REACT_ROUTER_ERROR",UA="REDIRECT",zA="ROUTE_ERROR_RESPONSE";function BA(r){if(r.startsWith(`${KE}:${UA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function HA(r){if(r.startsWith(`${KE}:${zA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new LA(e.status,e.statusText,e.data)}catch{}}function qA(r,{relative:e}={}){dt(el(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=M.useContext(On),{hash:o,pathname:c,search:h}=qc(r,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:Ei([n,c])),s.createHref({pathname:m,search:h,hash:o})}function el(){return M.useContext(Hc)!=null}function Ri(){return dt(el(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Hc).location}var QE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YE(r){M.useContext(On).static||M.useLayoutEffect(r)}function og(){let{isDataRoute:r}=M.useContext(Zr);return r?nw():FA()}function FA(){dt(el(),"useNavigate() may be used only in the context of a <Router> component.");let r=M.useContext(Jo),{basename:e,navigator:n}=M.useContext(On),{matches:s}=M.useContext(Zr),{pathname:o}=Ri(),c=JSON.stringify(ig(s)),h=M.useRef(!1);return YE(()=>{h.current=!0}),M.useCallback((g,p={})=>{if(er(h.current,QE),!h.current)return;if(typeof g=="number"){n.go(g);return}let T=sg(g,JSON.parse(c),o,p.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Ei([e,T.pathname])),(p.replace?n.replace:n.push)(T,p.state,p)},[e,n,c,o,r])}M.createContext(null);function qc(r,{relative:e}={}){let{matches:n}=M.useContext(Zr),{pathname:s}=Ri(),o=JSON.stringify(ig(n));return M.useMemo(()=>sg(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function GA(r,e){return XE(r,e)}function XE(r,e,n,s,o){dt(el(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=M.useContext(On),{matches:h}=M.useContext(Zr),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let X=b&&b.path||"";JE(p,!b||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let A=Ri(),j;if(e){let X=typeof e=="string"?Zo(e):e;dt(T==="/"||X.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${X.pathname}" was given in the \`location\` prop.`),j=X}else j=A;let B=j.pathname||"/",z=B;if(T!=="/"){let X=T.replace(/^\//,"").split("/");z="/"+B.replace(/^\//,"").split("/").slice(X.length).join("/")}let H=zE(r,{pathname:z});er(b||H!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),er(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ee=YA(H&&H.map(X=>Object.assign({},X,{params:Object.assign({},g,X.params),pathname:Ei([T,c.encodeLocation?c.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?T:Ei([T,c.encodeLocation?c.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),h,n,s,o);return e&&ee?M.createElement(Hc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},ee):ee}function WA(){let r=tw(),e=DA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:c},"ErrorBoundary")," or"," ",M.createElement("code",{style:c},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:o},n):null,h)}var $A=M.createElement(WA,null),ZE=class extends M.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=HA(r.digest);n&&(r=n)}let e=r!==void 0?M.createElement(Zr.Provider,{value:this.props.routeContext},M.createElement(ag.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?M.createElement(KA,{error:r},e):e}};ZE.contextType=OA;var ap=new WeakMap;function KA({children:r,error:e}){let{basename:n}=M.useContext(On);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=BA(e.digest);if(s){let o=ap.get(e);if(o)throw o;let c=GE(s.location,n);if(FE&&!ap.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw ap.set(e,h),h}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function QA({routeContext:r,match:e,children:n}){let s=M.useContext(Jo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Zr.Provider,{value:r},n)}function YA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,h=n?.errors;if(h!=null){let T=c.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);dt(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,T+1))}let m=!1,g=-1;if(n)for(let T=0;T<c.length;T++){let b=c[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=T),b.route.id){let{loaderData:A,errors:j}=n,B=b.route.loader&&!A.hasOwnProperty(b.route.id)&&(!j||j[b.route.id]===void 0);if(b.route.lazy||B){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let p=n&&s?(T,b)=>{s(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:jA(n.matches),errorInfo:b})}:void 0;return c.reduceRight((T,b,A)=>{let j,B=!1,z=null,H=null;n&&(j=h&&b.route.id?h[b.route.id]:void 0,z=b.route.errorElement||$A,m&&(g<0&&A===0?(JE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,H=null):g===A&&(B=!0,H=b.route.hydrateFallbackElement||null)));let ee=e.concat(c.slice(0,A+1)),X=()=>{let ae;return j?ae=z:B?ae=H:b.route.Component?ae=M.createElement(b.route.Component,null):b.route.element?ae=b.route.element:ae=T,M.createElement(QA,{match:b,routeContext:{outlet:T,matches:ee,isDataRoute:n!=null},children:ae})};return n&&(b.route.ErrorBoundary||b.route.errorElement||A===0)?M.createElement(ZE,{location:n.location,revalidation:n.revalidation,component:z,error:j,children:X(),routeContext:{outlet:null,matches:ee,isDataRoute:!0},onError:p}):X()},null)}function lg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XA(r){let e=M.useContext(Jo);return dt(e,lg(r)),e}function ZA(r){let e=M.useContext(Ed);return dt(e,lg(r)),e}function JA(r){let e=M.useContext(Zr);return dt(e,lg(r)),e}function cg(r){let e=JA(r),n=e.matches[e.matches.length-1];return dt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function ew(){return cg("useRouteId")}function tw(){let r=M.useContext(ag),e=ZA("useRouteError"),n=cg("useRouteError");return r!==void 0?r:e.errors?.[n]}function nw(){let{router:r}=XA("useNavigate"),e=cg("useNavigate"),n=M.useRef(!1);return YE(()=>{n.current=!0}),M.useCallback(async(o,c={})=>{er(n.current,QE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var Yv={};function JE(r,e,n){!e&&!Yv[r]&&(Yv[r]=!0,er(!1,n))}M.memo(rw);function rw({routes:r,future:e,state:n,onError:s}){return XE(r,void 0,n,s,e)}function e2({to:r,replace:e,state:n,relative:s}){dt(el(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=M.useContext(On);er(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=M.useContext(Zr),{pathname:h}=Ri(),m=og(),g=sg(r,ig(c),h,s==="path"),p=JSON.stringify(g);return M.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function Yn(r){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:h}){dt(!el(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=M.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:h,future:{}}),[m,o,c,h]);typeof n=="string"&&(n=Zo(n));let{pathname:p="/",search:T="",hash:b="",state:A=null,key:j="default"}=n,B=M.useMemo(()=>{let z=xi(p,m);return z==null?null:{location:{pathname:z,search:T,hash:b,state:A,key:j},navigationType:s}},[m,p,T,b,A,j,s]);return er(B!=null,`<Router basename="${m}"> is not able to match the URL "${p}${T}${b}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:M.createElement(On.Provider,{value:g},M.createElement(Hc.Provider,{children:e,value:B}))}function sw({children:r,location:e}){return GA(wp(r),e)}function wp(r,e=[]){let n=[];return M.Children.forEach(r,(s,o)=>{if(!M.isValidElement(s))return;let c=[...e,o];if(s.type===M.Fragment){n.push.apply(n,wp(s.props.children,c));return}dt(s.type===Yn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=wp(s.props.children,c)),n.push(h)}),n}var Oh="get",Vh="application/x-www-form-urlencoded";function Td(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function aw(r){return Td(r)&&r.tagName.toLowerCase()==="button"}function ow(r){return Td(r)&&r.tagName.toLowerCase()==="form"}function lw(r){return Td(r)&&r.tagName.toLowerCase()==="input"}function cw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function uw(r,e){return r.button===0&&(!e||e==="_self")&&!cw(r)}var Ch=null;function hw(){if(Ch===null)try{new FormData(document.createElement("form"),0),Ch=!1}catch{Ch=!0}return Ch}var dw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function op(r){return r!=null&&!dw.has(r)?(er(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vh}"`),null):r}function fw(r,e){let n,s,o,c,h;if(ow(r)){let m=r.getAttribute("action");s=m?xi(m,e):null,n=r.getAttribute("method")||Oh,o=op(r.getAttribute("enctype"))||Vh,c=new FormData(r)}else if(aw(r)||lw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?xi(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Oh,o=op(r.getAttribute("formenctype"))||op(m.getAttribute("enctype"))||Vh,c=new FormData(m,r),!hw()){let{name:p,type:T,value:b}=r;if(T==="image"){let A=p?`${p}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else p&&c.append(p,b)}}else{if(Td(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oh,s=null,o=Vh,h=r}return c&&o==="text/plain"&&(h=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ug(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function mw(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&xi(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function pw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function yw(r,e,n){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await pw(c,n);return h.links?h.links():[]}return[]}));return Tw(s.flat(1).filter(gw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Xv(r,e,n,s,o,c){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):c==="data"?e.filter((g,p)=>{let T=s.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function vw(r,e,{includeHydrateFallback:n}={}){return _w(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function _w(r){return[...new Set(r)]}function Ew(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Tw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(Ew(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function t2(){let r=M.useContext(Jo);return ug(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function xw(){let r=M.useContext(Ed);return ug(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var hg=M.createContext(void 0);hg.displayName="FrameworkContext";function n2(){let r=M.useContext(hg);return ug(r,"You must render this element inside a <HydratedRouter> element"),r}function bw(r,e){let n=M.useContext(hg),[s,o]=M.useState(!1),[c,h]=M.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:T,onTouchStart:b}=e,A=M.useRef(null);M.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let z=ee=>{ee.forEach(X=>{h(X.isIntersecting)})},H=new IntersectionObserver(z,{threshold:.5});return A.current&&H.observe(A.current),()=>{H.disconnect()}}},[r]),M.useEffect(()=>{if(s){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[s]);let j=()=>{o(!0)},B=()=>{o(!1),h(!1)};return n?r!=="intent"?[c,A,{}]:[c,A,{onFocus:gc(m,j),onBlur:gc(g,B),onMouseEnter:gc(p,j),onMouseLeave:gc(T,B),onTouchStart:gc(b,j)}]:[!1,A,{}]}function gc(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Sw({page:r,...e}){let{router:n}=t2(),s=M.useMemo(()=>zE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?M.createElement(ww,{page:r,matches:s,...e}):null}function Aw(r){let{manifest:e,routeModules:n}=n2(),[s,o]=M.useState([]);return M.useEffect(()=>{let c=!1;return yw(r,e,n).then(h=>{c||o(h)}),()=>{c=!0}},[r,e,n]),s}function ww({page:r,matches:e,...n}){let s=Ri(),{future:o,manifest:c,routeModules:h}=n2(),{basename:m}=t2(),{loaderData:g,matches:p}=xw(),T=M.useMemo(()=>Xv(r,e,p,c,s,"data"),[r,e,p,c,s]),b=M.useMemo(()=>Xv(r,e,p,c,s,"assets"),[r,e,p,c,s]),A=M.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let z=new Set,H=!1;if(e.forEach(X=>{let ae=c.routes[X.route.id];!ae||!ae.hasLoader||(!T.some(F=>F.route.id===X.route.id)&&X.route.id in g&&h[X.route.id]?.shouldRevalidate||ae.hasClientLoader?H=!0:z.add(X.route.id))}),z.size===0)return[];let ee=mw(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return H&&z.size>0&&ee.searchParams.set("_routes",e.filter(X=>z.has(X.route.id)).map(X=>X.route.id).join(",")),[ee.pathname+ee.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,c,T,e,r,h]),j=M.useMemo(()=>vw(b,c),[b,c]),B=Aw(b);return M.createElement(M.Fragment,null,A.map(z=>M.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),j.map(z=>M.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),B.map(({key:z,link:H})=>M.createElement("link",{key:z,nonce:n.nonce,...H})))}function kw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Rw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rw&&(window.__reactRouterVersion="7.12.0")}catch{}function Cw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=M.useRef();o.current==null&&(o.current=cA({window:s,v5Compat:!0}));let c=o.current,[h,m]=M.useState({action:c.action,location:c.location}),g=M.useCallback(p=>{n===!1?m(p):M.startTransition(()=>m(p))},[n]);return M.useLayoutEffect(()=>c.listen(g),[c,g]),M.createElement(iw,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:n})}var r2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qh=M.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:h,state:m,target:g,to:p,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:A,...j},B){let{basename:z,unstable_useTransitions:H}=M.useContext(On),ee=typeof p=="string"&&r2.test(p),X=GE(p,z);p=X.to;let ae=qA(p,{relative:o}),[F,le,oe]=bw(s,j),C=Dw(p,{replace:h,state:m,target:g,preventScrollReset:T,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:A,unstable_useTransitions:H});function R(N){e&&e(N),N.defaultPrevented||C(N)}let k=M.createElement("a",{...j,...oe,href:X.absoluteURL||ae,onClick:X.isExternal||c?e:R,ref:kw(B,le),target:g,"data-discover":!ee&&n==="render"?"true":void 0});return F&&!ee?M.createElement(M.Fragment,null,k,M.createElement(Sw,{page:ae})):k});Qh.displayName="Link";var Iw=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:h,viewTransition:m,children:g,...p},T){let b=qc(h,{relative:p.relative}),A=Ri(),j=M.useContext(Ed),{navigator:B,basename:z}=M.useContext(On),H=j!=null&&Pw(b)&&m===!0,ee=B.encodeLocation?B.encodeLocation(b).pathname:b.pathname,X=A.pathname,ae=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(X=X.toLowerCase(),ae=ae?ae.toLowerCase():null,ee=ee.toLowerCase()),ae&&z&&(ae=xi(ae,z)||ae);const F=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let le=X===ee||!o&&X.startsWith(ee)&&X.charAt(F)==="/",oe=ae!=null&&(ae===ee||!o&&ae.startsWith(ee)&&ae.charAt(ee.length)==="/"),C={isActive:le,isPending:oe,isTransitioning:H},R=le?e:void 0,k;typeof s=="function"?k=s(C):k=[s,le?"active":null,oe?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let N=typeof c=="function"?c(C):c;return M.createElement(Qh,{...p,"aria-current":R,className:k,ref:T,style:N,to:h,viewTransition:m},typeof g=="function"?g(C):g)});Iw.displayName="NavLink";var Nw=M.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:h=Oh,action:m,onSubmit:g,relative:p,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:A,...j},B)=>{let{unstable_useTransitions:z}=M.useContext(On),H=Ow(),ee=Vw(m,{relative:p}),X=h.toLowerCase()==="get"?"get":"post",ae=typeof m=="string"&&r2.test(m),F=le=>{if(g&&g(le),le.defaultPrevented)return;le.preventDefault();let oe=le.nativeEvent.submitter,C=oe?.getAttribute("formmethod")||h,R=()=>H(oe||le.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:c,relative:p,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:A});z&&n!==!1?M.startTransition(()=>R()):R()};return M.createElement("form",{ref:B,method:X,action:ee,onSubmit:s?g:F,...j,"data-discover":!ae&&r==="render"?"true":void 0})});Nw.displayName="Form";function Lw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i2(r){let e=M.useContext(Jo);return dt(e,Lw(r)),e}function Dw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=og(),T=Ri(),b=qc(r,{relative:c});return M.useCallback(A=>{if(uw(A,e)){A.preventDefault();let j=n!==void 0?n:Ic(T)===Ic(b),B=()=>p(r,{replace:j,state:s,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:m});g?M.startTransition(()=>B()):B()}},[T,p,b,n,s,e,r,o,c,h,m,g])}var jw=0,Mw=()=>`__${String(++jw)}__`;function Ow(){let{router:r}=i2("useSubmit"),{basename:e}=M.useContext(On),n=ew(),s=r.fetch,o=r.navigate;return M.useCallback(async(c,h={})=>{let{action:m,method:g,encType:p,formData:T,body:b}=fw(c,e);if(h.navigate===!1){let A=h.fetcherKey||Mw();await s(A,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:b,formMethod:h.method||g,formEncType:h.encType||p,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:b,formMethod:h.method||g,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function Vw(r,{relative:e}={}){let{basename:n}=M.useContext(On),s=M.useContext(Zr);dt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...qc(r||".",{relative:e})},h=Ri();if(r==null){c.search=h.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(T=>T==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();c.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Ei([n,c.pathname])),Ic(c)}function Pw(r,{relative:e}={}){let n=M.useContext($E);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=i2("useViewTransitionState"),o=qc(r,{relative:e});if(!n.isTransitioning)return!1;let c=xi(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=xi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Kh(o.pathname,h)!=null||Kh(o.pathname,c)!=null}const Uw=()=>{};var Zv={};const s2=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},zw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],h=r[n++],m=r[n++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},a2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,T=c>>2,b=(c&3)<<4|m>>4;let A=(m&15)<<2|p>>6,j=p&63;g||(j=64,h||(A=64)),s.push(n[T],n[b],n[A],n[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(s2(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):zw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||m==null||p==null||b==null)throw new Bw;const A=c<<2|m>>4;if(s.push(A),p!==64){const j=m<<4&240|p>>2;if(s.push(j),b!==64){const B=p<<6&192|b;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Bw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hw=function(r){const e=s2(r);return a2.encodeByteArray(e,!0)},Yh=function(r){return Hw(r).replace(/\./g,"")},o2=function(r){try{return a2.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Fw=()=>qw().__FIREBASE_DEFAULTS__,Gw=()=>{if(typeof process>"u"||typeof Zv>"u")return;const r=Zv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ww=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&o2(r[1]);return e&&JSON.parse(e)},xd=()=>{try{return Uw()||Fw()||Gw()||Ww()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},l2=r=>xd()?.emulatorHosts?.[r],$w=r=>{const e=l2(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},c2=()=>xd()?.config,u2=r=>xd()?.[`_${r}`];class Kw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function tl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function h2(r){return(await fetch(r,{credentials:"include"})).ok}function Qw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Yh(JSON.stringify(n)),Yh(JSON.stringify(h)),""].join(".")}const Sc={};function Yw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Sc))Sc[e]?r.emulator.push(e):r.prod.push(e);return r}function Xw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Jv=!1;function d2(r,e){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||Sc[r]===e||Sc[r]||Jv)return;Sc[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",c=Yw().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,j){A.setAttribute("width","24"),A.setAttribute("id",j),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Jv=!0,h()},A}function T(A,j){A.setAttribute("id",j),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=Xw(s),j=n("text"),B=document.getElementById(j)||document.createElement("span"),z=n("learnmore"),H=document.getElementById(z)||document.createElement("a"),ee=n("preprendIcon"),X=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ae=A.element;m(ae),T(H,z);const F=p();g(X,ee),ae.append(X,B,H,F),document.body.appendChild(ae)}c?(B.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function Jw(){const r=xd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ek(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nk(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function rk(){return!Jw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m2(){try{return typeof indexedDB=="object"}catch{return!1}}function p2(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function ik(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const sk="FirebaseError";class Er extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=sk,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ea.prototype.create)}}class Ea{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?ak(c,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Er(o,m,s)}}function ak(r,e){return r.replace(ok,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ok=/\{\$([^}]+)}/g;function lk(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Es(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=r[o],h=e[o];if(e_(c)&&e_(h)){if(!Es(c,h))return!1}else if(c!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function e_(r){return r!==null&&typeof r=="object"}function Fc(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function vc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function _c(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function ck(r,e){const n=new uk(r,e);return n.subscribe.bind(n)}class uk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");hk(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=lp),o.error===void 0&&(o.error=lp),o.complete===void 0&&(o.complete=lp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hk(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function lp(){}const dk=1e3,fk=2,mk=14400*1e3,pk=.5;function t_(r,e=dk,n=fk){const s=e*Math.pow(n,r),o=Math.round(pk*s*(Math.random()-.5)*2);return Math.min(mk,s+o)}function vt(r){return r&&r._delegate?r._delegate:r}class yr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ca="[DEFAULT]";class gk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Kw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vk(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yk(r){return r===ca?void 0:r}function vk(r){return r.instantiationMode==="EAGER"}class _k{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const Ek={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Tk=Me.INFO,xk={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},bk=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=xk[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bd{constructor(e){this.name=e,this._logLevel=Tk,this._logHandler=bk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ek[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const Sk=(r,e)=>e.some(n=>r instanceof n);let n_,r_;function Ak(){return n_||(n_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wk(){return r_||(r_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g2=new WeakMap,kp=new WeakMap,y2=new WeakMap,cp=new WeakMap,dg=new WeakMap;function kk(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",h)},c=()=>{n(ms(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&g2.set(n,r)}).catch(()=>{}),dg.set(e,r),e}function Rk(r){if(kp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",h),r.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",h),r.addEventListener("abort",h)});kp.set(r,e)}let Rp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return kp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||y2.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ms(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Ck(r){Rp=r(Rp)}function Ik(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(up(this),e,...n);return y2.set(s,e.sort?e.sort():[e]),ms(s)}:wk().includes(r)?function(...e){return r.apply(up(this),e),ms(g2.get(this))}:function(...e){return ms(r.apply(up(this),e))}}function Nk(r){return typeof r=="function"?Ik(r):(r instanceof IDBTransaction&&Rk(r),Sk(r,Ak())?new Proxy(r,Rp):r)}function ms(r){if(r instanceof IDBRequest)return kk(r);if(cp.has(r))return cp.get(r);const e=Nk(r);return e!==r&&(cp.set(r,e),dg.set(e,r)),e}const up=r=>dg.get(r);function v2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const h=indexedDB.open(r,e),m=ms(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ms(h.result),g.oldVersion,g.newVersion,ms(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const Lk=["get","getKey","getAll","getAllKeys","count"],Dk=["put","add","delete","clear"],hp=new Map;function i_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(hp.get(e))return hp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Dk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Lk.includes(n)))return;const c=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return hp.set(e,c),c}Ck(r=>({...r,get:(e,n,s)=>i_(e,n)||r.get(e,n,s),has:(e,n)=>!!i_(e,n)||r.has(e,n)}));class jk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Mk(r){return r.getComponent()?.type==="VERSION"}const Cp="@firebase/app",s_="0.14.7";const bi=new bd("@firebase/app"),Ok="@firebase/app-compat",Vk="@firebase/analytics-compat",Pk="@firebase/analytics",Uk="@firebase/app-check-compat",zk="@firebase/app-check",Bk="@firebase/auth",Hk="@firebase/auth-compat",qk="@firebase/database",Fk="@firebase/data-connect",Gk="@firebase/database-compat",Wk="@firebase/functions",$k="@firebase/functions-compat",Kk="@firebase/installations",Qk="@firebase/installations-compat",Yk="@firebase/messaging",Xk="@firebase/messaging-compat",Zk="@firebase/performance",Jk="@firebase/performance-compat",e4="@firebase/remote-config",t4="@firebase/remote-config-compat",n4="@firebase/storage",r4="@firebase/storage-compat",i4="@firebase/firestore",s4="@firebase/ai",a4="@firebase/firestore-compat",o4="firebase",l4="12.8.0";const Ip="[DEFAULT]",c4={[Cp]:"fire-core",[Ok]:"fire-core-compat",[Pk]:"fire-analytics",[Vk]:"fire-analytics-compat",[zk]:"fire-app-check",[Uk]:"fire-app-check-compat",[Bk]:"fire-auth",[Hk]:"fire-auth-compat",[qk]:"fire-rtdb",[Fk]:"fire-data-connect",[Gk]:"fire-rtdb-compat",[Wk]:"fire-fn",[$k]:"fire-fn-compat",[Kk]:"fire-iid",[Qk]:"fire-iid-compat",[Yk]:"fire-fcm",[Xk]:"fire-fcm-compat",[Zk]:"fire-perf",[Jk]:"fire-perf-compat",[e4]:"fire-rc",[t4]:"fire-rc-compat",[n4]:"fire-gcs",[r4]:"fire-gcs-compat",[i4]:"fire-fst",[a4]:"fire-fst-compat",[s4]:"fire-vertex","fire-js":"fire-js",[o4]:"fire-js-all"};const Xh=new Map,u4=new Map,Np=new Map;function a_(r,e){try{r.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Yr(r){const e=r.name;if(Np.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;Np.set(e,r);for(const n of Xh.values())a_(n,r);for(const n of u4.values())a_(n,r);return!0}function Ta(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function fr(r){return r==null?!1:r.settings!==void 0}const h4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new Ea("app","Firebase",h4);class d4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}const nl=l4;function _2(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Ip,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ps.create("bad-app-name",{appName:String(o)});if(n||(n=c2()),!n)throw ps.create("no-options");const c=Xh.get(o);if(c){if(Es(n,c.options)&&Es(s,c.config))return c;throw ps.create("duplicate-app",{appName:o})}const h=new _k(o);for(const g of Np.values())h.addComponent(g);const m=new d4(n,s,h);return Xh.set(o,m),m}function fg(r=Ip){const e=Xh.get(r);if(!e&&r===Ip&&c2())return _2();if(!e)throw ps.create("no-app",{appName:r});return e}function Zn(r,e,n){let s=c4[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(h.join(" "));return}Yr(new yr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const f4="firebase-heartbeat-database",m4=1,Nc="firebase-heartbeat-store";let dp=null;function E2(){return dp||(dp=v2(f4,m4,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Nc)}catch(n){console.warn(n)}}}}).catch(r=>{throw ps.create("idb-open",{originalErrorMessage:r.message})})),dp}async function p4(r){try{const n=(await E2()).transaction(Nc),s=await n.objectStore(Nc).get(T2(r));return await n.done,s}catch(e){if(e instanceof Er)bi.warn(e.message);else{const n=ps.create("idb-get",{originalErrorMessage:e?.message});bi.warn(n.message)}}}async function o_(r,e){try{const s=(await E2()).transaction(Nc,"readwrite");await s.objectStore(Nc).put(e,T2(r)),await s.done}catch(n){if(n instanceof Er)bi.warn(n.message);else{const s=ps.create("idb-set",{originalErrorMessage:n?.message});bi.warn(s.message)}}}function T2(r){return`${r.name}!${r.options.appId}`}const g4=1024,y4=30;class v4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=l_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>y4){const o=T4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=l_(),{heartbeatsToSend:n,unsentEntries:s}=_4(this._heartbeatsCache.heartbeats),o=Yh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return bi.warn(e),""}}}function l_(){return new Date().toISOString().substring(0,10)}function _4(r,e=g4){const n=[];let s=r.slice();for(const o of r){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),c_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),c_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class E4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m2()?p2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await p4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return o_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return o_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function c_(r){return Yh(JSON.stringify({version:2,heartbeats:r})).length}function T4(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function x4(r){Yr(new yr("platform-logger",e=>new jk(e),"PRIVATE")),Yr(new yr("heartbeat",e=>new v4(e),"PRIVATE")),Zn(Cp,s_,r),Zn(Cp,s_,"esm2020"),Zn("fire-js","")}x4("");function x2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b4=x2,b2=new Ea("auth","Firebase",x2());const Zh=new bd("@firebase/auth");function S4(r,...e){Zh.logLevel<=Me.WARN&&Zh.warn(`Auth (${nl}): ${r}`,...e)}function Ph(r,...e){Zh.logLevel<=Me.ERROR&&Zh.error(`Auth (${nl}): ${r}`,...e)}function vr(r,...e){throw mg(r,...e)}function Gr(r,...e){return mg(r,...e)}function S2(r,e,n){const s={...b4(),[e]:n};return new Ea("auth","Firebase",s).create(e,{appName:r.name})}function gs(r){return S2(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return b2.create(r,...e)}function Ee(r,e,...n){if(!r)throw mg(e,...n)}function vi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ph(e),new Error(e)}function Si(r,e){r||vi(e)}function Lp(){return typeof self<"u"&&self.location?.href||""}function A4(){return u_()==="http:"||u_()==="https:"}function u_(){return typeof self<"u"&&self.location?.protocol||null}function w4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A4()||f2()||"connection"in navigator)?navigator.onLine:!0}function k4(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Gc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Si(n>e,"Short delay should be less than long delay!"),this.isMobile=Zw()||tk()}get(){return w4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pg(r,e){Si(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class A2{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const R4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const C4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],I4=new Gc(3e4,6e4);function xa(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Rs(r,e,n,s,o={}){return w2(r,o,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const m=Fc({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...c};return ek()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&tl(r.emulatorConfig.host)&&(p.credentials="include"),A2.fetch()(await k2(r,r.config.apiHost,n,m),p)})}async function w2(r,e,n){r._canInitEmulator=!1;const s={...R4,...e};try{const o=new L4(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Ih(r,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ih(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Ih(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Ih(r,"user-disabled",h);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw S2(r,T,p);vr(r,T)}}catch(o){if(o instanceof Er)throw o;vr(r,"network-request-failed",{message:String(o)})}}async function Sd(r,e,n,s,o={}){const c=await Rs(r,e,n,s,o);return"mfaPendingCredential"in c&&vr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function k2(r,e,n,s){const o=`${e}${n}?${s}`,c=r,h=c.config.emulator?pg(r.config,o):`${r.config.apiScheme}://${o}`;return C4.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function N4(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class L4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Gr(this.auth,"network-request-failed")),I4.get())})}}function Ih(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Gr(r,e,s);return o.customData._tokenResponse=n,o}function h_(r){return r!==void 0&&r.enterprise!==void 0}class D4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return N4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function j4(r,e){return Rs(r,"GET","/v2/recaptchaConfig",xa(r,e))}async function M4(r,e){return Rs(r,"POST","/v1/accounts:delete",e)}async function Jh(r,e){return Rs(r,"POST","/v1/accounts:lookup",e)}function Ac(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function O4(r,e=!1){const n=vt(r),s=await n.getIdToken(e),o=gg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:s,authTime:Ac(fp(o.auth_time)),issuedAtTime:Ac(fp(o.iat)),expirationTime:Ac(fp(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function fp(r){return Number(r)*1e3}function gg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=o2(n);return o?JSON.parse(o):(Ph("Failed to decode base64 JWT payload"),null)}catch(o){return Ph("Caught error parsing JWT payload as JSON",o?.toString()),null}}function d_(r){const e=gg(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Lc(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Er&&V4(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function V4({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class P4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Dp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ed(r){const e=r.auth,n=await r.getIdToken(),s=await Lc(r,Jh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?R2(o.providerUserInfo):[],h=z4(r.providerData,c),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,p=m?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Dp(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,T)}async function U4(r){const e=vt(r);await ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z4(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function R2(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function B4(r,e){const n=await w2(r,{},async()=>{const s=Fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,h=await k2(r,o,"/v1/token",`key=${c}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&tl(r.emulatorConfig.host)&&(g.credentials="include"),A2.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function H4(r,e){return Rs(r,"POST","/v2/accounts:revokeToken",xa(r,e))}class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=d_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await B4(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,h=new Po;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return vi("not implemented")}}function ls(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class mr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new P4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Lc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return O4(this,e)}reload(){return U4(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ed(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(gs(this.auth));const e=await this.getIdToken();return await Lc(this,M4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:A,isAnonymous:j,providerData:B,stsTokenManager:z}=n;Ee(b&&z,e,"internal-error");const H=Po.fromJSON(this.name,z);Ee(typeof b=="string",e,"internal-error"),ls(s,e.name),ls(o,e.name),Ee(typeof A=="boolean",e,"internal-error"),Ee(typeof j=="boolean",e,"internal-error"),ls(c,e.name),ls(h,e.name),ls(m,e.name),ls(g,e.name),ls(p,e.name),ls(T,e.name);const ee=new mr({uid:b,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:j,photoURL:h,phoneNumber:c,tenantId:m,stsTokenManager:H,createdAt:p,lastLoginAt:T});return B&&Array.isArray(B)&&(ee.providerData=B.map(X=>({...X}))),g&&(ee._redirectEventId=g),ee}static async _fromIdTokenResponse(e,n,s=!1){const o=new Po;o.updateFromServerResponse(n);const c=new mr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ed(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?R2(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,m=new Po;m.updateFromIdToken(s);const g=new mr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Dp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,p),g}}const f_=new Map;function _i(r){Si(r instanceof Function,"Expected a class definition");let e=f_.get(r);return e?(Si(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,f_.set(r,e),e)}class C2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}C2.type="NONE";const m_=C2;function Uh(r,e,n){return`firebase:${r}:${e}:${n}`}class Uo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Uh(this.userKey,o.apiKey,c),this.fullPersistenceKey=Uh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jh(this.auth,{idToken:e}).catch(()=>{});return n?mr._fromGetAccountInfoResponse(this.auth,n,e):null}return mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Uo(_i(m_),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||_i(m_);const h=Uh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const T=await p._get(h);if(T){let b;if(typeof T=="string"){const A=await Jh(e,{idToken:T}).catch(()=>{});if(!A)break;b=await mr._fromGetAccountInfoResponse(e,A,T)}else b=mr._fromJSON(e,T);p!==c&&(m=b),c=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Uo(c,e,s):(c=g[0],m&&await c._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==c)try{await p._remove(h)}catch{}})),new Uo(c,e,s))}}function p_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(I2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M2(e))return"Blackberry";if(O2(e))return"Webos";if(N2(e))return"Safari";if((e.includes("chrome/")||L2(e))&&!e.includes("edge/"))return"Chrome";if(j2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function I2(r=ln()){return/firefox\//i.test(r)}function N2(r=ln()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L2(r=ln()){return/crios\//i.test(r)}function D2(r=ln()){return/iemobile/i.test(r)}function j2(r=ln()){return/android/i.test(r)}function M2(r=ln()){return/blackberry/i.test(r)}function O2(r=ln()){return/webos/i.test(r)}function yg(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function q4(r=ln()){return yg(r)&&!!window.navigator?.standalone}function F4(){return nk()&&document.documentMode===10}function V2(r=ln()){return yg(r)||j2(r)||O2(r)||M2(r)||/windows phone/i.test(r)||D2(r)}function P2(r,e=[]){let n;switch(r){case"Browser":n=p_(ln());break;case"Worker":n=`${p_(ln())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nl}/${s}`}class G4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((h,m)=>{try{const g=e(c);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function W4(r,e={}){return Rs(r,"GET","/v2/passwordPolicy",xa(r,e))}const $4=6;class K4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class Q4{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g_(this),this.idTokenSubscription=new g_(this),this.beforeStateQueue=new G4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jh(this,{idToken:e}),s=await mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ed(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=k4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(gs(this));const n=e?vt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await W4(this),n=new K4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ea("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await H4(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_i(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&S4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function rl(r){return vt(r)}class g_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ck(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y4(r){Ad=r}function U2(r){return Ad.loadJS(r)}function X4(){return Ad.recaptchaEnterpriseScript}function Z4(){return Ad.gapiScript}function J4(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class eR{constructor(){this.enterprise=new tR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nR="recaptcha-enterprise",z2="NO_RECAPTCHA";class rR{constructor(e){this.type=nR,this.auth=rl(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,m)=>{j4(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new D4(g);return c.tenantId==null?c._agentRecaptchaConfig=p:c._tenantRecaptchaConfigs[c.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(c,h,m){const g=window.grecaptcha;h_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(p=>{h(p)}).catch(()=>{h(z2)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eR().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{s(this.auth).then(m=>{if(!n&&h_(window.grecaptcha))o(m,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=X4();g.length!==0&&(g+=m),U2(g).then(()=>{o(m,c,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function y_(r,e,n,s=!1,o=!1){const c=new rR(r);let h;if(o)h=z2;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function v_(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await y_(r,e,n,n==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await y_(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(c)})}function iR(r,e){const n=Ta(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Es(c,e??{}))return o;vr(o,"already-initialized")}return n.initialize({options:e})}function sR(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(_i);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function aR(r,e,n){const s=rl(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=B2(e),{host:h,port:m}=oR(e),g=m===null?"":`:${m}`,p={url:`${c}//${h}${g}/`},T=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Es(p,s.config.emulator)&&Es(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,tl(h)?(h2(`${c}//${h}${g}`),d2("Auth",!0)):lR()}function B2(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function oR(r){const e=B2(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:__(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:__(h)}}}function __(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function lR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class vg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,n){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}}async function cR(r,e){return Rs(r,"POST","/v1/accounts:signUp",e)}async function uR(r,e){return Sd(r,"POST","/v1/accounts:signInWithPassword",xa(r,e))}async function hR(r,e){return Sd(r,"POST","/v1/accounts:signInWithEmailLink",xa(r,e))}async function dR(r,e){return Sd(r,"POST","/v1/accounts:signInWithEmailLink",xa(r,e))}class Dc extends vg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Dc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Dc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return v_(e,n,"signInWithPassword",uR);case"emailLink":return hR(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return v_(e,s,"signUpPassword",cR);case"emailLink":return dR(e,{idToken:n,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function zo(r,e){return Sd(r,"POST","/v1/accounts:signInWithIdp",xa(r,e))}const fR="http://localhost";class pa extends vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const h=new pa(s,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return zo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,zo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zo(e,n)}buildRequest(){const e={requestUri:fR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fc(n)}return e}}function mR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pR(r){const e=vc(_c(r)).link,n=e?vc(_c(e)).deep_link_id:null,s=vc(_c(r)).deep_link_id;return(s?vc(_c(s)).link:null)||s||n||e||r}class _g{constructor(e){const n=vc(_c(e)),s=n.apiKey??null,o=n.oobCode??null,c=mR(n.mode??null);Ee(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=pR(e);try{return new _g(n)}catch{return null}}}class il{constructor(){this.providerId=il.PROVIDER_ID}static credential(e,n){return Dc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=_g.parseLink(n);return Ee(s,"argument-error"),Dc._fromEmailAndCode(e,s.code,s.tenantId)}}il.PROVIDER_ID="password";il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class H2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wc extends H2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cs extends Wc{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";class us extends Wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pa._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return us.credential(n,s)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";class hs extends Wc{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";class ds extends Wc{constructor(){super("twitter.com")}static credential(e,n){return pa._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ds.credential(n,s)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await mr._fromIdTokenResponse(e,s,o),h=E_(s);return new Fo({user:c,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=E_(s);return new Fo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function E_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class td extends Er{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,td.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new td(e,n,s,o)}}function q2(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?td._fromErrorAndOperation(r,c,e,s):c})}async function gR(r,e,n=!1){const s=await Lc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Fo._forOperation(r,"link",s)}async function yR(r,e,n=!1){const{auth:s}=r;if(fr(s.app))return Promise.reject(gs(s));const o="reauthenticate";try{const c=await Lc(r,q2(s,o,e,r),n);Ee(c.idToken,s,"internal-error");const h=gg(c.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(r.uid===m,s,"user-mismatch"),Fo._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&vr(s,"user-mismatch"),c}}async function F2(r,e,n=!1){if(fr(r.app))return Promise.reject(gs(r));const s="signIn",o=await q2(r,s,e),c=await Fo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(c.user),c}async function vR(r,e){return F2(rl(r),e)}async function _R(r){const e=rl(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ER(r,e,n){return fr(r.app)?Promise.reject(gs(r)):vR(vt(r),il.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&_R(r),s})}function TR(r,e,n,s){return vt(r).onIdTokenChanged(e,n,s)}function xR(r,e,n){return vt(r).beforeAuthStateChanged(e,n)}function bR(r,e,n,s){return vt(r).onAuthStateChanged(e,n,s)}function SR(r){return vt(r).signOut()}const nd="__sak";class G2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nd,"1"),this.storage.removeItem(nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const AR=1e3,wR=10;class W2 extends G2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);F4()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,wR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},AR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}W2.type="LOCAL";const kR=W2;class $2 extends G2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$2.type="SESSION";const K2=$2;function RR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new wd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,c)),g=await RR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wd.receivers=[];function Eg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class CR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((m,g)=>{const p=Eg("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(A.data.response);break;default:clearTimeout(T),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Wr(){return window}function IR(r){Wr().location.href=r}function Q2(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function NR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LR(){return navigator?.serviceWorker?.controller||null}function DR(){return Q2()?self:null}const Y2="firebaseLocalStorageDb",jR=1,rd="firebaseLocalStorage",X2="fbase_key";class $c{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kd(r,e){return r.transaction([rd],e?"readwrite":"readonly").objectStore(rd)}function MR(){const r=indexedDB.deleteDatabase(Y2);return new $c(r).toPromise()}function jp(){const r=indexedDB.open(Y2,jR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(rd,{keyPath:X2})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(rd)?e(s):(s.close(),await MR(),e(await jp()))})})}async function T_(r,e,n){const s=kd(r,!0).put({[X2]:e,value:n});return new $c(s).toPromise()}async function OR(r,e){const n=kd(r,!1).get(e),s=await new $c(n).toPromise();return s===void 0?null:s.value}function x_(r,e){const n=kd(r,!0).delete(e);return new $c(n).toPromise()}const VR=800,PR=3;class Z2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>PR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wd._getInstance(DR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await NR(),!this.activeServiceWorker)return;this.sender=new CR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jp();return await T_(e,nd,"1"),await x_(e,nd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>T_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>OR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>x_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=kd(o,!1).getAll();return new $c(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z2.type="LOCAL";const UR=Z2;new Gc(3e4,6e4);function zR(r,e){return e?_i(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Tg extends vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BR(r){return F2(r.auth,new Tg(r),r.bypassAuthState)}function HR(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),yR(n,new Tg(r),r.bypassAuthState)}async function qR(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),gR(n,new Tg(r),r.bypassAuthState)}class J2{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BR;case"linkViaPopup":case"linkViaRedirect":return qR;case"reauthViaPopup":case"reauthViaRedirect":return HR;default:vr(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const FR=new Gc(2e3,1e4);class Vo extends J2{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=Eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FR.get())};e()}}Vo.currentPopupAction=null;const GR="pendingRedirect",zh=new Map;class WR extends J2{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=zh.get(this.auth._key());if(!e){try{const s=await $R(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}zh.set(this.auth._key(),e)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $R(r,e){const n=YR(e),s=QR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function KR(r,e){zh.set(r._key(),e)}function QR(r){return _i(r._redirectPersistence)}function YR(r){return Uh(GR,r.config.apiKey,r.name)}async function XR(r,e,n=!1){if(fr(r.app))return Promise.reject(gs(r));const s=rl(r),o=zR(s,e),h=await new WR(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const ZR=600*1e3;class JR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!eT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Gr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZR&&this.cachedEventUids.clear(),this.cachedEventUids.has(b_(e))}saveEventToCache(e){this.cachedEventUids.add(b_(e)),this.lastProcessedEventTime=Date.now()}}function b_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function eT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function e6(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eT(r);default:return!1}}async function t6(r,e={}){return Rs(r,"GET","/v1/projects",e)}const n6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r6=/^https?/;async function i6(r){if(r.config.emulator)return;const{authorizedDomains:e}=await t6(r);for(const n of e)try{if(s6(n))return}catch{}vr(r,"unauthorized-domain")}function s6(r){const e=Lp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!r6.test(n))return!1;if(n6.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const a6=new Gc(3e4,6e4);function S_(){const r=Wr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function o6(r){return new Promise((e,n)=>{function s(){S_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S_(),n(Gr(r,"network-request-failed"))},timeout:a6.get()})}if(Wr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Wr().gapi?.load)s();else{const o=J4("iframefcb");return Wr()[o]=()=>{gapi.load?s():n(Gr(r,"network-request-failed"))},U2(`${Z4()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Bh=null,e})}let Bh=null;function l6(r){return Bh=Bh||o6(r),Bh}const c6=new Gc(5e3,15e3),u6="__/auth/iframe",h6="emulator/auth/iframe",d6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m6(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?pg(e,h6):`https://${r.config.authDomain}/${u6}`,s={apiKey:e.apiKey,appName:r.name,v:nl},o=f6.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Fc(s).slice(1)}`}async function p6(r){const e=await l6(r),n=Wr().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:m6(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d6,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const h=Gr(r,"network-request-failed"),m=Wr().setTimeout(()=>{c(h)},c6.get());function g(){Wr().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{c(h)})}))}const g6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y6=500,v6=600,_6="_blank",E6="http://localhost";class A_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T6(r,e,n,s=y6,o=v6){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...g6,width:s.toString(),height:o.toString(),top:c,left:h},p=ln().toLowerCase();n&&(m=L2(p)?_6:n),I2(p)&&(e=e||E6,g.scrollbars="yes");const T=Object.entries(g).reduce((A,[j,B])=>`${A}${j}=${B},`,"");if(q4(p)&&m!=="_self")return x6(e||"",m),new A_(null);const b=window.open(e||"",m,T);Ee(b,r,"popup-blocked");try{b.focus()}catch{}return new A_(b)}function x6(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const b6="__/auth/handler",S6="emulator/auth/handler",A6=encodeURIComponent("fac");async function w_(r,e,n,s,o,c){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:nl,eventId:o};if(e instanceof H2){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",lk(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))h[T]=b}if(e instanceof Wc){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(h.scopes=T.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await r._getAppCheckToken(),p=g?`#${A6}=${encodeURIComponent(g)}`:"";return`${w6(r)}?${Fc(m).slice(1)}${p}`}function w6({config:r}){return r.emulator?pg(r,S6):`https://${r.authDomain}/${b6}`}const mp="webStorageSupport";class k6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K2,this._completeRedirectFn=XR,this._overrideRedirectResult=KR}async _openPopup(e,n,s,o){Si(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await w_(e,n,s,Lp(),o);return T6(e,c,Eg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await w_(e,n,s,Lp(),o);return IR(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Si(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await p6(e),s=new JR(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mp,{type:mp},o=>{const c=o?.[0]?.[mp];c!==void 0&&n(!!c),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=i6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return V2()||N2()||yg()}}const R6=k6;var k_="@firebase/auth",R_="1.12.0";class C6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function I6(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N6(r){Yr(new yr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P2(r)},p=new Q4(s,o,c,g);return sR(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Yr(new yr("auth-internal",e=>{const n=rl(e.getProvider("auth").getImmediate());return(s=>new C6(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(k_,R_,I6(r)),Zn(k_,R_,"esm2020")}const L6=300,D6=u2("authIdTokenMaxAge")||L6;let C_=null;const j6=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>D6)return;const o=n?.token;C_!==o&&(C_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function M6(r=fg()){const e=Ta(r,"auth");if(e.isInitialized())return e.getImmediate();const n=iR(r,{popupRedirectResolver:R6,persistence:[UR,kR,K2]}),s=u2("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=j6(c.toString());xR(n,h,()=>h(n.currentUser)),TR(n,m=>h(m))}}const o=l2("auth");return o&&aR(n,`http://${o}`),n}function O6(){return document.getElementsByTagName("head")?.[0]??document}Y4({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const c=Gr("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",O6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N6("Browser");var V6="firebase",P6="12.8.0";Zn(V6,P6,"app");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ys,tT;(function(){var r;function e(C,R){function k(){}k.prototype=R.prototype,C.F=R.prototype,C.prototype=new k,C.prototype.constructor=C,C.D=function(N,D,P){for(var I=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)I[Xe-2]=arguments[Xe];return R.prototype[D].apply(N,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,R,k){k||(k=0);const N=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)N[D]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(D=0;D<16;++D)N[D]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=C.g[0],k=C.g[1],D=C.g[2];let P=C.g[3],I;I=R+(P^k&(D^P))+N[0]+3614090360&4294967295,R=k+(I<<7&4294967295|I>>>25),I=P+(D^R&(k^D))+N[1]+3905402710&4294967295,P=R+(I<<12&4294967295|I>>>20),I=D+(k^P&(R^k))+N[2]+606105819&4294967295,D=P+(I<<17&4294967295|I>>>15),I=k+(R^D&(P^R))+N[3]+3250441966&4294967295,k=D+(I<<22&4294967295|I>>>10),I=R+(P^k&(D^P))+N[4]+4118548399&4294967295,R=k+(I<<7&4294967295|I>>>25),I=P+(D^R&(k^D))+N[5]+1200080426&4294967295,P=R+(I<<12&4294967295|I>>>20),I=D+(k^P&(R^k))+N[6]+2821735955&4294967295,D=P+(I<<17&4294967295|I>>>15),I=k+(R^D&(P^R))+N[7]+4249261313&4294967295,k=D+(I<<22&4294967295|I>>>10),I=R+(P^k&(D^P))+N[8]+1770035416&4294967295,R=k+(I<<7&4294967295|I>>>25),I=P+(D^R&(k^D))+N[9]+2336552879&4294967295,P=R+(I<<12&4294967295|I>>>20),I=D+(k^P&(R^k))+N[10]+4294925233&4294967295,D=P+(I<<17&4294967295|I>>>15),I=k+(R^D&(P^R))+N[11]+2304563134&4294967295,k=D+(I<<22&4294967295|I>>>10),I=R+(P^k&(D^P))+N[12]+1804603682&4294967295,R=k+(I<<7&4294967295|I>>>25),I=P+(D^R&(k^D))+N[13]+4254626195&4294967295,P=R+(I<<12&4294967295|I>>>20),I=D+(k^P&(R^k))+N[14]+2792965006&4294967295,D=P+(I<<17&4294967295|I>>>15),I=k+(R^D&(P^R))+N[15]+1236535329&4294967295,k=D+(I<<22&4294967295|I>>>10),I=R+(D^P&(k^D))+N[1]+4129170786&4294967295,R=k+(I<<5&4294967295|I>>>27),I=P+(k^D&(R^k))+N[6]+3225465664&4294967295,P=R+(I<<9&4294967295|I>>>23),I=D+(R^k&(P^R))+N[11]+643717713&4294967295,D=P+(I<<14&4294967295|I>>>18),I=k+(P^R&(D^P))+N[0]+3921069994&4294967295,k=D+(I<<20&4294967295|I>>>12),I=R+(D^P&(k^D))+N[5]+3593408605&4294967295,R=k+(I<<5&4294967295|I>>>27),I=P+(k^D&(R^k))+N[10]+38016083&4294967295,P=R+(I<<9&4294967295|I>>>23),I=D+(R^k&(P^R))+N[15]+3634488961&4294967295,D=P+(I<<14&4294967295|I>>>18),I=k+(P^R&(D^P))+N[4]+3889429448&4294967295,k=D+(I<<20&4294967295|I>>>12),I=R+(D^P&(k^D))+N[9]+568446438&4294967295,R=k+(I<<5&4294967295|I>>>27),I=P+(k^D&(R^k))+N[14]+3275163606&4294967295,P=R+(I<<9&4294967295|I>>>23),I=D+(R^k&(P^R))+N[3]+4107603335&4294967295,D=P+(I<<14&4294967295|I>>>18),I=k+(P^R&(D^P))+N[8]+1163531501&4294967295,k=D+(I<<20&4294967295|I>>>12),I=R+(D^P&(k^D))+N[13]+2850285829&4294967295,R=k+(I<<5&4294967295|I>>>27),I=P+(k^D&(R^k))+N[2]+4243563512&4294967295,P=R+(I<<9&4294967295|I>>>23),I=D+(R^k&(P^R))+N[7]+1735328473&4294967295,D=P+(I<<14&4294967295|I>>>18),I=k+(P^R&(D^P))+N[12]+2368359562&4294967295,k=D+(I<<20&4294967295|I>>>12),I=R+(k^D^P)+N[5]+4294588738&4294967295,R=k+(I<<4&4294967295|I>>>28),I=P+(R^k^D)+N[8]+2272392833&4294967295,P=R+(I<<11&4294967295|I>>>21),I=D+(P^R^k)+N[11]+1839030562&4294967295,D=P+(I<<16&4294967295|I>>>16),I=k+(D^P^R)+N[14]+4259657740&4294967295,k=D+(I<<23&4294967295|I>>>9),I=R+(k^D^P)+N[1]+2763975236&4294967295,R=k+(I<<4&4294967295|I>>>28),I=P+(R^k^D)+N[4]+1272893353&4294967295,P=R+(I<<11&4294967295|I>>>21),I=D+(P^R^k)+N[7]+4139469664&4294967295,D=P+(I<<16&4294967295|I>>>16),I=k+(D^P^R)+N[10]+3200236656&4294967295,k=D+(I<<23&4294967295|I>>>9),I=R+(k^D^P)+N[13]+681279174&4294967295,R=k+(I<<4&4294967295|I>>>28),I=P+(R^k^D)+N[0]+3936430074&4294967295,P=R+(I<<11&4294967295|I>>>21),I=D+(P^R^k)+N[3]+3572445317&4294967295,D=P+(I<<16&4294967295|I>>>16),I=k+(D^P^R)+N[6]+76029189&4294967295,k=D+(I<<23&4294967295|I>>>9),I=R+(k^D^P)+N[9]+3654602809&4294967295,R=k+(I<<4&4294967295|I>>>28),I=P+(R^k^D)+N[12]+3873151461&4294967295,P=R+(I<<11&4294967295|I>>>21),I=D+(P^R^k)+N[15]+530742520&4294967295,D=P+(I<<16&4294967295|I>>>16),I=k+(D^P^R)+N[2]+3299628645&4294967295,k=D+(I<<23&4294967295|I>>>9),I=R+(D^(k|~P))+N[0]+4096336452&4294967295,R=k+(I<<6&4294967295|I>>>26),I=P+(k^(R|~D))+N[7]+1126891415&4294967295,P=R+(I<<10&4294967295|I>>>22),I=D+(R^(P|~k))+N[14]+2878612391&4294967295,D=P+(I<<15&4294967295|I>>>17),I=k+(P^(D|~R))+N[5]+4237533241&4294967295,k=D+(I<<21&4294967295|I>>>11),I=R+(D^(k|~P))+N[12]+1700485571&4294967295,R=k+(I<<6&4294967295|I>>>26),I=P+(k^(R|~D))+N[3]+2399980690&4294967295,P=R+(I<<10&4294967295|I>>>22),I=D+(R^(P|~k))+N[10]+4293915773&4294967295,D=P+(I<<15&4294967295|I>>>17),I=k+(P^(D|~R))+N[1]+2240044497&4294967295,k=D+(I<<21&4294967295|I>>>11),I=R+(D^(k|~P))+N[8]+1873313359&4294967295,R=k+(I<<6&4294967295|I>>>26),I=P+(k^(R|~D))+N[15]+4264355552&4294967295,P=R+(I<<10&4294967295|I>>>22),I=D+(R^(P|~k))+N[6]+2734768916&4294967295,D=P+(I<<15&4294967295|I>>>17),I=k+(P^(D|~R))+N[13]+1309151649&4294967295,k=D+(I<<21&4294967295|I>>>11),I=R+(D^(k|~P))+N[4]+4149444226&4294967295,R=k+(I<<6&4294967295|I>>>26),I=P+(k^(R|~D))+N[11]+3174756917&4294967295,P=R+(I<<10&4294967295|I>>>22),I=D+(R^(P|~k))+N[2]+718787259&4294967295,D=P+(I<<15&4294967295|I>>>17),I=k+(P^(D|~R))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+P&4294967295}s.prototype.v=function(C,R){R===void 0&&(R=C.length);const k=R-this.blockSize,N=this.C;let D=this.h,P=0;for(;P<R;){if(D==0)for(;P<=k;)o(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<R;)if(N[D++]=C.charCodeAt(P++),D==this.blockSize){o(this,N),D=0;break}}else for(;P<R;)if(N[D++]=C[P++],D==this.blockSize){o(this,N),D=0;break}}this.h=D,this.o+=R},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var k=C.length-8;k<C.length;++k)C[k]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,k=0;k<4;++k)for(let N=0;N<32;N+=8)C[R++]=this.g[k]>>>N&255;return C};function c(C,R){var k=m;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=R(C)}function h(C,R){this.h=R;const k=[];let N=!0;for(let D=C.length-1;D>=0;D--){const P=C[D]|0;N&&P==R||(k[D]=P,N=!1)}this.g=k}var m={};function g(C){return-128<=C&&C<128?c(C,function(R){return new h([R|0],R<0?-1:0)}):new h([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return H(p(-C));const R=[];let k=1;for(let N=0;C>=k;N++)R[N]=C/k|0,k*=4294967296;return new h(R,0)}function T(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return H(T(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=p(Math.pow(R,8));let N=b;for(let P=0;P<C.length;P+=8){var D=Math.min(8,C.length-P);const I=parseInt(C.substring(P,P+D),R);D<8?(D=p(Math.pow(R,D)),N=N.j(D).add(p(I))):(N=N.j(k),N=N.add(p(I)))}return N}var b=g(0),A=g(1),j=g(16777216);r=h.prototype,r.m=function(){if(z(this))return-H(this).m();let C=0,R=1;for(let k=0;k<this.g.length;k++){const N=this.i(k);C+=(N>=0?N:4294967296+N)*R,R*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(B(this))return"0";if(z(this))return"-"+H(this).toString(C);const R=p(Math.pow(C,6));var k=this;let N="";for(;;){const D=F(k,R).g;k=ee(k,D.j(R));let P=((k.g.length>0?k.g[0]:k.h)>>>0).toString(C);if(k=D,B(k))return P+N;for(;P.length<6;)P="0"+P;N=P+N}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function B(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function z(C){return C.h==-1}r.l=function(C){return C=ee(this,C),z(C)?-1:B(C)?0:1};function H(C){const R=C.g.length,k=[];for(let N=0;N<R;N++)k[N]=~C.g[N];return new h(k,~C.h).add(A)}r.abs=function(){return z(this)?H(this):this},r.add=function(C){const R=Math.max(this.g.length,C.g.length),k=[];let N=0;for(let D=0;D<=R;D++){let P=N+(this.i(D)&65535)+(C.i(D)&65535),I=(P>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);N=I>>>16,P&=65535,I&=65535,k[D]=I<<16|P}return new h(k,k[k.length-1]&-2147483648?-1:0)};function ee(C,R){return C.add(H(R))}r.j=function(C){if(B(this)||B(C))return b;if(z(this))return z(C)?H(this).j(H(C)):H(H(this).j(C));if(z(C))return H(this.j(H(C)));if(this.l(j)<0&&C.l(j)<0)return p(this.m()*C.m());const R=this.g.length+C.g.length,k=[];for(var N=0;N<2*R;N++)k[N]=0;for(N=0;N<this.g.length;N++)for(let D=0;D<C.g.length;D++){const P=this.i(N)>>>16,I=this.i(N)&65535,Xe=C.i(D)>>>16,ft=C.i(D)&65535;k[2*N+2*D]+=I*ft,X(k,2*N+2*D),k[2*N+2*D+1]+=P*ft,X(k,2*N+2*D+1),k[2*N+2*D+1]+=I*Xe,X(k,2*N+2*D+1),k[2*N+2*D+2]+=P*Xe,X(k,2*N+2*D+2)}for(C=0;C<R;C++)k[C]=k[2*C+1]<<16|k[2*C];for(C=R;C<2*R;C++)k[C]=0;return new h(k,0)};function X(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function ae(C,R){this.g=C,this.h=R}function F(C,R){if(B(R))throw Error("division by zero");if(B(C))return new ae(b,b);if(z(C))return R=F(H(C),R),new ae(H(R.g),H(R.h));if(z(R))return R=F(C,H(R)),new ae(H(R.g),R.h);if(C.g.length>30){if(z(C)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var k=A,N=R;N.l(C)<=0;)k=le(k),N=le(N);var D=oe(k,1),P=oe(N,1);for(N=oe(N,2),k=oe(k,2);!B(N);){var I=P.add(N);I.l(C)<=0&&(D=D.add(k),P=I),N=oe(N,1),k=oe(k,1)}return R=ee(C,D.j(R)),new ae(D,R)}for(D=b;C.l(R)>=0;){for(k=Math.max(1,Math.floor(C.m()/R.m())),N=Math.ceil(Math.log(k)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),P=p(k),I=P.j(R);z(I)||I.l(C)>0;)k-=N,P=p(k),I=P.j(R);B(P)&&(P=A),D=D.add(P),C=ee(C,I)}return new ae(D,C)}r.B=function(C){return F(this,C).h},r.and=function(C){const R=Math.max(this.g.length,C.g.length),k=[];for(let N=0;N<R;N++)k[N]=this.i(N)&C.i(N);return new h(k,this.h&C.h)},r.or=function(C){const R=Math.max(this.g.length,C.g.length),k=[];for(let N=0;N<R;N++)k[N]=this.i(N)|C.i(N);return new h(k,this.h|C.h)},r.xor=function(C){const R=Math.max(this.g.length,C.g.length),k=[];for(let N=0;N<R;N++)k[N]=this.i(N)^C.i(N);return new h(k,this.h^C.h)};function le(C){const R=C.g.length+1,k=[];for(let N=0;N<R;N++)k[N]=C.i(N)<<1|C.i(N-1)>>>31;return new h(k,C.h)}function oe(C,R){const k=R>>5;R%=32;const N=C.g.length-k,D=[];for(let P=0;P<N;P++)D[P]=R>0?C.i(P+k)>>>R|C.i(P+k+1)<<32-R:C.i(P+k);return new h(D,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,tT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=T,ys=h}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nT,Ec,rT,Hh,Mp,iT,sT,aT;(function(){var r,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nh=="object"&&Nh];for(var v=0;v<u.length;++v){var x=u[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=n(this);function o(u,v){if(v)e:{var x=s;u=u.split(".");for(var w=0;w<u.length-1;w++){var q=u[w];if(!(q in x))break e;x=x[q]}u=u[u.length-1],w=x[u],v=v(w),v!=w&&v!=null&&e(x,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var x=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&x.push([w,v[w]]);return x}});var c=c||{},h=this||self;function m(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function g(u,v,x){return u.call.apply(u.bind,arguments)}function p(u,v,x){return p=g,p.apply(null,arguments)}function T(u,v){var x=Array.prototype.slice.call(arguments,1);return function(){var w=x.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function b(u,v){function x(){}x.prototype=v.prototype,u.Z=v.prototype,u.prototype=new x,u.prototype.constructor=u,u.Ob=function(w,q,Q){for(var ce=Array(arguments.length-2),we=2;we<arguments.length;we++)ce[we-2]=arguments[we];return v.prototype[q].apply(w,ce)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const v=u.length;if(v>0){const x=Array(v);for(let w=0;w<v;w++)x[w]=u[w];return x}return[]}function B(u,v){for(let w=1;w<arguments.length;w++){const q=arguments[w];var x=typeof q;if(x=x!="object"?x:q?Array.isArray(q)?"array":x:"null",x=="array"||x=="object"&&typeof q.length=="number"){x=u.length||0;const Q=q.length||0;u.length=x+Q;for(let ce=0;ce<Q;ce++)u[x+ce]=q[ce]}else u.push(q)}}class z{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function H(u){h.setTimeout(()=>{throw u},0)}function ee(){var u=C;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class X{constructor(){this.h=this.g=null}add(v,x){const w=ae.get();w.set(v,x),this.h?this.h.next=w:this.g=w,this.h=w}}var ae=new z(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let le,oe=!1,C=new X,R=()=>{const u=Promise.resolve(void 0);le=()=>{u.then(k)}};function k(){for(var u;u=ee();){try{u.h.call(u.g)}catch(x){H(x)}var v=ae;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}oe=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};h.addEventListener("test",x,v),h.removeEventListener("test",x,v)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function Xe(u,v){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}b(Xe,D),Xe.prototype.init=function(u,v){const x=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(x=="mouseover"?v=u.fromElement:x=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),Z=0;function $(u,v,x,w,q){this.listener=u,this.proxy=null,this.src=v,this.type=x,this.capture=!!w,this.ha=q,this.key=++Z,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ie(u,v,x){for(const w in u)v.call(x,u[w],w,u)}function Be(u,v){for(const x in u)v.call(void 0,u[x],x,u)}function V(u){const v={};for(const x in u)v[x]=u[x];return v}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(u,v){let x,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(x in w)u[x]=w[x];for(let Q=0;Q<ie.length;Q++)x=ie[Q],Object.prototype.hasOwnProperty.call(w,x)&&(u[x]=w[x])}}function me(u){this.src=u,this.g={},this.h=0}me.prototype.add=function(u,v,x,w,q){const Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);const ce=Re(u,v,w,q);return ce>-1?(v=u[ce],x||(v.fa=!1)):(v=new $(v,this.src,Q,!!w,q),v.fa=x,u.push(v)),v};function xe(u,v){const x=v.type;if(x in u.g){var w=u.g[x],q=Array.prototype.indexOf.call(w,v,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(w,q,1),Q&&(fe(v),u.g[x].length==0&&(delete u.g[x],u.h--))}}function Re(u,v,x,w){for(let q=0;q<u.length;++q){const Q=u[q];if(!Q.da&&Q.listener==v&&Q.capture==!!x&&Q.ha==w)return q}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Vt={};function ct(u,v,x,w,q){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)ct(u,v[Q],x,w,q);return null}return x=dl(x),u&&u[ft]?u.J(v,x,m(w)?!!w.capture:!1,q):Ls(u,v,x,!1,w,q)}function Ls(u,v,x,w,q,Q){if(!v)throw Error("Invalid event type");const ce=m(q)?!!q.capture:!!q;let we=Ds(u);if(we||(u[Ue]=we=new me(u)),x=we.add(v,x,w,ce,Q),x.proxy)return x;if(w=Ha(),x.proxy=w,w.src=u,w.listener=x,u.addEventListener)P||(q=ce),q===void 0&&(q=!1),u.addEventListener(v.toString(),w,q);else if(u.attachEvent)u.attachEvent(Tr(v.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ha(){function u(x){return v.call(u.src,u.listener,x)}const v=ul;return u}function qa(u,v,x,w,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)qa(u,v[Q],x,w,q);else w=m(w)?!!w.capture:!!w,x=dl(x),u&&u[ft]?(u=u.i,Q=String(v).toString(),Q in u.g&&(v=u.g[Q],x=Re(v,x,w,q),x>-1&&(fe(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete u.g[Q],u.h--)))):u&&(u=Ds(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Re(v,x,w,q)),(x=u>-1?v[u]:null)&&Fa(x))}function Fa(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[ft])xe(v.i,u);else{var x=u.type,w=u.proxy;v.removeEventListener?v.removeEventListener(x,w,u.capture):v.detachEvent?v.detachEvent(Tr(x),w):v.addListener&&v.removeListener&&v.removeListener(w),(x=Ds(v))?(xe(x,u),x.h==0&&(x.src=null,v[Ue]=null)):fe(u)}}}function Tr(u){return u in Vt?Vt[u]:Vt[u]="on"+u}function ul(u,v){if(u.da)u=!0;else{v=new Xe(v,this);const x=u.listener,w=u.ha||u.src;u.fa&&Fa(u),u=x.call(w,v)}return u}function Ds(u){return u=u[Ue],u instanceof me?u:null}var hl="__closure_events_fn_"+(Math.random()*1e9>>>0);function dl(u){return typeof u=="function"?u:(u[hl]||(u[hl]=function(v){return u.handleEvent(v)}),u[hl])}function St(){N.call(this),this.i=new me(this),this.M=this,this.G=null}b(St,N),St.prototype[ft]=!0,St.prototype.removeEventListener=function(u,v,x,w){qa(this,u,v,x,w)};function Pt(u,v){var x,w=u.G;if(w)for(x=[];w;w=w.G)x.push(w);if(u=u.M,w=v.type||v,typeof v=="string")v=new D(v,u);else if(v instanceof D)v.target=v.target||u;else{var q=v;v=new D(w,u),ue(v,q)}q=!0;let Q,ce;if(x)for(ce=x.length-1;ce>=0;ce--)Q=v.g=x[ce],q=Ci(Q,w,!0,v)&&q;if(Q=v.g=u,q=Ci(Q,w,!0,v)&&q,q=Ci(Q,w,!1,v)&&q,x)for(ce=0;ce<x.length;ce++)Q=v.g=x[ce],q=Ci(Q,w,!1,v)&&q}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const x=u.g[v];for(let w=0;w<x.length;w++)fe(x[w]);delete u.g[v],u.h--}}this.G=null},St.prototype.J=function(u,v,x,w){return this.i.add(String(u),v,!1,x,w)},St.prototype.K=function(u,v,x,w){return this.i.add(String(u),v,!0,x,w)};function Ci(u,v,x,w){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let Q=0;Q<v.length;++Q){const ce=v[Q];if(ce&&!ce.da&&ce.capture==x){const we=ce.listener,Et=ce.ha||ce.src;ce.fa&&xe(u.i,ce),q=we.call(Et,w)!==!1&&q}}return q&&!w.defaultPrevented}function ef(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(u,v||0)}function eu(u){u.g=ef(()=>{u.g=null,u.i&&(u.i=!1,eu(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class un extends N{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(u){N.call(this),this.h=u,this.g={}}b(js,N);var fl=[];function ml(u){Ie(u.g,function(v,x){this.g.hasOwnProperty(x)&&Fa(v)},u),u.g={}}js.prototype.N=function(){js.Z.N.call(this),ml(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ii=h.JSON.stringify,tf=h.JSON.parse,tu=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function nu(){}function ru(){}var tr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){D.call(this,"d")}b(Wt,D);function Vn(){D.call(this,"c")}b(Vn,D);var _t={},iu=null;function Ga(){return iu=iu||new St}_t.Ia="serverreachability";function su(u){D.call(this,_t.Ia,u)}b(su,D);function xr(u){const v=Ga();Pt(v,new su(v))}_t.STAT_EVENT="statevent";function Ms(u,v){D.call(this,_t.STAT_EVENT,u),this.stat=v}b(Ms,D);function At(u){const v=Ga();Pt(v,new Ms(v,u))}_t.Ja="timingevent";function br(u,v){D.call(this,_t.Ja,u),this.size=v}b(br,D);function Sr(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},v)}function nr(){this.g=!0}nr.prototype.ua=function(){this.g=!1};function nf(u,v,x,w,q,Q){u.info(function(){if(u.g)if(Q){var ce="",we=Q.split("&");for(let Fe=0;Fe<we.length;Fe++){var Et=we[Fe].split("=");if(Et.length>1){const ut=Et[0];Et=Et[1];const Bn=ut.split("_");ce=Bn.length>=2&&Bn[1]=="type"?ce+(ut+"="+Et+"&"):ce+(ut+"=redacted&")}}}else ce=null;else ce=Q;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+v+`
`+x+`
`+ce})}function au(u,v,x,w,q,Q,ce){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+v+`
`+x+`
`+Q+" "+ce})}function Ar(u,v,x,w){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+rf(u,x)+(w?" "+w:"")})}function Os(u,v){u.info(function(){return"TIMEOUT: "+v})}nr.prototype.info=function(){};function rf(u,v){if(!u.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(u=0;u<Q.length;u++)if(Array.isArray(Q[u])){var x=Q[u];if(!(x.length<2)){var w=x[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ce=1;ce<w.length;ce++)w[ce]=""}}}}return Ii(Q)}catch{return v}}var Vs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function Ps(){}b(Ps,nu),Ps.prototype.g=function(){return new XMLHttpRequest},gl=new Ps;function Jr(u){return encodeURIComponent(String(u))}function ou(u){var v=1;u=u.split(":");const x=[];for(;v>0&&u.length;)x.push(u.shift()),v--;return u.length&&x.push(u.join(":")),x}function rr(u,v,x,w){this.j=u,this.i=v,this.l=x,this.S=w||1,this.V=new js(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ir}function ir(){this.i=null,this.g="",this.h=!1}var wt={},Bt={};function wr(u,v,x){u.M=1,u.A=Us(Rt(v)),u.u=x,u.R=!0,Wa(u,null)}function Wa(u,v){u.F=Date.now(),kr(u),u.B=Rt(u.A);var x=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),Ya(x.i,"t",w),u.C=0,x=u.j.L,u.h=new ir,u.g=xu(u.j,x?v:null,!u.u),u.P>0&&(u.O=new un(p(u.Y,u,u.g),u.P)),v=u.V,x=u.g,w=u.ba;var q="readystatechange";Array.isArray(q)||(q&&(fl[0]=q.toString()),q=fl);for(let Q=0;Q<q.length;Q++){const ce=ct(x,q[Q],w||v.handleEvent,!1,v.h||v);if(!ce)break;v.g[ce.key]=ce}v=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),xr(),nf(u.i,u.v,u.B,u.l,u.S,u.u)}rr.prototype.ba=function(u){u=u.target;const v=this.O;v&&or(u)==3?v.j():this.Y(u)},rr.prototype.Y=function(u){try{if(u==this.g)e:{const we=or(this.g),Et=this.g.ya(),Fe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||we!=4||Et==7||(Et==8||Fe<=0?xr(3):xr(2)),Rr(this);var v=this.g.ca();this.X=v;var x=sf(this);if(this.o=v==200,au(this.i,this.v,this.B,this.l,this.S,we,v),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var Q=w;break t}}Q=null}if(u=Q)Ar(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Cr(this,u);else{this.o=!1,this.m=3,At(12),An(this),Pn(this);break e}}if(this.R){u=!0;let ut;for(;!this.K&&this.C<x.length;)if(ut=cu(this,x),ut==Bt){we==4&&(this.m=4,At(14),u=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==wt){this.m=4,At(15),Ar(this.i,this.l,x,"[Invalid Chunk]"),u=!1;break}else Ar(this.i,this.l,ut,null),Cr(this,ut);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||x.length!=0||this.h.h||(this.m=1,At(16),u=!1),this.o=this.o&&u,!u)Ar(this.i,this.l,x,"[Invalid Chunked Response]"),An(this),Pn(this);else if(x.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Nl(ce),ce.P=!0,At(11))}}else Ar(this.i,this.l,x,null),Cr(this,x);we==4&&An(this),this.o&&!this.K&&(we==4?vu(this.j,this):(this.o=!1,kr(this)))}else ti(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),An(this),Pn(this)}}}catch{}};function sf(u){if(!lu(u))return u.g.la();const v=$t(u.g);if(v==="")return"";let x="";const w=v.length,q=or(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return An(u),Pn(u),"";u.h.i=new h.TextDecoder}for(let Q=0;Q<w;Q++)u.h.h=!0,x+=u.h.i.decode(v[Q],{stream:!(q&&Q==w-1)});return v.length=0,u.h.g+=x,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,v){var x=u.C,w=v.indexOf(`
`,x);return w==-1?Bt:(x=Number(v.substring(x,w)),isNaN(x)?wt:(w+=1,w+x>v.length?Bt:(v=v.slice(w,w+x),u.C=w+x,v)))}rr.prototype.cancel=function(){this.K=!0,An(this)};function kr(u){u.T=Date.now()+u.H,$a(u,u.H)}function $a(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Sr(p(u.aa,u),v)}function Rr(u){u.D&&(h.clearTimeout(u.D),u.D=null)}rr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Os(this.i,this.B),this.M!=2&&(xr(),At(17)),An(this),this.m=2,Pn(this)):$a(this,this.T-u)};function Pn(u){u.j.I==0||u.K||vu(u.j,u)}function An(u){Rr(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,ml(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function Cr(u,v){try{var x=u.j;if(x.I!=0&&(x.g==u||Nr(x.h,u))){if(!u.L&&Nr(x.h,u)&&x.I==3){try{var w=x.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<u.F)to(x),Pi(x);else break e;Ws(x),At(18)}}else x.xa=q[1],0<x.xa-x.K&&q[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Sr(p(x.Va,x),6e3));Ir(x.h)<=1&&x.ta&&(x.ta=void 0)}else Vr(x,11)}else if((u.L||x.g==u)&&to(x),!I(v))for(q=x.Ba.g.parse(v),v=0;v<q.length;v++){let Fe=q[v];const ut=Fe[0];if(!(ut<=x.K))if(x.K=ut,Fe=Fe[1],x.I==2)if(Fe[0]=="c"){x.M=Fe[1],x.ba=Fe[2];const Bn=Fe[3];Bn!=null&&(x.ka=Bn,x.j.info("VER="+x.ka));const Pr=Fe[4];Pr!=null&&(x.za=Pr,x.j.info("SVER="+x.za));const lr=Fe[5];lr!=null&&typeof lr=="number"&&lr>0&&(w=1.5*lr,x.O=w,x.j.info("backChannelRequestTimeoutMs_="+w)),w=x;const cr=u.g;if(cr){const $s=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($s){var Q=w.h;Q.g||$s.indexOf("spdy")==-1&&$s.indexOf("quic")==-1&&$s.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(_l(Q,Q.h),Q.h=null))}if(w.G){const no=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;no&&(w.wa=no,$e(w.J,w.G,no))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-u.F,x.j.info("Handshake RTT: "+x.T+"ms")),w=x;var ce=u;if(w.na=Tu(w,w.L?w.ba:null,w.W),ce.L){El(w.h,ce);var we=ce,Et=w.O;Et&&(we.H=Et),we.D&&(Rr(we),kr(we)),w.g=ce}else gu(w);x.i.length>0&&Or(x)}else Fe[0]!="stop"&&Fe[0]!="close"||Vr(x,7);else x.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Vr(x,7):Cl(x):Fe[0]!="noop"&&x.l&&x.l.qa(Fe),x.A=0)}}xr(4)}catch{}}var kt=class{constructor(u,v){this.g=u,this.map=v}};function yl(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ir(u){return u.h?1:u.g?u.g.size:0}function Nr(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function _l(u,v){u.g?u.g.add(v):u.h=v}function El(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}yl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const x of u.g.values())v=v.concat(x.G);return v}return j(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ka(u,v){if(u){u=u.split("&");for(let x=0;x<u.length;x++){const w=u[x].indexOf("=");let q,Q=null;w>=0?(q=u[x].substring(0,w),Q=u[x].substring(w+1)):q=u[x],v(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function wn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof wn?(this.l=u.l,Ht(this,u.j),this.o=u.o,this.g=u.g,Ni(this,u.u),this.h=u.h,xl(this,mu(u.i)),this.m=u.m):u&&(v=String(u).match(uu))?(this.l=!1,Ht(this,v[1]||"",!0),this.o=Lr(v[2]||""),this.g=Lr(v[3]||"",!0),Ni(this,v[4]),this.h=Lr(v[5]||"",!0),xl(this,v[6]||"",!0),this.m=Lr(v[7]||"")):(this.l=!1,this.i=new Di(null,this.l))}wn.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(zs(v,Qa,!0),":");var x=this.g;return(x||v=="file")&&(u.push("//"),(v=this.o)&&u.push(zs(v,Qa,!0),"@"),u.push(Jr(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&u.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(zs(x,x.charAt(0)=="/"?bl:hu,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",zs(x,du)),u.join("")},wn.prototype.resolve=function(u){const v=Rt(this);let x=!!u.j;x?Ht(v,u.j):x=!!u.o,x?v.o=u.o:x=!!u.g,x?v.g=u.g:x=u.u!=null;var w=u.h;if(x)Ni(v,u.u);else if(x=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=v.h.lastIndexOf("/");q!=-1&&(w=v.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let ce=0;ce<q.length;){const we=q[ce++];we=="."?w&&ce==q.length&&Q.push(""):we==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),w&&ce==q.length&&Q.push("")):(Q.push(we),w=!0)}w=Q.join("/")}else w=q}return x?v.h=w:x=u.i.toString()!=="",x?xl(v,mu(u.i)):x=!!u.m,x&&(v.m=u.m),v};function Rt(u){return new wn(u)}function Ht(u,v,x){u.j=x?Lr(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Ni(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function xl(u,v,x){v instanceof Di?(u.i=v,Xa(u.i,u.l)):(x||(v=zs(v,Li)),u.i=new Di(v,u.l))}function $e(u,v,x){u.i.set(v,x)}function Us(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Lr(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function zs(u,v,x){return typeof u=="string"?(u=encodeURI(u).replace(v,pn),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Qa=/[#\/\?@]/g,hu=/[#\?:]/g,bl=/[#\?]/g,Li=/[#\?@]/g,du=/#/g;function Di(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ka(u.i,function(v,x){u.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}r=Di.prototype,r.add=function(u,v){gn(this),this.i=null,u=ji(this,u);let x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(v),this.h+=1,this};function fu(u,v){gn(u),v=ji(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Sl(u,v){return gn(u),v=ji(u,v),u.g.has(v)}r.forEach=function(u,v){gn(this),this.g.forEach(function(x,w){x.forEach(function(q){u.call(v,q,w,this)},this)},this)};function Al(u,v){gn(u);let x=[];if(typeof v=="string")Sl(u,v)&&(x=x.concat(u.g.get(ji(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)x=x.concat(u[v]);return x}r.set=function(u,v){return gn(this),this.i=null,u=ji(this,u),Sl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},r.get=function(u,v){return u?(u=Al(this,u),u.length>0?String(u[0]):v):v};function Ya(u,v,x){fu(u,v),x.length>0&&(u.i=null,u.g.set(ji(u,v),j(x)),u.h+=x.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var x=v[w];const q=Jr(x);x=Al(this,x);for(let Q=0;Q<x.length;Q++){let ce=q;x[Q]!==""&&(ce+="="+Jr(x[Q])),u.push(ce)}}return this.i=u.join("&")};function mu(u){const v=new Di;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function ji(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Xa(u,v){v&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(x,w){const q=w.toLowerCase();w!=q&&(fu(this,w),Ya(this,q,x))},u)),u.j=v}function sr(u,v){const x=new nr;if(h.Image){const w=new Image;w.onload=T(Un,x,"TestLoadImage: loaded",!0,v,w),w.onerror=T(Un,x,"TestLoadImage: error",!1,v,w),w.onabort=T(Un,x,"TestLoadImage: abort",!1,v,w),w.ontimeout=T(Un,x,"TestLoadImage: timeout",!1,v,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else v(!1)}function wl(u,v){const x=new nr,w=new AbortController,q=setTimeout(()=>{w.abort(),Un(x,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:w.signal}).then(Q=>{clearTimeout(q),Q.ok?Un(x,"TestPingServer: ok",!0,v):Un(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Un(x,"TestPingServer: error",!1,v)})}function Un(u,v,x,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(x)}catch{}}function Mi(){this.g=new tu}function Dr(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Dr,nu),Dr.prototype.g=function(){return new Bs(this.i,this.h)};function Bs(u,v){St.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Bs,St),r=Bs.prototype,r.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,ar(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Oi(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Za(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Za(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Oi(this):ar(this),this.readyState==3&&Za(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Oi(this))},r.Na=function(u){this.g&&(this.response=u,Oi(this))},r.ga=function(){this.g&&Oi(this)};function Oi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ar(u)}r.setRequestHeader=function(u,v){this.A.append(u,v)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=v.next();return u.join(`\r
`)};function ar(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function zn(u){let v="";return Ie(u,function(x,w){v+=w,v+=":",v+=x,v+=`\r
`}),v}function Hs(u,v,x){e:{for(w in x){var w=!1;break e}w=!0}w||(x=zn(x),typeof u=="string"?x!=null&&Jr(x):$e(u,v,x))}function Ze(u){St.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ze,St);var jr=/^https?$/i,kl=["POST","PUT"];r=Ze.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,v,x,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=A(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(Q){qs(this,Q);return}if(u=x||"",x=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)x.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())x.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(x.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(kl,v,void 0)>=0)||w||q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ce]of x)this.g.setRequestHeader(Q,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Q){qs(this,Q)}};function qs(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,Rl(u),ei(u)}function Rl(u){u.A||(u.A=!0,Pt(u,"complete"),Pt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Pt(this,"complete"),Pt(this,"abort"),ei(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Fs(this):this.Xa())},r.Xa=function(){Fs(this)};function Fs(u){if(u.h&&typeof c<"u"){if(u.v&&or(u)==4)setTimeout(u.Ca.bind(u),0);else if(Pt(u,"readystatechange"),or(u)==4){u.h=!1;try{const Q=u.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var w;if(w=Q===0){let ce=String(u.D).match(uu)[1]||null;!ce&&h.self&&h.self.location&&(ce=h.self.location.protocol.slice(0,-1)),w=!jr.test(ce?ce.toLowerCase():"")}x=w}if(x)Pt(u,"complete"),Pt(u,"success");else{u.o=6;try{var q=or(u)>2?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.ca()+"]",Rl(u)}}finally{ei(u)}}}}function ei(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const x=u.g;u.g=null,v||Pt(u,"ready");try{x.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function or(u){return u.g?u.g.readyState:0}r.ca=function(){try{return or(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),tf(v)}};function $t(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ti(u){const v={};u=(u.g&&or(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(I(u[w]))continue;var x=ou(u[w]);const q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Q=v[q]||[];v[q]=Q,Q.push(x)}Be(v,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mr(u,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||v}function Vi(u){this.za=0,this.i=[],this.j=new nr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mr("baseRetryDelayMs",5e3,u),this.Za=Mr("retryDelaySeedMs",1e4,u),this.Ta=Mr("forwardChannelMaxRetries",2,u),this.va=Mr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(u&&u.concurrentRequestLimit),this.Ba=new Mi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Vi.prototype,r.ka=8,r.I=1,r.connect=function(u,v,x,w){At(0),this.W=u,this.H=v||{},x&&w!==void 0&&(this.H.OSID=x,this.H.OAID=w),this.F=this.X,this.J=Tu(this,null,this.W),Or(this)};function Cl(u){if(Ja(u),u.I==3){var v=u.V++,x=Rt(u.J);if($e(x,"SID",u.M),$e(x,"RID",v),$e(x,"TYPE","terminate"),Gs(u,x),v=new rr(u,u.j,v),v.M=2,v.A=Us(Rt(x)),x=!1,h.navigator&&h.navigator.sendBeacon)try{x=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!x&&h.Image&&(new Image().src=v.A,x=!0),x||(v.g=xu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),kr(v)}Eu(u)}function Pi(u){u.g&&(Nl(u),u.g.cancel(),u.g=null)}function Ja(u){Pi(u),u.v&&(h.clearTimeout(u.v),u.v=null),to(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function Or(u){if(!vl(u.h)&&!u.m){u.m=!0;var v=u.Ea;le||R(),oe||(le(),oe=!0),C.add(v,u),u.D=0}}function eo(u,v){return Ir(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Sr(p(u.Ea,u,v),_u(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const q=new rr(this,this.j,u);let Q=this.o;if(this.U&&(Q?(Q=V(Q),ue(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var w=this.i[x];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=pu(this,q,v),x=Rt(this.J),$e(x,"RID",u),$e(x,"CVER",22),this.G&&$e(x,"X-HTTP-Session-Id",this.G),Gs(this,x),Q&&(this.R?v="headers="+Jr(zn(Q))+"&"+v:this.u&&Hs(x,this.u,Q)),_l(this.h,q),this.Ra&&$e(x,"TYPE","init"),this.S?($e(x,"$req",v),$e(x,"SID","null"),q.U=!0,wr(q,x,null)):wr(q,x,v),this.I=2}}else this.I==3&&(u?Il(this,u):this.i.length==0||vl(this.h)||Il(this))};function Il(u,v){var x;v?x=v.l:x=u.V++;const w=Rt(u.J);$e(w,"SID",u.M),$e(w,"RID",x),$e(w,"AID",u.K),Gs(u,w),u.u&&u.o&&Hs(w,u.u,u.o),x=new rr(u,u.j,x,u.D+1),u.u===null&&(x.J=u.o),v&&(u.i=v.G.concat(u.i)),v=pu(u,x,1e3),x.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_l(u.h,x),wr(x,w,v)}function Gs(u,v){u.H&&Ie(u.H,function(x,w){$e(v,w,x)}),u.l&&Ie({},function(x,w){$e(v,w,x)})}function pu(u,v,x){x=Math.min(u.i.length,x);const w=u.l?p(u.l.Ka,u.l,u):null;e:{var q=u.i;let we=-1;for(;;){const Et=["count="+x];we==-1?x>0?(we=q[0].g,Et.push("ofs="+we)):we=0:Et.push("ofs="+we);let Fe=!0;for(let ut=0;ut<x;ut++){var Q=q[ut].g;const Bn=q[ut].map;if(Q-=we,Q<0)we=Math.max(0,q[ut].g-100),Fe=!1;else try{Q="req"+Q+"_"||"";try{var ce=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Pr,lr]of ce){let cr=lr;m(lr)&&(cr=Ii(lr)),Et.push(Q+Pr+"="+encodeURIComponent(cr))}}catch(Pr){throw Et.push(Q+"type="+encodeURIComponent("_badmap")),Pr}}catch{w&&w(Bn)}}if(Fe){ce=Et.join("&");break e}}ce=void 0}return u=u.i.splice(0,x),v.G=u,ce}function gu(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;le||R(),oe||(le(),oe=!0),C.add(v,u),u.A=0}}function Ws(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Sr(p(u.Da,u),_u(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Sr(p(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Pi(this),yu(this))};function Nl(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new rr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=Rt(u.na);$e(v,"RID","rpc"),$e(v,"SID",u.M),$e(v,"AID",u.K),$e(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(v,"TO",u.ia),$e(v,"TYPE","xmlhttp"),Gs(u,v),u.u&&u.o&&Hs(v,u.u,u.o),u.O&&(u.g.H=u.O);var x=u.g;u=u.ba,x.M=1,x.A=Us(Rt(v)),x.u=null,x.R=!0,Wa(x,u)}r.Va=function(){this.C!=null&&(this.C=null,Pi(this),Ws(this),At(19))};function to(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function vu(u,v){var x=null;if(u.g==v){to(u),Nl(u),u.g=null;var w=2}else if(Nr(u.h,v))x=v.G,El(u.h,v),w=1;else return;if(u.I!=0){if(v.o)if(w==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var q=u.D;w=Ga(),Pt(w,new br(w,x)),Or(u)}else gu(u);else if(q=v.m,q==3||q==0&&v.X>0||!(w==1&&eo(u,v)||w==2&&Ws(u)))switch(x&&x.length>0&&(v=u.h,v.i=v.i.concat(x)),q){case 1:Vr(u,5);break;case 4:Vr(u,10);break;case 3:Vr(u,6);break;default:Vr(u,2)}}}function _u(u,v){let x=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(x*=2),x*v}function Vr(u,v){if(u.j.info("Error code "+v),v==2){var x=p(u.bb,u),w=u.Ua;const q=!w;w=new wn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ht(w,"https"),Us(w),q?sr(w.toString(),x):wl(w.toString(),x)}else At(2);u.I=0,u.l&&u.l.pa(v),Eu(u),Ja(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Eu(u){if(u.I=0,u.ja=[],u.l){const v=Tl(u.h);(v.length!=0||u.i.length!=0)&&(B(u.ja,v),B(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function Tu(u,v,x){var w=x instanceof wn?Rt(x):new wn(x);if(w.g!="")v&&(w.g=v+"."+w.g),Ni(w,w.u);else{var q=h.location;w=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const Q=new wn(null);w&&Ht(Q,w),v&&(Q.g=v),q&&Ni(Q,q),x&&(Q.h=x),w=Q}return x=u.G,v=u.wa,x&&v&&$e(w,x,v),$e(w,"VER",u.ka),Gs(u,w),w}function xu(u,v,x){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new Ze(new Dr({ab:x})):new Ze(u.ma),v.Fa(u.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}r=bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ui(){}Ui.prototype.g=function(u,v){return new hn(u,v)};function hn(u,v){St.call(this),this.g=new Vi(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!I(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!I(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new ni(this)}b(hn,St),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Cl(this.g)},hn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.v&&(x={},x.__data__=Ii(u),u=x);v.i.push(new kt(v.Ya++,u)),v.I==3&&Or(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,hn.Z.N.call(this)};function Su(u){Wt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const x in v){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}b(Su,Wt);function Au(){Vn.call(this),this.status=1}b(Au,Vn);function ni(u){this.g=u}b(ni,bu),ni.prototype.ra=function(){Pt(this.g,"a")},ni.prototype.qa=function(u){Pt(this.g,new Su(u))},ni.prototype.pa=function(u){Pt(this.g,new Au)},ni.prototype.oa=function(){Pt(this.g,"b")},Ui.prototype.createWebChannel=Ui.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,aT=function(){return new Ui},sT=function(){return Ga()},iT=_t,Mp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vs.NO_ERROR=0,Vs.TIMEOUT=8,Vs.HTTP_ERROR=6,Hh=Vs,pl.COMPLETE="complete",rT=pl,ru.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",St.prototype.listen=St.prototype.J,Ec=ru,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,nT=Ze}).apply(typeof Nh<"u"?Nh:typeof self<"u"?self:typeof window<"u"?window:{});class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let sl="12.8.0";function U6(r){sl=r}const ga=new bd("@firebase/firestore");function Do(){return ga.logLevel}function de(r,...e){if(ga.logLevel<=Me.DEBUG){const n=e.map(xg);ga.debug(`Firestore (${sl}): ${r}`,...n)}}function Ai(r,...e){if(ga.logLevel<=Me.ERROR){const n=e.map(xg);ga.error(`Firestore (${sl}): ${r}`,...n)}}function Go(r,...e){if(ga.logLevel<=Me.WARN){const n=e.map(xg);ga.warn(`Firestore (${sl}): ${r}`,...n)}}function xg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,oT(r,s,n)}function oT(r,e,n){let s=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ai(s),new Error(s)}function We(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||oT(e,o,s)}function Ae(r,e){return r}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ti{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class lT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(an.UNAUTHENTICATED)))}shutdown(){}}class B6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class H6{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ti,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ti)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new lT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class q6{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class F6{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new q6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const s=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new N_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function W6(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class bg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=W6(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Oe(r,e){return r<e?-1:r>e?1:0}function Op(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return pp(o)===pp(c)?Oe(o,c):pp(o)?1:-1}return Oe(r.length,e.length)}const $6=55296,K6=57343;function pp(r){const e=r.charCodeAt(0);return e>=$6&&e<=K6}function Wo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const L_="__name__";class Fr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Fr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=Fr.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Oe(e.length,n.length)}static compareSegments(e,n){const s=Fr.isNumericId(e),o=Fr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Fr.extractNumericId(e).compare(Fr.extractNumericId(n)):Op(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ys.fromString(e.substring(4,e.length-2))}}class at extends Fr{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const Q6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Fr{construct(e,n,s){return new en(e,n,s)}static isValidIdentifier(e){return Q6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L_}static keyField(){return new en([L_])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(c(),o++)}if(c(),h)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(at.fromString(e))}static fromName(e){return new ve(at.fromString(e).popFirst(5))}static empty(){return new ve(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new at(e.slice()))}}function cT(r,e,n){if(!n)throw new he(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Y6(r,e,n,s){if(e===!0&&s===!0)throw new he(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function D_(r){if(!ve.isDocumentKey(r))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function j_(r){if(ve.isDocumentKey(r))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function uT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Rd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function Sn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rd(r);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ot(r,e){const n={typeString:r};return e&&(n.value=e),n}function Kc(r,e){if(!uT(r))throw new he(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new he(ne.INVALID_ARGUMENT,n);return!0}const M_=-62135596800,O_=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*O_);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<M_)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O_}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kc(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-M_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Ot("string",it._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new it(0,0))}static max(){return new be(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jc=-1;function X6(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new Ts(o,ve.empty(),e)}function Z6(r){return new Ts(r.readTime,r.key,jc)}class Ts{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ts(be.min(),ve.empty(),jc)}static max(){return new Ts(be.max(),ve.empty(),jc)}}function J6(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Oe(r.largestBatchId,e.largestBatchId))}const eC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function al(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==eC)throw r;de("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,s)=>{n(e)}))}static reject(e){return new se(((n,s)=>{s(e)}))}static waitFor(e){return new se(((n,s)=>{let o=0,c=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++c,h&&c===o&&n()}),(g=>s(g)))})),h=!0,c===o&&n()}))}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next((o=>o?se.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new se(((s,o)=>{const c=e.length,h=new Array(c);let m=0;for(let g=0;g<c;g++){const p=g;n(e[p]).next((T=>{h[p]=T,++m,m===c&&s(h)}),(T=>o(T)))}}))}static doWhile(e,n){return new se(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function nC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ol(r){return r.name==="IndexedDbTransactionError"}class Cd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Cd.ce=-1;const Sg=-1;function Id(r){return r==null}function id(r){return r===0&&1/r==-1/0}function rC(r){return typeof r=="number"&&Number.isInteger(r)&&!id(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const hT="";function iC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=V_(e)),e=sC(r.get(n),e);return V_(e)}function sC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case hT:n+="";break;default:n+=c}}return n}function V_(r){return r+hT+""}function P_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Cs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function dT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class mt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lh(this.root,e,this.comparator,!0)}}class Lh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??Zt.RED,this.left=o??Zt.EMPTY,this.right=c??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new Zt(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new U_(this.data.getIterator())}getIteratorFrom(e){return new U_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class U_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new jn([])}unionWith(e){let n=new zt(en.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class fT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new fT("Invalid base64 string: "+c):c}})(e);return new tn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const aC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(r){if(We(!!r,39018),typeof r=="string"){let e=0;const n=aC.exec(r);if(We(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(r.seconds),nanos:bt(r.nanos)}}function bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function bs(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}const mT="server_timestamp",pT="__type__",gT="__previous_value__",yT="__local_write_time__";function Ag(r){return(r?.mapValue?.fields||{})[pT]?.stringValue===mT}function Nd(r){const e=r.mapValue.fields[gT];return Ag(e)?Nd(e):e}function Mc(r){const e=xs(r.mapValue.fields[yT].timestampValue);return new it(e.seconds,e.nanos)}class oC{constructor(e,n,s,o,c,h,m,g,p,T,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=T,this.apiKey=b}}const sd="(default)";class Oc{constructor(e,n){this.projectId=e,this.database=n||sd}static empty(){return new Oc("","")}get isDefaultDatabase(){return this.database===sd}isEqual(e){return e instanceof Oc&&e.projectId===this.projectId&&e.database===this.database}}function lC(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oc(r.options.projectId,e)}const vT="__type__",cC="__max__",Dh={mapValue:{}},_T="__vector__",ad="value";function Ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ag(r)?4:hC(r)?9007199254740991:uC(r)?10:11:Te(28295,{value:r})}function Xr(r,e){if(r===e)return!0;const n=Ss(r);if(n!==Ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Mc(r).isEqual(Mc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=xs(o.timestampValue),m=xs(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return bs(o.bytesValue).isEqual(bs(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return bt(o.geoPointValue.latitude)===bt(c.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return bt(o.integerValue)===bt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=bt(o.doubleValue),m=bt(c.doubleValue);return h===m?id(h)===id(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return Wo(r.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},m=c.mapValue.fields||{};if(P_(h)!==P_(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Xr(h[g],m[g])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function Vc(r,e){return(r.values||[]).find((n=>Xr(n,e)))!==void 0}function $o(r,e){if(r===e)return 0;const n=Ss(r),s=Ss(e);if(n!==s)return Oe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,e.booleanValue);case 2:return(function(c,h){const m=bt(c.integerValue||c.doubleValue),g=bt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return z_(r.timestampValue,e.timestampValue);case 4:return z_(Mc(r),Mc(e));case 5:return Op(r.stringValue,e.stringValue);case 6:return(function(c,h){const m=bs(c),g=bs(h);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,h){const m=c.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const T=Oe(m[p],g[p]);if(T!==0)return T}return Oe(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,h){const m=Oe(bt(c.latitude),bt(h.latitude));return m!==0?m:Oe(bt(c.longitude),bt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return B_(r.arrayValue,e.arrayValue);case 10:return(function(c,h){const m=c.fields||{},g=h.fields||{},p=m[ad]?.arrayValue,T=g[ad]?.arrayValue,b=Oe(p?.values?.length||0,T?.values?.length||0);return b!==0?b:B_(p,T)})(r.mapValue,e.mapValue);case 11:return(function(c,h){if(c===Dh.mapValue&&h===Dh.mapValue)return 0;if(c===Dh.mapValue)return 1;if(h===Dh.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),p=h.fields||{},T=Object.keys(p);g.sort(),T.sort();for(let b=0;b<g.length&&b<T.length;++b){const A=Op(g[b],T[b]);if(A!==0)return A;const j=$o(m[g[b]],p[T[b]]);if(j!==0)return j}return Oe(g.length,T.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function z_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Oe(r,e);const n=xs(r),s=xs(e),o=Oe(n.seconds,s.seconds);return o!==0?o:Oe(n.nanos,s.nanos)}function B_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=$o(n[o],s[o]);if(c)return c}return Oe(n.length,s.length)}function Ko(r){return Vp(r)}function Vp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=xs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return bs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ve.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Vp(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of s)c?c=!1:o+=",",o+=`${h}:${Vp(n.fields[h])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function qh(r){switch(Ss(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nd(r);return e?16+qh(e):16;case 5:return 2*r.stringValue.length;case 6:return bs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+qh(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Cs(s.fields,((c,h)=>{o+=c.length+qh(h)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function H_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Pp(r){return!!r&&"integerValue"in r}function wg(r){return!!r&&"arrayValue"in r}function q_(r){return!!r&&"nullValue"in r}function F_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fh(r){return!!r&&"mapValue"in r}function uC(r){return(r?.mapValue?.fields||{})[vT]?.stringValue===_T}function wc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Cs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=wc(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wc(r.arrayValue.values[n]);return e}return{...r}}function hC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===cC}class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wc(n)}setAll(e){let n=en.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=wc(h):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());Fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Cs(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new bn(wc(this.value))}}function ET(r){const e=[];return Cs(r.fields,((n,s)=>{const o=new en([n]);if(Fh(s)){const c=ET(s.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new jn(e)}class on{constructor(e,n,s,o,c,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new on(e,0,be.min(),be.min(),be.min(),bn.empty(),0)}static newFoundDocument(e,n,s,o){return new on(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new on(e,2,n,be.min(),be.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,be.min(),be.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class od{constructor(e,n){this.position=e,this.inclusive=n}}function G_(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],h=r.position[o];if(c.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),n.key):s=$o(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function W_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Xr(r.position[n],e.position[n]))return!1;return!0}class Pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function dC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class TT{}class Mt extends TT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new mC(e,n,s):n==="array-contains"?new yC(e,s):n==="in"?new vC(e,s):n==="not-in"?new _C(e,s):n==="array-contains-any"?new EC(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new pC(e,s):new gC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($o(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends TT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _r(e,n)}matches(e){return xT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xT(r){return r.op==="and"}function bT(r){return fC(r)&&xT(r)}function fC(r){for(const e of r.filters)if(e instanceof _r)return!1;return!0}function Up(r){if(r instanceof Mt)return r.field.canonicalString()+r.op.toString()+Ko(r.value);if(bT(r))return r.filters.map((e=>Up(e))).join(",");{const e=r.filters.map((n=>Up(n))).join(",");return`${r.op}(${e})`}}function ST(r,e){return r instanceof Mt?(function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&Xr(s.value,o.value)})(r,e):r instanceof _r?(function(s,o){return o instanceof _r&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,h,m)=>c&&ST(h,o.filters[m])),!0):!1})(r,e):void Te(19439)}function AT(r){return r instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ko(n.value)}`})(r):r instanceof _r?(function(n){return n.op.toString()+" {"+n.getFilters().map(AT).join(" ,")+"}"})(r):"Filter"}class mC extends Mt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class pC extends Mt{constructor(e,n){super(e,"in",n),this.keys=wT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class gC extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=wT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function wT(r,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class yC extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wg(n)&&Vc(n.arrayValue,this.value)}}class vC extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vc(this.value.arrayValue,n)}}class _C extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vc(this.value.arrayValue,n)}}class EC extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Vc(this.value.arrayValue,s)))}}class TC{constructor(e,n=null,s=[],o=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=h,this.endAt=m,this.Te=null}}function $_(r,e=null,n=[],s=[],o=null,c=null,h=null){return new TC(r,e,n,s,o,c,h)}function kg(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Up(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Id(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ko(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ko(s))).join(",")),e.Te=n}return e.Te}function Rg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!dC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!ST(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!W_(r.startAt,e.startAt)&&W_(r.endAt,e.endAt)}function zp(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ll{constructor(e,n=null,s=[],o=[],c=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function xC(r,e,n,s,o,c,h,m){return new ll(r,e,n,s,o,c,h,m)}function Ld(r){return new ll(r)}function K_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function bC(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function kT(r){return r.collectionGroup!==null}function kc(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new zt(en.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Pc(c,s))})),n.has(en.keyField().canonicalString())||e.Ie.push(new Pc(en.keyField(),s))}return e.Ie}function $r(r){const e=Ae(r);return e.Ee||(e.Ee=SC(e,kc(r))),e.Ee}function SC(r,e){if(r.limitType==="F")return $_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Pc(o.field,c)}));const n=r.endAt?new od(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new od(r.startAt.position,r.startAt.inclusive):null;return $_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Bp(r,e){const n=r.filters.concat([e]);return new ll(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function AC(r,e){const n=r.explicitOrderBy.concat([e]);return new ll(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Hp(r,e,n){return new ll(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Dd(r,e){return Rg($r(r),$r(e))&&r.limitType===e.limitType}function RT(r){return`${kg($r(r))}|lt:${r.limitType}`}function jo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>AT(o))).join(", ")}]`),Id(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ko(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ko(o))).join(",")),`Target(${s})`})($r(r))}; limitType=${r.limitType})`}function jd(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ve.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of kc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const p=G_(h,m,g);return h.inclusive?p<=0:p<0})(s.startAt,kc(s),o)||s.endAt&&!(function(h,m,g){const p=G_(h,m,g);return h.inclusive?p>=0:p>0})(s.endAt,kc(s),o))})(r,e)}function wC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function CT(r){return(e,n)=>{let s=!1;for(const o of kc(r)){const c=kC(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function kC(r,e,n){const s=r.field.isKeyField()?ve.comparator(e.key,n.key):(function(c,h,m){const g=h.data.field(c),p=m.data.field(c);return g!==null&&p!==null?$o(g,p):Te(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}class ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return dT(this.inner)}size(){return this.innerSize}}const RC=new mt(ve.comparator);function wi(){return RC}const IT=new mt(ve.comparator);function Tc(...r){let e=IT;for(const n of r)e=e.insert(n.key,n);return e}function NT(r){let e=IT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ua(){return Rc()}function LT(){return Rc()}function Rc(){return new ba((r=>r.toString()),((r,e)=>r.isEqual(e)))}const CC=new mt(ve.comparator),IC=new zt(ve.comparator);function Ve(...r){let e=IC;for(const n of r)e=e.add(n);return e}const NC=new zt(Oe);function LC(){return NC}function Cg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:id(e)?"-0":e}}function DT(r){return{integerValue:""+r}}function DC(r,e){return rC(e)?DT(e):Cg(r,e)}class Md{constructor(){this._=void 0}}function jC(r,e,n){return r instanceof Uc?(function(o,c){const h={fields:{[pT]:{stringValue:mT},[yT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Ag(c)&&(c=Nd(c)),c&&(h.fields[gT]=c),{mapValue:h}})(n,e):r instanceof zc?MT(r,e):r instanceof Bc?OT(r,e):(function(o,c){const h=jT(o,c),m=Q_(h)+Q_(o.Ae);return Pp(h)&&Pp(o.Ae)?DT(m):Cg(o.serializer,m)})(r,e)}function MC(r,e,n){return r instanceof zc?MT(r,e):r instanceof Bc?OT(r,e):n}function jT(r,e){return r instanceof ld?(function(s){return Pp(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Uc extends Md{}class zc extends Md{constructor(e){super(),this.elements=e}}function MT(r,e){const n=VT(e);for(const s of r.elements)n.some((o=>Xr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Bc extends Md{constructor(e){super(),this.elements=e}}function OT(r,e){let n=VT(e);for(const s of r.elements)n=n.filter((o=>!Xr(o,s)));return{arrayValue:{values:n}}}class ld extends Md{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Q_(r){return bt(r.integerValue||r.doubleValue)}function VT(r){return wg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class OC{constructor(e,n){this.field=e,this.transform=n}}function VC(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof zc&&o instanceof zc||s instanceof Bc&&o instanceof Bc?Wo(s.elements,o.elements,Xr):s instanceof ld&&o instanceof ld?Xr(s.Ae,o.Ae):s instanceof Uc&&o instanceof Uc})(r.transform,e.transform)}class PC{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Od{}function PT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ig(r.key,Jn.none()):new Qc(r.key,r.data,Jn.none());{const n=r.data,s=bn.empty();let o=new zt(en.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),o=o.add(c)}return new Is(r.key,s,new jn(o.toArray()),Jn.none())}}function UC(r,e,n){r instanceof Qc?(function(o,c,h){const m=o.value.clone(),g=X_(o.fieldTransforms,c,h.transformResults);m.setAll(g),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Is?(function(o,c,h){if(!Gh(o.precondition,c))return void c.convertToUnknownDocument(h.version);const m=X_(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(UT(o)),g.setAll(m),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Cc(r,e,n,s){return r instanceof Qc?(function(c,h,m,g){if(!Gh(c.precondition,h))return m;const p=c.value.clone(),T=Z_(c.fieldTransforms,g,h);return p.setAll(T),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof Is?(function(c,h,m,g){if(!Gh(c.precondition,h))return m;const p=Z_(c.fieldTransforms,g,h),T=h.data;return T.setAll(UT(c)),T.setAll(p),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(c,h,m){return Gh(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function zC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=jT(s.transform,o||null);c!=null&&(n===null&&(n=bn.empty()),n.set(s.field,c))}return n||null}function Y_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Wo(s,o,((c,h)=>VC(c,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Qc extends Od{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Is extends Od{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function UT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function X_(r,e,n){const s=new Map;We(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const c=r[o],h=c.transform,m=e.data.field(c.field);s.set(c.field,MC(h,m,n[o]))}return s}function Z_(r,e,n){const s=new Map;for(const o of r){const c=o.transform,h=n.data.field(o.field);s.set(o.field,jC(c,h,e))}return s}class Ig extends Od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BC extends Od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class HC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&UC(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Cc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Cc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=LT();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(o.key)?null:m;const g=PT(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,((n,s)=>Y_(n,s)))&&Wo(this.baseMutations,e.baseMutations,((n,s)=>Y_(n,s)))}}class Ng{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){We(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return CC})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,s[h].version);return new Ng(e,n,s,o)}}class qC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class FC{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,ze;function GC(r){switch(r){case ne.OK:return Te(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function zT(r){if(r===void 0)return Ai("GRPC error has no .code"),ne.UNKNOWN;switch(r){case Dt.OK:return ne.OK;case Dt.CANCELLED:return ne.CANCELLED;case Dt.UNKNOWN:return ne.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ne.INTERNAL;case Dt.UNAVAILABLE:return ne.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ne.NOT_FOUND;case Dt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Dt.ABORTED:return ne.ABORTED;case Dt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Dt.DATA_LOSS:return ne.DATA_LOSS;default:return Te(39323,{code:r})}}(ze=Dt||(Dt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function WC(){return new TextEncoder}const $C=new ys([4294967295,4294967295],0);function J_(r){const e=WC().encode(r),n=new tT;return n.update(e),new Uint8Array(n.digest())}function eE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ys([n,s],0),new ys([o,c],0)]}class Lg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new xc(`Invalid padding: ${n}`);if(s<0)throw new xc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new xc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new xc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ys.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ys.fromNumber(s)));return o.compare($C)===1&&(o=new ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=J_(e),[s,o]=eE(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Lg(c,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=J_(e),[s,o]=eE(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vd{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Yc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Vd(be.min(),o,new mt(Oe),wi(),Ve())}}class Yc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Yc(s,n,Ve(),Ve(),Ve())}}class Wh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class BT{constructor(e,n){this.targetId=e,this.Ce=n}}class HT{constructor(e,n,s=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class tE{constructor(){this.ve=0,this.Fe=nE(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:c})}})),new Yc(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=nE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class KC{constructor(e){this.Ge=e,this.ze=new Map,this.je=wi(),this.He=jh(),this.Je=jh(),this.Ze=new mt(Oe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(zp(c))if(s===0){const h=new ve(c.path);this.et(n,h,on.newNoDocument(h,be.min()))}else We(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let h,m;try{h=bs(s).toUint8Array()}catch(g){if(g instanceof fT)return Go("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Lg(h,o,c)}catch(g){return Go(g instanceof xc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const m=this.ot(h);if(m){if(c.current&&zp(m.target)){const g=new ve(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,on.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.Ke())}}));let s=Ve();this.Je.forEach(((c,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new Vd(e,n,this.Ze,this.je,s);return this.je=wi(),this.He=jh(),this.Je=jh(),this.Ze=new mt(Oe),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new tE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new zt(Oe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new zt(Oe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function jh(){return new mt(ve.comparator)}function nE(){return new mt(ve.comparator)}const QC={asc:"ASCENDING",desc:"DESCENDING"},YC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XC={and:"AND",or:"OR"};class ZC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qp(r,e){return r.useProto3Json||Id(e)?e:{value:e}}function cd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function JC(r,e){return cd(r,e.toTimestamp())}function Kr(r){return We(!!r,49232),be.fromTimestamp((function(n){const s=xs(n);return new it(s.seconds,s.nanos)})(r))}function Dg(r,e){return Fp(r,e).canonicalString()}function Fp(r,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function FT(r){const e=at.fromString(r);return We(QT(e),10190,{key:e.toString()}),e}function Gp(r,e){return Dg(r.databaseId,e.path)}function gp(r,e){const n=FT(e);if(n.get(1)!==r.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(WT(n))}function GT(r,e){return Dg(r.databaseId,e)}function eI(r){const e=FT(r);return e.length===4?at.emptyPath():WT(e)}function Wp(r){return new at(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function WT(r){return We(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function rE(r,e,n){return{name:Gp(r,e),fields:n.value.mapValue.fields}}function tI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(p,T){return p.useProto3Json?(We(T===void 0||typeof T=="string",58123),tn.fromBase64String(T||"")):(We(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),tn.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const T=p.code===void 0?ne.UNKNOWN:zT(p.code);return new he(T,p.message||"")})(h);n=new HT(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gp(r,s.document.name),c=Kr(s.document.updateTime),h=s.document.createTime?Kr(s.document.createTime):be.min(),m=new bn({mapValue:{fields:s.document.fields}}),g=on.newFoundDocument(o,c,h,m),p=s.targetIds||[],T=s.removedTargetIds||[];n=new Wh(p,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gp(r,s.document),c=s.readTime?Kr(s.readTime):be.min(),h=on.newNoDocument(o,c),m=s.removedTargetIds||[];n=new Wh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gp(r,s.document),c=s.removedTargetIds||[];n=new Wh([],c,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,h=new FC(o,c),m=s.targetId;n=new BT(m,h)}}return n}function nI(r,e){let n;if(e instanceof Qc)n={update:rE(r,e.key,e.value)};else if(e instanceof Ig)n={delete:Gp(r,e.key)};else if(e instanceof Is)n={update:rE(r,e.key,e.data),updateMask:hI(e.fieldMask)};else{if(!(e instanceof BC))return Te(16599,{dt:e.type});n={verify:Gp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const m=h.transform;if(m instanceof Uc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof zc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Bc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ld)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:JC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(r,e.precondition)),n}function rI(r,e){return r&&r.length>0?(We(e!==void 0,14353),r.map((n=>(function(o,c){let h=o.updateTime?Kr(o.updateTime):Kr(c);return h.isEqual(be.min())&&(h=Kr(c)),new PC(h,o.transformResults||[])})(n,e)))):[]}function iI(r,e){return{documents:[GT(r,e.path)]}}function sI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=GT(r,o);const c=(function(p){if(p.length!==0)return KT(_r.create(p,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(p){if(p.length!==0)return p.map((T=>(function(A){return{field:Mo(A.field),direction:lI(A.dir)}})(T)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=qp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function aI(r){let e=eI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){We(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=(function(b){const A=$T(b);return A instanceof _r&&bT(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((A=>(function(B){return new Pc(Oo(B.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let A;return A=typeof b=="object"?b.value:b,Id(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(b){const A=!!b.before,j=b.values||[];return new od(j,A)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const A=!b.before,j=b.values||[];return new od(j,A)})(n.endAt)),xC(e,o,h,c,m,"F",g,p)}function oI(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $T(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Oo(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Oo(n.unaryFilter.field);return Mt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Oo(n.unaryFilter.field);return Mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Mt.create(Oo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return _r.create(n.compositeFilter.filters.map((s=>$T(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(r):Te(30097,{filter:r})}function lI(r){return QC[r]}function cI(r){return YC[r]}function uI(r){return XC[r]}function Mo(r){return{fieldPath:r.canonicalString()}}function Oo(r){return en.fromServerFormat(r.fieldPath)}function KT(r){return r instanceof Mt?(function(n){if(n.op==="=="){if(F_(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NAN"}};if(q_(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(F_(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NAN"}};if(q_(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(n.field),op:cI(n.op),value:n.value}}})(r):r instanceof _r?(function(n){const s=n.getFilters().map((o=>KT(o)));return s.length===1?s[0]:{compositeFilter:{op:uI(n.op),filters:s}}})(r):Te(54877,{filter:r})}function hI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function QT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function YT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class fs{constructor(e,n,s,o,c=be.min(),h=be.min(),m=tn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dI{constructor(e){this.yt=e}}function fI(r){const e=aI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Hp(e,e.limit,"L"):e}class mI{constructor(){this.Sn=new pI}addToCollectionParentIndex(e,n){return this.Sn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Ts.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class pI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new zt(at.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new zt(at.comparator)).toArray()}}const iE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XT=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(XT,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class Qo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Qo(0)}static ar(){return new Qo(-1)}}const sE="LruGarbageCollector",gI=1048576;function aE([r,e],[n,s]){const o=Oe(r,n);return o===0?Oe(e,s):o}class yI{constructor(e){this.Pr=e,this.buffer=new zt(aE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();aE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){de(sE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ol(n)?de(sE,"Ignoring IndexedDB error during garbage collection: ",n):await al(n)}await this.Ar(3e5)}))}}class _I{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Cd.ce);const s=new yI(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(iE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,c,h,m,g,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(c=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),Do()<=Me.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(p-g)+`ms
Total Duration: ${p-T}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function EI(r,e){return new _I(r,e)}class TI{constructor(){this.changes=new ba((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class bI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Cc(s.mutation,o,jn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const o=ua();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let h=Tc();return c.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ua();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let c=wi();const h=Rc(),m=(function(){return Rc()})();return n.forEach(((g,p)=>{const T=s.get(p.key);o.has(p.key)&&(T===void 0||T.mutation instanceof Is)?c=c.insert(p.key,p):T!==void 0?(h.set(p.key,T.mutation.getFieldMask()),Cc(T.mutation,p,T.mutation.getFieldMask(),it.now())):h.set(p.key,jn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((p,T)=>h.set(p,T))),n.forEach(((p,T)=>m.set(p,new xI(T,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Rc();let o=new mt(((h,m)=>h-m)),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let T=s.get(g)||jn.empty();T=m.applyToLocalView(p,T),s.set(g,T);const b=(o.get(m.batchId)||Ve()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,T=g.value,b=LT();T.forEach((A=>{if(!c.has(A)){const j=PT(n.get(A),s.get(A));j!==null&&b.set(A,j),c=c.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,b))}return se.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return bC(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):se.resolve(ua());let m=jc,g=c;return h.next((p=>se.forEach(p,((T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),c.get(T)?se.resolve():this.remoteDocumentCache.getEntry(e,T).next((A=>{g=g.insert(T,A)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,g,p,Ve()))).next((T=>({batchId:m,changes:NT(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let o=Tc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let h=Tc();return this.indexManager.getCollectionParents(e,c).next((m=>se.forEach(m,(g=>{const p=(function(b,A){return new ll(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((T=>{T.forEach(((b,A)=>{h=h.insert(b,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((h=>{c.forEach(((g,p)=>{const T=p.getKey();h.get(T)===null&&(h=h.insert(T,on.newInvalidDocument(T)))}));let m=Tc();return h.forEach(((g,p)=>{const T=c.get(g);T!==void 0&&Cc(T.mutation,p,jn.empty(),it.now()),jd(n,p)&&(m=m.insert(g,p))})),m}))}}class SI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return se.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Kr(o.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:fI(o.bundledQuery),readTime:Kr(o.readTime)}})(n)),se.resolve()}}class AI{constructor(){this.overlays=new mt(ve.comparator),this.Lr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ua();return se.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.bt(e,n,c)})),se.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const o=ua(),c=n.length+1,h=new ve(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new mt(((p,T)=>p-T));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let T=c.get(p.largestBatchId);T===null&&(T=ua(),c=c.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const m=ua(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,T)=>m.set(p,T))),!(m.size()>=o)););return se.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new qC(n,s));let c=this.Lr.get(n);c===void 0&&(c=Ve(),this.Lr.set(n,c)),this.Lr.set(n,c.add(s.key))}}class wI{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class jg{constructor(){this.kr=new zt(Ft.Kr),this.qr=new zt(Ft.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Ft(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Ft(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ve(new at([])),s=new Ft(n,e),o=new Ft(n,e+1),c=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ve(new at([])),s=new Ft(n,e),o=new Ft(n,e+1);let c=Ve();return this.qr.forEachInRange([s,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new Ft(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ft{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ve.comparator(e.key,n.key)||Oe(e.Hr,n.Hr)}static Ur(e,n){return Oe(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}class kI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new zt(Ft.Kr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new HC(c,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Ft(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(h)}lookupMutationBatch(e,n){return se.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),c=o<0?0:o;return se.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Sg:this.Yn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ft(n,0),o=new Ft(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);c.push(m)})),se.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new zt(Oe);return n.forEach((o=>{const c=new Ft(o,0),h=new Ft(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(m=>{s=s.add(m.Hr)}))})),se.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;ve.isDocumentKey(c)||(c=c.child(""));const h=new Ft(new ve(c),0);let m=new zt(Oe);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)}),h),se.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){We(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return se.forEach(n.mutations,(o=>{const c=new Ft(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Ft(n,0),o=this.Jr.firstAfterOrEqual(s);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class RI{constructor(e){this.ti=e,this.docs=(function(){return new mt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let s=wi();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():on.newInvalidDocument(o))})),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=wi();const h=n.path,m=new ve(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:T}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||J6(Z6(T),s)<=0||(o.has(T.key)||jd(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return se.resolve(c)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ni(e,n){return se.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new CI(this)}getSize(e){return se.resolve(this.size)}}class CI extends TI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),se.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class II{constructor(e){this.persistence=e,this.ri=new ba((n=>kg(n)),Rg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new jg,this.targetCount=0,this.oi=Qo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),se.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Qo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.lr(n),se.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),se.waitFor(c).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),se.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),se.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this.si.containsKey(n))}}class ZT{constructor(e,n){this._i={},this.overlays={},this.ai=new Cd(0),this.ui=!1,this.ui=!0,this.ci=new wI,this.referenceDelegate=e(this),this.li=new II(this),this.indexManager=new mI,this.remoteDocumentCache=(function(o){return new RI(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new dI(n),this.Pi=new SI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new kI(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const o=new NI(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return se.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class NI extends tC{constructor(e){super(),this.currentSequenceNumber=e}}class Mg{constructor(e){this.persistence=e,this.Ri=new jg,this.Ai=null}static Vi(e){return new Mg(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,(s=>{const o=ve.fromPath(s);return this.mi(e,o).next((c=>{c||n.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ud{constructor(e,n){this.persistence=e,this.fi=new ba((s=>iC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=EI(this,n)}static Vi(e,n){return new ud(e,n)}Ti(){}Ii(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return se.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?se.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,c.removeEntry(h,be.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qh(e.data.value)),n}wr(e,n,s){return se.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return se.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Og{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Ve(),o=Ve();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Og(e,n.fromCache,s,o)}}class LI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class DI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return rk()?8:nC(ln())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.gs(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,n,o,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new LI;return this.ys(e,n,h).next((m=>{if(c.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>c.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(Do()<=Me.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):(Do()<=Me.DEBUG&&de("QueryEngine","Query:",jo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Do()<=Me.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(n))):se.resolve())}gs(e,n){if(K_(n))return se.resolve(null);let s=$r(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Hp(n,null,"F"),s=$r(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=Ve(...c);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.bs(n,m);return this.Ss(n,p,h,g.readTime)?this.gs(e,Hp(n,null,"F")):this.Ds(e,p,n,g)}))))})))))}ps(e,n,s,o){return K_(n)||o.isEqual(be.min())?se.resolve(null):this.fs.getDocuments(e,s).next((c=>{const h=this.bs(n,c);return this.Ss(n,h,s,o)?se.resolve(null):(Do()<=Me.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jo(n)),this.Ds(e,h,n,X6(o,jc)).next((m=>m)))}))}bs(e,n){let s=new zt(CT(e));return n.forEach(((o,c)=>{jd(e,c)&&(s=s.add(c))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,s){return Do()<=Me.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",jo(n)),this.fs.getDocumentsMatchingQuery(e,n,Ts.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const Vg="LocalStore",jI=3e8;class MI{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new mt(Oe),this.Fs=new ba((c=>kg(c)),Rg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function OI(r,e,n,s){return new MI(r,e,n,s)}async function JT(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],m=[];let g=Ve();for(const p of o){h.push(p.batchId);for(const T of p.mutations)g=g.add(T.key)}for(const p of c){m.push(p.batchId);for(const T of p.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ns:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function VI(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,T){const b=p.batch,A=b.keys();let j=se.resolve();return A.forEach((B=>{j=j.next((()=>T.getEntry(g,B))).next((z=>{const H=p.docVersions.get(B);We(H!==null,48541),z.version.compareTo(H)<0&&(b.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),T.addEntry(z)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Ve();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function ex(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function PI(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((T,b)=>{const A=o.get(b);if(!A)return;m.push(n.li.removeMatchingKeys(c,T.removedDocuments,b).next((()=>n.li.addMatchingKeys(c,T.addedDocuments,b))));let j=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?j=j.withResumeToken(tn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,s)),o=o.insert(b,j),(function(z,H,ee){return z.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=jI?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(A,j,T)&&m.push(n.li.updateTargetData(c,j))}));let g=wi(),p=Ve();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),m.push(UI(c,h,e.documentUpdates).next((T=>{g=T.Bs,p=T.Ls}))),!s.isEqual(be.min())){const T=n.li.getLastRemoteSnapshotVersion(c).next((b=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(T)}return se.waitFor(m).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,p))).next((()=>g))})).then((c=>(n.vs=o,c)))}function UI(r,e,n){let s=Ve(),o=Ve();return n.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let h=wi();return n.forEach(((m,g)=>{const p=c.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):de(Vg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function zI(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Sg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function BI(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((c=>c?(o=c,se.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new fs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function $p(r,e,n){const s=Ae(r),o=s.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ol(h))throw h;de(Vg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function oE(r,e,n){const s=Ae(r);let o=be.min(),c=Ve();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,T){const b=Ae(g),A=b.Fs.get(T);return A!==void 0?se.resolve(b.vs.get(A)):b.li.getTargetData(p,T)})(s,h,$r(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((g=>{c=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?c:Ve()))).next((m=>(HI(s,wC(e),m),{documents:m,ks:c})))))}function HI(r,e,n){let s=r.Ms.get(e)||be.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(e,s)}class lE{constructor(){this.activeTargetIds=LC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qI{constructor(){this.vo=new lE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new lE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class FI{Mo(e){}shutdown(){}}const cE="ConnectivityMonitor";class uE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){de(cE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){de(cE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mh=null;function Kp(){return Mh===null?Mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mh++,"0x"+Mh.toString(16)}const yp="RestConnection",GI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class WI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===sd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,c){const h=Kp(),m=this.Qo(e,n.toUriEncodedString());de(yp,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:p}=new URL(m),T=tl(p);return this.zo(e,m,g,s,T).then((b=>(de(yp,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw Go(yp,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(e,n,s,o,c,h){return this.Wo(e,n,s,o,c)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const s=GI[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class $I{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const sn="WebChannelConnection",yc=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Bo extends WI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Bo.c_){const e=sT();yc(e,iT.STAT_EVENT,(n=>{n.stat===Mp.PROXY?de(sn,"STAT_EVENT: detected buffering proxy"):n.stat===Mp.NOPROXY&&de(sn,"STAT_EVENT: detected no buffering proxy")})),Bo.c_=!0}}zo(e,n,s,o,c){const h=Kp();return new Promise(((m,g)=>{const p=new nT;p.setWithCredentials(!0),p.listenOnce(rT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Hh.NO_ERROR:const b=p.getResponseJson();de(sn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case Hh.TIMEOUT:de(sn,`RPC '${e}' ${h} timed out`),g(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Hh.HTTP_ERROR:const A=p.getStatus();if(de(sn,`RPC '${e}' ${h} failed with status:`,A,"response text:",p.getResponseText()),A>0){let j=p.getResponseJson();Array.isArray(j)&&(j=j[0]);const B=j?.error;if(B&&B.status&&B.message){const z=(function(ee){const X=ee.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(X)>=0?X:ne.UNKNOWN})(B.status);g(new he(z,B.message))}else g(new he(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new he(ne.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{de(sn,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);de(sn,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=Kp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const p=c.join("");de(sn,`Creating RPC '${e}' stream ${o}: ${p}`,m);const T=h.createWebChannel(p,m);this.I_(T);let b=!1,A=!1;const j=new $I({Ho:B=>{A?de(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(b||(de(sn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),de(sn,`RPC '${e}' stream ${o} sending:`,B),T.send(B))},Jo:()=>T.close()});return yc(T,Ec.EventType.OPEN,(()=>{A||(de(sn,`RPC '${e}' stream ${o} transport opened.`),j.i_())})),yc(T,Ec.EventType.CLOSE,(()=>{A||(A=!0,de(sn,`RPC '${e}' stream ${o} transport closed`),j.o_(),this.E_(T))})),yc(T,Ec.EventType.ERROR,(B=>{A||(A=!0,Go(sn,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),j.o_(new he(ne.UNAVAILABLE,"The operation could not be completed")))})),yc(T,Ec.EventType.MESSAGE,(B=>{if(!A){const z=B.data[0];We(!!z,16349);const H=z,ee=H?.error||H[0]?.error;if(ee){de(sn,`RPC '${e}' stream ${o} received error:`,ee);const X=ee.status;let ae=(function(oe){const C=Dt[oe];if(C!==void 0)return zT(C)})(X),F=ee.message;ae===void 0&&(ae=ne.INTERNAL,F="Unknown error status: "+X+" with message "+ee.message),A=!0,j.o_(new he(ae,F)),T.close()}else de(sn,`RPC '${e}' stream ${o} received:`,z),j.__(z)}})),Bo.u_(),setTimeout((()=>{j.s_()}),0),j}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return aT()}}function KI(r){return new Bo(r)}function vp(){return typeof document<"u"?document:null}function Pd(r){return new ZC(r,!0)}Bo.c_=!1;class tx{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const hE="PersistentStream";class nx{constructor(e,n,s,o,c,h,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(hE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(de(hE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QI extends nx{constructor(e,n,s,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=tI(this.serializer,e),s=(function(c){if(!("targetChange"in c))return be.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?Kr(h.readTime):be.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Wp(this.serializer),n.addTarget=(function(c,h){let m;const g=h.target;if(m=zp(g)?{documents:iI(c,g)}:{query:sI(c,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=qT(c,h.resumeToken);const p=qp(c,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=cd(c,h.snapshotVersion.toTimestamp());const p=qp(c,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=oI(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Wp(this.serializer),n.removeTarget=e,this.K_(n)}}class YI extends nx{constructor(e,n,s,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=rI(e.writeResults,e.commitTime),s=Kr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Wp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>nI(this.serializer,s)))};this.K_(n)}}class XI{}class ZI extends XI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,Fp(n,s),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ne.UNKNOWN,c.toString())}))}jo(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Fp(n,s),o,h,m,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(ne.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function JI(r,e,n,s){return new ZI(r,e,n,s)}class e8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ai(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ya="RemoteStore";class t8{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{Sa(this)&&(de(ya,"Restarting streams for network reachability change."),await(async function(g){const p=Ae(g);p.Ea.add(4),await Xc(p),p.Va.set("Unknown"),p.Ea.delete(4),await Ud(p)})(this))}))})),this.Va=new e8(s,o)}}async function Ud(r){if(Sa(r))for(const e of r.Ra)await e(!0)}async function Xc(r){for(const e of r.Ra)await e(!1)}function rx(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Bg(n)?zg(n):cl(n).O_()&&Ug(n,e))}function Pg(r,e){const n=Ae(r),s=cl(n);n.Ia.delete(e),s.O_()&&ix(n,e),n.Ia.size===0&&(s.O_()?s.L_():Sa(n)&&n.Va.set("Unknown"))}function Ug(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cl(r).Z_(e)}function ix(r,e){r.da.$e(e),cl(r).X_(e)}function zg(r){r.da=new KC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),cl(r).start(),r.Va.ua()}function Bg(r){return Sa(r)&&!cl(r).x_()&&r.Ia.size>0}function Sa(r){return Ae(r).Ea.size===0}function sx(r){r.da=void 0}async function n8(r){r.Va.set("Online")}async function r8(r){r.Ia.forEach(((e,n)=>{Ug(r,e)}))}async function i8(r,e){sx(r),Bg(r)?(r.Va.ha(e),zg(r)):r.Va.set("Unknown")}async function s8(r,e,n){if(r.Va.set("Online"),e instanceof HT&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){de(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await hd(r,s)}else if(e instanceof Wh?r.da.Xe(e):e instanceof BT?r.da.st(e):r.da.tt(e),!n.isEqual(be.min()))try{const s=await ex(r.localStore);n.compareTo(s)>=0&&await(function(c,h){const m=c.da.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const T=c.Ia.get(p);T&&c.Ia.set(p,T.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const T=c.Ia.get(g);if(!T)return;c.Ia.set(g,T.withResumeToken(tn.EMPTY_BYTE_STRING,T.snapshotVersion)),ix(c,g);const b=new fs(T.target,g,p,T.sequenceNumber);Ug(c,b)})),c.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){de(ya,"Failed to raise snapshot:",s),await hd(r,s)}}async function hd(r,e,n){if(!ol(e))throw e;r.Ea.add(1),await Xc(r),r.Va.set("Offline"),n||(n=()=>ex(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{de(ya,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Ud(r)}))}function ax(r,e){return e().catch((n=>hd(r,n,e)))}async function zd(r){const e=Ae(r),n=As(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sg;for(;a8(e);)try{const o=await zI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,o8(e,o)}catch(o){await hd(e,o)}ox(e)&&lx(e)}function a8(r){return Sa(r)&&r.Ta.length<10}function o8(r,e){r.Ta.push(e);const n=As(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function ox(r){return Sa(r)&&!As(r).x_()&&r.Ta.length>0}function lx(r){As(r).start()}async function l8(r){As(r).ra()}async function c8(r){const e=As(r);for(const n of r.Ta)e.ea(n.mutations)}async function u8(r,e,n){const s=r.Ta.shift(),o=Ng.from(s,e,n);await ax(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await zd(r)}async function h8(r,e){e&&As(r).Y_&&await(async function(s,o){if((function(h){return GC(h)&&h!==ne.ABORTED})(o.code)){const c=s.Ta.shift();As(s).B_(),await ax(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await zd(s)}})(r,e),ox(r)&&lx(r)}async function dE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),de(ya,"RemoteStore received new credentials");const s=Sa(n);n.Ea.add(3),await Xc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ud(n)}async function d8(r,e){const n=Ae(r);e?(n.Ea.delete(2),await Ud(n)):e||(n.Ea.add(2),await Xc(n),n.Va.set("Unknown"))}function cl(r){return r.ma||(r.ma=(function(n,s,o){const c=Ae(n);return c.sa(),new QI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:n8.bind(null,r),Yo:r8.bind(null,r),t_:i8.bind(null,r),J_:s8.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Bg(r)?zg(r):r.Va.set("Unknown")):(await r.ma.stop(),sx(r))}))),r.ma}function As(r){return r.fa||(r.fa=(function(n,s,o){const c=Ae(n);return c.sa(),new YI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:l8.bind(null,r),t_:h8.bind(null,r),ta:c8.bind(null,r),na:u8.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await zd(r)):(await r.fa.stop(),r.Ta.length>0&&(de(ya,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Hg{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const h=Date.now()+s,m=new Hg(e,n,h,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qg(r,e){if(Ai("AsyncQueue",`${e}: ${r}`),ol(r))return new he(ne.UNAVAILABLE,`${e}: ${r}`);throw r}class Ho{static emptySet(e){return new Ho(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=Tc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class fE{constructor(){this.ga=new mt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Yo{constructor(e,n,s,o,c,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,c){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Yo(e,n,Ho.emptySet(n),h,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class f8{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class m8{constructor(){this.queries=mE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),c=o.queries;o.queries=mE(),c.forEach(((h,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function mE(){return new ba((r=>RT(r)),Dd)}async function Fg(r,e){const n=Ae(r);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new f8,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=qg(h,`Initialization of query '${jo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Wg(n)}async function Gg(r,e){const n=Ae(r),s=e.query;let o=3;const c=n.queries.get(s);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function p8(r,e){const n=Ae(r);let s=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&Wg(n)}function g8(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(n);s.queries.delete(e)}function Wg(r){r.Ca.forEach((e=>{e.next()}))}var Qp,pE;(pE=Qp||(Qp={})).Ma="default",pE.Cache="cache";class $g{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Yo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qp.Cache}}class cx{constructor(e){this.key=e}}class ux{constructor(e){this.key=e}}class y8{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.eu=CT(e),this.tu=new Ho(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new fE,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,b)=>{const A=o.get(T),j=jd(this.query,b)?b:null,B=!!A&&this.mutatedKeys.has(A.key),z=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let H=!1;A&&j?A.data.isEqual(j.data)?B!==z&&(s.track({type:3,doc:j}),H=!0):this.su(A,j)||(s.track({type:2,doc:j}),H=!0,(g&&this.eu(j,g)>0||p&&this.eu(j,p)<0)&&(m=!0)):!A&&j?(s.track({type:0,doc:j}),H=!0):A&&!j&&(s.track({type:1,doc:A}),H=!0,(g||p)&&(m=!0)),H&&(j?(h=h.add(j),c=z?c.add(T):c.delete(T)):(h=h.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{tu:h,iu:s,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,b)=>(function(j,B){const z=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:H})}};return z(j)-z(B)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Xa;return this.Xa=g,h.length!==0||p?{snapshot:new Yo(this.query,e.tu,c,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new ux(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new cx(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Kg="SyncEngine";class v8{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class _8{constructor(e){this.key=e,this.hu=!1}}class E8{constructor(e,n,s,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ba((m=>RT(m)),Dd),this.Iu=new Map,this.Eu=new Set,this.Ru=new mt(ve.comparator),this.Au=new Map,this.Vu=new jg,this.du={},this.mu=new Map,this.fu=Qo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function T8(r,e,n=!0){const s=gx(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await hx(s,e,n,!0),o}async function x8(r,e){const n=gx(r);await hx(n,e,!0,!1)}async function hx(r,e,n,s){const o=await BI(r.localStore,$r(e)),c=o.targetId,h=r.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await b8(r,e,c,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&rx(r.remoteStore,o),m}async function b8(r,e,n,s,o){r.pu=(b,A,j)=>(async function(z,H,ee,X){let ae=H.view.ru(ee);ae.Ss&&(ae=await oE(z.localStore,H.query,!1).then((({documents:C})=>H.view.ru(C,ae))));const F=X&&X.targetChanges.get(H.targetId),le=X&&X.targetMismatches.get(H.targetId)!=null,oe=H.view.applyChanges(ae,z.isPrimaryClient,F,le);return yE(z,H.targetId,oe.au),oe.snapshot})(r,b,A,j);const c=await oE(r.localStore,e,!0),h=new y8(e,c.ks),m=h.ru(c.documents),g=Yc.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=h.applyChanges(m,r.isPrimaryClient,g);yE(r,n,p.au);const T=new v8(e,n,h);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function S8(r,e,n){const s=Ae(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((h=>!Dd(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $p(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Pg(s.remoteStore,o.targetId),Yp(s,o.targetId)})).catch(al)):(Yp(s,o.targetId),await $p(s.localStore,o.targetId,!0))}async function A8(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Pg(n.remoteStore,s.targetId))}async function w8(r,e,n){const s=D8(r);try{const o=await(function(h,m){const g=Ae(h),p=it.now(),T=m.reduce(((j,B)=>j.add(B.key)),Ve());let b,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let B=wi(),z=Ve();return g.xs.getEntries(j,T).next((H=>{B=H,B.forEach(((ee,X)=>{X.isValidDocument()||(z=z.add(ee))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,B))).next((H=>{b=H;const ee=[];for(const X of m){const ae=zC(X,b.get(X.key).overlayedDocument);ae!=null&&ee.push(new Is(X.key,ae,ET(ae.value.mapValue),Jn.exists(!0)))}return g.mutationQueue.addMutationBatch(j,p,ee,m)})).next((H=>{A=H;const ee=H.applyToLocalDocumentSet(b,z);return g.documentOverlayCache.saveOverlays(j,H.batchId,ee)}))})).then((()=>({batchId:A.batchId,changes:NT(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.du[h.currentUser.toKey()];p||(p=new mt(Oe)),p=p.insert(m,g),h.du[h.currentUser.toKey()]=p})(s,o.batchId,n),await Zc(s,o.changes),await zd(s.remoteStore)}catch(o){const c=qg(o,"Failed to persist write");n.reject(c)}}async function dx(r,e){const n=Ae(r);try{const s=await PI(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?We(h.hu,14607):o.removedDocuments.size>0&&(We(h.hu,42227),h.hu=!1))})),await Zc(n,s,e)}catch(s){await al(s)}}function gE(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=Ae(h);g.onlineState=m;let p=!1;g.queries.forEach(((T,b)=>{for(const A of b.ba)A.va(m)&&(p=!0)})),p&&Wg(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function k8(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let h=new mt(ve.comparator);h=h.insert(c,on.newNoDocument(c,be.min()));const m=Ve().add(c),g=new Vd(be.min(),new Map,new mt(Oe),h,m);await dx(s,g),s.Ru=s.Ru.remove(c),s.Au.delete(e),Qg(s)}else await $p(s.localStore,e,!1).then((()=>Yp(s,e,n))).catch(al)}async function R8(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await VI(n.localStore,e);mx(n,s,null),fx(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Zc(n,o)}catch(o){await al(o)}}async function C8(r,e,n){const s=Ae(r);try{const o=await(function(h,m){const g=Ae(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return g.mutationQueue.lookupMutationBatch(p,m).next((b=>(We(b!==null,37113),T=b.keys(),g.mutationQueue.removeMutationBatch(p,b)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,T,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>g.localDocuments.getDocuments(p,T)))}))})(s.localStore,e);mx(s,e,n),fx(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Zc(s,o)}catch(o){await al(o)}}function fx(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function mx(r,e,n){const s=Ae(r);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Yp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||px(r,s)}))}function px(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Pg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Qg(r))}function yE(r,e,n){for(const s of n)s instanceof cx?(r.Vu.addReference(s.key,e),I8(r,s)):s instanceof ux?(de(Kg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||px(r,s.key)):Te(19791,{wu:s})}function I8(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(de(Kg,"New document in limbo: "+n),r.Eu.add(s),Qg(r))}function Qg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ve(at.fromString(e)),s=r.fu.next();r.Au.set(s,new _8(n)),r.Ru=r.Ru.insert(n,s),rx(r.remoteStore,new fs($r(Ld(n.path)),s,"TargetPurposeLimboResolution",Cd.ce))}}async function Zc(r,e,n){const s=Ae(r),o=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const T=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(p){o.push(p);const T=Og.Es(g.targetId,p);c.push(T)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(g,p){const T=Ae(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>se.forEach(p,(A=>se.forEach(A.Ts,(j=>T.persistence.referenceDelegate.addReference(b,A.targetId,j))).next((()=>se.forEach(A.Is,(j=>T.persistence.referenceDelegate.removeReference(b,A.targetId,j)))))))))}catch(b){if(!ol(b))throw b;de(Vg,"Failed to update sequence numbers: "+b)}for(const b of p){const A=b.targetId;if(!b.fromCache){const j=T.vs.get(A),B=j.snapshotVersion,z=j.withLastLimboFreeSnapshotVersion(B);T.vs=T.vs.insert(A,z)}}})(s.localStore,c))}async function N8(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){de(Kg,"User change. New user:",e.toKey());const s=await JT(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new he(ne.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Zc(n,s.Ns)}}function L8(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function gx(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=dx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k8.bind(null,e),e.Pu.J_=p8.bind(null,e.eventManager),e.Pu.yu=g8.bind(null,e.eventManager),e}function D8(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C8.bind(null,e),e}class dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return OI(this.persistence,new DI,e.initialUser,this.serializer)}Cu(e){return new ZT(Mg.Vi,this.serializer)}Du(e){return new qI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dd.provider={build:()=>new dd};class j8 extends dd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof ud,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new vI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new ZT((s=>ud.Vi(s,n)),this.serializer)}}class Xp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>gE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=N8.bind(null,this.syncEngine),await d8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new m8})()}createDatastore(e){const n=Pd(e.databaseInfo.databaseId),s=KI(e.databaseInfo);return JI(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,h,m){return new t8(s,o,c,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>gE(this.syncEngine,n,0)),(function(){return uE.v()?new uE:new FI})())}createSyncEngine(e,n){return(function(o,c,h,m,g,p,T){const b=new E8(o,c,h,m,g,p);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);de(ya,"RemoteStore shutting down."),s.Ea.add(5),await Xc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xp.provider={build:()=>new Xp};class Yg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ws="FirestoreClient";class M8{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=bg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{de(ws,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(de(ws,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=qg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function _p(r,e){r.asyncQueue.verifyOperationInProgress(),de(ws,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await JT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function vE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await O8(r);de(ws,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>dE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>dE(e.remoteStore,o))),r._onlineComponents=e}async function O8(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(ws,"Using user provided OfflineComponentProvider");try{await _p(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Go("Error using user provided cache. Falling back to memory cache: "+n),await _p(r,new dd)}}else de(ws,"Using default OfflineComponentProvider"),await _p(r,new j8(void 0));return r._offlineComponents}async function yx(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(ws,"Using user provided OnlineComponentProvider"),await vE(r,r._uninitializedComponentsProvider._online)):(de(ws,"Using default OnlineComponentProvider"),await vE(r,new Xp))),r._onlineComponents}function V8(r){return yx(r).then((e=>e.syncEngine))}async function fd(r){const e=await yx(r),n=e.eventManager;return n.onListen=T8.bind(null,e.syncEngine),n.onUnlisten=S8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=x8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=A8.bind(null,e.syncEngine),n}function P8(r,e,n,s){const o=new Yg(s),c=new $g(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>Fg(await fd(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>Gg(await fd(r),c)))}}function U8(r,e,n={}){const s=new Ti;return r.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,g,p){const T=new Yg({next:A=>{T.Nu(),h.enqueueAndForget((()=>Gg(c,b)));const j=A.docs.has(m);!j&&A.fromCache?p.reject(new he(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&A.fromCache&&g&&g.source==="server"?p.reject(new he(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),b=new $g(Ld(m.path),T,{includeMetadataChanges:!0,Ka:!0});return Fg(c,b)})(await fd(r),r.asyncQueue,e,n,s))),s.promise}function z8(r,e,n={}){const s=new Ti;return r.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,g,p){const T=new Yg({next:A=>{T.Nu(),h.enqueueAndForget((()=>Gg(c,b))),A.fromCache&&g.source==="server"?p.reject(new he(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),b=new $g(m,T,{includeMetadataChanges:!0,Ka:!0});return Fg(c,b)})(await fd(r),r.asyncQueue,e,n,s))),s.promise}function B8(r,e){const n=new Ti;return r.asyncQueue.enqueueAndForget((async()=>w8(await V8(r),e,n))),n.promise}function vx(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const H8="ComponentProvider",_E=new Map;function q8(r,e,n,s,o){return new oC(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,vx(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const _x="firestore.googleapis.com",EE=!0;class TE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_x,this.ssl=EE}else this.host=e.host,this.ssl=e.ssl??EE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gI)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vx(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new z6;switch(s.type){case"firstParty":return new F6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=_E.get(n);s&&(de(H8,"Removing Datastore"),_E.delete(n),s.terminate())})(this),Promise.resolve()}}function F8(r,e,n,s={}){r=Sn(r,Bd);const o=tl(e),c=r._getSettings(),h={...c,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(h2(`https://${m}`),d2("Firestore",!0)),c.host!==_x&&c.host!==m&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:s};if(!Es(g,h)&&(r._setSettings(g),s.mockUserToken)){let p,T;if(typeof s.mockUserToken=="string")p=s.mockUserToken,T=an.MOCK_USER;else{p=Qw(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new an(b)}r._authCredentials=new B6(new lT(p,T))}}class Ns{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Kc(n,yt._jsonSchema))return new yt(e,s||null,new ve(at.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Ot("string",yt._jsonSchemaVersion),referencePath:Ot("string")};class vs extends Ns{constructor(e,n,s){super(e,n,Ld(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ve(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function fn(r,e,...n){if(r=vt(r),cT("collection","path",e),r instanceof Bd){const s=at.fromString(e,...n);return j_(s),new vs(r,null,s)}{if(!(r instanceof yt||r instanceof vs))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return j_(s),new vs(r.firestore,null,s)}}function Gt(r,e,...n){if(r=vt(r),arguments.length===1&&(e=bg.newId()),cT("doc","path",e),r instanceof Bd){const s=at.fromString(e,...n);return D_(s),new yt(r,null,new ve(s))}{if(!(r instanceof yt||r instanceof vs))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return D_(s),new yt(r.firestore,r instanceof vs?r.converter:null,new ve(s))}}const xE="AsyncQueue";class bE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tx(this,"async_queue_retry"),this._c=()=>{const s=vp();s&&de(xE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=vp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=vp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ti;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ol(e))throw e;de(xE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ai("INTERNAL UNHANDLED ERROR: ",SE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Hg.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:SE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function SE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ki extends Bd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new bE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bE(e),this._firestoreClient=void 0,await e}}}function G8(r,e){const n=typeof r=="object"?r:fg(),s=typeof r=="string"?r:sd,o=Ta(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=$w("firestore");c&&F8(o,...c)}return o}function Hd(r){if(r._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||W8(r),r._firestoreClient}function W8(r){const e=r._freezeSettings(),n=q8(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new M8(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(tn.fromBase64String(e))}catch(n){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kc(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Ot("string",Xn._jsonSchemaVersion),bytes:Ot("string")};class Xg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qd{constructor(e){this._methodName=e}}class Qr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qr._jsonSchemaVersion}}static fromJSON(e){if(Kc(e,Qr._jsonSchema))return new Qr(e.latitude,e.longitude)}}Qr._jsonSchemaVersion="firestore/geoPoint/1.0",Qr._jsonSchema={type:Ot("string",Qr._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class gr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kc(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gr(e.vectorValues);throw new he(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:Ot("string",gr._jsonSchemaVersion),vectorValues:Ot("object")};const $8=/^__.*__$/;class K8{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qc(e,this.data,n,this.fieldTransforms)}}class Ex{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Tx(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:r})}}class Zg{constructor(e,n,s,o,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Zg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return md(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Tx(this.dataSource)&&$8.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Q8{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Pd(e)}createContext(e,n,s,o=!1){return new Zg({dataSource:e,methodName:n,targetDoc:s,path:en.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fd(r){const e=r._freezeSettings(),n=Pd(r._databaseId);return new Q8(r._databaseId,!!e.ignoreUndefinedProperties,n)}function xx(r,e,n,s,o,c={}){const h=r.createContext(c.merge||c.mergeFields?2:0,e,n,o);e0("Data must be an object, but it was:",h,s);const m=bx(s,h);let g,p;if(c.merge)g=new jn(h.fieldMask),p=h.fieldTransforms;else if(c.mergeFields){const T=[];for(const b of c.mergeFields){const A=Xo(e,b,n);if(!h.contains(A))throw new he(ne.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);wx(T,A)||T.push(A)}g=new jn(T),p=h.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,p=h.fieldTransforms;return new K8(new bn(m),g,p)}class Gd extends qd{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gd}}class Jg extends qd{_toFieldTransform(e){return new OC(e.path,new Uc)}isEqual(e){return e instanceof Jg}}function Y8(r,e,n,s){const o=r.createContext(1,e,n);e0("Data must be an object, but it was:",o,s);const c=[],h=bn.empty();Cs(s,((g,p)=>{const T=Ax(e,g,n);p=vt(p);const b=o.childContextForFieldPath(T);if(p instanceof Gd)c.push(T);else{const A=Jc(p,b);A!=null&&(c.push(T),h.set(T,A))}}));const m=new jn(c);return new Ex(h,m,o.fieldTransforms)}function X8(r,e,n,s,o,c){const h=r.createContext(1,e,n),m=[Xo(e,s,n)],g=[o];if(c.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)m.push(Xo(e,c[A])),g.push(c[A+1]);const p=[],T=bn.empty();for(let A=m.length-1;A>=0;--A)if(!wx(p,m[A])){const j=m[A];let B=g[A];B=vt(B);const z=h.childContextForFieldPath(j);if(B instanceof Gd)p.push(j);else{const H=Jc(B,z);H!=null&&(p.push(j),T.set(j,H))}}const b=new jn(p);return new Ex(T,b,h.fieldTransforms)}function Z8(r,e,n,s=!1){return Jc(n,r.createContext(s?4:3,e))}function Jc(r,e){if(Sx(r=vt(r)))return e0("Unsupported field value:",e,r),bx(r,e);if(r instanceof qd)return(function(s,o){if(!Tx(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let h=0;for(const m of s){let g=Jc(m,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=it.fromDate(s);return{timestampValue:cd(o.serializer,c)}}if(s instanceof it){const c=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cd(o.serializer,c)}}if(s instanceof Qr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xn)return{bytesValue:qT(o.serializer,s._byteString)};if(s instanceof yt){const c=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof gr)return(function(h,m){const g=h instanceof gr?h.toArray():h;return{mapValue:{fields:{[vT]:{stringValue:_T},[ad]:{arrayValue:{values:g.map((T=>{if(typeof T!="number")throw m.createError("VectorValues must only contain numeric values.");return Cg(m.serializer,T)}))}}}}}})(s,o);if(YT(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Rd(s)}`)})(r,e)}function bx(r,e){const n={};return dT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(r,((s,o)=>{const c=Jc(o,e.childContextForField(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function Sx(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Qr||r instanceof Xn||r instanceof yt||r instanceof qd||r instanceof gr||YT(r))}function e0(r,e,n){if(!Sx(n)||!uT(n)){const s=Rd(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function Xo(r,e,n){if((e=vt(e))instanceof Xg)return e._internalPath;if(typeof e=="string")return Ax(r,e);throw md("Field path arguments must be of type string or ",r,!1,void 0,n)}const J8=new RegExp("[~\\*/\\[\\]]");function Ax(r,e,n){if(e.search(J8)>=0)throw md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Xg(...e.split("."))._internalPath}catch{throw md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function md(r,e,n,s,o){const c=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new he(ne.INVALID_ARGUMENT,m+r+g)}function wx(r,e){return r.some((n=>n.isEqual(e)))}class eN{convertValue(e,n="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Cs(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[ad].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new gr(n)}convertGeoPoint(e){return new Qr(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Nd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Mc(e));default:return null}}convertTimestamp(e){const n=xs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);We(QT(s),9688,{name:e});const o=new Oc(s.get(1),s.get(3)),c=new ve(s.popFirst(5));return o.isEqual(n)||Ai(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class t0 extends eN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function Jt(){return new Jg("serverTimestamp")}const AE="@firebase/firestore",wE="4.10.0";function kE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class kx{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Xo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tN extends kx{data(){return super.data()}}function Rx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n0{}class Cx extends n0{}function _s(r,e,...n){let s=[];e instanceof n0&&s.push(e),s=s.concat(n),(function(c){const h=c.filter((g=>g instanceof i0)).length,m=c.filter((g=>g instanceof r0)).length;if(h>1||h>0&&m>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class r0 extends Cx{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new r0(e,n,s)}_apply(e){const n=this._parse(e);return Nx(e._query,n),new Ns(e.firestore,e.converter,Bp(e._query,n))}_parse(e){const n=Fd(e.firestore);return(function(c,h,m,g,p,T,b){let A;if(p.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){CE(b,T);const B=[];for(const z of b)B.push(RE(g,c,z));A={arrayValue:{values:B}}}else A=RE(g,c,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||CE(b,T),A=Z8(m,h,b,T==="in"||T==="not-in");return Mt.create(p,T,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class i0 extends n0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new i0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let h=o;const m=c.getFlattenedFilters();for(const g of m)Nx(h,g),h=Bp(h,g)})(e._query,n),new Ns(e.firestore,e.converter,Bp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class s0 extends Cx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new s0(e,n)}_apply(e){const n=(function(o,c,h){if(o.startAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pc(c,h)})(e._query,this._field,this._direction);return new Ns(e.firestore,e.converter,AC(e._query,n))}}function Ix(r,e="asc"){const n=e,s=Xo("orderBy",r);return s0._create(s,n)}function RE(r,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kT(e)&&n.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!ve.isDocumentKey(s))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return H_(r,new ve(s))}if(n instanceof yt)return H_(r,n._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rd(n)}.`)}function CE(r,e){if(!Array.isArray(r)||r.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Nx(r,e){const n=(function(o,c){for(const h of o)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Lx(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class bc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class da extends kx{constructor(e,n,s,o,c,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Xo("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:Ot("string",da._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class $h extends da{data(e={}){return super.data(e)}}class fa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new bc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new $h(this._firestore,this._userDataWriter,s.key,s,new bc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new $h(o._firestore,o._userDataWriter,m.doc.key,m.doc,new bc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new $h(o._firestore,o._userDataWriter,m.doc.key,m.doc,new bc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,T=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:nN(m.type),doc:g,oldIndex:p,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}fa._jsonSchemaVersion="firestore/querySnapshot/1.0",fa._jsonSchema={type:Ot("string",fa._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};function Wd(r){r=Sn(r,yt);const e=Sn(r.firestore,ki),n=Hd(e);return U8(n,r._key).then((s=>jx(e,r,s)))}function ma(r){r=Sn(r,Ns);const e=Sn(r.firestore,ki),n=Hd(e),s=new t0(e);return Rx(r._query),z8(n,r._query).then((o=>new fa(e,s,r,o)))}function pr(r,e,n){r=Sn(r,yt);const s=Sn(r.firestore,ki),o=Lx(r.converter,e),c=Fd(s);return Qd(s,[xx(c,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Jn.none())])}function $d(r,e,n,...s){r=Sn(r,yt);const o=Sn(r.firestore,ki),c=Fd(o);let h;return h=typeof(e=vt(e))=="string"||e instanceof Xg?X8(c,"updateDoc",r._key,e,n,s):Y8(c,"updateDoc",r._key,e),Qd(o,[h.toMutation(r._key,Jn.exists(!0))])}function Dx(r){return Qd(Sn(r.firestore,ki),[new Ig(r._key,Jn.none())])}function rN(r,e){const n=Sn(r.firestore,ki),s=Gt(r),o=Lx(r.converter,e),c=Fd(r.firestore);return Qd(n,[xx(c,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Jn.exists(!1))]).then((()=>s))}function Kd(r,...e){r=vt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||kE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(kE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let c,h,m;if(r instanceof yt)h=Sn(r.firestore,ki),m=Ld(r._key.path),c={next:p=>{e[s]&&e[s](jx(h,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Sn(r,Ns);h=Sn(p.firestore,ki),m=p._query;const T=new t0(h);c={next:b=>{e[s]&&e[s](new fa(h,T,p,b))},error:e[s+1],complete:e[s+2]},Rx(r._query)}const g=Hd(h);return P8(g,m,o,c)}function Qd(r,e){const n=Hd(r);return B8(n,e)}function jx(r,e,n){const s=n.docs.get(e._key),o=new t0(r);return new da(r,o,e._key,s,new bc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){U6(nl),Yr(new yr("firestore",((s,{instanceIdentifier:o,options:c})=>{const h=s.getProvider("app").getImmediate(),m=new ki(new H6(s.getProvider("auth-internal")),new G6(h,s.getProvider("app-check-internal")),lC(h,o),h);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Zn(AE,wE,e),Zn(AE,wE,"esm2020")})();const Mx="@firebase/installations",a0="0.6.19";const Ox=1e4,Vx=`w:${a0}`,Px="FIS_v2",iN="https://firebaseinstallations.googleapis.com/v1",sN=3600*1e3,aN="installations",oN="Installations";const lN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},va=new Ea(aN,oN,lN);function Ux(r){return r instanceof Er&&r.code.includes("request-failed")}function zx({projectId:r}){return`${iN}/projects/${r}/installations`}function Bx(r){return{token:r.token,requestStatus:2,expiresIn:uN(r.expiresIn),creationTime:Date.now()}}async function Hx(r,e){const s=(await e.json()).error;return va.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function qx({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function cN(r,{refreshToken:e}){const n=qx(r);return n.append("Authorization",hN(e)),n}async function Fx(r){const e=await r();return e.status>=500&&e.status<600?r():e}function uN(r){return Number(r.replace("s","000"))}function hN(r){return`${Px} ${r}`}async function dN({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const s=zx(r),o=qx(r),c=e.getImmediate({optional:!0});if(c){const p=await c.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={fid:n,authVersion:Px,appId:r.appId,sdkVersion:Vx},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await Fx(()=>fetch(s,m));if(g.ok){const p=await g.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:Bx(p.authToken)}}else throw await Hx("Create Installation",g)}function Gx(r){return new Promise(e=>{setTimeout(e,r)})}function fN(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const mN=/^[cdef][\w-]{21}$/,Zp="";function pN(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=gN(r);return mN.test(n)?n:Zp}catch{return Zp}}function gN(r){return fN(r).substr(0,22)}function Yd(r){return`${r.appName}!${r.appId}`}const Wx=new Map;function $x(r,e){const n=Yd(r);Kx(n,e),yN(n,e)}function Kx(r,e){const n=Wx.get(r);if(n)for(const s of n)s(e)}function yN(r,e){const n=vN();n&&n.postMessage({key:r,fid:e}),_N()}let ha=null;function vN(){return!ha&&"BroadcastChannel"in self&&(ha=new BroadcastChannel("[Firebase] FID Change"),ha.onmessage=r=>{Kx(r.data.key,r.data.fid)}),ha}function _N(){Wx.size===0&&ha&&(ha.close(),ha=null)}const EN="firebase-installations-database",TN=1,_a="firebase-installations-store";let Ep=null;function o0(){return Ep||(Ep=v2(EN,TN,{upgrade:(r,e)=>{e===0&&r.createObjectStore(_a)}})),Ep}async function pd(r,e){const n=Yd(r),o=(await o0()).transaction(_a,"readwrite"),c=o.objectStore(_a),h=await c.get(n);return await c.put(e,n),await o.done,(!h||h.fid!==e.fid)&&$x(r,e.fid),e}async function Qx(r){const e=Yd(r),s=(await o0()).transaction(_a,"readwrite");await s.objectStore(_a).delete(e),await s.done}async function Xd(r,e){const n=Yd(r),o=(await o0()).transaction(_a,"readwrite"),c=o.objectStore(_a),h=await c.get(n),m=e(h);return m===void 0?await c.delete(n):await c.put(m,n),await o.done,m&&(!h||h.fid!==m.fid)&&$x(r,m.fid),m}async function l0(r){let e;const n=await Xd(r.appConfig,s=>{const o=xN(s),c=bN(r,o);return e=c.registrationPromise,c.installationEntry});return n.fid===Zp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function xN(r){const e=r||{fid:pN(),registrationStatus:0};return Yx(e)}function bN(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(va.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=SN(r,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:AN(r)}:{installationEntry:e}}async function SN(r,e){try{const n=await dN(r,e);return pd(r.appConfig,n)}catch(n){throw Ux(n)&&n.customData.serverCode===409?await Qx(r.appConfig):await pd(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function AN(r){let e=await IE(r.appConfig);for(;e.registrationStatus===1;)await Gx(100),e=await IE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await l0(r);return s||n}return e}function IE(r){return Xd(r,e=>{if(!e)throw va.create("installation-not-found");return Yx(e)})}function Yx(r){return wN(r)?{fid:r.fid,registrationStatus:0}:r}function wN(r){return r.registrationStatus===1&&r.registrationTime+Ox<Date.now()}async function kN({appConfig:r,heartbeatServiceProvider:e},n){const s=RN(r,n),o=cN(r,n),c=e.getImmediate({optional:!0});if(c){const p=await c.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={installation:{sdkVersion:Vx,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await Fx(()=>fetch(s,m));if(g.ok){const p=await g.json();return Bx(p)}else throw await Hx("Generate Auth Token",g)}function RN(r,{fid:e}){return`${zx(r)}/${e}/authTokens:generate`}async function c0(r,e=!1){let n;const s=await Xd(r.appConfig,c=>{if(!Xx(c))throw va.create("not-registered");const h=c.authToken;if(!e&&NN(h))return c;if(h.requestStatus===1)return n=CN(r,e),c;{if(!navigator.onLine)throw va.create("app-offline");const m=DN(c);return n=IN(r,m),m}});return n?await n:s.authToken}async function CN(r,e){let n=await NE(r.appConfig);for(;n.authToken.requestStatus===1;)await Gx(100),n=await NE(r.appConfig);const s=n.authToken;return s.requestStatus===0?c0(r,e):s}function NE(r){return Xd(r,e=>{if(!Xx(e))throw va.create("not-registered");const n=e.authToken;return jN(n)?{...e,authToken:{requestStatus:0}}:e})}async function IN(r,e){try{const n=await kN(r,e),s={...e,authToken:n};return await pd(r.appConfig,s),n}catch(n){if(Ux(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Qx(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await pd(r.appConfig,s)}throw n}}function Xx(r){return r!==void 0&&r.registrationStatus===2}function NN(r){return r.requestStatus===2&&!LN(r)}function LN(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+sN}function DN(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function jN(r){return r.requestStatus===1&&r.requestTime+Ox<Date.now()}async function MN(r){const e=r,{installationEntry:n,registrationPromise:s}=await l0(e);return s?s.catch(console.error):c0(e).catch(console.error),n.fid}async function ON(r,e=!1){const n=r;return await VN(n),(await c0(n,e)).token}async function VN(r){const{registrationPromise:e}=await l0(r);e&&await e}function PN(r){if(!r||!r.options)throw Tp("App Configuration");if(!r.name)throw Tp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw Tp(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Tp(r){return va.create("missing-app-config-values",{valueName:r})}const Zx="installations",UN="installations-internal",zN=r=>{const e=r.getProvider("app").getImmediate(),n=PN(e),s=Ta(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},BN=r=>{const e=r.getProvider("app").getImmediate(),n=Ta(e,Zx).getImmediate();return{getId:()=>MN(n),getToken:o=>ON(n,o)}};function HN(){Yr(new yr(Zx,zN,"PUBLIC")),Yr(new yr(UN,BN,"PRIVATE"))}HN();Zn(Mx,a0);Zn(Mx,a0,"esm2020");const gd="analytics",qN="firebase_id",FN="origin",GN=60*1e3,WN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",u0="https://www.googletagmanager.com/gtag/js";const mn=new bd("@firebase/analytics");const $N={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Mn=new Ea("analytics","Analytics",$N);function KN(r){if(!r.startsWith(u0)){const e=Mn.create("invalid-gtag-resource",{gtagURL:r});return mn.warn(e.message),""}return r}function Jx(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function QN(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function YN(r,e){const n=QN("firebase-js-sdk-policy",{createScriptURL:KN}),s=document.createElement("script"),o=`${u0}?l=${r}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function XN(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function ZN(r,e,n,s,o,c){const h=s[o];try{if(h)await e[h];else{const g=(await Jx(n)).find(p=>p.measurementId===o);g&&await e[g.appId]}}catch(m){mn.error(m)}r("config",o,c)}async function JN(r,e,n,s,o){try{let c=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await Jx(n);for(const g of h){const p=m.find(b=>b.measurementId===g),T=p&&e[p.appId];if(T)c.push(T);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),r("event",s,o||{})}catch(c){mn.error(c)}}function eL(r,e,n,s){async function o(c,...h){try{if(c==="event"){const[m,g]=h;await JN(r,e,n,m,g)}else if(c==="config"){const[m,g]=h;await ZN(r,e,n,s,m,g)}else if(c==="consent"){const[m,g]=h;r("consent",m,g)}else if(c==="get"){const[m,g,p]=h;r("get",m,g,p)}else if(c==="set"){const[m]=h;r("set",m)}else r(c,...h)}catch(m){mn.error(m)}}return o}function tL(r,e,n,s,o){let c=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=eL(c,r,e,n),{gtagCore:c,wrappedGtag:window[o]}}function nL(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(u0)&&n.src.includes(r))return n;return null}const rL=30,iL=1e3;class sL{constructor(e={},n=iL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const eb=new sL;function aL(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function oL(r){const{appId:e,apiKey:n}=r,s={method:"GET",headers:aL(n)},o=WN.replace("{app-id}",e),c=await fetch(o,s);if(c.status!==200&&c.status!==304){let h="";try{const m=await c.json();m.error?.message&&(h=m.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:h})}return c.json()}async function lL(r,e=eb,n){const{appId:s,apiKey:o,measurementId:c}=r.options;if(!s)throw Mn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw Mn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new hL;return setTimeout(async()=>{m.abort()},GN),tb({appId:s,apiKey:o,measurementId:c},h,m,e)}async function tb(r,{throttleEndTimeMillis:e,backoffCount:n},s,o=eb){const{appId:c,measurementId:h}=r;try{await cL(s,e)}catch(m){if(h)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:h};throw m}try{const m=await oL(r);return o.deleteThrottleMetadata(c),m}catch(m){const g=m;if(!uL(g)){if(o.deleteThrottleMetadata(c),h)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:h};throw m}const p=Number(g?.customData?.httpStatus)===503?t_(n,o.intervalMillis,rL):t_(n,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return o.setThrottleMetadata(c,T),mn.debug(`Calling attemptFetch again in ${p} millis`),tb(r,T,s,o)}}function cL(r,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(c),s(Mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function uL(r){if(!(r instanceof Er)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class hL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function dL(r,e,n,s,o){if(o&&o.global){r("event",n,s);return}else{const c=await e,h={...s,send_to:c};r("event",n,h)}}async function fL(r,e,n,s){if(s&&s.global){const o={};for(const c of Object.keys(n))o[`user_properties.${c}`]=n[c];return r("set",o),Promise.resolve()}else{const o=await e;r("config",o,{update:!0,user_properties:n})}}async function mL(){if(m2())try{await p2()}catch(r){return mn.warn(Mn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return mn.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function pL(r,e,n,s,o,c,h){const m=lL(r);m.then(A=>{n[A.measurementId]=A.appId,r.options.measurementId&&A.measurementId!==r.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>mn.error(A)),e.push(m);const g=mL().then(A=>{if(A)return s.getId()}),[p,T]=await Promise.all([m,g]);nL(c)||YN(c,p.measurementId),o("js",new Date);const b=h?.config??{};return b[FN]="firebase",b.update=!0,T!=null&&(b[qN]=T),o("config",p.measurementId,b),p.measurementId}class gL{constructor(e){this.app=e}_delete(){return delete qo[this.app.options.appId],Promise.resolve()}}let qo={},LE=[];const DE={};let xp="dataLayer",yL="gtag",jE,h0,ME=!1;function vL(){const r=[];if(f2()&&r.push("This is a browser extension environment."),ik()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Mn.create("invalid-analytics-context",{errorInfo:e});mn.warn(n.message)}}function _L(r,e,n){vL();const s=r.options.appId;if(!s)throw Mn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Mn.create("no-api-key");if(qo[s]!=null)throw Mn.create("already-exists",{id:s});if(!ME){XN(xp);const{wrappedGtag:c,gtagCore:h}=tL(qo,LE,DE,xp,yL);h0=c,jE=h,ME=!0}return qo[s]=pL(r,LE,DE,e,jE,xp,n),new gL(r)}function EL(r=fg()){r=vt(r);const e=Ta(r,gd);return e.isInitialized()?e.getImmediate():TL(r)}function TL(r,e={}){const n=Ta(r,gd);if(n.isInitialized()){const o=n.getImmediate();if(Es(e,n.getOptions()))return o;throw Mn.create("already-initialized")}return n.initialize({options:e})}function xL(r,e,n){r=vt(r),fL(h0,qo[r.app.options.appId],e,n).catch(s=>mn.error(s))}function bL(r,e,n,s){r=vt(r),dL(h0,qo[r.app.options.appId],e,n,s).catch(o=>mn.error(o))}const OE="@firebase/analytics",VE="0.10.19";function SL(){Yr(new yr(gd,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return _L(s,o,n)},"PUBLIC")),Yr(new yr("analytics-internal",r,"PRIVATE")),Zn(OE,VE),Zn(OE,VE,"esm2020");function r(e){try{const n=e.getProvider(gd).getImmediate();return{logEvent:(s,o,c)=>bL(n,s,o,c),setUserProperties:(s,o)=>xL(n,s,o)}}catch(n){throw Mn.create("interop-component-reg-failed",{reason:n})}}}SL();const AL={apiKey:"AIzaSyA1AWyQt-mKcZTGJ1MaPrf4IoRxxCpRl8w",authDomain:"brewsy-6e24c.firebaseapp.com",projectId:"brewsy-6e24c",storageBucket:"brewsy-6e24c.firebasestorage.app",messagingSenderId:"965602953101",appId:"1:965602953101:web:50f84823c3a2db81da5fc4",measurementId:"G-9T8DY7JG9C"},d0=_2(AL),ks=M6(d0),Ye=G8(d0);EL(d0);const wL=async(r,e)=>{try{return{user:(await ER(ks,r,e)).user,error:null}}catch(n){return{user:null,error:n}}},kL=async()=>{try{return await SR(ks),{error:null}}catch(r){return{error:r}}},RL=r=>bR(ks,r),nb=M.createContext({user:null,loading:!0}),Aa=()=>{const r=M.useContext(nb);if(!r)throw new Error("useAuth must be used within AuthProvider");return r},CL=({children:r})=>{const[e,n]=M.useState(null),[s,o]=M.useState(!0);return M.useEffect(()=>RL(h=>{n(h),o(!1)}),[]),y.jsx(nb.Provider,{value:{user:e,loading:s},children:r})},rb=M.createContext(void 0),IL=({children:r})=>{const[e,n]=M.useState(()=>localStorage.getItem("brewsy-current-space")||"naturopathie"),s=o=>{n(o),localStorage.setItem("brewsy-current-space",o),o==="naturopathie"?(document.body.classList.add("theme-drogue"),document.body.classList.remove("theme-malandrinerie")):(document.body.classList.add("theme-malandrinerie"),document.body.classList.remove("theme-drogue"))};return M.useEffect(()=>{e==="naturopathie"?(document.body.classList.add("theme-drogue"),document.body.classList.remove("theme-malandrinerie")):(document.body.classList.add("theme-malandrinerie"),document.body.classList.remove("theme-drogue"))},[e]),y.jsx(rb.Provider,{value:{currentSpace:e,setCurrentSpace:s},children:r})},ib=()=>{const r=M.useContext(rb);if(r===void 0)throw new Error("useSpace must be used within a SpaceProvider");return r},NL=()=>{const[r,e]=M.useState(""),[n,s]=M.useState(""),[o,c]=M.useState(null),[h,m]=M.useState(!1),g=async p=>{p.preventDefault(),c(null),m(!0);const{error:T}=await wL(r,n);T&&(c("Email ou mot de passe incorrect"),m(!1))};return y.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-card rounded-soft-lg shadow-soft-lg p-8 max-w-md w-full border border-border",children:[y.jsx("h1",{className:"text-3xl font-bold text-peach mb-2 text-center",children:"Cozy Production"}),y.jsx("p",{className:"text-text-secondary text-center mb-6",children:"Connexion"}),y.jsxs("form",{onSubmit:g,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-secondary mb-1",children:"Email"}),y.jsx("input",{id:"email",type:"email",value:r,onChange:p=>e(p.target.value),required:!0,className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all",placeholder:"votre@email.com"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-secondary mb-1",children:"Mot de passe"}),y.jsx("input",{id:"password",type:"password",value:n,onChange:p=>s(p.target.value),required:!0,className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all",placeholder:""})]}),o&&y.jsx("div",{className:"bg-peach-light text-peach-dark px-4 py-2 rounded-soft text-sm border border-peach/30",children:o}),y.jsx("button",{type:"submit",disabled:h,className:"w-full bg-linear-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark disabled:from-text-muted disabled:to-text-muted text-white font-semibold py-3 px-6 rounded-soft shadow-soft hover:shadow-soft-lg transition-all duration-200",children:h?"Connexion...":"Se connecter"})]})]})})},LL=async()=>{const r=Gt(Ye,"configs","default"),e=await Wd(r);return e.exists()?e.data():null},Zd=async()=>{const r=fn(Ye,"configs","default","transformations");return(await ma(r)).docs.map(n=>({id:n.id,...n.data()}))},sb=(r,e)=>{const n=fn(Ye,"users",r,"stocks");return Kd(n,s=>{const o=s.docs.map(c=>({...c.data()}));e(o)})},bp=async(r,e,n,s)=>{const o=Gt(Ye,"users",r,"stocks",e);await pr(o,{crateId:e,label:s,quantity:n,updatedAt:Jt()})},f0=(r,e)=>{const n=fn(Ye,"users",r,"prices");return Kd(n,s=>{const o=s.docs.map(c=>({...c.data()}));e(o)})},DL=async(r,e,n)=>{const s=Gt(Ye,"users",r,"prices",e),o=await Wd(s),c=o.exists()?o.data().values:[];await pr(s,{crateId:e,values:[...c,n],updatedAt:Jt()})},jL=async(r,e,n)=>{const s=Gt(Ye,"users",r,"prices",e),o=await Wd(s);if(!o.exists())return;const h=o.data().values.filter((m,g)=>g!==n);h.length===0?await Dx(s):await $d(s,{values:h,updatedAt:Jt()})},ab=(r,e)=>{const n=fn(Ye,"users",r,"runs"),s=_s(n,Ix("startedAt","desc"));return Kd(s,o=>{const c=o.docs.map(h=>({id:h.id,...h.data()}));e(c)})},ML=async(r,e,n,s,o)=>{const c=fn(Ye,"users",r,"runs"),h=o||new Date,m=it.fromDate(h),g=it.fromMillis(m.toMillis()+s*60*60*1e3),p={transformationId:e,inputQuantityUsed:n,startedAt:m,durationHours:s,reducedByAction:!1,endsAt:g,status:"RUNNING",createdAt:Jt()};return await pr(Gt(c),p)},OL=async(r,e,n)=>{const s=Gt(Ye,"users",r,"runs",e);await $d(s,{status:n})},VL=async(r,e,n=1)=>{const s=Gt(Ye,"users",r,"runs",e),o=await Wd(s);if(!o.exists())return;const c=o.data();if(c.reducedByAction)return;const h=it.fromMillis(c.endsAt.toMillis()-n*60*60*1e3);await $d(s,{reducedByAction:!0,endsAt:h})},PE=async(r,e)=>{const n=Gt(Ye,"users",r,"runs",e);await Dx(n)},ob=(r,e)=>{const n=fn(Ye,"users",r,"history"),s=_s(n,Ix("createdAt","desc"));return Kd(s,o=>{const c=o.docs.map(h=>({id:h.id,...h.data()}));e(c)})},PL=async(r,e,n,s,o)=>{const c=fn(Ye,"users",r,"history"),h={type:"TRANSFORMATION",transformationId:e,startedAt:n,endsAt:s,reducedByAction:o,createdAt:Jt()};await pr(Gt(c),h)},UL=async(r,e,n,s,o,c,h)=>{const m=fn(Ye,"users",r,"history"),g={type:"SALE",crateId:e,crateLabel:n,quantitySold:s,estimatedValue:o,actualValue:c,createdAt:Jt()};await pr(Gt(m),g)},zL=(r,e)=>r.input.quantity*e,BL=r=>r,HL=(r,e)=>r.tool.price*e,Jd=r=>{if(r.length===0)return 0;const e=r.reduce((n,s)=>n+s,0);return Math.round(e/r.length)},Jp=(r,e)=>r*e,qL=(r,e)=>{const n=new Map(e.map(s=>[s.crateId,Jd(s.values)]));return r.reduce((s,o)=>{const c=n.get(o.crateId)||0;return s+Jp(o.quantity,c)},0)},yd=r=>new Date>=r,lb=r=>Math.max(0,r.getTime()-Date.now()),cb=r=>{const e=Math.floor(r/36e5),n=Math.floor(r%(1e3*60*60)/(1e3*60));return e>0?`${e}h ${n}m`:`${n}m`},nt=({children:r,className:e="",onClick:n})=>y.jsx("div",{className:`bg-card rounded-soft-lg shadow-soft border border-border card-hover ${e}`,onClick:n,children:r}),rt=({children:r,className:e=""})=>y.jsx("div",{className:e,children:r}),vd=[{id:"crate_zeed",label:"Zeed",icon:""},{id:"crate_pandoxine",label:"Pandoxine",icon:""},{id:"crate_krakenine",label:"Krakenine",icon:""},{id:"crate_psylocybine",label:"Psylocybine",icon:""}],FL=()=>{const{user:r}=Aa(),{currentSpace:e}=ib(),[n,s]=M.useState([]),[o,c]=M.useState([]),[h,m]=M.useState([]),[g,p]=M.useState([]),[T,b]=M.useState([]),A=og(),[,j]=M.useState(0);M.useEffect(()=>{if(!r)return;const k=sb(r.uid,s),N=f0(r.uid,c),D=ab(r.uid,m),P=ob(r.uid,b);return()=>{k(),N(),D(),P()}},[r]),M.useEffect(()=>{(async()=>{const N=await Zd();p(N)})()},[]),M.useEffect(()=>{const k=setInterval(()=>{j(Date.now())},1e3);return()=>clearInterval(k)},[]);const B=qL(n,o),z=h.filter(k=>k.status==="RUNNING"),H=h.filter(k=>k.status==="DONE"?!1:yd(k.endsAt.toDate())),ee=new Map(o.map(k=>[k.crateId,Jd(k.values)])),X=k=>n.find(N=>N.crateId===k),ae=k=>g.find(N=>N.id===k.transformationId),F=h.filter(k=>k.status==="RUNNING"&&!yd(k.endsAt.toDate())),le=new Date;le.setDate(le.getDate()-7);const oe=T.filter(k=>{if(k.type!=="SALE")return!1;const N=k.createdAt?.toDate();return N&&N>=le}),C=oe.reduce((k,N)=>N.type!=="SALE"?k:k+N.actualValue,0),R=oe.reduce((k,N)=>N.type!=="SALE"?k:k+N.quantitySold,0);return e==="malandrinerie"?y.jsxs("div",{className:"space-y-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-text",children:"Dashboard - Malandrinerie"}),y.jsx(nt,{children:y.jsxs(rt,{className:"p-8 text-center",children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsx("h2",{className:"text-xl font-semibold text-text mb-2",children:"Espace Malandrinerie"}),y.jsx("p",{className:"text-text-muted mb-4",children:"Cet espace est en cours de dveloppement. Les fonctionnalits (Dashboard, Calculettes, Commandes) seront bientt disponibles !"}),y.jsx("div",{className:"inline-block px-4 py-2 bg-peach-light rounded-soft text-peach-dark text-sm",children:" venir prochainement"})]})})]}):y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold text-text",children:"Dashboard - Drogue"}),y.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"text-text-muted",children:"Valeur:"}),y.jsxs("span",{className:"font-bold text-mint-dark",children:[B.toLocaleString()," $"]})]}),y.jsx("div",{className:"w-px h-4 bg-border"}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"text-text-muted",children:"Actives:"}),y.jsx("span",{className:"font-semibold text-mint",children:z.length})]}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"text-text-muted",children:"Prtes:"}),y.jsx("span",{className:"font-semibold text-mint-dark",children:H.length})]})]})]}),H.length>0&&y.jsx("div",{className:"bg-mint-light border border-mint rounded-soft px-3 py-2 cursor-pointer hover:bg-mint/30 transition-colors",onClick:()=>A("/timers"),children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-lg",children:""}),y.jsxs("span",{className:"text-sm font-semibold text-mint-dark",children:[H.length," transformation",H.length>1?"s":""," prte",H.length>1?"s":"","  rcolter"]})]})}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[y.jsx(nt,{className:"md:col-span-2",children:y.jsxs(rt,{className:"p-3",children:[y.jsx("h2",{className:"text-sm font-semibold text-text mb-2",children:"Stocks"}),y.jsx("div",{className:"space-y-1.5",children:vd.map(k=>{const D=X(k.id)?.quantity||0,P=ee.get(k.id)||0,I=D*P;return y.jsxs("div",{className:"flex items-center justify-between py-2 px-2 rounded hover:bg-surface transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[y.jsx("span",{className:"text-xl",children:k.icon}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-semibold text-text",children:k.label}),y.jsxs("div",{className:"text-xs text-text-muted",children:[D," ",D>1?"caisses":"caisse"]})]})]}),y.jsx("div",{className:"text-right",children:P>0?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-base font-bold text-peach",children:[I.toLocaleString()," $"]}),y.jsxs("div",{className:"text-xs text-text-muted",children:[P.toLocaleString()," $ / u"]})]}):y.jsx("div",{className:"text-xs text-text-muted",children:"Prix non dfini"})})]},k.id)})})]})}),y.jsx(nt,{children:y.jsxs(rt,{className:"p-3",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsx("h2",{className:"text-sm font-semibold text-text",children:"7 derniers jours"}),y.jsx("button",{onClick:()=>A("/history"),className:"text-xs text-peach hover:text-peach-dark transition-colors",children:"Historique "})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"p-3 bg-peach-light rounded-soft border border-peach/30",children:[y.jsx("div",{className:"text-xs text-text-muted mb-1",children:"Revenus"}),y.jsxs("div",{className:"text-xl font-bold text-peach",children:[C.toLocaleString()," $"]})]}),y.jsxs("div",{className:"p-3 bg-lavender-light rounded-soft border border-lavender/30",children:[y.jsx("div",{className:"text-xs text-text-muted mb-1",children:"Ventes"}),y.jsxs("div",{className:"flex items-baseline gap-2",children:[y.jsx("div",{className:"text-xl font-bold text-lavender-dark",children:oe.length}),y.jsxs("div",{className:"text-sm text-text-muted",children:["vente",oe.length>1?"s":""]})]}),y.jsxs("div",{className:"text-xs text-text-muted mt-1",children:[R," caisse",R>1?"s":""]})]})]})]})})]}),F.length>0&&y.jsx(nt,{children:y.jsxs(rt,{className:"p-3",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("h2",{className:"text-sm font-semibold text-text",children:"En cours"}),y.jsx("button",{onClick:()=>A("/timers"),className:"text-xs text-lavender hover:text-lavender-dark transition-colors",children:"Voir tout "})]}),y.jsx("div",{className:"space-y-2",children:F.slice(0,3).map(k=>{const N=ae(k),D=lb(k.endsAt.toDate()),P=k.durationHours*60*60*1e3,I=Math.max(0,Math.min(100,(P-D)/P*100));return y.jsxs("div",{className:"bg-surface rounded-soft p-2",children:[y.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm font-medium text-text",children:N?.name}),k.reducedByAction&&y.jsx("span",{className:"text-xs",children:""})]}),y.jsx("span",{className:"text-xs font-semibold text-lavender",children:cb(D)})]}),y.jsx("div",{className:"w-full bg-border rounded-full h-1.5 overflow-hidden",children:y.jsx("div",{className:"h-full bg-linear-to-r from-lavender to-peach transition-all duration-1000",style:{width:`${I}%`}})})]},k.id)})})]})})]})};var GL=M.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),cn=function(e,n,s){var o=s.get(e);return o?o(n):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function UE(r,e){if(r==null)return{};var n={},s=Object.keys(r),o,c;for(c=0;c<s.length;c++)o=s[c],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}var nn=M.forwardRef(function(r,e){var n=r.alt,s=r.color,o=r.size,c=r.weight,h=r.mirrored,m=r.children,g=r.renderPath,p=UE(r,["alt","color","size","weight","mirrored","children","renderPath"]),T=M.useContext(GL),b=T.color,A=b===void 0?"currentColor":b,j=T.size,B=T.weight,z=B===void 0?"regular":B,H=T.mirrored,ee=H===void 0?!1:H,X=UE(T,["color","size","weight","mirrored"]);return E.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o??j,height:o??j,fill:s??A,viewBox:"0 0 256 256",transform:h||ee?"scale(-1, 1)":void 0},X,p),!!n&&E.createElement("title",null,n),m,E.createElement("rect",{width:"256",height:"256",fill:"none"}),g(c??z,s??A))});nn.displayName="IconBase";var wa=new Map;wa.set("bold",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});wa.set("duotone",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44Z",opacity:"0.2"}),E.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});wa.set("fill",function(){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M224,216a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H88V140H84A68.1,68.1,0,0,1,16,72a28,28,0,0,1,56,0A12,12,0,0,0,84,84h4V56a40,40,0,0,1,80,0v68h4a12,12,0,0,0,12-12,28,28,0,0,1,56,0,68.1,68.1,0,0,1-68,68h-4v28h48A8,8,0,0,1,224,216Z"}))});wa.set("light",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});wa.set("thin",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});wa.set("regular",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var WL=function(e,n){return cn(e,n,wa)},ub=M.forwardRef(function(r,e){return E.createElement(nn,Object.assign({ref:e},r,{renderPath:WL}))});ub.displayName="Cactus";var ka=new Map;ka.set("bold",function(r){return E.createElement(E.Fragment,null,E.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("line",{x1:"92",y1:"76",x2:"164",y2:"76",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("circle",{cx:"104",cy:"128",r:"16"}),E.createElement("circle",{cx:"152",cy:"128",r:"16"}),E.createElement("circle",{cx:"104",cy:"176",r:"16"}),E.createElement("circle",{cx:"152",cy:"176",r:"16"}))});ka.set("duotone",function(r){return E.createElement(E.Fragment,null,E.createElement("rect",{x:"80",y:"64",width:"96",height:"48",opacity:"0.2"}),E.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256 0) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("circle",{cx:"88",cy:"148",r:"12"}),E.createElement("circle",{cx:"128",cy:"148",r:"12"}),E.createElement("circle",{cx:"168",cy:"148",r:"12"}),E.createElement("circle",{cx:"88",cy:"188",r:"12"}),E.createElement("circle",{cx:"128",cy:"188",r:"12"}),E.createElement("circle",{cx:"168",cy:"188",r:"12"}))});ka.set("fill",function(){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M200,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24ZM88,200a12,12,0,1,1,12-12A12,12,0,0,1,88,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,88,160Zm40,40a12,12,0,1,1,12-12A12,12,0,0,1,128,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,128,160Zm40,40a12,12,0,1,1,12-12A12,12,0,0,1,168,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,168,160Zm16-56a8,8,0,0,1-8,8H80a8,8,0,0,1-8-8V64a8,8,0,0,1,8-8h96a8,8,0,0,1,8,8Z"}))});ka.set("light",function(r){return E.createElement(E.Fragment,null,E.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("circle",{cx:"88",cy:"148",r:"10"}),E.createElement("circle",{cx:"128",cy:"148",r:"10"}),E.createElement("circle",{cx:"168",cy:"148",r:"10"}),E.createElement("circle",{cx:"88",cy:"188",r:"10"}),E.createElement("circle",{cx:"128",cy:"188",r:"10"}),E.createElement("circle",{cx:"168",cy:"188",r:"10"}))});ka.set("thin",function(r){return E.createElement(E.Fragment,null,E.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("circle",{cx:"88",cy:"148",r:"8"}),E.createElement("circle",{cx:"128",cy:"148",r:"8"}),E.createElement("circle",{cx:"168",cy:"148",r:"8"}),E.createElement("circle",{cx:"88",cy:"188",r:"8"}),E.createElement("circle",{cx:"128",cy:"188",r:"8"}),E.createElement("circle",{cx:"168",cy:"188",r:"8"}))});ka.set("regular",function(r){return E.createElement(E.Fragment,null,E.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("circle",{cx:"88",cy:"148",r:"12"}),E.createElement("circle",{cx:"128",cy:"148",r:"12"}),E.createElement("circle",{cx:"168",cy:"148",r:"12"}),E.createElement("circle",{cx:"88",cy:"188",r:"12"}),E.createElement("circle",{cx:"128",cy:"188",r:"12"}),E.createElement("circle",{cx:"168",cy:"188",r:"12"}))});var $L=function(e,n){return cn(e,n,ka)},hb=M.forwardRef(function(r,e){return E.createElement(nn,Object.assign({ref:e},r,{renderPath:$L}))});hb.displayName="Calculator";var Ra=new Map;Ra.set("bold",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ra.set("duotone",function(r){return E.createElement(E.Fragment,null,E.createElement("rect",{x:"156",y:"40",width:"56",height:"168",opacity:"0.2"}),E.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ra.set("fill",function(){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M228,200h-8V40a8,8,0,0,0-8-8H156a8,8,0,0,0-8,8V80H100a8,8,0,0,0-8,8v40H44a8,8,0,0,0-8,8v64H28a8,8,0,0,0,0,16H228a8,8,0,0,0,0-16ZM108,96h40V200H108ZM52,144H92v56H52Z"}))});Ra.set("light",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ra.set("thin",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ra.set("regular",function(r){return E.createElement(E.Fragment,null,E.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var KL=function(e,n){return cn(e,n,Ra)},eg=M.forwardRef(function(r,e){return E.createElement(nn,Object.assign({ref:e},r,{renderPath:KL}))});eg.displayName="ChartBar";var Ca=new Map;Ca.set("bold",function(r){return E.createElement(E.Fragment,null,E.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ca.set("duotone",function(r){return E.createElement(E.Fragment,null,E.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),E.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ca.set("fill",function(){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm49.5,85.8-58.6,56a8.1,8.1,0,0,1-5.6,2.2,7.7,7.7,0,0,1-5.5-2.2l-29.3-28a8,8,0,1,1,11-11.6l23.8,22.7,53.2-50.7a8,8,0,0,1,11,11.6Z"}))});Ca.set("light",function(r){return E.createElement(E.Fragment,null,E.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ca.set("thin",function(r){return E.createElement(E.Fragment,null,E.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ca.set("regular",function(r){return E.createElement(E.Fragment,null,E.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var QL=function(e,n){return cn(e,n,Ca)},tg=M.forwardRef(function(r,e){return E.createElement(nn,Object.assign({ref:e},r,{renderPath:QL}))});tg.displayName="CheckCircle";var Ia=new Map;Ia.set("bold",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ia.set("duotone",function(r){return E.createElement(E.Fragment,null,E.createElement("circle",{cx:"128",cy:"128",r:"88",opacity:"0.2"}),E.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ia.set("fill",function(){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M136,80v43.4l37.6,21.7a8,8,0,0,1-4,14.9,7.1,7.1,0,0,1-4-1.1l-41.6-24h-.2l-.4-.2-.3-.3-.3-.2-.3-.3-.2-.2c-.2-.1-.3-.3-.4-.4l-.2-.2-.2-.4-.2-.3-.2-.3a.5.5,0,0,1-.2-.4l-.2-.3c0-.1-.1-.2-.1-.4a.4.4,0,0,1-.1-.3l-.2-.4a.4.4,0,0,0-.1-.3c0-.2,0-.3-.1-.4v-.4c0-.2-.1-.3-.1-.4V80a8,8,0,0,1,16,0Zm59.9-19.9a96.2,96.2,0,0,0-135.8,0l-8.3,8.3L37.5,54.1a8,8,0,0,0-8.7-1.8,8.2,8.2,0,0,0-5,7.4v40a8,8,0,0,0,8,8h40a8,8,0,0,0,5.7-13.6L63.1,79.7l8.3-8.3a80,80,0,1,1,0,113.2,7.9,7.9,0,0,0-11.3,0,8,8,0,0,0,0,11.3A96,96,0,0,0,195.9,60.1Z"}))});Ia.set("light",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ia.set("thin",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ia.set("regular",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var YL=function(e,n){return cn(e,n,Ia)},db=M.forwardRef(function(r,e){return E.createElement(nn,Object.assign({ref:e},r,{renderPath:YL}))});db.displayName="ClockCounterClockwise";var Na=new Map;Na.set("bold",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Na.set("duotone",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Na.set("fill",function(){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M152,120H136V56h8a32.1,32.1,0,0,1,32,32,8,8,0,0,0,16,0,48,48,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40H108a48,48,0,0,0,0,96h12v64H104a32.1,32.1,0,0,1-32-32,8,8,0,0,0-16,0,48,48,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-32,0H108a32,32,0,0,1,0-64h12Zm32,80H136V136h16a32,32,0,0,1,0,64Z"}))});Na.set("light",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Na.set("thin",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Na.set("regular",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var XL=function(e,n){return cn(e,n,Na)},fb=M.forwardRef(function(r,e){return E.createElement(nn,Object.assign({ref:e},r,{renderPath:XL}))});fb.displayName="CurrencyDollar";var La=new Map;La.set("bold",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});La.set("duotone",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M146.5,90.5l51.4-52.6a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7Z",opacity:"0.2"}),E.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});La.set("fill",function(){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M231.8,32.2a28.1,28.1,0,0,0-39.7.1L18.3,210.4a8,8,0,0,0,3.9,13.4,154.1,154.1,0,0,0,35,4c33.4,0,66.8-10.9,98.3-32.2a232,232,0,0,0,50.9-46.8,8.1,8.1,0,0,0-.7-10.5l-18.8-18.7,45-47.9A28,28,0,0,0,231.8,32.2ZM189.2,144.5a227,227,0,0,1-43.1,38.2c-34.5,23.2-70,32.6-105.8,28.1L146.6,101.9l23.3,23.3c.1.1.2.3.4.4h.1Z"}))});La.set("light",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});La.set("thin",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});La.set("regular",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var ZL=function(e,n){return cn(e,n,La)},mb=M.forwardRef(function(r,e){return E.createElement(nn,Object.assign({ref:e},r,{renderPath:ZL}))});mb.displayName="Knife";var Da=new Map;Da.set("bold",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Da.set("duotone",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",opacity:"0.2"}),E.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Da.set("fill",function(){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M224,39.5a8.1,8.1,0,0,0-7.5-7.5C140.2,27.5,79.1,50.5,53,93.6a87.3,87.3,0,0,0-12.8,49.1c.6,15.9,5.2,32.1,13.8,48L154.3,90.3a8.1,8.1,0,0,1,11.4,11.4L65.3,202c15.9,8.6,32.1,13.2,48,13.8h3.3A87,87,0,0,0,162.4,203C205.5,176.9,228.5,115.8,224,39.5Z"}),E.createElement("path",{d:"M57.1,196.1c-1.1-1.8-2.1-3.6-3.1-5.4L34.3,210.3a8.1,8.1,0,0,0,0,11.4,8.2,8.2,0,0,0,11.4,0L65.3,202l-5.4-3.1A9.3,9.3,0,0,1,57.1,196.1Z"}))});Da.set("light",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Da.set("thin",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Da.set("regular",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var JL=function(e,n){return cn(e,n,Da)},pb=M.forwardRef(function(r,e){return E.createElement(nn,Object.assign({ref:e},r,{renderPath:JL}))});pb.displayName="Leaf";var ja=new Map;ja.set("bold",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});ja.set("duotone",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M33.1,74.6A8.1,8.1,0,0,0,32,78.7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.6,7.6,0,0,0,3.9,1h0l.9-106.8L33.1,74.6Z",opacity:"0.2"}),E.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});ja.set("fill",function(){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M229.9,70.8h0a.1.1,0,0,1-.1-.1,16.2,16.2,0,0,0-6-5.9l-88-49.5a16,16,0,0,0-15.6,0l-88,49.5a16.2,16.2,0,0,0-6,5.9.1.1,0,0,1-.1.1v.2A15,15,0,0,0,24,78.7v98.6a16.1,16.1,0,0,0,8.2,14l88,49.5a16.5,16.5,0,0,0,7.2,2h1.4a15.7,15.7,0,0,0,7-2l88-49.5a16.1,16.1,0,0,0,8.2-14V78.7A15.6,15.6,0,0,0,229.9,70.8ZM128,29.2,207.7,74,177.1,91.4,96.4,46.9Zm.9,89.6L48.4,74,80,56.2l80.8,44.5Zm7.2,103.5.8-89.6L169,114.4v38.1a8,8,0,0,0,16,0V105.3l31-17.6v89.6Z"}))});ja.set("light",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});ja.set("thin",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});ja.set("regular",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var e3=function(e,n){return cn(e,n,ja)},_d=M.forwardRef(function(r,e){return E.createElement(nn,Object.assign({ref:e},r,{renderPath:e3}))});_d.displayName="Package";var Ma=new Map;Ma.set("bold",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ma.set("duotone",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ma.set("fill",function(){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M216,120H136V40a8,8,0,0,0-16,0v80H40a8,8,0,0,0,0,16h80v80a8,8,0,0,0,16,0V136h80a8,8,0,0,0,0-16Z"}))});Ma.set("light",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ma.set("thin",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ma.set("regular",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var t3=function(e,n){return cn(e,n,Ma)},gb=M.forwardRef(function(r,e){return E.createElement(nn,Object.assign({ref:e},r,{renderPath:t3}))});gb.displayName="Plus";var Oa=new Map;Oa.set("bold",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("line",{x1:"104",y1:"100",x2:"168",y2:"100",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("line",{x1:"104",y1:"140",x2:"168",y2:"140",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Oa.set("duotone",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M88,216a24,24,0,0,0,17.9-40h112A24,24,0,0,1,200,216Z",opacity:"0.2"}),E.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("line",{x1:"104",y1:"104",x2:"168",y2:"104",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("line",{x1:"104",y1:"136",x2:"168",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Oa.set("fill",function(){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M223.8,170.7a7.8,7.8,0,0,0-5.9-2.7H208V64a32.1,32.1,0,0,0-32-32H40A32.1,32.1,0,0,0,8,64a31.5,31.5,0,0,0,8.2,21.3,7.9,7.9,0,0,0,11.2.7,8,8,0,0,0,.7-11.3A16,16,0,1,1,56,64V192a32.1,32.1,0,0,0,32,32H200a32.1,32.1,0,0,0,32-32A31.5,31.5,0,0,0,223.8,170.7ZM104,96h64a8,8,0,0,1,0,16H104a8,8,0,0,1,0-16Zm-8,40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H104A8,8,0,0,1,96,136Zm104,72H115.7a32.2,32.2,0,0,0,4.3-16,30.8,30.8,0,0,0-1-8h94.9A16.1,16.1,0,0,1,200,208Z"}))});Oa.set("light",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("line",{x1:"104",y1:"104",x2:"168",y2:"104",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("line",{x1:"104",y1:"136",x2:"168",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Oa.set("thin",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("line",{x1:"104",y1:"104",x2:"168",y2:"104",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("line",{x1:"104",y1:"136",x2:"168",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Oa.set("regular",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("line",{x1:"104",y1:"104",x2:"168",y2:"104",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("line",{x1:"104",y1:"136",x2:"168",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var n3=function(e,n){return cn(e,n,Oa)},m0=M.forwardRef(function(r,e){return E.createElement(nn,Object.assign({ref:e},r,{renderPath:n3}))});m0.displayName="Scroll";var Va=new Map;Va.set("bold",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Va.set("duotone",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48Z",opacity:"0.2"}),E.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Va.set("fill",function(){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M223.9,65.4l-12.2,66.9A24,24,0,0,1,188.1,152H72.1l4.4,24H184a24,24,0,1,1-24,24,23.6,23.6,0,0,1,1.4-8H102.6a23.6,23.6,0,0,1,1.4,8,24,24,0,1,1-42.2-15.6L34.1,32H16a8,8,0,0,1,0-16H34.1A16,16,0,0,1,49.8,29.1L54.7,56H216a7.9,7.9,0,0,1,6.1,2.9A7.7,7.7,0,0,1,223.9,65.4Z"}))});Va.set("light",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Va.set("thin",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Va.set("regular",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var r3=function(e,n){return cn(e,n,Va)},p0=M.forwardRef(function(r,e){return E.createElement(nn,Object.assign({ref:e},r,{renderPath:r3}))});p0.displayName="ShoppingCart";var Pa=new Map;Pa.set("bold",function(r){return E.createElement(E.Fragment,null,E.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Pa.set("duotone",function(r){return E.createElement(E.Fragment,null,E.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Pa.set("fill",function(){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M221.7,133.7l-42,42A8.3,8.3,0,0,1,174,178a7.7,7.7,0,0,1-3-.6,8,8,0,0,1-5-7.4V136H104a8,8,0,0,1,0-16h62V86a8,8,0,0,1,5-7.4,8.2,8.2,0,0,1,8.7,1.7l42,42A8.1,8.1,0,0,1,221.7,133.7ZM104,208H48V48h56a8,8,0,0,0,0-16H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16h56a8,8,0,0,0,0-16Z"}))});Pa.set("light",function(r){return E.createElement(E.Fragment,null,E.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Pa.set("thin",function(r){return E.createElement(E.Fragment,null,E.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Pa.set("regular",function(r){return E.createElement(E.Fragment,null,E.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var i3=function(e,n){return cn(e,n,Pa)},yb=M.forwardRef(function(r,e){return E.createElement(nn,Object.assign({ref:e},r,{renderPath:i3}))});yb.displayName="SignOut";var Ua=new Map;Ua.set("bold",function(r){return E.createElement(E.Fragment,null,E.createElement("circle",{cx:"128",cy:"140",r:"88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("line",{x1:"128",y1:"140",x2:"161.9",y2:"106.1",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("line",{x1:"104",y1:"12",x2:"152",y2:"12",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ua.set("duotone",function(r){return E.createElement(E.Fragment,null,E.createElement("circle",{cx:"128",cy:"128",r:"88",opacity:"0.2"}),E.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),E.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ua.set("fill",function(){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M104,16h48a8,8,0,0,0,0-16H104a8,8,0,0,0,0,16Z"}),E.createElement("path",{d:"M128,32a96,96,0,1,0,96,96A96.2,96.2,0,0,0,128,32Zm45.3,62.1-39.6,39.6a8.2,8.2,0,0,1-11.4,0,8.1,8.1,0,0,1,0-11.4l39.6-39.6a8.1,8.1,0,1,1,11.4,11.4Z"}))});Ua.set("light",function(r){return E.createElement(E.Fragment,null,E.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ua.set("thin",function(r){return E.createElement(E.Fragment,null,E.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ua.set("regular",function(r){return E.createElement(E.Fragment,null,E.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),E.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var s3=function(e,n){return cn(e,n,Ua)},vb=M.forwardRef(function(r,e){return E.createElement(nn,Object.assign({ref:e},r,{renderPath:s3}))});vb.displayName="Timer";var za=new Map;za.set("bold",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"216",y1:"60",x2:"40",y2:"60",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("path",{d:"M200,60V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V60",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("path",{d:"M168,60V36a16,16,0,0,0-16-16H104A16,16,0,0,0,88,36V60",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});za.set("duotone",function(r){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z",opacity:"0.2"}),E.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});za.set("fill",function(){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M216,48H176V40a24.1,24.1,0,0,0-24-24H104A24.1,24.1,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"}))});za.set("light",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});za.set("thin",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});za.set("regular",function(r){return E.createElement(E.Fragment,null,E.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var a3=function(e,n){return cn(e,n,za)},_b=M.forwardRef(function(r,e){return E.createElement(nn,Object.assign({ref:e},r,{renderPath:a3}))});_b.displayName="Trash";var Ba=new Map;Ba.set("bold",function(r){return E.createElement(E.Fragment,null,E.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),E.createElement("circle",{cx:"128",cy:"172",r:"16"}))});Ba.set("duotone",function(r){return E.createElement(E.Fragment,null,E.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),E.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),E.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("circle",{cx:"128",cy:"172",r:"12"}))});Ba.set("fill",function(){return E.createElement(E.Fragment,null,E.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm-8,56a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm8,104a12,12,0,1,1,12-12A12,12,0,0,1,128,184Z"}))});Ba.set("light",function(r){return E.createElement(E.Fragment,null,E.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),E.createElement("circle",{cx:"128",cy:"172",r:"10"}))});Ba.set("thin",function(r){return E.createElement(E.Fragment,null,E.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),E.createElement("circle",{cx:"128",cy:"172",r:"8"}))});Ba.set("regular",function(r){return E.createElement(E.Fragment,null,E.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),E.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),E.createElement("circle",{cx:"128",cy:"172",r:"12"}))});var o3=function(e,n){return cn(e,n,Ba)},ng=M.forwardRef(function(r,e){return E.createElement(nn,Object.assign({ref:e},r,{renderPath:o3}))});ng.displayName="WarningCircle";const l3=({children:r})=>{const e=Ri(),{currentSpace:n,setCurrentSpace:s}=ib(),o=async()=>{await kL()},m=n==="naturopathie"?[{path:"/",label:"Dashboard",Icon:eg},{path:"/stocks",label:"Stocks",Icon:_d},{path:"/prices",label:"Prix",Icon:fb},{path:"/calculator",label:"Calculateur",Icon:hb},{path:"/timers",label:"Transformations",Icon:vb},{path:"/history",label:"Historique",Icon:db}]:[{path:"/",label:"Dashboard",Icon:eg},{path:"/malandrinerie/stocks",label:"Stocks",Icon:_d},{path:"/malandrinerie/recipes",label:"Recettes",Icon:m0},{path:"/malandrinerie/orders",label:"Commandes",Icon:p0}],g=p=>e.pathname===p;return y.jsxs("div",{className:"min-h-screen flex flex-col",children:[y.jsx("header",{className:"bg-card sticky top-0 z-10 border-b border-border shadow-soft",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[y.jsxs("h1",{className:"text-2xl font-bold text-peach flex gap-2 items-center",children:[y.jsx(ub,{size:24,weight:"duotone"}),"Brewsy"]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("div",{className:"flex items-center gap-2 bg-surface rounded-soft p-1 shadow-sm border border-border",children:[y.jsxs("button",{onClick:()=>s("naturopathie"),className:`flex items-center gap-2 px-3 py-2 rounded-soft transition-all ${n==="naturopathie"?"bg-mint text-white font-semibold shadow-soft":"text-text-muted hover:text-text hover:bg-card"}`,title:"Espace Drogue",children:[y.jsx(pb,{size:20,weight:n==="naturopathie"?"fill":"duotone"}),y.jsx("span",{className:"hidden sm:inline",children:"Drogue"})]}),y.jsxs("button",{onClick:()=>s("malandrinerie"),className:`flex items-center gap-2 px-3 py-2 rounded-soft transition-all ${n==="malandrinerie"?"bg-peach text-white font-semibold shadow-soft":"text-text-muted hover:text-text hover:bg-card"}`,title:"Espace Malandrinerie",children:[y.jsx(mb,{size:20,weight:n==="malandrinerie"?"fill":"duotone"}),y.jsx("span",{className:"hidden sm:inline",children:"Malandrinerie"})]})]}),y.jsx("button",{onClick:o,className:"p-2 rounded-soft hover:bg-surface transition-colors text-text-secondary",title:"Dconnexion",children:y.jsx(yb,{size:24,weight:"duotone"})})]})]})}),y.jsxs("div",{className:"flex-1 flex",children:[y.jsx("nav",{className:"w-64 glass-strong p-4 hidden md:block border-r border-border shadow-glass",children:y.jsx("ul",{className:"space-y-2",children:m.map(p=>y.jsx("li",{children:y.jsxs(Qh,{to:p.path,className:`flex items-center gap-3 px-4 py-3 rounded-soft transition-colors ${g(p.path)?"bg-sky text-peach-dark font-semibold shadow-glass":"text-text-muted hover:glass"}`,children:[y.jsx(p.Icon,{size:24,weight:g(p.path)?"fill":"duotone"}),y.jsx("span",{children:p.label})]})},p.path))})}),y.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-y-auto",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:r})})]}),y.jsx("nav",{className:"md:hidden glass-strong sticky bottom-0 border-t border-border shadow-glass",children:y.jsx("ul",{className:"flex justify-around py-2",children:m.map(p=>y.jsx("li",{children:y.jsxs(Qh,{to:p.path,className:`flex flex-col items-center gap-1 px-3 py-2 rounded-soft transition-colors ${g(p.path)?"text-sky font-semibold":"text-text-muted"}`,children:[y.jsx(p.Icon,{size:24,weight:g(p.path)?"fill":"duotone"}),y.jsx("span",{className:"text-xs",children:p.label})]})},p.path))})})]})},jt=({children:r,variant:e="primary",size:n="md",className:s="",...o})=>{const c="font-semibold rounded-soft transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",h={primary:"bg-gradient-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark text-white shadow-soft",secondary:"bg-surface hover:bg-surface-hover text-text border border-border",outline:"border-2 border-peach text-peach hover:bg-peach-light",danger:"bg-peach hover:bg-peach-dark text-white shadow-soft"},m={sm:"py-1.5 px-3 text-sm",md:"py-2 px-4",lg:"py-3 px-6 text-lg"};return y.jsx("button",{className:`${c} ${h[e]} ${m[n]} ${s}`,...o,children:r})},c3=()=>{const{user:r}=Aa(),[e,n]=M.useState([]),[s,o]=M.useState([]),[c,h]=M.useState(null),[m,g]=M.useState("1"),[p,T]=M.useState("0"),[b,A]=M.useState({});M.useEffect(()=>{if(!r)return;const F=sb(r.uid,n),le=f0(r.uid,o);return()=>{F(),le()}},[r]);const j=F=>e.find(le=>le.crateId===F),B=async(F,le,oe)=>{if(!r)return;const C=j(F),R=Math.max(0,(C?.quantity||0)+oe);await bp(r.uid,F,R,le)},z=async(F,le,oe)=>{r&&await bp(r.uid,F,Math.max(0,oe),le)},H=F=>{const oe=j(F)?.quantity||0;h(F),g(String(oe));const C=X.get(F)||0;T(String(C*oe))},ee=async(F,le)=>{const oe=parseInt(m)||0,C=parseInt(p)||0;if(!r||oe<=0||C<0)return;const R=j(F);if(!R||R.quantity<oe){alert("Stock insuffisant");return}const N=(X.get(F)||0)*oe;try{await UL(r.uid,F,le,oe,N,C,void 0),await bp(r.uid,F,R.quantity-oe,le),h(null),g("1"),T("0")}catch(D){console.error("Erreur lors de la vente:",D),alert("Erreur lors de l'enregistrement de la vente")}},X=new Map(s.map(F=>[F.crateId,Jd(F.values)])),ae=vd.reduce((F,le)=>{const oe=j(le.id),C=X.get(le.id)||0;return F+Jp(oe?.quantity||0,C)},0);return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Stocks"}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-sm text-dark-600 dark:text-dark-400",children:"Valeur totale"}),y.jsxs("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:[ae.toLocaleString()," $"]})]})]}),y.jsx("div",{className:"grid grid-cols-1 gap-3",children:vd.map(F=>{const oe=j(F.id)?.quantity||0,C=X.get(F.id)||0,R=Jp(oe,C);return y.jsx(nt,{children:y.jsxs(rt,{className:"p-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[y.jsx("span",{className:"text-3xl",children:F.icon}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-dark-800 dark:text-dark-100",children:F.label}),C>0&&y.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[C.toLocaleString()," $ / caisse"]})]})]}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("button",{onClick:()=>B(F.id,F.label,-10),className:"w-9 h-9 rounded-soft bg-peach-light hover:bg-peach transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"-10",children:"--"}),y.jsx("button",{onClick:()=>B(F.id,F.label,-1),className:"w-9 h-9 rounded-soft bg-lavender-light hover:bg-lavender transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"-1",children:"-"}),y.jsx("input",{type:"number",value:b[F.id]!==void 0?b[F.id]:oe,onChange:k=>{const N=k.target.value;A(D=>({...D,[F.id]:N}))},onBlur:()=>{const k=b[F.id];k!==void 0&&(z(F.id,F.label,parseInt(k)||0),A(N=>{const D={...N};return delete D[F.id],D}))},onKeyDown:k=>{k.key==="Enter"&&k.currentTarget.blur()},className:"w-20 text-center px-3 py-2 rounded-soft border border-border bg-card text-text font-semibold shadow-sm focus:ring-2 focus:ring-peach/30 focus:border-peach outline-none transition-all"}),y.jsx("button",{onClick:()=>B(F.id,F.label,1),className:"w-9 h-9 rounded-soft bg-sage-light hover:bg-sage transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"+1",children:"+"}),y.jsx("button",{onClick:()=>B(F.id,F.label,10),className:"w-9 h-9 rounded-soft bg-butter-light hover:bg-butter transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"+10",children:"++"})]}),y.jsx("div",{className:"text-right min-w-[100px]",children:y.jsxs("div",{className:"text-lg font-bold text-peach-600 dark:text-peach-400",children:[R.toLocaleString()," $"]})}),y.jsx(jt,{size:"sm",variant:"secondary",onClick:()=>H(F.id),disabled:oe===0,children:" Vendre"})]}),c===F.id&&y.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:y.jsxs("div",{className:"flex items-end gap-2",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Quantit"}),y.jsx("input",{type:"number",min:"1",max:oe,value:m,onChange:k=>{const N=k.target.value;g(N);const D=parseInt(N)||0;D>0&&T(String(C*D))},className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Prix total rcolt"}),y.jsx("input",{type:"number",min:"0",value:p,onChange:k=>T(k.target.value),className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),y.jsx(jt,{size:"sm",variant:"secondary",onClick:()=>h(null),children:""}),y.jsx(jt,{size:"sm",onClick:()=>ee(F.id,F.label),children:" Vendre"})]})})]})},F.id)})})]})},u3=()=>{const{user:r}=Aa(),[e,n]=M.useState([]),[s,o]=M.useState({});M.useEffect(()=>r?f0(r.uid,n):void 0,[r]);const c=p=>e.find(T=>T.crateId===p),h=async p=>{if(!r)return;const T=s[p],b=parseInt(T);!b||b<=0||(await DL(r.uid,p,b),o({...s,[p]:""}))},m=async(p,T)=>{r&&await jL(r.uid,p,T)},g=(p,T)=>{p.key==="Enter"&&h(T)};return y.jsxs("div",{className:"space-y-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Prix moyens"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:vd.map(p=>{const T=c(p.id),b=T?Jd(T.values):0,A=T?Math.min(...T.values):0,j=T?Math.max(...T.values):0,B=T?.values.length||0;return y.jsx(nt,{children:y.jsxs(rt,{className:"p-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-2xl",children:p.icon}),y.jsx("h3",{className:"font-semibold text-dark-800 dark:text-dark-100",children:p.label})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-xl font-bold text-peach-600 dark:text-peach-400",children:b>0?`${b.toLocaleString()} $`:""}),y.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[B," prix"]})]})]}),B>0&&y.jsxs("div",{className:"flex gap-4 text-xs mb-3 py-2 px-3 bg-butter-50 dark:bg-dark-700 rounded",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-dark-500 dark:text-dark-500",children:"Min:"}),y.jsxs("span",{className:"ml-1 font-semibold text-sage-600 dark:text-sage-400",children:[A.toLocaleString()," $"]})]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-dark-500 dark:text-dark-500",children:"Max:"}),y.jsxs("span",{className:"ml-1 font-semibold text-lavender-600 dark:text-lavender-400",children:[j.toLocaleString()," $"]})]})]}),y.jsxs("div",{className:"flex gap-2 mb-3",children:[y.jsx("input",{type:"number",placeholder:"Nouveau prix",value:s[p.id]||"",onChange:z=>o({...s,[p.id]:z.target.value}),onKeyPress:z=>g(z,p.id),className:"flex-1 px-3 py-1.5 text-sm rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"}),y.jsx("button",{onClick:()=>h(p.id),className:"px-4 py-1.5 text-sm font-semibold rounded-soft bg-linear-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark text-white transition-all shadow-sm hover:shadow-soft",children:"+"})]}),T&&T.values.length>0&&y.jsxs("div",{className:"space-y-1",children:[T.values.slice(0,3).map((z,H)=>y.jsxs("div",{className:"flex items-center justify-between py-1 px-2 text-sm   rounded border border-peach/20 bg-peach/20 dark:border-dark-600",children:[y.jsxs("span",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[z.toLocaleString()," $"]}),y.jsx("button",{onClick:()=>m(p.id,H),className:"text-xs px-2 py-0.5 rounded 0 text-dark  dark:hover:bg-red-900/50 transition-colors",children:""})]},H)),T.values.length>3&&y.jsxs("div",{className:"text-xs text-center text-dark-500 dark:text-dark-500 py-1",children:["+",T.values.length-3," autre(s)"]})]})]})},p.id)})})]})},Eb=({label:r,children:e,className:n="",...s})=>y.jsxs("div",{className:"w-full",children:[r&&y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:r}),y.jsx("select",{className:`w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all ${n}`,...s,children:e})]}),Tb=M.forwardRef(({label:r,error:e,className:n="",...s},o)=>y.jsxs("div",{className:"w-full",children:[r&&y.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-200 mb-1",children:r}),y.jsx("input",{ref:o,className:`w-full px-4 py-2 rounded-input border ${e?"border-peach-dark focus:ring-peach-dark":"border-border focus:ring-peach/30"} bg-card text-text focus:outline-none focus:ring-2 focus:border-peach shadow-sm transition-all ${n}`,...s}),e&&y.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:e})]}));Tb.displayName="Input";const h3=()=>{const[r,e]=M.useState([]),[n,s]=M.useState(null),[o,c]=M.useState("1");M.useEffect(()=>{h()},[]);const h=async()=>{const A=await Zd();e(A),A.length>0&&s(A[0])},m=A=>{const j=r.find(B=>B.id===A);s(j||null)},g=parseInt(o)||1,p=n?zL(n,g):0,T=BL(g),b=n?HL(n,g):0;return y.jsxs("div",{className:"space-y-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Calculateur"}),y.jsx(nt,{children:y.jsx(rt,{className:"p-4",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[y.jsx(Eb,{label:"Transformation",value:n?.id||"",onChange:A=>m(A.target.value),children:r.length===0?y.jsx("option",{children:"Chargement..."}):r.map(A=>y.jsxs("option",{value:A.id,children:[A.name," (",A.durationHours,"h)"]},A.id))}),y.jsx(Tb,{label:"Nombre",type:"number",min:"1",value:o,onChange:A=>c(A.target.value)})]})})}),n&&y.jsx(nt,{children:y.jsxs(rt,{className:"p-4",children:[y.jsx("h2",{className:"font-semibold text-dark-800 dark:text-dark-100 mb-3",children:n.name}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[y.jsxs("div",{className:"p-2 bg-butter-50 dark:bg-dark-700 rounded",children:[y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Matriau"}),y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.input.quantity," ",n.input.materialName]})]}),y.jsxs("div",{className:"p-2 bg-lavender-50 dark:bg-dark-700 rounded",children:[y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Outil"}),y.jsx("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:n.tool.name})]}),y.jsxs("div",{className:"p-2 bg-sage-50 dark:bg-dark-700 rounded",children:[y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Dure"}),y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.durationHours,"h",y.jsx("span",{className:"text-xs text-dark-400 dark:text-dark-600",children:" (-1h si )"})]})]}),y.jsxs("div",{className:"p-2 bg-sky-50 dark:bg-dark-700 rounded",children:[y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Caisse"}),y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.crate.quantityPerCrate," /caisse"]})]})]})]})}),y.jsx(nt,{children:y.jsxs(rt,{className:"p-4",children:[y.jsxs("h2",{className:"font-semibold text-dark-800 dark:text-dark-100 mb-3",children:["Pour ",g," transformation",g>1?"s":""]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[y.jsxs("div",{className:"p-3 bg-gradient-to-br from-peach-50 to-butter-50 dark:from-peach-900/20 dark:to-butter-900/20 rounded-cozy",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Matriaux ncessaires"}),y.jsx("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:p}),y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:n?.input.materialName})]}),y.jsxs("div",{className:"p-3 bg-gradient-to-br from-lavender-50 to-sage-50 dark:from-lavender-900/20 dark:to-sage-900/20 rounded-cozy",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Outils requis"}),y.jsx("div",{className:"text-2xl font-bold text-lavender-600 dark:text-lavender-400",children:T}),y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:n?.tool.name})]}),n&&n.tool.price>0&&y.jsxs("div",{className:"p-3 bg-gradient-to-br from-sky-50 to-lavender-50 dark:from-sky-900/20 dark:to-lavender-900/20 rounded-cozy",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Cot total"}),y.jsxs("div",{className:"text-2xl font-bold text-sky-600 dark:text-sky-400",children:[b.toLocaleString()," $"]}),y.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[n.tool.price.toLocaleString()," $  ",T]})]})]})]})})]})},d3=({isOpen:r,onClose:e,title:n,children:s,actions:o})=>r?y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-dark-900/50 backdrop-blur-sm",onClick:e,children:y.jsxs("div",{className:"bg-card rounded-soft-lg shadow-soft-lg border border-border max-w-md w-full overflow-hidden",onClick:c=>c.stopPropagation(),children:[y.jsxs("div",{className:"px-6 py-4 border-b border-border flex items-center justify-between",children:[y.jsx("h2",{className:"text-lg font-semibold text-text",children:n}),y.jsx("button",{onClick:e,className:"w-8 h-8 rounded-soft flex items-center justify-center hover:bg-surface transition-colors text-text-muted hover:text-text",children:""})]}),y.jsx("div",{className:"px-6 py-4 text-text-secondary",children:s}),o&&y.jsx("div",{className:"px-6 py-4 border-t border-border flex items-center justify-end gap-2",children:o})]})}):null,f3=()=>{const{user:r}=Aa(),[e,n]=M.useState([]),[s,o]=M.useState([]),[c,h]=M.useState(null),[m,g]=M.useState(!1),[p,T]=M.useState(""),[b,A]=M.useState("1"),[j,B]=M.useState(""),[z,H]=M.useState(""),[ee,X]=M.useState(!1),[ae,F]=M.useState(null),[,le]=M.useState(Date.now());M.useEffect(()=>{oe()},[]),M.useEffect(()=>r?ab(r.uid,o):void 0,[r]),M.useEffect(()=>{const $=setInterval(()=>{le(Date.now())},1e3);return()=>clearInterval($)},[]);const oe=async()=>{const[$,fe]=await Promise.all([Zd(),LL()]);n($),h(fe),$.length>0&&T($[0].id)},C=async()=>{if(!r||!p)return;const $=e.find(Ie=>Ie.id===p);if(!$)return;let fe;j&&z?fe=new Date(`${j}T${z}`):j&&(fe=new Date(j)),await ML(r.uid,p,parseInt(b)||1,$.durationHours,fe),A("1"),B(""),H(""),g(!1)},R=async $=>{!r||!$||await VL(r.uid,$,c?.rules.timeReductionHours)},k=async $=>{!r||!$.id||(await OL(r.uid,$.id,"DONE"),await PL(r.uid,$.transformationId,$.startedAt,$.endsAt,$.reducedByAction))},N=async $=>{r&&await PE(r.uid,$)},D=$=>{F($),X(!0)},P=async()=>{!r||!ae||(await PE(r.uid,ae),X(!1),F(null))},I=$=>e.find(fe=>fe.id===$.transformationId),Xe=s.filter($=>$.status==="RUNNING"&&!yd($.endsAt.toDate())),ft=s.filter($=>$.status!=="DONE"&&yd($.endsAt.toDate())),Z=s.filter($=>$.status==="DONE");return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Transformations"}),y.jsx(jt,{onClick:()=>g(!m),size:"sm",children:m?"":"+ Nouveau"})]}),m&&y.jsx(nt,{children:y.jsxs(rt,{className:"p-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[y.jsx(Eb,{label:"Type",value:p,onChange:$=>T($.target.value),children:e.map($=>y.jsxs("option",{value:$.id,children:[$.name," (",$.durationHours,"h)"]},$.id))}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Productions places"}),y.jsx("input",{type:"number",min:"1",value:b,onChange:$=>A($.target.value),className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:" Date de dbut (optionnel)"}),y.jsx("input",{type:"date",value:j,onChange:$=>B($.target.value),className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-lavender/30 focus:border-lavender transition-all hover:border-lavender/50",style:{colorScheme:"light dark"}})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:" Heure de dbut (optionnel)"}),y.jsx("input",{type:"time",value:z,onChange:$=>H($.target.value),className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-lavender/30 focus:border-lavender transition-all hover:border-lavender/50",style:{colorScheme:"light dark"}})]})]}),j&&y.jsxs("div",{className:"mb-3 p-2 bg-lavender-light rounded-soft text-xs text-text-muted",children:[" Si vide, dmarre maintenant. Sinon, dmarre le ",j," ",z&&` ${z}`]}),y.jsx(jt,{onClick:C,className:"w-full",children:" Dmarrer"})]})}),ft.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsxs("h2",{className:"text-lg font-semibold text-sage-600 dark:text-sage-400",children:[" Prtes (",ft.length,")"]}),ft.map($=>{const fe=I($);return y.jsx(nt,{className:"border-2 border-sage-400 dark:border-sage-600",children:y.jsx(rt,{className:"p-3",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[fe?.name,$.reducedByAction&&y.jsx("span",{className:"ml-2 text-xs",children:""})]}),y.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400",children:[$.inputQuantityUsed," production",$.inputQuantityUsed>1?"s":""]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(jt,{size:"sm",variant:"secondary",onClick:()=>k($),children:"Rcolter"}),y.jsx(jt,{size:"sm",variant:"danger",onClick:()=>$.id&&N($.id),children:""})]})]})})},$.id)})]}),Xe.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsxs("h2",{className:"text-lg font-semibold text-lavender-600 dark:text-lavender-400",children:["En cours (",Xe.length,")"]}),Xe.map($=>{const fe=I($),Ie=lb($.endsAt.toDate()),Be=$.durationHours*60*60*1e3,V=Math.max(0,Math.min(100,(Be-Ie)/Be*100));return y.jsx(nt,{children:y.jsxs(rt,{className:"p-3",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[fe?.name,$.reducedByAction&&y.jsx("span",{className:"ml-2 text-xs",children:""})]}),y.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400",children:[$.inputQuantityUsed," production",$.inputQuantityUsed>1?"s":"","  Fin prvue: ",$.endsAt.toDate().toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm font-semibold text-lavender-600 dark:text-lavender-400",children:cb(Ie)}),y.jsx(jt,{variant:"secondary",size:"sm",onClick:()=>$.id&&R($.id),disabled:$.reducedByAction,title:$.reducedByAction?"Dj arros":"Arroser (-1h)",children:""}),y.jsx(jt,{variant:"danger",size:"sm",onClick:()=>$.id&&D($.id),title:"Annuler la production",children:"Annuler"})]})]}),y.jsx("div",{className:"w-full bg-surface rounded-full h-2 overflow-hidden border border-border",children:y.jsx("div",{className:"h-full bg-linear-to-r from-lavender to-peach transition-all duration-1000",style:{width:`${V}%`}})})]})},$.id)})]}),Z.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsxs("h2",{className:"text-sm font-semibold text-dark-600 dark:text-dark-400",children:["Rcentes (",Z.slice(0,3).length,")"]}),Z.slice(0,3).map($=>{const fe=I($);return y.jsx(nt,{className:"opacity-60",children:y.jsx(rt,{className:"p-2",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"text-sm",children:[y.jsx("span",{className:"font-semibold text-dark-800 dark:text-dark-100",children:fe?.name}),y.jsxs("span",{className:"text-xs text-dark-600 dark:text-dark-400 ml-2",children:[" ",$.inputQuantityUsed," production",$.inputQuantityUsed>1?"s":""]})]}),y.jsx(jt,{variant:"danger",size:"sm",onClick:()=>$.id&&N($.id),className:"text-xs",children:""})]})})},$.id)})]}),s.length===0&&y.jsx(nt,{children:y.jsxs(rt,{className:"p-8 text-center",children:[y.jsx("div",{className:"text-4xl mb-3",children:""}),y.jsx("p",{className:"text-dark-600 dark:text-dark-400 mb-3",children:"Aucune transformation en cours"}),y.jsx(jt,{onClick:()=>g(!0),size:"sm",children:"Dmarrer une transformation"})]})}),y.jsx(d3,{isOpen:ee,onClose:()=>X(!1),title:"Annuler la production",actions:y.jsxs(y.Fragment,{children:[y.jsx(jt,{variant:"secondary",onClick:()=>X(!1),children:"Non, garder"}),y.jsx(jt,{variant:"danger",onClick:P,children:"Oui, annuler"})]}),children:y.jsx("p",{className:"text-text-secondary",children:"tes-vous sr de vouloir annuler cette production ? Cette action est irrversible."})})]})},m3=()=>{const{user:r}=Aa(),[e,n]=M.useState([]),[s,o]=M.useState([]);M.useEffect(()=>{c()},[]),M.useEffect(()=>r?ob(r.uid,n):void 0,[r]);const c=async()=>{const T=await Zd();o(T)},h=T=>s.find(b=>b.id===T),m=e.reduce((T,b)=>{const A=b.createdAt.toDate().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return T[A]||(T[A]=[]),T[A].push(b),T},{}),g=T=>T.toDate().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),p=T=>{const b=T.startedAt.toDate(),j=T.endsAt.toDate().getTime()-b.getTime();return Math.floor(j/(1e3*60*60))};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Historique"}),y.jsxs("div",{className:"text-sm text-dark-600 dark:text-dark-400",children:[e.length," entre",e.length>1?"s":""]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[y.jsx(nt,{children:y.jsx(rt,{className:"p-3",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Total"}),y.jsx("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:e.length})]})})}),y.jsx(nt,{children:y.jsx(rt,{className:"p-3",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Transformations"}),y.jsx("div",{className:"text-2xl font-bold text-lavender-600 dark:text-lavender-400",children:e.filter(T=>T.type==="TRANSFORMATION").length})]})})}),y.jsx(nt,{children:y.jsx(rt,{className:"p-3",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Ventes"}),y.jsx("div",{className:"text-2xl font-bold text-sage-600 dark:text-sage-400",children:e.filter(T=>T.type==="SALE").length})]})})}),y.jsx(nt,{children:y.jsx(rt,{className:"p-3",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Cette semaine"}),y.jsx("div",{className:"text-2xl font-bold text-sky-600 dark:text-sky-400",children:e.filter(T=>{const b=new Date;return b.setDate(b.getDate()-7),T.createdAt.toDate()>b}).length})]})})})]}),y.jsx("div",{className:"space-y-6",children:Object.keys(m).length===0?y.jsx(nt,{children:y.jsx(rt,{children:y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsx("p",{className:"text-dark-600 dark:text-dark-400 mb-2",children:"Aucun historique pour le moment"}),y.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-500",children:"Les transformations et ventes apparatront ici"})]})})}):Object.entries(m).map(([T,b])=>y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold text-dark-700 dark:text-dark-300 mb-3 capitalize",children:T}),y.jsx("div",{className:"space-y-3",children:b.map(A=>{if(A.type==="TRANSFORMATION"){const j=A,B=h(j.transformationId),z=p(j);return y.jsx(nt,{children:y.jsx(rt,{className:"p-3",children:y.jsx("div",{className:"flex items-start justify-between",children:y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-lavender-400 to-peach-400 flex items-center justify-center text-white text-sm",children:""}),y.jsx("h3",{className:"text-base font-semibold text-dark-800 dark:text-dark-100",children:B?.name||"Transformation inconnue"}),j.reducedByAction&&y.jsx("span",{className:"px-2 py-0.5 bg-sage-100 dark:bg-sage-900/30 text-sage-700 dark:text-sage-300 text-xs rounded-cozy font-semibold",children:""})]}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Dbut"}),y.jsx("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:g(j.startedAt)})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Fin"}),y.jsx("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:g(j.endsAt)})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Dure"}),y.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[z,"h"]})]})]})]})})})},A.id)}else{const j=A,B=j.actualValue-j.estimatedValue,z=Math.abs(B)>0;return y.jsx(nt,{className:z?"border-l-4 border-l-peach-400":"",children:y.jsx(rt,{className:"p-3",children:y.jsx("div",{className:"flex items-start justify-between",children:y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-sage-400 to-peach-400 flex items-center justify-center text-white text-sm",children:""}),y.jsxs("h3",{className:"text-base font-semibold text-dark-800 dark:text-dark-100",children:["Vente de ",j.crateLabel]})]}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm mb-2",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Quantit"}),y.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[j.quantitySold," caisse",j.quantitySold>1?"s":""]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Valeur estime"}),y.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[j.estimatedValue.toLocaleString()," $"]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Valeur rcolte"}),y.jsxs("div",{className:`font-semibold ${B>0?"text-sage-600 dark:text-sage-400":B<0?"text-peach-600 dark:text-peach-400":"text-dark-700 dark:text-dark-300"}`,children:[j.actualValue.toLocaleString()," $"]})]}),z&&y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Diffrence"}),y.jsxs("div",{className:`font-semibold ${B>0?"text-sage-600 dark:text-sage-400":"text-peach-600 dark:text-peach-400"}`,children:[B>0?"+":"",B.toLocaleString()," $"]})]})]}),j.notes&&y.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400 italic bg-dark-50 dark:bg-dark-800 rounded p-2",children:[" ",j.notes]})]})})})},A.id)}})})]},T))})]})},p3=async()=>{try{console.log(" Dbut de l'initialisation Firestore...");const r=Gt(Ye,"configs","default");await pr(r,{name:"default",rules:{timeReductionHours:1},updatedAt:Jt()}),console.log(" Config cre");const e=[{id:"zeed",name:"Zeed",input:{materialName:"Feuille",quantity:60},tool:{name:"Pot de terre",price:0},durationHours:48,crate:{name:"Caisse de Zeed",quantityPerCrate:20}},{id:"pandoxine",name:"Pandoxine",input:{materialName:"Viande",quantity:18},tool:{name:"Marmite",price:0},durationHours:96,crate:{name:"Caisse de Pandoxine",quantityPerCrate:12}},{id:"krakenine",name:"Krakenine",input:{materialName:"Huile",quantity:10},tool:{name:"Bidon de chauffe",price:0},durationHours:24,crate:{name:"Caisse de Krakenine",quantityPerCrate:12}},{id:"psylocybine",name:"Psylocybine",input:{materialName:"Champignon",quantity:60},tool:{name:"Sachet de fermentation",price:0},durationHours:72,crate:{name:"Caisse de Psylocybine",quantityPerCrate:20}}];for(const n of e){const s=Gt(Ye,"configs","default","transformations",n.id);await pr(s,n),console.log(` Transformation ${n.name} cre`)}return console.log(" Initialisation termine avec succs!"),{success:!0,message:"Toutes les donnes ont t cres avec succs!"}}catch(r){return console.error(" Erreur lors de l'initialisation:",r),{success:!1,message:`Erreur: ${r.message}`}}},g3="Donnes d'initialisation pour l'espace Malandrinerie dans Firestore",y3={malandrinerie:{materials:[{id:"plastiques",name:"Plastiques",unit:"unit"},{id:"rubans",name:"Rubans",unit:"unit"},{id:"dentiers",name:"Dentiers",unit:"unit"},{id:"pantheres",name:"Panthres",unit:"unit"},{id:"tubes",name:"Tubes",unit:"unit"},{id:"sacs",name:"Sacs",unit:"unit"},{id:"bracelets",name:"Bracelets",unit:"unit"},{id:"consoles",name:"Consoles",unit:"unit"},{id:"smartphones",name:"Smartphones",unit:"unit"},{id:"bons",name:"Bons d'achats",unit:"unit"},{id:"dentifrices",name:"Dentifrices",unit:"unit"},{id:"cigarettes",name:"Cigarettes",unit:"unit"},{id:"plexiglas",name:"Plexiglas",unit:"unit"},{id:"lentilles",name:"Lentilles",unit:"unit"},{id:"batteries",name:"Batteries",unit:"unit"},{id:"flashs",name:"Flashs",unit:"unit"},{id:"circuits",name:"Circuits",unit:"unit"},{id:"ecrous",name:"crous",unit:"unit"},{id:"vis",name:"Vis",unit:"unit"},{id:"fils",name:"Fils",unit:"unit"},{id:"aluminium",name:"Aluminium",unit:"unit"},{id:"viandes",name:"Viandes",unit:"unit"},{id:"abats",name:"Abats",unit:"unit"},{id:"langues",name:"Langues",unit:"unit"},{id:"rognons",name:"Rognons",unit:"unit"},{id:"jerricans",name:"Jerricans",unit:"unit"},{id:"briquets",name:"Briquets",unit:"unit"},{id:"bonbonnes",name:"Bonbonnes",unit:"unit"},{id:"additifs",name:"Additifs",unit:"unit"},{id:"gels",name:"Gels",unit:"unit"},{id:"accelerometres",name:"Acclromtres",unit:"unit"}],recipes:[{id:"couteau",name:"Couteau",emoji:"",category:"T1",batchSize:1,unitPrice:1e3,materials:{plastiques:6,rubans:6,dentiers:6,pantheres:2}},{id:"zips",name:"Zips",emoji:"",category:"T1",batchSize:12,unitPrice:250,materials:{tubes:2,plastiques:6,sacs:4,bracelets:4}},{id:"kits_crochetage_miteux",name:"Kits de crochetage miteux",emoji:"",category:"T1",batchSize:16,unitPrice:250,materials:{consoles:2,tubes:4,plastiques:4,rubans:6}},{id:"faux_tickets_parking",name:"Faux tickets de parking",emoji:"",category:"T1",batchSize:4,unitPrice:0,materials:{smartphones:3,bons:10,rubans:2,consoles:5}},{id:"paquet_cigarette_era",name:"Paquet de cigarette Era",emoji:"",category:"T1",batchSize:5,unitPrice:0,materials:{dentifrices:2,cigarettes:10,bons:2,consoles:2}},{id:"tenue_stagiaire_pole_emploi",name:"Tenue de stagiaire Ple Emploi",emoji:"",category:"T1",batchSize:4,unitPrice:1e3,materials:{bons:6,consoles:4,cigarettes:2,rubans:2,bracelets:3,smartphones:3}},{id:"antistress_artisanal",name:"Antistress artisanal",emoji:"",category:"T1",batchSize:6,unitPrice:400,materials:{dentiers:2,sacs:2,cigarettes:6,dentifrices:6}},{id:"9x19_ap",name:"9x19 AP",emoji:"",category:"T1",batchSize:6,unitPrice:450,materials:{pantheres:4,bracelets:4,sacs:2,dentiers:6}},{id:"pistolet",name:"Pistolet",emoji:"",category:"T1",batchSize:1,unitPrice:3500,materials:{pantheres:6,dentifrices:6,tubes:10,plastiques:8,sacs:10}},{id:"gilet_pare_balles_miteux",name:"Gilet pare-balles miteux",emoji:"",category:"T2",batchSize:1,unitPrice:0,materials:{plexiglas:11,rubans:6,bracelets:6,sacs:3}},{id:"tenue_stagiaire_entreprise",name:"Tenue de stagiaire d'entreprise",emoji:"",category:"T2",batchSize:4,unitPrice:2e3,materials:{lentilles:5,batteries:5,flashs:6,circuits:3,bons:8,cigarettes:5}},{id:"kits_crochetage_avance",name:"Kits de crochetage avanc",emoji:"",category:"T2",batchSize:16,unitPrice:700,materials:{ecrous:5,vis:5,fils:4,circuits:4,dentiers:4}},{id:"mre_peach",name:"MRE Peach / Z ERA",emoji:"",category:"T2",batchSize:6,unitPrice:750,materials:{aluminium:6,viandes:6,abats:5,langues:3,rognons:3}},{id:"bidons_artisanaux",name:"Bidons artisanaux",emoji:"",category:"T2",batchSize:1,unitPrice:10,materials:{plexiglas:3,vis:3,jerricans:6,briquets:6,bonbonnes:4}},{id:"baume_anti_stress",name:"Baume anti-stress",emoji:"",category:"T2",batchSize:4,unitPrice:1e3,materials:{plexiglas:4,additifs:6,cigarettes:4,dentifrices:8}},{id:"pistolet_combat",name:"Pistolet de combat",emoji:"",category:"T2",batchSize:1,unitPrice:6e3,materials:{pistolet:1,vis:3,lentilles:8,flashs:11,pantheres:3},requiresCraft:["pistolet"]},{id:"pistolet_lance",name:"Pistolet lance-...",emoji:"",category:"T2",batchSize:1,unitPrice:5e3,materials:{gels:3,accelerometres:6}},{id:"fusees_eclairantes",name:"Fuses clairantes",emoji:"",category:"T2",batchSize:20,unitPrice:750,materials:{additifs:5,bonbonnes:6,briquets:6,plexiglas:3,flashs:3}},{id:"cocktail_molotov",name:"Cocktail Molotov",emoji:"",category:"T2",batchSize:2,unitPrice:5e3,materials:{jerricans:9,additifs:11,briquets:8,gels:6,fils:5,batteries:8}},{id:"tec9",name:"Tec-9",emoji:"",category:"T2",batchSize:1,unitPrice:1e4,materials:{gels:13,ecrous:8,vis:3,lentilles:9,accelerometres:12}}],groups:[{id:"glory",name:"Glory"},{id:"b2mc",name:"B2MC"},{id:"ob",name:"OB"},{id:"g7",name:"G7"},{id:"mrg",name:"MRG"},{id:"88",name:"88"},{id:"individual",name:"Individuel"}]}},Sp={description:g3,spaces:y3},v3=async()=>{try{const r=ks.currentUser;if(!r)return{success:!1,message:"Vous devez tre connect pour initialiser les donnes"};console.log(" Dbut de l'initialisation Malandrinerie...");const e=Sp.spaces.malandrinerie.materials,n=Sp.spaces.malandrinerie.recipes,s=Sp.spaces.malandrinerie.groups;console.log(" Cration des matires premires...");for(const o of e){const c=Gt(Ye,"configs","default","spaces","malandrinerie","materials",o.id);await pr(c,{...o,createdAt:Jt(),updatedAt:Jt()})}console.log(` ${e.length} matires premires cres`),console.log(" Cration des recettes...");for(const o of n){const c=Gt(Ye,"configs","default","spaces","malandrinerie","recipes",o.id);await pr(c,{...o,createdAt:Jt(),updatedAt:Jt()})}console.log(` ${n.length} recettes cres`),console.log(" Cration des groupes...");for(const o of s){const c=Gt(Ye,"configs","default","spaces","malandrinerie","groups",o.id);await pr(c,{...o,createdAt:Jt(),updatedAt:Jt()})}console.log(` ${s.length} groupes crs`),console.log(" Initialisation des stocks utilisateur...");for(const o of e){const c=Gt(Ye,"users",r.uid,"materialStocks",o.id);await pr(c,{materialId:o.id,materialName:o.name,space:"malandrinerie",quantity:0,unit:o.unit,createdAt:Jt(),updatedAt:Jt()})}return console.log(` ${e.length} stocks initialiss`),console.log(" Initialisation Malandrinerie termine avec succs!"),{success:!0,message:` ${e.length} matires, ${n.length} recettes, ${s.length} groupes et ${e.length} stocks crs!`}}catch(r){return console.error(" Erreur lors de l'initialisation Malandrinerie:",r),{success:!1,message:`Erreur: ${r.message}`}}},_3=()=>{const[r,e]=M.useState(!1),[n,s]=M.useState(null),[o,c]=M.useState(!1),[h,m]=M.useState(null),g=async()=>{e(!0),s(null);const b=await p3();s(b),e(!1)},p=async()=>{c(!0),m(null);const b=await v3();m(b),c(!1)},T=({result:b})=>b?y.jsxs("div",{className:`p-4 rounded-soft mt-4 ${b.success?"bg-sage-light border border-sage":"bg-peach-light border border-peach"}`,children:[y.jsx("p",{className:`font-semibold mb-2 ${b.success?"text-sage-dark":"text-peach-dark"}`,children:b.success?" Succs!":" Erreur"}),y.jsx("p",{className:"text-sm text-text-secondary",children:b.message})]}):null;return y.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:y.jsxs("div",{className:"max-w-6xl w-full space-y-6",children:[y.jsx("h1",{className:"text-4xl font-bold text-text text-center mb-8",children:" Initialisation Firestore"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsx(nt,{children:y.jsxs(rt,{className:"p-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-mint-dark mb-4 flex items-center gap-2",children:" Espace Drogue"}),y.jsxs("div",{className:"space-y-3 mb-6",children:[y.jsx("p",{className:"text-sm text-text-secondary",children:"Initialise les donnes pour l'espace Drogue/Naturopathie :"}),y.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary ml-4",children:[y.jsx("li",{children:"Configuration globale"}),y.jsx("li",{children:"4 transformations (Zeed, Pandoxine, Krakenine, Psylocybine)"}),y.jsx("li",{children:"Rgle de rduction de temps (1h)"})]}),y.jsx("div",{className:"bg-butter-light border border-butter rounded-soft p-3",children:y.jsx("p",{className:"text-xs text-text-muted",children:" N'excuter qu'une seule fois!"})})]}),y.jsx(jt,{onClick:g,disabled:r,className:"w-full",children:r?"Initialisation...":" Initialiser Drogue"}),y.jsx(T,{result:n})]})}),y.jsx(nt,{children:y.jsxs(rt,{className:"p-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-peach-dark mb-4 flex items-center gap-2",children:" Espace Malandrinerie"}),y.jsxs("div",{className:"space-y-3 mb-6",children:[y.jsx("p",{className:"text-sm text-text-secondary",children:"Initialise les donnes pour l'espace Malandrinerie :"}),y.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary ml-4",children:[y.jsx("li",{children:"31 matires premires"}),y.jsx("li",{children:"20 recettes/crafts (10 T1 + 10 T2)"}),y.jsx("li",{children:"7 groupes de commandes"}),y.jsx("li",{children:"Stocks utilisateur  0"})]}),y.jsx("div",{className:"bg-butter-light border border-butter rounded-soft p-3",children:y.jsx("p",{className:"text-xs text-text-muted",children:" Ncessite d'tre connect!"})})]}),y.jsx(jt,{onClick:p,disabled:o,className:"w-full",children:o?"Initialisation...":" Initialiser Malandrinerie"}),y.jsx(T,{result:h})]})})]}),y.jsx("div",{className:"mt-8 text-center",children:y.jsx("p",{className:"text-xs text-text-muted",children:" Cette page peut tre supprime aprs l'initialisation"})})]})})},E3=()=>{const[r,e]=M.useState([]),[n,s]=M.useState(!0),[o,c]=M.useState(null),[h,m]=M.useState(0);M.useEffect(()=>{g()},[]);const g=async()=>{try{const A=ks.currentUser;if(!A)return;const j=fn(Ye,"users",A.uid,"materialStocks"),B=_s(j),z=await ma(B),H=[];z.forEach(ee=>{const X=ee.data();X.space==="malandrinerie"&&H.push({id:ee.id,materialId:X.materialId,materialName:X.materialName,quantity:X.quantity||0,unit:X.unit||"unit"})}),H.sort((ee,X)=>ee.materialName.localeCompare(X.materialName)),e(H)}catch(A){console.error("Error loading stocks:",A)}finally{s(!1)}},p=A=>{c(A.id),m(A.quantity)},T=async A=>{try{const j=ks.currentUser;if(!j)return;const B=Gt(Ye,"users",j.uid,"materialStocks",A);await $d(B,{quantity:h,updatedAt:Jt()}),e(r.map(z=>z.id===A?{...z,quantity:h}:z)),c(null)}catch(j){console.error("Error updating stock:",j)}},b=()=>{c(null),m(0)};return n?y.jsx("div",{className:"flex items-center justify-center h-64",children:y.jsx("p",{className:"text-text-muted",children:"Chargement des stocks..."})}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(_d,{size:32,weight:"duotone",className:"text-peach"}),y.jsx("h1",{className:"text-3xl font-bold text-text",children:"Stocks - Malandrinerie"})]}),y.jsx(nt,{children:y.jsxs(rt,{className:"p-6",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-12 gap-4 pb-3 border-b border-divider font-semibold text-sm text-text-muted",children:[y.jsx("div",{className:"col-span-5",children:"Matire premire"}),y.jsx("div",{className:"col-span-3 text-center",children:"Quantit"}),y.jsx("div",{className:"col-span-2 text-center",children:"Unit"}),y.jsx("div",{className:"col-span-2 text-right",children:"Actions"})]}),r.map(A=>y.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center py-2 hover:bg-card-hover rounded-soft transition-colors",children:[y.jsx("div",{className:"col-span-5 font-medium text-text",children:A.materialName}),y.jsx("div",{className:"col-span-3 text-center",children:o===A.id?y.jsx("input",{type:"number",min:"0",value:h,onChange:j=>m(parseInt(j.target.value)||0),className:"w-full px-3 py-2 border border-divider rounded-soft text-center",autoFocus:!0}):y.jsx("span",{className:`font-semibold ${A.quantity===0?"text-text-muted":"text-text"}`,children:A.quantity})}),y.jsx("div",{className:"col-span-2 text-center text-sm text-text-secondary",children:A.unit}),y.jsx("div",{className:"col-span-2 text-right",children:o===A.id?y.jsxs("div",{className:"flex gap-2 justify-end",children:[y.jsx(jt,{onClick:()=>T(A.id),className:"px-3 py-1 text-sm",children:""}),y.jsx(jt,{onClick:b,variant:"secondary",className:"px-3 py-1 text-sm",children:""})]}):y.jsx(jt,{onClick:()=>p(A),variant:"secondary",className:"px-3 py-1 text-sm",children:"Modifier"})})]},A.id))]}),r.length===0&&y.jsxs("div",{className:"text-center py-12 text-text-muted",children:[y.jsx("p",{className:"mb-2",children:"Aucun stock trouv"}),y.jsx("p",{className:"text-sm",children:"Initialisez les donnes depuis la page /setup"})]})]})})]})},T3=()=>{const[r,e]=M.useState([]),[n,s]=M.useState(new Map),[o,c]=M.useState(new Map),[h,m]=M.useState(!0),[g,p]=M.useState(new Map);M.useEffect(()=>{T()},[]);const T=async()=>{try{const B=ks.currentUser;if(!B)return;const z=fn(Ye,"configs","default","spaces","malandrinerie","recipes"),H=await ma(_s(z)),ee=[];H.forEach(R=>{ee.push({id:R.id,...R.data()})}),ee.sort((R,k)=>R.category!==k.category?R.category.localeCompare(k.category):R.name.localeCompare(k.name)),e(ee);const X=fn(Ye,"configs","default","spaces","malandrinerie","materials"),ae=await ma(_s(X)),F=new Map;ae.forEach(R=>{F.set(R.id,R.data().name)}),c(F);const le=fn(Ye,"users",B.uid,"materialStocks"),oe=await ma(_s(le)),C=new Map;oe.forEach(R=>{const k=R.data();k.space==="malandrinerie"&&C.set(k.materialId,k.quantity||0)}),s(C)}catch(B){console.error("Error loading data:",B)}finally{m(!1)}},b=(B,z)=>{const H=parseInt(z)||0,ee=r.find(le=>le.id===B);if(!ee)return;const X=Math.ceil(H/ee.batchSize),ae=X*ee.batchSize,F=ae-H;p(new Map(g.set(B,{recipeId:B,desiredQty:H,craftsNeeded:X,actualProduction:ae,surplus:F})))},A=(B,z,H)=>{const ee=g.get(B);if(!ee||ee.craftsNeeded===0)return{sufficient:!0,missing:0};const X=H*ee.craftsNeeded,ae=n.get(z)||0,F=ae>=X,le=F?0:X-ae;return{sufficient:F,missing:le,totalNeeded:X,available:ae}},j=B=>{const z=r.find(ee=>ee.id===B),H=g.get(B);return!z||!H||H.craftsNeeded===0?!0:Object.entries(z.materials).every(([ee,X])=>A(B,ee,X).sufficient)};return h?y.jsx("div",{className:"flex items-center justify-center h-64",children:y.jsx("p",{className:"text-text-muted",children:"Chargement des recettes..."})}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(m0,{size:32,weight:"duotone",className:"text-peach"}),y.jsx("h1",{className:"text-3xl font-bold text-text",children:"Recettes - Malandrinerie"})]}),y.jsx("div",{className:"space-y-6",children:["T1","T2"].map(B=>y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold text-text mb-4 flex items-center gap-2",children:y.jsxs("span",{className:B==="T1"?"text-sky":"text-lavender",children:[" Catgorie ",B]})}),y.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:r.filter(z=>z.category===B).map(z=>{const H=g.get(z.id),ee=j(z.id);return y.jsx(nt,{children:y.jsxs(rt,{className:"p-6",children:[y.jsx("div",{className:"flex items-start justify-between mb-4",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-2xl",children:z.emoji}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-text",children:z.name}),y.jsxs("p",{className:"text-xs text-text-muted",children:[z.batchSize>1?`Lot de ${z.batchSize}`:"Unit",z.unitPrice>0&&`  ${z.unitPrice}/u`]})]})]})}),y.jsxs("div",{className:"mb-4 p-3 bg-card-hover rounded-soft",children:[y.jsx("label",{className:"block text-sm font-semibold text-text mb-2",children:"Quantit dsire"}),y.jsx("input",{type:"number",min:"0",placeholder:"0",onChange:X=>b(z.id,X.target.value),className:"w-full px-3 py-2 border border-divider rounded-soft"}),H&&H.desiredQty>0&&y.jsxs("div",{className:"mt-2 text-sm space-y-1",children:[y.jsxs("p",{className:"text-text-secondary",children:[" ",y.jsx("strong",{children:H.craftsNeeded})," craft",H.craftsNeeded>1?"s":""," ncessaire",H.craftsNeeded>1?"s":""]}),y.jsxs("p",{className:"text-text-secondary",children:[" Production relle : ",y.jsx("strong",{children:H.actualProduction})]}),H.surplus>0&&y.jsxs("p",{className:"text-butter-dark",children:[" Surplus : +",H.surplus]}),H.desiredQty>0&&y.jsx("div",{className:"flex items-center gap-2 mt-2",children:ee?y.jsxs(y.Fragment,{children:[y.jsx(tg,{size:18,weight:"fill",className:"text-sage"}),y.jsx("span",{className:"text-sage text-sm font-semibold",children:"Production possible"})]}):y.jsxs(y.Fragment,{children:[y.jsx(ng,{size:18,weight:"fill",className:"text-peach"}),y.jsx("span",{className:"text-peach text-sm font-semibold",children:"Matires insuffisantes"})]})})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("p",{className:"text-sm font-semibold text-text-muted mb-2",children:"Recette (par craft)"}),Object.entries(z.materials).map(([X,ae])=>{const F=A(z.id,X,ae),le=H&&H.desiredQty>0;return y.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[y.jsx("span",{className:"text-text-secondary",children:o.get(X)||X}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("span",{className:"font-semibold text-text",children:[ae,le&&`  ${F.totalNeeded}`]}),le&&(F.sufficient?y.jsx(tg,{size:16,weight:"fill",className:"text-sage"}):y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(ng,{size:16,weight:"fill",className:"text-peach"}),y.jsxs("span",{className:"text-xs text-peach font-semibold",children:["-",F.missing]})]}))]})]},X)})]})]})},z.id)})})]},B))}),r.length===0&&y.jsx(nt,{children:y.jsxs(rt,{className:"p-12 text-center text-text-muted",children:[y.jsx("p",{className:"mb-2",children:"Aucune recette trouve"}),y.jsx("p",{className:"text-sm",children:"Initialisez les donnes depuis la page /setup"})]})})]})},x3=()=>{const[r,e]=M.useState([]),[n,s]=M.useState([]),[o,c]=M.useState(!0),[h,m]=M.useState(""),[g,p]=M.useState([]),[T,b]=M.useState(""),[A,j]=M.useState(0);M.useEffect(()=>{B()},[]);const B=async()=>{try{const F=fn(Ye,"configs","default","spaces","malandrinerie","recipes"),le=await ma(_s(F)),oe=[];le.forEach(N=>{oe.push({id:N.id,...N.data()})}),oe.sort((N,D)=>N.name.localeCompare(D.name)),e(oe);const C=fn(Ye,"configs","default","spaces","malandrinerie","groups"),R=await ma(_s(C)),k=[];R.forEach(N=>{k.push({id:N.id,...N.data()})}),s(k)}catch(F){console.error("Error loading data:",F)}finally{c(!1)}},z=()=>{if(!T||A<=0)return;const F=r.find(N=>N.id===T);if(!F)return;const le=Math.ceil(A/F.batchSize),oe=le*F.batchSize,C=oe-A,R=oe*F.unitPrice,k={recipeId:F.id,recipeName:F.name,emoji:F.emoji,requestedQty:A,batchSize:F.batchSize,craftsNeeded:le,actualProduction:oe,surplus:C,unitPrice:F.unitPrice,totalPrice:R};p([...g,k]),b(""),j(0)},H=F=>{p(g.filter((le,oe)=>oe!==F))},ee=(F,le)=>{const oe=[...g];oe[F].unitPrice=le,oe[F].totalPrice=le*oe[F].actualProduction,p(oe)},X=()=>g.reduce((F,le)=>F+le.totalPrice,0),ae=async()=>{try{const F=ks.currentUser;if(!F||!h||g.length===0)return;const le=n.find(C=>C.id===h);if(!le)return;const oe={userId:F.uid,space:"malandrinerie",groupId:h,groupName:le.name,items:g,totalAmount:X(),createdAt:Jt()};await rN(fn(Ye,"users",F.uid,"orders"),oe),p([]),m(""),alert("Commande enregistre avec succs!")}catch(F){console.error("Error saving order:",F),alert("Erreur lors de l'enregistrement")}};return o?y.jsx("div",{className:"flex items-center justify-center h-64",children:y.jsx("p",{className:"text-text-muted",children:"Chargement..."})}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(p0,{size:32,weight:"duotone",className:"text-peach"}),y.jsx("h1",{className:"text-3xl font-bold text-text",children:"Commandes - Malandrinerie"})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsx("div",{className:"lg:col-span-2 space-y-6",children:y.jsx(nt,{children:y.jsxs(rt,{className:"p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-text mb-4",children:"Nouvelle commande"}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-semibold text-text mb-2",children:"Groupe ou personne"}),y.jsxs("select",{value:h,onChange:F=>m(F.target.value),className:"w-full px-3 py-2 border border-divider rounded-soft",children:[y.jsx("option",{value:"",children:"-- Slectionner --"}),n.map(F=>y.jsx("option",{value:F.id,children:F.name},F.id))]})]}),y.jsxs("div",{className:"mb-4 p-4 bg-card-hover rounded-soft",children:[y.jsx("p",{className:"text-sm font-semibold text-text mb-3",children:"Ajouter un article"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[y.jsxs("select",{value:T,onChange:F=>b(F.target.value),className:"col-span-2 px-3 py-2 border border-divider rounded-soft",children:[y.jsx("option",{value:"",children:"-- Slectionner une recette --"}),r.map(F=>y.jsxs("option",{value:F.id,children:[F.emoji," ",F.name," ",F.batchSize>1?`(x${F.batchSize})`:""]},F.id))]}),y.jsx("input",{type:"number",min:"0",placeholder:"Quantit",value:A||"",onChange:F=>j(parseInt(F.target.value)||0),className:"px-3 py-2 border border-divider rounded-soft"})]}),y.jsxs(jt,{onClick:z,disabled:!T||A<=0,className:"w-full mt-3",children:[y.jsx(gb,{size:18,weight:"bold"}),"Ajouter  la commande"]})]}),g.length>0&&y.jsxs("div",{className:"space-y-3",children:[y.jsx("p",{className:"text-sm font-semibold text-text-muted",children:"Articles de la commande"}),g.map((F,le)=>y.jsxs("div",{className:"p-4 border border-divider rounded-soft",children:[y.jsxs("div",{className:"flex items-start justify-between mb-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-xl",children:F.emoji}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-text",children:F.recipeName}),y.jsxs("p",{className:"text-xs text-text-muted",children:["Demand: ",F.requestedQty,"  Crafts: ",F.craftsNeeded,"  Production: ",F.actualProduction,F.surplus>0&&` (+${F.surplus} surplus)`]})]})]}),y.jsx("button",{onClick:()=>H(le),className:"text-peach hover:text-peach-dark",children:y.jsx(_b,{size:20})})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Prix unitaire"}),y.jsx("input",{type:"number",min:"0",value:F.unitPrice,onChange:oe=>ee(le,parseFloat(oe.target.value)||0),className:"w-full px-3 py-1 text-sm border border-divider rounded-soft"})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Total"}),y.jsxs("p",{className:"font-bold text-text px-3 py-1",children:[F.totalPrice.toFixed(2),""]})]})]})]},le))]})]})})}),y.jsx("div",{children:y.jsx(nt,{children:y.jsxs(rt,{className:"p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-text mb-4",children:"Rsum"}),h?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-4 p-3 bg-card-hover rounded-soft",children:[y.jsx("p",{className:"text-sm text-text-muted",children:"Groupe/Personne"}),y.jsx("p",{className:"font-bold text-text",children:n.find(F=>F.id===h)?.name})]}),y.jsxs("div",{className:"mb-4 p-3 bg-card-hover rounded-soft",children:[y.jsx("p",{className:"text-sm text-text-muted",children:"Articles"}),y.jsx("p",{className:"font-bold text-text text-2xl",children:g.length})]}),y.jsxs("div",{className:"mb-6 p-4 bg-peach-light rounded-soft border border-peach",children:[y.jsx("p",{className:"text-sm text-text-muted mb-1",children:"Total de la commande"}),y.jsxs("p",{className:"font-bold text-text text-3xl",children:[X().toFixed(2),""]})]}),y.jsx(jt,{onClick:ae,disabled:g.length===0,className:"w-full",children:"Enregistrer la commande"})]}):y.jsx("p",{className:"text-sm text-text-muted text-center py-8",children:"Slectionnez un groupe pour commencer"})]})})})]})]})},qr=({children:r})=>{const{user:e,loading:n}=Aa();return n?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"text-xl text-dark-600 dark:text-dark-400",children:"Chargement..."})}):e?y.jsx(l3,{children:r}):y.jsx(e2,{to:"/login",replace:!0})};function b3(){const{user:r,loading:e}=Aa();return e?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"text-xl text-dark-600 dark:text-dark-400",children:"Chargement..."})}):y.jsxs(sw,{children:[y.jsx(Yn,{path:"/login",element:r?y.jsx(e2,{to:"/",replace:!0}):y.jsx(NL,{})}),y.jsx(Yn,{path:"/",element:y.jsx(qr,{children:y.jsx(FL,{})})}),y.jsx(Yn,{path:"/stocks",element:y.jsx(qr,{children:y.jsx(c3,{})})}),y.jsx(Yn,{path:"/prices",element:y.jsx(qr,{children:y.jsx(u3,{})})}),y.jsx(Yn,{path:"/calculator",element:y.jsx(qr,{children:y.jsx(h3,{})})}),y.jsx(Yn,{path:"/timers",element:y.jsx(qr,{children:y.jsx(f3,{})})}),y.jsx(Yn,{path:"/history",element:y.jsx(qr,{children:y.jsx(m3,{})})}),y.jsx(Yn,{path:"/setup",element:y.jsx(qr,{children:y.jsx(_3,{})})}),y.jsx(Yn,{path:"/malandrinerie/stocks",element:y.jsx(qr,{children:y.jsx(E3,{})})}),y.jsx(Yn,{path:"/malandrinerie/recipes",element:y.jsx(qr,{children:y.jsx(T3,{})})}),y.jsx(Yn,{path:"/malandrinerie/orders",element:y.jsx(qr,{children:y.jsx(x3,{})})})]})}function S3(){return y.jsx(Cw,{basename:"/Brewsy",children:y.jsx(CL,{children:y.jsx(IL,{children:y.jsx(b3,{})})})})}lA.createRoot(document.getElementById("root")).render(y.jsx(M.StrictMode,{children:y.jsx(S3,{})}));
