(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function eA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ep={exports:{}},pc={};var Mv;function tA(){if(Mv)return pc;Mv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:c}}return pc.Fragment=e,pc.jsx=n,pc.jsxs=n,pc}var Ov;function nA(){return Ov||(Ov=1,ep.exports=tA()),ep.exports}var y=nA(),tp={exports:{}},Se={};var Vv;function rA(){if(Vv)return Se;Vv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),A=Symbol.iterator;function M(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,K={};function Z(V,ie,ue){this.props=V,this.context=ie,this.refs=K,this.updater=ue||G}Z.prototype.isReactComponent={},Z.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},Z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Y(){}Y.prototype=Z.prototype;function oe(V,ie,ue){this.props=V,this.context=ie,this.refs=K,this.updater=ue||G}var z=oe.prototype=new Y;z.constructor=oe,$(z,Z.prototype),z.isPureReactComponent=!0;var le=Array.isArray;function ae(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function k(V,ie,ue){var me=ue.ref;return{$$typeof:r,type:V,key:ie,ref:me!==void 0?me:null,props:ue}}function N(V,ie){return k(V.type,ie,V.props)}function L(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return ie[ue]})}var I=/\/+/g;function Xe(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):ie.toString(36)}function ft(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ae,ae):(V.status="pending",V.then(function(ie){V.status==="pending"&&(V.status="fulfilled",V.value=ie)},function(ie){V.status==="pending"&&(V.status="rejected",V.reason=ie)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function J(V,ie,ue,me,Te){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Re){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case r:case e:Ue=!0;break;case x:return Ue=V._init,J(Ue(V._payload),ie,ue,me,Te)}}if(Ue)return Te=Te(V),Ue=me===""?"."+Xe(V,0):me,le(Te)?(ue="",Ue!=null&&(ue=Ue.replace(I,"$&/")+"/"),J(Te,ie,ue,"",function(Ls){return Ls})):Te!=null&&(L(Te)&&(Te=N(Te,ue+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+Ue)),ie.push(Te)),1;Ue=0;var Vt=me===""?".":me+":";if(le(V))for(var ct=0;ct<V.length;ct++)me=V[ct],Re=Vt+Xe(me,ct),Ue+=J(me,ie,ue,Re,Te);else if(ct=M(V),typeof ct=="function")for(V=ct.call(V),ct=0;!(me=V.next()).done;)me=me.value,Re=Vt+Xe(me,ct++),Ue+=J(me,ie,ue,Re,Te);else if(Re==="object"){if(typeof V.then=="function")return J(ft(V),ie,ue,me,Te);throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function F(V,ie,ue){if(V==null)return V;var me=[],Te=0;return J(V,me,"","",function(Re){return ie.call(ue,Re,Te++)}),me}function fe(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var Ie=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Be={map:F,forEach:function(V,ie,ue){F(V,function(){ie.apply(this,arguments)},ue)},count:function(V){var ie=0;return F(V,function(){ie++}),ie},toArray:function(V){return F(V,function(ie){return ie})||[]},only:function(V){if(!L(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Se.Activity=b,Se.Children=Be,Se.Component=Z,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=oe,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Se.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Se.cache=function(V){return function(){return V.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(V,ie,ue){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var me=$({},V.props),Te=V.key;if(ie!=null)for(Re in ie.key!==void 0&&(Te=""+ie.key),ie)!R.call(ie,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ie.ref===void 0||(me[Re]=ie[Re]);var Re=arguments.length-2;if(Re===1)me.children=ue;else if(1<Re){for(var Ue=Array(Re),Vt=0;Vt<Re;Vt++)Ue[Vt]=arguments[Vt+2];me.children=Ue}return k(V.type,Te,me)},Se.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Se.createElement=function(V,ie,ue){var me,Te={},Re=null;if(ie!=null)for(me in ie.key!==void 0&&(Re=""+ie.key),ie)R.call(ie,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Te[me]=ie[me]);var Ue=arguments.length-2;if(Ue===1)Te.children=ue;else if(1<Ue){for(var Vt=Array(Ue),ct=0;ct<Ue;ct++)Vt[ct]=arguments[ct+2];Te.children=Vt}if(V&&V.defaultProps)for(me in Ue=V.defaultProps,Ue)Te[me]===void 0&&(Te[me]=Ue[me]);return k(V,Re,Te)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(V){return{$$typeof:m,render:V}},Se.isValidElement=L,Se.lazy=function(V){return{$$typeof:x,_payload:{_status:-1,_result:V},_init:fe}},Se.memo=function(V,ie){return{$$typeof:p,type:V,compare:ie===void 0?null:ie}},Se.startTransition=function(V){var ie=C.T,ue={};C.T=ue;try{var me=V(),Te=C.S;Te!==null&&Te(ue,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(ae,Ie)}catch(Re){Ie(Re)}finally{ie!==null&&ue.types!==null&&(ie.types=ue.types),C.T=ie}},Se.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Se.use=function(V){return C.H.use(V)},Se.useActionState=function(V,ie,ue){return C.H.useActionState(V,ie,ue)},Se.useCallback=function(V,ie){return C.H.useCallback(V,ie)},Se.useContext=function(V){return C.H.useContext(V)},Se.useDebugValue=function(){},Se.useDeferredValue=function(V,ie){return C.H.useDeferredValue(V,ie)},Se.useEffect=function(V,ie){return C.H.useEffect(V,ie)},Se.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Se.useId=function(){return C.H.useId()},Se.useImperativeHandle=function(V,ie,ue){return C.H.useImperativeHandle(V,ie,ue)},Se.useInsertionEffect=function(V,ie){return C.H.useInsertionEffect(V,ie)},Se.useLayoutEffect=function(V,ie){return C.H.useLayoutEffect(V,ie)},Se.useMemo=function(V,ie){return C.H.useMemo(V,ie)},Se.useOptimistic=function(V,ie){return C.H.useOptimistic(V,ie)},Se.useReducer=function(V,ie,ue){return C.H.useReducer(V,ie,ue)},Se.useRef=function(V){return C.H.useRef(V)},Se.useState=function(V){return C.H.useState(V)},Se.useSyncExternalStore=function(V,ie,ue){return C.H.useSyncExternalStore(V,ie,ue)},Se.useTransition=function(){return C.H.useTransition()},Se.version="19.2.3",Se}var Pv;function ng(){return Pv||(Pv=1,tp.exports=rA()),tp.exports}var j=ng();const _=eA(j);var np={exports:{}},gc={},rp={exports:{}},ip={};var Uv;function iA(){return Uv||(Uv=1,(function(r){function e(J,F){var fe=J.length;J.push(F);e:for(;0<fe;){var Ie=fe-1>>>1,Be=J[Ie];if(0<o(Be,F))J[Ie]=F,J[fe]=Be,fe=Ie;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var F=J[0],fe=J.pop();if(fe!==F){J[0]=fe;e:for(var Ie=0,Be=J.length,V=Be>>>1;Ie<V;){var ie=2*(Ie+1)-1,ue=J[ie],me=ie+1,Te=J[me];if(0>o(ue,fe))me<Be&&0>o(Te,ue)?(J[Ie]=Te,J[me]=fe,Ie=me):(J[Ie]=ue,J[ie]=fe,Ie=ie);else if(me<Be&&0>o(Te,fe))J[Ie]=Te,J[me]=fe,Ie=me;else break e}}return F}function o(J,F){var fe=J.sortIndex-F.sortIndex;return fe!==0?fe:J.id-F.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],p=[],x=1,b=null,A=3,M=!1,G=!1,$=!1,K=!1,Z=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function z(J){for(var F=n(p);F!==null;){if(F.callback===null)s(p);else if(F.startTime<=J)s(p),F.sortIndex=F.expirationTime,e(g,F);else break;F=n(p)}}function le(J){if($=!1,z(J),!G)if(n(g)!==null)G=!0,ae||(ae=!0,P());else{var F=n(p);F!==null&&ft(le,F.startTime-J)}}var ae=!1,C=-1,R=5,k=-1;function N(){return K?!0:!(r.unstable_now()-k<R)}function L(){if(K=!1,ae){var J=r.unstable_now();k=J;var F=!0;try{e:{G=!1,$&&($=!1,Y(C),C=-1),M=!0;var fe=A;try{t:{for(z(J),b=n(g);b!==null&&!(b.expirationTime>J&&N());){var Ie=b.callback;if(typeof Ie=="function"){b.callback=null,A=b.priorityLevel;var Be=Ie(b.expirationTime<=J);if(J=r.unstable_now(),typeof Be=="function"){b.callback=Be,z(J),F=!0;break t}b===n(g)&&s(g),z(J)}else s(g);b=n(g)}if(b!==null)F=!0;else{var V=n(p);V!==null&&ft(le,V.startTime-J),F=!1}}break e}finally{b=null,A=fe,M=!1}F=void 0}}finally{F?P():ae=!1}}}var P;if(typeof oe=="function")P=function(){oe(L)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Xe=I.port2;I.port1.onmessage=L,P=function(){Xe.postMessage(null)}}else P=function(){Z(L,0)};function ft(J,F){C=Z(function(){J(r.unstable_now())},F)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(J){switch(A){case 1:case 2:case 3:var F=3;break;default:F=A}var fe=A;A=F;try{return J()}finally{A=fe}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(J,F){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var fe=A;A=J;try{return F()}finally{A=fe}},r.unstable_scheduleCallback=function(J,F,fe){var Ie=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ie+fe:Ie):fe=Ie,J){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=fe+Be,J={id:x++,callback:F,priorityLevel:J,startTime:fe,expirationTime:Be,sortIndex:-1},fe>Ie?(J.sortIndex=fe,e(p,J),n(g)===null&&J===n(p)&&($?(Y(C),C=-1):$=!0,ft(le,fe-Ie))):(J.sortIndex=Be,e(g,J),G||M||(G=!0,ae||(ae=!0,P()))),J},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(J){var F=A;return function(){var fe=A;A=F;try{return J.apply(this,arguments)}finally{A=fe}}}})(ip)),ip}var zv;function sA(){return zv||(zv=1,rp.exports=iA()),rp.exports}var sp={exports:{}},sn={};var Bv;function aA(){if(Bv)return sn;Bv=1;var r=ng();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,p,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:x}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(g,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(g,p,null,x)},sn.flushSync=function(g){var p=h.T,x=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=x,s.d.f()}},sn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},sn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},sn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var x=p.as,b=m(x,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:M}):x==="script"&&s.d.X(g,{crossOrigin:b,integrity:A,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},sn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,b=m(x,p.crossOrigin);s.d.L(g,x,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(g,p){if(typeof g=="string")if(p){var x=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},sn.requestFormReset=function(g){s.d.r(g)},sn.unstable_batchedUpdates=function(g,p){return g(p)},sn.useFormState=function(g,p,x){return h.H.useFormState(g,p,x)},sn.useFormStatus=function(){return h.H.useHostTransitionStatus()},sn.version="19.2.3",sn}var Hv;function oA(){if(Hv)return sp.exports;Hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sp.exports=aA(),sp.exports}var qv;function lA(){if(qv)return gc;qv=1;var r=sA(),e=ng(),n=oA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return g(d),t;if(f===l)return g(d),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var E=!1,S=d.child;S;){if(S===a){E=!0,a=d,l=f;break}if(S===l){E=!0,l=d,a=f;break}S=S.sibling}if(!E){for(S=f.child;S;){if(S===a){E=!0,a=f,l=d;break}if(S===l){E=!0,l=f,a=d;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function x(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=x(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case Z:return"Profiler";case K:return"StrictMode";case le:return"Suspense";case ae:return"SuspenseList";case k:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case oe:return t.displayName||"Context";case Y:return(t._context.displayName||"Context")+".Consumer";case z:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:Xe(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Xe(t(i))}catch{}}return null}var ft=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ie=[],Be=-1;function V(t){return{current:t}}function ie(t){0>Be||(t.current=Ie[Be],Ie[Be]=null,Be--)}function ue(t,i){Be++,Ie[Be]=t.current,t.current=i}var me=V(null),Te=V(null),Re=V(null),Ue=V(null);function Vt(t,i){switch(ue(Re,i),ue(Te,t),ue(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?iv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=iv(i),t=sv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ie(me),ue(me,t)}function ct(){ie(me),ie(Te),ie(Re)}function Ls(t){t.memoizedState!==null&&ue(Ue,t);var i=me.current,a=sv(i,t.type);i!==a&&(ue(Te,t),ue(me,a))}function qa(t){Te.current===t&&(ie(me),ie(Te)),Ue.current===t&&(ie(Ue),hc._currentValue=fe)}var Fa,Ga;function xr(t){if(Fa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Fa=i&&i[1]||"",Ga=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fa+t+Ga}var hl=!1;function Ds(t,i){if(!t||hl)return"";hl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var W=X}Reflect.construct(t,[],re)}else{try{re.call()}catch(X){W=X}t.call(re.prototype)}}else{try{throw Error()}catch(X){W=X}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&W&&typeof X.stack=="string")return[X.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),E=f[0],S=f[1];if(E&&S){var D=E.split(`
`),q=S.split(`
`);for(d=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(l===D.length||d===q.length)for(l=D.length-1,d=q.length-1;1<=l&&0<=d&&D[l]!==q[d];)d--;for(;1<=l&&0<=d;l--,d--)if(D[l]!==q[d]){if(l!==1||d!==1)do if(l--,d--,0>d||D[l]!==q[d]){var ee=`
`+D[l].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=l&&0<=d);break}}}finally{hl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?xr(a):""}function dl(t,i){switch(t.tag){case 26:case 27:case 5:return xr(t.type);case 16:return xr("Lazy");case 13:return t.child!==i&&i!==null?xr("Suspense Fallback"):xr("Suspense");case 19:return xr("SuspenseList");case 0:case 15:return Ds(t.type,!1);case 11:return Ds(t.type.render,!1);case 1:return Ds(t.type,!0);case 31:return xr("Activity");default:return""}}function fl(t){try{var i="",a=null;do i+=dl(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var St=Object.prototype.hasOwnProperty,Pt=r.unstable_scheduleCallback,Ci=r.unstable_cancelCallback,tf=r.unstable_shouldYield,tu=r.unstable_requestPaint,un=r.unstable_now,js=r.unstable_getCurrentPriorityLevel,ml=r.unstable_ImmediatePriority,pl=r.unstable_UserBlockingPriority,Ii=r.unstable_NormalPriority,nf=r.unstable_LowPriority,nu=r.unstable_IdlePriority,ru=r.log,iu=r.unstable_setDisableYieldValue,tr=null,$t=null;function Vn(t){if(typeof ru=="function"&&iu(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(tr,t)}catch{}}var _t=Math.clz32?Math.clz32:au,su=Math.log,Wa=Math.LN2;function au(t){return t>>>=0,t===0?32:31-(su(t)/Wa|0)|0}var Tr=256,Ms=262144,At=4194304;function br(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sr(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~f,l!==0?d=br(l):(E&=S,E!==0?d=br(E):a||(a=S&~t,a!==0&&(d=br(a))))):(S=l&~f,S!==0?d=br(S):E!==0?d=br(E):a||(a=l&~t,a!==0&&(d=br(a)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:d}function nr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function rf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function Ar(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Os(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function sf(t,i,a,l,d,f){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,q=t.hiddenUpdates;for(a=E&~a;0<a;){var ee=31-_t(a),re=1<<ee;S[ee]=0,D[ee]=-1;var W=q[ee];if(W!==null)for(q[ee]=null,ee=0;ee<W.length;ee++){var X=W[ee];X!==null&&(X.lane&=-536870913)}a&=~re}l!==0&&Vs(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(E&~i))}function Vs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-_t(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function gl(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-_t(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function yl(t,i){var a=i&-i;return a=(a&42)!==0?1:Ps(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Jr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lu(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:Rv(t.type))}function rr(t,i){var a=F.p;try{return F.p=t,i()}finally{F.p=a}}var ir=Math.random().toString(36).slice(2),wt="__reactFiber$"+ir,Bt="__reactProps$"+ir,wr="__reactContainer$"+ir,$a="__reactEvents$"+ir,af="__reactListeners$"+ir,cu="__reactHandles$"+ir,uu="__reactResources$"+ir,kr="__reactMarker$"+ir;function Ka(t){delete t[wt],delete t[Bt],delete t[$a],delete t[af],delete t[cu]}function Rr(t){var i=t[wt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[wr]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=dv(t);t!==null;){if(a=t[wt])return a;t=dv(t)}return i}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[wt]||t[wr]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function An(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Cr(t){var i=t[uu];return i||(i=t[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function kt(t){t[kr]=!0}var vl=new Set,_l={};function Ir(t,i){Nr(t,i),Nr(t+"Capture",i)}function Nr(t,i){for(_l[t]=i,t=0;t<i.length;t++)vl.add(i[t])}var El=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xl={},Tl={};function hu(t){return St.call(Tl,t)?!0:St.call(xl,t)?!1:El.test(t)?Tl[t]=!0:(xl[t]=!0,!1)}function Qa(t,i,a){if(hu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function wn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Rt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ni(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function bl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(E){a=""+E,f.call(this,E)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $e(t){if(!t._valueTracker){var i=Ni(t)?"checked":"value";t._valueTracker=bl(t,i,""+t[i])}}function Us(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ni(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Lr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zs=/[\n"\\]/g;function pn(t){return t.replace(zs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ya(t,i,a,l,d,f,E,S){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ht(i)):t.value!==""+Ht(i)&&(t.value=""+Ht(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Sl(t,E,Ht(i)):a!=null?Sl(t,E,Ht(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ht(S):t.removeAttribute("name")}function du(t,i,a,l,d,f,E,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){$e(t);return}a=a!=null?""+Ht(a):"",i=i!=null?""+Ht(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),$e(t)}function Sl(t,i,a){i==="number"&&Lr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Li(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function fu(t,i,a){if(i!=null&&(i=""+Ht(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ht(a):""}function Di(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ft(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ht(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function gn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Al(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||mu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function wl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&Al(t,d,l)}else for(var f in i)i.hasOwnProperty(f)&&Al(t,f,i[f])}function Xa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Za(t){return ji.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function sr(){}var kl=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mi=null,Dr=null;function Bs(t){var i=Pn(t);if(i&&(t=i.stateNode)){var a=t[Bt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ya(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[Bt]||null;if(!d)throw Error(s(90));Ya(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Us(l)}break e;case"textarea":fu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Li(t,!!a.multiple,i,!1)}}}var Ja=!1;function Oi(t,i,a){if(Ja)return t(i,a);Ja=!0;try{var l=t(i);return l}finally{if(Ja=!1,(Mi!==null||Dr!==null)&&(lh(),Mi&&(i=Mi,t=Dr,Dr=Mi=null,Bs(i),t)))for(i=0;i<t.length;i++)Bs(t[i])}}function ar(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Bt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hs=!1;if(zn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Hs=!1}var jr=null,Rl=null,qs=null;function Cl(){if(qs)return qs;var t,i=Rl,a=i.length,l,d="value"in jr?jr.value:jr.textContent,f=d.length;for(t=0;t<a&&i[t]===d[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===d[f-l];l++);return qs=d.slice(t,1<l?1-l:void 0)}function Fs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ei(){return!0}function or(){return!1}function Kt(t){function i(a,l,d,f,E){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=E,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ei:or,this.isPropagationStopped=or,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ei)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ei)},persist:function(){},isPersistent:ei}),i}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mr=Kt(ti),Vi=b({},ti,{view:0,detail:0}),Il=Kt(Vi),Pi,eo,Or,to=b({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ui,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Or&&(Or&&t.type==="mousemove"?(Pi=t.screenX-Or.screenX,eo=t.screenY-Or.screenY):eo=Pi=0,Or=t),Pi)},movementY:function(t){return"movementY"in t?t.movementY:eo}}),Nl=Kt(to),Gs=b({},to,{dataTransfer:0}),gu=Kt(Gs),yu=b({},Vi,{relatedTarget:0}),Ws=Kt(yu),Ll=b({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=Kt(Ll),no=b({},ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_u=Kt(no),Eu=b({},ti,{data:0}),Vr=Kt(Eu),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=bu[t])?!!i[t]:!1}function Ui(){return Su}var hn=b({},Vi,{key:function(t){if(t.key){var i=xu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Fs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ui,charCode:function(t){return t.type==="keypress"?Fs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Au=Kt(hn),wu=b({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ni=Kt(wu),u=b({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ui}),v=Kt(u),T=b({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Kt(T),B=b({},to,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Kt(B),ce=b({},ti,{newState:0,oldState:0}),we=Kt(ce),Et=[9,13,27,32],Fe=zn&&"CompositionEvent"in window,ut=null;zn&&"documentMode"in document&&(ut=document.documentMode);var Bn=zn&&"TextEvent"in window&&!ut,Pr=zn&&(!Fe||ut&&8<ut&&11>=ut),lr=" ",cr=!1;function $s(t,i){switch(t){case"keyup":return Et.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ro(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var io=!1;function Sb(t,i){switch(t){case"compositionend":return ro(i);case"keypress":return i.which!==32?null:(cr=!0,lr);case"textInput":return t=i.data,t===lr&&cr?null:t;default:return null}}function Ab(t,i){if(io)return t==="compositionend"||!Fe&&$s(t,i)?(t=Cl(),qs=Rl=jr=null,io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pr&&i.locale!=="ko"?null:i.data;default:return null}}var wb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p0(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!wb[t.type]:i==="textarea"}function g0(t,i,a,l){Mi?Dr?Dr.push(l):Dr=[l]:Mi=l,i=ph(i,"onChange"),0<i.length&&(a=new Mr("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Dl=null,jl=null;function kb(t){Z1(t,0)}function ku(t){var i=An(t);if(Us(i))return t}function y0(t,i){if(t==="change")return i}var v0=!1;if(zn){var of;if(zn){var lf="oninput"in document;if(!lf){var _0=document.createElement("div");_0.setAttribute("oninput","return;"),lf=typeof _0.oninput=="function"}of=lf}else of=!1;v0=of&&(!document.documentMode||9<document.documentMode)}function E0(){Dl&&(Dl.detachEvent("onpropertychange",x0),jl=Dl=null)}function x0(t){if(t.propertyName==="value"&&ku(jl)){var i=[];g0(i,jl,t,Un(t)),Oi(kb,i)}}function Rb(t,i,a){t==="focusin"?(E0(),Dl=i,jl=a,Dl.attachEvent("onpropertychange",x0)):t==="focusout"&&E0()}function Cb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(jl)}function Ib(t,i){if(t==="click")return ku(i)}function Nb(t,i){if(t==="input"||t==="change")return ku(i)}function Lb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var kn=typeof Object.is=="function"?Object.is:Lb;function Ml(t,i){if(kn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!St.call(i,d)||!kn(t[d],i[d]))return!1}return!0}function T0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function b0(t,i){var a=T0(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=T0(a)}}function S0(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?S0(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function A0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Lr(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Lr(t.document)}return i}function cf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Db=zn&&"documentMode"in document&&11>=document.documentMode,so=null,uf=null,Ol=null,hf=!1;function w0(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hf||so==null||so!==Lr(l)||(l=so,"selectionStart"in l&&cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ol&&Ml(Ol,l)||(Ol=l,l=ph(uf,"onSelect"),0<l.length&&(i=new Mr("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=so)))}function Ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ao={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},df={},k0={};zn&&(k0=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function Qs(t){if(df[t])return df[t];if(!ao[t])return t;var i=ao[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in k0)return df[t]=i[a];return t}var R0=Qs("animationend"),C0=Qs("animationiteration"),I0=Qs("animationstart"),jb=Qs("transitionrun"),Mb=Qs("transitionstart"),Ob=Qs("transitioncancel"),N0=Qs("transitionend"),L0=new Map,ff="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ff.push("scrollEnd");function ur(t,i){L0.set(t,i),Ir(i,[t])}var Ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],oo=0,mf=0;function Cu(){for(var t=oo,i=mf=oo=0;i<t;){var a=Hn[i];Hn[i++]=null;var l=Hn[i];Hn[i++]=null;var d=Hn[i];Hn[i++]=null;var f=Hn[i];if(Hn[i++]=null,l!==null&&d!==null){var E=l.pending;E===null?d.next=d:(d.next=E.next,E.next=d),l.pending=d}f!==0&&D0(a,d,f)}}function Iu(t,i,a,l){Hn[oo++]=t,Hn[oo++]=i,Hn[oo++]=a,Hn[oo++]=l,mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function pf(t,i,a,l){return Iu(t,i,a,l),Nu(t)}function Ys(t,i){return Iu(t,null,null,i),Nu(t)}function D0(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&i!==null&&(d=31-_t(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),f):null}function Nu(t){if(50<ic)throw ic=0,Sm=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var lo={};function Vb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,i,a,l){return new Vb(t,i,a,l)}function gf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ri(t,i){var a=t.alternate;return a===null?(a=Rn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function j0(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Lu(t,i,a,l,d,f){var E=0;if(l=t,typeof t=="function")gf(t)&&(E=1);else if(typeof t=="string")E=HS(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case k:return t=Rn(31,a,i,d),t.elementType=k,t.lanes=f,t;case $:return Xs(a.children,d,f,i);case K:E=8,d|=24;break;case Z:return t=Rn(12,a,i,d|2),t.elementType=Z,t.lanes=f,t;case le:return t=Rn(13,a,i,d),t.elementType=le,t.lanes=f,t;case ae:return t=Rn(19,a,i,d),t.elementType=ae,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oe:E=10;break e;case Y:E=9;break e;case z:E=11;break e;case C:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Rn(E,a,i,d),i.elementType=t,i.type=l,i.lanes=f,i}function Xs(t,i,a,l){return t=Rn(7,t,l,i),t.lanes=a,t}function yf(t,i,a){return t=Rn(6,t,null,i),t.lanes=a,t}function M0(t){var i=Rn(18,null,null,0);return i.stateNode=t,i}function vf(t,i,a){return i=Rn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var O0=new WeakMap;function qn(t,i){if(typeof t=="object"&&t!==null){var a=O0.get(t);return a!==void 0?a:(i={value:t,source:i,stack:fl(i)},O0.set(t,i),i)}return{value:t,source:i,stack:fl(i)}}var co=[],uo=0,Du=null,Vl=0,Fn=[],Gn=0,zi=null,Ur=1,zr="";function ii(t,i){co[uo++]=Vl,co[uo++]=Du,Du=t,Vl=i}function V0(t,i,a){Fn[Gn++]=Ur,Fn[Gn++]=zr,Fn[Gn++]=zi,zi=t;var l=Ur;t=zr;var d=32-_t(l)-1;l&=~(1<<d),a+=1;var f=32-_t(i)+d;if(30<f){var E=d-d%5;f=(l&(1<<E)-1).toString(32),l>>=E,d-=E,Ur=1<<32-_t(i)+d|a<<d|l,zr=f+t}else Ur=1<<f|a<<d|l,zr=t}function _f(t){t.return!==null&&(ii(t,1),V0(t,1,0))}function Ef(t){for(;t===Du;)Du=co[--uo],co[uo]=null,Vl=co[--uo],co[uo]=null;for(;t===zi;)zi=Fn[--Gn],Fn[Gn]=null,zr=Fn[--Gn],Fn[Gn]=null,Ur=Fn[--Gn],Fn[Gn]=null}function P0(t,i){Fn[Gn++]=Ur,Fn[Gn++]=zr,Fn[Gn++]=zi,Ur=i.id,zr=i.overflow,zi=t}var Qt=null,ot=null,Pe=!1,Bi=null,Wn=!1,xf=Error(s(519));function Hi(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(qn(i,t)),xf}function U0(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[wt]=t,i[Bt]=l,a){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(a=0;a<ac.length;a++)Le(ac[a],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),du(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),Di(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||nv(i.textContent,a)?(l.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),l.onScroll!=null&&Le("scroll",i),l.onScrollEnd!=null&&Le("scrollend",i),l.onClick!=null&&(i.onclick=sr),i=!0):i=!1,i||Hi(t,!0)}function z0(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Qt=Qt.return}}function ho(t){if(t!==Qt)return!1;if(!Pe)return z0(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Um(t.type,t.memoizedProps)),a=!a),a&&ot&&Hi(t),z0(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=hv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=hv(t)}else i===27?(i=ot,ns(t.type)?(t=Fm,Fm=null,ot=t):ot=i):ot=Qt?Kn(t.stateNode.nextSibling):null;return!0}function Zs(){ot=Qt=null,Pe=!1}function Tf(){var t=Bi;return t!==null&&(En===null?En=t:En.push.apply(En,t),Bi=null),t}function Pl(t){Bi===null?Bi=[t]:Bi.push(t)}var bf=V(null),Js=null,si=null;function qi(t,i,a){ue(bf,i._currentValue),i._currentValue=a}function ai(t){t._currentValue=bf.current,ie(bf)}function Sf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Af(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var E=d.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=d;for(var D=0;D<i.length;D++)if(S.context===i[D]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),Sf(f.return,a,t),l||(E=null);break e}f=S.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(s(341));E.lanes|=a,f=E.alternate,f!==null&&(f.lanes|=a),Sf(E,a,t),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===t){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function fo(t,i,a,l){t=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=d.type;kn(d.pendingProps.value,E.value)||(t!==null?t.push(S):t=[S])}}else if(d===Ue.current){if(E=d.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(hc):t=[hc])}d=d.return}t!==null&&Af(i,t,a,l),i.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){Js=t,si=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return B0(Js,t)}function Mu(t,i){return Js===null&&ea(t),B0(t,i)}function B0(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},si===null){if(t===null)throw Error(s(308));si=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else si=si.next=i;return a}var Pb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Ub=r.unstable_scheduleCallback,zb=r.unstable_NormalPriority,Ct={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wf(){return{controller:new Pb,data:new Map,refCount:0}}function Ul(t){t.refCount--,t.refCount===0&&Ub(zb,function(){t.controller.abort()})}var zl=null,kf=0,mo=0,po=null;function Bb(t,i){if(zl===null){var a=zl=[];kf=0,mo=Im(),po={status:"pending",value:void 0,then:function(l){a.push(l)}}}return kf++,i.then(H0,H0),i}function H0(){if(--kf===0&&zl!==null){po!==null&&(po.status="fulfilled");var t=zl;zl=null,mo=0,po=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Hb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var q0=J.S;J.S=function(t,i){w1=un(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Bb(t,i),q0!==null&&q0(t,i)};var ta=V(null);function Rf(){var t=ta.current;return t!==null?t:rt.pooledCache}function Ou(t,i){i===null?ue(ta,ta.current):ue(ta,i.pool)}function F0(){var t=Rf();return t===null?null:{parent:Ct._currentValue,pool:t}}var go=Error(s(460)),Cf=Error(s(474)),Vu=Error(s(542)),Pu={then:function(){}};function G0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function W0(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(sr,sr),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,K0(t),t;default:if(typeof i.status=="string")i.then(sr,sr);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,K0(t),t}throw ra=i,go}}function na(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ra=a,go):a}}var ra=null;function $0(){if(ra===null)throw Error(s(459));var t=ra;return ra=null,t}function K0(t){if(t===go||t===Vu)throw Error(s(483))}var yo=null,Bl=0;function Uu(t){var i=Bl;return Bl+=1,yo===null&&(yo=[]),W0(yo,t,i)}function Hl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function zu(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Q0(t){function i(U,O){if(t){var H=U.deletions;H===null?(U.deletions=[O],U.flags|=16):H.push(O)}}function a(U,O){if(!t)return null;for(;O!==null;)i(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function d(U,O){return U=ri(U,O),U.index=0,U.sibling=null,U}function f(U,O,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<O?(U.flags|=67108866,O):H):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function E(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function S(U,O,H,te){return O===null||O.tag!==6?(O=yf(H,U.mode,te),O.return=U,O):(O=d(O,H),O.return=U,O)}function D(U,O,H,te){var ye=H.type;return ye===$?ee(U,O,H.props.children,te,H.key):O!==null&&(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&na(ye)===O.type)?(O=d(O,H.props),Hl(O,H),O.return=U,O):(O=Lu(H.type,H.key,H.props,null,U.mode,te),Hl(O,H),O.return=U,O)}function q(U,O,H,te){return O===null||O.tag!==4||O.stateNode.containerInfo!==H.containerInfo||O.stateNode.implementation!==H.implementation?(O=vf(H,U.mode,te),O.return=U,O):(O=d(O,H.children||[]),O.return=U,O)}function ee(U,O,H,te,ye){return O===null||O.tag!==7?(O=Xs(H,U.mode,te,ye),O.return=U,O):(O=d(O,H),O.return=U,O)}function re(U,O,H){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=yf(""+O,U.mode,H),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case M:return H=Lu(O.type,O.key,O.props,null,U.mode,H),Hl(H,O),H.return=U,H;case G:return O=vf(O,U.mode,H),O.return=U,O;case R:return O=na(O),re(U,O,H)}if(ft(O)||P(O))return O=Xs(O,U.mode,H,null),O.return=U,O;if(typeof O.then=="function")return re(U,Uu(O),H);if(O.$$typeof===oe)return re(U,Mu(U,O),H);zu(U,O)}return null}function W(U,O,H,te){var ye=O!==null?O.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ye!==null?null:S(U,O,""+H,te);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case M:return H.key===ye?D(U,O,H,te):null;case G:return H.key===ye?q(U,O,H,te):null;case R:return H=na(H),W(U,O,H,te)}if(ft(H)||P(H))return ye!==null?null:ee(U,O,H,te,null);if(typeof H.then=="function")return W(U,O,Uu(H),te);if(H.$$typeof===oe)return W(U,O,Mu(U,H),te);zu(U,H)}return null}function X(U,O,H,te,ye){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return U=U.get(H)||null,S(O,U,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case M:return U=U.get(te.key===null?H:te.key)||null,D(O,U,te,ye);case G:return U=U.get(te.key===null?H:te.key)||null,q(O,U,te,ye);case R:return te=na(te),X(U,O,H,te,ye)}if(ft(te)||P(te))return U=U.get(H)||null,ee(O,U,te,ye,null);if(typeof te.then=="function")return X(U,O,H,Uu(te),ye);if(te.$$typeof===oe)return X(U,O,H,Mu(O,te),ye);zu(O,te)}return null}function pe(U,O,H,te){for(var ye=null,He=null,ge=O,Ce=O=0,je=null;ge!==null&&Ce<H.length;Ce++){ge.index>Ce?(je=ge,ge=null):je=ge.sibling;var qe=W(U,ge,H[Ce],te);if(qe===null){ge===null&&(ge=je);break}t&&ge&&qe.alternate===null&&i(U,ge),O=f(qe,O,Ce),He===null?ye=qe:He.sibling=qe,He=qe,ge=je}if(Ce===H.length)return a(U,ge),Pe&&ii(U,Ce),ye;if(ge===null){for(;Ce<H.length;Ce++)ge=re(U,H[Ce],te),ge!==null&&(O=f(ge,O,Ce),He===null?ye=ge:He.sibling=ge,He=ge);return Pe&&ii(U,Ce),ye}for(ge=l(ge);Ce<H.length;Ce++)je=X(ge,U,Ce,H[Ce],te),je!==null&&(t&&je.alternate!==null&&ge.delete(je.key===null?Ce:je.key),O=f(je,O,Ce),He===null?ye=je:He.sibling=je,He=je);return t&&ge.forEach(function(os){return i(U,os)}),Pe&&ii(U,Ce),ye}function _e(U,O,H,te){if(H==null)throw Error(s(151));for(var ye=null,He=null,ge=O,Ce=O=0,je=null,qe=H.next();ge!==null&&!qe.done;Ce++,qe=H.next()){ge.index>Ce?(je=ge,ge=null):je=ge.sibling;var os=W(U,ge,qe.value,te);if(os===null){ge===null&&(ge=je);break}t&&ge&&os.alternate===null&&i(U,ge),O=f(os,O,Ce),He===null?ye=os:He.sibling=os,He=os,ge=je}if(qe.done)return a(U,ge),Pe&&ii(U,Ce),ye;if(ge===null){for(;!qe.done;Ce++,qe=H.next())qe=re(U,qe.value,te),qe!==null&&(O=f(qe,O,Ce),He===null?ye=qe:He.sibling=qe,He=qe);return Pe&&ii(U,Ce),ye}for(ge=l(ge);!qe.done;Ce++,qe=H.next())qe=X(ge,U,Ce,qe.value,te),qe!==null&&(t&&qe.alternate!==null&&ge.delete(qe.key===null?Ce:qe.key),O=f(qe,O,Ce),He===null?ye=qe:He.sibling=qe,He=qe);return t&&ge.forEach(function(JS){return i(U,JS)}),Pe&&ii(U,Ce),ye}function tt(U,O,H,te){if(typeof H=="object"&&H!==null&&H.type===$&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case M:e:{for(var ye=H.key;O!==null;){if(O.key===ye){if(ye=H.type,ye===$){if(O.tag===7){a(U,O.sibling),te=d(O,H.props.children),te.return=U,U=te;break e}}else if(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&na(ye)===O.type){a(U,O.sibling),te=d(O,H.props),Hl(te,H),te.return=U,U=te;break e}a(U,O);break}else i(U,O);O=O.sibling}H.type===$?(te=Xs(H.props.children,U.mode,te,H.key),te.return=U,U=te):(te=Lu(H.type,H.key,H.props,null,U.mode,te),Hl(te,H),te.return=U,U=te)}return E(U);case G:e:{for(ye=H.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===H.containerInfo&&O.stateNode.implementation===H.implementation){a(U,O.sibling),te=d(O,H.children||[]),te.return=U,U=te;break e}else{a(U,O);break}else i(U,O);O=O.sibling}te=vf(H,U.mode,te),te.return=U,U=te}return E(U);case R:return H=na(H),tt(U,O,H,te)}if(ft(H))return pe(U,O,H,te);if(P(H)){if(ye=P(H),typeof ye!="function")throw Error(s(150));return H=ye.call(H),_e(U,O,H,te)}if(typeof H.then=="function")return tt(U,O,Uu(H),te);if(H.$$typeof===oe)return tt(U,O,Mu(U,H),te);zu(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,O!==null&&O.tag===6?(a(U,O.sibling),te=d(O,H),te.return=U,U=te):(a(U,O),te=yf(H,U.mode,te),te.return=U,U=te),E(U)):a(U,O)}return function(U,O,H,te){try{Bl=0;var ye=tt(U,O,H,te);return yo=null,ye}catch(ge){if(ge===go||ge===Vu)throw ge;var He=Rn(29,ge,null,U.mode);return He.lanes=te,He.return=U,He}}}var ia=Q0(!0),Y0=Q0(!1),Fi=!1;function If(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wi(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=Nu(t),D0(t,null,a),i}return Iu(t,l,i,a),Nu(t)}function ql(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,gl(t,a)}}function Lf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=E:f=f.next=E,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Df=!1;function Fl(){if(Df){var t=po;if(t!==null)throw t}}function Gl(t,i,a,l){Df=!1;var d=t.updateQueue;Fi=!1;var f=d.firstBaseUpdate,E=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var D=S,q=D.next;D.next=null,E===null?f=q:E.next=q,E=D;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==E&&(S===null?ee.firstBaseUpdate=q:S.next=q,ee.lastBaseUpdate=D))}if(f!==null){var re=d.baseState;E=0,ee=q=D=null,S=f;do{var W=S.lane&-536870913,X=W!==S.lane;if(X?(De&W)===W:(l&W)===W){W!==0&&W===mo&&(Df=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=t,_e=S;W=i;var tt=a;switch(_e.tag){case 1:if(pe=_e.payload,typeof pe=="function"){re=pe.call(tt,re,W);break e}re=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=_e.payload,W=typeof pe=="function"?pe.call(tt,re,W):pe,W==null)break e;re=b({},re,W);break e;case 2:Fi=!0}}W=S.callback,W!==null&&(t.flags|=64,X&&(t.flags|=8192),X=d.callbacks,X===null?d.callbacks=[W]:X.push(W))}else X={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(q=ee=X,D=re):ee=ee.next=X,E|=W;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;X=S,S=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);ee===null&&(D=re),d.baseState=D,d.firstBaseUpdate=q,d.lastBaseUpdate=ee,f===null&&(d.shared.lanes=0),Xi|=E,t.lanes=E,t.memoizedState=re}}function X0(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Z0(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)X0(a[t],i)}var vo=V(null),Bu=V(0);function J0(t,i){t=pi,ue(Bu,t),ue(vo,i),pi=t|i.baseLanes}function jf(){ue(Bu,pi),ue(vo,vo.current)}function Mf(){pi=Bu.current,ie(vo),ie(Bu)}var Cn=V(null),$n=null;function $i(t){var i=t.alternate;ue(xt,xt.current&1),ue(Cn,t),$n===null&&(i===null||vo.current!==null||i.memoizedState!==null)&&($n=t)}function Of(t){ue(xt,xt.current),ue(Cn,t),$n===null&&($n=t)}function ey(t){t.tag===22?(ue(xt,xt.current),ue(Cn,t),$n===null&&($n=t)):Ki()}function Ki(){ue(xt,xt.current),ue(Cn,Cn.current)}function In(t){ie(Cn),$n===t&&($n=null),ie(xt)}var xt=V(0);function Hu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Hm(a)||qm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var oi=0,ke=null,Je=null,It=null,qu=!1,_o=!1,sa=!1,Fu=0,Wl=0,Eo=null,qb=0;function pt(){throw Error(s(321))}function Vf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!kn(t[a],i[a]))return!1;return!0}function Pf(t,i,a,l,d,f){return oi=f,ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=t===null||t.memoizedState===null?Vy:Jf,sa=!1,f=a(l,d),sa=!1,_o&&(f=ny(i,a,l,d)),ty(t),f}function ty(t){J.H=Ql;var i=Je!==null&&Je.next!==null;if(oi=0,It=Je=ke=null,qu=!1,Wl=0,Eo=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&ju(t)&&(Nt=!0))}function ny(t,i,a,l){ke=t;var d=0;do{if(_o&&(Eo=null),Wl=0,_o=!1,25<=d)throw Error(s(301));if(d+=1,It=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}J.H=Py,f=i(a,l)}while(_o);return f}function Fb(){var t=J.H,i=t.useState()[0];return i=typeof i.then=="function"?$l(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(ke.flags|=1024),i}function Uf(){var t=Fu!==0;return Fu=0,t}function zf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Bf(t){if(qu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}qu=!1}oi=0,It=Je=ke=null,_o=!1,Wl=Fu=0,Eo=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?ke.memoizedState=It=t:It=It.next=t,It}function Tt(){if(Je===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=It===null?ke.memoizedState:It.next;if(i!==null)It=i,Je=t;else{if(t===null)throw ke.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},It===null?ke.memoizedState=It=t:It=It.next=t}return It}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(t){var i=Wl;return Wl+=1,Eo===null&&(Eo=[]),t=W0(Eo,t,i),i=ke,(It===null?i.memoizedState:It.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?Vy:Jf),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $l(t);if(t.$$typeof===oe)return Yt(t)}throw Error(s(438,String(t)))}function Hf(t){var i=null,a=ke.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Gu(),ke.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=N;return i.index++,a}function li(t,i){return typeof i=="function"?i(t):i}function $u(t){var i=Tt();return qf(i,Je,t)}function qf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var E=d.next;d.next=f.next,f.next=E}i.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{i=d.next;var S=E=null,D=null,q=i,ee=!1;do{var re=q.lane&-536870913;if(re!==q.lane?(De&re)===re:(oi&re)===re){var W=q.revertLane;if(W===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),re===mo&&(ee=!0);else if((oi&W)===W){q=q.next,W===mo&&(ee=!0);continue}else re={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(S=D=re,E=f):D=D.next=re,ke.lanes|=W,Xi|=W;re=q.action,sa&&a(f,re),f=q.hasEagerState?q.eagerState:a(f,re)}else W={lane:re,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(S=D=W,E=f):D=D.next=W,ke.lanes|=re,Xi|=re;q=q.next}while(q!==null&&q!==i);if(D===null?E=f:D.next=S,!kn(f,t.memoizedState)&&(Nt=!0,ee&&(a=po,a!==null)))throw a;t.memoizedState=f,t.baseState=E,t.baseQueue=D,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ff(t){var i=Tt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do f=t(f,E.action),E=E.next;while(E!==d);kn(f,i.memoizedState)||(Nt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function ry(t,i,a){var l=ke,d=Tt(),f=Pe;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!kn((Je||d).memoizedState,a);if(E&&(d.memoizedState=a,Nt=!0),d=d.queue,$f(ay.bind(null,l,d,t),[t]),d.getSnapshot!==i||E||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,xo(9,{destroy:void 0},sy.bind(null,l,d,a,i),null),rt===null)throw Error(s(349));f||(oi&127)!==0||iy(l,i,a)}return a}function iy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=ke.updateQueue,i===null?(i=Gu(),ke.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function sy(t,i,a,l){i.value=a,i.getSnapshot=l,oy(i)&&ly(t)}function ay(t,i,a){return a(function(){oy(i)&&ly(t)})}function oy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!kn(t,a)}catch{return!0}}function ly(t){var i=Ys(t,2);i!==null&&xn(i,t,2)}function Gf(t){var i=dn();if(typeof t=="function"){var a=t;if(t=a(),sa){Vn(!0);try{a()}finally{Vn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:t},i}function cy(t,i,a,l){return t.baseState=a,qf(t,Je,typeof l=="function"?l:li)}function Gb(t,i,a,l,d){if(Yu(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){f.listeners.push(E)}};J.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,uy(i,f)):(f.next=a.next,i.pending=a.next=f)}}function uy(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var f=J.T,E={};J.T=E;try{var S=a(d,l),D=J.S;D!==null&&D(E,S),hy(t,i,S)}catch(q){Wf(t,i,q)}finally{f!==null&&E.types!==null&&(f.types=E.types),J.T=f}}else try{f=a(d,l),hy(t,i,f)}catch(q){Wf(t,i,q)}}function hy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){dy(t,i,l)},function(l){return Wf(t,i,l)}):dy(t,i,a)}function dy(t,i,a){i.status="fulfilled",i.value=a,fy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,uy(t,a)))}function Wf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,fy(i),i=i.next;while(i!==l)}t.action=null}function fy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function my(t,i){return i}function py(t,i){if(Pe){var a=rt.formState;if(a!==null){e:{var l=ke;if(Pe){if(ot){t:{for(var d=ot,f=Wn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Kn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){ot=Kn(d.nextSibling),l=d.data==="F!";break e}}Hi(l)}l=!1}l&&(i=a[0])}}return a=dn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:my,lastRenderedState:i},a.queue=l,a=jy.bind(null,ke,l),l.dispatch=a,l=Gf(!1),f=Zf.bind(null,ke,!1,l.queue),l=dn(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=Gb.bind(null,ke,d,f,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function gy(t){var i=Tt();return yy(i,Je,t)}function yy(t,i,a){if(i=qf(t,i,my)[0],t=$u(li)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=$l(i)}catch(E){throw E===go?Vu:E}else l=i;i=Tt();var d=i.queue,f=d.dispatch;return a!==i.memoizedState&&(ke.flags|=2048,xo(9,{destroy:void 0},Wb.bind(null,d,a),null)),[l,f,t]}function Wb(t,i){t.action=i}function vy(t){var i=Tt(),a=Je;if(a!==null)return yy(i,a,t);Tt(),i=i.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function xo(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=ke.updateQueue,i===null&&(i=Gu(),ke.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function _y(){return Tt().memoizedState}function Ku(t,i,a,l){var d=dn();ke.flags|=t,d.memoizedState=xo(1|i,{destroy:void 0},a,l===void 0?null:l)}function Qu(t,i,a,l){var d=Tt();l=l===void 0?null:l;var f=d.memoizedState.inst;Je!==null&&l!==null&&Vf(l,Je.memoizedState.deps)?d.memoizedState=xo(i,f,a,l):(ke.flags|=t,d.memoizedState=xo(1|i,f,a,l))}function Ey(t,i){Ku(8390656,8,t,i)}function $f(t,i){Qu(2048,8,t,i)}function $b(t){ke.flags|=4;var i=ke.updateQueue;if(i===null)i=Gu(),ke.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function xy(t){var i=Tt().memoizedState;return $b({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ty(t,i){return Qu(4,2,t,i)}function by(t,i){return Qu(4,4,t,i)}function Sy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ay(t,i,a){a=a!=null?a.concat([t]):null,Qu(4,4,Sy.bind(null,i,t),a)}function Kf(){}function wy(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Vf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ky(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Vf(i,l[1]))return l[0];if(l=t(),sa){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,i],l}function Qf(t,i,a){return a===void 0||(oi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=R1(),ke.lanes|=t,Xi|=t,a)}function Ry(t,i,a,l){return kn(a,i)?a:vo.current!==null?(t=Qf(t,a,l),kn(t,i)||(Nt=!0),t):(oi&42)===0||(oi&1073741824)!==0&&(De&261930)===0?(Nt=!0,t.memoizedState=a):(t=R1(),ke.lanes|=t,Xi|=t,i)}function Cy(t,i,a,l,d){var f=F.p;F.p=f!==0&&8>f?f:8;var E=J.T,S={};J.T=S,Zf(t,!1,i,a);try{var D=d(),q=J.S;if(q!==null&&q(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ee=Hb(D,l);Kl(t,i,ee,Dn(t))}else Kl(t,i,l,Dn(t))}catch(re){Kl(t,i,{then:function(){},status:"rejected",reason:re},Dn())}finally{F.p=f,E!==null&&S.types!==null&&(E.types=S.types),J.T=E}}function Kb(){}function Yf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var d=Iy(t).queue;Cy(t,d,i,fe,a===null?Kb:function(){return Ny(t),a(l)})}function Iy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:fe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ny(t){var i=Iy(t);i.next===null&&(i=t.alternate.memoizedState),Kl(t,i.next.queue,{},Dn())}function Xf(){return Yt(hc)}function Ly(){return Tt().memoizedState}function Dy(){return Tt().memoizedState}function Qb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Dn();t=Gi(a);var l=Wi(i,t,a);l!==null&&(xn(l,i,a),ql(l,i,a)),i={cache:wf()},t.payload=i;return}i=i.return}}function Yb(t,i,a){var l=Dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(t)?My(i,a):(a=pf(t,i,a,l),a!==null&&(xn(a,t,l),Oy(a,i,l)))}function jy(t,i,a){var l=Dn();Kl(t,i,a,l)}function Kl(t,i,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))My(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var E=i.lastRenderedState,S=f(E,a);if(d.hasEagerState=!0,d.eagerState=S,kn(S,E))return Iu(t,i,d,0),rt===null&&Cu(),!1}catch{}if(a=pf(t,i,d,l),a!==null)return xn(a,t,l),Oy(a,i,l),!0}return!1}function Zf(t,i,a,l){if(l={lane:2,revertLane:Im(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(i)throw Error(s(479))}else i=pf(t,a,l,2),i!==null&&xn(i,t,2)}function Yu(t){var i=t.alternate;return t===ke||i!==null&&i===ke}function My(t,i){_o=qu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Oy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,gl(t,a)}}var Ql={readContext:Yt,use:Wu,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Ql.useEffectEvent=pt;var Vy={readContext:Yt,use:Wu,useCallback:function(t,i){return dn().memoizedState=[t,i===void 0?null:i],t},useContext:Yt,useEffect:Ey,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ku(4194308,4,Sy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ku(4194308,4,t,i)},useInsertionEffect:function(t,i){Ku(4,2,t,i)},useMemo:function(t,i){var a=dn();i=i===void 0?null:i;var l=t();if(sa){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=dn();if(a!==void 0){var d=a(i);if(sa){Vn(!0);try{a(i)}finally{Vn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=Yb.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var i=dn();return t={current:t},i.memoizedState=t},useState:function(t){t=Gf(t);var i=t.queue,a=jy.bind(null,ke,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Kf,useDeferredValue:function(t,i){var a=dn();return Qf(a,t,i)},useTransition:function(){var t=Gf(!1);return t=Cy.bind(null,ke,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=ke,d=dn();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),rt===null)throw Error(s(349));(De&127)!==0||iy(l,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,Ey(ay.bind(null,l,f,t),[t]),l.flags|=2048,xo(9,{destroy:void 0},sy.bind(null,l,f,a,i),null),a},useId:function(){var t=dn(),i=rt.identifierPrefix;if(Pe){var a=zr,l=Ur;a=(l&~(1<<32-_t(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Fu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=qb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Xf,useFormState:py,useActionState:py,useOptimistic:function(t){var i=dn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Zf.bind(null,ke,!0,a),a.dispatch=i,[t,i]},useMemoCache:Hf,useCacheRefresh:function(){return dn().memoizedState=Qb.bind(null,ke)},useEffectEvent:function(t){var i=dn(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Jf={readContext:Yt,use:Wu,useCallback:wy,useContext:Yt,useEffect:$f,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:by,useMemo:ky,useReducer:$u,useRef:_y,useState:function(){return $u(li)},useDebugValue:Kf,useDeferredValue:function(t,i){var a=Tt();return Ry(a,Je.memoizedState,t,i)},useTransition:function(){var t=$u(li)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:$l(t),i]},useSyncExternalStore:ry,useId:Ly,useHostTransitionStatus:Xf,useFormState:gy,useActionState:gy,useOptimistic:function(t,i){var a=Tt();return cy(a,Je,t,i)},useMemoCache:Hf,useCacheRefresh:Dy};Jf.useEffectEvent=xy;var Py={readContext:Yt,use:Wu,useCallback:wy,useContext:Yt,useEffect:$f,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:by,useMemo:ky,useReducer:Ff,useRef:_y,useState:function(){return Ff(li)},useDebugValue:Kf,useDeferredValue:function(t,i){var a=Tt();return Je===null?Qf(a,t,i):Ry(a,Je.memoizedState,t,i)},useTransition:function(){var t=Ff(li)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:$l(t),i]},useSyncExternalStore:ry,useId:Ly,useHostTransitionStatus:Xf,useFormState:vy,useActionState:vy,useOptimistic:function(t,i){var a=Tt();return Je!==null?cy(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Hf,useCacheRefresh:Dy};Py.useEffectEvent=xy;function em(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var tm={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Dn(),d=Gi(l);d.payload=i,a!=null&&(d.callback=a),i=Wi(t,d,l),i!==null&&(xn(i,t,l),ql(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Dn(),d=Gi(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Wi(t,d,l),i!==null&&(xn(i,t,l),ql(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Dn(),l=Gi(a);l.tag=2,i!=null&&(l.callback=i),i=Wi(t,l,a),i!==null&&(xn(i,t,a),ql(i,t,a))}};function Uy(t,i,a,l,d,f,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,E):i.prototype&&i.prototype.isPureReactComponent?!Ml(a,l)||!Ml(d,f):!0}function zy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&tm.enqueueReplaceState(i,i.state,null)}function aa(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function By(t){Ru(t)}function Hy(t){console.error(t)}function qy(t){Ru(t)}function Xu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Fy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function nm(t,i,a){return a=Gi(a),a.tag=3,a.payload={element:null},a.callback=function(){Xu(t,i)},a}function Gy(t){return t=Gi(t),t.tag=3,t}function Wy(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){Fy(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Fy(i,a,l),typeof d!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Xb(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&fo(i,a,d,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return $n===null?ch():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Pu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),km(t,l,d)),!1;case 22:return a.flags|=65536,l===Pu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),km(t,l,d)),!1}throw Error(s(435,a.tag))}return km(t,l,d),ch(),!1}if(Pe)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==xf&&(t=Error(s(422),{cause:l}),Pl(qn(t,a)))):(l!==xf&&(i=Error(s(423),{cause:l}),Pl(qn(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=qn(l,a),d=nm(t.stateNode,l,d),Lf(t,d),gt!==4&&(gt=2)),!1;var f=Error(s(520),{cause:l});if(f=qn(f,a),rc===null?rc=[f]:rc.push(f),gt!==4&&(gt=2),i===null)return!0;l=qn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=nm(a.stateNode,l,t),Lf(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zi===null||!Zi.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Gy(d),Wy(d,t,a,l),Lf(a,d),!1}a=a.return}while(a!==null);return!1}var rm=Error(s(461)),Nt=!1;function Xt(t,i,a,l){i.child=t===null?Y0(i,null,a,l):ia(i,t.child,a,l)}function $y(t,i,a,l,d){a=a.render;var f=i.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return ea(i),l=Pf(t,i,a,E,f,d),S=Uf(),t!==null&&!Nt?(zf(t,i,d),ci(t,i,d)):(Pe&&S&&_f(i),i.flags|=1,Xt(t,i,l,d),i.child)}function Ky(t,i,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!gf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Qy(t,i,f,l,d)):(t=Lu(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!hm(t,d)){var E=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ml,a(E,l)&&t.ref===i.ref)return ci(t,i,d)}return i.flags|=1,t=ri(f,l),t.ref=i.ref,t.return=i,i.child=t}function Qy(t,i,a,l,d){if(t!==null){var f=t.memoizedProps;if(Ml(f,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=f,hm(t,d))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,ci(t,i,d)}return im(t,i,a,l,d)}function Yy(t,i,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,i.child=null;return Xy(t,i,f,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(i,f!==null?f.cachePool:null),f!==null?J0(i,f):jf(),ey(i);else return l=i.lanes=536870912,Xy(t,i,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Ou(i,f.cachePool),J0(i,f),Ki(),i.memoizedState=null):(t!==null&&Ou(i,null),jf(),Ki());return Xt(t,i,d,a),i.child}function Yl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Xy(t,i,a,l,d){var f=Rf();return f=f===null?null:{parent:Ct._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Ou(i,null),jf(),ey(i),t!==null&&fo(t,i,l,!0),i.childLanes=d,null}function Zu(t,i){return i=eh({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Zy(t,i,a){return ia(i,t.child,null,a),t=Zu(i,i.pendingProps),t.flags|=2,In(i),i.memoizedState=null,t}function Zb(t,i,a){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Zu(i,l),i.lanes=536870912,Yl(null,t);if(Of(i),(t=ot)?(t=uv(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:zi!==null?{id:Ur,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},a=M0(t),a.return=i,i.child=a,Qt=i,ot=null)):t=null,t===null)throw Hi(i);return i.lanes=536870912,null}return Zu(i,l)}var f=t.memoizedState;if(f!==null){var E=f.dehydrated;if(Of(i),d)if(i.flags&256)i.flags&=-257,i=Zy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Nt||fo(t,i,a,!1),d=(a&t.childLanes)!==0,Nt||d){if(l=rt,l!==null&&(E=yl(l,a),E!==0&&E!==f.retryLane))throw f.retryLane=E,Ys(t,E),xn(l,t,E),rm;ch(),i=Zy(t,i,a)}else t=f.treeContext,ot=Kn(E.nextSibling),Qt=i,Pe=!0,Bi=null,Wn=!1,t!==null&&P0(i,t),i=Zu(i,l),i.flags|=4096;return i}return t=ri(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ju(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function im(t,i,a,l,d){return ea(i),a=Pf(t,i,a,l,void 0,d),l=Uf(),t!==null&&!Nt?(zf(t,i,d),ci(t,i,d)):(Pe&&l&&_f(i),i.flags|=1,Xt(t,i,a,d),i.child)}function Jy(t,i,a,l,d,f){return ea(i),i.updateQueue=null,a=ny(i,l,a,d),ty(t),l=Uf(),t!==null&&!Nt?(zf(t,i,f),ci(t,i,f)):(Pe&&l&&_f(i),i.flags|=1,Xt(t,i,a,f),i.child)}function e1(t,i,a,l,d){if(ea(i),i.stateNode===null){var f=lo,E=a.contextType;typeof E=="object"&&E!==null&&(f=Yt(E)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=tm,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},If(i),E=a.contextType,f.context=typeof E=="object"&&E!==null?Yt(E):lo,f.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(em(i,a,E,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(E=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),E!==f.state&&tm.enqueueReplaceState(f,f.state,null),Gl(i,l,f,d),Fl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var S=i.memoizedProps,D=aa(a,S);f.props=D;var q=f.context,ee=a.contextType;E=lo,typeof ee=="object"&&ee!==null&&(E=Yt(ee));var re=a.getDerivedStateFromProps;ee=typeof re=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,ee||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||q!==E)&&zy(i,f,l,E),Fi=!1;var W=i.memoizedState;f.state=W,Gl(i,l,f,d),Fl(),q=i.memoizedState,S||W!==q||Fi?(typeof re=="function"&&(em(i,a,re,l),q=i.memoizedState),(D=Fi||Uy(i,a,D,l,W,q,E))?(ee||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),f.props=l,f.state=q,f.context=E,l=D):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Nf(t,i),E=i.memoizedProps,ee=aa(a,E),f.props=ee,re=i.pendingProps,W=f.context,q=a.contextType,D=lo,typeof q=="object"&&q!==null&&(D=Yt(q)),S=a.getDerivedStateFromProps,(q=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E!==re||W!==D)&&zy(i,f,l,D),Fi=!1,W=i.memoizedState,f.state=W,Gl(i,l,f,d),Fl();var X=i.memoizedState;E!==re||W!==X||Fi||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof S=="function"&&(em(i,a,S,l),X=i.memoizedState),(ee=Fi||Uy(i,a,ee,l,W,X,D)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,X,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,X,D)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),f.props=l,f.state=X,f.context=D,l=ee):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,Ju(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=ia(i,t.child,null,d),i.child=ia(i,null,a,d)):Xt(t,i,a,d),i.memoizedState=f.state,t=i.child):t=ci(t,i,d),t}function t1(t,i,a,l){return Zs(),i.flags|=256,Xt(t,i,a,l),i.child}var sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function am(t){return{baseLanes:t,cachePool:F0()}}function om(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Ln),t}function n1(t,i,a){var l=i.pendingProps,d=!1,f=(i.flags&128)!==0,E;if((E=f)||(E=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),E&&(d=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(d?$i(i):Ki(),(t=ot)?(t=uv(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:zi!==null?{id:Ur,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},a=M0(t),a.return=i,i.child=a,Qt=i,ot=null)):t=null,t===null)throw Hi(i);return qm(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,d?(Ki(),d=i.mode,S=eh({mode:"hidden",children:S},d),l=Xs(l,d,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=am(a),l.childLanes=om(t,E,a),i.memoizedState=sm,Yl(null,l)):($i(i),lm(i,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(f)i.flags&256?($i(i),i.flags&=-257,i=cm(t,i,a)):i.memoizedState!==null?(Ki(),i.child=t.child,i.flags|=128,i=null):(Ki(),S=l.fallback,d=i.mode,l=eh({mode:"visible",children:l.children},d),S=Xs(S,d,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,ia(i,t.child,null,a),l=i.child,l.memoizedState=am(a),l.childLanes=om(t,E,a),i.memoizedState=sm,i=Yl(null,l));else if($i(i),qm(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var q=E.dgst;E=q,l=Error(s(419)),l.stack="",l.digest=E,Pl({value:l,source:null,stack:null}),i=cm(t,i,a)}else if(Nt||fo(t,i,a,!1),E=(a&t.childLanes)!==0,Nt||E){if(E=rt,E!==null&&(l=yl(E,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ys(t,l),xn(E,t,l),rm;Hm(S)||ch(),i=cm(t,i,a)}else Hm(S)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,ot=Kn(S.nextSibling),Qt=i,Pe=!0,Bi=null,Wn=!1,t!==null&&P0(i,t),i=lm(i,l.children),i.flags|=4096);return i}return d?(Ki(),S=l.fallback,d=i.mode,D=t.child,q=D.sibling,l=ri(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?S=ri(q,S):(S=Xs(S,d,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Yl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=am(a):(d=S.cachePool,d!==null?(D=Ct._currentValue,d=d.parent!==D?{parent:D,pool:D}:d):d=F0(),S={baseLanes:S.baseLanes|a,cachePool:d}),l.memoizedState=S,l.childLanes=om(t,E,a),i.memoizedState=sm,Yl(t.child,l)):($i(i),a=t.child,t=a.sibling,a=ri(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function lm(t,i){return i=eh({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function eh(t,i){return t=Rn(22,t,null,i),t.lanes=0,t}function cm(t,i,a){return ia(i,t.child,null,a),t=lm(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function r1(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Sf(t.return,i,a)}function um(t,i,a,l,d,f){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=a,E.tailMode=d,E.treeForkCount=f)}function i1(t,i,a){var l=i.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var E=xt.current,S=(E&2)!==0;if(S?(E=E&1|2,i.flags|=128):E&=1,ue(xt,E),Xt(t,i,l,a),l=Pe?Vl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&r1(t,a,i);else if(t.tag===19)r1(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&Hu(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),um(i,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Hu(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}um(i,!0,a,null,f,l);break;case"together":um(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ci(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Xi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(fo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ri(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ri(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function hm(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function Jb(t,i,a){switch(i.tag){case 3:Vt(i,i.stateNode.containerInfo),qi(i,Ct,t.memoizedState.cache),Zs();break;case 27:case 5:Ls(i);break;case 4:Vt(i,i.stateNode.containerInfo);break;case 10:qi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Of(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?($i(i),i.flags|=128,null):(a&i.child.childLanes)!==0?n1(t,i,a):($i(i),t=ci(t,i,a),t!==null?t.sibling:null);$i(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(fo(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return i1(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ue(xt,xt.current),l)break;return null;case 22:return i.lanes=0,Yy(t,i,a,i.pendingProps);case 24:qi(i,Ct,t.memoizedState.cache)}return ci(t,i,a)}function s1(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!hm(t,a)&&(i.flags&128)===0)return Nt=!1,Jb(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,Pe&&(i.flags&1048576)!==0&&V0(i,Vl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=na(i.elementType),i.type=t,typeof t=="function")gf(t)?(l=aa(t,l),i.tag=1,i=e1(null,i,t,l,a)):(i.tag=0,i=im(null,i,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===z){i.tag=11,i=$y(null,i,t,l,a);break e}else if(d===C){i.tag=14,i=Ky(null,i,t,l,a);break e}}throw i=Xe(t)||t,Error(s(306,i,""))}}return i;case 0:return im(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=aa(l,i.pendingProps),e1(t,i,l,d,a);case 3:e:{if(Vt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;d=f.element,Nf(t,i),Gl(i,l,null,a);var E=i.memoizedState;if(l=E.cache,qi(i,Ct,l),l!==f.cache&&Af(i,[Ct],a,!0),Fl(),l=E.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=t1(t,i,l,a);break e}else if(l!==d){d=qn(Error(s(424)),i),Pl(d),i=t1(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ot=Kn(t.firstChild),Qt=i,Pe=!0,Bi=null,Wn=!0,a=Y0(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Zs(),l===d){i=ci(t,i,a);break e}Xt(t,i,l,a)}i=i.child}return i;case 26:return Ju(t,i),t===null?(a=gv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=gh(Re.current).createElement(a),l[wt]=i,l[Bt]=t,Zt(l,a,t),kt(l),i.stateNode=l):i.memoizedState=gv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ls(i),t===null&&Pe&&(l=i.stateNode=fv(i.type,i.pendingProps,Re.current),Qt=i,Wn=!0,d=ot,ns(i.type)?(Fm=d,ot=Kn(l.firstChild)):ot=d),Xt(t,i,i.pendingProps.children,a),Ju(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((d=l=ot)&&(l=CS(l,i.type,i.pendingProps,Wn),l!==null?(i.stateNode=l,Qt=i,ot=Kn(l.firstChild),Wn=!1,d=!0):d=!1),d||Hi(i)),Ls(i),d=i.type,f=i.pendingProps,E=t!==null?t.memoizedProps:null,l=f.children,Um(d,f)?l=null:E!==null&&Um(d,E)&&(i.flags|=32),i.memoizedState!==null&&(d=Pf(t,i,Fb,null,null,a),hc._currentValue=d),Ju(t,i),Xt(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=ot)&&(a=IS(a,i.pendingProps,Wn),a!==null?(i.stateNode=a,Qt=i,ot=null,t=!0):t=!1),t||Hi(i)),null;case 13:return n1(t,i,a);case 4:return Vt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ia(i,null,l,a):Xt(t,i,l,a),i.child;case 11:return $y(t,i,i.type,i.pendingProps,a);case 7:return Xt(t,i,i.pendingProps,a),i.child;case 8:return Xt(t,i,i.pendingProps.children,a),i.child;case 12:return Xt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,qi(i,i.type,l.value),Xt(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,ea(i),d=Yt(d),l=l(d),i.flags|=1,Xt(t,i,l,a),i.child;case 14:return Ky(t,i,i.type,i.pendingProps,a);case 15:return Qy(t,i,i.type,i.pendingProps,a);case 19:return i1(t,i,a);case 31:return Zb(t,i,a);case 22:return Yy(t,i,a,i.pendingProps);case 24:return ea(i),l=Yt(Ct),t===null?(d=Rf(),d===null&&(d=rt,f=wf(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),i.memoizedState={parent:l,cache:d},If(i),qi(i,Ct,d)):((t.lanes&a)!==0&&(Nf(t,i),Gl(i,null,null,a),Fl()),d=t.memoizedState,f=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),qi(i,Ct,l)):(l=f.cache,qi(i,Ct,l),l!==d.cache&&Af(i,[Ct],a,!0))),Xt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ui(t){t.flags|=4}function dm(t,i,a,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(L1())t.flags|=8192;else throw ra=Pu,Cf}else t.flags&=-16777217}function a1(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!xv(i))if(L1())t.flags|=8192;else throw ra=Pu,Cf}function th(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ou():536870912,t.lanes|=i,Ao|=i)}function Xl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function eS(t,i,a){var l=i.pendingProps;switch(Ef(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ai(Ct),ct(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ho(i)?ui(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tf())),lt(i),null;case 26:var d=i.type,f=i.memoizedState;return t===null?(ui(i),f!==null?(lt(i),a1(i,f)):(lt(i),dm(i,d,null,l,a))):f?f!==t.memoizedState?(ui(i),lt(i),a1(i,f)):(lt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ui(i),lt(i),dm(i,d,t,l,a)),null;case 27:if(qa(i),a=Re.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}t=me.current,ho(i)?U0(i):(t=fv(d,l,a),i.stateNode=t,ui(i))}return lt(i),null;case 5:if(qa(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}if(f=me.current,ho(i))U0(i);else{var E=gh(Re.current);switch(f){case 1:f=E.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=E.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=E.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?E.createElement(d,{is:l.is}):E.createElement(d)}}f[wt]=i,f[Bt]=l;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)f.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=f;e:switch(Zt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ui(i)}}return lt(i),dm(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Re.current,ho(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=Qt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[wt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||nv(t.nodeValue,a)),t||Hi(i,!0)}else t=gh(t).createTextNode(l),t[wt]=i,i.stateNode=t}return lt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=ho(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[wt]=i}else Zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),t=!1}else a=Tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(In(i),i):(In(i),null);if((i.flags&128)!==0)throw Error(s(558))}return lt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=ho(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[wt]=i}else Zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),d=!1}else d=Tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(In(i),i):(In(i),null)}return In(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),th(i,i.updateQueue),lt(i),null);case 4:return ct(),t===null&&jm(i.stateNode.containerInfo),lt(i),null;case 10:return ai(i.type),lt(i),null;case 19:if(ie(xt),l=i.memoizedState,l===null)return lt(i),null;if(d=(i.flags&128)!==0,f=l.rendering,f===null)if(d)Xl(l,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Hu(t),f!==null){for(i.flags|=128,Xl(l,!1),t=f.updateQueue,i.updateQueue=t,th(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)j0(a,t),a=a.sibling;return ue(xt,xt.current&1|2),Pe&&ii(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&un()>ah&&(i.flags|=128,d=!0,Xl(l,!1),i.lanes=4194304)}else{if(!d)if(t=Hu(f),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,th(i,t),Xl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Pe)return lt(i),null}else 2*un()-l.renderingStartTime>ah&&a!==536870912&&(i.flags|=128,d=!0,Xl(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(t=l.last,t!==null?t.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=un(),t.sibling=null,a=xt.current,ue(xt,d?a&1|2:a&1),Pe&&ii(i,l.treeForkCount),t):(lt(i),null);case 22:case 23:return In(i),Mf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&th(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ie(ta),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ai(Ct),lt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function tS(t,i){switch(Ef(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ai(Ct),ct(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return qa(i),null;case 31:if(i.memoizedState!==null){if(In(i),i.alternate===null)throw Error(s(340));Zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(In(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ie(xt),null;case 4:return ct(),null;case 10:return ai(i.type),null;case 22:case 23:return In(i),Mf(),t!==null&&ie(ta),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ai(Ct),null;case 25:return null;default:return null}}function o1(t,i){switch(Ef(i),i.tag){case 3:ai(Ct),ct();break;case 26:case 27:case 5:qa(i);break;case 4:ct();break;case 31:i.memoizedState!==null&&In(i);break;case 13:In(i);break;case 19:ie(xt);break;case 10:ai(i.type);break;case 22:case 23:In(i),Mf(),t!==null&&ie(ta);break;case 24:ai(Ct)}}function Zl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,E=a.inst;l=f(),E.destroy=l}a=a.next}while(a!==d)}}catch(S){Qe(i,i.return,S)}}function Qi(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,d=i;var D=a,q=S;try{q()}catch(ee){Qe(d,D,ee)}}}l=l.next}while(l!==f)}}catch(ee){Qe(i,i.return,ee)}}function l1(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Z0(i,a)}catch(l){Qe(t,t.return,l)}}}function c1(t,i,a){a.props=aa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(t,i,l)}}function Jl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){Qe(t,i,d)}}function Br(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Qe(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Qe(t,i,d)}else a.current=null}function u1(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Qe(t,t.return,d)}}function fm(t,i,a){try{var l=t.stateNode;bS(l,t.type,a,i),l[Bt]=i}catch(d){Qe(t,t.return,d)}}function h1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ns(t.type)||t.tag===4}function mm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||h1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ns(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pm(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=sr));else if(l!==4&&(l===27&&ns(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(pm(t,i,a),t=t.sibling;t!==null;)pm(t,i,a),t=t.sibling}function nh(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&ns(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(nh(t,i,a),t=t.sibling;t!==null;)nh(t,i,a),t=t.sibling}function d1(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Zt(i,l,a),i[wt]=t,i[Bt]=a}catch(f){Qe(t,t.return,f)}}var hi=!1,Lt=!1,gm=!1,f1=typeof WeakSet=="function"?WeakSet:Set,qt=null;function nS(t,i){if(t=t.containerInfo,Vm=bh,t=A0(t),cf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var E=0,S=-1,D=-1,q=0,ee=0,re=t,W=null;t:for(;;){for(var X;re!==a||d!==0&&re.nodeType!==3||(S=E+d),re!==f||l!==0&&re.nodeType!==3||(D=E+l),re.nodeType===3&&(E+=re.nodeValue.length),(X=re.firstChild)!==null;)W=re,re=X;for(;;){if(re===t)break t;if(W===a&&++q===d&&(S=E),W===f&&++ee===l&&(D=E),(X=re.nextSibling)!==null)break;re=W,W=re.parentNode}re=X}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pm={focusedElem:t,selectionRange:a},bh=!1,qt=i;qt!==null;)if(i=qt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,qt=t;else for(;qt!==null;){switch(i=qt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var pe=aa(a.type,d);t=l.getSnapshotBeforeUpdate(pe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Qe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Bm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,qt=t;break}qt=i.return}}function m1(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fi(t,a),l&4&&Zl(5,a);break;case 1:if(fi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(E){Qe(a,a.return,E)}else{var d=aa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Qe(a,a.return,E)}}l&64&&l1(a),l&512&&Jl(a,a.return);break;case 3:if(fi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Z0(t,i)}catch(E){Qe(a,a.return,E)}}break;case 27:i===null&&l&4&&d1(a);case 26:case 5:fi(t,a),i===null&&l&4&&u1(a),l&512&&Jl(a,a.return);break;case 12:fi(t,a);break;case 31:fi(t,a),l&4&&y1(t,a);break;case 13:fi(t,a),l&4&&v1(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=hS.bind(null,a),NS(t,a))));break;case 22:if(l=a.memoizedState!==null||hi,!l){i=i!==null&&i.memoizedState!==null||Lt,d=hi;var f=Lt;hi=l,(Lt=i)&&!f?mi(t,a,(a.subtreeFlags&8772)!==0):fi(t,a),hi=d,Lt=f}break;case 30:break;default:fi(t,a)}}function p1(t){var i=t.alternate;i!==null&&(t.alternate=null,p1(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ka(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,yn=!1;function di(t,i,a){for(a=a.child;a!==null;)g1(t,i,a),a=a.sibling}function g1(t,i,a){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(tr,a)}catch{}switch(a.tag){case 26:Lt||Br(a,i),di(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||Br(a,i);var l=ht,d=yn;ns(a.type)&&(ht=a.stateNode,yn=!1),di(t,i,a),lc(a.stateNode),ht=l,yn=d;break;case 5:Lt||Br(a,i);case 6:if(l=ht,d=yn,ht=null,di(t,i,a),ht=l,yn=d,ht!==null)if(yn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(f){Qe(a,i,f)}else try{ht.removeChild(a.stateNode)}catch(f){Qe(a,i,f)}break;case 18:ht!==null&&(yn?(t=ht,lv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Do(t)):lv(ht,a.stateNode));break;case 4:l=ht,d=yn,ht=a.stateNode.containerInfo,yn=!0,di(t,i,a),ht=l,yn=d;break;case 0:case 11:case 14:case 15:Qi(2,a,i),Lt||Qi(4,a,i),di(t,i,a);break;case 1:Lt||(Br(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&c1(a,i,l)),di(t,i,a);break;case 21:di(t,i,a);break;case 22:Lt=(l=Lt)||a.memoizedState!==null,di(t,i,a),Lt=l;break;default:di(t,i,a)}}function y1(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Do(t)}catch(a){Qe(i,i.return,a)}}}function v1(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Do(t)}catch(a){Qe(i,i.return,a)}}function rS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new f1),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new f1),i;default:throw Error(s(435,t.tag))}}function rh(t,i){var a=rS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var d=dS.bind(null,t,l);l.then(d,d)}})}function vn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,E=i,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(ns(S.type)){ht=S.stateNode,yn=!1;break e}break;case 5:ht=S.stateNode,yn=!1;break e;case 3:case 4:ht=S.stateNode.containerInfo,yn=!0;break e}S=S.return}if(ht===null)throw Error(s(160));g1(f,E,d),ht=null,yn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)_1(i,t),i=i.sibling}var hr=null;function _1(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(i,t),_n(t),l&4&&(Qi(3,t,t.return),Zl(3,t),Qi(5,t,t.return));break;case 1:vn(i,t),_n(t),l&512&&(Lt||a===null||Br(a,a.return)),l&64&&hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=hr;if(vn(i,t),_n(t),l&512&&(Lt||a===null||Br(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[kr]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Zt(f,l,a),f[wt]=t,kt(f),l=f;break e;case"link":var E=_v("link","href",d).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(f=E[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}f=d.createElement(l),Zt(f,l,a),d.head.appendChild(f);break;case"meta":if(E=_v("meta","content",d).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(f=E[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}f=d.createElement(l),Zt(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[wt]=t,kt(f),l=f}t.stateNode=l}else Ev(d,t.type,t.stateNode);else t.stateNode=vv(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Ev(d,t.type,t.stateNode):vv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&fm(t,t.memoizedProps,a.memoizedProps)}break;case 27:vn(i,t),_n(t),l&512&&(Lt||a===null||Br(a,a.return)),a!==null&&l&4&&fm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(vn(i,t),_n(t),l&512&&(Lt||a===null||Br(a,a.return)),t.flags&32){d=t.stateNode;try{gn(d,"")}catch(pe){Qe(t,t.return,pe)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,fm(t,d,a!==null?a.memoizedProps:d)),l&1024&&(gm=!0);break;case 6:if(vn(i,t),_n(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(pe){Qe(t,t.return,pe)}}break;case 3:if(_h=null,d=hr,hr=yh(i.containerInfo),vn(i,t),hr=d,_n(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Do(i.containerInfo)}catch(pe){Qe(t,t.return,pe)}gm&&(gm=!1,E1(t));break;case 4:l=hr,hr=yh(t.stateNode.containerInfo),vn(i,t),_n(t),hr=l;break;case 12:vn(i,t),_n(t);break;case 31:vn(i,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rh(t,l)));break;case 13:vn(i,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sh=un()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rh(t,l)));break;case 22:d=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,q=hi,ee=Lt;if(hi=q||d,Lt=ee||D,vn(i,t),Lt=ee,hi=q,_n(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||D||hi||Lt||oa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(f=D.stateNode,d)E=f.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=D.stateNode;var re=D.memoizedProps.style,W=re!=null&&re.hasOwnProperty("display")?re.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(pe){Qe(D,D.return,pe)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch(pe){Qe(D,D.return,pe)}}}else if(i.tag===18){if(a===null){D=i;try{var X=D.stateNode;d?cv(X,!0):cv(D.stateNode,!1)}catch(pe){Qe(D,D.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,rh(t,a))));break;case 19:vn(i,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rh(t,l)));break;case 30:break;case 21:break;default:vn(i,t),_n(t)}}function _n(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(h1(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=mm(t);nh(t,f,d);break;case 5:var E=a.stateNode;a.flags&32&&(gn(E,""),a.flags&=-33);var S=mm(t);nh(t,S,E);break;case 3:case 4:var D=a.stateNode.containerInfo,q=mm(t);pm(t,q,D);break;default:throw Error(s(161))}}catch(ee){Qe(t,t.return,ee)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function E1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;E1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function fi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)m1(t,i.alternate,i),i=i.sibling}function oa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Qi(4,i,i.return),oa(i);break;case 1:Br(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&c1(i,i.return,a),oa(i);break;case 27:lc(i.stateNode);case 26:case 5:Br(i,i.return),oa(i);break;case 22:i.memoizedState===null&&oa(i);break;case 30:oa(i);break;default:oa(i)}t=t.sibling}}function mi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,f=i,E=f.flags;switch(f.tag){case 0:case 11:case 15:mi(d,f,a),Zl(4,f);break;case 1:if(mi(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){Qe(l,l.return,q)}if(l=f,d=l.updateQueue,d!==null){var S=l.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)X0(D[d],S)}catch(q){Qe(l,l.return,q)}}a&&E&64&&l1(f),Jl(f,f.return);break;case 27:d1(f);case 26:case 5:mi(d,f,a),a&&l===null&&E&4&&u1(f),Jl(f,f.return);break;case 12:mi(d,f,a);break;case 31:mi(d,f,a),a&&E&4&&y1(d,f);break;case 13:mi(d,f,a),a&&E&4&&v1(d,f);break;case 22:f.memoizedState===null&&mi(d,f,a),Jl(f,f.return);break;case 30:break;default:mi(d,f,a)}i=i.sibling}}function ym(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ul(a))}function vm(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ul(t))}function dr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)x1(t,i,a,l),i=i.sibling}function x1(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:dr(t,i,a,l),d&2048&&Zl(9,i);break;case 1:dr(t,i,a,l);break;case 3:dr(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ul(t)));break;case 12:if(d&2048){dr(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,E=f.id,S=f.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Qe(i,i.return,D)}}else dr(t,i,a,l);break;case 31:dr(t,i,a,l);break;case 13:dr(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,E=i.alternate,i.memoizedState!==null?f._visibility&2?dr(t,i,a,l):ec(t,i):f._visibility&2?dr(t,i,a,l):(f._visibility|=2,To(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&ym(E,i);break;case 24:dr(t,i,a,l),d&2048&&vm(i.alternate,i);break;default:dr(t,i,a,l)}}function To(t,i,a,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,E=i,S=a,D=l,q=E.flags;switch(E.tag){case 0:case 11:case 15:To(f,E,S,D,d),Zl(8,E);break;case 23:break;case 22:var ee=E.stateNode;E.memoizedState!==null?ee._visibility&2?To(f,E,S,D,d):ec(f,E):(ee._visibility|=2,To(f,E,S,D,d)),d&&q&2048&&ym(E.alternate,E);break;case 24:To(f,E,S,D,d),d&&q&2048&&vm(E.alternate,E);break;default:To(f,E,S,D,d)}i=i.sibling}}function ec(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:ec(a,l),d&2048&&ym(l.alternate,l);break;case 24:ec(a,l),d&2048&&vm(l.alternate,l);break;default:ec(a,l)}i=i.sibling}}var tc=8192;function bo(t,i,a){if(t.subtreeFlags&tc)for(t=t.child;t!==null;)T1(t,i,a),t=t.sibling}function T1(t,i,a){switch(t.tag){case 26:bo(t,i,a),t.flags&tc&&t.memoizedState!==null&&qS(a,hr,t.memoizedState,t.memoizedProps);break;case 5:bo(t,i,a);break;case 3:case 4:var l=hr;hr=yh(t.stateNode.containerInfo),bo(t,i,a),hr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=tc,tc=16777216,bo(t,i,a),tc=l):bo(t,i,a));break;default:bo(t,i,a)}}function b1(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function nc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];qt=l,A1(l,t)}b1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)S1(t),t=t.sibling}function S1(t){switch(t.tag){case 0:case 11:case 15:nc(t),t.flags&2048&&Qi(9,t,t.return);break;case 3:nc(t);break;case 12:nc(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,ih(t)):nc(t);break;default:nc(t)}}function ih(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];qt=l,A1(l,t)}b1(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Qi(8,i,i.return),ih(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ih(i));break;default:ih(i)}t=t.sibling}}function A1(t,i){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Qi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=t;qt!==null;){l=qt;var d=l.sibling,f=l.return;if(p1(l),l===a){qt=null;break e}if(d!==null){d.return=f,qt=d;break e}qt=f}}}var iS={getCacheForType:function(t){var i=Yt(Ct),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Yt(Ct).controller.signal}},sS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,rt=null,Ne=null,De=0,Ke=0,Nn=null,Yi=!1,So=!1,_m=!1,pi=0,gt=0,Xi=0,la=0,Em=0,Ln=0,Ao=0,rc=null,En=null,xm=!1,sh=0,w1=0,ah=1/0,oh=null,Zi=null,Ut=0,Ji=null,wo=null,gi=0,Tm=0,bm=null,k1=null,ic=0,Sm=null;function Dn(){return(Ge&2)!==0&&De!==0?De&-De:J.T!==null?Im():lu()}function R1(){if(Ln===0)if((De&536870912)===0||Pe){var t=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),Ln=t}else Ln=536870912;return t=Cn.current,t!==null&&(t.flags|=32),Ln}function xn(t,i,a){(t===rt&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(ko(t,0),es(t,De,Ln,!1)),Os(t,a),((Ge&2)===0||t!==rt)&&(t===rt&&((Ge&2)===0&&(la|=a),gt===4&&es(t,De,Ln,!1)),Hr(t))}function C1(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||nr(t,i),d=l?lS(t,i):wm(t,i,!0),f=l;do{if(d===0){So&&!l&&es(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!aS(a)){d=wm(t,i,!1),f=!1;continue}if(d===2){if(f=i,t.errorRecoveryDisabledLanes&f)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var S=t;d=rc;var D=S.current.memoizedState.isDehydrated;if(D&&(ko(S,E).flags|=256),E=wm(S,E,!1),E!==2){if(_m&&!D){S.errorRecoveryDisabledLanes|=f,la|=f,d=4;break e}f=En,En=d,f!==null&&(En===null?En=f:En.push.apply(En,f))}d=E}if(f=!1,d!==2)continue}}if(d===1){ko(t,0),es(t,i,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:es(l,i,Ln,!Yi);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=sh+300-un(),10<d)){if(es(l,i,Ln,!Yi),Sr(l,0,!0)!==0)break e;gi=i,l.timeoutHandle=av(I1.bind(null,l,a,En,oh,xm,i,Ln,la,Ao,Yi,f,"Throttled",-0,0),d);break e}I1(l,a,En,oh,xm,i,Ln,la,Ao,Yi,f,null,-0,0)}}break}while(!0);Hr(t)}function I1(t,i,a,l,d,f,E,S,D,q,ee,re,W,X){if(t.timeoutHandle=-1,re=i.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sr},T1(i,f,re);var pe=(f&62914560)===f?sh-un():(f&4194048)===f?w1-un():0;if(pe=FS(re,pe),pe!==null){gi=f,t.cancelPendingCommit=pe(P1.bind(null,t,i,f,a,l,d,E,S,D,ee,re,null,W,X)),es(t,f,E,!q);return}}P1(t,i,f,a,l,d,E,S,D)}function aS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!kn(f(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function es(t,i,a,l){i&=~Em,i&=~la,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var f=31-_t(d),E=1<<f;l[f]=-1,d&=~E}a!==0&&Vs(t,a,i)}function lh(){return(Ge&6)===0?(sc(0),!1):!0}function Am(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,si=Js=null,Bf(t),yo=null,Bl=0,t=Ne;for(;t!==null;)o1(t.alternate,t),t=t.return;Ne=null}}function ko(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,wS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),gi=0,Am(),rt=t,Ne=a=ri(t.current,null),De=i,Ke=0,Nn=null,Yi=!1,So=nr(t,i),_m=!1,Ao=Ln=Em=la=Xi=gt=0,En=rc=null,xm=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-_t(l),f=1<<d;i|=t[d],l&=~f}return pi=i,Cu(),a}function N1(t,i){ke=null,J.H=Ql,i===go||i===Vu?(i=$0(),Ke=3):i===Cf?(i=$0(),Ke=4):Ke=i===rm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Nn=i,Ne===null&&(gt=1,Xu(t,qn(i,t.current)))}function L1(){var t=Cn.current;return t===null?!0:(De&4194048)===De?$n===null:(De&62914560)===De||(De&536870912)!==0?t===$n:!1}function D1(){var t=J.H;return J.H=Ql,t===null?Ql:t}function j1(){var t=J.A;return J.A=iS,t}function ch(){gt=4,Yi||(De&4194048)!==De&&Cn.current!==null||(So=!0),(Xi&134217727)===0&&(la&134217727)===0||rt===null||es(rt,De,Ln,!1)}function wm(t,i,a){var l=Ge;Ge|=2;var d=D1(),f=j1();(rt!==t||De!==i)&&(oh=null,ko(t,i)),i=!1;var E=gt;e:do try{if(Ke!==0&&Ne!==null){var S=Ne,D=Nn;switch(Ke){case 8:Am(),E=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var q=Ke;if(Ke=0,Nn=null,Ro(t,S,D,q),a&&So){E=0;break e}break;default:q=Ke,Ke=0,Nn=null,Ro(t,S,D,q)}}oS(),E=gt;break}catch(ee){N1(t,ee)}while(!0);return i&&t.shellSuspendCounter++,si=Js=null,Ge=l,J.H=d,J.A=f,Ne===null&&(rt=null,De=0,Cu()),E}function oS(){for(;Ne!==null;)M1(Ne)}function lS(t,i){var a=Ge;Ge|=2;var l=D1(),d=j1();rt!==t||De!==i?(oh=null,ah=un()+500,ko(t,i)):So=nr(t,i);e:do try{if(Ke!==0&&Ne!==null){i=Ne;var f=Nn;t:switch(Ke){case 1:Ke=0,Nn=null,Ro(t,i,f,1);break;case 2:case 9:if(G0(f)){Ke=0,Nn=null,O1(i);break}i=function(){Ke!==2&&Ke!==9||rt!==t||(Ke=7),Hr(t)},f.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:G0(f)?(Ke=0,Nn=null,O1(i)):(Ke=0,Nn=null,Ro(t,i,f,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var S=Ne;if(E?xv(E):S.stateNode.complete){Ke=0,Nn=null;var D=S.sibling;if(D!==null)Ne=D;else{var q=S.return;q!==null?(Ne=q,uh(q)):Ne=null}break t}}Ke=0,Nn=null,Ro(t,i,f,5);break;case 6:Ke=0,Nn=null,Ro(t,i,f,6);break;case 8:Am(),gt=6;break e;default:throw Error(s(462))}}cS();break}catch(ee){N1(t,ee)}while(!0);return si=Js=null,J.H=l,J.A=d,Ge=a,Ne!==null?0:(rt=null,De=0,Cu(),gt)}function cS(){for(;Ne!==null&&!tf();)M1(Ne)}function M1(t){var i=s1(t.alternate,t,pi);t.memoizedProps=t.pendingProps,i===null?uh(t):Ne=i}function O1(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Jy(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=Jy(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Bf(i);default:o1(a,i),i=Ne=j0(i,pi),i=s1(a,i,pi)}t.memoizedProps=t.pendingProps,i===null?uh(t):Ne=i}function Ro(t,i,a,l){si=Js=null,Bf(i),yo=null,Bl=0;var d=i.return;try{if(Xb(t,d,i,a,De)){gt=1,Xu(t,qn(a,t.current)),Ne=null;return}}catch(f){if(d!==null)throw Ne=d,f;gt=1,Xu(t,qn(a,t.current)),Ne=null;return}i.flags&32768?(Pe||l===1?t=!0:So||(De&536870912)!==0?t=!1:(Yi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),V1(i,t)):uh(i)}function uh(t){var i=t;do{if((i.flags&32768)!==0){V1(i,Yi);return}t=i.return;var a=eS(i.alternate,i,pi);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);gt===0&&(gt=5)}function V1(t,i){do{var a=tS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);gt=6,Ne=null}function P1(t,i,a,l,d,f,E,S,D){t.cancelPendingCommit=null;do hh();while(Ut!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=mf,sf(t,a,f,E,S,D),t===rt&&(Ne=rt=null,De=0),wo=i,Ji=t,gi=a,Tm=f,bm=d,k1=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,fS(Ii,function(){return q1(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,d=F.p,F.p=2,E=Ge,Ge|=4;try{nS(t,i,a)}finally{Ge=E,F.p=d,J.T=l}}Ut=1,U1(),z1(),B1()}}function U1(){if(Ut===1){Ut=0;var t=Ji,i=wo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=F.p;F.p=2;var d=Ge;Ge|=4;try{_1(i,t);var f=Pm,E=A0(t.containerInfo),S=f.focusedElem,D=f.selectionRange;if(E!==S&&S&&S.ownerDocument&&S0(S.ownerDocument.documentElement,S)){if(D!==null&&cf(S)){var q=D.start,ee=D.end;if(ee===void 0&&(ee=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(ee,S.value.length);else{var re=S.ownerDocument||document,W=re&&re.defaultView||window;if(W.getSelection){var X=W.getSelection(),pe=S.textContent.length,_e=Math.min(D.start,pe),tt=D.end===void 0?_e:Math.min(D.end,pe);!X.extend&&_e>tt&&(E=tt,tt=_e,_e=E);var U=b0(S,_e),O=b0(S,tt);if(U&&O&&(X.rangeCount!==1||X.anchorNode!==U.node||X.anchorOffset!==U.offset||X.focusNode!==O.node||X.focusOffset!==O.offset)){var H=re.createRange();H.setStart(U.node,U.offset),X.removeAllRanges(),_e>tt?(X.addRange(H),X.extend(O.node,O.offset)):(H.setEnd(O.node,O.offset),X.addRange(H))}}}}for(re=[],X=S;X=X.parentNode;)X.nodeType===1&&re.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<re.length;S++){var te=re[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}bh=!!Vm,Pm=Vm=null}finally{Ge=d,F.p=l,J.T=a}}t.current=i,Ut=2}}function z1(){if(Ut===2){Ut=0;var t=Ji,i=wo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=F.p;F.p=2;var d=Ge;Ge|=4;try{m1(t,i.alternate,i)}finally{Ge=d,F.p=l,J.T=a}}Ut=3}}function B1(){if(Ut===4||Ut===3){Ut=0,tu();var t=Ji,i=wo,a=gi,l=k1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ut=5:(Ut=0,wo=Ji=null,H1(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Zi=null),Jr(a),i=i.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(tr,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=J.T,d=F.p,F.p=2,J.T=null;try{for(var f=t.onRecoverableError,E=0;E<l.length;E++){var S=l[E];f(S.value,{componentStack:S.stack})}}finally{J.T=i,F.p=d}}(gi&3)!==0&&hh(),Hr(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===Sm?ic++:(ic=0,Sm=t):ic=0,sc(0)}}function H1(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ul(i)))}function hh(){return U1(),z1(),B1(),q1()}function q1(){if(Ut!==5)return!1;var t=Ji,i=Tm;Tm=0;var a=Jr(gi),l=J.T,d=F.p;try{F.p=32>a?32:a,J.T=null,a=bm,bm=null;var f=Ji,E=gi;if(Ut=0,wo=Ji=null,gi=0,(Ge&6)!==0)throw Error(s(331));var S=Ge;if(Ge|=4,S1(f.current),x1(f,f.current,E,a),Ge=S,sc(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(tr,f)}catch{}return!0}finally{F.p=d,J.T=l,H1(t,i)}}function F1(t,i,a){i=qn(a,i),i=nm(t.stateNode,i,2),t=Wi(t,i,2),t!==null&&(Os(t,2),Hr(t))}function Qe(t,i,a){if(t.tag===3)F1(t,t,a);else for(;i!==null;){if(i.tag===3){F1(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zi===null||!Zi.has(l))){t=qn(a,t),a=Gy(2),l=Wi(i,a,2),l!==null&&(Wy(a,l,i,t),Os(l,2),Hr(l));break}}i=i.return}}function km(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new sS;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(_m=!0,d.add(a),t=uS.bind(null,t,i,a),i.then(t,t))}function uS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(De&a)===a&&(gt===4||gt===3&&(De&62914560)===De&&300>un()-sh?(Ge&2)===0&&ko(t,0):Em|=a,Ao===De&&(Ao=0)),Hr(t)}function G1(t,i){i===0&&(i=ou()),t=Ys(t,i),t!==null&&(Os(t,i),Hr(t))}function hS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),G1(t,a)}function dS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),G1(t,a)}function fS(t,i){return Pt(t,i)}var dh=null,Co=null,Rm=!1,fh=!1,Cm=!1,ts=0;function Hr(t){t!==Co&&t.next===null&&(Co===null?dh=Co=t:Co=Co.next=t),fh=!0,Rm||(Rm=!0,pS())}function sc(t,i){if(!Cm&&fh){Cm=!0;do for(var a=!1,l=dh;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var E=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=d&~(E&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Q1(l,f))}else f=De,f=Sr(l,l===rt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||nr(l,f)||(a=!0,Q1(l,f));l=l.next}while(a);Cm=!1}}function mS(){W1()}function W1(){fh=Rm=!1;var t=0;ts!==0&&AS()&&(t=ts);for(var i=un(),a=null,l=dh;l!==null;){var d=l.next,f=$1(l,i);f===0?(l.next=null,a===null?dh=d:a.next=d,d===null&&(Co=a)):(a=l,(t!==0||(f&3)!==0)&&(fh=!0)),l=d}Ut!==0&&Ut!==5||sc(t),ts!==0&&(ts=0)}function $1(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var E=31-_t(f),S=1<<E,D=d[E];D===-1?((S&a)===0||(S&l)!==0)&&(d[E]=rf(S,i)):D<=i&&(t.expiredLanes|=S),f&=~S}if(i=rt,a=De,a=Sr(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ci(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||nr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ci(l),Jr(a)){case 2:case 8:a=pl;break;case 32:a=Ii;break;case 268435456:a=nu;break;default:a=Ii}return l=K1.bind(null,t),a=Pt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ci(l),t.callbackPriority=2,t.callbackNode=null,2}function K1(t,i){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(hh()&&t.callbackNode!==a)return null;var l=De;return l=Sr(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(C1(t,l,i),$1(t,un()),t.callbackNode!=null&&t.callbackNode===a?K1.bind(null,t):null)}function Q1(t,i){if(hh())return null;C1(t,i,!0)}function pS(){kS(function(){(Ge&6)!==0?Pt(ml,mS):W1()})}function Im(){if(ts===0){var t=mo;t===0&&(t=Tr,Tr<<=1,(Tr&261888)===0&&(Tr=256)),ts=t}return ts}function Y1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Za(""+t)}function X1(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function gS(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var f=Y1((d[Bt]||null).action),E=l.submitter;E&&(i=(i=E[Bt]||null)?Y1(i.formAction):E.getAttribute("formAction"),i!==null&&(f=i,E=null));var S=new Mr("action","action",null,l,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ts!==0){var D=E?X1(d,E):new FormData(d);Yf(a,{pending:!0,data:D,method:d.method,action:f},null,D)}}else typeof f=="function"&&(S.preventDefault(),D=E?X1(d,E):new FormData(d),Yf(a,{pending:!0,data:D,method:d.method,action:f},f,D))},currentTarget:d}]})}}for(var Nm=0;Nm<ff.length;Nm++){var Lm=ff[Nm],yS=Lm.toLowerCase(),vS=Lm[0].toUpperCase()+Lm.slice(1);ur(yS,"on"+vS)}ur(R0,"onAnimationEnd"),ur(C0,"onAnimationIteration"),ur(I0,"onAnimationStart"),ur("dblclick","onDoubleClick"),ur("focusin","onFocus"),ur("focusout","onBlur"),ur(jb,"onTransitionRun"),ur(Mb,"onTransitionStart"),ur(Ob,"onTransitionCancel"),ur(N0,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_S=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ac));function Z1(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var E=l.length-1;0<=E;E--){var S=l[E],D=S.instance,q=S.currentTarget;if(S=S.listener,D!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=q;try{f(d)}catch(ee){Ru(ee)}d.currentTarget=null,f=D}else for(E=0;E<l.length;E++){if(S=l[E],D=S.instance,q=S.currentTarget,S=S.listener,D!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=q;try{f(d)}catch(ee){Ru(ee)}d.currentTarget=null,f=D}}}}function Le(t,i){var a=i[$a];a===void 0&&(a=i[$a]=new Set);var l=t+"__bubble";a.has(l)||(J1(i,t,2,!1),a.add(l))}function Dm(t,i,a){var l=0;i&&(l|=4),J1(a,t,l,i)}var mh="_reactListening"+Math.random().toString(36).slice(2);function jm(t){if(!t[mh]){t[mh]=!0,vl.forEach(function(a){a!=="selectionchange"&&(_S.has(a)||Dm(a,!1,t),Dm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[mh]||(i[mh]=!0,Dm("selectionchange",!1,i))}}function J1(t,i,a,l){switch(Rv(i)){case 2:var d=$S;break;case 8:d=KS;break;default:d=Qm}a=d.bind(null,i,a,t),d=void 0,!Hs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function Mm(t,i,a,l,d){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===d)break;if(E===4)for(E=l.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;S!==null;){if(E=Rr(S),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){l=f=E;continue e}S=S.parentNode}}l=l.return}Oi(function(){var q=f,ee=Un(a),re=[];e:{var W=L0.get(t);if(W!==void 0){var X=Mr,pe=t;switch(t){case"keypress":if(Fs(a)===0)break e;case"keydown":case"keyup":X=Au;break;case"focusin":pe="focus",X=Ws;break;case"focusout":pe="blur",X=Ws;break;case"beforeblur":case"afterblur":X=Ws;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case R0:case C0:case I0:X=vu;break;case N0:X=w;break;case"scroll":case"scrollend":X=Il;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ni;break;case"toggle":case"beforetoggle":X=we}var _e=(i&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),U=_e?W!==null?W+"Capture":null:W;_e=[];for(var O=q,H;O!==null;){var te=O;if(H=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||H===null||U===null||(te=ar(O,U),te!=null&&_e.push(oc(O,te,H))),tt)break;O=O.return}0<_e.length&&(W=new X(W,pe,null,a,ee),re.push({event:W,listeners:_e}))}}if((i&7)===0){e:{if(W=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",W&&a!==kl&&(pe=a.relatedTarget||a.fromElement)&&(Rr(pe)||pe[wr]))break e;if((X||W)&&(W=ee.window===ee?ee:(W=ee.ownerDocument)?W.defaultView||W.parentWindow:window,X?(pe=a.relatedTarget||a.toElement,X=q,pe=pe?Rr(pe):null,pe!==null&&(tt=c(pe),_e=pe.tag,pe!==tt||_e!==5&&_e!==27&&_e!==6)&&(pe=null)):(X=null,pe=q),X!==pe)){if(_e=Nl,te="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=ni,te="onPointerLeave",U="onPointerEnter",O="pointer"),tt=X==null?W:An(X),H=pe==null?W:An(pe),W=new _e(te,O+"leave",X,a,ee),W.target=tt,W.relatedTarget=H,te=null,Rr(ee)===q&&(_e=new _e(U,O+"enter",pe,a,ee),_e.target=H,_e.relatedTarget=tt,te=_e),tt=te,X&&pe)t:{for(_e=ES,U=X,O=pe,H=0,te=U;te;te=_e(te))H++;te=0;for(var ye=O;ye;ye=_e(ye))te++;for(;0<H-te;)U=_e(U),H--;for(;0<te-H;)O=_e(O),te--;for(;H--;){if(U===O||O!==null&&U===O.alternate){_e=U;break t}U=_e(U),O=_e(O)}_e=null}else _e=null;X!==null&&ev(re,W,X,_e,!1),pe!==null&&tt!==null&&ev(re,tt,pe,_e,!0)}}e:{if(W=q?An(q):window,X=W.nodeName&&W.nodeName.toLowerCase(),X==="select"||X==="input"&&W.type==="file")var He=y0;else if(p0(W))if(v0)He=Nb;else{He=Cb;var ge=Rb}else X=W.nodeName,!X||X.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?q&&Xa(q.elementType)&&(He=y0):He=Ib;if(He&&(He=He(t,q))){g0(re,He,a,ee);break e}ge&&ge(t,W,q),t==="focusout"&&q&&W.type==="number"&&q.memoizedProps.value!=null&&Sl(W,"number",W.value)}switch(ge=q?An(q):window,t){case"focusin":(p0(ge)||ge.contentEditable==="true")&&(so=ge,uf=q,Ol=null);break;case"focusout":Ol=uf=so=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,w0(re,a,ee);break;case"selectionchange":if(Db)break;case"keydown":case"keyup":w0(re,a,ee)}var Ce;if(Fe)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else io?$s(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Pr&&a.locale!=="ko"&&(io||je!=="onCompositionStart"?je==="onCompositionEnd"&&io&&(Ce=Cl()):(jr=ee,Rl="value"in jr?jr.value:jr.textContent,io=!0)),ge=ph(q,je),0<ge.length&&(je=new Vr(je,t,null,a,ee),re.push({event:je,listeners:ge}),Ce?je.data=Ce:(Ce=ro(a),Ce!==null&&(je.data=Ce)))),(Ce=Bn?Sb(t,a):Ab(t,a))&&(je=ph(q,"onBeforeInput"),0<je.length&&(ge=new Vr("onBeforeInput","beforeinput",null,a,ee),re.push({event:ge,listeners:je}),ge.data=Ce)),gS(re,t,q,a,ee)}Z1(re,i)})}function oc(t,i,a){return{instance:t,listener:i,currentTarget:a}}function ph(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=ar(t,a),d!=null&&l.unshift(oc(t,d,f)),d=ar(t,i),d!=null&&l.push(oc(t,d,f))),t.tag===3)return l;t=t.return}return[]}function ES(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ev(t,i,a,l,d){for(var f=i._reactName,E=[];a!==null&&a!==l;){var S=a,D=S.alternate,q=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||q===null||(D=q,d?(q=ar(a,f),q!=null&&E.unshift(oc(a,q,D))):d||(q=ar(a,f),q!=null&&E.push(oc(a,q,D)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var xS=/\r\n?/g,TS=/\u0000|\uFFFD/g;function tv(t){return(typeof t=="string"?t:""+t).replace(xS,`
`).replace(TS,"")}function nv(t,i){return i=tv(i),tv(t)===i}function et(t,i,a,l,d,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&gn(t,""+l);break;case"className":wn(t,"class",l);break;case"tabIndex":wn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,a,l);break;case"style":wl(t,l,f);break;case"data":if(i!=="object"){wn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Za(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",d.name,d,null),et(t,i,"formEncType",d.formEncType,d,null),et(t,i,"formMethod",d.formMethod,d,null),et(t,i,"formTarget",d.formTarget,d,null)):(et(t,i,"encType",d.encType,d,null),et(t,i,"method",d.method,d,null),et(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Za(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=sr);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Za(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Qa(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pu.get(a)||a,Qa(t,a,l))}}function Om(t,i,a,l,d,f){switch(a){case"style":wl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),f=t[Bt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Qa(t,a,l)}}}function Zt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var E=a[f];if(E!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,f,E,a,null)}}d&&et(t,i,"srcSet",a.srcSet,a,null),l&&et(t,i,"src",a.src,a,null);return;case"input":Le("invalid",t);var S=f=E=d=null,D=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var ee=a[l];if(ee!=null)switch(l){case"name":d=ee;break;case"type":E=ee;break;case"checked":D=ee;break;case"defaultChecked":q=ee;break;case"value":f=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,i));break;default:et(t,i,l,ee,a,null)}}du(t,f,S,D,q,E,d,!1);return;case"select":Le("invalid",t),l=E=f=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":f=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:et(t,i,d,S,a,null)}i=f,a=E,t.multiple=!!l,i!=null?Li(t,!!l,i,!1):a!=null&&Li(t,!!l,a,!0);return;case"textarea":Le("invalid",t),f=d=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":d=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:et(t,i,E,S,a,null)}Di(t,l,d,f);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":et(t,i,D,l,a,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<ac.length;l++)Le(ac[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,q,l,a,null)}return;default:if(Xa(i)){for(ee in a)a.hasOwnProperty(ee)&&(l=a[ee],l!==void 0&&Om(t,i,ee,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&et(t,i,S,l,a,null))}function bS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,E=null,S=null,D=null,q=null,ee=null;for(X in a){var re=a[X];if(a.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=re;default:l.hasOwnProperty(X)||et(t,i,X,null,l,re)}}for(var W in l){var X=l[W];if(re=a[W],l.hasOwnProperty(W)&&(X!=null||re!=null))switch(W){case"type":f=X;break;case"name":d=X;break;case"checked":q=X;break;case"defaultChecked":ee=X;break;case"value":E=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==re&&et(t,i,W,X,l,re)}}Ya(t,E,S,D,q,ee,f,d);return;case"select":X=E=S=W=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":X=D;default:l.hasOwnProperty(f)||et(t,i,f,null,l,D)}for(d in l)if(f=l[d],D=a[d],l.hasOwnProperty(d)&&(f!=null||D!=null))switch(d){case"value":W=f;break;case"defaultValue":S=f;break;case"multiple":E=f;default:f!==D&&et(t,i,d,f,l,D)}i=S,a=E,l=X,W!=null?Li(t,!!a,W,!1):!!l!=!!a&&(i!=null?Li(t,!!a,i,!0):Li(t,!!a,a?[]:"",!1));return;case"textarea":X=W=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(t,i,S,null,l,d)}for(E in l)if(d=l[E],f=a[E],l.hasOwnProperty(E)&&(d!=null||f!=null))switch(E){case"value":W=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&et(t,i,E,d,l,f)}fu(t,W,X);return;case"option":for(var pe in a)W=a[pe],a.hasOwnProperty(pe)&&W!=null&&!l.hasOwnProperty(pe)&&(pe==="selected"?t.selected=!1:et(t,i,pe,null,l,W));for(D in l)W=l[D],X=a[D],l.hasOwnProperty(D)&&W!==X&&(W!=null||X!=null)&&(D==="selected"?t.selected=W&&typeof W!="function"&&typeof W!="symbol":et(t,i,D,W,l,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)W=a[_e],a.hasOwnProperty(_e)&&W!=null&&!l.hasOwnProperty(_e)&&et(t,i,_e,null,l,W);for(q in l)if(W=l[q],X=a[q],l.hasOwnProperty(q)&&W!==X&&(W!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:et(t,i,q,W,l,X)}return;default:if(Xa(i)){for(var tt in a)W=a[tt],a.hasOwnProperty(tt)&&W!==void 0&&!l.hasOwnProperty(tt)&&Om(t,i,tt,void 0,l,W);for(ee in l)W=l[ee],X=a[ee],!l.hasOwnProperty(ee)||W===X||W===void 0&&X===void 0||Om(t,i,ee,W,l,X);return}}for(var U in a)W=a[U],a.hasOwnProperty(U)&&W!=null&&!l.hasOwnProperty(U)&&et(t,i,U,null,l,W);for(re in l)W=l[re],X=a[re],!l.hasOwnProperty(re)||W===X||W==null&&X==null||et(t,i,re,W,l,X)}function rv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,E=d.initiatorType,S=d.duration;if(f&&S&&rv(E)){for(E=0,S=d.responseEnd,l+=1;l<a.length;l++){var D=a[l],q=D.startTime;if(q>S)break;var ee=D.transferSize,re=D.initiatorType;ee&&rv(re)&&(D=D.responseEnd,E+=ee*(D<S?1:(S-q)/(D-q)))}if(--l,i+=8*(f+E)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Vm=null,Pm=null;function gh(t){return t.nodeType===9?t:t.ownerDocument}function iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Um(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zm=null;function AS(){var t=window.event;return t&&t.type==="popstate"?t===zm?!1:(zm=t,!0):(zm=null,!1)}var av=typeof setTimeout=="function"?setTimeout:void 0,wS=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,kS=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(t){return ov.resolve(null).then(t).catch(RS)}:av;function RS(t){setTimeout(function(){throw t})}function ns(t){return t==="head"}function lv(t,i){var a=i,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),Do(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")lc(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,lc(a);for(var f=a.firstChild;f;){var E=f.nextSibling,S=f.nodeName;f[kr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=E}}else a==="body"&&lc(t.ownerDocument.body);a=d}while(a);Do(i)}function cv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Bm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bm(a),Ka(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function CS(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[kr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function IS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function uv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Kn(t.nextSibling),t===null))return null;return t}function Hm(t){return t.data==="$?"||t.data==="$~"}function qm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function NS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Fm=null;function hv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function dv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function fv(t,i,a){switch(i=gh(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function lc(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ka(t)}var Qn=new Map,mv=new Set;function yh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var yi=F.d;F.d={f:LS,r:DS,D:jS,C:MS,L:OS,m:VS,X:US,S:PS,M:zS};function LS(){var t=yi.f(),i=lh();return t||i}function DS(t){var i=Pn(t);i!==null&&i.tag===5&&i.type==="form"?Ny(i):yi.r(t)}var Io=typeof document>"u"?null:document;function pv(t,i,a){var l=Io;if(l&&typeof i=="string"&&i){var d=pn(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),mv.has(d)||(mv.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),Zt(i,"link",t),kt(i),l.head.appendChild(i)))}}function jS(t){yi.D(t),pv("dns-prefetch",t,null)}function MS(t,i){yi.C(t,i),pv("preconnect",t,i)}function OS(t,i,a){yi.L(t,i,a);var l=Io;if(l&&t&&i){var d='link[rel="preload"][as="'+pn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+pn(a.imageSizes)+'"]')):d+='[href="'+pn(t)+'"]';var f=d;switch(i){case"style":f=No(t);break;case"script":f=Lo(t)}Qn.has(f)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Qn.set(f,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(cc(f))||i==="script"&&l.querySelector(uc(f))||(i=l.createElement("link"),Zt(i,"link",t),kt(i),l.head.appendChild(i)))}}function VS(t,i){yi.m(t,i);var a=Io;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+pn(l)+'"][href="'+pn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Lo(t)}if(!Qn.has(f)&&(t=b({rel:"modulepreload",href:t},i),Qn.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(uc(f)))return}l=a.createElement("link"),Zt(l,"link",t),kt(l),a.head.appendChild(l)}}}function PS(t,i,a){yi.S(t,i,a);var l=Io;if(l&&t){var d=Cr(l).hoistableStyles,f=No(t);i=i||"default";var E=d.get(f);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(cc(f)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Qn.get(f))&&Gm(t,a);var D=E=l.createElement("link");kt(D),Zt(D,"link",t),D._p=new Promise(function(q,ee){D.onload=q,D.onerror=ee}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,vh(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:S},d.set(f,E)}}}function US(t,i){yi.X(t,i);var a=Io;if(a&&t){var l=Cr(a).hoistableScripts,d=Lo(t),f=l.get(d);f||(f=a.querySelector(uc(d)),f||(t=b({src:t,async:!0},i),(i=Qn.get(d))&&Wm(t,i),f=a.createElement("script"),kt(f),Zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function zS(t,i){yi.M(t,i);var a=Io;if(a&&t){var l=Cr(a).hoistableScripts,d=Lo(t),f=l.get(d);f||(f=a.querySelector(uc(d)),f||(t=b({src:t,async:!0,type:"module"},i),(i=Qn.get(d))&&Wm(t,i),f=a.createElement("script"),kt(f),Zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function gv(t,i,a,l){var d=(d=Re.current)?yh(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=No(a.href),a=Cr(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=No(a.href);var f=Cr(d).hoistableStyles,E=f.get(t);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,E),(f=d.querySelector(cc(t)))&&!f._p&&(E.instance=f,E.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),f||BS(d,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Lo(a),a=Cr(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function No(t){return'href="'+pn(t)+'"'}function cc(t){return'link[rel="stylesheet"]['+t+"]"}function yv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function BS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Zt(i,"link",a),kt(i),t.head.appendChild(i))}function Lo(t){return'[src="'+pn(t)+'"]'}function uc(t){return"script[async]"+t}function vv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+pn(a.href)+'"]');if(l)return i.instance=l,kt(l),l;var d=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),kt(l),Zt(l,"style",d),vh(l,a.precedence,t),i.instance=l;case"stylesheet":d=No(a.href);var f=t.querySelector(cc(d));if(f)return i.state.loading|=4,i.instance=f,kt(f),f;l=yv(a),(d=Qn.get(d))&&Gm(l,d),f=(t.ownerDocument||t).createElement("link"),kt(f);var E=f;return E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),Zt(f,"link",l),i.state.loading|=4,vh(f,a.precedence,t),i.instance=f;case"script":return f=Lo(a.src),(d=t.querySelector(uc(f)))?(i.instance=d,kt(d),d):(l=a,(d=Qn.get(f))&&(l=b({},a),Wm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),kt(d),Zt(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,vh(l,a.precedence,t));return i.instance}function vh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===i)f=S;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Gm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Wm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var _h=null;function _v(t,i,a){if(_h===null){var l=new Map,d=_h=new Map;d.set(a,l)}else d=_h,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[kr]||f[wt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var E=f.getAttribute(i)||"";E=t+E;var S=l.get(E);S?S.push(f):l.set(E,[f])}}return l}function Ev(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function HS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function xv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function qS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=No(l.href),f=i.querySelector(cc(d));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Eh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,kt(f);return}f=i.ownerDocument||i,l=yv(l),(d=Qn.get(d))&&Gm(l,d),f=f.createElement("link"),kt(f);var E=f;E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),Zt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Eh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var $m=0;function FS(t,i){return t.stylesheets&&t.count===0&&Th(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Th(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&$m===0&&($m=62500*SS());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Th(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>$m?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Th(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xh=null;function Th(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xh=new Map,i.forEach(GS,t),xh=null,Eh.call(t))}function GS(t,i){if(!(i.state.loading&4)){var a=xh.get(t);if(a)var l=a.get(null);else{a=new Map,xh.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var E=d[f];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}d=i.instance,E=d.getAttribute("data-precedence"),f=a.get(E)||l,f===l&&a.set(null,d),a.set(E,d),this.count++,l=Eh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var hc={$$typeof:oe,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function WS(t,i,a,l,d,f,E,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Tv(t,i,a,l,d,f,E,S,D,q,ee,re){return t=new WS(t,i,a,E,D,q,ee,re,S),i=1,f===!0&&(i|=24),f=Rn(3,null,null,i),t.current=f,f.stateNode=t,i=wf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},If(f),t}function bv(t){return t?(t=lo,t):lo}function Sv(t,i,a,l,d,f){d=bv(d),l.context===null?l.context=d:l.pendingContext=d,l=Gi(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Wi(t,l,i),a!==null&&(xn(a,t,i),ql(a,t,i))}function Av(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Km(t,i){Av(t,i),(t=t.alternate)&&Av(t,i)}function wv(t){if(t.tag===13||t.tag===31){var i=Ys(t,67108864);i!==null&&xn(i,t,67108864),Km(t,67108864)}}function kv(t){if(t.tag===13||t.tag===31){var i=Dn();i=Ps(i);var a=Ys(t,i);a!==null&&xn(a,t,i),Km(t,i)}}var bh=!0;function $S(t,i,a,l){var d=J.T;J.T=null;var f=F.p;try{F.p=2,Qm(t,i,a,l)}finally{F.p=f,J.T=d}}function KS(t,i,a,l){var d=J.T;J.T=null;var f=F.p;try{F.p=8,Qm(t,i,a,l)}finally{F.p=f,J.T=d}}function Qm(t,i,a,l){if(bh){var d=Ym(l);if(d===null)Mm(t,i,l,Sh,a),Cv(t,l);else if(YS(d,t,i,a,l))l.stopPropagation();else if(Cv(t,l),i&4&&-1<QS.indexOf(t)){for(;d!==null;){var f=Pn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var E=br(f.pendingLanes);if(E!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var D=1<<31-_t(E);S.entanglements[1]|=D,E&=~D}Hr(f),(Ge&6)===0&&(ah=un()+500,sc(0))}}break;case 31:case 13:S=Ys(f,2),S!==null&&xn(S,f,2),lh(),Km(f,2)}if(f=Ym(l),f===null&&Mm(t,i,l,Sh,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else Mm(t,i,l,null,a)}}function Ym(t){return t=Un(t),Xm(t)}var Sh=null;function Xm(t){if(Sh=null,t=Rr(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Sh=t,null}function Rv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(js()){case ml:return 2;case pl:return 8;case Ii:case nf:return 32;case nu:return 268435456;default:return 32}default:return 32}}var Zm=!1,rs=null,is=null,ss=null,dc=new Map,fc=new Map,as=[],QS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cv(t,i){switch(t){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":dc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fc.delete(i.pointerId)}}function mc(t,i,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},i!==null&&(i=Pn(i),i!==null&&wv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function YS(t,i,a,l,d){switch(i){case"focusin":return rs=mc(rs,t,i,a,l,d),!0;case"dragenter":return is=mc(is,t,i,a,l,d),!0;case"mouseover":return ss=mc(ss,t,i,a,l,d),!0;case"pointerover":var f=d.pointerId;return dc.set(f,mc(dc.get(f)||null,t,i,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,fc.set(f,mc(fc.get(f)||null,t,i,a,l,d)),!0}return!1}function Iv(t){var i=Rr(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,rr(t.priority,function(){kv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,rr(t.priority,function(){kv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ah(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ym(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);kl=l,a.target.dispatchEvent(l),kl=null}else return i=Pn(a),i!==null&&wv(i),t.blockedOn=a,!1;i.shift()}return!0}function Nv(t,i,a){Ah(t)&&a.delete(i)}function XS(){Zm=!1,rs!==null&&Ah(rs)&&(rs=null),is!==null&&Ah(is)&&(is=null),ss!==null&&Ah(ss)&&(ss=null),dc.forEach(Nv),fc.forEach(Nv)}function wh(t,i){t.blockedOn===i&&(t.blockedOn=null,Zm||(Zm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,XS)))}var kh=null;function Lv(t){kh!==t&&(kh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){kh===t&&(kh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(Xm(l||a)===null)continue;break}var f=Pn(a);f!==null&&(t.splice(i,3),i-=3,Yf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Do(t){function i(D){return wh(D,t)}rs!==null&&wh(rs,t),is!==null&&wh(is,t),ss!==null&&wh(ss,t),dc.forEach(i),fc.forEach(i);for(var a=0;a<as.length;a++){var l=as[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<as.length&&(a=as[0],a.blockedOn===null);)Iv(a),a.blockedOn===null&&as.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],E=d[Bt]||null;if(typeof f=="function")E||Lv(a);else if(E){var S=null;if(f&&f.hasAttribute("formAction")){if(d=f,E=f[Bt]||null)S=E.formAction;else if(Xm(d)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Lv(a)}}}function Dv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(E){return d=E})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function Jm(t){this._internalRoot=t}Rh.prototype.render=Jm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Dn();Sv(a,l,t,i,null,null)},Rh.prototype.unmount=Jm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Sv(t.current,2,null,t,null,null),lh(),i[wr]=null}};function Rh(t){this._internalRoot=t}Rh.prototype.unstable_scheduleHydration=function(t){if(t){var i=lu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<as.length&&i!==0&&i<as[a].priority;a++);as.splice(a,0,t),a===0&&Iv(t)}};var jv=e.version;if(jv!=="19.2.3")throw Error(s(527,jv,"19.2.3"));F.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var ZS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{tr=Ch.inject(ZS),$t=Ch}catch{}}return gc.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",d=By,f=Hy,E=qy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=Tv(t,1,!1,null,null,a,l,null,d,f,E,Dv),t[wr]=i.current,jm(t),new Jm(i)},gc.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,d="",f=By,E=Hy,S=qy,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=Tv(t,1,!0,i,a??null,l,d,D,f,E,S,Dv),i.context=bv(null),a=i.current,l=Dn(),l=Ps(l),d=Gi(l),d.callback=null,Wi(a,d,l),a=l,i.current.lanes=a,Os(i,a),Hr(i),t[wr]=i.current,jm(t),new Rh(i)},gc.version="19.2.3",gc}var Fv;function cA(){if(Fv)return np.exports;Fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),np.exports=lA(),np.exports}var uA=cA();var Gv="popstate";function hA(r={}){function e(s,o){let{pathname:c,search:h,hash:m}=s.location;return wp("",{pathname:c,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Nc(o)}return fA(e,n,null,r)}function dt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function er(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dA(){return Math.random().toString(36).substring(2,10)}function Wv(r,e){return{usr:r.state,key:r.key,idx:e}}function wp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Jo(e):e,state:n,key:e&&e.key||s||dA()}}function Nc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Jo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function fA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,h=o.history,m="POP",g=null,p=x();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function x(){return(h.state||{idx:null}).idx}function b(){m="POP";let K=x(),Z=K==null?null:K-p;p=K,g&&g({action:m,location:$.location,delta:Z})}function A(K,Z){m="PUSH";let Y=wp($.location,K,Z);p=x()+1;let oe=Wv(Y,p),z=$.createHref(Y);try{h.pushState(oe,"",z)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(z)}c&&g&&g({action:m,location:$.location,delta:1})}function M(K,Z){m="REPLACE";let Y=wp($.location,K,Z);p=x();let oe=Wv(Y,p),z=$.createHref(Y);h.replaceState(oe,"",z),c&&g&&g({action:m,location:$.location,delta:0})}function G(K){return mA(K)}let $={get action(){return m},get location(){return r(o,h)},listen(K){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Gv,b),g=K,()=>{o.removeEventListener(Gv,b),g=null}},createHref(K){return e(o,K)},createURL:G,encodeLocation(K){let Z=G(K);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:A,replace:M,go(K){return h.go(K)}};return $}function mA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Nc(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function UE(r,e,n="/"){return pA(r,e,n,!1)}function pA(r,e,n,s){let o=typeof e=="string"?Jo(e):e,c=Ti(o.pathname||"/",n);if(c==null)return null;let h=zE(r);gA(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=kA(c);m=AA(h[g],p,s)}return m}function zE(r,e=[],n=[],s="",o=!1){let c=(h,m,g=o,p)=>{let x={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&g)return;dt(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let b=Ei([s,x.relativePath]),A=n.concat(x);h.children&&h.children.length>0&&(dt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),zE(h.children,e,A,b,g)),!(h.path==null&&!h.index)&&e.push({path:b,score:bA(b,h.index),routesMeta:A})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))c(h,m);else for(let g of BE(h.path))c(h,m,!0,g)}),e}function BE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let h=BE(s.join("/")),m=[];return m.push(...h.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function gA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:SA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var yA=/^:[\w-]+$/,vA=3,_A=2,EA=1,xA=10,TA=-2,$v=r=>r==="*";function bA(r,e){let n=r.split("/"),s=n.length;return n.some($v)&&(s+=TA),e&&(s+=_A),n.filter(o=>!$v(o)).reduce((o,c)=>o+(yA.test(c)?vA:c===""?EA:xA),s)}function SA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function AA(r,e,n=!1){let{routesMeta:s}=r,o={},c="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,x=c==="/"?e:e.slice(c.length)||"/",b=Qh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},x),A=g.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=Qh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:Ei([c,b.pathname]),pathnameBase:NA(Ei([c,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(c=Ei([c,b.pathnameBase]))}return h}function Qh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=wA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:x,isOptional:b},A)=>{if(x==="*"){let G=m[A]||"";h=c.slice(0,c.length-G.length).replace(/(.)\/+$/,"$1")}const M=m[A];return b&&!M?p[x]=void 0:p[x]=(M||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:h,pattern:r}}function wA(r,e=!1,n=!0){er(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function kA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return er(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ti(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var HE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RA=r=>HE.test(r);function CA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Jo(r):r,c;if(n)if(RA(n))c=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),er(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?c=Kv(n.substring(1),"/"):c=Kv(n,e)}else c=e;return{pathname:c,search:LA(s),hash:DA(o)}}function Kv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ap(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rg(r){let e=IA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ig(r,e,n,s=!1){let o;typeof r=="string"?o=Jo(r):(o={...r},dt(!o.pathname||!o.pathname.includes("?"),ap("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),ap("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),ap("#","search","hash",o)));let c=r===""||o.pathname==="",h=c?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}m=b>=0?e[b]:"/"}let g=CA(o,m),p=h&&h!=="/"&&h.endsWith("/"),x=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||x)&&(g.pathname+="/"),g}var Ei=r=>r.join("/").replace(/\/\/+/g,"/"),NA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),LA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,DA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,jA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function MA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function OA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var qE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function FE(r,e){let n=r;if(typeof n!="string"||!HE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(qE)try{let c=new URL(window.location.href),h=n.startsWith("//")?new URL(c.protocol+n):new URL(n),m=Ti(h.pathname,e);h.origin===c.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{er(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var GE=["POST","PUT","PATCH","DELETE"];new Set(GE);var VA=["GET",...GE];new Set(VA);var el=j.createContext(null);el.displayName="DataRouter";var xd=j.createContext(null);xd.displayName="DataRouterState";var PA=j.createContext(!1),WE=j.createContext({isTransitioning:!1});WE.displayName="ViewTransition";var UA=j.createContext(new Map);UA.displayName="Fetchers";var zA=j.createContext(null);zA.displayName="Await";var On=j.createContext(null);On.displayName="Navigation";var qc=j.createContext(null);qc.displayName="Location";var Zr=j.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var sg=j.createContext(null);sg.displayName="RouteError";var $E="REACT_ROUTER_ERROR",BA="REDIRECT",HA="ROUTE_ERROR_RESPONSE";function qA(r){if(r.startsWith(`${$E}:${BA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function FA(r){if(r.startsWith(`${$E}:${HA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new jA(e.status,e.statusText,e.data)}catch{}}function GA(r,{relative:e}={}){dt(tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(On),{hash:o,pathname:c,search:h}=Fc(r,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:Ei([n,c])),s.createHref({pathname:m,search:h,hash:o})}function tl(){return j.useContext(qc)!=null}function Ri(){return dt(tl(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(qc).location}var KE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QE(r){j.useContext(On).static||j.useLayoutEffect(r)}function ag(){let{isDataRoute:r}=j.useContext(Zr);return r?iw():WA()}function WA(){dt(tl(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(el),{basename:e,navigator:n}=j.useContext(On),{matches:s}=j.useContext(Zr),{pathname:o}=Ri(),c=JSON.stringify(rg(s)),h=j.useRef(!1);return QE(()=>{h.current=!0}),j.useCallback((g,p={})=>{if(er(h.current,KE),!h.current)return;if(typeof g=="number"){n.go(g);return}let x=ig(g,JSON.parse(c),o,p.relative==="path");r==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Ei([e,x.pathname])),(p.replace?n.replace:n.push)(x,p.state,p)},[e,n,c,o,r])}j.createContext(null);function Fc(r,{relative:e}={}){let{matches:n}=j.useContext(Zr),{pathname:s}=Ri(),o=JSON.stringify(rg(n));return j.useMemo(()=>ig(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function $A(r,e){return YE(r,e)}function YE(r,e,n,s,o){dt(tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=j.useContext(On),{matches:h}=j.useContext(Zr),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",x=m?m.pathnameBase:"/",b=m&&m.route;{let Y=b&&b.path||"";ZE(p,!b||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let A=Ri(),M;if(e){let Y=typeof e=="string"?Jo(e):e;dt(x==="/"||Y.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),M=Y}else M=A;let G=M.pathname||"/",$=G;if(x!=="/"){let Y=x.replace(/^\//,"").split("/");$="/"+G.replace(/^\//,"").split("/").slice(Y.length).join("/")}let K=UE(r,{pathname:$});er(b||K!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),er(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=ZA(K&&K.map(Y=>Object.assign({},Y,{params:Object.assign({},g,Y.params),pathname:Ei([x,c.encodeLocation?c.encodeLocation(Y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?x:Ei([x,c.encodeLocation?c.encodeLocation(Y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathnameBase])})),h,n,s,o);return e&&Z?j.createElement(qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Z):Z}function KA(){let r=rw(),e=MA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,h)}var QA=j.createElement(KA,null),XE=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=FA(r.digest);n&&(r=n)}let e=r!==void 0?j.createElement(Zr.Provider,{value:this.props.routeContext},j.createElement(sg.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?j.createElement(YA,{error:r},e):e}};XE.contextType=PA;var op=new WeakMap;function YA({children:r,error:e}){let{basename:n}=j.useContext(On);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=qA(e.digest);if(s){let o=op.get(e);if(o)throw o;let c=FE(s.location,n);if(qE&&!op.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw op.set(e,h),h}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function XA({routeContext:r,match:e,children:n}){let s=j.useContext(el);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Zr.Provider,{value:r},n)}function ZA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,h=n?.errors;if(h!=null){let x=c.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);dt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let m=!1,g=-1;if(n)for(let x=0;x<c.length;x++){let b=c[x];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=x),b.route.id){let{loaderData:A,errors:M}=n,G=b.route.loader&&!A.hasOwnProperty(b.route.id)&&(!M||M[b.route.id]===void 0);if(b.route.lazy||G){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let p=n&&s?(x,b)=>{s(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:OA(n.matches),errorInfo:b})}:void 0;return c.reduceRight((x,b,A)=>{let M,G=!1,$=null,K=null;n&&(M=h&&b.route.id?h[b.route.id]:void 0,$=b.route.errorElement||QA,m&&(g<0&&A===0?(ZE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,K=null):g===A&&(G=!0,K=b.route.hydrateFallbackElement||null)));let Z=e.concat(c.slice(0,A+1)),Y=()=>{let oe;return M?oe=$:G?oe=K:b.route.Component?oe=j.createElement(b.route.Component,null):b.route.element?oe=b.route.element:oe=x,j.createElement(XA,{match:b,routeContext:{outlet:x,matches:Z,isDataRoute:n!=null},children:oe})};return n&&(b.route.ErrorBoundary||b.route.errorElement||A===0)?j.createElement(XE,{location:n.location,revalidation:n.revalidation,component:$,error:M,children:Y(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:p}):Y()},null)}function og(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JA(r){let e=j.useContext(el);return dt(e,og(r)),e}function ew(r){let e=j.useContext(xd);return dt(e,og(r)),e}function tw(r){let e=j.useContext(Zr);return dt(e,og(r)),e}function lg(r){let e=tw(r),n=e.matches[e.matches.length-1];return dt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function nw(){return lg("useRouteId")}function rw(){let r=j.useContext(sg),e=ew("useRouteError"),n=lg("useRouteError");return r!==void 0?r:e.errors?.[n]}function iw(){let{router:r}=JA("useNavigate"),e=lg("useNavigate"),n=j.useRef(!1);return QE(()=>{n.current=!0}),j.useCallback(async(o,c={})=>{er(n.current,KE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var Qv={};function ZE(r,e,n){!e&&!Qv[r]&&(Qv[r]=!0,er(!1,n))}j.memo(sw);function sw({routes:r,future:e,state:n,onError:s}){return YE(r,void 0,n,s,e)}function JE({to:r,replace:e,state:n,relative:s}){dt(tl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(On);er(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=j.useContext(Zr),{pathname:h}=Ri(),m=ag(),g=ig(r,rg(c),h,s==="path"),p=JSON.stringify(g);return j.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function Yn(r){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:h}){dt(!tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=j.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:h,future:{}}),[m,o,c,h]);typeof n=="string"&&(n=Jo(n));let{pathname:p="/",search:x="",hash:b="",state:A=null,key:M="default"}=n,G=j.useMemo(()=>{let $=Ti(p,m);return $==null?null:{location:{pathname:$,search:x,hash:b,state:A,key:M},navigationType:s}},[m,p,x,b,A,M,s]);return er(G!=null,`<Router basename="${m}"> is not able to match the URL "${p}${x}${b}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:j.createElement(On.Provider,{value:g},j.createElement(qc.Provider,{children:e,value:G}))}function ow({children:r,location:e}){return $A(kp(r),e)}function kp(r,e=[]){let n=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let c=[...e,o];if(s.type===j.Fragment){n.push.apply(n,kp(s.props.children,c));return}dt(s.type===Yn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=kp(s.props.children,c)),n.push(h)}),n}var Vh="get",Ph="application/x-www-form-urlencoded";function Td(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function lw(r){return Td(r)&&r.tagName.toLowerCase()==="button"}function cw(r){return Td(r)&&r.tagName.toLowerCase()==="form"}function uw(r){return Td(r)&&r.tagName.toLowerCase()==="input"}function hw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function dw(r,e){return r.button===0&&(!e||e==="_self")&&!hw(r)}var Ih=null;function fw(){if(Ih===null)try{new FormData(document.createElement("form"),0),Ih=!1}catch{Ih=!0}return Ih}var mw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lp(r){return r!=null&&!mw.has(r)?(er(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ph}"`),null):r}function pw(r,e){let n,s,o,c,h;if(cw(r)){let m=r.getAttribute("action");s=m?Ti(m,e):null,n=r.getAttribute("method")||Vh,o=lp(r.getAttribute("enctype"))||Ph,c=new FormData(r)}else if(lw(r)||uw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?Ti(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Vh,o=lp(r.getAttribute("formenctype"))||lp(m.getAttribute("enctype"))||Ph,c=new FormData(m,r),!fw()){let{name:p,type:x,value:b}=r;if(x==="image"){let A=p?`${p}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else p&&c.append(p,b)}}else{if(Td(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vh,s=null,o=Ph,h=r}return c&&o==="text/plain"&&(h=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function gw(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Ti(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function yw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function _w(r,e,n){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await yw(c,n);return h.links?h.links():[]}return[]}));return bw(s.flat(1).filter(vw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Yv(r,e,n,s,o,c){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):c==="data"?e.filter((g,p)=>{let x=s.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Ew(r,e,{includeHydrateFallback:n}={}){return xw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function xw(r){return[...new Set(r)]}function Tw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function bw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(Tw(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function e2(){let r=j.useContext(el);return cg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Sw(){let r=j.useContext(xd);return cg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ug=j.createContext(void 0);ug.displayName="FrameworkContext";function t2(){let r=j.useContext(ug);return cg(r,"You must render this element inside a <HydratedRouter> element"),r}function Aw(r,e){let n=j.useContext(ug),[s,o]=j.useState(!1),[c,h]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:x,onTouchStart:b}=e,A=j.useRef(null);j.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let $=Z=>{Z.forEach(Y=>{h(Y.isIntersecting)})},K=new IntersectionObserver($,{threshold:.5});return A.current&&K.observe(A.current),()=>{K.disconnect()}}},[r]),j.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let M=()=>{o(!0)},G=()=>{o(!1),h(!1)};return n?r!=="intent"?[c,A,{}]:[c,A,{onFocus:yc(m,M),onBlur:yc(g,G),onMouseEnter:yc(p,M),onMouseLeave:yc(x,G),onTouchStart:yc(b,M)}]:[!1,A,{}]}function yc(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function ww({page:r,...e}){let{router:n}=e2(),s=j.useMemo(()=>UE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?j.createElement(Rw,{page:r,matches:s,...e}):null}function kw(r){let{manifest:e,routeModules:n}=t2(),[s,o]=j.useState([]);return j.useEffect(()=>{let c=!1;return _w(r,e,n).then(h=>{c||o(h)}),()=>{c=!0}},[r,e,n]),s}function Rw({page:r,matches:e,...n}){let s=Ri(),{future:o,manifest:c,routeModules:h}=t2(),{basename:m}=e2(),{loaderData:g,matches:p}=Sw(),x=j.useMemo(()=>Yv(r,e,p,c,s,"data"),[r,e,p,c,s]),b=j.useMemo(()=>Yv(r,e,p,c,s,"assets"),[r,e,p,c,s]),A=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let $=new Set,K=!1;if(e.forEach(Y=>{let oe=c.routes[Y.route.id];!oe||!oe.hasLoader||(!x.some(z=>z.route.id===Y.route.id)&&Y.route.id in g&&h[Y.route.id]?.shouldRevalidate||oe.hasClientLoader?K=!0:$.add(Y.route.id))}),$.size===0)return[];let Z=gw(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return K&&$.size>0&&Z.searchParams.set("_routes",e.filter(Y=>$.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[Z.pathname+Z.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,c,x,e,r,h]),M=j.useMemo(()=>Ew(b,c),[b,c]),G=kw(b);return j.createElement(j.Fragment,null,A.map($=>j.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...n})),M.map($=>j.createElement("link",{key:$,rel:"modulepreload",href:$,...n})),G.map(({key:$,link:K})=>j.createElement("link",{key:$,nonce:n.nonce,...K})))}function Cw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Iw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Iw&&(window.__reactRouterVersion="7.12.0")}catch{}function Nw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=j.useRef();o.current==null&&(o.current=hA({window:s,v5Compat:!0}));let c=o.current,[h,m]=j.useState({action:c.action,location:c.location}),g=j.useCallback(p=>{n===!1?m(p):j.startTransition(()=>m(p))},[n]);return j.useLayoutEffect(()=>c.listen(g),[c,g]),j.createElement(aw,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:n})}var n2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yh=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:h,state:m,target:g,to:p,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:A,...M},G){let{basename:$,unstable_useTransitions:K}=j.useContext(On),Z=typeof p=="string"&&n2.test(p),Y=FE(p,$);p=Y.to;let oe=GA(p,{relative:o}),[z,le,ae]=Aw(s,M),C=Mw(p,{replace:h,state:m,target:g,preventScrollReset:x,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:A,unstable_useTransitions:K});function R(N){e&&e(N),N.defaultPrevented||C(N)}let k=j.createElement("a",{...M,...ae,href:Y.absoluteURL||oe,onClick:Y.isExternal||c?e:R,ref:Cw(G,le),target:g,"data-discover":!Z&&n==="render"?"true":void 0});return z&&!Z?j.createElement(j.Fragment,null,k,j.createElement(ww,{page:oe})):k});Yh.displayName="Link";var Lw=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:h,viewTransition:m,children:g,...p},x){let b=Fc(h,{relative:p.relative}),A=Ri(),M=j.useContext(xd),{navigator:G,basename:$}=j.useContext(On),K=M!=null&&zw(b)&&m===!0,Z=G.encodeLocation?G.encodeLocation(b).pathname:b.pathname,Y=A.pathname,oe=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),oe=oe?oe.toLowerCase():null,Z=Z.toLowerCase()),oe&&$&&(oe=Ti(oe,$)||oe);const z=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let le=Y===Z||!o&&Y.startsWith(Z)&&Y.charAt(z)==="/",ae=oe!=null&&(oe===Z||!o&&oe.startsWith(Z)&&oe.charAt(Z.length)==="/"),C={isActive:le,isPending:ae,isTransitioning:K},R=le?e:void 0,k;typeof s=="function"?k=s(C):k=[s,le?"active":null,ae?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let N=typeof c=="function"?c(C):c;return j.createElement(Yh,{...p,"aria-current":R,className:k,ref:x,style:N,to:h,viewTransition:m},typeof g=="function"?g(C):g)});Lw.displayName="NavLink";var Dw=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:h=Vh,action:m,onSubmit:g,relative:p,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:A,...M},G)=>{let{unstable_useTransitions:$}=j.useContext(On),K=Pw(),Z=Uw(m,{relative:p}),Y=h.toLowerCase()==="get"?"get":"post",oe=typeof m=="string"&&n2.test(m),z=le=>{if(g&&g(le),le.defaultPrevented)return;le.preventDefault();let ae=le.nativeEvent.submitter,C=ae?.getAttribute("formmethod")||h,R=()=>K(ae||le.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:c,relative:p,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:A});$&&n!==!1?j.startTransition(()=>R()):R()};return j.createElement("form",{ref:G,method:Y,action:Z,onSubmit:s?g:z,...M,"data-discover":!oe&&r==="render"?"true":void 0})});Dw.displayName="Form";function jw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r2(r){let e=j.useContext(el);return dt(e,jw(r)),e}function Mw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=ag(),x=Ri(),b=Fc(r,{relative:c});return j.useCallback(A=>{if(dw(A,e)){A.preventDefault();let M=n!==void 0?n:Nc(x)===Nc(b),G=()=>p(r,{replace:M,state:s,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:m});g?j.startTransition(()=>G()):G()}},[x,p,b,n,s,e,r,o,c,h,m,g])}var Ow=0,Vw=()=>`__${String(++Ow)}__`;function Pw(){let{router:r}=r2("useSubmit"),{basename:e}=j.useContext(On),n=nw(),s=r.fetch,o=r.navigate;return j.useCallback(async(c,h={})=>{let{action:m,method:g,encType:p,formData:x,body:b}=pw(c,e);if(h.navigate===!1){let A=h.fetcherKey||Vw();await s(A,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:b,formMethod:h.method||g,formEncType:h.encType||p,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:b,formMethod:h.method||g,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function Uw(r,{relative:e}={}){let{basename:n}=j.useContext(On),s=j.useContext(Zr);dt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Fc(r||".",{relative:e})},h=Ri();if(r==null){c.search=h.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(x=>x==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let x=m.toString();c.search=x?`?${x}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Ei([n,c.pathname])),Nc(c)}function zw(r,{relative:e}={}){let n=j.useContext(WE);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=r2("useViewTransitionState"),o=Fc(r,{relative:e});if(!n.isTransitioning)return!1;let c=Ti(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Ti(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Qh(o.pathname,h)!=null||Qh(o.pathname,c)!=null}const Bw=()=>{};var Xv={};const i2=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Hw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],h=r[n++],m=r[n++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},s2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,x=c>>2,b=(c&3)<<4|m>>4;let A=(m&15)<<2|p>>6,M=p&63;g||(M=64,h||(A=64)),s.push(n[x],n[b],n[A],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(i2(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Hw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||m==null||p==null||b==null)throw new qw;const A=c<<2|m>>4;if(s.push(A),p!==64){const M=m<<4&240|p>>2;if(s.push(M),b!==64){const G=p<<6&192|b;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class qw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fw=function(r){const e=i2(r);return s2.encodeByteArray(e,!0)},Xh=function(r){return Fw(r).replace(/\./g,"")},a2=function(r){try{return s2.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Gw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ww=()=>Gw().__FIREBASE_DEFAULTS__,$w=()=>{if(typeof process>"u"||typeof Xv>"u")return;const r=Xv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Kw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&a2(r[1]);return e&&JSON.parse(e)},bd=()=>{try{return Bw()||Ww()||$w()||Kw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},o2=r=>bd()?.emulatorHosts?.[r],Qw=r=>{const e=o2(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},l2=()=>bd()?.config,c2=r=>bd()?.[`_${r}`];class Yw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function nl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function u2(r){return(await fetch(r,{credentials:"include"})).ok}function Xw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Xh(JSON.stringify(n)),Xh(JSON.stringify(h)),""].join(".")}const Ac={};function Zw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ac))Ac[e]?r.emulator.push(e):r.prod.push(e);return r}function Jw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Zv=!1;function h2(r,e){if(typeof window>"u"||typeof document>"u"||!nl(window.location.host)||Ac[r]===e||Ac[r]||Zv)return;Ac[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",c=Zw().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,M){A.setAttribute("width","24"),A.setAttribute("id",M),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Zv=!0,h()},A}function x(A,M){A.setAttribute("id",M),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=Jw(s),M=n("text"),G=document.getElementById(M)||document.createElement("span"),$=n("learnmore"),K=document.getElementById($)||document.createElement("a"),Z=n("preprendIcon"),Y=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const oe=A.element;m(oe),x(K,$);const z=p();g(Y,Z),oe.append(Y,G,K,z),document.body.appendChild(oe)}c?(G.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ek(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function tk(){const r=bd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function d2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function rk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ik(){const r=cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function sk(){return!tk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f2(){try{return typeof indexedDB=="object"}catch{return!1}}function m2(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function ak(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ok="FirebaseError";class Er extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ok,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ea.prototype.create)}}class Ea{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?lk(c,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Er(o,m,s)}}function lk(r,e){return r.replace(ck,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ck=/\{\$([^}]+)}/g;function uk(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Es(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=r[o],h=e[o];if(Jv(c)&&Jv(h)){if(!Es(c,h))return!1}else if(c!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Jv(r){return r!==null&&typeof r=="object"}function Gc(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function _c(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Ec(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function hk(r,e){const n=new dk(r,e);return n.subscribe.bind(n)}class dk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");fk(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=cp),o.error===void 0&&(o.error=cp),o.complete===void 0&&(o.complete=cp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fk(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function cp(){}const mk=1e3,pk=2,gk=14400*1e3,yk=.5;function e_(r,e=mk,n=pk){const s=e*Math.pow(n,r),o=Math.round(yk*s*(Math.random()-.5)*2);return Math.min(gk,s+o)}function vt(r){return r&&r._delegate?r._delegate:r}class yr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ca="[DEFAULT]";class vk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Yw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ek(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_k(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _k(r){return r===ca?void 0:r}function Ek(r){return r.instantiationMode==="EAGER"}class xk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const Tk={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},bk=Me.INFO,Sk={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Ak=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Sk[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sd{constructor(e){this.name=e,this._logLevel=bk,this._logHandler=Ak,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const wk=(r,e)=>e.some(n=>r instanceof n);let t_,n_;function kk(){return t_||(t_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rk(){return n_||(n_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p2=new WeakMap,Rp=new WeakMap,g2=new WeakMap,up=new WeakMap,hg=new WeakMap;function Ck(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",h)},c=()=>{n(ms(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&p2.set(n,r)}).catch(()=>{}),hg.set(e,r),e}function Ik(r){if(Rp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",h),r.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",h),r.addEventListener("abort",h)});Rp.set(r,e)}let Cp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Rp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||g2.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ms(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Nk(r){Cp=r(Cp)}function Lk(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(hp(this),e,...n);return g2.set(s,e.sort?e.sort():[e]),ms(s)}:Rk().includes(r)?function(...e){return r.apply(hp(this),e),ms(p2.get(this))}:function(...e){return ms(r.apply(hp(this),e))}}function Dk(r){return typeof r=="function"?Lk(r):(r instanceof IDBTransaction&&Ik(r),wk(r,kk())?new Proxy(r,Cp):r)}function ms(r){if(r instanceof IDBRequest)return Ck(r);if(up.has(r))return up.get(r);const e=Dk(r);return e!==r&&(up.set(r,e),hg.set(e,r)),e}const hp=r=>hg.get(r);function y2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const h=indexedDB.open(r,e),m=ms(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ms(h.result),g.oldVersion,g.newVersion,ms(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const jk=["get","getKey","getAll","getAllKeys","count"],Mk=["put","add","delete","clear"],dp=new Map;function r_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(dp.get(e))return dp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Mk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||jk.includes(n)))return;const c=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return dp.set(e,c),c}Nk(r=>({...r,get:(e,n,s)=>r_(e,n)||r.get(e,n,s),has:(e,n)=>!!r_(e,n)||r.has(e,n)}));class Ok{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Vk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Vk(r){return r.getComponent()?.type==="VERSION"}const Ip="@firebase/app",i_="0.14.7";const bi=new Sd("@firebase/app"),Pk="@firebase/app-compat",Uk="@firebase/analytics-compat",zk="@firebase/analytics",Bk="@firebase/app-check-compat",Hk="@firebase/app-check",qk="@firebase/auth",Fk="@firebase/auth-compat",Gk="@firebase/database",Wk="@firebase/data-connect",$k="@firebase/database-compat",Kk="@firebase/functions",Qk="@firebase/functions-compat",Yk="@firebase/installations",Xk="@firebase/installations-compat",Zk="@firebase/messaging",Jk="@firebase/messaging-compat",e4="@firebase/performance",t4="@firebase/performance-compat",n4="@firebase/remote-config",r4="@firebase/remote-config-compat",i4="@firebase/storage",s4="@firebase/storage-compat",a4="@firebase/firestore",o4="@firebase/ai",l4="@firebase/firestore-compat",c4="firebase",u4="12.8.0";const Np="[DEFAULT]",h4={[Ip]:"fire-core",[Pk]:"fire-core-compat",[zk]:"fire-analytics",[Uk]:"fire-analytics-compat",[Hk]:"fire-app-check",[Bk]:"fire-app-check-compat",[qk]:"fire-auth",[Fk]:"fire-auth-compat",[Gk]:"fire-rtdb",[Wk]:"fire-data-connect",[$k]:"fire-rtdb-compat",[Kk]:"fire-fn",[Qk]:"fire-fn-compat",[Yk]:"fire-iid",[Xk]:"fire-iid-compat",[Zk]:"fire-fcm",[Jk]:"fire-fcm-compat",[e4]:"fire-perf",[t4]:"fire-perf-compat",[n4]:"fire-rc",[r4]:"fire-rc-compat",[i4]:"fire-gcs",[s4]:"fire-gcs-compat",[a4]:"fire-fst",[l4]:"fire-fst-compat",[o4]:"fire-vertex","fire-js":"fire-js",[c4]:"fire-js-all"};const Zh=new Map,d4=new Map,Lp=new Map;function s_(r,e){try{r.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Yr(r){const e=r.name;if(Lp.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;Lp.set(e,r);for(const n of Zh.values())s_(n,r);for(const n of d4.values())s_(n,r);return!0}function xa(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function fr(r){return r==null?!1:r.settings!==void 0}const f4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new Ea("app","Firebase",f4);class m4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}const rl=u4;function v2(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Np,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ps.create("bad-app-name",{appName:String(o)});if(n||(n=l2()),!n)throw ps.create("no-options");const c=Zh.get(o);if(c){if(Es(n,c.options)&&Es(s,c.config))return c;throw ps.create("duplicate-app",{appName:o})}const h=new xk(o);for(const g of Lp.values())h.addComponent(g);const m=new m4(n,s,h);return Zh.set(o,m),m}function dg(r=Np){const e=Zh.get(r);if(!e&&r===Np&&l2())return v2();if(!e)throw ps.create("no-app",{appName:r});return e}function Zn(r,e,n){let s=h4[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(h.join(" "));return}Yr(new yr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const p4="firebase-heartbeat-database",g4=1,Lc="firebase-heartbeat-store";let fp=null;function _2(){return fp||(fp=y2(p4,g4,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Lc)}catch(n){console.warn(n)}}}}).catch(r=>{throw ps.create("idb-open",{originalErrorMessage:r.message})})),fp}async function y4(r){try{const n=(await _2()).transaction(Lc),s=await n.objectStore(Lc).get(E2(r));return await n.done,s}catch(e){if(e instanceof Er)bi.warn(e.message);else{const n=ps.create("idb-get",{originalErrorMessage:e?.message});bi.warn(n.message)}}}async function a_(r,e){try{const s=(await _2()).transaction(Lc,"readwrite");await s.objectStore(Lc).put(e,E2(r)),await s.done}catch(n){if(n instanceof Er)bi.warn(n.message);else{const s=ps.create("idb-set",{originalErrorMessage:n?.message});bi.warn(s.message)}}}function E2(r){return`${r.name}!${r.options.appId}`}const v4=1024,_4=30;class E4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new T4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=o_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>_4){const o=b4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=o_(),{heartbeatsToSend:n,unsentEntries:s}=x4(this._heartbeatsCache.heartbeats),o=Xh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return bi.warn(e),""}}}function o_(){return new Date().toISOString().substring(0,10)}function x4(r,e=v4){const n=[];let s=r.slice();for(const o of r){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),l_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),l_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class T4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f2()?m2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await y4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return a_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return a_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function l_(r){return Xh(JSON.stringify({version:2,heartbeats:r})).length}function b4(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function S4(r){Yr(new yr("platform-logger",e=>new Ok(e),"PRIVATE")),Yr(new yr("heartbeat",e=>new E4(e),"PRIVATE")),Zn(Ip,i_,r),Zn(Ip,i_,"esm2020"),Zn("fire-js","")}S4("");function x2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A4=x2,T2=new Ea("auth","Firebase",x2());const Jh=new Sd("@firebase/auth");function w4(r,...e){Jh.logLevel<=Me.WARN&&Jh.warn(`Auth (${rl}): ${r}`,...e)}function Uh(r,...e){Jh.logLevel<=Me.ERROR&&Jh.error(`Auth (${rl}): ${r}`,...e)}function vr(r,...e){throw fg(r,...e)}function Gr(r,...e){return fg(r,...e)}function b2(r,e,n){const s={...A4(),[e]:n};return new Ea("auth","Firebase",s).create(e,{appName:r.name})}function gs(r){return b2(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return T2.create(r,...e)}function Ee(r,e,...n){if(!r)throw fg(e,...n)}function vi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Uh(e),new Error(e)}function Si(r,e){r||vi(e)}function Dp(){return typeof self<"u"&&self.location?.href||""}function k4(){return c_()==="http:"||c_()==="https:"}function c_(){return typeof self<"u"&&self.location?.protocol||null}function R4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k4()||d2()||"connection"in navigator)?navigator.onLine:!0}function C4(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Si(n>e,"Short delay should be less than long delay!"),this.isMobile=ek()||rk()}get(){return R4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mg(r,e){Si(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class S2{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const I4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const N4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L4=new Wc(3e4,6e4);function Ta(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Rs(r,e,n,s,o={}){return A2(r,o,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const m=Gc({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...c};return nk()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&nl(r.emulatorConfig.host)&&(p.credentials="include"),S2.fetch()(await w2(r,r.config.apiHost,n,m),p)})}async function A2(r,e,n){r._canInitEmulator=!1;const s={...I4,...e};try{const o=new j4(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Nh(r,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Nh(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Nh(r,"user-disabled",h);const x=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw b2(r,x,p);vr(r,x)}}catch(o){if(o instanceof Er)throw o;vr(r,"network-request-failed",{message:String(o)})}}async function Ad(r,e,n,s,o={}){const c=await Rs(r,e,n,s,o);return"mfaPendingCredential"in c&&vr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function w2(r,e,n,s){const o=`${e}${n}?${s}`,c=r,h=c.config.emulator?mg(r.config,o):`${r.config.apiScheme}://${o}`;return N4.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function D4(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Gr(this.auth,"network-request-failed")),L4.get())})}}function Nh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Gr(r,e,s);return o.customData._tokenResponse=n,o}function u_(r){return r!==void 0&&r.enterprise!==void 0}class M4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return D4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function O4(r,e){return Rs(r,"GET","/v2/recaptchaConfig",Ta(r,e))}async function V4(r,e){return Rs(r,"POST","/v1/accounts:delete",e)}async function ed(r,e){return Rs(r,"POST","/v1/accounts:lookup",e)}function wc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P4(r,e=!1){const n=vt(r),s=await n.getIdToken(e),o=pg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:s,authTime:wc(mp(o.auth_time)),issuedAtTime:wc(mp(o.iat)),expirationTime:wc(mp(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function mp(r){return Number(r)*1e3}function pg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=a2(n);return o?JSON.parse(o):(Uh("Failed to decode base64 JWT payload"),null)}catch(o){return Uh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function h_(r){const e=pg(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Dc(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Er&&U4(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function U4({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class z4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class jp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wc(this.lastLoginAt),this.creationTime=wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function td(r){const e=r.auth,n=await r.getIdToken(),s=await Dc(r,ed(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?k2(o.providerUserInfo):[],h=H4(r.providerData,c),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,p=m?g:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new jp(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,x)}async function B4(r){const e=vt(r);await td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H4(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function k2(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function q4(r,e){const n=await A2(r,{},async()=>{const s=Gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,h=await w2(r,o,"/v1/token",`key=${c}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&nl(r.emulatorConfig.host)&&(g.credentials="include"),S2.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function F4(r,e){return Rs(r,"POST","/v2/accounts:revokeToken",Ta(r,e))}class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=h_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await q4(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,h=new Uo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return vi("not implemented")}}function ls(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class mr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new z4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Dc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return P4(this,e)}reload(){return B4(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await td(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(gs(this.auth));const e=await this.getIdToken();return await Dc(this,V4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:b,emailVerified:A,isAnonymous:M,providerData:G,stsTokenManager:$}=n;Ee(b&&$,e,"internal-error");const K=Uo.fromJSON(this.name,$);Ee(typeof b=="string",e,"internal-error"),ls(s,e.name),ls(o,e.name),Ee(typeof A=="boolean",e,"internal-error"),Ee(typeof M=="boolean",e,"internal-error"),ls(c,e.name),ls(h,e.name),ls(m,e.name),ls(g,e.name),ls(p,e.name),ls(x,e.name);const Z=new mr({uid:b,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:M,photoURL:h,phoneNumber:c,tenantId:m,stsTokenManager:K,createdAt:p,lastLoginAt:x});return G&&Array.isArray(G)&&(Z.providerData=G.map(Y=>({...Y}))),g&&(Z._redirectEventId=g),Z}static async _fromIdTokenResponse(e,n,s=!1){const o=new Uo;o.updateFromServerResponse(n);const c=new mr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await td(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?k2(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,m=new Uo;m.updateFromIdToken(s);const g=new mr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new jp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,p),g}}const d_=new Map;function _i(r){Si(r instanceof Function,"Expected a class definition");let e=d_.get(r);return e?(Si(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,d_.set(r,e),e)}class R2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}R2.type="NONE";const f_=R2;function zh(r,e,n){return`firebase:${r}:${e}:${n}`}class zo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=zh(this.userKey,o.apiKey,c),this.fullPersistenceKey=zh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ed(this.auth,{idToken:e}).catch(()=>{});return n?mr._fromGetAccountInfoResponse(this.auth,n,e):null}return mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new zo(_i(f_),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||_i(f_);const h=zh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const x=await p._get(h);if(x){let b;if(typeof x=="string"){const A=await ed(e,{idToken:x}).catch(()=>{});if(!A)break;b=await mr._fromGetAccountInfoResponse(e,A,x)}else b=mr._fromJSON(e,x);p!==c&&(m=b),c=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new zo(c,e,s):(c=g[0],m&&await c._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==c)try{await p._remove(h)}catch{}})),new zo(c,e,s))}}function m_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j2(e))return"Blackberry";if(M2(e))return"Webos";if(I2(e))return"Safari";if((e.includes("chrome/")||N2(e))&&!e.includes("edge/"))return"Chrome";if(D2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function C2(r=cn()){return/firefox\//i.test(r)}function I2(r=cn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N2(r=cn()){return/crios\//i.test(r)}function L2(r=cn()){return/iemobile/i.test(r)}function D2(r=cn()){return/android/i.test(r)}function j2(r=cn()){return/blackberry/i.test(r)}function M2(r=cn()){return/webos/i.test(r)}function gg(r=cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function G4(r=cn()){return gg(r)&&!!window.navigator?.standalone}function W4(){return ik()&&document.documentMode===10}function O2(r=cn()){return gg(r)||D2(r)||M2(r)||j2(r)||/windows phone/i.test(r)||L2(r)}function V2(r,e=[]){let n;switch(r){case"Browser":n=m_(cn());break;case"Worker":n=`${m_(cn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rl}/${s}`}class $4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((h,m)=>{try{const g=e(c);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function K4(r,e={}){return Rs(r,"GET","/v2/passwordPolicy",Ta(r,e))}const Q4=6;class Y4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Q4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class X4{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p_(this),this.idTokenSubscription=new p_(this),this.beforeStateQueue=new $4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ed(this,{idToken:e}),s=await mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await td(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(gs(this));const n=e?vt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await K4(this),n=new Y4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ea("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await F4(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_i(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&w4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function il(r){return vt(r)}class p_{constructor(e){this.auth=e,this.observer=null,this.addObserver=hk(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z4(r){wd=r}function P2(r){return wd.loadJS(r)}function J4(){return wd.recaptchaEnterpriseScript}function eR(){return wd.gapiScript}function tR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class nR{constructor(){this.enterprise=new rR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class rR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iR="recaptcha-enterprise",U2="NO_RECAPTCHA";class sR{constructor(e){this.type=iR,this.auth=il(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,m)=>{O4(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new M4(g);return c.tenantId==null?c._agentRecaptchaConfig=p:c._tenantRecaptchaConfigs[c.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(c,h,m){const g=window.grecaptcha;u_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(p=>{h(p)}).catch(()=>{h(U2)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nR().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{s(this.auth).then(m=>{if(!n&&u_(window.grecaptcha))o(m,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=J4();g.length!==0&&(g+=m),P2(g).then(()=>{o(m,c,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function g_(r,e,n,s=!1,o=!1){const c=new sR(r);let h;if(o)h=U2;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function y_(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await g_(r,e,n,n==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await g_(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(c)})}function aR(r,e){const n=xa(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Es(c,e??{}))return o;vr(o,"already-initialized")}return n.initialize({options:e})}function oR(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(_i);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function lR(r,e,n){const s=il(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=z2(e),{host:h,port:m}=cR(e),g=m===null?"":`:${m}`,p={url:`${c}//${h}${g}/`},x=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Es(p,s.config.emulator)&&Es(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,nl(h)?(u2(`${c}//${h}${g}`),h2("Auth",!0)):uR()}function z2(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function cR(r){const e=z2(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:v_(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:v_(h)}}}function v_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function uR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class yg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,n){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}}async function hR(r,e){return Rs(r,"POST","/v1/accounts:signUp",e)}async function dR(r,e){return Ad(r,"POST","/v1/accounts:signInWithPassword",Ta(r,e))}async function fR(r,e){return Ad(r,"POST","/v1/accounts:signInWithEmailLink",Ta(r,e))}async function mR(r,e){return Ad(r,"POST","/v1/accounts:signInWithEmailLink",Ta(r,e))}class jc extends yg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new jc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new jc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y_(e,n,"signInWithPassword",dR);case"emailLink":return fR(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y_(e,s,"signUpPassword",hR);case"emailLink":return mR(e,{idToken:n,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Bo(r,e){return Ad(r,"POST","/v1/accounts:signInWithIdp",Ta(r,e))}const pR="http://localhost";class pa extends yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const h=new pa(s,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Bo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Bo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bo(e,n)}buildRequest(){const e={requestUri:pR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gc(n)}return e}}function gR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yR(r){const e=_c(Ec(r)).link,n=e?_c(Ec(e)).deep_link_id:null,s=_c(Ec(r)).deep_link_id;return(s?_c(Ec(s)).link:null)||s||n||e||r}class vg{constructor(e){const n=_c(Ec(e)),s=n.apiKey??null,o=n.oobCode??null,c=gR(n.mode??null);Ee(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=yR(e);try{return new vg(n)}catch{return null}}}class sl{constructor(){this.providerId=sl.PROVIDER_ID}static credential(e,n){return jc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=vg.parseLink(n);return Ee(s,"argument-error"),jc._fromEmailAndCode(e,s.code,s.tenantId)}}sl.PROVIDER_ID="password";sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class B2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $c extends B2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cs extends $c{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";class us extends $c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pa._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return us.credential(n,s)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";class hs extends $c{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";class ds extends $c{constructor(){super("twitter.com")}static credential(e,n){return pa._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ds.credential(n,s)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";class Go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await mr._fromIdTokenResponse(e,s,o),h=__(s);return new Go({user:c,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=__(s);return new Go({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function __(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class nd extends Er{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,nd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new nd(e,n,s,o)}}function H2(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?nd._fromErrorAndOperation(r,c,e,s):c})}async function vR(r,e,n=!1){const s=await Dc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Go._forOperation(r,"link",s)}async function _R(r,e,n=!1){const{auth:s}=r;if(fr(s.app))return Promise.reject(gs(s));const o="reauthenticate";try{const c=await Dc(r,H2(s,o,e,r),n);Ee(c.idToken,s,"internal-error");const h=pg(c.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(r.uid===m,s,"user-mismatch"),Go._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&vr(s,"user-mismatch"),c}}async function q2(r,e,n=!1){if(fr(r.app))return Promise.reject(gs(r));const s="signIn",o=await H2(r,s,e),c=await Go._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(c.user),c}async function ER(r,e){return q2(il(r),e)}async function xR(r){const e=il(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function TR(r,e,n){return fr(r.app)?Promise.reject(gs(r)):ER(vt(r),sl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&xR(r),s})}function bR(r,e,n,s){return vt(r).onIdTokenChanged(e,n,s)}function SR(r,e,n){return vt(r).beforeAuthStateChanged(e,n)}function AR(r,e,n,s){return vt(r).onAuthStateChanged(e,n,s)}function wR(r){return vt(r).signOut()}const rd="__sak";class F2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kR=1e3,RR=10;class G2 extends F2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);W4()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,RR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},kR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}G2.type="LOCAL";const CR=G2;class W2 extends F2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}W2.type="SESSION";const $2=W2;function IR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new kd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,c)),g=await IR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kd.receivers=[];function _g(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class NR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((m,g)=>{const p=_g("",20);o.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(A.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Wr(){return window}function LR(r){Wr().location.href=r}function K2(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function DR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jR(){return navigator?.serviceWorker?.controller||null}function MR(){return K2()?self:null}const Q2="firebaseLocalStorageDb",OR=1,id="firebaseLocalStorage",Y2="fbase_key";class Kc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rd(r,e){return r.transaction([id],e?"readwrite":"readonly").objectStore(id)}function VR(){const r=indexedDB.deleteDatabase(Q2);return new Kc(r).toPromise()}function Mp(){const r=indexedDB.open(Q2,OR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(id,{keyPath:Y2})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(id)?e(s):(s.close(),await VR(),e(await Mp()))})})}async function E_(r,e,n){const s=Rd(r,!0).put({[Y2]:e,value:n});return new Kc(s).toPromise()}async function PR(r,e){const n=Rd(r,!1).get(e),s=await new Kc(n).toPromise();return s===void 0?null:s.value}function x_(r,e){const n=Rd(r,!0).delete(e);return new Kc(n).toPromise()}const UR=800,zR=3;class X2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>zR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kd._getInstance(MR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DR(),!this.activeServiceWorker)return;this.sender=new NR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mp();return await E_(e,rd,"1"),await x_(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>E_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>PR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>x_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Rd(o,!1).getAll();return new Kc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X2.type="LOCAL";const BR=X2;new Wc(3e4,6e4);function HR(r,e){return e?_i(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Eg extends yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qR(r){return q2(r.auth,new Eg(r),r.bypassAuthState)}function FR(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),_R(n,new Eg(r),r.bypassAuthState)}async function GR(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),vR(n,new Eg(r),r.bypassAuthState)}class Z2{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qR;case"linkViaPopup":case"linkViaRedirect":return GR;case"reauthViaPopup":case"reauthViaRedirect":return FR;default:vr(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const WR=new Wc(2e3,1e4);class Po extends Z2{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Po.currentPopupAction&&Po.currentPopupAction.cancel(),Po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=_g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Po.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WR.get())};e()}}Po.currentPopupAction=null;const $R="pendingRedirect",Bh=new Map;class KR extends Z2{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Bh.get(this.auth._key());if(!e){try{const s=await QR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Bh.set(this.auth._key(),e)}return this.bypassAuthState||Bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QR(r,e){const n=ZR(e),s=XR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function YR(r,e){Bh.set(r._key(),e)}function XR(r){return _i(r._redirectPersistence)}function ZR(r){return zh($R,r.config.apiKey,r.name)}async function JR(r,e,n=!1){if(fr(r.app))return Promise.reject(gs(r));const s=il(r),o=HR(s,e),h=await new KR(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const e6=600*1e3;class t6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!J2(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Gr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e6&&this.cachedEventUids.clear(),this.cachedEventUids.has(T_(e))}saveEventToCache(e){this.cachedEventUids.add(T_(e)),this.lastProcessedEventTime=Date.now()}}function T_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function J2({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function n6(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J2(r);default:return!1}}async function r6(r,e={}){return Rs(r,"GET","/v1/projects",e)}const i6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s6=/^https?/;async function a6(r){if(r.config.emulator)return;const{authorizedDomains:e}=await r6(r);for(const n of e)try{if(o6(n))return}catch{}vr(r,"unauthorized-domain")}function o6(r){const e=Dp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!s6.test(n))return!1;if(i6.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const l6=new Wc(3e4,6e4);function b_(){const r=Wr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function c6(r){return new Promise((e,n)=>{function s(){b_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b_(),n(Gr(r,"network-request-failed"))},timeout:l6.get()})}if(Wr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Wr().gapi?.load)s();else{const o=tR("iframefcb");return Wr()[o]=()=>{gapi.load?s():n(Gr(r,"network-request-failed"))},P2(`${eR()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Hh=null,e})}let Hh=null;function u6(r){return Hh=Hh||c6(r),Hh}const h6=new Wc(5e3,15e3),d6="__/auth/iframe",f6="emulator/auth/iframe",m6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g6(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?mg(e,f6):`https://${r.config.authDomain}/${d6}`,s={apiKey:e.apiKey,appName:r.name,v:rl},o=p6.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Gc(s).slice(1)}`}async function y6(r){const e=await u6(r),n=Wr().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:g6(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m6,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const h=Gr(r,"network-request-failed"),m=Wr().setTimeout(()=>{c(h)},h6.get());function g(){Wr().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{c(h)})}))}const v6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_6=500,E6=600,x6="_blank",T6="http://localhost";class S_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b6(r,e,n,s=_6,o=E6){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...v6,width:s.toString(),height:o.toString(),top:c,left:h},p=cn().toLowerCase();n&&(m=N2(p)?x6:n),C2(p)&&(e=e||T6,g.scrollbars="yes");const x=Object.entries(g).reduce((A,[M,G])=>`${A}${M}=${G},`,"");if(G4(p)&&m!=="_self")return S6(e||"",m),new S_(null);const b=window.open(e||"",m,x);Ee(b,r,"popup-blocked");try{b.focus()}catch{}return new S_(b)}function S6(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const A6="__/auth/handler",w6="emulator/auth/handler",k6=encodeURIComponent("fac");async function A_(r,e,n,s,o,c){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:rl,eventId:o};if(e instanceof B2){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",uk(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,b]of Object.entries({}))h[x]=b}if(e instanceof $c){const x=e.getScopes().filter(b=>b!=="");x.length>0&&(h.scopes=x.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const x of Object.keys(m))m[x]===void 0&&delete m[x];const g=await r._getAppCheckToken(),p=g?`#${k6}=${encodeURIComponent(g)}`:"";return`${R6(r)}?${Gc(m).slice(1)}${p}`}function R6({config:r}){return r.emulator?mg(r,w6):`https://${r.authDomain}/${A6}`}const pp="webStorageSupport";class C6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$2,this._completeRedirectFn=JR,this._overrideRedirectResult=YR}async _openPopup(e,n,s,o){Si(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await A_(e,n,s,Dp(),o);return b6(e,c,_g())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await A_(e,n,s,Dp(),o);return LR(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Si(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await y6(e),s=new t6(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pp,{type:pp},o=>{const c=o?.[0]?.[pp];c!==void 0&&n(!!c),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return O2()||I2()||gg()}}const I6=C6;var w_="@firebase/auth",k_="1.12.0";class N6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function L6(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D6(r){Yr(new yr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V2(r)},p=new X4(s,o,c,g);return oR(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Yr(new yr("auth-internal",e=>{const n=il(e.getProvider("auth").getImmediate());return(s=>new N6(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(w_,k_,L6(r)),Zn(w_,k_,"esm2020")}const j6=300,M6=c2("authIdTokenMaxAge")||j6;let R_=null;const O6=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>M6)return;const o=n?.token;R_!==o&&(R_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function V6(r=dg()){const e=xa(r,"auth");if(e.isInitialized())return e.getImmediate();const n=aR(r,{popupRedirectResolver:I6,persistence:[BR,CR,$2]}),s=c2("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=O6(c.toString());SR(n,h,()=>h(n.currentUser)),bR(n,m=>h(m))}}const o=o2("auth");return o&&lR(n,`http://${o}`),n}function P6(){return document.getElementsByTagName("head")?.[0]??document}Z4({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const c=Gr("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",P6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D6("Browser");var U6="firebase",z6="12.8.0";Zn(U6,z6,"app");var C_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ys,ex;(function(){var r;function e(C,R){function k(){}k.prototype=R.prototype,C.F=R.prototype,C.prototype=new k,C.prototype.constructor=C,C.D=function(N,L,P){for(var I=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)I[Xe-2]=arguments[Xe];return R.prototype[L].apply(N,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,R,k){k||(k=0);const N=Array(16);if(typeof R=="string")for(var L=0;L<16;++L)N[L]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(L=0;L<16;++L)N[L]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=C.g[0],k=C.g[1],L=C.g[2];let P=C.g[3],I;I=R+(P^k&(L^P))+N[0]+3614090360&4294967295,R=k+(I<<7&4294967295|I>>>25),I=P+(L^R&(k^L))+N[1]+3905402710&4294967295,P=R+(I<<12&4294967295|I>>>20),I=L+(k^P&(R^k))+N[2]+606105819&4294967295,L=P+(I<<17&4294967295|I>>>15),I=k+(R^L&(P^R))+N[3]+3250441966&4294967295,k=L+(I<<22&4294967295|I>>>10),I=R+(P^k&(L^P))+N[4]+4118548399&4294967295,R=k+(I<<7&4294967295|I>>>25),I=P+(L^R&(k^L))+N[5]+1200080426&4294967295,P=R+(I<<12&4294967295|I>>>20),I=L+(k^P&(R^k))+N[6]+2821735955&4294967295,L=P+(I<<17&4294967295|I>>>15),I=k+(R^L&(P^R))+N[7]+4249261313&4294967295,k=L+(I<<22&4294967295|I>>>10),I=R+(P^k&(L^P))+N[8]+1770035416&4294967295,R=k+(I<<7&4294967295|I>>>25),I=P+(L^R&(k^L))+N[9]+2336552879&4294967295,P=R+(I<<12&4294967295|I>>>20),I=L+(k^P&(R^k))+N[10]+4294925233&4294967295,L=P+(I<<17&4294967295|I>>>15),I=k+(R^L&(P^R))+N[11]+2304563134&4294967295,k=L+(I<<22&4294967295|I>>>10),I=R+(P^k&(L^P))+N[12]+1804603682&4294967295,R=k+(I<<7&4294967295|I>>>25),I=P+(L^R&(k^L))+N[13]+4254626195&4294967295,P=R+(I<<12&4294967295|I>>>20),I=L+(k^P&(R^k))+N[14]+2792965006&4294967295,L=P+(I<<17&4294967295|I>>>15),I=k+(R^L&(P^R))+N[15]+1236535329&4294967295,k=L+(I<<22&4294967295|I>>>10),I=R+(L^P&(k^L))+N[1]+4129170786&4294967295,R=k+(I<<5&4294967295|I>>>27),I=P+(k^L&(R^k))+N[6]+3225465664&4294967295,P=R+(I<<9&4294967295|I>>>23),I=L+(R^k&(P^R))+N[11]+643717713&4294967295,L=P+(I<<14&4294967295|I>>>18),I=k+(P^R&(L^P))+N[0]+3921069994&4294967295,k=L+(I<<20&4294967295|I>>>12),I=R+(L^P&(k^L))+N[5]+3593408605&4294967295,R=k+(I<<5&4294967295|I>>>27),I=P+(k^L&(R^k))+N[10]+38016083&4294967295,P=R+(I<<9&4294967295|I>>>23),I=L+(R^k&(P^R))+N[15]+3634488961&4294967295,L=P+(I<<14&4294967295|I>>>18),I=k+(P^R&(L^P))+N[4]+3889429448&4294967295,k=L+(I<<20&4294967295|I>>>12),I=R+(L^P&(k^L))+N[9]+568446438&4294967295,R=k+(I<<5&4294967295|I>>>27),I=P+(k^L&(R^k))+N[14]+3275163606&4294967295,P=R+(I<<9&4294967295|I>>>23),I=L+(R^k&(P^R))+N[3]+4107603335&4294967295,L=P+(I<<14&4294967295|I>>>18),I=k+(P^R&(L^P))+N[8]+1163531501&4294967295,k=L+(I<<20&4294967295|I>>>12),I=R+(L^P&(k^L))+N[13]+2850285829&4294967295,R=k+(I<<5&4294967295|I>>>27),I=P+(k^L&(R^k))+N[2]+4243563512&4294967295,P=R+(I<<9&4294967295|I>>>23),I=L+(R^k&(P^R))+N[7]+1735328473&4294967295,L=P+(I<<14&4294967295|I>>>18),I=k+(P^R&(L^P))+N[12]+2368359562&4294967295,k=L+(I<<20&4294967295|I>>>12),I=R+(k^L^P)+N[5]+4294588738&4294967295,R=k+(I<<4&4294967295|I>>>28),I=P+(R^k^L)+N[8]+2272392833&4294967295,P=R+(I<<11&4294967295|I>>>21),I=L+(P^R^k)+N[11]+1839030562&4294967295,L=P+(I<<16&4294967295|I>>>16),I=k+(L^P^R)+N[14]+4259657740&4294967295,k=L+(I<<23&4294967295|I>>>9),I=R+(k^L^P)+N[1]+2763975236&4294967295,R=k+(I<<4&4294967295|I>>>28),I=P+(R^k^L)+N[4]+1272893353&4294967295,P=R+(I<<11&4294967295|I>>>21),I=L+(P^R^k)+N[7]+4139469664&4294967295,L=P+(I<<16&4294967295|I>>>16),I=k+(L^P^R)+N[10]+3200236656&4294967295,k=L+(I<<23&4294967295|I>>>9),I=R+(k^L^P)+N[13]+681279174&4294967295,R=k+(I<<4&4294967295|I>>>28),I=P+(R^k^L)+N[0]+3936430074&4294967295,P=R+(I<<11&4294967295|I>>>21),I=L+(P^R^k)+N[3]+3572445317&4294967295,L=P+(I<<16&4294967295|I>>>16),I=k+(L^P^R)+N[6]+76029189&4294967295,k=L+(I<<23&4294967295|I>>>9),I=R+(k^L^P)+N[9]+3654602809&4294967295,R=k+(I<<4&4294967295|I>>>28),I=P+(R^k^L)+N[12]+3873151461&4294967295,P=R+(I<<11&4294967295|I>>>21),I=L+(P^R^k)+N[15]+530742520&4294967295,L=P+(I<<16&4294967295|I>>>16),I=k+(L^P^R)+N[2]+3299628645&4294967295,k=L+(I<<23&4294967295|I>>>9),I=R+(L^(k|~P))+N[0]+4096336452&4294967295,R=k+(I<<6&4294967295|I>>>26),I=P+(k^(R|~L))+N[7]+1126891415&4294967295,P=R+(I<<10&4294967295|I>>>22),I=L+(R^(P|~k))+N[14]+2878612391&4294967295,L=P+(I<<15&4294967295|I>>>17),I=k+(P^(L|~R))+N[5]+4237533241&4294967295,k=L+(I<<21&4294967295|I>>>11),I=R+(L^(k|~P))+N[12]+1700485571&4294967295,R=k+(I<<6&4294967295|I>>>26),I=P+(k^(R|~L))+N[3]+2399980690&4294967295,P=R+(I<<10&4294967295|I>>>22),I=L+(R^(P|~k))+N[10]+4293915773&4294967295,L=P+(I<<15&4294967295|I>>>17),I=k+(P^(L|~R))+N[1]+2240044497&4294967295,k=L+(I<<21&4294967295|I>>>11),I=R+(L^(k|~P))+N[8]+1873313359&4294967295,R=k+(I<<6&4294967295|I>>>26),I=P+(k^(R|~L))+N[15]+4264355552&4294967295,P=R+(I<<10&4294967295|I>>>22),I=L+(R^(P|~k))+N[6]+2734768916&4294967295,L=P+(I<<15&4294967295|I>>>17),I=k+(P^(L|~R))+N[13]+1309151649&4294967295,k=L+(I<<21&4294967295|I>>>11),I=R+(L^(k|~P))+N[4]+4149444226&4294967295,R=k+(I<<6&4294967295|I>>>26),I=P+(k^(R|~L))+N[11]+3174756917&4294967295,P=R+(I<<10&4294967295|I>>>22),I=L+(R^(P|~k))+N[2]+718787259&4294967295,L=P+(I<<15&4294967295|I>>>17),I=k+(P^(L|~R))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(L+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+L&4294967295,C.g[3]=C.g[3]+P&4294967295}s.prototype.v=function(C,R){R===void 0&&(R=C.length);const k=R-this.blockSize,N=this.C;let L=this.h,P=0;for(;P<R;){if(L==0)for(;P<=k;)o(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<R;)if(N[L++]=C.charCodeAt(P++),L==this.blockSize){o(this,N),L=0;break}}else for(;P<R;)if(N[L++]=C[P++],L==this.blockSize){o(this,N),L=0;break}}this.h=L,this.o+=R},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var k=C.length-8;k<C.length;++k)C[k]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,k=0;k<4;++k)for(let N=0;N<32;N+=8)C[R++]=this.g[k]>>>N&255;return C};function c(C,R){var k=m;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=R(C)}function h(C,R){this.h=R;const k=[];let N=!0;for(let L=C.length-1;L>=0;L--){const P=C[L]|0;N&&P==R||(k[L]=P,N=!1)}this.g=k}var m={};function g(C){return-128<=C&&C<128?c(C,function(R){return new h([R|0],R<0?-1:0)}):new h([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return K(p(-C));const R=[];let k=1;for(let N=0;C>=k;N++)R[N]=C/k|0,k*=4294967296;return new h(R,0)}function x(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return K(x(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=p(Math.pow(R,8));let N=b;for(let P=0;P<C.length;P+=8){var L=Math.min(8,C.length-P);const I=parseInt(C.substring(P,P+L),R);L<8?(L=p(Math.pow(R,L)),N=N.j(L).add(p(I))):(N=N.j(k),N=N.add(p(I)))}return N}var b=g(0),A=g(1),M=g(16777216);r=h.prototype,r.m=function(){if($(this))return-K(this).m();let C=0,R=1;for(let k=0;k<this.g.length;k++){const N=this.i(k);C+=(N>=0?N:4294967296+N)*R,R*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(G(this))return"0";if($(this))return"-"+K(this).toString(C);const R=p(Math.pow(C,6));var k=this;let N="";for(;;){const L=z(k,R).g;k=Z(k,L.j(R));let P=((k.g.length>0?k.g[0]:k.h)>>>0).toString(C);if(k=L,G(k))return P+N;for(;P.length<6;)P="0"+P;N=P+N}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function G(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function $(C){return C.h==-1}r.l=function(C){return C=Z(this,C),$(C)?-1:G(C)?0:1};function K(C){const R=C.g.length,k=[];for(let N=0;N<R;N++)k[N]=~C.g[N];return new h(k,~C.h).add(A)}r.abs=function(){return $(this)?K(this):this},r.add=function(C){const R=Math.max(this.g.length,C.g.length),k=[];let N=0;for(let L=0;L<=R;L++){let P=N+(this.i(L)&65535)+(C.i(L)&65535),I=(P>>>16)+(this.i(L)>>>16)+(C.i(L)>>>16);N=I>>>16,P&=65535,I&=65535,k[L]=I<<16|P}return new h(k,k[k.length-1]&-2147483648?-1:0)};function Z(C,R){return C.add(K(R))}r.j=function(C){if(G(this)||G(C))return b;if($(this))return $(C)?K(this).j(K(C)):K(K(this).j(C));if($(C))return K(this.j(K(C)));if(this.l(M)<0&&C.l(M)<0)return p(this.m()*C.m());const R=this.g.length+C.g.length,k=[];for(var N=0;N<2*R;N++)k[N]=0;for(N=0;N<this.g.length;N++)for(let L=0;L<C.g.length;L++){const P=this.i(N)>>>16,I=this.i(N)&65535,Xe=C.i(L)>>>16,ft=C.i(L)&65535;k[2*N+2*L]+=I*ft,Y(k,2*N+2*L),k[2*N+2*L+1]+=P*ft,Y(k,2*N+2*L+1),k[2*N+2*L+1]+=I*Xe,Y(k,2*N+2*L+1),k[2*N+2*L+2]+=P*Xe,Y(k,2*N+2*L+2)}for(C=0;C<R;C++)k[C]=k[2*C+1]<<16|k[2*C];for(C=R;C<2*R;C++)k[C]=0;return new h(k,0)};function Y(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function oe(C,R){this.g=C,this.h=R}function z(C,R){if(G(R))throw Error("division by zero");if(G(C))return new oe(b,b);if($(C))return R=z(K(C),R),new oe(K(R.g),K(R.h));if($(R))return R=z(C,K(R)),new oe(K(R.g),R.h);if(C.g.length>30){if($(C)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var k=A,N=R;N.l(C)<=0;)k=le(k),N=le(N);var L=ae(k,1),P=ae(N,1);for(N=ae(N,2),k=ae(k,2);!G(N);){var I=P.add(N);I.l(C)<=0&&(L=L.add(k),P=I),N=ae(N,1),k=ae(k,1)}return R=Z(C,L.j(R)),new oe(L,R)}for(L=b;C.l(R)>=0;){for(k=Math.max(1,Math.floor(C.m()/R.m())),N=Math.ceil(Math.log(k)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),P=p(k),I=P.j(R);$(I)||I.l(C)>0;)k-=N,P=p(k),I=P.j(R);G(P)&&(P=A),L=L.add(P),C=Z(C,I)}return new oe(L,C)}r.B=function(C){return z(this,C).h},r.and=function(C){const R=Math.max(this.g.length,C.g.length),k=[];for(let N=0;N<R;N++)k[N]=this.i(N)&C.i(N);return new h(k,this.h&C.h)},r.or=function(C){const R=Math.max(this.g.length,C.g.length),k=[];for(let N=0;N<R;N++)k[N]=this.i(N)|C.i(N);return new h(k,this.h|C.h)},r.xor=function(C){const R=Math.max(this.g.length,C.g.length),k=[];for(let N=0;N<R;N++)k[N]=this.i(N)^C.i(N);return new h(k,this.h^C.h)};function le(C){const R=C.g.length+1,k=[];for(let N=0;N<R;N++)k[N]=C.i(N)<<1|C.i(N-1)>>>31;return new h(k,C.h)}function ae(C,R){const k=R>>5;R%=32;const N=C.g.length-k,L=[];for(let P=0;P<N;P++)L[P]=R>0?C.i(P+k)>>>R|C.i(P+k+1)<<32-R:C.i(P+k);return new h(L,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ex=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=x,ys=h}).apply(typeof C_<"u"?C_:typeof self<"u"?self:typeof window<"u"?window:{});var Lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tx,xc,nx,qh,Op,rx,ix,sx;(function(){var r,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lh=="object"&&Lh];for(var v=0;v<u.length;++v){var T=u[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function o(u,v){if(v)e:{var T=s;u=u.split(".");for(var w=0;w<u.length-1;w++){var B=u[w];if(!(B in T))break e;T=T[B]}u=u[u.length-1],w=T[u],v=v(w),v!=w&&v!=null&&e(T,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var T=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&T.push([w,v[w]]);return T}});var c=c||{},h=this||self;function m(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function g(u,v,T){return u.call.apply(u.bind,arguments)}function p(u,v,T){return p=g,p.apply(null,arguments)}function x(u,v){var T=Array.prototype.slice.call(arguments,1);return function(){var w=T.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function b(u,v){function T(){}T.prototype=v.prototype,u.Z=v.prototype,u.prototype=new T,u.prototype.constructor=u,u.Ob=function(w,B,Q){for(var ce=Array(arguments.length-2),we=2;we<arguments.length;we++)ce[we-2]=arguments[we];return v.prototype[B].apply(w,ce)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function M(u){const v=u.length;if(v>0){const T=Array(v);for(let w=0;w<v;w++)T[w]=u[w];return T}return[]}function G(u,v){for(let w=1;w<arguments.length;w++){const B=arguments[w];var T=typeof B;if(T=T!="object"?T:B?Array.isArray(B)?"array":T:"null",T=="array"||T=="object"&&typeof B.length=="number"){T=u.length||0;const Q=B.length||0;u.length=T+Q;for(let ce=0;ce<Q;ce++)u[T+ce]=B[ce]}else u.push(B)}}class ${constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function K(u){h.setTimeout(()=>{throw u},0)}function Z(){var u=C;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class Y{constructor(){this.h=this.g=null}add(v,T){const w=oe.get();w.set(v,T),this.h?this.h.next=w:this.g=w,this.h=w}}var oe=new $(()=>new z,u=>u.reset());class z{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ae=!1,C=new Y,R=()=>{const u=Promise.resolve(void 0);le=()=>{u.then(k)}};function k(){for(var u;u=Z();){try{u.h.call(u.g)}catch(T){K(T)}var v=oe;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}ae=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};h.addEventListener("test",T,v),h.removeEventListener("test",T,v)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function Xe(u,v){L.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}b(Xe,L),Xe.prototype.init=function(u,v){const T=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(T=="mouseover"?v=u.fromElement:T=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),J=0;function F(u,v,T,w,B){this.listener=u,this.proxy=null,this.src=v,this.type=T,this.capture=!!w,this.ha=B,this.key=++J,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ie(u,v,T){for(const w in u)v.call(T,u[w],w,u)}function Be(u,v){for(const T in u)v.call(void 0,u[T],T,u)}function V(u){const v={};for(const T in u)v[T]=u[T];return v}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(u,v){let T,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(T in w)u[T]=w[T];for(let Q=0;Q<ie.length;Q++)T=ie[Q],Object.prototype.hasOwnProperty.call(w,T)&&(u[T]=w[T])}}function me(u){this.src=u,this.g={},this.h=0}me.prototype.add=function(u,v,T,w,B){const Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);const ce=Re(u,v,w,B);return ce>-1?(v=u[ce],T||(v.fa=!1)):(v=new F(v,this.src,Q,!!w,B),v.fa=T,u.push(v)),v};function Te(u,v){const T=v.type;if(T in u.g){var w=u.g[T],B=Array.prototype.indexOf.call(w,v,void 0),Q;(Q=B>=0)&&Array.prototype.splice.call(w,B,1),Q&&(fe(v),u.g[T].length==0&&(delete u.g[T],u.h--))}}function Re(u,v,T,w){for(let B=0;B<u.length;++B){const Q=u[B];if(!Q.da&&Q.listener==v&&Q.capture==!!T&&Q.ha==w)return B}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Vt={};function ct(u,v,T,w,B){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)ct(u,v[Q],T,w,B);return null}return T=fl(T),u&&u[ft]?u.J(v,T,m(w)?!!w.capture:!1,B):Ls(u,v,T,!1,w,B)}function Ls(u,v,T,w,B,Q){if(!v)throw Error("Invalid event type");const ce=m(B)?!!B.capture:!!B;let we=Ds(u);if(we||(u[Ue]=we=new me(u)),T=we.add(v,T,w,ce,Q),T.proxy)return T;if(w=qa(),T.proxy=w,w.src=u,w.listener=T,u.addEventListener)P||(B=ce),B===void 0&&(B=!1),u.addEventListener(v.toString(),w,B);else if(u.attachEvent)u.attachEvent(xr(v.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return T}function qa(){function u(T){return v.call(u.src,u.listener,T)}const v=hl;return u}function Fa(u,v,T,w,B){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Fa(u,v[Q],T,w,B);else w=m(w)?!!w.capture:!!w,T=fl(T),u&&u[ft]?(u=u.i,Q=String(v).toString(),Q in u.g&&(v=u.g[Q],T=Re(v,T,w,B),T>-1&&(fe(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete u.g[Q],u.h--)))):u&&(u=Ds(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Re(v,T,w,B)),(T=u>-1?v[u]:null)&&Ga(T))}function Ga(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[ft])Te(v.i,u);else{var T=u.type,w=u.proxy;v.removeEventListener?v.removeEventListener(T,w,u.capture):v.detachEvent?v.detachEvent(xr(T),w):v.addListener&&v.removeListener&&v.removeListener(w),(T=Ds(v))?(Te(T,u),T.h==0&&(T.src=null,v[Ue]=null)):fe(u)}}}function xr(u){return u in Vt?Vt[u]:Vt[u]="on"+u}function hl(u,v){if(u.da)u=!0;else{v=new Xe(v,this);const T=u.listener,w=u.ha||u.src;u.fa&&Ga(u),u=T.call(w,v)}return u}function Ds(u){return u=u[Ue],u instanceof me?u:null}var dl="__closure_events_fn_"+(Math.random()*1e9>>>0);function fl(u){return typeof u=="function"?u:(u[dl]||(u[dl]=function(v){return u.handleEvent(v)}),u[dl])}function St(){N.call(this),this.i=new me(this),this.M=this,this.G=null}b(St,N),St.prototype[ft]=!0,St.prototype.removeEventListener=function(u,v,T,w){Fa(this,u,v,T,w)};function Pt(u,v){var T,w=u.G;if(w)for(T=[];w;w=w.G)T.push(w);if(u=u.M,w=v.type||v,typeof v=="string")v=new L(v,u);else if(v instanceof L)v.target=v.target||u;else{var B=v;v=new L(w,u),ue(v,B)}B=!0;let Q,ce;if(T)for(ce=T.length-1;ce>=0;ce--)Q=v.g=T[ce],B=Ci(Q,w,!0,v)&&B;if(Q=v.g=u,B=Ci(Q,w,!0,v)&&B,B=Ci(Q,w,!1,v)&&B,T)for(ce=0;ce<T.length;ce++)Q=v.g=T[ce],B=Ci(Q,w,!1,v)&&B}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const T=u.g[v];for(let w=0;w<T.length;w++)fe(T[w]);delete u.g[v],u.h--}}this.G=null},St.prototype.J=function(u,v,T,w){return this.i.add(String(u),v,!1,T,w)},St.prototype.K=function(u,v,T,w){return this.i.add(String(u),v,!0,T,w)};function Ci(u,v,T,w){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let B=!0;for(let Q=0;Q<v.length;++Q){const ce=v[Q];if(ce&&!ce.da&&ce.capture==T){const we=ce.listener,Et=ce.ha||ce.src;ce.fa&&Te(u.i,ce),B=we.call(Et,w)!==!1&&B}}return B&&!w.defaultPrevented}function tf(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(u,v||0)}function tu(u){u.g=tf(()=>{u.g=null,u.i&&(u.i=!1,tu(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class un extends N{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:tu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(u){N.call(this),this.h=u,this.g={}}b(js,N);var ml=[];function pl(u){Ie(u.g,function(v,T){this.g.hasOwnProperty(T)&&Ga(v)},u),u.g={}}js.prototype.N=function(){js.Z.N.call(this),pl(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ii=h.JSON.stringify,nf=h.JSON.parse,nu=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function ru(){}function iu(){}var tr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){L.call(this,"d")}b($t,L);function Vn(){L.call(this,"c")}b(Vn,L);var _t={},su=null;function Wa(){return su=su||new St}_t.Ia="serverreachability";function au(u){L.call(this,_t.Ia,u)}b(au,L);function Tr(u){const v=Wa();Pt(v,new au(v))}_t.STAT_EVENT="statevent";function Ms(u,v){L.call(this,_t.STAT_EVENT,u),this.stat=v}b(Ms,L);function At(u){const v=Wa();Pt(v,new Ms(v,u))}_t.Ja="timingevent";function br(u,v){L.call(this,_t.Ja,u),this.size=v}b(br,L);function Sr(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},v)}function nr(){this.g=!0}nr.prototype.ua=function(){this.g=!1};function rf(u,v,T,w,B,Q){u.info(function(){if(u.g)if(Q){var ce="",we=Q.split("&");for(let Fe=0;Fe<we.length;Fe++){var Et=we[Fe].split("=");if(Et.length>1){const ut=Et[0];Et=Et[1];const Bn=ut.split("_");ce=Bn.length>=2&&Bn[1]=="type"?ce+(ut+"="+Et+"&"):ce+(ut+"=redacted&")}}}else ce=null;else ce=Q;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+v+`
`+T+`
`+ce})}function ou(u,v,T,w,B,Q,ce){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+v+`
`+T+`
`+Q+" "+ce})}function Ar(u,v,T,w){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+sf(u,T)+(w?" "+w:"")})}function Os(u,v){u.info(function(){return"TIMEOUT: "+v})}nr.prototype.info=function(){};function sf(u,v){if(!u.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(u=0;u<Q.length;u++)if(Array.isArray(Q[u])){var T=Q[u];if(!(T.length<2)){var w=T[1];if(Array.isArray(w)&&!(w.length<1)){var B=w[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ce=1;ce<w.length;ce++)w[ce]=""}}}}return Ii(Q)}catch{return v}}var Vs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yl;function Ps(){}b(Ps,ru),Ps.prototype.g=function(){return new XMLHttpRequest},yl=new Ps;function Jr(u){return encodeURIComponent(String(u))}function lu(u){var v=1;u=u.split(":");const T=[];for(;v>0&&u.length;)T.push(u.shift()),v--;return u.length&&T.push(u.join(":")),T}function rr(u,v,T,w){this.j=u,this.i=v,this.l=T,this.S=w||1,this.V=new js(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ir}function ir(){this.i=null,this.g="",this.h=!1}var wt={},Bt={};function wr(u,v,T){u.M=1,u.A=Us(Rt(v)),u.u=T,u.R=!0,$a(u,null)}function $a(u,v){u.F=Date.now(),kr(u),u.B=Rt(u.A);var T=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),Xa(T.i,"t",w),u.C=0,T=u.j.L,u.h=new ir,u.g=bu(u.j,T?v:null,!u.u),u.P>0&&(u.O=new un(p(u.Y,u,u.g),u.P)),v=u.V,T=u.g,w=u.ba;var B="readystatechange";Array.isArray(B)||(B&&(ml[0]=B.toString()),B=ml);for(let Q=0;Q<B.length;Q++){const ce=ct(T,B[Q],w||v.handleEvent,!1,v.h||v);if(!ce)break;v.g[ce.key]=ce}v=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),Tr(),rf(u.i,u.v,u.B,u.l,u.S,u.u)}rr.prototype.ba=function(u){u=u.target;const v=this.O;v&&or(u)==3?v.j():this.Y(u)},rr.prototype.Y=function(u){try{if(u==this.g)e:{const we=or(this.g),Et=this.g.ya(),Fe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||we!=4||Et==7||(Et==8||Fe<=0?Tr(3):Tr(2)),Rr(this);var v=this.g.ca();this.X=v;var T=af(this);if(this.o=v==200,ou(this.i,this.v,this.B,this.l,this.S,we,v),this.o){if(this.U&&!this.L){t:{if(this.g){var w,B=this.g;if((w=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var Q=w;break t}}Q=null}if(u=Q)Ar(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Cr(this,u);else{this.o=!1,this.m=3,At(12),An(this),Pn(this);break e}}if(this.R){u=!0;let ut;for(;!this.K&&this.C<T.length;)if(ut=uu(this,T),ut==Bt){we==4&&(this.m=4,At(14),u=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==wt){this.m=4,At(15),Ar(this.i,this.l,T,"[Invalid Chunk]"),u=!1;break}else Ar(this.i,this.l,ut,null),Cr(this,ut);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||T.length!=0||this.h.h||(this.m=1,At(16),u=!1),this.o=this.o&&u,!u)Ar(this.i,this.l,T,"[Invalid Chunked Response]"),An(this),Pn(this);else if(T.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Ll(ce),ce.P=!0,At(11))}}else Ar(this.i,this.l,T,null),Cr(this,T);we==4&&An(this),this.o&&!this.K&&(we==4?_u(this.j,this):(this.o=!1,kr(this)))}else ti(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),An(this),Pn(this)}}}catch{}};function af(u){if(!cu(u))return u.g.la();const v=Kt(u.g);if(v==="")return"";let T="";const w=v.length,B=or(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return An(u),Pn(u),"";u.h.i=new h.TextDecoder}for(let Q=0;Q<w;Q++)u.h.h=!0,T+=u.h.i.decode(v[Q],{stream:!(B&&Q==w-1)});return v.length=0,u.h.g+=T,u.C=0,u.h.g}function cu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,v){var T=u.C,w=v.indexOf(`
`,T);return w==-1?Bt:(T=Number(v.substring(T,w)),isNaN(T)?wt:(w+=1,w+T>v.length?Bt:(v=v.slice(w,w+T),u.C=w+T,v)))}rr.prototype.cancel=function(){this.K=!0,An(this)};function kr(u){u.T=Date.now()+u.H,Ka(u,u.H)}function Ka(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Sr(p(u.aa,u),v)}function Rr(u){u.D&&(h.clearTimeout(u.D),u.D=null)}rr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Os(this.i,this.B),this.M!=2&&(Tr(),At(17)),An(this),this.m=2,Pn(this)):Ka(this,this.T-u)};function Pn(u){u.j.I==0||u.K||_u(u.j,u)}function An(u){Rr(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,pl(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function Cr(u,v){try{var T=u.j;if(T.I!=0&&(T.g==u||Nr(T.h,u))){if(!u.L&&Nr(T.h,u)&&T.I==3){try{var w=T.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<u.F)no(T),Pi(T);else break e;Ws(T),At(18)}}else T.xa=B[1],0<T.xa-T.K&&B[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Sr(p(T.Va,T),6e3));Ir(T.h)<=1&&T.ta&&(T.ta=void 0)}else Vr(T,11)}else if((u.L||T.g==u)&&no(T),!I(v))for(B=T.Ba.g.parse(v),v=0;v<B.length;v++){let Fe=B[v];const ut=Fe[0];if(!(ut<=T.K))if(T.K=ut,Fe=Fe[1],T.I==2)if(Fe[0]=="c"){T.M=Fe[1],T.ba=Fe[2];const Bn=Fe[3];Bn!=null&&(T.ka=Bn,T.j.info("VER="+T.ka));const Pr=Fe[4];Pr!=null&&(T.za=Pr,T.j.info("SVER="+T.za));const lr=Fe[5];lr!=null&&typeof lr=="number"&&lr>0&&(w=1.5*lr,T.O=w,T.j.info("backChannelRequestTimeoutMs_="+w)),w=T;const cr=u.g;if(cr){const $s=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($s){var Q=w.h;Q.g||$s.indexOf("spdy")==-1&&$s.indexOf("quic")==-1&&$s.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(El(Q,Q.h),Q.h=null))}if(w.G){const ro=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;ro&&(w.wa=ro,$e(w.J,w.G,ro))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-u.F,T.j.info("Handshake RTT: "+T.T+"ms")),w=T;var ce=u;if(w.na=Tu(w,w.L?w.ba:null,w.W),ce.L){xl(w.h,ce);var we=ce,Et=w.O;Et&&(we.H=Et),we.D&&(Rr(we),kr(we)),w.g=ce}else yu(w);T.i.length>0&&Or(T)}else Fe[0]!="stop"&&Fe[0]!="close"||Vr(T,7);else T.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Vr(T,7):Il(T):Fe[0]!="noop"&&T.l&&T.l.qa(Fe),T.A=0)}}Tr(4)}catch{}}var kt=class{constructor(u,v){this.g=u,this.map=v}};function vl(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ir(u){return u.h?1:u.g?u.g.size:0}function Nr(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function El(u,v){u.g?u.g.add(v):u.h=v}function xl(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}vl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const T of u.g.values())v=v.concat(T.G);return v}return M(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qa(u,v){if(u){u=u.split("&");for(let T=0;T<u.length;T++){const w=u[T].indexOf("=");let B,Q=null;w>=0?(B=u[T].substring(0,w),Q=u[T].substring(w+1)):B=u[T],v(B,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function wn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof wn?(this.l=u.l,Ht(this,u.j),this.o=u.o,this.g=u.g,Ni(this,u.u),this.h=u.h,bl(this,pu(u.i)),this.m=u.m):u&&(v=String(u).match(hu))?(this.l=!1,Ht(this,v[1]||"",!0),this.o=Lr(v[2]||""),this.g=Lr(v[3]||"",!0),Ni(this,v[4]),this.h=Lr(v[5]||"",!0),bl(this,v[6]||"",!0),this.m=Lr(v[7]||"")):(this.l=!1,this.i=new Di(null,this.l))}wn.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(zs(v,Ya,!0),":");var T=this.g;return(T||v=="file")&&(u.push("//"),(v=this.o)&&u.push(zs(v,Ya,!0),"@"),u.push(Jr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&u.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(zs(T,T.charAt(0)=="/"?Sl:du,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",zs(T,fu)),u.join("")},wn.prototype.resolve=function(u){const v=Rt(this);let T=!!u.j;T?Ht(v,u.j):T=!!u.o,T?v.o=u.o:T=!!u.g,T?v.g=u.g:T=u.u!=null;var w=u.h;if(T)Ni(v,u.u);else if(T=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var B=v.h.lastIndexOf("/");B!=-1&&(w=v.h.slice(0,B+1)+w)}if(B=w,B==".."||B==".")w="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){w=B.lastIndexOf("/",0)==0,B=B.split("/");const Q=[];for(let ce=0;ce<B.length;){const we=B[ce++];we=="."?w&&ce==B.length&&Q.push(""):we==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),w&&ce==B.length&&Q.push("")):(Q.push(we),w=!0)}w=Q.join("/")}else w=B}return T?v.h=w:T=u.i.toString()!=="",T?bl(v,pu(u.i)):T=!!u.m,T&&(v.m=u.m),v};function Rt(u){return new wn(u)}function Ht(u,v,T){u.j=T?Lr(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Ni(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function bl(u,v,T){v instanceof Di?(u.i=v,Za(u.i,u.l)):(T||(v=zs(v,Li)),u.i=new Di(v,u.l))}function $e(u,v,T){u.i.set(v,T)}function Us(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Lr(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function zs(u,v,T){return typeof u=="string"?(u=encodeURI(u).replace(v,pn),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ya=/[#\/\?@]/g,du=/[#\?:]/g,Sl=/[#\?]/g,Li=/[#\?@]/g,fu=/#/g;function Di(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&Qa(u.i,function(v,T){u.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}r=Di.prototype,r.add=function(u,v){gn(this),this.i=null,u=ji(this,u);let T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(v),this.h+=1,this};function mu(u,v){gn(u),v=ji(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Al(u,v){return gn(u),v=ji(u,v),u.g.has(v)}r.forEach=function(u,v){gn(this),this.g.forEach(function(T,w){T.forEach(function(B){u.call(v,B,w,this)},this)},this)};function wl(u,v){gn(u);let T=[];if(typeof v=="string")Al(u,v)&&(T=T.concat(u.g.get(ji(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)T=T.concat(u[v]);return T}r.set=function(u,v){return gn(this),this.i=null,u=ji(this,u),Al(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},r.get=function(u,v){return u?(u=wl(this,u),u.length>0?String(u[0]):v):v};function Xa(u,v,T){mu(u,v),T.length>0&&(u.i=null,u.g.set(ji(u,v),M(T)),u.h+=T.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var T=v[w];const B=Jr(T);T=wl(this,T);for(let Q=0;Q<T.length;Q++){let ce=B;T[Q]!==""&&(ce+="="+Jr(T[Q])),u.push(ce)}}return this.i=u.join("&")};function pu(u){const v=new Di;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function ji(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Za(u,v){v&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(T,w){const B=w.toLowerCase();w!=B&&(mu(this,w),Xa(this,B,T))},u)),u.j=v}function sr(u,v){const T=new nr;if(h.Image){const w=new Image;w.onload=x(Un,T,"TestLoadImage: loaded",!0,v,w),w.onerror=x(Un,T,"TestLoadImage: error",!1,v,w),w.onabort=x(Un,T,"TestLoadImage: abort",!1,v,w),w.ontimeout=x(Un,T,"TestLoadImage: timeout",!1,v,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else v(!1)}function kl(u,v){const T=new nr,w=new AbortController,B=setTimeout(()=>{w.abort(),Un(T,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:w.signal}).then(Q=>{clearTimeout(B),Q.ok?Un(T,"TestPingServer: ok",!0,v):Un(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(B),Un(T,"TestPingServer: error",!1,v)})}function Un(u,v,T,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(T)}catch{}}function Mi(){this.g=new nu}function Dr(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Dr,ru),Dr.prototype.g=function(){return new Bs(this.i,this.h)};function Bs(u,v){St.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Bs,St),r=Bs.prototype,r.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,ar(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Oi(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ja(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ja(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Oi(this):ar(this),this.readyState==3&&Ja(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Oi(this))},r.Na=function(u){this.g&&(this.response=u,Oi(this))},r.ga=function(){this.g&&Oi(this)};function Oi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ar(u)}r.setRequestHeader=function(u,v){this.A.append(u,v)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=v.next();return u.join(`\r
`)};function ar(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function zn(u){let v="";return Ie(u,function(T,w){v+=w,v+=":",v+=T,v+=`\r
`}),v}function Hs(u,v,T){e:{for(w in T){var w=!1;break e}w=!0}w||(T=zn(T),typeof u=="string"?T!=null&&Jr(T):$e(u,v,T))}function Ze(u){St.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ze,St);var jr=/^https?$/i,Rl=["POST","PUT"];r=Ze.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,v,T,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yl.g(),this.g.onreadystatechange=A(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(Q){qs(this,Q);return}if(u=T||"",T=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)T.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())T.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(Rl,v,void 0)>=0)||w||B||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ce]of T)this.g.setRequestHeader(Q,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Q){qs(this,Q)}};function qs(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,Cl(u),ei(u)}function Cl(u){u.A||(u.A=!0,Pt(u,"complete"),Pt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Pt(this,"complete"),Pt(this,"abort"),ei(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Fs(this):this.Xa())},r.Xa=function(){Fs(this)};function Fs(u){if(u.h&&typeof c<"u"){if(u.v&&or(u)==4)setTimeout(u.Ca.bind(u),0);else if(Pt(u,"readystatechange"),or(u)==4){u.h=!1;try{const Q=u.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var w;if(w=Q===0){let ce=String(u.D).match(hu)[1]||null;!ce&&h.self&&h.self.location&&(ce=h.self.location.protocol.slice(0,-1)),w=!jr.test(ce?ce.toLowerCase():"")}T=w}if(T)Pt(u,"complete"),Pt(u,"success");else{u.o=6;try{var B=or(u)>2?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.ca()+"]",Cl(u)}}finally{ei(u)}}}}function ei(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const T=u.g;u.g=null,v||Pt(u,"ready");try{T.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function or(u){return u.g?u.g.readyState:0}r.ca=function(){try{return or(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),nf(v)}};function Kt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ti(u){const v={};u=(u.g&&or(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(I(u[w]))continue;var T=lu(u[w]);const B=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=v[B]||[];v[B]=Q,Q.push(T)}Be(v,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mr(u,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||v}function Vi(u){this.za=0,this.i=[],this.j=new nr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mr("baseRetryDelayMs",5e3,u),this.Za=Mr("retryDelaySeedMs",1e4,u),this.Ta=Mr("forwardChannelMaxRetries",2,u),this.va=Mr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vl(u&&u.concurrentRequestLimit),this.Ba=new Mi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Vi.prototype,r.ka=8,r.I=1,r.connect=function(u,v,T,w){At(0),this.W=u,this.H=v||{},T&&w!==void 0&&(this.H.OSID=T,this.H.OAID=w),this.F=this.X,this.J=Tu(this,null,this.W),Or(this)};function Il(u){if(eo(u),u.I==3){var v=u.V++,T=Rt(u.J);if($e(T,"SID",u.M),$e(T,"RID",v),$e(T,"TYPE","terminate"),Gs(u,T),v=new rr(u,u.j,v),v.M=2,v.A=Us(Rt(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&h.Image&&(new Image().src=v.A,T=!0),T||(v.g=bu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),kr(v)}xu(u)}function Pi(u){u.g&&(Ll(u),u.g.cancel(),u.g=null)}function eo(u){Pi(u),u.v&&(h.clearTimeout(u.v),u.v=null),no(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function Or(u){if(!_l(u.h)&&!u.m){u.m=!0;var v=u.Ea;le||R(),ae||(le(),ae=!0),C.add(v,u),u.D=0}}function to(u,v){return Ir(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Sr(p(u.Ea,u,v),Eu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const B=new rr(this,this.j,u);let Q=this.o;if(this.U&&(Q?(Q=V(Q),ue(Q,this.U)):Q=this.U),this.u!==null||this.R||(B.J=Q,Q=null),this.S)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var w=this.i[T];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=gu(this,B,v),T=Rt(this.J),$e(T,"RID",u),$e(T,"CVER",22),this.G&&$e(T,"X-HTTP-Session-Id",this.G),Gs(this,T),Q&&(this.R?v="headers="+Jr(zn(Q))+"&"+v:this.u&&Hs(T,this.u,Q)),El(this.h,B),this.Ra&&$e(T,"TYPE","init"),this.S?($e(T,"$req",v),$e(T,"SID","null"),B.U=!0,wr(B,T,null)):wr(B,T,v),this.I=2}}else this.I==3&&(u?Nl(this,u):this.i.length==0||_l(this.h)||Nl(this))};function Nl(u,v){var T;v?T=v.l:T=u.V++;const w=Rt(u.J);$e(w,"SID",u.M),$e(w,"RID",T),$e(w,"AID",u.K),Gs(u,w),u.u&&u.o&&Hs(w,u.u,u.o),T=new rr(u,u.j,T,u.D+1),u.u===null&&(T.J=u.o),v&&(u.i=v.G.concat(u.i)),v=gu(u,T,1e3),T.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),El(u.h,T),wr(T,w,v)}function Gs(u,v){u.H&&Ie(u.H,function(T,w){$e(v,w,T)}),u.l&&Ie({},function(T,w){$e(v,w,T)})}function gu(u,v,T){T=Math.min(u.i.length,T);const w=u.l?p(u.l.Ka,u.l,u):null;e:{var B=u.i;let we=-1;for(;;){const Et=["count="+T];we==-1?T>0?(we=B[0].g,Et.push("ofs="+we)):we=0:Et.push("ofs="+we);let Fe=!0;for(let ut=0;ut<T;ut++){var Q=B[ut].g;const Bn=B[ut].map;if(Q-=we,Q<0)we=Math.max(0,B[ut].g-100),Fe=!1;else try{Q="req"+Q+"_"||"";try{var ce=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Pr,lr]of ce){let cr=lr;m(lr)&&(cr=Ii(lr)),Et.push(Q+Pr+"="+encodeURIComponent(cr))}}catch(Pr){throw Et.push(Q+"type="+encodeURIComponent("_badmap")),Pr}}catch{w&&w(Bn)}}if(Fe){ce=Et.join("&");break e}}ce=void 0}return u=u.i.splice(0,T),v.G=u,ce}function yu(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;le||R(),ae||(le(),ae=!0),C.add(v,u),u.A=0}}function Ws(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Sr(p(u.Da,u),Eu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Sr(p(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Pi(this),vu(this))};function Ll(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function vu(u){u.g=new rr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=Rt(u.na);$e(v,"RID","rpc"),$e(v,"SID",u.M),$e(v,"AID",u.K),$e(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(v,"TO",u.ia),$e(v,"TYPE","xmlhttp"),Gs(u,v),u.u&&u.o&&Hs(v,u.u,u.o),u.O&&(u.g.H=u.O);var T=u.g;u=u.ba,T.M=1,T.A=Us(Rt(v)),T.u=null,T.R=!0,$a(T,u)}r.Va=function(){this.C!=null&&(this.C=null,Pi(this),Ws(this),At(19))};function no(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function _u(u,v){var T=null;if(u.g==v){no(u),Ll(u),u.g=null;var w=2}else if(Nr(u.h,v))T=v.G,xl(u.h,v),w=1;else return;if(u.I!=0){if(v.o)if(w==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var B=u.D;w=Wa(),Pt(w,new br(w,T)),Or(u)}else yu(u);else if(B=v.m,B==3||B==0&&v.X>0||!(w==1&&to(u,v)||w==2&&Ws(u)))switch(T&&T.length>0&&(v=u.h,v.i=v.i.concat(T)),B){case 1:Vr(u,5);break;case 4:Vr(u,10);break;case 3:Vr(u,6);break;default:Vr(u,2)}}}function Eu(u,v){let T=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(T*=2),T*v}function Vr(u,v){if(u.j.info("Error code "+v),v==2){var T=p(u.bb,u),w=u.Ua;const B=!w;w=new wn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ht(w,"https"),Us(w),B?sr(w.toString(),T):kl(w.toString(),T)}else At(2);u.I=0,u.l&&u.l.pa(v),xu(u),eo(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function xu(u){if(u.I=0,u.ja=[],u.l){const v=Tl(u.h);(v.length!=0||u.i.length!=0)&&(G(u.ja,v),G(u.ja,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.oa()}}function Tu(u,v,T){var w=T instanceof wn?Rt(T):new wn(T);if(w.g!="")v&&(w.g=v+"."+w.g),Ni(w,w.u);else{var B=h.location;w=B.protocol,v=v?v+"."+B.hostname:B.hostname,B=+B.port;const Q=new wn(null);w&&Ht(Q,w),v&&(Q.g=v),B&&Ni(Q,B),T&&(Q.h=T),w=Q}return T=u.G,v=u.wa,T&&v&&$e(w,T,v),$e(w,"VER",u.ka),Gs(u,w),w}function bu(u,v,T){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new Ze(new Dr({ab:T})):new Ze(u.ma),v.Fa(u.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ui(){}Ui.prototype.g=function(u,v){return new hn(u,v)};function hn(u,v){St.call(this),this.g=new Vi(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!I(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!I(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new ni(this)}b(hn,St),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Il(this.g)},hn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.v&&(T={},T.__data__=Ii(u),u=T);v.i.push(new kt(v.Ya++,u)),v.I==3&&Or(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,hn.Z.N.call(this)};function Au(u){$t.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const T in v){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}b(Au,$t);function wu(){Vn.call(this),this.status=1}b(wu,Vn);function ni(u){this.g=u}b(ni,Su),ni.prototype.ra=function(){Pt(this.g,"a")},ni.prototype.qa=function(u){Pt(this.g,new Au(u))},ni.prototype.pa=function(u){Pt(this.g,new wu)},ni.prototype.oa=function(){Pt(this.g,"b")},Ui.prototype.createWebChannel=Ui.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,sx=function(){return new Ui},ix=function(){return Wa()},rx=_t,Op={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vs.NO_ERROR=0,Vs.TIMEOUT=8,Vs.HTTP_ERROR=6,qh=Vs,gl.COMPLETE="complete",nx=gl,iu.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",St.prototype.listen=St.prototype.J,xc=iu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,tx=Ze}).apply(typeof Lh<"u"?Lh:typeof self<"u"?self:typeof window<"u"?window:{});class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let al="12.8.0";function B6(r){al=r}const ga=new Sd("@firebase/firestore");function jo(){return ga.logLevel}function de(r,...e){if(ga.logLevel<=Me.DEBUG){const n=e.map(xg);ga.debug(`Firestore (${al}): ${r}`,...n)}}function Ai(r,...e){if(ga.logLevel<=Me.ERROR){const n=e.map(xg);ga.error(`Firestore (${al}): ${r}`,...n)}}function Wo(r,...e){if(ga.logLevel<=Me.WARN){const n=e.map(xg);ga.warn(`Firestore (${al}): ${r}`,...n)}}function xg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function xe(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,ax(r,s,n)}function ax(r,e,n){let s=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ai(s),new Error(s)}function We(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||ax(e,o,s)}function Ae(r,e){return r}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class ox{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class q6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class F6{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new ox(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class G6{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class W6{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new G6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class I_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const s=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new I_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new I_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function K6(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Tg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=K6(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Oe(r,e){return r<e?-1:r>e?1:0}function Vp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return gp(o)===gp(c)?Oe(o,c):gp(o)?1:-1}return Oe(r.length,e.length)}const Q6=55296,Y6=57343;function gp(r){const e=r.charCodeAt(0);return e>=Q6&&e<=Y6}function $o(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const N_="__name__";class Fr{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Fr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=Fr.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Oe(e.length,n.length)}static compareSegments(e,n){const s=Fr.isNumericId(e),o=Fr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Fr.extractNumericId(e).compare(Fr.extractNumericId(n)):Vp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ys.fromString(e.substring(4,e.length-2))}}class at extends Fr{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const X6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Fr{construct(e,n,s){return new tn(e,n,s)}static isValidIdentifier(e){return X6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N_}static keyField(){return new tn([N_])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(c(),o++)}if(c(),h)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(at.fromString(e))}static fromName(e){return new ve(at.fromString(e).popFirst(5))}static empty(){return new ve(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new at(e.slice()))}}function lx(r,e,n){if(!n)throw new he(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Z6(r,e,n,s){if(e===!0&&s===!0)throw new he(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function L_(r){if(!ve.isDocumentKey(r))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function D_(r){if(ve.isDocumentKey(r))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cx(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Cd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function Sn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cd(r);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ot(r,e){const n={typeString:r};return e&&(n.value=e),n}function Qc(r,e){if(!cx(r))throw new he(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new he(ne.INVALID_ARGUMENT,n);return!0}const j_=-62135596800,M_=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*M_);return new nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<j_)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M_}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qc(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-j_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Ot("string",nt._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new nt(0,0))}static max(){return new be(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mc=-1;function J6(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new nt(n+1,0):new nt(n,s));return new xs(o,ve.empty(),e)}function eC(r){return new xs(r.readTime,r.key,Mc)}class xs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new xs(be.min(),ve.empty(),Mc)}static max(){return new xs(be.max(),ve.empty(),Mc)}}function tC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Oe(r.largestBatchId,e.largestBatchId))}const nC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ol(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==nC)throw r;de("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,s)=>{n(e)}))}static reject(e){return new se(((n,s)=>{s(e)}))}static waitFor(e){return new se(((n,s)=>{let o=0,c=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++c,h&&c===o&&n()}),(g=>s(g)))})),h=!0,c===o&&n()}))}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next((o=>o?se.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new se(((s,o)=>{const c=e.length,h=new Array(c);let m=0;for(let g=0;g<c;g++){const p=g;n(e[p]).next((x=>{h[p]=x,++m,m===c&&s(h)}),(x=>o(x)))}}))}static doWhile(e,n){return new se(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function iC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ll(r){return r.name==="IndexedDbTransactionError"}class Id{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Id.ce=-1;const bg=-1;function Nd(r){return r==null}function sd(r){return r===0&&1/r==-1/0}function sC(r){return typeof r=="number"&&Number.isInteger(r)&&!sd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const ux="";function aC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=O_(e)),e=oC(r.get(n),e);return O_(e)}function oC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case ux:n+="";break;default:n+=c}}return n}function O_(r){return r+ux+""}function V_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Cs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function hx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class mt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dh(this.root,e,this.comparator,!0)}}class Dh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??Jt.RED,this.left=o??Jt.EMPTY,this.right=c??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new Jt(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(e){return new P_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class P_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new jn([])}unionWith(e){let n=new zt(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class dx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new dx("Invalid base64 string: "+c):c}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const lC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(r){if(We(!!r,39018),typeof r=="string"){let e=0;const n=lC.exec(r);if(We(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(r.seconds),nanos:bt(r.nanos)}}function bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function bs(r){return typeof r=="string"?nn.fromBase64String(r):nn.fromUint8Array(r)}const fx="server_timestamp",mx="__type__",px="__previous_value__",gx="__local_write_time__";function Sg(r){return(r?.mapValue?.fields||{})[mx]?.stringValue===fx}function Ld(r){const e=r.mapValue.fields[px];return Sg(e)?Ld(e):e}function Oc(r){const e=Ts(r.mapValue.fields[gx].timestampValue);return new nt(e.seconds,e.nanos)}class cC{constructor(e,n,s,o,c,h,m,g,p,x,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=x,this.apiKey=b}}const ad="(default)";class Vc{constructor(e,n){this.projectId=e,this.database=n||ad}static empty(){return new Vc("","")}get isDefaultDatabase(){return this.database===ad}isEqual(e){return e instanceof Vc&&e.projectId===this.projectId&&e.database===this.database}}function uC(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vc(r.options.projectId,e)}const yx="__type__",hC="__max__",jh={mapValue:{}},vx="__vector__",od="value";function Ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sg(r)?4:fC(r)?9007199254740991:dC(r)?10:11:xe(28295,{value:r})}function Xr(r,e){if(r===e)return!0;const n=Ss(r);if(n!==Ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Oc(r).isEqual(Oc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=Ts(o.timestampValue),m=Ts(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return bs(o.bytesValue).isEqual(bs(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return bt(o.geoPointValue.latitude)===bt(c.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return bt(o.integerValue)===bt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=bt(o.doubleValue),m=bt(c.doubleValue);return h===m?sd(h)===sd(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return $o(r.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},m=c.mapValue.fields||{};if(V_(h)!==V_(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Xr(h[g],m[g])))return!1;return!0})(r,e);default:return xe(52216,{left:r})}}function Pc(r,e){return(r.values||[]).find((n=>Xr(n,e)))!==void 0}function Ko(r,e){if(r===e)return 0;const n=Ss(r),s=Ss(e);if(n!==s)return Oe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,e.booleanValue);case 2:return(function(c,h){const m=bt(c.integerValue||c.doubleValue),g=bt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return U_(r.timestampValue,e.timestampValue);case 4:return U_(Oc(r),Oc(e));case 5:return Vp(r.stringValue,e.stringValue);case 6:return(function(c,h){const m=bs(c),g=bs(h);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,h){const m=c.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const x=Oe(m[p],g[p]);if(x!==0)return x}return Oe(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,h){const m=Oe(bt(c.latitude),bt(h.latitude));return m!==0?m:Oe(bt(c.longitude),bt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return z_(r.arrayValue,e.arrayValue);case 10:return(function(c,h){const m=c.fields||{},g=h.fields||{},p=m[od]?.arrayValue,x=g[od]?.arrayValue,b=Oe(p?.values?.length||0,x?.values?.length||0);return b!==0?b:z_(p,x)})(r.mapValue,e.mapValue);case 11:return(function(c,h){if(c===jh.mapValue&&h===jh.mapValue)return 0;if(c===jh.mapValue)return 1;if(h===jh.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),p=h.fields||{},x=Object.keys(p);g.sort(),x.sort();for(let b=0;b<g.length&&b<x.length;++b){const A=Vp(g[b],x[b]);if(A!==0)return A;const M=Ko(m[g[b]],p[x[b]]);if(M!==0)return M}return Oe(g.length,x.length)})(r.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function U_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Oe(r,e);const n=Ts(r),s=Ts(e),o=Oe(n.seconds,s.seconds);return o!==0?o:Oe(n.nanos,s.nanos)}function z_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=Ko(n[o],s[o]);if(c)return c}return Oe(n.length,s.length)}function Qo(r){return Pp(r)}function Pp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Ts(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return bs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ve.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Pp(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of s)c?c=!1:o+=",",o+=`${h}:${Pp(n.fields[h])}`;return o+"}"})(r.mapValue):xe(61005,{value:r})}function Fh(r){switch(Ss(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ld(r);return e?16+Fh(e):16;case 5:return 2*r.stringValue.length;case 6:return bs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Fh(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Cs(s.fields,((c,h)=>{o+=c.length+Fh(h)})),o})(r.mapValue);default:throw xe(13486,{value:r})}}function B_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Up(r){return!!r&&"integerValue"in r}function Ag(r){return!!r&&"arrayValue"in r}function H_(r){return!!r&&"nullValue"in r}function q_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gh(r){return!!r&&"mapValue"in r}function dC(r){return(r?.mapValue?.fields||{})[yx]?.stringValue===vx}function kc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Cs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=kc(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kc(r.arrayValue.values[n]);return e}return{...r}}function fC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===hC}class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(n)}setAll(e){let n=tn.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=kc(h):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());Gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Cs(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new bn(kc(this.value))}}function _x(r){const e=[];return Cs(r.fields,((n,s)=>{const o=new tn([n]);if(Gh(s)){const c=_x(s.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new jn(e)}class ln{constructor(e,n,s,o,c,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new ln(e,0,be.min(),be.min(),be.min(),bn.empty(),0)}static newFoundDocument(e,n,s,o){return new ln(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new ln(e,2,n,be.min(),be.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,be.min(),be.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ld{constructor(e,n){this.position=e,this.inclusive=n}}function F_(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],h=r.position[o];if(c.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),n.key):s=Ko(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function G_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Xr(r.position[n],e.position[n]))return!1;return!0}class Uc{constructor(e,n="asc"){this.field=e,this.dir=n}}function mC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Ex{}class Mt extends Ex{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new gC(e,n,s):n==="array-contains"?new _C(e,s):n==="in"?new EC(e,s):n==="not-in"?new xC(e,s):n==="array-contains-any"?new TC(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new yC(e,s):new vC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ko(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison(Ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends Ex{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _r(e,n)}matches(e){return xx(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xx(r){return r.op==="and"}function Tx(r){return pC(r)&&xx(r)}function pC(r){for(const e of r.filters)if(e instanceof _r)return!1;return!0}function zp(r){if(r instanceof Mt)return r.field.canonicalString()+r.op.toString()+Qo(r.value);if(Tx(r))return r.filters.map((e=>zp(e))).join(",");{const e=r.filters.map((n=>zp(n))).join(",");return`${r.op}(${e})`}}function bx(r,e){return r instanceof Mt?(function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&Xr(s.value,o.value)})(r,e):r instanceof _r?(function(s,o){return o instanceof _r&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,h,m)=>c&&bx(h,o.filters[m])),!0):!1})(r,e):void xe(19439)}function Sx(r){return r instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Qo(n.value)}`})(r):r instanceof _r?(function(n){return n.op.toString()+" {"+n.getFilters().map(Sx).join(" ,")+"}"})(r):"Filter"}class gC extends Mt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class yC extends Mt{constructor(e,n){super(e,"in",n),this.keys=Ax("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class vC extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=Ax("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Ax(r,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class _C extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ag(n)&&Pc(n.arrayValue,this.value)}}class EC extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pc(this.value.arrayValue,n)}}class xC extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pc(this.value.arrayValue,n)}}class TC extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ag(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Pc(this.value.arrayValue,s)))}}class bC{constructor(e,n=null,s=[],o=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=h,this.endAt=m,this.Te=null}}function W_(r,e=null,n=[],s=[],o=null,c=null,h=null){return new bC(r,e,n,s,o,c,h)}function wg(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>zp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Nd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Qo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Qo(s))).join(",")),e.Te=n}return e.Te}function kg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!mC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!bx(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!G_(r.startAt,e.startAt)&&G_(r.endAt,e.endAt)}function Bp(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class cl{constructor(e,n=null,s=[],o=[],c=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function SC(r,e,n,s,o,c,h,m){return new cl(r,e,n,s,o,c,h,m)}function Dd(r){return new cl(r)}function $_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function AC(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function wx(r){return r.collectionGroup!==null}function Rc(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new zt(tn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Uc(c,s))})),n.has(tn.keyField().canonicalString())||e.Ie.push(new Uc(tn.keyField(),s))}return e.Ie}function $r(r){const e=Ae(r);return e.Ee||(e.Ee=wC(e,Rc(r))),e.Ee}function wC(r,e){if(r.limitType==="F")return W_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Uc(o.field,c)}));const n=r.endAt?new ld(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ld(r.startAt.position,r.startAt.inclusive):null;return W_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Hp(r,e){const n=r.filters.concat([e]);return new cl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function kC(r,e){const n=r.explicitOrderBy.concat([e]);return new cl(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function qp(r,e,n){return new cl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function jd(r,e){return kg($r(r),$r(e))&&r.limitType===e.limitType}function kx(r){return`${wg($r(r))}|lt:${r.limitType}`}function Mo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Sx(o))).join(", ")}]`),Nd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Qo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Qo(o))).join(",")),`Target(${s})`})($r(r))}; limitType=${r.limitType})`}function Md(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ve.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of Rc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const p=F_(h,m,g);return h.inclusive?p<=0:p<0})(s.startAt,Rc(s),o)||s.endAt&&!(function(h,m,g){const p=F_(h,m,g);return h.inclusive?p>=0:p>0})(s.endAt,Rc(s),o))})(r,e)}function RC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Rx(r){return(e,n)=>{let s=!1;for(const o of Rc(r)){const c=CC(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function CC(r,e,n){const s=r.field.isKeyField()?ve.comparator(e.key,n.key):(function(c,h,m){const g=h.data.field(c),p=m.data.field(c);return g!==null&&p!==null?Ko(g,p):xe(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:r.dir})}}class ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return hx(this.inner)}size(){return this.innerSize}}const IC=new mt(ve.comparator);function wi(){return IC}const Cx=new mt(ve.comparator);function Tc(...r){let e=Cx;for(const n of r)e=e.insert(n.key,n);return e}function Ix(r){let e=Cx;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ua(){return Cc()}function Nx(){return Cc()}function Cc(){return new ba((r=>r.toString()),((r,e)=>r.isEqual(e)))}const NC=new mt(ve.comparator),LC=new zt(ve.comparator);function Ve(...r){let e=LC;for(const n of r)e=e.add(n);return e}const DC=new zt(Oe);function jC(){return DC}function Rg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function Lx(r){return{integerValue:""+r}}function MC(r,e){return sC(e)?Lx(e):Rg(r,e)}class Od{constructor(){this._=void 0}}function OC(r,e,n){return r instanceof zc?(function(o,c){const h={fields:{[mx]:{stringValue:fx},[gx]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Sg(c)&&(c=Ld(c)),c&&(h.fields[px]=c),{mapValue:h}})(n,e):r instanceof Bc?jx(r,e):r instanceof Hc?Mx(r,e):(function(o,c){const h=Dx(o,c),m=K_(h)+K_(o.Ae);return Up(h)&&Up(o.Ae)?Lx(m):Rg(o.serializer,m)})(r,e)}function VC(r,e,n){return r instanceof Bc?jx(r,e):r instanceof Hc?Mx(r,e):n}function Dx(r,e){return r instanceof cd?(function(s){return Up(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class zc extends Od{}class Bc extends Od{constructor(e){super(),this.elements=e}}function jx(r,e){const n=Ox(e);for(const s of r.elements)n.some((o=>Xr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Hc extends Od{constructor(e){super(),this.elements=e}}function Mx(r,e){let n=Ox(e);for(const s of r.elements)n=n.filter((o=>!Xr(o,s)));return{arrayValue:{values:n}}}class cd extends Od{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function K_(r){return bt(r.integerValue||r.doubleValue)}function Ox(r){return Ag(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class PC{constructor(e,n){this.field=e,this.transform=n}}function UC(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Bc&&o instanceof Bc||s instanceof Hc&&o instanceof Hc?$o(s.elements,o.elements,Xr):s instanceof cd&&o instanceof cd?Xr(s.Ae,o.Ae):s instanceof zc&&o instanceof zc})(r.transform,e.transform)}class zC{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Vd{}function Vx(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Cg(r.key,Jn.none()):new Yc(r.key,r.data,Jn.none());{const n=r.data,s=bn.empty();let o=new zt(tn.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),o=o.add(c)}return new Is(r.key,s,new jn(o.toArray()),Jn.none())}}function BC(r,e,n){r instanceof Yc?(function(o,c,h){const m=o.value.clone(),g=Y_(o.fieldTransforms,c,h.transformResults);m.setAll(g),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Is?(function(o,c,h){if(!Wh(o.precondition,c))return void c.convertToUnknownDocument(h.version);const m=Y_(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(Px(o)),g.setAll(m),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Ic(r,e,n,s){return r instanceof Yc?(function(c,h,m,g){if(!Wh(c.precondition,h))return m;const p=c.value.clone(),x=X_(c.fieldTransforms,g,h);return p.setAll(x),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof Is?(function(c,h,m,g){if(!Wh(c.precondition,h))return m;const p=X_(c.fieldTransforms,g,h),x=h.data;return x.setAll(Px(c)),x.setAll(p),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(c,h,m){return Wh(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function HC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=Dx(s.transform,o||null);c!=null&&(n===null&&(n=bn.empty()),n.set(s.field,c))}return n||null}function Q_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&$o(s,o,((c,h)=>UC(c,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Yc extends Vd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Is extends Vd{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Px(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function Y_(r,e,n){const s=new Map;We(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const c=r[o],h=c.transform,m=e.data.field(c.field);s.set(c.field,VC(h,m,n[o]))}return s}function X_(r,e,n){const s=new Map;for(const o of r){const c=o.transform,h=n.data.field(o.field);s.set(o.field,OC(c,h,e))}return s}class Cg extends Vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qC extends Vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&BC(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ic(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ic(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Nx();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(o.key)?null:m;const g=Vx(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,((n,s)=>Q_(n,s)))&&$o(this.baseMutations,e.baseMutations,((n,s)=>Q_(n,s)))}}class Ig{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){We(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return NC})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,s[h].version);return new Ig(e,n,s,o)}}class GC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class WC{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,ze;function $C(r){switch(r){case ne.OK:return xe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function Ux(r){if(r===void 0)return Ai("GRPC error has no .code"),ne.UNKNOWN;switch(r){case Dt.OK:return ne.OK;case Dt.CANCELLED:return ne.CANCELLED;case Dt.UNKNOWN:return ne.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ne.INTERNAL;case Dt.UNAVAILABLE:return ne.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ne.NOT_FOUND;case Dt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Dt.ABORTED:return ne.ABORTED;case Dt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Dt.DATA_LOSS:return ne.DATA_LOSS;default:return xe(39323,{code:r})}}(ze=Dt||(Dt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function KC(){return new TextEncoder}const QC=new ys([4294967295,4294967295],0);function Z_(r){const e=KC().encode(r),n=new ex;return n.update(e),new Uint8Array(n.digest())}function J_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ys([n,s],0),new ys([o,c],0)]}class Ng{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new bc(`Invalid padding: ${n}`);if(s<0)throw new bc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new bc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new bc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ys.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ys.fromNumber(s)));return o.compare(QC)===1&&(o=new ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Z_(e),[s,o]=J_(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Ng(c,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=Z_(e),[s,o]=J_(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pd{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Xc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Pd(be.min(),o,new mt(Oe),wi(),Ve())}}class Xc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Xc(s,n,Ve(),Ve(),Ve())}}class $h{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class zx{constructor(e,n){this.targetId=e,this.Ce=n}}class Bx{constructor(e,n,s=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class eE{constructor(){this.ve=0,this.Fe=tE(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:xe(38017,{changeType:c})}})),new Xc(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=tE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class YC{constructor(e){this.Ge=e,this.ze=new Map,this.je=wi(),this.He=Mh(),this.Je=Mh(),this.Ze=new mt(Oe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Bp(c))if(s===0){const h=new ve(c.path);this.et(n,h,ln.newNoDocument(h,be.min()))}else We(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let h,m;try{h=bs(s).toUint8Array()}catch(g){if(g instanceof dx)return Wo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Ng(h,o,c)}catch(g){return Wo(g instanceof bc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const m=this.ot(h);if(m){if(c.current&&Bp(m.target)){const g=new ve(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,ln.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.Ke())}}));let s=Ve();this.Je.forEach(((c,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new Pd(e,n,this.Ze,this.je,s);return this.je=wi(),this.He=Mh(),this.Je=Mh(),this.Ze=new mt(Oe),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new eE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new zt(Oe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new zt(Oe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Mh(){return new mt(ve.comparator)}function tE(){return new mt(ve.comparator)}const XC={asc:"ASCENDING",desc:"DESCENDING"},ZC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JC={and:"AND",or:"OR"};class eI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fp(r,e){return r.useProto3Json||Nd(e)?e:{value:e}}function ud(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hx(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function tI(r,e){return ud(r,e.toTimestamp())}function Kr(r){return We(!!r,49232),be.fromTimestamp((function(n){const s=Ts(n);return new nt(s.seconds,s.nanos)})(r))}function Lg(r,e){return Gp(r,e).canonicalString()}function Gp(r,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function qx(r){const e=at.fromString(r);return We(Kx(e),10190,{key:e.toString()}),e}function Wp(r,e){return Lg(r.databaseId,e.path)}function yp(r,e){const n=qx(e);if(n.get(1)!==r.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(Gx(n))}function Fx(r,e){return Lg(r.databaseId,e)}function nI(r){const e=qx(r);return e.length===4?at.emptyPath():Gx(e)}function $p(r){return new at(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Gx(r){return We(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function nE(r,e,n){return{name:Wp(r,e),fields:n.value.mapValue.fields}}function rI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(p,x){return p.useProto3Json?(We(x===void 0||typeof x=="string",58123),nn.fromBase64String(x||"")):(We(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),nn.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const x=p.code===void 0?ne.UNKNOWN:Ux(p.code);return new he(x,p.message||"")})(h);n=new Bx(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=yp(r,s.document.name),c=Kr(s.document.updateTime),h=s.document.createTime?Kr(s.document.createTime):be.min(),m=new bn({mapValue:{fields:s.document.fields}}),g=ln.newFoundDocument(o,c,h,m),p=s.targetIds||[],x=s.removedTargetIds||[];n=new $h(p,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=yp(r,s.document),c=s.readTime?Kr(s.readTime):be.min(),h=ln.newNoDocument(o,c),m=s.removedTargetIds||[];n=new $h([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=yp(r,s.document),c=s.removedTargetIds||[];n=new $h([],c,o,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,h=new WC(o,c),m=s.targetId;n=new zx(m,h)}}return n}function iI(r,e){let n;if(e instanceof Yc)n={update:nE(r,e.key,e.value)};else if(e instanceof Cg)n={delete:Wp(r,e.key)};else if(e instanceof Is)n={update:nE(r,e.key,e.data),updateMask:fI(e.fieldMask)};else{if(!(e instanceof qC))return xe(16599,{dt:e.type});n={verify:Wp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const m=h.transform;if(m instanceof zc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Bc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Hc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof cd)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw xe(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:tI(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:xe(27497)})(r,e.precondition)),n}function sI(r,e){return r&&r.length>0?(We(e!==void 0,14353),r.map((n=>(function(o,c){let h=o.updateTime?Kr(o.updateTime):Kr(c);return h.isEqual(be.min())&&(h=Kr(c)),new zC(h,o.transformResults||[])})(n,e)))):[]}function aI(r,e){return{documents:[Fx(r,e.path)]}}function oI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Fx(r,o);const c=(function(p){if(p.length!==0)return $x(_r.create(p,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(p){if(p.length!==0)return p.map((x=>(function(A){return{field:Oo(A.field),direction:uI(A.dir)}})(x)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Fp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function lI(r){let e=nI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){We(s===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(b){const A=Wx(b);return A instanceof _r&&Tx(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((A=>(function(G){return new Uc(Vo(G.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let A;return A=typeof b=="object"?b.value:b,Nd(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(b){const A=!!b.before,M=b.values||[];return new ld(M,A)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const A=!b.before,M=b.values||[];return new ld(M,A)})(n.endAt)),SC(e,o,h,c,m,"F",g,p)}function cI(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wx(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Vo(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Vo(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Vo(n.unaryFilter.field);return Mt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Vo(n.unaryFilter.field);return Mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Mt.create(Vo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return _r.create(n.compositeFilter.filters.map((s=>Wx(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(r):xe(30097,{filter:r})}function uI(r){return XC[r]}function hI(r){return ZC[r]}function dI(r){return JC[r]}function Oo(r){return{fieldPath:r.canonicalString()}}function Vo(r){return tn.fromServerFormat(r.fieldPath)}function $x(r){return r instanceof Mt?(function(n){if(n.op==="=="){if(q_(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NAN"}};if(H_(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q_(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NAN"}};if(H_(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(n.field),op:hI(n.op),value:n.value}}})(r):r instanceof _r?(function(n){const s=n.getFilters().map((o=>$x(o)));return s.length===1?s[0]:{compositeFilter:{op:dI(n.op),filters:s}}})(r):xe(54877,{filter:r})}function fI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Kx(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function Qx(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class fs{constructor(e,n,s,o,c=be.min(),h=be.min(),m=nn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mI{constructor(e){this.yt=e}}function pI(r){const e=lI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?qp(e,e.limit,"L"):e}class gI{constructor(){this.Sn=new yI}addToCollectionParentIndex(e,n){return this.Sn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(xs.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class yI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new zt(at.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new zt(at.comparator)).toArray()}}const rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yx=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(Yx,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class Yo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Yo(0)}static ar(){return new Yo(-1)}}const iE="LruGarbageCollector",vI=1048576;function sE([r,e],[n,s]){const o=Oe(r,n);return o===0?Oe(e,s):o}class _I{constructor(e){this.Pr=e,this.buffer=new zt(sE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();sE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class EI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){de(iE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ll(n)?de(iE,"Ignoring IndexedDB error during garbage collection: ",n):await ol(n)}await this.Ar(3e5)}))}}class xI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Id.ce);const s=new _I(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(rE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,c,h,m,g,p;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(c=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),jo()<=Me.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(p-g)+`ms
Total Duration: ${p-x}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function TI(r,e){return new xI(r,e)}class bI{constructor(){this.changes=new ba((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class SI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class AI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Ic(s.mutation,o,jn.empty(),nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const o=ua();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let h=Tc();return c.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ua();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let c=wi();const h=Cc(),m=(function(){return Cc()})();return n.forEach(((g,p)=>{const x=s.get(p.key);o.has(p.key)&&(x===void 0||x.mutation instanceof Is)?c=c.insert(p.key,p):x!==void 0?(h.set(p.key,x.mutation.getFieldMask()),Ic(x.mutation,p,x.mutation.getFieldMask(),nt.now())):h.set(p.key,jn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((p,x)=>h.set(p,x))),n.forEach(((p,x)=>m.set(p,new SI(x,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Cc();let o=new mt(((h,m)=>h-m)),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let x=s.get(g)||jn.empty();x=m.applyToLocalView(p,x),s.set(g,x);const b=(o.get(m.batchId)||Ve()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,x=g.value,b=Nx();x.forEach((A=>{if(!c.has(A)){const M=Vx(n.get(A),s.get(A));M!==null&&b.set(A,M),c=c.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,b))}return se.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return AC(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):se.resolve(ua());let m=Mc,g=c;return h.next((p=>se.forEach(p,((x,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),c.get(x)?se.resolve():this.remoteDocumentCache.getEntry(e,x).next((A=>{g=g.insert(x,A)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,g,p,Ve()))).next((x=>({batchId:m,changes:Ix(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let o=Tc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let h=Tc();return this.indexManager.getCollectionParents(e,c).next((m=>se.forEach(m,(g=>{const p=(function(b,A){return new cl(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((x=>{x.forEach(((b,A)=>{h=h.insert(b,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((h=>{c.forEach(((g,p)=>{const x=p.getKey();h.get(x)===null&&(h=h.insert(x,ln.newInvalidDocument(x)))}));let m=Tc();return h.forEach(((g,p)=>{const x=c.get(g);x!==void 0&&Ic(x.mutation,p,jn.empty(),nt.now()),Md(n,p)&&(m=m.insert(g,p))})),m}))}}class wI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return se.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Kr(o.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:pI(o.bundledQuery),readTime:Kr(o.readTime)}})(n)),se.resolve()}}class kI{constructor(){this.overlays=new mt(ve.comparator),this.Lr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ua();return se.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.bt(e,n,c)})),se.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const o=ua(),c=n.length+1,h=new ve(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new mt(((p,x)=>p-x));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let x=c.get(p.largestBatchId);x===null&&(x=ua(),c=c.insert(p.largestBatchId,x)),x.set(p.getKey(),p)}}const m=ua(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,x)=>m.set(p,x))),!(m.size()>=o)););return se.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new GC(n,s));let c=this.Lr.get(n);c===void 0&&(c=Ve(),this.Lr.set(n,c)),this.Lr.set(n,c.add(s.key))}}class RI{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class Dg{constructor(){this.kr=new zt(Ft.Kr),this.qr=new zt(Ft.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Ft(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Ft(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ve(new at([])),s=new Ft(n,e),o=new Ft(n,e+1),c=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ve(new at([])),s=new Ft(n,e),o=new Ft(n,e+1);let c=Ve();return this.qr.forEachInRange([s,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new Ft(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ft{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ve.comparator(e.key,n.key)||Oe(e.Hr,n.Hr)}static Ur(e,n){return Oe(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}class CI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new zt(Ft.Kr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new FC(c,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Ft(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(h)}lookupMutationBatch(e,n){return se.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),c=o<0?0:o;return se.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?bg:this.Yn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ft(n,0),o=new Ft(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);c.push(m)})),se.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new zt(Oe);return n.forEach((o=>{const c=new Ft(o,0),h=new Ft(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(m=>{s=s.add(m.Hr)}))})),se.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;ve.isDocumentKey(c)||(c=c.child(""));const h=new Ft(new ve(c),0);let m=new zt(Oe);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)}),h),se.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){We(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return se.forEach(n.mutations,(o=>{const c=new Ft(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Ft(n,0),o=this.Jr.firstAfterOrEqual(s);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class II{constructor(e){this.ti=e,this.docs=(function(){return new mt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let s=wi();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():ln.newInvalidDocument(o))})),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=wi();const h=n.path,m=new ve(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:x}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||tC(eC(x),s)<=0||(o.has(x.key)||Md(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return se.resolve(c)}getAllFromCollectionGroup(e,n,s,o){xe(9500)}ni(e,n){return se.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new NI(this)}getSize(e){return se.resolve(this.size)}}class NI extends bI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),se.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class LI{constructor(e){this.persistence=e,this.ri=new ba((n=>wg(n)),kg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new Dg,this.targetCount=0,this.oi=Yo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),se.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Yo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.lr(n),se.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),se.waitFor(c).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),se.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),se.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this.si.containsKey(n))}}class Xx{constructor(e,n){this._i={},this.overlays={},this.ai=new Id(0),this.ui=!1,this.ui=!0,this.ci=new RI,this.referenceDelegate=e(this),this.li=new LI(this),this.indexManager=new gI,this.remoteDocumentCache=(function(o){return new II(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new mI(n),this.Pi=new wI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new CI(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const o=new DI(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return se.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class DI extends rC{constructor(e){super(),this.currentSequenceNumber=e}}class jg{constructor(e){this.persistence=e,this.Ri=new Dg,this.Ai=null}static Vi(e){return new jg(e)}get di(){if(this.Ai)return this.Ai;throw xe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,(s=>{const o=ve.fromPath(s);return this.mi(e,o).next((c=>{c||n.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class hd{constructor(e,n){this.persistence=e,this.fi=new ba((s=>aC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=TI(this,n)}static Vi(e,n){return new hd(e,n)}Ti(){}Ii(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return se.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?se.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,c.removeEntry(h,be.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fh(e.data.value)),n}wr(e,n,s){return se.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return se.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Mg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Ve(),o=Ve();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Mg(e,n.fromCache,s,o)}}class jI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class MI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return sk()?8:iC(cn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.gs(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,n,o,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new jI;return this.ys(e,n,h).next((m=>{if(c.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>c.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(jo()<=Me.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):(jo()<=Me.DEBUG&&de("QueryEngine","Query:",Mo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(jo()<=Me.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(n))):se.resolve())}gs(e,n){if($_(n))return se.resolve(null);let s=$r(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=qp(n,null,"F"),s=$r(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=Ve(...c);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.bs(n,m);return this.Ss(n,p,h,g.readTime)?this.gs(e,qp(n,null,"F")):this.Ds(e,p,n,g)}))))})))))}ps(e,n,s,o){return $_(n)||o.isEqual(be.min())?se.resolve(null):this.fs.getDocuments(e,s).next((c=>{const h=this.bs(n,c);return this.Ss(n,h,s,o)?se.resolve(null):(jo()<=Me.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Mo(n)),this.Ds(e,h,n,J6(o,Mc)).next((m=>m)))}))}bs(e,n){let s=new zt(Rx(e));return n.forEach(((o,c)=>{Md(e,c)&&(s=s.add(c))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,s){return jo()<=Me.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Mo(n)),this.fs.getDocumentsMatchingQuery(e,n,xs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const Og="LocalStore",OI=3e8;class VI{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new mt(Oe),this.Fs=new ba((c=>wg(c)),kg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function PI(r,e,n,s){return new VI(r,e,n,s)}async function Zx(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],m=[];let g=Ve();for(const p of o){h.push(p.batchId);for(const x of p.mutations)g=g.add(x.key)}for(const p of c){m.push(p.batchId);for(const x of p.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ns:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function UI(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,x){const b=p.batch,A=b.keys();let M=se.resolve();return A.forEach((G=>{M=M.next((()=>x.getEntry(g,G))).next(($=>{const K=p.docVersions.get(G);We(K!==null,48541),$.version.compareTo(K)<0&&(b.applyToRemoteDocument($,p),$.isValidDocument()&&($.setReadTime(p.commitVersion),x.addEntry($)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Ve();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Jx(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function zI(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((x,b)=>{const A=o.get(b);if(!A)return;m.push(n.li.removeMatchingKeys(c,x.removedDocuments,b).next((()=>n.li.addMatchingKeys(c,x.addedDocuments,b))));let M=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?M=M.withResumeToken(nn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):x.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(x.resumeToken,s)),o=o.insert(b,M),(function($,K,Z){return $.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=OI?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(A,M,x)&&m.push(n.li.updateTargetData(c,M))}));let g=wi(),p=Ve();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),m.push(BI(c,h,e.documentUpdates).next((x=>{g=x.Bs,p=x.Ls}))),!s.isEqual(be.min())){const x=n.li.getLastRemoteSnapshotVersion(c).next((b=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(x)}return se.waitFor(m).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,p))).next((()=>g))})).then((c=>(n.vs=o,c)))}function BI(r,e,n){let s=Ve(),o=Ve();return n.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let h=wi();return n.forEach(((m,g)=>{const p=c.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):de(Og,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function HI(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=bg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function qI(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((c=>c?(o=c,se.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new fs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Kp(r,e,n){const s=Ae(r),o=s.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ll(h))throw h;de(Og,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function aE(r,e,n){const s=Ae(r);let o=be.min(),c=Ve();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,x){const b=Ae(g),A=b.Fs.get(x);return A!==void 0?se.resolve(b.vs.get(A)):b.li.getTargetData(p,x)})(s,h,$r(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((g=>{c=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?c:Ve()))).next((m=>(FI(s,RC(e),m),{documents:m,ks:c})))))}function FI(r,e,n){let s=r.Ms.get(e)||be.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(e,s)}class oE{constructor(){this.activeTargetIds=jC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GI{constructor(){this.vo=new oE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new oE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class WI{Mo(e){}shutdown(){}}const lE="ConnectivityMonitor";class cE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){de(lE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){de(lE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oh=null;function Qp(){return Oh===null?Oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oh++,"0x"+Oh.toString(16)}const vp="RestConnection",$I={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class KI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===ad?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,c){const h=Qp(),m=this.Qo(e,n.toUriEncodedString());de(vp,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:p}=new URL(m),x=nl(p);return this.zo(e,m,g,s,x).then((b=>(de(vp,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw Wo(vp,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(e,n,s,o,c,h){return this.Wo(e,n,s,o,c)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const s=$I[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class QI{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const an="WebChannelConnection",vc=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ho extends KI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ho.c_){const e=ix();vc(e,rx.STAT_EVENT,(n=>{n.stat===Op.PROXY?de(an,"STAT_EVENT: detected buffering proxy"):n.stat===Op.NOPROXY&&de(an,"STAT_EVENT: detected no buffering proxy")})),Ho.c_=!0}}zo(e,n,s,o,c){const h=Qp();return new Promise(((m,g)=>{const p=new tx;p.setWithCredentials(!0),p.listenOnce(nx.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case qh.NO_ERROR:const b=p.getResponseJson();de(an,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case qh.TIMEOUT:de(an,`RPC '${e}' ${h} timed out`),g(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const A=p.getStatus();if(de(an,`RPC '${e}' ${h} failed with status:`,A,"response text:",p.getResponseText()),A>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const G=M?.error;if(G&&G.status&&G.message){const $=(function(Z){const Y=Z.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Y)>=0?Y:ne.UNKNOWN})(G.status);g(new he($,G.message))}else g(new he(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new he(ne.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{de(an,`RPC '${e}' ${h} completed.`)}}));const x=JSON.stringify(o);de(an,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",x,s,15)}))}T_(e,n,s){const o=Qp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const p=c.join("");de(an,`Creating RPC '${e}' stream ${o}: ${p}`,m);const x=h.createWebChannel(p,m);this.I_(x);let b=!1,A=!1;const M=new QI({Ho:G=>{A?de(an,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(b||(de(an,`Opening RPC '${e}' stream ${o} transport.`),x.open(),b=!0),de(an,`RPC '${e}' stream ${o} sending:`,G),x.send(G))},Jo:()=>x.close()});return vc(x,xc.EventType.OPEN,(()=>{A||(de(an,`RPC '${e}' stream ${o} transport opened.`),M.i_())})),vc(x,xc.EventType.CLOSE,(()=>{A||(A=!0,de(an,`RPC '${e}' stream ${o} transport closed`),M.o_(),this.E_(x))})),vc(x,xc.EventType.ERROR,(G=>{A||(A=!0,Wo(an,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),M.o_(new he(ne.UNAVAILABLE,"The operation could not be completed")))})),vc(x,xc.EventType.MESSAGE,(G=>{if(!A){const $=G.data[0];We(!!$,16349);const K=$,Z=K?.error||K[0]?.error;if(Z){de(an,`RPC '${e}' stream ${o} received error:`,Z);const Y=Z.status;let oe=(function(ae){const C=Dt[ae];if(C!==void 0)return Ux(C)})(Y),z=Z.message;oe===void 0&&(oe=ne.INTERNAL,z="Unknown error status: "+Y+" with message "+Z.message),A=!0,M.o_(new he(oe,z)),x.close()}else de(an,`RPC '${e}' stream ${o} received:`,$),M.__($)}})),Ho.u_(),setTimeout((()=>{M.s_()}),0),M}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return sx()}}function YI(r){return new Ho(r)}function _p(){return typeof document<"u"?document:null}function Ud(r){return new eI(r,!0)}Ho.c_=!1;class eT{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const uE="PersistentStream";class tT{constructor(e,n,s,o,c,h,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(uE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(de(uE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XI extends tT{constructor(e,n,s,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=rI(this.serializer,e),s=(function(c){if(!("targetChange"in c))return be.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?Kr(h.readTime):be.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=$p(this.serializer),n.addTarget=(function(c,h){let m;const g=h.target;if(m=Bp(g)?{documents:aI(c,g)}:{query:oI(c,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Hx(c,h.resumeToken);const p=Fp(c,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=ud(c,h.snapshotVersion.toTimestamp());const p=Fp(c,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=cI(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=$p(this.serializer),n.removeTarget=e,this.K_(n)}}class ZI extends tT{constructor(e,n,s,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=sI(e.writeResults,e.commitTime),s=Kr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=$p(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>iI(this.serializer,s)))};this.K_(n)}}class JI{}class e8 extends JI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,Gp(n,s),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ne.UNKNOWN,c.toString())}))}jo(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Gp(n,s),o,h,m,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(ne.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function t8(r,e,n,s){return new e8(r,e,n,s)}class n8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ai(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ya="RemoteStore";class r8{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{Sa(this)&&(de(ya,"Restarting streams for network reachability change."),await(async function(g){const p=Ae(g);p.Ea.add(4),await Zc(p),p.Va.set("Unknown"),p.Ea.delete(4),await zd(p)})(this))}))})),this.Va=new n8(s,o)}}async function zd(r){if(Sa(r))for(const e of r.Ra)await e(!0)}async function Zc(r){for(const e of r.Ra)await e(!1)}function nT(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zg(n)?Ug(n):ul(n).O_()&&Pg(n,e))}function Vg(r,e){const n=Ae(r),s=ul(n);n.Ia.delete(e),s.O_()&&rT(n,e),n.Ia.size===0&&(s.O_()?s.L_():Sa(n)&&n.Va.set("Unknown"))}function Pg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ul(r).Z_(e)}function rT(r,e){r.da.$e(e),ul(r).X_(e)}function Ug(r){r.da=new YC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ul(r).start(),r.Va.ua()}function zg(r){return Sa(r)&&!ul(r).x_()&&r.Ia.size>0}function Sa(r){return Ae(r).Ea.size===0}function iT(r){r.da=void 0}async function i8(r){r.Va.set("Online")}async function s8(r){r.Ia.forEach(((e,n)=>{Pg(r,e)}))}async function a8(r,e){iT(r),zg(r)?(r.Va.ha(e),Ug(r)):r.Va.set("Unknown")}async function o8(r,e,n){if(r.Va.set("Online"),e instanceof Bx&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){de(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await dd(r,s)}else if(e instanceof $h?r.da.Xe(e):e instanceof zx?r.da.st(e):r.da.tt(e),!n.isEqual(be.min()))try{const s=await Jx(r.localStore);n.compareTo(s)>=0&&await(function(c,h){const m=c.da.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(p);x&&c.Ia.set(p,x.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(nn.EMPTY_BYTE_STRING,x.snapshotVersion)),rT(c,g);const b=new fs(x.target,g,p,x.sequenceNumber);Pg(c,b)})),c.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){de(ya,"Failed to raise snapshot:",s),await dd(r,s)}}async function dd(r,e,n){if(!ll(e))throw e;r.Ea.add(1),await Zc(r),r.Va.set("Offline"),n||(n=()=>Jx(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{de(ya,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await zd(r)}))}function sT(r,e){return e().catch((n=>dd(r,n,e)))}async function Bd(r){const e=Ae(r),n=As(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bg;for(;l8(e);)try{const o=await HI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,c8(e,o)}catch(o){await dd(e,o)}aT(e)&&oT(e)}function l8(r){return Sa(r)&&r.Ta.length<10}function c8(r,e){r.Ta.push(e);const n=As(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function aT(r){return Sa(r)&&!As(r).x_()&&r.Ta.length>0}function oT(r){As(r).start()}async function u8(r){As(r).ra()}async function h8(r){const e=As(r);for(const n of r.Ta)e.ea(n.mutations)}async function d8(r,e,n){const s=r.Ta.shift(),o=Ig.from(s,e,n);await sT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Bd(r)}async function f8(r,e){e&&As(r).Y_&&await(async function(s,o){if((function(h){return $C(h)&&h!==ne.ABORTED})(o.code)){const c=s.Ta.shift();As(s).B_(),await sT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Bd(s)}})(r,e),aT(r)&&oT(r)}async function hE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),de(ya,"RemoteStore received new credentials");const s=Sa(n);n.Ea.add(3),await Zc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await zd(n)}async function m8(r,e){const n=Ae(r);e?(n.Ea.delete(2),await zd(n)):e||(n.Ea.add(2),await Zc(n),n.Va.set("Unknown"))}function ul(r){return r.ma||(r.ma=(function(n,s,o){const c=Ae(n);return c.sa(),new XI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:i8.bind(null,r),Yo:s8.bind(null,r),t_:a8.bind(null,r),J_:o8.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),zg(r)?Ug(r):r.Va.set("Unknown")):(await r.ma.stop(),iT(r))}))),r.ma}function As(r){return r.fa||(r.fa=(function(n,s,o){const c=Ae(n);return c.sa(),new ZI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:u8.bind(null,r),t_:f8.bind(null,r),ta:h8.bind(null,r),na:d8.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Bd(r)):(await r.fa.stop(),r.Ta.length>0&&(de(ya,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Bg{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const h=Date.now()+s,m=new Bg(e,n,h,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hg(r,e){if(Ai("AsyncQueue",`${e}: ${r}`),ll(r))return new he(ne.UNAVAILABLE,`${e}: ${r}`);throw r}class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=Tc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new qo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class dE{constructor(){this.ga=new mt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Xo{constructor(e,n,s,o,c,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,c){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Xo(e,n,qo.emptySet(n),h,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class p8{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class g8{constructor(){this.queries=fE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),c=o.queries;o.queries=fE(),c.forEach(((h,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function fE(){return new ba((r=>kx(r)),jd)}async function qg(r,e){const n=Ae(r);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new p8,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Hg(h,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Gg(n)}async function Fg(r,e){const n=Ae(r),s=e.query;let o=3;const c=n.queries.get(s);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function y8(r,e){const n=Ae(r);let s=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&Gg(n)}function v8(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(n);s.queries.delete(e)}function Gg(r){r.Ca.forEach((e=>{e.next()}))}var Yp,mE;(mE=Yp||(Yp={})).Ma="default",mE.Cache="cache";class Wg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Xo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Yp.Cache}}class lT{constructor(e){this.key=e}}class cT{constructor(e){this.key=e}}class _8{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.eu=Rx(e),this.tu=new qo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new dE,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,b)=>{const A=o.get(x),M=Md(this.query,b)?b:null,G=!!A&&this.mutatedKeys.has(A.key),$=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let K=!1;A&&M?A.data.isEqual(M.data)?G!==$&&(s.track({type:3,doc:M}),K=!0):this.su(A,M)||(s.track({type:2,doc:M}),K=!0,(g&&this.eu(M,g)>0||p&&this.eu(M,p)<0)&&(m=!0)):!A&&M?(s.track({type:0,doc:M}),K=!0):A&&!M&&(s.track({type:1,doc:A}),K=!0,(g||p)&&(m=!0)),K&&(M?(h=h.add(M),c=$?c.add(x):c.delete(x)):(h=h.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),c=c.delete(x.key),s.track({type:1,doc:x})}return{tu:h,iu:s,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((x,b)=>(function(M,G){const $=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:K})}};return $(M)-$(G)})(x.type,b.type)||this.eu(x.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Xa;return this.Xa=g,h.length!==0||p?{snapshot:new Xo(this.query,e.tu,c,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new cT(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new lT(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const $g="SyncEngine";class E8{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class x8{constructor(e){this.key=e,this.hu=!1}}class T8{constructor(e,n,s,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ba((m=>kx(m)),jd),this.Iu=new Map,this.Eu=new Set,this.Ru=new mt(ve.comparator),this.Au=new Map,this.Vu=new Dg,this.du={},this.mu=new Map,this.fu=Yo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function b8(r,e,n=!0){const s=pT(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await uT(s,e,n,!0),o}async function S8(r,e){const n=pT(r);await uT(n,e,!0,!1)}async function uT(r,e,n,s){const o=await qI(r.localStore,$r(e)),c=o.targetId,h=r.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await A8(r,e,c,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&nT(r.remoteStore,o),m}async function A8(r,e,n,s,o){r.pu=(b,A,M)=>(async function($,K,Z,Y){let oe=K.view.ru(Z);oe.Ss&&(oe=await aE($.localStore,K.query,!1).then((({documents:C})=>K.view.ru(C,oe))));const z=Y&&Y.targetChanges.get(K.targetId),le=Y&&Y.targetMismatches.get(K.targetId)!=null,ae=K.view.applyChanges(oe,$.isPrimaryClient,z,le);return gE($,K.targetId,ae.au),ae.snapshot})(r,b,A,M);const c=await aE(r.localStore,e,!0),h=new _8(e,c.ks),m=h.ru(c.documents),g=Xc.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=h.applyChanges(m,r.isPrimaryClient,g);gE(r,n,p.au);const x=new E8(e,n,h);return r.Tu.set(e,x),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function w8(r,e,n){const s=Ae(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((h=>!jd(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Kp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Vg(s.remoteStore,o.targetId),Xp(s,o.targetId)})).catch(ol)):(Xp(s,o.targetId),await Kp(s.localStore,o.targetId,!0))}async function k8(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Vg(n.remoteStore,s.targetId))}async function R8(r,e,n){const s=M8(r);try{const o=await(function(h,m){const g=Ae(h),p=nt.now(),x=m.reduce(((M,G)=>M.add(G.key)),Ve());let b,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let G=wi(),$=Ve();return g.xs.getEntries(M,x).next((K=>{G=K,G.forEach(((Z,Y)=>{Y.isValidDocument()||($=$.add(Z))}))})).next((()=>g.localDocuments.getOverlayedDocuments(M,G))).next((K=>{b=K;const Z=[];for(const Y of m){const oe=HC(Y,b.get(Y.key).overlayedDocument);oe!=null&&Z.push(new Is(Y.key,oe,_x(oe.value.mapValue),Jn.exists(!0)))}return g.mutationQueue.addMutationBatch(M,p,Z,m)})).next((K=>{A=K;const Z=K.applyToLocalDocumentSet(b,$);return g.documentOverlayCache.saveOverlays(M,K.batchId,Z)}))})).then((()=>({batchId:A.batchId,changes:Ix(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.du[h.currentUser.toKey()];p||(p=new mt(Oe)),p=p.insert(m,g),h.du[h.currentUser.toKey()]=p})(s,o.batchId,n),await Jc(s,o.changes),await Bd(s.remoteStore)}catch(o){const c=Hg(o,"Failed to persist write");n.reject(c)}}async function hT(r,e){const n=Ae(r);try{const s=await zI(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?We(h.hu,14607):o.removedDocuments.size>0&&(We(h.hu,42227),h.hu=!1))})),await Jc(n,s,e)}catch(s){await ol(s)}}function pE(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=Ae(h);g.onlineState=m;let p=!1;g.queries.forEach(((x,b)=>{for(const A of b.ba)A.va(m)&&(p=!0)})),p&&Gg(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function C8(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let h=new mt(ve.comparator);h=h.insert(c,ln.newNoDocument(c,be.min()));const m=Ve().add(c),g=new Pd(be.min(),new Map,new mt(Oe),h,m);await hT(s,g),s.Ru=s.Ru.remove(c),s.Au.delete(e),Kg(s)}else await Kp(s.localStore,e,!1).then((()=>Xp(s,e,n))).catch(ol)}async function I8(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await UI(n.localStore,e);fT(n,s,null),dT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Jc(n,o)}catch(o){await ol(o)}}async function N8(r,e,n){const s=Ae(r);try{const o=await(function(h,m){const g=Ae(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let x;return g.mutationQueue.lookupMutationBatch(p,m).next((b=>(We(b!==null,37113),x=b.keys(),g.mutationQueue.removeMutationBatch(p,b)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,x,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,x))).next((()=>g.localDocuments.getDocuments(p,x)))}))})(s.localStore,e);fT(s,e,n),dT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Jc(s,o)}catch(o){await ol(o)}}function dT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function fT(r,e,n){const s=Ae(r);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Xp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||mT(r,s)}))}function mT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Vg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Kg(r))}function gE(r,e,n){for(const s of n)s instanceof lT?(r.Vu.addReference(s.key,e),L8(r,s)):s instanceof cT?(de($g,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||mT(r,s.key)):xe(19791,{wu:s})}function L8(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(de($g,"New document in limbo: "+n),r.Eu.add(s),Kg(r))}function Kg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ve(at.fromString(e)),s=r.fu.next();r.Au.set(s,new x8(n)),r.Ru=r.Ru.insert(n,s),nT(r.remoteStore,new fs($r(Dd(n.path)),s,"TargetPurposeLimboResolution",Id.ce))}}async function Jc(r,e,n){const s=Ae(r),o=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const x=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(p){o.push(p);const x=Mg.Es(g.targetId,p);c.push(x)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(g,p){const x=Ae(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>se.forEach(p,(A=>se.forEach(A.Ts,(M=>x.persistence.referenceDelegate.addReference(b,A.targetId,M))).next((()=>se.forEach(A.Is,(M=>x.persistence.referenceDelegate.removeReference(b,A.targetId,M)))))))))}catch(b){if(!ll(b))throw b;de(Og,"Failed to update sequence numbers: "+b)}for(const b of p){const A=b.targetId;if(!b.fromCache){const M=x.vs.get(A),G=M.snapshotVersion,$=M.withLastLimboFreeSnapshotVersion(G);x.vs=x.vs.insert(A,$)}}})(s.localStore,c))}async function D8(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){de($g,"User change. New user:",e.toKey());const s=await Zx(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new he(ne.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Jc(n,s.Ns)}}function j8(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function pT(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=hT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C8.bind(null,e),e.Pu.J_=y8.bind(null,e.eventManager),e.Pu.yu=v8.bind(null,e.eventManager),e}function M8(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N8.bind(null,e),e}class fd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ud(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return PI(this.persistence,new MI,e.initialUser,this.serializer)}Cu(e){return new Xx(jg.Vi,this.serializer)}Du(e){return new GI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fd.provider={build:()=>new fd};class O8 extends fd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof hd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new EI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new Xx((s=>hd.Vi(s,n)),this.serializer)}}class Zp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=D8.bind(null,this.syncEngine),await m8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new g8})()}createDatastore(e){const n=Ud(e.databaseInfo.databaseId),s=YI(e.databaseInfo);return t8(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,h,m){return new r8(s,o,c,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>pE(this.syncEngine,n,0)),(function(){return cE.v()?new cE:new WI})())}createSyncEngine(e,n){return(function(o,c,h,m,g,p,x){const b=new T8(o,c,h,m,g,p);return x&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);de(ya,"RemoteStore shutting down."),s.Ea.add(5),await Zc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zp.provider={build:()=>new Zp};class Qg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ws="FirestoreClient";class V8{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=Tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{de(ws,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(de(ws,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Hg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ep(r,e){r.asyncQueue.verifyOperationInProgress(),de(ws,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Zx(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function yE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await P8(r);de(ws,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>hE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>hE(e.remoteStore,o))),r._onlineComponents=e}async function P8(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(ws,"Using user provided OfflineComponentProvider");try{await Ep(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Wo("Error using user provided cache. Falling back to memory cache: "+n),await Ep(r,new fd)}}else de(ws,"Using default OfflineComponentProvider"),await Ep(r,new O8(void 0));return r._offlineComponents}async function gT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(ws,"Using user provided OnlineComponentProvider"),await yE(r,r._uninitializedComponentsProvider._online)):(de(ws,"Using default OnlineComponentProvider"),await yE(r,new Zp))),r._onlineComponents}function U8(r){return gT(r).then((e=>e.syncEngine))}async function md(r){const e=await gT(r),n=e.eventManager;return n.onListen=b8.bind(null,e.syncEngine),n.onUnlisten=w8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=S8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=k8.bind(null,e.syncEngine),n}function z8(r,e,n,s){const o=new Qg(s),c=new Wg(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>qg(await md(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>Fg(await md(r),c)))}}function B8(r,e,n={}){const s=new xi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,g,p){const x=new Qg({next:A=>{x.Nu(),h.enqueueAndForget((()=>Fg(c,b)));const M=A.docs.has(m);!M&&A.fromCache?p.reject(new he(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&A.fromCache&&g&&g.source==="server"?p.reject(new he(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),b=new Wg(Dd(m.path),x,{includeMetadataChanges:!0,Ka:!0});return qg(c,b)})(await md(r),r.asyncQueue,e,n,s))),s.promise}function H8(r,e,n={}){const s=new xi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,g,p){const x=new Qg({next:A=>{x.Nu(),h.enqueueAndForget((()=>Fg(c,b))),A.fromCache&&g.source==="server"?p.reject(new he(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),b=new Wg(m,x,{includeMetadataChanges:!0,Ka:!0});return qg(c,b)})(await md(r),r.asyncQueue,e,n,s))),s.promise}function q8(r,e){const n=new xi;return r.asyncQueue.enqueueAndForget((async()=>R8(await U8(r),e,n))),n.promise}function yT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const F8="ComponentProvider",vE=new Map;function G8(r,e,n,s,o){return new cC(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,yT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const vT="firestore.googleapis.com",_E=!0;class EE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vT,this.ssl=_E}else this.host=e.host,this.ssl=e.ssl??_E;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vI)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new H6;switch(s.type){case"firstParty":return new W6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=vE.get(n);s&&(de(F8,"Removing Datastore"),vE.delete(n),s.terminate())})(this),Promise.resolve()}}function W8(r,e,n,s={}){r=Sn(r,Hd);const o=nl(e),c=r._getSettings(),h={...c,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(u2(`https://${m}`),h2("Firestore",!0)),c.host!==vT&&c.host!==m&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:s};if(!Es(g,h)&&(r._setSettings(g),s.mockUserToken)){let p,x;if(typeof s.mockUserToken=="string")p=s.mockUserToken,x=on.MOCK_USER;else{p=Xw(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new on(b)}r._authCredentials=new q6(new ox(p,x))}}class Ns{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Qc(n,yt._jsonSchema))return new yt(e,s||null,new ve(at.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Ot("string",yt._jsonSchemaVersion),referencePath:Ot("string")};class vs extends Ns{constructor(e,n,s){super(e,n,Dd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ve(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function fn(r,e,...n){if(r=vt(r),lx("collection","path",e),r instanceof Hd){const s=at.fromString(e,...n);return D_(s),new vs(r,null,s)}{if(!(r instanceof yt||r instanceof vs))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return D_(s),new vs(r.firestore,null,s)}}function Gt(r,e,...n){if(r=vt(r),arguments.length===1&&(e=Tg.newId()),lx("doc","path",e),r instanceof Hd){const s=at.fromString(e,...n);return L_(s),new yt(r,null,new ve(s))}{if(!(r instanceof yt||r instanceof vs))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return L_(s),new yt(r.firestore,r instanceof vs?r.converter:null,new ve(s))}}const xE="AsyncQueue";class TE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eT(this,"async_queue_retry"),this._c=()=>{const s=_p();s&&de(xE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=_p();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=_p();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new xi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ll(e))throw e;de(xE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ai("INTERNAL UNHANDLED ERROR: ",bE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Bg.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:bE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function bE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ki extends Hd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new TE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TE(e),this._firestoreClient=void 0,await e}}}function $8(r,e){const n=typeof r=="object"?r:dg(),s=typeof r=="string"?r:ad,o=xa(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=Qw("firestore");c&&W8(o,...c)}return o}function qd(r){if(r._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||K8(r),r._firestoreClient}function K8(r){const e=r._freezeSettings(),n=G8(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new V8(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(nn.fromBase64String(e))}catch(n){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qc(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Ot("string",Xn._jsonSchemaVersion),bytes:Ot("string")};class Yg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fd{constructor(e){this._methodName=e}}class Qr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qr._jsonSchemaVersion}}static fromJSON(e){if(Qc(e,Qr._jsonSchema))return new Qr(e.latitude,e.longitude)}}Qr._jsonSchemaVersion="firestore/geoPoint/1.0",Qr._jsonSchema={type:Ot("string",Qr._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class gr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qc(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gr(e.vectorValues);throw new he(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:Ot("string",gr._jsonSchemaVersion),vectorValues:Ot("object")};const Q8=/^__.*__$/;class Y8{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yc(e,this.data,n,this.fieldTransforms)}}class _T{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ET(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{dataSource:r})}}class Xg{constructor(e,n,s,o,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Xg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return pd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(ET(this.dataSource)&&Q8.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class X8{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ud(e)}createContext(e,n,s,o=!1){return new Xg({dataSource:e,methodName:n,targetDoc:s,path:tn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gd(r){const e=r._freezeSettings(),n=Ud(r._databaseId);return new X8(r._databaseId,!!e.ignoreUndefinedProperties,n)}function xT(r,e,n,s,o,c={}){const h=r.createContext(c.merge||c.mergeFields?2:0,e,n,o);Jg("Data must be an object, but it was:",h,s);const m=TT(s,h);let g,p;if(c.merge)g=new jn(h.fieldMask),p=h.fieldTransforms;else if(c.mergeFields){const x=[];for(const b of c.mergeFields){const A=Zo(e,b,n);if(!h.contains(A))throw new he(ne.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);AT(x,A)||x.push(A)}g=new jn(x),p=h.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,p=h.fieldTransforms;return new Y8(new bn(m),g,p)}class Wd extends Fd{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wd}}class Zg extends Fd{_toFieldTransform(e){return new PC(e.path,new zc)}isEqual(e){return e instanceof Zg}}function Z8(r,e,n,s){const o=r.createContext(1,e,n);Jg("Data must be an object, but it was:",o,s);const c=[],h=bn.empty();Cs(s,((g,p)=>{const x=ST(e,g,n);p=vt(p);const b=o.childContextForFieldPath(x);if(p instanceof Wd)c.push(x);else{const A=eu(p,b);A!=null&&(c.push(x),h.set(x,A))}}));const m=new jn(c);return new _T(h,m,o.fieldTransforms)}function J8(r,e,n,s,o,c){const h=r.createContext(1,e,n),m=[Zo(e,s,n)],g=[o];if(c.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)m.push(Zo(e,c[A])),g.push(c[A+1]);const p=[],x=bn.empty();for(let A=m.length-1;A>=0;--A)if(!AT(p,m[A])){const M=m[A];let G=g[A];G=vt(G);const $=h.childContextForFieldPath(M);if(G instanceof Wd)p.push(M);else{const K=eu(G,$);K!=null&&(p.push(M),x.set(M,K))}}const b=new jn(p);return new _T(x,b,h.fieldTransforms)}function eN(r,e,n,s=!1){return eu(n,r.createContext(s?4:3,e))}function eu(r,e){if(bT(r=vt(r)))return Jg("Unsupported field value:",e,r),TT(r,e);if(r instanceof Fd)return(function(s,o){if(!ET(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let h=0;for(const m of s){let g=eu(m,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=nt.fromDate(s);return{timestampValue:ud(o.serializer,c)}}if(s instanceof nt){const c=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ud(o.serializer,c)}}if(s instanceof Qr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xn)return{bytesValue:Hx(o.serializer,s._byteString)};if(s instanceof yt){const c=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Lg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof gr)return(function(h,m){const g=h instanceof gr?h.toArray():h;return{mapValue:{fields:{[yx]:{stringValue:vx},[od]:{arrayValue:{values:g.map((x=>{if(typeof x!="number")throw m.createError("VectorValues must only contain numeric values.");return Rg(m.serializer,x)}))}}}}}})(s,o);if(Qx(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Cd(s)}`)})(r,e)}function TT(r,e){const n={};return hx(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(r,((s,o)=>{const c=eu(o,e.childContextForField(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function bT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof nt||r instanceof Qr||r instanceof Xn||r instanceof yt||r instanceof Fd||r instanceof gr||Qx(r))}function Jg(r,e,n){if(!bT(n)||!cx(n)){const s=Cd(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function Zo(r,e,n){if((e=vt(e))instanceof Yg)return e._internalPath;if(typeof e=="string")return ST(r,e);throw pd("Field path arguments must be of type string or ",r,!1,void 0,n)}const tN=new RegExp("[~\\*/\\[\\]]");function ST(r,e,n){if(e.search(tN)>=0)throw pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Yg(...e.split("."))._internalPath}catch{throw pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function pd(r,e,n,s,o){const c=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new he(ne.INVALID_ARGUMENT,m+r+g)}function AT(r,e){return r.some((n=>n.isEqual(e)))}class nN{convertValue(e,n="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Cs(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[od].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new gr(n)}convertGeoPoint(e){return new Qr(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ld(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);We(Kx(s),9688,{name:e});const o=new Vc(s.get(1),s.get(3)),c=new ve(s.popFirst(5));return o.isEqual(n)||Ai(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class e0 extends nN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function en(){return new Zg("serverTimestamp")}const SE="@firebase/firestore",AE="4.10.0";function wE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class wT{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Zo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rN extends wT{data(){return super.data()}}function kT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t0{}class RT extends t0{}function _s(r,e,...n){let s=[];e instanceof t0&&s.push(e),s=s.concat(n),(function(c){const h=c.filter((g=>g instanceof r0)).length,m=c.filter((g=>g instanceof n0)).length;if(h>1||h>0&&m>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class n0 extends RT{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new n0(e,n,s)}_apply(e){const n=this._parse(e);return IT(e._query,n),new Ns(e.firestore,e.converter,Hp(e._query,n))}_parse(e){const n=Gd(e.firestore);return(function(c,h,m,g,p,x,b){let A;if(p.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){RE(b,x);const G=[];for(const $ of b)G.push(kE(g,c,$));A={arrayValue:{values:G}}}else A=kE(g,c,b)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||RE(b,x),A=eN(m,h,b,x==="in"||x==="not-in");return Mt.create(p,x,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class r0 extends t0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new r0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let h=o;const m=c.getFlattenedFilters();for(const g of m)IT(h,g),h=Hp(h,g)})(e._query,n),new Ns(e.firestore,e.converter,Hp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i0 extends RT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new i0(e,n)}_apply(e){const n=(function(o,c,h){if(o.startAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uc(c,h)})(e._query,this._field,this._direction);return new Ns(e.firestore,e.converter,kC(e._query,n))}}function CT(r,e="asc"){const n=e,s=Zo("orderBy",r);return i0._create(s,n)}function kE(r,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wx(e)&&n.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!ve.isDocumentKey(s))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return B_(r,new ve(s))}if(n instanceof yt)return B_(r,n._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cd(n)}.`)}function RE(r,e){if(!Array.isArray(r)||r.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IT(r,e){const n=(function(o,c){for(const h of o)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function NT(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Sc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class da extends wT{constructor(e,n,s,o,c,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Zo("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:Ot("string",da._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Kh extends da{data(e={}){return super.data(e)}}class fa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Sc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Kh(this._firestore,this._userDataWriter,s.key,s,new Sc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new Kh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Sc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new Kh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Sc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,x=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),x=h.indexOf(m.doc.key)),{type:iN(m.type),doc:g,oldIndex:p,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}fa._jsonSchemaVersion="firestore/querySnapshot/1.0",fa._jsonSchema={type:Ot("string",fa._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};function $d(r){r=Sn(r,yt);const e=Sn(r.firestore,ki),n=qd(e);return B8(n,r._key).then((s=>DT(e,r,s)))}function ma(r){r=Sn(r,Ns);const e=Sn(r.firestore,ki),n=qd(e),s=new e0(e);return kT(r._query),H8(n,r._query).then((o=>new fa(e,s,r,o)))}function pr(r,e,n){r=Sn(r,yt);const s=Sn(r.firestore,ki),o=NT(r.converter,e),c=Gd(s);return Yd(s,[xT(c,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Jn.none())])}function Kd(r,e,n,...s){r=Sn(r,yt);const o=Sn(r.firestore,ki),c=Gd(o);let h;return h=typeof(e=vt(e))=="string"||e instanceof Yg?J8(c,"updateDoc",r._key,e,n,s):Z8(c,"updateDoc",r._key,e),Yd(o,[h.toMutation(r._key,Jn.exists(!0))])}function LT(r){return Yd(Sn(r.firestore,ki),[new Cg(r._key,Jn.none())])}function sN(r,e){const n=Sn(r.firestore,ki),s=Gt(r),o=NT(r.converter,e),c=Gd(r.firestore);return Yd(n,[xT(c,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Jn.exists(!1))]).then((()=>s))}function Qd(r,...e){r=vt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||wE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(wE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let c,h,m;if(r instanceof yt)h=Sn(r.firestore,ki),m=Dd(r._key.path),c={next:p=>{e[s]&&e[s](DT(h,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Sn(r,Ns);h=Sn(p.firestore,ki),m=p._query;const x=new e0(h);c={next:b=>{e[s]&&e[s](new fa(h,x,p,b))},error:e[s+1],complete:e[s+2]},kT(r._query)}const g=qd(h);return z8(g,m,o,c)}function Yd(r,e){const n=qd(r);return q8(n,e)}function DT(r,e,n){const s=n.docs.get(e._key),o=new e0(r);return new da(r,o,e._key,s,new Sc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){B6(rl),Yr(new yr("firestore",((s,{instanceIdentifier:o,options:c})=>{const h=s.getProvider("app").getImmediate(),m=new ki(new F6(s.getProvider("auth-internal")),new $6(h,s.getProvider("app-check-internal")),uC(h,o),h);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Zn(SE,AE,e),Zn(SE,AE,"esm2020")})();const jT="@firebase/installations",s0="0.6.19";const MT=1e4,OT=`w:${s0}`,VT="FIS_v2",aN="https://firebaseinstallations.googleapis.com/v1",oN=3600*1e3,lN="installations",cN="Installations";const uN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},va=new Ea(lN,cN,uN);function PT(r){return r instanceof Er&&r.code.includes("request-failed")}function UT({projectId:r}){return`${aN}/projects/${r}/installations`}function zT(r){return{token:r.token,requestStatus:2,expiresIn:dN(r.expiresIn),creationTime:Date.now()}}async function BT(r,e){const s=(await e.json()).error;return va.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function HT({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function hN(r,{refreshToken:e}){const n=HT(r);return n.append("Authorization",fN(e)),n}async function qT(r){const e=await r();return e.status>=500&&e.status<600?r():e}function dN(r){return Number(r.replace("s","000"))}function fN(r){return`${VT} ${r}`}async function mN({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const s=UT(r),o=HT(r),c=e.getImmediate({optional:!0});if(c){const p=await c.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={fid:n,authVersion:VT,appId:r.appId,sdkVersion:OT},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await qT(()=>fetch(s,m));if(g.ok){const p=await g.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:zT(p.authToken)}}else throw await BT("Create Installation",g)}function FT(r){return new Promise(e=>{setTimeout(e,r)})}function pN(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const gN=/^[cdef][\w-]{21}$/,Jp="";function yN(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=vN(r);return gN.test(n)?n:Jp}catch{return Jp}}function vN(r){return pN(r).substr(0,22)}function Xd(r){return`${r.appName}!${r.appId}`}const GT=new Map;function WT(r,e){const n=Xd(r);$T(n,e),_N(n,e)}function $T(r,e){const n=GT.get(r);if(n)for(const s of n)s(e)}function _N(r,e){const n=EN();n&&n.postMessage({key:r,fid:e}),xN()}let ha=null;function EN(){return!ha&&"BroadcastChannel"in self&&(ha=new BroadcastChannel("[Firebase] FID Change"),ha.onmessage=r=>{$T(r.data.key,r.data.fid)}),ha}function xN(){GT.size===0&&ha&&(ha.close(),ha=null)}const TN="firebase-installations-database",bN=1,_a="firebase-installations-store";let xp=null;function a0(){return xp||(xp=y2(TN,bN,{upgrade:(r,e)=>{e===0&&r.createObjectStore(_a)}})),xp}async function gd(r,e){const n=Xd(r),o=(await a0()).transaction(_a,"readwrite"),c=o.objectStore(_a),h=await c.get(n);return await c.put(e,n),await o.done,(!h||h.fid!==e.fid)&&WT(r,e.fid),e}async function KT(r){const e=Xd(r),s=(await a0()).transaction(_a,"readwrite");await s.objectStore(_a).delete(e),await s.done}async function Zd(r,e){const n=Xd(r),o=(await a0()).transaction(_a,"readwrite"),c=o.objectStore(_a),h=await c.get(n),m=e(h);return m===void 0?await c.delete(n):await c.put(m,n),await o.done,m&&(!h||h.fid!==m.fid)&&WT(r,m.fid),m}async function o0(r){let e;const n=await Zd(r.appConfig,s=>{const o=SN(s),c=AN(r,o);return e=c.registrationPromise,c.installationEntry});return n.fid===Jp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function SN(r){const e=r||{fid:yN(),registrationStatus:0};return QT(e)}function AN(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(va.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=wN(r,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:kN(r)}:{installationEntry:e}}async function wN(r,e){try{const n=await mN(r,e);return gd(r.appConfig,n)}catch(n){throw PT(n)&&n.customData.serverCode===409?await KT(r.appConfig):await gd(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function kN(r){let e=await CE(r.appConfig);for(;e.registrationStatus===1;)await FT(100),e=await CE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await o0(r);return s||n}return e}function CE(r){return Zd(r,e=>{if(!e)throw va.create("installation-not-found");return QT(e)})}function QT(r){return RN(r)?{fid:r.fid,registrationStatus:0}:r}function RN(r){return r.registrationStatus===1&&r.registrationTime+MT<Date.now()}async function CN({appConfig:r,heartbeatServiceProvider:e},n){const s=IN(r,n),o=hN(r,n),c=e.getImmediate({optional:!0});if(c){const p=await c.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={installation:{sdkVersion:OT,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await qT(()=>fetch(s,m));if(g.ok){const p=await g.json();return zT(p)}else throw await BT("Generate Auth Token",g)}function IN(r,{fid:e}){return`${UT(r)}/${e}/authTokens:generate`}async function l0(r,e=!1){let n;const s=await Zd(r.appConfig,c=>{if(!YT(c))throw va.create("not-registered");const h=c.authToken;if(!e&&DN(h))return c;if(h.requestStatus===1)return n=NN(r,e),c;{if(!navigator.onLine)throw va.create("app-offline");const m=MN(c);return n=LN(r,m),m}});return n?await n:s.authToken}async function NN(r,e){let n=await IE(r.appConfig);for(;n.authToken.requestStatus===1;)await FT(100),n=await IE(r.appConfig);const s=n.authToken;return s.requestStatus===0?l0(r,e):s}function IE(r){return Zd(r,e=>{if(!YT(e))throw va.create("not-registered");const n=e.authToken;return ON(n)?{...e,authToken:{requestStatus:0}}:e})}async function LN(r,e){try{const n=await CN(r,e),s={...e,authToken:n};return await gd(r.appConfig,s),n}catch(n){if(PT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await KT(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await gd(r.appConfig,s)}throw n}}function YT(r){return r!==void 0&&r.registrationStatus===2}function DN(r){return r.requestStatus===2&&!jN(r)}function jN(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+oN}function MN(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function ON(r){return r.requestStatus===1&&r.requestTime+MT<Date.now()}async function VN(r){const e=r,{installationEntry:n,registrationPromise:s}=await o0(e);return s?s.catch(console.error):l0(e).catch(console.error),n.fid}async function PN(r,e=!1){const n=r;return await UN(n),(await l0(n,e)).token}async function UN(r){const{registrationPromise:e}=await o0(r);e&&await e}function zN(r){if(!r||!r.options)throw Tp("App Configuration");if(!r.name)throw Tp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw Tp(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Tp(r){return va.create("missing-app-config-values",{valueName:r})}const XT="installations",BN="installations-internal",HN=r=>{const e=r.getProvider("app").getImmediate(),n=zN(e),s=xa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},qN=r=>{const e=r.getProvider("app").getImmediate(),n=xa(e,XT).getImmediate();return{getId:()=>VN(n),getToken:o=>PN(n,o)}};function FN(){Yr(new yr(XT,HN,"PUBLIC")),Yr(new yr(BN,qN,"PRIVATE"))}FN();Zn(jT,s0);Zn(jT,s0,"esm2020");const yd="analytics",GN="firebase_id",WN="origin",$N=60*1e3,KN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",c0="https://www.googletagmanager.com/gtag/js";const mn=new Sd("@firebase/analytics");const QN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Mn=new Ea("analytics","Analytics",QN);function YN(r){if(!r.startsWith(c0)){const e=Mn.create("invalid-gtag-resource",{gtagURL:r});return mn.warn(e.message),""}return r}function ZT(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function XN(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function ZN(r,e){const n=XN("firebase-js-sdk-policy",{createScriptURL:YN}),s=document.createElement("script"),o=`${c0}?l=${r}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function JN(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function eL(r,e,n,s,o,c){const h=s[o];try{if(h)await e[h];else{const g=(await ZT(n)).find(p=>p.measurementId===o);g&&await e[g.appId]}}catch(m){mn.error(m)}r("config",o,c)}async function tL(r,e,n,s,o){try{let c=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await ZT(n);for(const g of h){const p=m.find(b=>b.measurementId===g),x=p&&e[p.appId];if(x)c.push(x);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),r("event",s,o||{})}catch(c){mn.error(c)}}function nL(r,e,n,s){async function o(c,...h){try{if(c==="event"){const[m,g]=h;await tL(r,e,n,m,g)}else if(c==="config"){const[m,g]=h;await eL(r,e,n,s,m,g)}else if(c==="consent"){const[m,g]=h;r("consent",m,g)}else if(c==="get"){const[m,g,p]=h;r("get",m,g,p)}else if(c==="set"){const[m]=h;r("set",m)}else r(c,...h)}catch(m){mn.error(m)}}return o}function rL(r,e,n,s,o){let c=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=nL(c,r,e,n),{gtagCore:c,wrappedGtag:window[o]}}function iL(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(c0)&&n.src.includes(r))return n;return null}const sL=30,aL=1e3;class oL{constructor(e={},n=aL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const JT=new oL;function lL(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function cL(r){const{appId:e,apiKey:n}=r,s={method:"GET",headers:lL(n)},o=KN.replace("{app-id}",e),c=await fetch(o,s);if(c.status!==200&&c.status!==304){let h="";try{const m=await c.json();m.error?.message&&(h=m.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:h})}return c.json()}async function uL(r,e=JT,n){const{appId:s,apiKey:o,measurementId:c}=r.options;if(!s)throw Mn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw Mn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new fL;return setTimeout(async()=>{m.abort()},$N),eb({appId:s,apiKey:o,measurementId:c},h,m,e)}async function eb(r,{throttleEndTimeMillis:e,backoffCount:n},s,o=JT){const{appId:c,measurementId:h}=r;try{await hL(s,e)}catch(m){if(h)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:h};throw m}try{const m=await cL(r);return o.deleteThrottleMetadata(c),m}catch(m){const g=m;if(!dL(g)){if(o.deleteThrottleMetadata(c),h)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:h};throw m}const p=Number(g?.customData?.httpStatus)===503?e_(n,o.intervalMillis,sL):e_(n,o.intervalMillis),x={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return o.setThrottleMetadata(c,x),mn.debug(`Calling attemptFetch again in ${p} millis`),eb(r,x,s,o)}}function hL(r,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(c),s(Mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function dL(r){if(!(r instanceof Er)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class fL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function mL(r,e,n,s,o){if(o&&o.global){r("event",n,s);return}else{const c=await e,h={...s,send_to:c};r("event",n,h)}}async function pL(r,e,n,s){if(s&&s.global){const o={};for(const c of Object.keys(n))o[`user_properties.${c}`]=n[c];return r("set",o),Promise.resolve()}else{const o=await e;r("config",o,{update:!0,user_properties:n})}}async function gL(){if(f2())try{await m2()}catch(r){return mn.warn(Mn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return mn.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function yL(r,e,n,s,o,c,h){const m=uL(r);m.then(A=>{n[A.measurementId]=A.appId,r.options.measurementId&&A.measurementId!==r.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>mn.error(A)),e.push(m);const g=gL().then(A=>{if(A)return s.getId()}),[p,x]=await Promise.all([m,g]);iL(c)||ZN(c,p.measurementId),o("js",new Date);const b=h?.config??{};return b[WN]="firebase",b.update=!0,x!=null&&(b[GN]=x),o("config",p.measurementId,b),p.measurementId}class vL{constructor(e){this.app=e}_delete(){return delete Fo[this.app.options.appId],Promise.resolve()}}let Fo={},NE=[];const LE={};let bp="dataLayer",_L="gtag",DE,u0,jE=!1;function EL(){const r=[];if(d2()&&r.push("This is a browser extension environment."),ak()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Mn.create("invalid-analytics-context",{errorInfo:e});mn.warn(n.message)}}function xL(r,e,n){EL();const s=r.options.appId;if(!s)throw Mn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Mn.create("no-api-key");if(Fo[s]!=null)throw Mn.create("already-exists",{id:s});if(!jE){JN(bp);const{wrappedGtag:c,gtagCore:h}=rL(Fo,NE,LE,bp,_L);u0=c,DE=h,jE=!0}return Fo[s]=yL(r,NE,LE,e,DE,bp,n),new vL(r)}function TL(r=dg()){r=vt(r);const e=xa(r,yd);return e.isInitialized()?e.getImmediate():bL(r)}function bL(r,e={}){const n=xa(r,yd);if(n.isInitialized()){const o=n.getImmediate();if(Es(e,n.getOptions()))return o;throw Mn.create("already-initialized")}return n.initialize({options:e})}function SL(r,e,n){r=vt(r),pL(u0,Fo[r.app.options.appId],e,n).catch(s=>mn.error(s))}function AL(r,e,n,s){r=vt(r),mL(u0,Fo[r.app.options.appId],e,n,s).catch(o=>mn.error(o))}const ME="@firebase/analytics",OE="0.10.19";function wL(){Yr(new yr(yd,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return xL(s,o,n)},"PUBLIC")),Yr(new yr("analytics-internal",r,"PRIVATE")),Zn(ME,OE),Zn(ME,OE,"esm2020");function r(e){try{const n=e.getProvider(yd).getImmediate();return{logEvent:(s,o,c)=>AL(n,s,o,c),setUserProperties:(s,o)=>SL(n,s,o)}}catch(n){throw Mn.create("interop-component-reg-failed",{reason:n})}}}wL();const kL={apiKey:"AIzaSyA1AWyQt-mKcZTGJ1MaPrf4IoRxxCpRl8w",authDomain:"brewsy-6e24c.firebaseapp.com",projectId:"brewsy-6e24c",storageBucket:"brewsy-6e24c.firebasestorage.app",messagingSenderId:"965602953101",appId:"1:965602953101:web:50f84823c3a2db81da5fc4",measurementId:"G-9T8DY7JG9C"},h0=v2(kL),ks=V6(h0),Ye=$8(h0);TL(h0);const RL=async(r,e)=>{try{return{user:(await TR(ks,r,e)).user,error:null}}catch(n){return{user:null,error:n}}},CL=async()=>{try{return await wR(ks),{error:null}}catch(r){return{error:r}}},IL=r=>AR(ks,r),tb=j.createContext({user:null,loading:!0}),Aa=()=>{const r=j.useContext(tb);if(!r)throw new Error("useAuth must be used within AuthProvider");return r},NL=({children:r})=>{const[e,n]=j.useState(null),[s,o]=j.useState(!0);return j.useEffect(()=>IL(h=>{n(h),o(!1)}),[]),y.jsx(tb.Provider,{value:{user:e,loading:s},children:r})},nb=j.createContext(void 0),LL=({children:r})=>{const[e,n]=j.useState(()=>localStorage.getItem("brewsy-current-space")||"naturopathie"),s=o=>{n(o),localStorage.setItem("brewsy-current-space",o),o==="naturopathie"?(document.body.classList.add("theme-drogue"),document.body.classList.remove("theme-malandrinerie")):(document.body.classList.add("theme-malandrinerie"),document.body.classList.remove("theme-drogue"))};return j.useEffect(()=>{e==="naturopathie"?(document.body.classList.add("theme-drogue"),document.body.classList.remove("theme-malandrinerie")):(document.body.classList.add("theme-malandrinerie"),document.body.classList.remove("theme-drogue"))},[e]),y.jsx(nb.Provider,{value:{currentSpace:e,setCurrentSpace:s},children:r})},rb=()=>{const r=j.useContext(nb);if(r===void 0)throw new Error("useSpace must be used within a SpaceProvider");return r},DL=()=>{const[r,e]=j.useState(""),[n,s]=j.useState(""),[o,c]=j.useState(null),[h,m]=j.useState(!1),g=async p=>{p.preventDefault(),c(null),m(!0);const{error:x}=await RL(r,n);x&&(c("Email ou mot de passe incorrect"),m(!1))};return y.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-card rounded-soft-lg shadow-soft-lg p-8 max-w-md w-full border border-border",children:[y.jsx("h1",{className:"text-3xl font-bold text-peach mb-2 text-center",children:"Cozy Production"}),y.jsx("p",{className:"text-text-secondary text-center mb-6",children:"Connexion"}),y.jsxs("form",{onSubmit:g,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-secondary mb-1",children:"Email"}),y.jsx("input",{id:"email",type:"email",value:r,onChange:p=>e(p.target.value),required:!0,className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all",placeholder:"votre@email.com"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-secondary mb-1",children:"Mot de passe"}),y.jsx("input",{id:"password",type:"password",value:n,onChange:p=>s(p.target.value),required:!0,className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all",placeholder:""})]}),o&&y.jsx("div",{className:"bg-peach-light text-peach-dark px-4 py-2 rounded-soft text-sm border border-peach/30",children:o}),y.jsx("button",{type:"submit",disabled:h,className:"w-full bg-linear-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark disabled:from-text-muted disabled:to-text-muted text-white font-semibold py-3 px-6 rounded-soft shadow-soft hover:shadow-soft-lg transition-all duration-200",children:h?"Connexion...":"Se connecter"})]})]})})},jL=async()=>{const r=Gt(Ye,"configs","default"),e=await $d(r);return e.exists()?e.data():null},Jd=async()=>{const r=fn(Ye,"configs","default","transformations");return(await ma(r)).docs.map(n=>({id:n.id,...n.data()}))},ib=(r,e)=>{const n=fn(Ye,"users",r,"stocks");return Qd(n,s=>{const o=s.docs.map(c=>({...c.data()}));e(o)})},Sp=async(r,e,n,s)=>{const o=Gt(Ye,"users",r,"stocks",e);await pr(o,{crateId:e,label:s,quantity:n,updatedAt:en()})},d0=(r,e)=>{const n=fn(Ye,"users",r,"prices");return Qd(n,s=>{const o=s.docs.map(c=>({...c.data()}));e(o)})},ML=async(r,e,n)=>{const s=Gt(Ye,"users",r,"prices",e),o=await $d(s),c=o.exists()?o.data().values:[];await pr(s,{crateId:e,values:[...c,n],updatedAt:en()})},OL=async(r,e,n)=>{const s=Gt(Ye,"users",r,"prices",e),o=await $d(s);if(!o.exists())return;const h=o.data().values.filter((m,g)=>g!==n);h.length===0?await LT(s):await Kd(s,{values:h,updatedAt:en()})},sb=(r,e)=>{const n=fn(Ye,"users",r,"runs"),s=_s(n,CT("startedAt","desc"));return Qd(s,o=>{const c=o.docs.map(h=>({id:h.id,...h.data()}));e(c)})},VL=async(r,e,n,s,o)=>{const c=fn(Ye,"users",r,"runs"),h=o||new Date,m=nt.fromDate(h),g=nt.fromMillis(m.toMillis()+s*60*60*1e3),p={transformationId:e,inputQuantityUsed:n,startedAt:m,durationHours:s,reducedByAction:!1,endsAt:g,status:"RUNNING",createdAt:en()};return await pr(Gt(c),p)},PL=async(r,e,n)=>{const s=Gt(Ye,"users",r,"runs",e);await Kd(s,{status:n})},UL=async(r,e,n=1)=>{const s=Gt(Ye,"users",r,"runs",e),o=await $d(s);if(!o.exists())return;const c=o.data();if(c.reducedByAction)return;const h=nt.fromMillis(c.endsAt.toMillis()-n*60*60*1e3);await Kd(s,{reducedByAction:!0,endsAt:h})},VE=async(r,e)=>{const n=Gt(Ye,"users",r,"runs",e);await LT(n)},ab=(r,e)=>{const n=fn(Ye,"users",r,"history"),s=_s(n,CT("createdAt","desc"));return Qd(s,o=>{const c=o.docs.map(h=>({id:h.id,...h.data()}));e(c)})},zL=async(r,e,n,s,o)=>{const c=fn(Ye,"users",r,"history"),h={type:"TRANSFORMATION",transformationId:e,startedAt:n,endsAt:s,reducedByAction:o,createdAt:en()};await pr(Gt(c),h)},BL=async(r,e,n,s,o,c,h)=>{const m=fn(Ye,"users",r,"history"),g={type:"SALE",crateId:e,crateLabel:n,quantitySold:s,estimatedValue:o,actualValue:c,createdAt:en()};await pr(Gt(m),g)},HL=(r,e)=>r.input.quantity*e,qL=r=>r,FL=(r,e)=>r.tool.price*e,ef=r=>{if(r.length===0)return 0;const e=r.reduce((n,s)=>n+s,0);return Math.round(e/r.length)},eg=(r,e)=>r*e,GL=(r,e)=>{const n=new Map(e.map(s=>[s.crateId,ef(s.values)]));return r.reduce((s,o)=>{const c=n.get(o.crateId)||0;return s+eg(o.quantity,c)},0)},vd=r=>new Date>=r,ob=r=>Math.max(0,r.getTime()-Date.now()),lb=r=>{const e=Math.floor(r/36e5),n=Math.floor(r%(1e3*60*60)/(1e3*60));return e>0?`${e}h ${n}m`:`${n}m`},it=({children:r,className:e="",onClick:n})=>y.jsx("div",{className:`bg-card rounded-soft-lg shadow-soft border border-border card-hover ${e}`,onClick:n,children:r}),st=({children:r,className:e=""})=>y.jsx("div",{className:e,children:r}),_d=[{id:"crate_zeed",label:"Zeed",icon:""},{id:"crate_pandoxine",label:"Pandoxine",icon:""},{id:"crate_krakenine",label:"Krakenine",icon:""},{id:"crate_psylocybine",label:"Psylocybine",icon:""}],WL=()=>{const{user:r}=Aa(),{currentSpace:e}=rb(),[n,s]=j.useState([]),[o,c]=j.useState([]),[h,m]=j.useState([]),[g,p]=j.useState([]),[x,b]=j.useState([]),A=ag(),[,M]=j.useState(0);j.useEffect(()=>{if(!r)return;const k=ib(r.uid,s),N=d0(r.uid,c),L=sb(r.uid,m),P=ab(r.uid,b);return()=>{k(),N(),L(),P()}},[r]),j.useEffect(()=>{(async()=>{const N=await Jd();p(N)})()},[]),j.useEffect(()=>{const k=setInterval(()=>{M(Date.now())},1e3);return()=>clearInterval(k)},[]);const G=GL(n,o),$=h.filter(k=>k.status==="RUNNING"),K=h.filter(k=>k.status==="DONE"?!1:vd(k.endsAt.toDate())),Z=new Map(o.map(k=>[k.crateId,ef(k.values)])),Y=k=>n.find(N=>N.crateId===k),oe=k=>g.find(N=>N.id===k.transformationId),z=h.filter(k=>k.status==="RUNNING"&&!vd(k.endsAt.toDate())),le=new Date;le.setDate(le.getDate()-7);const ae=x.filter(k=>{if(k.type!=="SALE")return!1;const N=k.createdAt?.toDate();return N&&N>=le}),C=ae.reduce((k,N)=>N.type!=="SALE"?k:k+N.actualValue,0),R=ae.reduce((k,N)=>N.type!=="SALE"?k:k+N.quantitySold,0);return e==="malandrinerie"?y.jsxs("div",{className:"space-y-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-text",children:"Dashboard - Malandrinerie"}),y.jsx(it,{children:y.jsxs(st,{className:"p-8 text-center",children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsx("h2",{className:"text-xl font-semibold text-text mb-2",children:"Espace Malandrinerie"}),y.jsx("p",{className:"text-text-muted mb-4",children:"Cet espace est en cours de dveloppement. Les fonctionnalits (Dashboard, Calculettes, Commandes) seront bientt disponibles !"}),y.jsx("div",{className:"inline-block px-4 py-2 bg-peach-light rounded-soft text-peach-dark text-sm",children:" venir prochainement"})]})})]}):y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold text-text",children:"Dashboard - Drogue"}),y.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"text-text-muted",children:"Valeur:"}),y.jsxs("span",{className:"font-bold text-mint-dark",children:[G.toLocaleString()," $"]})]}),y.jsx("div",{className:"w-px h-4 bg-border"}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"text-text-muted",children:"Actives:"}),y.jsx("span",{className:"font-semibold text-mint",children:$.length})]}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"text-text-muted",children:"Prtes:"}),y.jsx("span",{className:"font-semibold text-mint-dark",children:K.length})]})]})]}),K.length>0&&y.jsx("div",{className:"bg-mint-light border border-mint rounded-soft px-3 py-2 cursor-pointer hover:bg-mint/30 transition-colors",onClick:()=>A("/timers"),children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-lg",children:""}),y.jsxs("span",{className:"text-sm font-semibold text-mint-dark",children:[K.length," transformation",K.length>1?"s":""," prte",K.length>1?"s":"","  rcolter"]})]})}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[y.jsx(it,{className:"md:col-span-2",children:y.jsxs(st,{className:"p-3",children:[y.jsx("h2",{className:"text-sm font-semibold text-text mb-2",children:"Stocks"}),y.jsx("div",{className:"space-y-1.5",children:_d.map(k=>{const L=Y(k.id)?.quantity||0,P=Z.get(k.id)||0,I=L*P;return y.jsxs("div",{className:"flex items-center justify-between py-2 px-2 rounded hover:bg-surface transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[y.jsx("span",{className:"text-xl",children:k.icon}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-semibold text-text",children:k.label}),y.jsxs("div",{className:"text-xs text-text-muted",children:[L," ",L>1?"caisses":"caisse"]})]})]}),y.jsx("div",{className:"text-right",children:P>0?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-base font-bold text-peach",children:[I.toLocaleString()," $"]}),y.jsxs("div",{className:"text-xs text-text-muted",children:[P.toLocaleString()," $ / u"]})]}):y.jsx("div",{className:"text-xs text-text-muted",children:"Prix non dfini"})})]},k.id)})})]})}),y.jsx(it,{children:y.jsxs(st,{className:"p-3",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsx("h2",{className:"text-sm font-semibold text-text",children:"7 derniers jours"}),y.jsx("button",{onClick:()=>A("/history"),className:"text-xs text-peach hover:text-peach-dark transition-colors",children:"Historique "})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"p-3 bg-peach-light rounded-soft border border-peach/30",children:[y.jsx("div",{className:"text-xs text-text-muted mb-1",children:"Revenus"}),y.jsxs("div",{className:"text-xl font-bold text-peach",children:[C.toLocaleString()," $"]})]}),y.jsxs("div",{className:"p-3 bg-lavender-light rounded-soft border border-lavender/30",children:[y.jsx("div",{className:"text-xs text-text-muted mb-1",children:"Ventes"}),y.jsxs("div",{className:"flex items-baseline gap-2",children:[y.jsx("div",{className:"text-xl font-bold text-lavender-dark",children:ae.length}),y.jsxs("div",{className:"text-sm text-text-muted",children:["vente",ae.length>1?"s":""]})]}),y.jsxs("div",{className:"text-xs text-text-muted mt-1",children:[R," caisse",R>1?"s":""]})]})]})]})})]}),z.length>0&&y.jsx(it,{children:y.jsxs(st,{className:"p-3",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("h2",{className:"text-sm font-semibold text-text",children:"En cours"}),y.jsx("button",{onClick:()=>A("/timers"),className:"text-xs text-lavender hover:text-lavender-dark transition-colors",children:"Voir tout "})]}),y.jsx("div",{className:"space-y-2",children:z.slice(0,3).map(k=>{const N=oe(k),L=ob(k.endsAt.toDate()),P=k.durationHours*60*60*1e3,I=Math.max(0,Math.min(100,(P-L)/P*100));return y.jsxs("div",{className:"bg-surface rounded-soft p-2",children:[y.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm font-medium text-text",children:N?.name}),k.reducedByAction&&y.jsx("span",{className:"text-xs",children:""})]}),y.jsx("span",{className:"text-xs font-semibold text-lavender",children:lb(L)})]}),y.jsx("div",{className:"w-full bg-border rounded-full h-1.5 overflow-hidden",children:y.jsx("div",{className:"h-full bg-linear-to-r from-lavender to-peach transition-all duration-1000",style:{width:`${I}%`}})})]},k.id)})})]})})]})};var $L=j.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),rn=function(e,n,s){var o=s.get(e);return o?o(n):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function PE(r,e){if(r==null)return{};var n={},s=Object.keys(r),o,c;for(c=0;c<s.length;c++)o=s[c],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}var Wt=j.forwardRef(function(r,e){var n=r.alt,s=r.color,o=r.size,c=r.weight,h=r.mirrored,m=r.children,g=r.renderPath,p=PE(r,["alt","color","size","weight","mirrored","children","renderPath"]),x=j.useContext($L),b=x.color,A=b===void 0?"currentColor":b,M=x.size,G=x.weight,$=G===void 0?"regular":G,K=x.mirrored,Z=K===void 0?!1:K,Y=PE(x,["color","size","weight","mirrored"]);return _.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o??M,height:o??M,fill:s??A,viewBox:"0 0 256 256",transform:h||Z?"scale(-1, 1)":void 0},Y,p),!!n&&_.createElement("title",null,n),m,_.createElement("rect",{width:"256",height:"256",fill:"none"}),g(c??$,s??A))});Wt.displayName="IconBase";var wa=new Map;wa.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});wa.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44Z",opacity:"0.2"}),_.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});wa.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M224,216a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H88V140H84A68.1,68.1,0,0,1,16,72a28,28,0,0,1,56,0A12,12,0,0,0,84,84h4V56a40,40,0,0,1,80,0v68h4a12,12,0,0,0,12-12,28,28,0,0,1,56,0,68.1,68.1,0,0,1-68,68h-4v28h48A8,8,0,0,1,224,216Z"}))});wa.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});wa.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});wa.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var KL=function(e,n){return rn(e,n,wa)},cb=j.forwardRef(function(r,e){return _.createElement(Wt,Object.assign({ref:e},r,{renderPath:KL}))});cb.displayName="Cactus";var ka=new Map;ka.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"92",y1:"76",x2:"164",y2:"76",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("circle",{cx:"104",cy:"128",r:"16"}),_.createElement("circle",{cx:"152",cy:"128",r:"16"}),_.createElement("circle",{cx:"104",cy:"176",r:"16"}),_.createElement("circle",{cx:"152",cy:"176",r:"16"}))});ka.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("rect",{x:"80",y:"64",width:"96",height:"48",opacity:"0.2"}),_.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256 0) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"88",cy:"148",r:"12"}),_.createElement("circle",{cx:"128",cy:"148",r:"12"}),_.createElement("circle",{cx:"168",cy:"148",r:"12"}),_.createElement("circle",{cx:"88",cy:"188",r:"12"}),_.createElement("circle",{cx:"128",cy:"188",r:"12"}),_.createElement("circle",{cx:"168",cy:"188",r:"12"}))});ka.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M200,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24ZM88,200a12,12,0,1,1,12-12A12,12,0,0,1,88,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,88,160Zm40,40a12,12,0,1,1,12-12A12,12,0,0,1,128,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,128,160Zm40,40a12,12,0,1,1,12-12A12,12,0,0,1,168,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,168,160Zm16-56a8,8,0,0,1-8,8H80a8,8,0,0,1-8-8V64a8,8,0,0,1,8-8h96a8,8,0,0,1,8,8Z"}))});ka.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("circle",{cx:"88",cy:"148",r:"10"}),_.createElement("circle",{cx:"128",cy:"148",r:"10"}),_.createElement("circle",{cx:"168",cy:"148",r:"10"}),_.createElement("circle",{cx:"88",cy:"188",r:"10"}),_.createElement("circle",{cx:"128",cy:"188",r:"10"}),_.createElement("circle",{cx:"168",cy:"188",r:"10"}))});ka.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("circle",{cx:"88",cy:"148",r:"8"}),_.createElement("circle",{cx:"128",cy:"148",r:"8"}),_.createElement("circle",{cx:"168",cy:"148",r:"8"}),_.createElement("circle",{cx:"88",cy:"188",r:"8"}),_.createElement("circle",{cx:"128",cy:"188",r:"8"}),_.createElement("circle",{cx:"168",cy:"188",r:"8"}))});ka.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"88",cy:"148",r:"12"}),_.createElement("circle",{cx:"128",cy:"148",r:"12"}),_.createElement("circle",{cx:"168",cy:"148",r:"12"}),_.createElement("circle",{cx:"88",cy:"188",r:"12"}),_.createElement("circle",{cx:"128",cy:"188",r:"12"}),_.createElement("circle",{cx:"168",cy:"188",r:"12"}))});var QL=function(e,n){return rn(e,n,ka)},ub=j.forwardRef(function(r,e){return _.createElement(Wt,Object.assign({ref:e},r,{renderPath:QL}))});ub.displayName="Calculator";var Ra=new Map;Ra.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ra.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("rect",{x:"156",y:"40",width:"56",height:"168",opacity:"0.2"}),_.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ra.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M228,200h-8V40a8,8,0,0,0-8-8H156a8,8,0,0,0-8,8V80H100a8,8,0,0,0-8,8v40H44a8,8,0,0,0-8,8v64H28a8,8,0,0,0,0,16H228a8,8,0,0,0,0-16ZM108,96h40V200H108ZM52,144H92v56H52Z"}))});Ra.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ra.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ra.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var YL=function(e,n){return rn(e,n,Ra)},tg=j.forwardRef(function(r,e){return _.createElement(Wt,Object.assign({ref:e},r,{renderPath:YL}))});tg.displayName="ChartBar";var Ca=new Map;Ca.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ca.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),_.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ca.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm49.5,85.8-58.6,56a8.1,8.1,0,0,1-5.6,2.2,7.7,7.7,0,0,1-5.5-2.2l-29.3-28a8,8,0,1,1,11-11.6l23.8,22.7,53.2-50.7a8,8,0,0,1,11,11.6Z"}))});Ca.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ca.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ca.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var XL=function(e,n){return rn(e,n,Ca)},hb=j.forwardRef(function(r,e){return _.createElement(Wt,Object.assign({ref:e},r,{renderPath:XL}))});hb.displayName="CheckCircle";var Ia=new Map;Ia.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ia.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"88",opacity:"0.2"}),_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ia.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M136,80v43.4l37.6,21.7a8,8,0,0,1-4,14.9,7.1,7.1,0,0,1-4-1.1l-41.6-24h-.2l-.4-.2-.3-.3-.3-.2-.3-.3-.2-.2c-.2-.1-.3-.3-.4-.4l-.2-.2-.2-.4-.2-.3-.2-.3a.5.5,0,0,1-.2-.4l-.2-.3c0-.1-.1-.2-.1-.4a.4.4,0,0,1-.1-.3l-.2-.4a.4.4,0,0,0-.1-.3c0-.2,0-.3-.1-.4v-.4c0-.2-.1-.3-.1-.4V80a8,8,0,0,1,16,0Zm59.9-19.9a96.2,96.2,0,0,0-135.8,0l-8.3,8.3L37.5,54.1a8,8,0,0,0-8.7-1.8,8.2,8.2,0,0,0-5,7.4v40a8,8,0,0,0,8,8h40a8,8,0,0,0,5.7-13.6L63.1,79.7l8.3-8.3a80,80,0,1,1,0,113.2,7.9,7.9,0,0,0-11.3,0,8,8,0,0,0,0,11.3A96,96,0,0,0,195.9,60.1Z"}))});Ia.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ia.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ia.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var ZL=function(e,n){return rn(e,n,Ia)},db=j.forwardRef(function(r,e){return _.createElement(Wt,Object.assign({ref:e},r,{renderPath:ZL}))});db.displayName="ClockCounterClockwise";var Na=new Map;Na.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Na.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Na.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M152,120H136V56h8a32.1,32.1,0,0,1,32,32,8,8,0,0,0,16,0,48,48,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40H108a48,48,0,0,0,0,96h12v64H104a32.1,32.1,0,0,1-32-32,8,8,0,0,0-16,0,48,48,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-32,0H108a32,32,0,0,1,0-64h12Zm32,80H136V136h16a32,32,0,0,1,0,64Z"}))});Na.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Na.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Na.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var JL=function(e,n){return rn(e,n,Na)},fb=j.forwardRef(function(r,e){return _.createElement(Wt,Object.assign({ref:e},r,{renderPath:JL}))});fb.displayName="CurrencyDollar";var La=new Map;La.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});La.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M146.5,90.5l51.4-52.6a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7Z",opacity:"0.2"}),_.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});La.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M231.8,32.2a28.1,28.1,0,0,0-39.7.1L18.3,210.4a8,8,0,0,0,3.9,13.4,154.1,154.1,0,0,0,35,4c33.4,0,66.8-10.9,98.3-32.2a232,232,0,0,0,50.9-46.8,8.1,8.1,0,0,0-.7-10.5l-18.8-18.7,45-47.9A28,28,0,0,0,231.8,32.2ZM189.2,144.5a227,227,0,0,1-43.1,38.2c-34.5,23.2-70,32.6-105.8,28.1L146.6,101.9l23.3,23.3c.1.1.2.3.4.4h.1Z"}))});La.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});La.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});La.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M146.5,90.5,200,144s-72,96-176,72L197.9,37.9a19.9,19.9,0,0,1,28.2,28.2l-50.3,53.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var e3=function(e,n){return rn(e,n,La)},mb=j.forwardRef(function(r,e){return _.createElement(Wt,Object.assign({ref:e},r,{renderPath:e3}))});mb.displayName="Knife";var Da=new Map;Da.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Da.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",opacity:"0.2"}),_.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Da.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M224,39.5a8.1,8.1,0,0,0-7.5-7.5C140.2,27.5,79.1,50.5,53,93.6a87.3,87.3,0,0,0-12.8,49.1c.6,15.9,5.2,32.1,13.8,48L154.3,90.3a8.1,8.1,0,0,1,11.4,11.4L65.3,202c15.9,8.6,32.1,13.2,48,13.8h3.3A87,87,0,0,0,162.4,203C205.5,176.9,228.5,115.8,224,39.5Z"}),_.createElement("path",{d:"M57.1,196.1c-1.1-1.8-2.1-3.6-3.1-5.4L34.3,210.3a8.1,8.1,0,0,0,0,11.4,8.2,8.2,0,0,0,11.4,0L65.3,202l-5.4-3.1A9.3,9.3,0,0,1,57.1,196.1Z"}))});Da.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Da.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Da.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"160",y1:"96",x2:"40",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M64,192C16,112,80,32,216,40,224,176,144,240,64,192Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var t3=function(e,n){return rn(e,n,Da)},pb=j.forwardRef(function(r,e){return _.createElement(Wt,Object.assign({ref:e},r,{renderPath:t3}))});pb.displayName="Leaf";var ja=new Map;ja.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});ja.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"116",cy:"116",r:"84",opacity:"0.2"}),_.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});ja.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M176,116a60,60,0,1,1-60-60A60,60,0,0,1,176,116Zm53.6,113.7A8,8,0,0,1,224,232a8.3,8.3,0,0,1-5.7-2.3l-43.2-43.3a92.2,92.2,0,1,1,11.3-11.3l43.2,43.2A8,8,0,0,1,229.6,229.7ZM116,192a76,76,0,1,0-76-76A76.1,76.1,0,0,0,116,192Z"}))});ja.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});ja.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});ja.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var n3=function(e,n){return rn(e,n,ja)},gb=j.forwardRef(function(r,e){return _.createElement(Wt,Object.assign({ref:e},r,{renderPath:n3}))});gb.displayName="MagnifyingGlass";var Ma=new Map;Ma.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ma.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M33.1,74.6A8.1,8.1,0,0,0,32,78.7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.6,7.6,0,0,0,3.9,1h0l.9-106.8L33.1,74.6Z",opacity:"0.2"}),_.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ma.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M229.9,70.8h0a.1.1,0,0,1-.1-.1,16.2,16.2,0,0,0-6-5.9l-88-49.5a16,16,0,0,0-15.6,0l-88,49.5a16.2,16.2,0,0,0-6,5.9.1.1,0,0,1-.1.1v.2A15,15,0,0,0,24,78.7v98.6a16.1,16.1,0,0,0,8.2,14l88,49.5a16.5,16.5,0,0,0,7.2,2h1.4a15.7,15.7,0,0,0,7-2l88-49.5a16.1,16.1,0,0,0,8.2-14V78.7A15.6,15.6,0,0,0,229.9,70.8ZM128,29.2,207.7,74,177.1,91.4,96.4,46.9Zm.9,89.6L48.4,74,80,56.2l80.8,44.5Zm7.2,103.5.8-89.6L169,114.4v38.1a8,8,0,0,0,16,0V105.3l31-17.6v89.6Z"}))});Ma.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ma.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ma.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var r3=function(e,n){return rn(e,n,Ma)},Ed=j.forwardRef(function(r,e){return _.createElement(Wt,Object.assign({ref:e},r,{renderPath:r3}))});Ed.displayName="Package";var Oa=new Map;Oa.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Oa.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Oa.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M216,120H136V40a8,8,0,0,0-16,0v80H40a8,8,0,0,0,0,16h80v80a8,8,0,0,0,16,0V136h80a8,8,0,0,0,0-16Z"}))});Oa.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Oa.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Oa.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var i3=function(e,n){return rn(e,n,Oa)},yb=j.forwardRef(function(r,e){return _.createElement(Wt,Object.assign({ref:e},r,{renderPath:i3}))});yb.displayName="Plus";var Va=new Map;Va.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"104",y1:"100",x2:"168",y2:"100",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"104",y1:"140",x2:"168",y2:"140",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Va.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M88,216a24,24,0,0,0,17.9-40h112A24,24,0,0,1,200,216Z",opacity:"0.2"}),_.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"104",x2:"168",y2:"104",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"136",x2:"168",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Va.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M223.8,170.7a7.8,7.8,0,0,0-5.9-2.7H208V64a32.1,32.1,0,0,0-32-32H40A32.1,32.1,0,0,0,8,64a31.5,31.5,0,0,0,8.2,21.3,7.9,7.9,0,0,0,11.2.7,8,8,0,0,0,.7-11.3A16,16,0,1,1,56,64V192a32.1,32.1,0,0,0,32,32H200a32.1,32.1,0,0,0,32-32A31.5,31.5,0,0,0,223.8,170.7ZM104,96h64a8,8,0,0,1,0,16H104a8,8,0,0,1,0-16Zm-8,40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H104A8,8,0,0,1,96,136Zm104,72H115.7a32.2,32.2,0,0,0,4.3-16,30.8,30.8,0,0,0-1-8h94.9A16.1,16.1,0,0,1,200,208Z"}))});Va.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"104",y1:"104",x2:"168",y2:"104",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"104",y1:"136",x2:"168",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Va.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"104",y1:"104",x2:"168",y2:"104",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"104",y1:"136",x2:"168",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Va.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M200,176V64a23.9,23.9,0,0,0-24-24H40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"104",x2:"168",y2:"104",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"136",x2:"168",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M22.1,80A24,24,0,1,1,64,64V192a24,24,0,1,0,41.9-16h112A24,24,0,0,1,200,216H88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var s3=function(e,n){return rn(e,n,Va)},f0=j.forwardRef(function(r,e){return _.createElement(Wt,Object.assign({ref:e},r,{renderPath:s3}))});f0.displayName="Scroll";var Pa=new Map;Pa.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Pa.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48Z",opacity:"0.2"}),_.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Pa.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M223.9,65.4l-12.2,66.9A24,24,0,0,1,188.1,152H72.1l4.4,24H184a24,24,0,1,1-24,24,23.6,23.6,0,0,1,1.4-8H102.6a23.6,23.6,0,0,1,1.4,8,24,24,0,1,1-42.2-15.6L34.1,32H16a8,8,0,0,1,0-16H34.1A16,16,0,0,1,49.8,29.1L54.7,56H216a7.9,7.9,0,0,1,6.1,2.9A7.7,7.7,0,0,1,223.9,65.4Z"}))});Pa.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Pa.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Pa.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var a3=function(e,n){return rn(e,n,Pa)},m0=j.forwardRef(function(r,e){return _.createElement(Wt,Object.assign({ref:e},r,{renderPath:a3}))});m0.displayName="ShoppingCart";var Ua=new Map;Ua.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ua.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ua.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M221.7,133.7l-42,42A8.3,8.3,0,0,1,174,178a7.7,7.7,0,0,1-3-.6,8,8,0,0,1-5-7.4V136H104a8,8,0,0,1,0-16h62V86a8,8,0,0,1,5-7.4,8.2,8.2,0,0,1,8.7,1.7l42,42A8.1,8.1,0,0,1,221.7,133.7ZM104,208H48V48h56a8,8,0,0,0,0-16H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16h56a8,8,0,0,0,0-16Z"}))});Ua.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ua.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ua.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var o3=function(e,n){return rn(e,n,Ua)},vb=j.forwardRef(function(r,e){return _.createElement(Wt,Object.assign({ref:e},r,{renderPath:o3}))});vb.displayName="SignOut";var za=new Map;za.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"140",r:"88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"128",y1:"140",x2:"161.9",y2:"106.1",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"104",y1:"12",x2:"152",y2:"12",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});za.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"88",opacity:"0.2"}),_.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),_.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});za.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M104,16h48a8,8,0,0,0,0-16H104a8,8,0,0,0,0,16Z"}),_.createElement("path",{d:"M128,32a96,96,0,1,0,96,96A96.2,96.2,0,0,0,128,32Zm45.3,62.1-39.6,39.6a8.2,8.2,0,0,1-11.4,0,8.1,8.1,0,0,1,0-11.4l39.6-39.6a8.1,8.1,0,1,1,11.4,11.4Z"}))});za.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});za.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});za.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),_.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var l3=function(e,n){return rn(e,n,za)},_b=j.forwardRef(function(r,e){return _.createElement(Wt,Object.assign({ref:e},r,{renderPath:l3}))});_b.displayName="Timer";var Ba=new Map;Ba.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"216",y1:"60",x2:"40",y2:"60",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M200,60V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V60",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("path",{d:"M168,60V36a16,16,0,0,0-16-16H104A16,16,0,0,0,88,36V60",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ba.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z",opacity:"0.2"}),_.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ba.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M216,48H176V40a24.1,24.1,0,0,0-24-24H104A24.1,24.1,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"}))});Ba.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ba.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ba.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var c3=function(e,n){return rn(e,n,Ba)},Eb=j.forwardRef(function(r,e){return _.createElement(Wt,Object.assign({ref:e},r,{renderPath:c3}))});Eb.displayName="Trash";var Ha=new Map;Ha.set("bold",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"132",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),_.createElement("circle",{cx:"128",cy:"172",r:"16"}))});Ha.set("duotone",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"128",cy:"172",r:"12"}))});Ha.set("fill",function(){return _.createElement(_.Fragment,null,_.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm-8,56a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm8,104a12,12,0,1,1,12-12A12,12,0,0,1,128,184Z"}))});Ha.set("light",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),_.createElement("circle",{cx:"128",cy:"172",r:"10"}))});Ha.set("thin",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),_.createElement("circle",{cx:"128",cy:"172",r:"8"}))});Ha.set("regular",function(r){return _.createElement(_.Fragment,null,_.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),_.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),_.createElement("circle",{cx:"128",cy:"172",r:"12"}))});var u3=function(e,n){return rn(e,n,Ha)},xb=j.forwardRef(function(r,e){return _.createElement(Wt,Object.assign({ref:e},r,{renderPath:u3}))});xb.displayName="WarningCircle";const h3=({children:r})=>{const e=Ri(),{currentSpace:n,setCurrentSpace:s}=rb(),o=async()=>{await CL()},m=n==="naturopathie"?[{path:"/",label:"Dashboard",Icon:tg},{path:"/stocks",label:"Stocks",Icon:Ed},{path:"/prices",label:"Prix",Icon:fb},{path:"/calculator",label:"Calculateur",Icon:ub},{path:"/timers",label:"Transformations",Icon:_b},{path:"/history",label:"Historique",Icon:db}]:[{path:"/",label:"Dashboard",Icon:tg},{path:"/malandrinerie/stocks",label:"Stocks",Icon:Ed},{path:"/malandrinerie/recipes",label:"Recettes",Icon:f0},{path:"/malandrinerie/orders",label:"Commandes",Icon:m0}],g=p=>e.pathname===p;return y.jsxs("div",{className:"min-h-screen flex flex-col",children:[y.jsx("header",{className:"bg-card sticky top-0 z-10 border-b border-border shadow-soft",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[y.jsxs("h1",{className:"text-2xl font-bold text-peach flex gap-2 items-center",children:[y.jsx(cb,{size:24,weight:"duotone"}),"Brewsy"]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("div",{className:"flex items-center gap-2 bg-surface rounded-soft p-1 shadow-sm border border-border",children:[y.jsxs("button",{onClick:()=>s("naturopathie"),className:`flex items-center gap-2 px-3 py-2 rounded-soft transition-all ${n==="naturopathie"?"bg-mint text-white font-semibold shadow-soft":"text-text-muted hover:text-text hover:bg-card"}`,title:"Espace Drogue",children:[y.jsx(pb,{size:20,weight:n==="naturopathie"?"fill":"duotone"}),y.jsx("span",{className:"hidden sm:inline",children:"Drogue"})]}),y.jsxs("button",{onClick:()=>s("malandrinerie"),className:`flex items-center gap-2 px-3 py-2 rounded-soft transition-all ${n==="malandrinerie"?"bg-peach text-white font-semibold shadow-soft":"text-text-muted hover:text-text hover:bg-card"}`,title:"Espace Malandrinerie",children:[y.jsx(mb,{size:20,weight:n==="malandrinerie"?"fill":"duotone"}),y.jsx("span",{className:"hidden sm:inline",children:"Malandrinerie"})]})]}),y.jsx("button",{onClick:o,className:"p-2 rounded-soft hover:bg-surface transition-colors text-text-secondary",title:"Dconnexion",children:y.jsx(vb,{size:24,weight:"duotone"})})]})]})}),y.jsxs("div",{className:"flex-1 flex",children:[y.jsx("nav",{className:"w-64 glass-strong p-4 hidden md:block border-r border-border shadow-glass",children:y.jsx("ul",{className:"space-y-2",children:m.map(p=>y.jsx("li",{children:y.jsxs(Yh,{to:p.path,className:`flex items-center gap-3 px-4 py-3 rounded-soft transition-colors ${g(p.path)?"bg-sky text-peach-dark font-semibold shadow-glass":"text-text-muted hover:glass"}`,children:[y.jsx(p.Icon,{size:24,weight:g(p.path)?"fill":"duotone"}),y.jsx("span",{children:p.label})]})},p.path))})}),y.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-y-auto",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:r})})]}),y.jsx("nav",{className:"md:hidden glass-strong sticky bottom-0 border-t border-border shadow-glass",children:y.jsx("ul",{className:"flex justify-around py-2",children:m.map(p=>y.jsx("li",{children:y.jsxs(Yh,{to:p.path,className:`flex flex-col items-center gap-1 px-3 py-2 rounded-soft transition-colors ${g(p.path)?"text-sky font-semibold":"text-text-muted"}`,children:[y.jsx(p.Icon,{size:24,weight:g(p.path)?"fill":"duotone"}),y.jsx("span",{className:"text-xs",children:p.label})]})},p.path))})})]})},jt=({children:r,variant:e="primary",size:n="md",className:s="",...o})=>{const c="font-semibold rounded-soft transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",h={primary:"bg-gradient-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark text-white shadow-soft",secondary:"bg-surface hover:bg-surface-hover text-text border border-border",outline:"border-2 border-peach text-peach hover:bg-peach-light",danger:"bg-peach hover:bg-peach-dark text-white shadow-soft"},m={sm:"py-1.5 px-3 text-sm",md:"py-2 px-4",lg:"py-3 px-6 text-lg"};return y.jsx("button",{className:`${c} ${h[e]} ${m[n]} ${s}`,...o,children:r})},d3=()=>{const{user:r}=Aa(),[e,n]=j.useState([]),[s,o]=j.useState([]),[c,h]=j.useState(null),[m,g]=j.useState("1"),[p,x]=j.useState("0"),[b,A]=j.useState({});j.useEffect(()=>{if(!r)return;const z=ib(r.uid,n),le=d0(r.uid,o);return()=>{z(),le()}},[r]);const M=z=>e.find(le=>le.crateId===z),G=async(z,le,ae)=>{if(!r)return;const C=M(z),R=Math.max(0,(C?.quantity||0)+ae);await Sp(r.uid,z,R,le)},$=async(z,le,ae)=>{r&&await Sp(r.uid,z,Math.max(0,ae),le)},K=z=>{const ae=M(z)?.quantity||0;h(z),g(String(ae));const C=Y.get(z)||0;x(String(C*ae))},Z=async(z,le)=>{const ae=parseInt(m)||0,C=parseInt(p)||0;if(!r||ae<=0||C<0)return;const R=M(z);if(!R||R.quantity<ae){alert("Stock insuffisant");return}const N=(Y.get(z)||0)*ae;try{await BL(r.uid,z,le,ae,N,C,void 0),await Sp(r.uid,z,R.quantity-ae,le),h(null),g("1"),x("0")}catch(L){console.error("Erreur lors de la vente:",L),alert("Erreur lors de l'enregistrement de la vente")}},Y=new Map(s.map(z=>[z.crateId,ef(z.values)])),oe=_d.reduce((z,le)=>{const ae=M(le.id),C=Y.get(le.id)||0;return z+eg(ae?.quantity||0,C)},0);return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Stocks"}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-sm text-dark-600 dark:text-dark-400",children:"Valeur totale"}),y.jsxs("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:[oe.toLocaleString()," $"]})]})]}),y.jsx("div",{className:"grid grid-cols-1 gap-3",children:_d.map(z=>{const ae=M(z.id)?.quantity||0,C=Y.get(z.id)||0,R=eg(ae,C);return y.jsx(it,{children:y.jsxs(st,{className:"p-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[y.jsx("span",{className:"text-3xl",children:z.icon}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-dark-800 dark:text-dark-100",children:z.label}),C>0&&y.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[C.toLocaleString()," $ / caisse"]})]})]}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("button",{onClick:()=>G(z.id,z.label,-10),className:"w-9 h-9 rounded-soft bg-peach-light hover:bg-peach transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"-10",children:"--"}),y.jsx("button",{onClick:()=>G(z.id,z.label,-1),className:"w-9 h-9 rounded-soft bg-lavender-light hover:bg-lavender transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"-1",children:"-"}),y.jsx("input",{type:"number",value:b[z.id]!==void 0?b[z.id]:ae,onChange:k=>{const N=k.target.value;A(L=>({...L,[z.id]:N}))},onBlur:()=>{const k=b[z.id];k!==void 0&&($(z.id,z.label,parseInt(k)||0),A(N=>{const L={...N};return delete L[z.id],L}))},onKeyDown:k=>{k.key==="Enter"&&k.currentTarget.blur()},className:"w-20 text-center px-3 py-2 rounded-soft border border-border bg-card text-text font-semibold shadow-sm focus:ring-2 focus:ring-peach/30 focus:border-peach outline-none transition-all"}),y.jsx("button",{onClick:()=>G(z.id,z.label,1),className:"w-9 h-9 rounded-soft bg-sage-light hover:bg-sage transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"+1",children:"+"}),y.jsx("button",{onClick:()=>G(z.id,z.label,10),className:"w-9 h-9 rounded-soft bg-butter-light hover:bg-butter transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"+10",children:"++"})]}),y.jsx("div",{className:"text-right min-w-[100px]",children:y.jsxs("div",{className:"text-lg font-bold text-peach-600 dark:text-peach-400",children:[R.toLocaleString()," $"]})}),y.jsx(jt,{size:"sm",variant:"secondary",onClick:()=>K(z.id),disabled:ae===0,children:" Vendre"})]}),c===z.id&&y.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:y.jsxs("div",{className:"flex items-end gap-2",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Quantit"}),y.jsx("input",{type:"number",min:"1",max:ae,value:m,onChange:k=>{const N=k.target.value;g(N);const L=parseInt(N)||0;L>0&&x(String(C*L))},className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Prix total rcolt"}),y.jsx("input",{type:"number",min:"0",value:p,onChange:k=>x(k.target.value),className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),y.jsx(jt,{size:"sm",variant:"secondary",onClick:()=>h(null),children:""}),y.jsx(jt,{size:"sm",onClick:()=>Z(z.id,z.label),children:" Vendre"})]})})]})},z.id)})})]})},f3=()=>{const{user:r}=Aa(),[e,n]=j.useState([]),[s,o]=j.useState({});j.useEffect(()=>r?d0(r.uid,n):void 0,[r]);const c=p=>e.find(x=>x.crateId===p),h=async p=>{if(!r)return;const x=s[p],b=parseInt(x);!b||b<=0||(await ML(r.uid,p,b),o({...s,[p]:""}))},m=async(p,x)=>{r&&await OL(r.uid,p,x)},g=(p,x)=>{p.key==="Enter"&&h(x)};return y.jsxs("div",{className:"space-y-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Prix moyens"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:_d.map(p=>{const x=c(p.id),b=x?ef(x.values):0,A=x?Math.min(...x.values):0,M=x?Math.max(...x.values):0,G=x?.values.length||0;return y.jsx(it,{children:y.jsxs(st,{className:"p-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-2xl",children:p.icon}),y.jsx("h3",{className:"font-semibold text-dark-800 dark:text-dark-100",children:p.label})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-xl font-bold text-peach-600 dark:text-peach-400",children:b>0?`${b.toLocaleString()} $`:""}),y.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[G," prix"]})]})]}),G>0&&y.jsxs("div",{className:"flex gap-4 text-xs mb-3 py-2 px-3 bg-butter-50 dark:bg-dark-700 rounded",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-dark-500 dark:text-dark-500",children:"Min:"}),y.jsxs("span",{className:"ml-1 font-semibold text-sage-600 dark:text-sage-400",children:[A.toLocaleString()," $"]})]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-dark-500 dark:text-dark-500",children:"Max:"}),y.jsxs("span",{className:"ml-1 font-semibold text-lavender-600 dark:text-lavender-400",children:[M.toLocaleString()," $"]})]})]}),y.jsxs("div",{className:"flex gap-2 mb-3",children:[y.jsx("input",{type:"number",placeholder:"Nouveau prix",value:s[p.id]||"",onChange:$=>o({...s,[p.id]:$.target.value}),onKeyPress:$=>g($,p.id),className:"flex-1 px-3 py-1.5 text-sm rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"}),y.jsx("button",{onClick:()=>h(p.id),className:"px-4 py-1.5 text-sm font-semibold rounded-soft bg-linear-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark text-white transition-all shadow-sm hover:shadow-soft",children:"+"})]}),x&&x.values.length>0&&y.jsxs("div",{className:"space-y-1",children:[x.values.slice(0,3).map(($,K)=>y.jsxs("div",{className:"flex items-center justify-between py-1 px-2 text-sm   rounded border border-peach/20 bg-peach/20 dark:border-dark-600",children:[y.jsxs("span",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[$.toLocaleString()," $"]}),y.jsx("button",{onClick:()=>m(p.id,K),className:"text-xs px-2 py-0.5 rounded 0 text-dark  dark:hover:bg-red-900/50 transition-colors",children:""})]},K)),x.values.length>3&&y.jsxs("div",{className:"text-xs text-center text-dark-500 dark:text-dark-500 py-1",children:["+",x.values.length-3," autre(s)"]})]})]})},p.id)})})]})},Tb=({label:r,children:e,className:n="",...s})=>y.jsxs("div",{className:"w-full",children:[r&&y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:r}),y.jsx("select",{className:`w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all ${n}`,...s,children:e})]}),bb=j.forwardRef(({label:r,error:e,className:n="",...s},o)=>y.jsxs("div",{className:"w-full",children:[r&&y.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-200 mb-1",children:r}),y.jsx("input",{ref:o,className:`w-full px-4 py-2 rounded-input border ${e?"border-peach-dark focus:ring-peach-dark":"border-border focus:ring-peach/30"} bg-card text-text focus:outline-none focus:ring-2 focus:border-peach shadow-sm transition-all ${n}`,...s}),e&&y.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:e})]}));bb.displayName="Input";const m3=()=>{const[r,e]=j.useState([]),[n,s]=j.useState(null),[o,c]=j.useState("1");j.useEffect(()=>{h()},[]);const h=async()=>{const A=await Jd();e(A),A.length>0&&s(A[0])},m=A=>{const M=r.find(G=>G.id===A);s(M||null)},g=parseInt(o)||1,p=n?HL(n,g):0,x=qL(g),b=n?FL(n,g):0;return y.jsxs("div",{className:"space-y-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Calculateur"}),y.jsx(it,{children:y.jsx(st,{className:"p-4",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[y.jsx(Tb,{label:"Transformation",value:n?.id||"",onChange:A=>m(A.target.value),children:r.length===0?y.jsx("option",{children:"Chargement..."}):r.map(A=>y.jsxs("option",{value:A.id,children:[A.name," (",A.durationHours,"h)"]},A.id))}),y.jsx(bb,{label:"Nombre",type:"number",min:"1",value:o,onChange:A=>c(A.target.value)})]})})}),n&&y.jsx(it,{children:y.jsxs(st,{className:"p-4",children:[y.jsx("h2",{className:"font-semibold text-dark-800 dark:text-dark-100 mb-3",children:n.name}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[y.jsxs("div",{className:"p-2 bg-butter-50 dark:bg-dark-700 rounded",children:[y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Matriau"}),y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.input.quantity," ",n.input.materialName]})]}),y.jsxs("div",{className:"p-2 bg-lavender-50 dark:bg-dark-700 rounded",children:[y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Outil"}),y.jsx("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:n.tool.name})]}),y.jsxs("div",{className:"p-2 bg-sage-50 dark:bg-dark-700 rounded",children:[y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Dure"}),y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.durationHours,"h",y.jsx("span",{className:"text-xs text-dark-400 dark:text-dark-600",children:" (-1h si )"})]})]}),y.jsxs("div",{className:"p-2 bg-sky-50 dark:bg-dark-700 rounded",children:[y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Caisse"}),y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.crate.quantityPerCrate," /caisse"]})]})]})]})}),y.jsx(it,{children:y.jsxs(st,{className:"p-4",children:[y.jsxs("h2",{className:"font-semibold text-dark-800 dark:text-dark-100 mb-3",children:["Pour ",g," transformation",g>1?"s":""]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[y.jsxs("div",{className:"p-3 bg-gradient-to-br from-peach-50 to-butter-50 dark:from-peach-900/20 dark:to-butter-900/20 rounded-cozy",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Matriaux ncessaires"}),y.jsx("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:p}),y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:n?.input.materialName})]}),y.jsxs("div",{className:"p-3 bg-gradient-to-br from-lavender-50 to-sage-50 dark:from-lavender-900/20 dark:to-sage-900/20 rounded-cozy",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Outils requis"}),y.jsx("div",{className:"text-2xl font-bold text-lavender-600 dark:text-lavender-400",children:x}),y.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:n?.tool.name})]}),n&&n.tool.price>0&&y.jsxs("div",{className:"p-3 bg-gradient-to-br from-sky-50 to-lavender-50 dark:from-sky-900/20 dark:to-lavender-900/20 rounded-cozy",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Cot total"}),y.jsxs("div",{className:"text-2xl font-bold text-sky-600 dark:text-sky-400",children:[b.toLocaleString()," $"]}),y.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[n.tool.price.toLocaleString()," $  ",x]})]})]})]})})]})},p3=({isOpen:r,onClose:e,title:n,children:s,actions:o})=>r?y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-dark-900/50 backdrop-blur-sm",onClick:e,children:y.jsxs("div",{className:"bg-card rounded-soft-lg shadow-soft-lg border border-border max-w-md w-full overflow-hidden",onClick:c=>c.stopPropagation(),children:[y.jsxs("div",{className:"px-6 py-4 border-b border-border flex items-center justify-between",children:[y.jsx("h2",{className:"text-lg font-semibold text-text",children:n}),y.jsx("button",{onClick:e,className:"w-8 h-8 rounded-soft flex items-center justify-center hover:bg-surface transition-colors text-text-muted hover:text-text",children:""})]}),y.jsx("div",{className:"px-6 py-4 text-text-secondary",children:s}),o&&y.jsx("div",{className:"px-6 py-4 border-t border-border flex items-center justify-end gap-2",children:o})]})}):null,g3=()=>{const{user:r}=Aa(),[e,n]=j.useState([]),[s,o]=j.useState([]),[c,h]=j.useState(null),[m,g]=j.useState(!1),[p,x]=j.useState(""),[b,A]=j.useState("1"),[M,G]=j.useState(""),[$,K]=j.useState(""),[Z,Y]=j.useState(!1),[oe,z]=j.useState(null),[,le]=j.useState(Date.now());j.useEffect(()=>{ae()},[]),j.useEffect(()=>r?sb(r.uid,o):void 0,[r]),j.useEffect(()=>{const F=setInterval(()=>{le(Date.now())},1e3);return()=>clearInterval(F)},[]);const ae=async()=>{const[F,fe]=await Promise.all([Jd(),jL()]);n(F),h(fe),F.length>0&&x(F[0].id)},C=async()=>{if(!r||!p)return;const F=e.find(Ie=>Ie.id===p);if(!F)return;let fe;M&&$?fe=new Date(`${M}T${$}`):M&&(fe=new Date(M)),await VL(r.uid,p,parseInt(b)||1,F.durationHours,fe),A("1"),G(""),K(""),g(!1)},R=async F=>{!r||!F||await UL(r.uid,F,c?.rules.timeReductionHours)},k=async F=>{!r||!F.id||(await PL(r.uid,F.id,"DONE"),await zL(r.uid,F.transformationId,F.startedAt,F.endsAt,F.reducedByAction))},N=async F=>{r&&await VE(r.uid,F)},L=F=>{z(F),Y(!0)},P=async()=>{!r||!oe||(await VE(r.uid,oe),Y(!1),z(null))},I=F=>e.find(fe=>fe.id===F.transformationId),Xe=s.filter(F=>F.status==="RUNNING"&&!vd(F.endsAt.toDate())),ft=s.filter(F=>F.status!=="DONE"&&vd(F.endsAt.toDate())),J=s.filter(F=>F.status==="DONE");return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Transformations"}),y.jsx(jt,{onClick:()=>g(!m),size:"sm",children:m?"":"+ Nouveau"})]}),m&&y.jsx(it,{children:y.jsxs(st,{className:"p-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[y.jsx(Tb,{label:"Type",value:p,onChange:F=>x(F.target.value),children:e.map(F=>y.jsxs("option",{value:F.id,children:[F.name," (",F.durationHours,"h)"]},F.id))}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Productions places"}),y.jsx("input",{type:"number",min:"1",value:b,onChange:F=>A(F.target.value),className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:" Date de dbut (optionnel)"}),y.jsx("input",{type:"date",value:M,onChange:F=>G(F.target.value),className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-lavender/30 focus:border-lavender transition-all hover:border-lavender/50",style:{colorScheme:"light dark"}})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:" Heure de dbut (optionnel)"}),y.jsx("input",{type:"time",value:$,onChange:F=>K(F.target.value),className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-lavender/30 focus:border-lavender transition-all hover:border-lavender/50",style:{colorScheme:"light dark"}})]})]}),M&&y.jsxs("div",{className:"mb-3 p-2 bg-lavender-light rounded-soft text-xs text-text-muted",children:[" Si vide, dmarre maintenant. Sinon, dmarre le ",M," ",$&&` ${$}`]}),y.jsx(jt,{onClick:C,className:"w-full",children:" Dmarrer"})]})}),ft.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsxs("h2",{className:"text-lg font-semibold text-sage-600 dark:text-sage-400",children:[" Prtes (",ft.length,")"]}),ft.map(F=>{const fe=I(F);return y.jsx(it,{className:"border-2 border-sage-400 dark:border-sage-600",children:y.jsx(st,{className:"p-3",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[fe?.name,F.reducedByAction&&y.jsx("span",{className:"ml-2 text-xs",children:""})]}),y.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400",children:[F.inputQuantityUsed," production",F.inputQuantityUsed>1?"s":""]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(jt,{size:"sm",variant:"secondary",onClick:()=>k(F),children:"Rcolter"}),y.jsx(jt,{size:"sm",variant:"danger",onClick:()=>F.id&&N(F.id),children:""})]})]})})},F.id)})]}),Xe.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsxs("h2",{className:"text-lg font-semibold text-lavender-600 dark:text-lavender-400",children:["En cours (",Xe.length,")"]}),Xe.map(F=>{const fe=I(F),Ie=ob(F.endsAt.toDate()),Be=F.durationHours*60*60*1e3,V=Math.max(0,Math.min(100,(Be-Ie)/Be*100));return y.jsx(it,{children:y.jsxs(st,{className:"p-3",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[fe?.name,F.reducedByAction&&y.jsx("span",{className:"ml-2 text-xs",children:""})]}),y.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400",children:[F.inputQuantityUsed," production",F.inputQuantityUsed>1?"s":"","  Fin prvue: ",F.endsAt.toDate().toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm font-semibold text-lavender-600 dark:text-lavender-400",children:lb(Ie)}),y.jsx(jt,{variant:"secondary",size:"sm",onClick:()=>F.id&&R(F.id),disabled:F.reducedByAction,title:F.reducedByAction?"Dj arros":"Arroser (-1h)",children:""}),y.jsx(jt,{variant:"danger",size:"sm",onClick:()=>F.id&&L(F.id),title:"Annuler la production",children:"Annuler"})]})]}),y.jsx("div",{className:"w-full bg-surface rounded-full h-2 overflow-hidden border border-border",children:y.jsx("div",{className:"h-full bg-linear-to-r from-lavender to-peach transition-all duration-1000",style:{width:`${V}%`}})})]})},F.id)})]}),J.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsxs("h2",{className:"text-sm font-semibold text-dark-600 dark:text-dark-400",children:["Rcentes (",J.slice(0,3).length,")"]}),J.slice(0,3).map(F=>{const fe=I(F);return y.jsx(it,{className:"opacity-60",children:y.jsx(st,{className:"p-2",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"text-sm",children:[y.jsx("span",{className:"font-semibold text-dark-800 dark:text-dark-100",children:fe?.name}),y.jsxs("span",{className:"text-xs text-dark-600 dark:text-dark-400 ml-2",children:[" ",F.inputQuantityUsed," production",F.inputQuantityUsed>1?"s":""]})]}),y.jsx(jt,{variant:"danger",size:"sm",onClick:()=>F.id&&N(F.id),className:"text-xs",children:""})]})})},F.id)})]}),s.length===0&&y.jsx(it,{children:y.jsxs(st,{className:"p-8 text-center",children:[y.jsx("div",{className:"text-4xl mb-3",children:""}),y.jsx("p",{className:"text-dark-600 dark:text-dark-400 mb-3",children:"Aucune transformation en cours"}),y.jsx(jt,{onClick:()=>g(!0),size:"sm",children:"Dmarrer une transformation"})]})}),y.jsx(p3,{isOpen:Z,onClose:()=>Y(!1),title:"Annuler la production",actions:y.jsxs(y.Fragment,{children:[y.jsx(jt,{variant:"secondary",onClick:()=>Y(!1),children:"Non, garder"}),y.jsx(jt,{variant:"danger",onClick:P,children:"Oui, annuler"})]}),children:y.jsx("p",{className:"text-text-secondary",children:"tes-vous sr de vouloir annuler cette production ? Cette action est irrversible."})})]})},y3=()=>{const{user:r}=Aa(),[e,n]=j.useState([]),[s,o]=j.useState([]);j.useEffect(()=>{c()},[]),j.useEffect(()=>r?ab(r.uid,n):void 0,[r]);const c=async()=>{const x=await Jd();o(x)},h=x=>s.find(b=>b.id===x),m=e.reduce((x,b)=>{const A=b.createdAt.toDate().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return x[A]||(x[A]=[]),x[A].push(b),x},{}),g=x=>x.toDate().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),p=x=>{const b=x.startedAt.toDate(),M=x.endsAt.toDate().getTime()-b.getTime();return Math.floor(M/(1e3*60*60))};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Historique"}),y.jsxs("div",{className:"text-sm text-dark-600 dark:text-dark-400",children:[e.length," entre",e.length>1?"s":""]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[y.jsx(it,{children:y.jsx(st,{className:"p-3",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Total"}),y.jsx("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:e.length})]})})}),y.jsx(it,{children:y.jsx(st,{className:"p-3",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Transformations"}),y.jsx("div",{className:"text-2xl font-bold text-lavender-600 dark:text-lavender-400",children:e.filter(x=>x.type==="TRANSFORMATION").length})]})})}),y.jsx(it,{children:y.jsx(st,{className:"p-3",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Ventes"}),y.jsx("div",{className:"text-2xl font-bold text-sage-600 dark:text-sage-400",children:e.filter(x=>x.type==="SALE").length})]})})}),y.jsx(it,{children:y.jsx(st,{className:"p-3",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Cette semaine"}),y.jsx("div",{className:"text-2xl font-bold text-sky-600 dark:text-sky-400",children:e.filter(x=>{const b=new Date;return b.setDate(b.getDate()-7),x.createdAt.toDate()>b}).length})]})})})]}),y.jsx("div",{className:"space-y-6",children:Object.keys(m).length===0?y.jsx(it,{children:y.jsx(st,{children:y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsx("p",{className:"text-dark-600 dark:text-dark-400 mb-2",children:"Aucun historique pour le moment"}),y.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-500",children:"Les transformations et ventes apparatront ici"})]})})}):Object.entries(m).map(([x,b])=>y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold text-dark-700 dark:text-dark-300 mb-3 capitalize",children:x}),y.jsx("div",{className:"space-y-3",children:b.map(A=>{if(A.type==="TRANSFORMATION"){const M=A,G=h(M.transformationId),$=p(M);return y.jsx(it,{children:y.jsx(st,{className:"p-3",children:y.jsx("div",{className:"flex items-start justify-between",children:y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-lavender-400 to-peach-400 flex items-center justify-center text-white text-sm",children:""}),y.jsx("h3",{className:"text-base font-semibold text-dark-800 dark:text-dark-100",children:G?.name||"Transformation inconnue"}),M.reducedByAction&&y.jsx("span",{className:"px-2 py-0.5 bg-sage-100 dark:bg-sage-900/30 text-sage-700 dark:text-sage-300 text-xs rounded-cozy font-semibold",children:""})]}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Dbut"}),y.jsx("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:g(M.startedAt)})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Fin"}),y.jsx("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:g(M.endsAt)})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Dure"}),y.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[$,"h"]})]})]})]})})})},A.id)}else{const M=A,G=M.actualValue-M.estimatedValue,$=Math.abs(G)>0;return y.jsx(it,{className:$?"border-l-4 border-l-peach-400":"",children:y.jsx(st,{className:"p-3",children:y.jsx("div",{className:"flex items-start justify-between",children:y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-sage-400 to-peach-400 flex items-center justify-center text-white text-sm",children:""}),y.jsxs("h3",{className:"text-base font-semibold text-dark-800 dark:text-dark-100",children:["Vente de ",M.crateLabel]})]}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm mb-2",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Quantit"}),y.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[M.quantitySold," caisse",M.quantitySold>1?"s":""]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Valeur estime"}),y.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[M.estimatedValue.toLocaleString()," $"]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Valeur rcolte"}),y.jsxs("div",{className:`font-semibold ${G>0?"text-sage-600 dark:text-sage-400":G<0?"text-peach-600 dark:text-peach-400":"text-dark-700 dark:text-dark-300"}`,children:[M.actualValue.toLocaleString()," $"]})]}),$&&y.jsxs("div",{children:[y.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Diffrence"}),y.jsxs("div",{className:`font-semibold ${G>0?"text-sage-600 dark:text-sage-400":"text-peach-600 dark:text-peach-400"}`,children:[G>0?"+":"",G.toLocaleString()," $"]})]})]}),M.notes&&y.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400 italic bg-dark-50 dark:bg-dark-800 rounded p-2",children:[" ",M.notes]})]})})})},A.id)}})})]},x))})]})},v3=async()=>{try{console.log(" Dbut de l'initialisation Firestore...");const r=Gt(Ye,"configs","default");await pr(r,{name:"default",rules:{timeReductionHours:1},updatedAt:en()}),console.log(" Config cre");const e=[{id:"zeed",name:"Zeed",input:{materialName:"Feuille",quantity:60},tool:{name:"Pot de terre",price:0},durationHours:48,crate:{name:"Caisse de Zeed",quantityPerCrate:20}},{id:"pandoxine",name:"Pandoxine",input:{materialName:"Viande",quantity:18},tool:{name:"Marmite",price:0},durationHours:96,crate:{name:"Caisse de Pandoxine",quantityPerCrate:12}},{id:"krakenine",name:"Krakenine",input:{materialName:"Huile",quantity:10},tool:{name:"Bidon de chauffe",price:0},durationHours:24,crate:{name:"Caisse de Krakenine",quantityPerCrate:12}},{id:"psylocybine",name:"Psylocybine",input:{materialName:"Champignon",quantity:60},tool:{name:"Sachet de fermentation",price:0},durationHours:72,crate:{name:"Caisse de Psylocybine",quantityPerCrate:20}}];for(const n of e){const s=Gt(Ye,"configs","default","transformations",n.id);await pr(s,n),console.log(` Transformation ${n.name} cre`)}return console.log(" Initialisation termine avec succs!"),{success:!0,message:"Toutes les donnes ont t cres avec succs!"}}catch(r){return console.error(" Erreur lors de l'initialisation:",r),{success:!1,message:`Erreur: ${r.message}`}}},_3="Donnes d'initialisation pour l'espace Malandrinerie dans Firestore",E3={malandrinerie:{materials:[{id:"plastiques",name:"Plastiques",unit:"unit"},{id:"rubans",name:"Rubans",unit:"unit"},{id:"dentiers",name:"Dentiers",unit:"unit"},{id:"pantheres",name:"Panthres",unit:"unit"},{id:"tubes",name:"Tubes",unit:"unit"},{id:"sacs",name:"Sacs",unit:"unit"},{id:"bracelets",name:"Bracelets",unit:"unit"},{id:"consoles",name:"Consoles",unit:"unit"},{id:"smartphones",name:"Smartphones",unit:"unit"},{id:"bons",name:"Bons d'achats",unit:"unit"},{id:"dentifrices",name:"Dentifrices",unit:"unit"},{id:"cigarettes",name:"Cigarettes",unit:"unit"},{id:"plexiglas",name:"Plexiglas",unit:"unit"},{id:"lentilles",name:"Lentilles",unit:"unit"},{id:"batteries",name:"Batteries",unit:"unit"},{id:"flashs",name:"Flashs",unit:"unit"},{id:"circuits",name:"Circuits",unit:"unit"},{id:"ecrous",name:"crous",unit:"unit"},{id:"vis",name:"Vis",unit:"unit"},{id:"fils",name:"Fils",unit:"unit"},{id:"aluminium",name:"Aluminium",unit:"unit"},{id:"viandes",name:"Viandes",unit:"unit"},{id:"abats",name:"Abats",unit:"unit"},{id:"langues",name:"Langues",unit:"unit"},{id:"rognons",name:"Rognons",unit:"unit"},{id:"jerricans",name:"Jerricans",unit:"unit"},{id:"briquets",name:"Briquets",unit:"unit"},{id:"bonbonnes",name:"Bonbonnes",unit:"unit"},{id:"additifs",name:"Additifs",unit:"unit"},{id:"gels",name:"Gels",unit:"unit"},{id:"accelerometres",name:"Acclromtres",unit:"unit"}],recipes:[{id:"couteau",name:"Couteau",emoji:"",category:"T1",batchSize:1,unitPrice:1e3,materials:{plastiques:6,rubans:6,dentiers:6,pantheres:2}},{id:"zips",name:"Zips",emoji:"",category:"T1",batchSize:12,unitPrice:250,materials:{tubes:2,plastiques:6,sacs:4,bracelets:4}},{id:"kits_crochetage_miteux",name:"Kits de crochetage miteux",emoji:"",category:"T1",batchSize:16,unitPrice:250,materials:{consoles:2,tubes:4,plastiques:4,rubans:6}},{id:"faux_tickets_parking",name:"Faux tickets de parking",emoji:"",category:"T1",batchSize:4,unitPrice:0,materials:{smartphones:3,bons:10,rubans:2,consoles:5}},{id:"paquet_cigarette_era",name:"Paquet de cigarette Era",emoji:"",category:"T1",batchSize:5,unitPrice:0,materials:{dentifrices:2,cigarettes:10,bons:2,consoles:2}},{id:"tenue_stagiaire_pole_emploi",name:"Tenue de stagiaire Ple Emploi",emoji:"",category:"T1",batchSize:4,unitPrice:1e3,materials:{bons:6,consoles:4,cigarettes:2,rubans:2,bracelets:3,smartphones:3}},{id:"antistress_artisanal",name:"Antistress artisanal",emoji:"",category:"T1",batchSize:6,unitPrice:400,materials:{dentiers:2,sacs:2,cigarettes:6,dentifrices:6}},{id:"9x19_ap",name:"9x19 AP",emoji:"",category:"T1",batchSize:6,unitPrice:450,materials:{pantheres:4,bracelets:4,sacs:2,dentiers:6}},{id:"pistolet",name:"Pistolet",emoji:"",category:"T1",batchSize:1,unitPrice:3500,materials:{pantheres:6,dentifrices:6,tubes:10,plastiques:8,sacs:10}},{id:"gilet_pare_balles_miteux",name:"Gilet pare-balles miteux",emoji:"",category:"T2",batchSize:1,unitPrice:0,materials:{plexiglas:11,rubans:6,bracelets:6,sacs:3}},{id:"tenue_stagiaire_entreprise",name:"Tenue de stagiaire d'entreprise",emoji:"",category:"T2",batchSize:4,unitPrice:2e3,materials:{lentilles:5,batteries:5,flashs:6,circuits:3,bons:8,cigarettes:5}},{id:"kits_crochetage_avance",name:"Kits de crochetage avanc",emoji:"",category:"T2",batchSize:16,unitPrice:700,materials:{ecrous:5,vis:5,fils:4,circuits:4,dentiers:4}},{id:"mre_peach",name:"MRE Peach / Z ERA",emoji:"",category:"T2",batchSize:6,unitPrice:750,materials:{aluminium:6,viandes:6,abats:5,langues:3,rognons:3}},{id:"bidons_artisanaux",name:"Bidons artisanaux",emoji:"",category:"T2",batchSize:1,unitPrice:10,materials:{plexiglas:3,vis:3,jerricans:6,briquets:6,bonbonnes:4}},{id:"baume_anti_stress",name:"Baume anti-stress",emoji:"",category:"T2",batchSize:4,unitPrice:1e3,materials:{plexiglas:4,additifs:6,cigarettes:4,dentifrices:8}},{id:"pistolet_combat",name:"Pistolet de combat",emoji:"",category:"T2",batchSize:1,unitPrice:6e3,materials:{pistolet:1,vis:3,lentilles:8,flashs:11,pantheres:3},requiresCraft:["pistolet"]},{id:"pistolet_lance",name:"Pistolet lance-...",emoji:"",category:"T2",batchSize:1,unitPrice:5e3,materials:{gels:3,accelerometres:6}},{id:"fusees_eclairantes",name:"Fuses clairantes",emoji:"",category:"T2",batchSize:20,unitPrice:750,materials:{additifs:5,bonbonnes:6,briquets:6,plexiglas:3,flashs:3}},{id:"cocktail_molotov",name:"Cocktail Molotov",emoji:"",category:"T2",batchSize:2,unitPrice:5e3,materials:{jerricans:9,additifs:11,briquets:8,gels:6,fils:5,batteries:8}},{id:"tec9",name:"Tec-9",emoji:"",category:"T2",batchSize:1,unitPrice:1e4,materials:{gels:13,ecrous:8,vis:3,lentilles:9,accelerometres:12}}],groups:[{id:"glory",name:"Glory"},{id:"b2mc",name:"B2MC"},{id:"ob",name:"OB"},{id:"g7",name:"G7"},{id:"mrg",name:"MRG"},{id:"88",name:"88"},{id:"individual",name:"Individuel"}]}},Ap={description:_3,spaces:E3},x3=async()=>{try{const r=ks.currentUser;if(!r)return{success:!1,message:"Vous devez tre connect pour initialiser les donnes"};console.log(" Dbut de l'initialisation Malandrinerie...");const e=Ap.spaces.malandrinerie.materials,n=Ap.spaces.malandrinerie.recipes,s=Ap.spaces.malandrinerie.groups;console.log(" Cration des matires premires...");for(const o of e){const c=Gt(Ye,"configs","default","spaces","malandrinerie","materials",o.id);await pr(c,{...o,createdAt:en(),updatedAt:en()})}console.log(` ${e.length} matires premires cres`),console.log(" Cration des recettes...");for(const o of n){const c=Gt(Ye,"configs","default","spaces","malandrinerie","recipes",o.id);await pr(c,{...o,createdAt:en(),updatedAt:en()})}console.log(` ${n.length} recettes cres`),console.log(" Cration des groupes...");for(const o of s){const c=Gt(Ye,"configs","default","spaces","malandrinerie","groups",o.id);await pr(c,{...o,createdAt:en(),updatedAt:en()})}console.log(` ${s.length} groupes crs`),console.log(" Initialisation des stocks utilisateur...");for(const o of e){const c=Gt(Ye,"users",r.uid,"materialStocks",o.id);await pr(c,{materialId:o.id,materialName:o.name,space:"malandrinerie",quantity:0,unit:o.unit,createdAt:en(),updatedAt:en()})}return console.log(` ${e.length} stocks initialiss`),console.log(" Initialisation Malandrinerie termine avec succs!"),{success:!0,message:` ${e.length} matires, ${n.length} recettes, ${s.length} groupes et ${e.length} stocks crs!`}}catch(r){return console.error(" Erreur lors de l'initialisation Malandrinerie:",r),{success:!1,message:`Erreur: ${r.message}`}}},T3=()=>{const[r,e]=j.useState(!1),[n,s]=j.useState(null),[o,c]=j.useState(!1),[h,m]=j.useState(null),g=async()=>{e(!0),s(null);const b=await v3();s(b),e(!1)},p=async()=>{c(!0),m(null);const b=await x3();m(b),c(!1)},x=({result:b})=>b?y.jsxs("div",{className:`p-4 rounded-soft mt-4 ${b.success?"bg-sage-light border border-sage":"bg-peach-light border border-peach"}`,children:[y.jsx("p",{className:`font-semibold mb-2 ${b.success?"text-sage-dark":"text-peach-dark"}`,children:b.success?" Succs!":" Erreur"}),y.jsx("p",{className:"text-sm text-text-secondary",children:b.message})]}):null;return y.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:y.jsxs("div",{className:"max-w-6xl w-full space-y-6",children:[y.jsx("h1",{className:"text-4xl font-bold text-text text-center mb-8",children:" Initialisation Firestore"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsx(it,{children:y.jsxs(st,{className:"p-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-mint-dark mb-4 flex items-center gap-2",children:" Espace Drogue"}),y.jsxs("div",{className:"space-y-3 mb-6",children:[y.jsx("p",{className:"text-sm text-text-secondary",children:"Initialise les donnes pour l'espace Drogue/Naturopathie :"}),y.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary ml-4",children:[y.jsx("li",{children:"Configuration globale"}),y.jsx("li",{children:"4 transformations (Zeed, Pandoxine, Krakenine, Psylocybine)"}),y.jsx("li",{children:"Rgle de rduction de temps (1h)"})]}),y.jsx("div",{className:"bg-butter-light border border-butter rounded-soft p-3",children:y.jsx("p",{className:"text-xs text-text-muted",children:" N'excuter qu'une seule fois!"})})]}),y.jsx(jt,{onClick:g,disabled:r,className:"w-full",children:r?"Initialisation...":" Initialiser Drogue"}),y.jsx(x,{result:n})]})}),y.jsx(it,{children:y.jsxs(st,{className:"p-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-peach-dark mb-4 flex items-center gap-2",children:" Espace Malandrinerie"}),y.jsxs("div",{className:"space-y-3 mb-6",children:[y.jsx("p",{className:"text-sm text-text-secondary",children:"Initialise les donnes pour l'espace Malandrinerie :"}),y.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary ml-4",children:[y.jsx("li",{children:"31 matires premires"}),y.jsx("li",{children:"20 recettes/crafts (10 T1 + 10 T2)"}),y.jsx("li",{children:"7 groupes de commandes"}),y.jsx("li",{children:"Stocks utilisateur  0"})]}),y.jsx("div",{className:"bg-butter-light border border-butter rounded-soft p-3",children:y.jsx("p",{className:"text-xs text-text-muted",children:" Ncessite d'tre connect!"})})]}),y.jsx(jt,{onClick:p,disabled:o,className:"w-full",children:o?"Initialisation...":" Initialiser Malandrinerie"}),y.jsx(x,{result:h})]})})]}),y.jsx("div",{className:"mt-8 text-center",children:y.jsx("p",{className:"text-xs text-text-muted",children:" Cette page peut tre supprime aprs l'initialisation"})})]})})},b3=()=>{const[r,e]=j.useState([]),[n,s]=j.useState(!0),[o,c]=j.useState(null),[h,m]=j.useState(0);j.useEffect(()=>{g()},[]);const g=async()=>{try{const A=ks.currentUser;if(!A)return;const M=fn(Ye,"users",A.uid,"materialStocks"),G=_s(M),$=await ma(G),K=[];$.forEach(Z=>{const Y=Z.data();Y.space==="malandrinerie"&&K.push({id:Z.id,materialId:Y.materialId,materialName:Y.materialName,quantity:Y.quantity||0,unit:Y.unit||"unit"})}),K.sort((Z,Y)=>Z.materialName.localeCompare(Y.materialName)),e(K)}catch(A){console.error("Error loading stocks:",A)}finally{s(!1)}},p=A=>{c(A.id),m(A.quantity)},x=async A=>{try{const M=ks.currentUser;if(!M)return;const G=Gt(Ye,"users",M.uid,"materialStocks",A);await Kd(G,{quantity:h,updatedAt:en()}),e(r.map($=>$.id===A?{...$,quantity:h}:$)),c(null)}catch(M){console.error("Error updating stock:",M)}},b=()=>{c(null),m(0)};return n?y.jsx("div",{className:"flex items-center justify-center h-64",children:y.jsx("p",{className:"text-text-muted",children:"Chargement des stocks..."})}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Ed,{size:32,weight:"duotone",className:"text-peach"}),y.jsx("h1",{className:"text-3xl font-bold text-text",children:"Stocks - Malandrinerie"})]}),y.jsx(it,{children:y.jsxs(st,{className:"p-6",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-12 gap-4 pb-3 border-b border-divider font-semibold text-sm text-text-muted",children:[y.jsx("div",{className:"col-span-5",children:"Matire premire"}),y.jsx("div",{className:"col-span-3 text-center",children:"Quantit"}),y.jsx("div",{className:"col-span-2 text-center",children:"Unit"}),y.jsx("div",{className:"col-span-2 text-right",children:"Actions"})]}),r.map(A=>y.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center py-2 hover:bg-card-hover rounded-soft transition-colors",children:[y.jsx("div",{className:"col-span-5 font-medium text-text",children:A.materialName}),y.jsx("div",{className:"col-span-3 text-center",children:o===A.id?y.jsx("input",{type:"number",min:"0",value:h,onChange:M=>m(parseInt(M.target.value)||0),className:"w-full px-3 py-2 border border-divider rounded-soft text-center",autoFocus:!0}):y.jsx("span",{className:`font-semibold ${A.quantity===0?"text-text-muted":"text-text"}`,children:A.quantity})}),y.jsx("div",{className:"col-span-2 text-center text-sm text-text-secondary",children:A.unit}),y.jsx("div",{className:"col-span-2 text-right",children:o===A.id?y.jsxs("div",{className:"flex gap-2 justify-end",children:[y.jsx(jt,{onClick:()=>x(A.id),className:"px-3 py-1 text-sm",children:""}),y.jsx(jt,{onClick:b,variant:"secondary",className:"px-3 py-1 text-sm",children:""})]}):y.jsx(jt,{onClick:()=>p(A),variant:"secondary",className:"px-3 py-1 text-sm",children:"Modifier"})})]},A.id))]}),r.length===0&&y.jsxs("div",{className:"text-center py-12 text-text-muted",children:[y.jsx("p",{className:"mb-2",children:"Aucun stock trouv"}),y.jsx("p",{className:"text-sm",children:"Initialisez les donnes depuis la page /setup"})]})]})})]})},S3=()=>{const[r,e]=j.useState([]),[n,s]=j.useState(new Map),[o,c]=j.useState(new Map),[h,m]=j.useState(!0),[g,p]=j.useState(new Map),[x,b]=j.useState("");j.useEffect(()=>{A()},[]);const A=async()=>{try{const Z=ks.currentUser;if(!Z)return;const Y=fn(Ye,"configs","default","spaces","malandrinerie","recipes"),oe=await ma(_s(Y)),z=[];oe.forEach(L=>{z.push({id:L.id,...L.data()})}),z.sort((L,P)=>L.category!==P.category?L.category.localeCompare(P.category):L.name.localeCompare(P.name)),e(z);const le=fn(Ye,"configs","default","spaces","malandrinerie","materials"),ae=await ma(_s(le)),C=new Map;ae.forEach(L=>{C.set(L.id,L.data().name)}),c(C);const R=fn(Ye,"users",Z.uid,"materialStocks"),k=await ma(_s(R)),N=new Map;k.forEach(L=>{const P=L.data();P.space==="malandrinerie"&&N.set(P.materialId,P.quantity||0)}),s(N)}catch(Z){console.error("Error loading data:",Z)}finally{m(!1)}},M=(Z,Y)=>{const oe=parseInt(Y)||0,z=r.find(R=>R.id===Z);if(!z)return;const le=Math.ceil(oe/z.batchSize),ae=le*z.batchSize,C=ae-oe;p(new Map(g.set(Z,{recipeId:Z,desiredQty:oe,craftsNeeded:le,actualProduction:ae,surplus:C})))},G=(Z,Y,oe)=>{const z=g.get(Z);if(!z||z.craftsNeeded===0)return{sufficient:!0,missing:0};const le=oe*z.craftsNeeded,ae=n.get(Y)||0,C=ae>=le,R=C?0:le-ae;return{sufficient:C,missing:R,totalNeeded:le,available:ae}},$=Z=>{const Y=r.find(z=>z.id===Z),oe=g.get(Z);return!Y||!oe||oe.craftsNeeded===0?!0:Object.entries(Y.materials).every(([z,le])=>G(Z,z,le).sufficient)},K=r.filter(Z=>Z.name.toLowerCase().includes(x.toLowerCase())||Z.emoji.includes(x));return h?y.jsx("div",{className:"flex items-center justify-center h-64",children:y.jsx("p",{className:"text-text-muted",children:"Chargement des recettes..."})}):y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"flex items-center justify-between",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(f0,{size:32,weight:"duotone",className:"text-peach"}),y.jsx("h1",{className:"text-3xl font-bold text-text",children:"Recettes"})]})}),y.jsxs("div",{className:"relative",children:[y.jsx(gb,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-muted"}),y.jsx("input",{type:"text",placeholder:"Rechercher une recette...",value:x,onChange:Z=>b(Z.target.value),className:"w-full pl-10 pr-4 py-2 border border-divider rounded-soft bg-card text-text"})]}),y.jsx(it,{children:y.jsxs(st,{className:"p-0",children:[y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-card-hover border-b border-divider",children:y.jsxs("tr",{className:"text-xs text-text-muted uppercase",children:[y.jsx("th",{className:"text-left p-2 font-semibold",children:"Recette"}),y.jsx("th",{className:"text-center p-2 font-semibold w-24",children:"Qt"}),y.jsx("th",{className:"text-center p-2 font-semibold w-20",children:"Crafts"}),y.jsx("th",{className:"text-center p-2 font-semibold w-24",children:"Prod."}),y.jsx("th",{className:"text-left p-2 font-semibold",children:"Matriaux ncessaires"}),y.jsx("th",{className:"text-center p-2 font-semibold w-20",children:"tat"})]})}),y.jsx("tbody",{className:"divide-y divide-divider",children:K.map(Z=>{const Y=g.get(Z.id),oe=$(Z.id);return y.jsxs("tr",{className:"hover:bg-card-hover transition-colors",children:[y.jsx("td",{className:"p-2",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-xl",children:Z.emoji}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-text text-sm",children:Z.name}),y.jsxs("p",{className:"text-xs text-text-muted",children:[Z.batchSize>1?`x${Z.batchSize}`:"Unit",Z.unitPrice>0&&`  ${Z.unitPrice}`,Z.category&&`  ${Z.category}`]})]})]})}),y.jsx("td",{className:"p-2",children:y.jsx("input",{type:"number",min:"0",placeholder:"0",onChange:z=>M(Z.id,z.target.value),className:"w-full px-2 py-1 text-sm text-center border border-divider rounded bg-card"})}),y.jsx("td",{className:"p-2 text-center",children:Y&&Y.desiredQty>0?y.jsx("span",{className:"text-sm font-semibold text-text",children:Y.craftsNeeded}):y.jsx("span",{className:"text-xs text-text-muted",children:"-"})}),y.jsx("td",{className:"p-2 text-center",children:Y&&Y.desiredQty>0?y.jsxs("div",{className:"text-sm",children:[y.jsx("span",{className:"font-semibold text-text",children:Y.actualProduction}),Y.surplus>0&&y.jsxs("span",{className:"text-xs text-butter-dark ml-1",children:["(+",Y.surplus,")"]})]}):y.jsx("span",{className:"text-xs text-text-muted",children:"-"})}),y.jsx("td",{className:"p-2",children:y.jsx("div",{className:"flex flex-wrap gap-2 text-xs",children:Object.entries(Z.materials).map(([z,le])=>{const ae=G(Z.id,z,le),C=Y&&Y.desiredQty>0;return y.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full ${C&&!ae.sufficient?"bg-peach-light text-peach-dark":"bg-card-hover text-text-secondary"}`,children:[o.get(z)||z,": ",le,C&&` (${ae.totalNeeded})`,C&&!ae.sufficient&&y.jsxs("span",{className:"font-semibold",children:["-",ae.missing]})]},z)})})}),y.jsx("td",{className:"p-2 text-center",children:Y&&Y.desiredQty>0&&(oe?y.jsx(hb,{size:20,weight:"fill",className:"text-sage inline-block"}):y.jsx(xb,{size:20,weight:"fill",className:"text-peach inline-block"}))})]},Z.id)})})]})}),K.length===0&&y.jsxs("div",{className:"p-12 text-center text-text-muted",children:[y.jsx("p",{className:"mb-2",children:x?"Aucune recette ne correspond  votre recherche":"Aucune recette trouve"}),!x&&y.jsx("p",{className:"text-sm",children:"Initialisez les donnes depuis la page /setup"})]})]})})]})},A3=()=>{const[r,e]=j.useState([]),[n,s]=j.useState([]),[o,c]=j.useState(!0),[h,m]=j.useState(""),[g,p]=j.useState([]),[x,b]=j.useState(""),[A,M]=j.useState(0);j.useEffect(()=>{G()},[]);const G=async()=>{try{const z=fn(Ye,"configs","default","spaces","malandrinerie","recipes"),le=await ma(_s(z)),ae=[];le.forEach(N=>{ae.push({id:N.id,...N.data()})}),ae.sort((N,L)=>N.name.localeCompare(L.name)),e(ae);const C=fn(Ye,"configs","default","spaces","malandrinerie","groups"),R=await ma(_s(C)),k=[];R.forEach(N=>{k.push({id:N.id,...N.data()})}),s(k)}catch(z){console.error("Error loading data:",z)}finally{c(!1)}},$=()=>{if(!x||A<=0)return;const z=r.find(N=>N.id===x);if(!z)return;const le=Math.ceil(A/z.batchSize),ae=le*z.batchSize,C=ae-A,R=ae*z.unitPrice,k={recipeId:z.id,recipeName:z.name,emoji:z.emoji,requestedQty:A,batchSize:z.batchSize,craftsNeeded:le,actualProduction:ae,surplus:C,unitPrice:z.unitPrice,totalPrice:R};p([...g,k]),b(""),M(0)},K=z=>{p(g.filter((le,ae)=>ae!==z))},Z=(z,le)=>{const ae=[...g];ae[z].unitPrice=le,ae[z].totalPrice=le*ae[z].actualProduction,p(ae)},Y=()=>g.reduce((z,le)=>z+le.totalPrice,0),oe=async()=>{try{const z=ks.currentUser;if(!z||!h||g.length===0)return;const le=n.find(C=>C.id===h);if(!le)return;const ae={userId:z.uid,space:"malandrinerie",groupId:h,groupName:le.name,items:g,totalAmount:Y(),createdAt:en()};await sN(fn(Ye,"users",z.uid,"orders"),ae),p([]),m(""),alert("Commande enregistre avec succs!")}catch(z){console.error("Error saving order:",z),alert("Erreur lors de l'enregistrement")}};return o?y.jsx("div",{className:"flex items-center justify-center h-64",children:y.jsx("p",{className:"text-text-muted",children:"Chargement..."})}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(m0,{size:32,weight:"duotone",className:"text-peach"}),y.jsx("h1",{className:"text-3xl font-bold text-text",children:"Commandes - Malandrinerie"})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsx("div",{className:"lg:col-span-2 space-y-6",children:y.jsx(it,{children:y.jsxs(st,{className:"p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-text mb-4",children:"Nouvelle commande"}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-semibold text-text mb-2",children:"Groupe ou personne"}),y.jsxs("select",{value:h,onChange:z=>m(z.target.value),className:"w-full px-3 py-2 border border-divider rounded-soft",children:[y.jsx("option",{value:"",children:"-- Slectionner --"}),n.map(z=>y.jsx("option",{value:z.id,children:z.name},z.id))]})]}),y.jsxs("div",{className:"mb-4 p-4 bg-card-hover rounded-soft",children:[y.jsx("p",{className:"text-sm font-semibold text-text mb-3",children:"Ajouter un article"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[y.jsxs("select",{value:x,onChange:z=>b(z.target.value),className:"col-span-2 px-3 py-2 border border-divider rounded-soft",children:[y.jsx("option",{value:"",children:"-- Slectionner une recette --"}),r.map(z=>y.jsxs("option",{value:z.id,children:[z.emoji," ",z.name," ",z.batchSize>1?`(x${z.batchSize})`:""]},z.id))]}),y.jsx("input",{type:"number",min:"0",placeholder:"Quantit",value:A||"",onChange:z=>M(parseInt(z.target.value)||0),className:"px-3 py-2 border border-divider rounded-soft"})]}),y.jsxs(jt,{onClick:$,disabled:!x||A<=0,className:"w-full mt-3",children:[y.jsx(yb,{size:18,weight:"bold"}),"Ajouter  la commande"]})]}),g.length>0&&y.jsxs("div",{className:"space-y-3",children:[y.jsx("p",{className:"text-sm font-semibold text-text-muted",children:"Articles de la commande"}),g.map((z,le)=>y.jsxs("div",{className:"p-4 border border-divider rounded-soft",children:[y.jsxs("div",{className:"flex items-start justify-between mb-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-xl",children:z.emoji}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-text",children:z.recipeName}),y.jsxs("p",{className:"text-xs text-text-muted",children:["Demand: ",z.requestedQty,"  Crafts: ",z.craftsNeeded,"  Production: ",z.actualProduction,z.surplus>0&&` (+${z.surplus} surplus)`]})]})]}),y.jsx("button",{onClick:()=>K(le),className:"text-peach hover:text-peach-dark",children:y.jsx(Eb,{size:20})})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Prix unitaire"}),y.jsx("input",{type:"number",min:"0",value:z.unitPrice,onChange:ae=>Z(le,parseFloat(ae.target.value)||0),className:"w-full px-3 py-1 text-sm border border-divider rounded-soft"})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Total"}),y.jsxs("p",{className:"font-bold text-text px-3 py-1",children:[z.totalPrice.toFixed(2),""]})]})]})]},le))]})]})})}),y.jsx("div",{children:y.jsx(it,{children:y.jsxs(st,{className:"p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-text mb-4",children:"Rsum"}),h?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-4 p-3 bg-card-hover rounded-soft",children:[y.jsx("p",{className:"text-sm text-text-muted",children:"Groupe/Personne"}),y.jsx("p",{className:"font-bold text-text",children:n.find(z=>z.id===h)?.name})]}),y.jsxs("div",{className:"mb-4 p-3 bg-card-hover rounded-soft",children:[y.jsx("p",{className:"text-sm text-text-muted",children:"Articles"}),y.jsx("p",{className:"font-bold text-text text-2xl",children:g.length})]}),y.jsxs("div",{className:"mb-6 p-4 bg-peach-light rounded-soft border border-peach",children:[y.jsx("p",{className:"text-sm text-text-muted mb-1",children:"Total de la commande"}),y.jsxs("p",{className:"font-bold text-text text-3xl",children:[Y().toFixed(2),""]})]}),y.jsx(jt,{onClick:oe,disabled:g.length===0,className:"w-full",children:"Enregistrer la commande"})]}):y.jsx("p",{className:"text-sm text-text-muted text-center py-8",children:"Slectionnez un groupe pour commencer"})]})})})]})]})},qr=({children:r})=>{const{user:e,loading:n}=Aa();return n?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"text-xl text-dark-600 dark:text-dark-400",children:"Chargement..."})}):e?y.jsx(h3,{children:r}):y.jsx(JE,{to:"/login",replace:!0})};function w3(){const{user:r,loading:e}=Aa();return e?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"text-xl text-dark-600 dark:text-dark-400",children:"Chargement..."})}):y.jsxs(ow,{children:[y.jsx(Yn,{path:"/login",element:r?y.jsx(JE,{to:"/",replace:!0}):y.jsx(DL,{})}),y.jsx(Yn,{path:"/",element:y.jsx(qr,{children:y.jsx(WL,{})})}),y.jsx(Yn,{path:"/stocks",element:y.jsx(qr,{children:y.jsx(d3,{})})}),y.jsx(Yn,{path:"/prices",element:y.jsx(qr,{children:y.jsx(f3,{})})}),y.jsx(Yn,{path:"/calculator",element:y.jsx(qr,{children:y.jsx(m3,{})})}),y.jsx(Yn,{path:"/timers",element:y.jsx(qr,{children:y.jsx(g3,{})})}),y.jsx(Yn,{path:"/history",element:y.jsx(qr,{children:y.jsx(y3,{})})}),y.jsx(Yn,{path:"/setup",element:y.jsx(qr,{children:y.jsx(T3,{})})}),y.jsx(Yn,{path:"/malandrinerie/stocks",element:y.jsx(qr,{children:y.jsx(b3,{})})}),y.jsx(Yn,{path:"/malandrinerie/recipes",element:y.jsx(qr,{children:y.jsx(S3,{})})}),y.jsx(Yn,{path:"/malandrinerie/orders",element:y.jsx(qr,{children:y.jsx(A3,{})})})]})}function k3(){return y.jsx(Nw,{basename:"/Brewsy",children:y.jsx(NL,{children:y.jsx(LL,{children:y.jsx(w3,{})})})})}uA.createRoot(document.getElementById("root")).render(y.jsx(j.StrictMode,{children:y.jsx(k3,{})}));
