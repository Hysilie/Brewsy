(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function VS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var zm={exports:{}},su={};var Tv;function jS(){if(Tv)return su;Tv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return su.Fragment=e,su.jsx=n,su.jsxs=n,su}var bv;function PS(){return bv||(bv=1,zm.exports=jS()),zm.exports}var T=PS(),Bm={exports:{}},Se={};var Av;function US(){if(Av)return Se;Av=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function L(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,Q={};function ie(V,te,le){this.props=V,this.context=te,this.refs=Q,this.updater=le||G}ie.prototype.isReactComponent={},ie.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},ie.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function re(){}re.prototype=ie.prototype;function ae(V,te,le){this.props=V,this.context=te,this.refs=Q,this.updater=le||G}var se=ae.prototype=new re;se.constructor=ae,Y(se,ie.prototype),se.isPureReactComponent=!0;var ge=Array.isArray;function he(){}var I={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function R(V,te,le){var fe=le.ref;return{$$typeof:r,type:V,key:te,ref:fe!==void 0?fe:null,props:le}}function D(V,te){return R(V.type,te,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(le){return te[le]})}var C=/\/+/g;function We(V,te){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):te.toString(36)}function ct(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(he,he):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function W(V,te,le,fe,be){var ke=typeof V;(ke==="undefined"||ke==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(ke){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case r:case e:Ue=!0;break;case E:return Ue=V._init,W(Ue(V._payload),te,le,fe,be)}}if(Ue)return be=be(V),Ue=fe===""?"."+We(V,0):fe,ge(be)?(le="",Ue!=null&&(le=Ue.replace(C,"$&/")+"/"),W(be,te,le,"",function(Rs){return Rs})):be!=null&&(O(be)&&(be=D(be,le+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(C,"$&/")+"/")+Ue)),te.push(be)),1;Ue=0;var Mt=fe===""?".":fe+":";if(ge(V))for(var at=0;at<V.length;at++)fe=V[at],ke=Mt+We(fe,at),Ue+=W(fe,te,le,ke,be);else if(at=L(V),typeof at=="function")for(V=at.call(V),at=0;!(fe=V.next()).done;)fe=fe.value,ke=Mt+We(fe,at++),Ue+=W(fe,te,le,ke,be);else if(ke==="object"){if(typeof V.then=="function")return W(ct(V),te,le,fe,be);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function q(V,te,le){if(V==null)return V;var fe=[],be=0;return W(V,fe,"","",function(ke){return te.call(le,ke,be++)}),fe}function de(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(le){(V._status===0||V._status===-1)&&(V._status=1,V._result=le)},function(le){(V._status===0||V._status===-1)&&(V._status=2,V._result=le)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var Ce=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Be={map:q,forEach:function(V,te,le){q(V,function(){te.apply(this,arguments)},le)},count:function(V){var te=0;return q(V,function(){te++}),te},toArray:function(V){return q(V,function(te){return te})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Se.Activity=b,Se.Children=Be,Se.Component=ie,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=ae,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Se.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},Se.cache=function(V){return function(){return V.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(V,te,le){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var fe=Y({},V.props),be=V.key;if(te!=null)for(ke in te.key!==void 0&&(be=""+te.key),te)!k.call(te,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&te.ref===void 0||(fe[ke]=te[ke]);var ke=arguments.length-2;if(ke===1)fe.children=le;else if(1<ke){for(var Ue=Array(ke),Mt=0;Mt<ke;Mt++)Ue[Mt]=arguments[Mt+2];fe.children=Ue}return R(V.type,be,fe)},Se.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Se.createElement=function(V,te,le){var fe,be={},ke=null;if(te!=null)for(fe in te.key!==void 0&&(ke=""+te.key),te)k.call(te,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(be[fe]=te[fe]);var Ue=arguments.length-2;if(Ue===1)be.children=le;else if(1<Ue){for(var Mt=Array(Ue),at=0;at<Ue;at++)Mt[at]=arguments[at+2];be.children=Mt}if(V&&V.defaultProps)for(fe in Ue=V.defaultProps,Ue)be[fe]===void 0&&(be[fe]=Ue[fe]);return R(V,ke,be)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(V){return{$$typeof:m,render:V}},Se.isValidElement=O,Se.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:de}},Se.memo=function(V,te){return{$$typeof:p,type:V,compare:te===void 0?null:te}},Se.startTransition=function(V){var te=I.T,le={};I.T=le;try{var fe=V(),be=I.S;be!==null&&be(le,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(he,Ce)}catch(ke){Ce(ke)}finally{te!==null&&le.types!==null&&(te.types=le.types),I.T=te}},Se.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Se.use=function(V){return I.H.use(V)},Se.useActionState=function(V,te,le){return I.H.useActionState(V,te,le)},Se.useCallback=function(V,te){return I.H.useCallback(V,te)},Se.useContext=function(V){return I.H.useContext(V)},Se.useDebugValue=function(){},Se.useDeferredValue=function(V,te){return I.H.useDeferredValue(V,te)},Se.useEffect=function(V,te){return I.H.useEffect(V,te)},Se.useEffectEvent=function(V){return I.H.useEffectEvent(V)},Se.useId=function(){return I.H.useId()},Se.useImperativeHandle=function(V,te,le){return I.H.useImperativeHandle(V,te,le)},Se.useInsertionEffect=function(V,te){return I.H.useInsertionEffect(V,te)},Se.useLayoutEffect=function(V,te){return I.H.useLayoutEffect(V,te)},Se.useMemo=function(V,te){return I.H.useMemo(V,te)},Se.useOptimistic=function(V,te){return I.H.useOptimistic(V,te)},Se.useReducer=function(V,te,le){return I.H.useReducer(V,te,le)},Se.useRef=function(V){return I.H.useRef(V)},Se.useState=function(V){return I.H.useState(V)},Se.useSyncExternalStore=function(V,te,le){return I.H.useSyncExternalStore(V,te,le)},Se.useTransition=function(){return I.H.useTransition()},Se.version="19.2.3",Se}var Sv;function zp(){return Sv||(Sv=1,Bm.exports=US()),Bm.exports}var j=zp();const S=VS(j);var Hm={exports:{}},au={},qm={exports:{}},Fm={};var wv;function zS(){return wv||(wv=1,(function(r){function e(W,q){var de=W.length;W.push(q);e:for(;0<de;){var Ce=de-1>>>1,Be=W[Ce];if(0<o(Be,q))W[Ce]=q,W[de]=Be,de=Ce;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var q=W[0],de=W.pop();if(de!==q){W[0]=de;e:for(var Ce=0,Be=W.length,V=Be>>>1;Ce<V;){var te=2*(Ce+1)-1,le=W[te],fe=te+1,be=W[fe];if(0>o(le,de))fe<Be&&0>o(be,le)?(W[Ce]=be,W[fe]=de,Ce=fe):(W[Ce]=le,W[te]=de,Ce=te);else if(fe<Be&&0>o(be,de))W[Ce]=be,W[fe]=de,Ce=fe;else break e}}return q}function o(W,q){var de=W.sortIndex-q.sortIndex;return de!==0?de:W.id-q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],p=[],E=1,b=null,x=3,L=!1,G=!1,Y=!1,Q=!1,ie=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function se(W){for(var q=n(p);q!==null;){if(q.callback===null)s(p);else if(q.startTime<=W)s(p),q.sortIndex=q.expirationTime,e(g,q);else break;q=n(p)}}function ge(W){if(Y=!1,se(W),!G)if(n(g)!==null)G=!0,he||(he=!0,P());else{var q=n(p);q!==null&&ct(ge,q.startTime-W)}}var he=!1,I=-1,k=5,R=-1;function D(){return Q?!0:!(r.unstable_now()-R<k)}function O(){if(Q=!1,he){var W=r.unstable_now();R=W;var q=!0;try{e:{G=!1,Y&&(Y=!1,re(I),I=-1),L=!0;var de=x;try{t:{for(se(W),b=n(g);b!==null&&!(b.expirationTime>W&&D());){var Ce=b.callback;if(typeof Ce=="function"){b.callback=null,x=b.priorityLevel;var Be=Ce(b.expirationTime<=W);if(W=r.unstable_now(),typeof Be=="function"){b.callback=Be,se(W),q=!0;break t}b===n(g)&&s(g),se(W)}else s(g);b=n(g)}if(b!==null)q=!0;else{var V=n(p);V!==null&&ct(ge,V.startTime-W),q=!1}}break e}finally{b=null,x=de,L=!1}q=void 0}}finally{q?P():he=!1}}}var P;if(typeof ae=="function")P=function(){ae(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,We=C.port2;C.port1.onmessage=O,P=function(){We.postMessage(null)}}else P=function(){ie(O,0)};function ct(W,q){I=ie(function(){W(r.unstable_now())},q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(W){switch(x){case 1:case 2:case 3:var q=3;break;default:q=x}var de=x;x=q;try{return W()}finally{x=de}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(W,q){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var de=x;x=W;try{return q()}finally{x=de}},r.unstable_scheduleCallback=function(W,q,de){var Ce=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ce+de:Ce):de=Ce,W){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=de+Be,W={id:E++,callback:q,priorityLevel:W,startTime:de,expirationTime:Be,sortIndex:-1},de>Ce?(W.sortIndex=de,e(p,W),n(g)===null&&W===n(p)&&(Y?(re(I),I=-1):Y=!0,ct(ge,de-Ce))):(W.sortIndex=Be,e(g,W),G||L||(G=!0,he||(he=!0,P()))),W},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(W){var q=x;return function(){var de=x;x=q;try{return W.apply(this,arguments)}finally{x=de}}}})(Fm)),Fm}var xv;function BS(){return xv||(xv=1,qm.exports=zS()),qm.exports}var Gm={exports:{}},Jt={};var Rv;function HS(){if(Rv)return Jt;Rv=1;var r=zp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},Jt.flushSync=function(g){var p=h.T,E=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=E,s.d.f()}},Jt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Jt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Jt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,L=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:L}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:x,fetchPriority:L,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Jt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Jt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Jt.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Jt.requestFormReset=function(g){s.d.r(g)},Jt.unstable_batchedUpdates=function(g,p){return g(p)},Jt.useFormState=function(g,p,E){return h.H.useFormState(g,p,E)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var kv;function qS(){if(kv)return Gm.exports;kv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gm.exports=HS(),Gm.exports}var Iv;function FS(){if(Iv)return au;Iv=1;var r=BS(),e=zp(),n=qS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return g(d),t;if(f===l)return g(d),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var v=!1,A=d.child;A;){if(A===a){v=!0,a=d,l=f;break}if(A===l){v=!0,l=d,a=f;break}A=A.sibling}if(!v){for(A=f.child;A;){if(A===a){v=!0,a=f,l=d;break}if(A===l){v=!0,l=f,a=d;break}A=A.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function We(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case ie:return"Profiler";case Q:return"StrictMode";case ge:return"Suspense";case he:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ae:return t.displayName||"Context";case re:return(t._context.displayName||"Context")+".Consumer";case se:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:We(t.type)||"Memo";case k:i=t._payload,t=t._init;try{return We(t(i))}catch{}}return null}var ct=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ce=[],Be=-1;function V(t){return{current:t}}function te(t){0>Be||(t.current=Ce[Be],Ce[Be]=null,Be--)}function le(t,i){Be++,Ce[Be]=t.current,t.current=i}var fe=V(null),be=V(null),ke=V(null),Ue=V(null);function Mt(t,i){switch(le(ke,i),le(be,t),le(fe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?F1(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=F1(i),t=G1(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(fe),le(fe,t)}function at(){te(fe),te(be),te(ke)}function Rs(t){t.memoizedState!==null&&le(Ue,t);var i=fe.current,a=G1(i,t.type);i!==a&&(le(be,t),le(fe,a))}function Oa(t){be.current===t&&(te(fe),te(be)),Ue.current===t&&(te(Ue),tu._currentValue=de)}var La,Ma;function gr(t){if(La===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||"",Ma=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+La+t+Ma}var tl=!1;function ks(t,i){if(!t||tl)return"";tl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var F=$}Reflect.construct(t,[],ee)}else{try{ee.call()}catch($){F=$}t.call(ee.prototype)}}else{try{throw Error()}catch($){F=$}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&F&&typeof $.stack=="string")return[$.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],A=f[1];if(v&&A){var N=v.split(`
`),H=A.split(`
`);for(d=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(l===N.length||d===H.length)for(l=N.length-1,d=H.length-1;1<=l&&0<=d&&N[l]!==H[d];)d--;for(;1<=l&&0<=d;l--,d--)if(N[l]!==H[d]){if(l!==1||d!==1)do if(l--,d--,0>d||N[l]!==H[d]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=d);break}}}finally{tl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?gr(a):""}function nl(t,i){switch(t.tag){case 26:case 27:case 5:return gr(t.type);case 16:return gr("Lazy");case 13:return t.child!==i&&i!==null?gr("Suspense Fallback"):gr("Suspense");case 19:return gr("SuspenseList");case 0:case 15:return ks(t.type,!1);case 11:return ks(t.type.render,!1);case 1:return ks(t.type,!0);case 31:return gr("Activity");default:return""}}function rl(t){try{var i="",a=null;do i+=nl(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var At=Object.prototype.hasOwnProperty,Vt=r.unstable_scheduleCallback,Si=r.unstable_cancelCallback,Bd=r.unstable_shouldYield,Gu=r.unstable_requestPaint,sn=r.unstable_now,Is=r.unstable_getCurrentPriorityLevel,il=r.unstable_ImmediatePriority,sl=r.unstable_UserBlockingPriority,wi=r.unstable_NormalPriority,Hd=r.unstable_LowPriority,Ku=r.unstable_IdlePriority,Qu=r.log,$u=r.unstable_setDisableYieldValue,Yn=null,qt=null;function Dn(t){if(typeof Qu=="function"&&$u(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Yn,t)}catch{}}var vt=Math.clz32?Math.clz32:Wu,Yu=Math.log,Va=Math.LN2;function Wu(t){return t>>>=0,t===0?32:31-(Yu(t)/Va|0)|0}var yr=256,Cs=262144,St=4194304;function vr(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _r(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~f,l!==0?d=vr(l):(v&=A,v!==0?d=vr(v):a||(a=A&~t,a!==0&&(d=vr(a))))):(A=l&~f,A!==0?d=vr(A):v!==0?d=vr(v):a||(a=l&~t,a!==0&&(d=vr(a)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:d}function Wn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function qd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xu(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function Er(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ns(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fd(t,i,a,l,d,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,N=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-vt(a),ee=1<<X;A[X]=0,N[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var $=F[X];$!==null&&($.lane&=-536870913)}a&=~ee}l!==0&&Ds(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~i))}function Ds(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-vt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function al(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-vt(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function ol(t,i){var a=i&-i;return a=(a&42)!==0?1:Os(a),(a&(t.suspendedLanes|i))!==0?0:a}function Os(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $r(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Zu(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:mv(t.type))}function Xn(t,i){var a=q.p;try{return q.p=t,i()}finally{q.p=a}}var Zn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Zn,Ut="__reactProps$"+Zn,Tr="__reactContainer$"+Zn,ja="__reactEvents$"+Zn,Gd="__reactListeners$"+Zn,Ju="__reactHandles$"+Zn,ec="__reactResources$"+Zn,br="__reactMarker$"+Zn;function Pa(t){delete t[wt],delete t[Ut],delete t[ja],delete t[Gd],delete t[Ju]}function Ar(t){var i=t[wt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Tr]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Z1(t);t!==null;){if(a=t[wt])return a;t=Z1(t)}return i}t=a,a=t.parentNode}return null}function On(t){if(t=t[wt]||t[Tr]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function _n(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Sr(t){var i=t[ec];return i||(i=t[ec]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xt(t){t[br]=!0}var ll=new Set,ul={};function wr(t,i){xr(t,i),xr(t+"Capture",i)}function xr(t,i){for(ul[t]=i,t=0;t<i.length;t++)ll.add(i[t])}var cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},dl={};function tc(t){return At.call(dl,t)?!0:At.call(hl,t)?!1:cl.test(t)?dl[t]=!0:(hl[t]=!0,!1)}function Ua(t,i,a){if(tc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function En(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Rt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xi(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function fl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=xi(t)?"checked":"value";t._valueTracker=fl(t,i,""+t[i])}}function Ls(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=xi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Rr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ms=/[\n"\\]/g;function un(t){return t.replace(Ms,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function za(t,i,a,l,d,f,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+zt(i)):t.value!==""+zt(i)&&(t.value=""+zt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?ml(t,v,zt(i)):a!=null?ml(t,v,zt(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+zt(A):t.removeAttribute("name")}function nc(t,i,a,l,d,f,v,A){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+zt(a):"",i=i!=null?""+zt(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Qe(t)}function ml(t,i,a){i==="number"&&Rr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ri(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function rc(t,i,a){if(i!=null&&(i=""+zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+zt(a):""}function ki(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ct(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function cn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ic=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ic.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function gl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&pl(t,d,l)}else for(var f in i)i.hasOwnProperty(f)&&pl(t,f,i[f])}function Ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ii=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(t){return Ii.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Jn(){}var yl=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,kr=null;function Vs(t){var i=On(t);if(i&&(t=i.stateNode)){var a=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(za(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[Ut]||null;if(!d)throw Error(s(90));za(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ls(l)}break e;case"textarea":rc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ri(t,!!a.multiple,i,!1)}}}var qa=!1;function Ni(t,i,a){if(qa)return t(i,a);qa=!0;try{var l=t(i);return l}finally{if(qa=!1,(Ci!==null||kr!==null)&&(Zc(),Ci&&(i=Ci,t=kr,kr=Ci=null,Vs(i),t)))for(i=0;i<t.length;i++)Vs(t[i])}}function er(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),js=!1;if(Mn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){js=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{js=!1}var Ir=null,vl=null,Ps=null;function _l(){if(Ps)return Ps;var t,i=vl,a=i.length,l,d="value"in Ir?Ir.value:Ir.textContent,f=d.length;for(t=0;t<a&&i[t]===d[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===d[f-l];l++);return Ps=d.slice(t,1<l?1-l:void 0)}function Us(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Yr(){return!0}function tr(){return!1}function Ft(t){function i(a,l,d,f,v){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(f):f[A]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yr:tr,this.isPropagationStopped=tr,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yr)},persist:function(){},isPersistent:Yr}),i}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cr=Ft(Wr),Di=b({},Wr,{view:0,detail:0}),El=Ft(Di),Oi,Fa,Nr,Ga=b({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Li,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nr&&(Nr&&t.type==="mousemove"?(Oi=t.screenX-Nr.screenX,Fa=t.screenY-Nr.screenY):Fa=Oi=0,Nr=t),Oi)},movementY:function(t){return"movementY"in t?t.movementY:Fa}}),Tl=Ft(Ga),zs=b({},Ga,{dataTransfer:0}),ac=Ft(zs),oc=b({},Di,{relatedTarget:0}),Bs=Ft(oc),bl=b({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),lc=Ft(bl),Ka=b({},Wr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uc=Ft(Ka),cc=b({},Wr,{data:0}),Dr=Ft(cc),hc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=fc[t])?!!i[t]:!1}function Li(){return mc}var an=b({},Di,{key:function(t){if(t.key){var i=hc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Li,charCode:function(t){return t.type==="keypress"?Us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pc=Ft(an),gc=b({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xr=Ft(gc),c=b({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Li}),y=Ft(c),_=b({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ft(_),z=b({},Ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Ft(z),oe=b({},Wr,{newState:0,oldState:0}),xe=Ft(oe),_t=[9,13,27,32],Fe=Mn&&"CompositionEvent"in window,ot=null;Mn&&"documentMode"in document&&(ot=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!ot,Or=Mn&&(!Fe||ot&&8<ot&&11>=ot),nr=" ",rr=!1;function Hs(t,i){switch(t){case"keyup":return _t.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function aA(t,i){switch(t){case"compositionend":return Qa(i);case"keypress":return i.which!==32?null:(rr=!0,nr);case"textInput":return t=i.data,t===nr&&rr?null:t;default:return null}}function oA(t,i){if($a)return t==="compositionend"||!Fe&&Hs(t,i)?(t=_l(),Ps=vl=Ir=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Or&&i.locale!=="ko"?null:i.data;default:return null}}var lA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t0(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!lA[t.type]:i==="textarea"}function n0(t,i,a,l){Ci?kr?kr.push(l):kr=[l]:Ci=l,i=sh(i,"onChange"),0<i.length&&(a=new Cr("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Al=null,Sl=null;function uA(t){P1(t,0)}function yc(t){var i=_n(t);if(Ls(i))return t}function r0(t,i){if(t==="change")return i}var i0=!1;if(Mn){var Kd;if(Mn){var Qd="oninput"in document;if(!Qd){var s0=document.createElement("div");s0.setAttribute("oninput","return;"),Qd=typeof s0.oninput=="function"}Kd=Qd}else Kd=!1;i0=Kd&&(!document.documentMode||9<document.documentMode)}function a0(){Al&&(Al.detachEvent("onpropertychange",o0),Sl=Al=null)}function o0(t){if(t.propertyName==="value"&&yc(Sl)){var i=[];n0(i,Sl,t,Ln(t)),Ni(uA,i)}}function cA(t,i,a){t==="focusin"?(a0(),Al=i,Sl=a,Al.attachEvent("onpropertychange",o0)):t==="focusout"&&a0()}function hA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yc(Sl)}function dA(t,i){if(t==="click")return yc(i)}function fA(t,i){if(t==="input"||t==="change")return yc(i)}function mA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Tn=typeof Object.is=="function"?Object.is:mA;function wl(t,i){if(Tn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!At.call(i,d)||!Tn(t[d],i[d]))return!1}return!0}function l0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function u0(t,i){var a=l0(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=l0(a)}}function c0(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?c0(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function h0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Rr(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Rr(t.document)}return i}function $d(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var pA=Mn&&"documentMode"in document&&11>=document.documentMode,Ya=null,Yd=null,xl=null,Wd=!1;function d0(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wd||Ya==null||Ya!==Rr(l)||(l=Ya,"selectionStart"in l&&$d(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xl&&wl(xl,l)||(xl=l,l=sh(Yd,"onSelect"),0<l.length&&(i=new Cr("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ya)))}function qs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Wa={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},Xd={},f0={};Mn&&(f0=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function Fs(t){if(Xd[t])return Xd[t];if(!Wa[t])return t;var i=Wa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in f0)return Xd[t]=i[a];return t}var m0=Fs("animationend"),p0=Fs("animationiteration"),g0=Fs("animationstart"),gA=Fs("transitionrun"),yA=Fs("transitionstart"),vA=Fs("transitioncancel"),y0=Fs("transitionend"),v0=new Map,Zd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zd.push("scrollEnd");function ir(t,i){v0.set(t,i),wr(i,[t])}var vc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],Xa=0,Jd=0;function _c(){for(var t=Xa,i=Jd=Xa=0;i<t;){var a=jn[i];jn[i++]=null;var l=jn[i];jn[i++]=null;var d=jn[i];jn[i++]=null;var f=jn[i];if(jn[i++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}f!==0&&_0(a,d,f)}}function Ec(t,i,a,l){jn[Xa++]=t,jn[Xa++]=i,jn[Xa++]=a,jn[Xa++]=l,Jd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ef(t,i,a,l){return Ec(t,i,a,l),Tc(t)}function Gs(t,i){return Ec(t,null,null,i),Tc(t)}function _0(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&i!==null&&(d=31-vt(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),f):null}function Tc(t){if(50<$l)throw $l=0,cm=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Za={};function _A(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,i,a,l){return new _A(t,i,a,l)}function tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zr(t,i){var a=t.alternate;return a===null?(a=bn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function E0(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function bc(t,i,a,l,d,f){var v=0;if(l=t,typeof t=="function")tf(t)&&(v=1);else if(typeof t=="string")v=SS(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=bn(31,a,i,d),t.elementType=R,t.lanes=f,t;case Y:return Ks(a.children,d,f,i);case Q:v=8,d|=24;break;case ie:return t=bn(12,a,i,d|2),t.elementType=ie,t.lanes=f,t;case ge:return t=bn(13,a,i,d),t.elementType=ge,t.lanes=f,t;case he:return t=bn(19,a,i,d),t.elementType=he,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:v=10;break e;case re:v=9;break e;case se:v=11;break e;case I:v=14;break e;case k:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=bn(v,a,i,d),i.elementType=t,i.type=l,i.lanes=f,i}function Ks(t,i,a,l){return t=bn(7,t,l,i),t.lanes=a,t}function nf(t,i,a){return t=bn(6,t,null,i),t.lanes=a,t}function T0(t){var i=bn(18,null,null,0);return i.stateNode=t,i}function rf(t,i,a){return i=bn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var b0=new WeakMap;function Pn(t,i){if(typeof t=="object"&&t!==null){var a=b0.get(t);return a!==void 0?a:(i={value:t,source:i,stack:rl(i)},b0.set(t,i),i)}return{value:t,source:i,stack:rl(i)}}var Ja=[],eo=0,Ac=null,Rl=0,Un=[],zn=0,Mi=null,Lr=1,Mr="";function Jr(t,i){Ja[eo++]=Rl,Ja[eo++]=Ac,Ac=t,Rl=i}function A0(t,i,a){Un[zn++]=Lr,Un[zn++]=Mr,Un[zn++]=Mi,Mi=t;var l=Lr;t=Mr;var d=32-vt(l)-1;l&=~(1<<d),a+=1;var f=32-vt(i)+d;if(30<f){var v=d-d%5;f=(l&(1<<v)-1).toString(32),l>>=v,d-=v,Lr=1<<32-vt(i)+d|a<<d|l,Mr=f+t}else Lr=1<<f|a<<d|l,Mr=t}function sf(t){t.return!==null&&(Jr(t,1),A0(t,1,0))}function af(t){for(;t===Ac;)Ac=Ja[--eo],Ja[eo]=null,Rl=Ja[--eo],Ja[eo]=null;for(;t===Mi;)Mi=Un[--zn],Un[zn]=null,Mr=Un[--zn],Un[zn]=null,Lr=Un[--zn],Un[zn]=null}function S0(t,i){Un[zn++]=Lr,Un[zn++]=Mr,Un[zn++]=Mi,Lr=i.id,Mr=i.overflow,Mi=t}var Gt=null,it=null,Pe=!1,Vi=null,Bn=!1,of=Error(s(519));function ji(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(Pn(i,t)),of}function w0(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[wt]=t,i[Ut]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<Wl.length;a++)De(Wl[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),nc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),ki(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||H1(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Jn),i=!0):i=!1,i||ji(t,!0)}function x0(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Gt=Gt.return}}function to(t){if(t!==Gt)return!1;if(!Pe)return x0(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||wm(t.type,t.memoizedProps)),a=!a),a&&it&&ji(t),x0(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=X1(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=X1(t)}else i===27?(i=it,Xi(t.type)?(t=Cm,Cm=null,it=t):it=i):it=Gt?qn(t.stateNode.nextSibling):null;return!0}function Qs(){it=Gt=null,Pe=!1}function lf(){var t=Vi;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Vi=null),t}function kl(t){Vi===null?Vi=[t]:Vi.push(t)}var uf=V(null),$s=null,ei=null;function Pi(t,i,a){le(uf,i._currentValue),i._currentValue=a}function ti(t){t._currentValue=uf.current,te(uf)}function cf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function hf(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var A=f;f=d;for(var N=0;N<i.length;N++)if(A.context===i[N]){f.lanes|=a,A=f.alternate,A!==null&&(A.lanes|=a),cf(f.return,a,t),l||(v=null);break e}f=A.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),cf(v,a,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function no(t,i,a,l){t=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var A=d.type;Tn(d.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(d===Ue.current){if(v=d.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(tu):t=[tu])}d=d.return}t!==null&&hf(i,t,a,l),i.flags|=262144}function Sc(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ys(t){$s=t,ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return R0($s,t)}function wc(t,i){return $s===null&&Ys(t),R0(t,i)}function R0(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ei===null){if(t===null)throw Error(s(308));ei=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ei=ei.next=i;return a}var EA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},TA=r.unstable_scheduleCallback,bA=r.unstable_NormalPriority,kt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new EA,data:new Map,refCount:0}}function Il(t){t.refCount--,t.refCount===0&&TA(bA,function(){t.controller.abort()})}var Cl=null,ff=0,ro=0,io=null;function AA(t,i){if(Cl===null){var a=Cl=[];ff=0,ro=gm(),io={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ff++,i.then(k0,k0),i}function k0(){if(--ff===0&&Cl!==null){io!==null&&(io.status="fulfilled");var t=Cl;Cl=null,ro=0,io=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function SA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var I0=W.S;W.S=function(t,i){d1=sn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&AA(t,i),I0!==null&&I0(t,i)};var Ws=V(null);function mf(){var t=Ws.current;return t!==null?t:nt.pooledCache}function xc(t,i){i===null?le(Ws,Ws.current):le(Ws,i.pool)}function C0(){var t=mf();return t===null?null:{parent:kt._currentValue,pool:t}}var so=Error(s(460)),pf=Error(s(474)),Rc=Error(s(542)),kc={then:function(){}};function N0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function D0(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Jn,Jn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,L0(t),t;default:if(typeof i.status=="string")i.then(Jn,Jn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,L0(t),t}throw Zs=i,so}}function Xs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zs=a,so):a}}var Zs=null;function O0(){if(Zs===null)throw Error(s(459));var t=Zs;return Zs=null,t}function L0(t){if(t===so||t===Rc)throw Error(s(483))}var ao=null,Nl=0;function Ic(t){var i=Nl;return Nl+=1,ao===null&&(ao=[]),D0(ao,t,i)}function Dl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Cc(t,i){throw i.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function M0(t){function i(U,M){if(t){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function d(U,M){return U=Zr(U,M),U.index=0,U.sibling=null,U}function f(U,M,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=67108866,M):B):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function A(U,M,B,Z){return M===null||M.tag!==6?(M=nf(B,U.mode,Z),M.return=U,M):(M=d(M,B),M.return=U,M)}function N(U,M,B,Z){var ye=B.type;return ye===Y?X(U,M,B.props.children,Z,B.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===k&&Xs(ye)===M.type)?(M=d(M,B.props),Dl(M,B),M.return=U,M):(M=bc(B.type,B.key,B.props,null,U.mode,Z),Dl(M,B),M.return=U,M)}function H(U,M,B,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=rf(B,U.mode,Z),M.return=U,M):(M=d(M,B.children||[]),M.return=U,M)}function X(U,M,B,Z,ye){return M===null||M.tag!==7?(M=Ks(B,U.mode,Z,ye),M.return=U,M):(M=d(M,B),M.return=U,M)}function ee(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=nf(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case L:return B=bc(M.type,M.key,M.props,null,U.mode,B),Dl(B,M),B.return=U,B;case G:return M=rf(M,U.mode,B),M.return=U,M;case k:return M=Xs(M),ee(U,M,B)}if(ct(M)||P(M))return M=Ks(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return ee(U,Ic(M),B);if(M.$$typeof===ae)return ee(U,wc(U,M),B);Cc(U,M)}return null}function F(U,M,B,Z){var ye=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ye!==null?null:A(U,M,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return B.key===ye?N(U,M,B,Z):null;case G:return B.key===ye?H(U,M,B,Z):null;case k:return B=Xs(B),F(U,M,B,Z)}if(ct(B)||P(B))return ye!==null?null:X(U,M,B,Z,null);if(typeof B.then=="function")return F(U,M,Ic(B),Z);if(B.$$typeof===ae)return F(U,M,wc(U,B),Z);Cc(U,B)}return null}function $(U,M,B,Z,ye){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(B)||null,A(M,U,""+Z,ye);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case L:return U=U.get(Z.key===null?B:Z.key)||null,N(M,U,Z,ye);case G:return U=U.get(Z.key===null?B:Z.key)||null,H(M,U,Z,ye);case k:return Z=Xs(Z),$(U,M,B,Z,ye)}if(ct(Z)||P(Z))return U=U.get(B)||null,X(M,U,Z,ye,null);if(typeof Z.then=="function")return $(U,M,B,Ic(Z),ye);if(Z.$$typeof===ae)return $(U,M,B,wc(M,Z),ye);Cc(M,Z)}return null}function me(U,M,B,Z){for(var ye=null,He=null,pe=M,Ie=M=0,Le=null;pe!==null&&Ie<B.length;Ie++){pe.index>Ie?(Le=pe,pe=null):Le=pe.sibling;var qe=F(U,pe,B[Ie],Z);if(qe===null){pe===null&&(pe=Le);break}t&&pe&&qe.alternate===null&&i(U,pe),M=f(qe,M,Ie),He===null?ye=qe:He.sibling=qe,He=qe,pe=Le}if(Ie===B.length)return a(U,pe),Pe&&Jr(U,Ie),ye;if(pe===null){for(;Ie<B.length;Ie++)pe=ee(U,B[Ie],Z),pe!==null&&(M=f(pe,M,Ie),He===null?ye=pe:He.sibling=pe,He=pe);return Pe&&Jr(U,Ie),ye}for(pe=l(pe);Ie<B.length;Ie++)Le=$(pe,U,Ie,B[Ie],Z),Le!==null&&(t&&Le.alternate!==null&&pe.delete(Le.key===null?Ie:Le.key),M=f(Le,M,Ie),He===null?ye=Le:He.sibling=Le,He=Le);return t&&pe.forEach(function(ns){return i(U,ns)}),Pe&&Jr(U,Ie),ye}function _e(U,M,B,Z){if(B==null)throw Error(s(151));for(var ye=null,He=null,pe=M,Ie=M=0,Le=null,qe=B.next();pe!==null&&!qe.done;Ie++,qe=B.next()){pe.index>Ie?(Le=pe,pe=null):Le=pe.sibling;var ns=F(U,pe,qe.value,Z);if(ns===null){pe===null&&(pe=Le);break}t&&pe&&ns.alternate===null&&i(U,pe),M=f(ns,M,Ie),He===null?ye=ns:He.sibling=ns,He=ns,pe=Le}if(qe.done)return a(U,pe),Pe&&Jr(U,Ie),ye;if(pe===null){for(;!qe.done;Ie++,qe=B.next())qe=ee(U,qe.value,Z),qe!==null&&(M=f(qe,M,Ie),He===null?ye=qe:He.sibling=qe,He=qe);return Pe&&Jr(U,Ie),ye}for(pe=l(pe);!qe.done;Ie++,qe=B.next())qe=$(pe,U,Ie,qe.value,Z),qe!==null&&(t&&qe.alternate!==null&&pe.delete(qe.key===null?Ie:qe.key),M=f(qe,M,Ie),He===null?ye=qe:He.sibling=qe,He=qe);return t&&pe.forEach(function(MS){return i(U,MS)}),Pe&&Jr(U,Ie),ye}function et(U,M,B,Z){if(typeof B=="object"&&B!==null&&B.type===Y&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case L:e:{for(var ye=B.key;M!==null;){if(M.key===ye){if(ye=B.type,ye===Y){if(M.tag===7){a(U,M.sibling),Z=d(M,B.props.children),Z.return=U,U=Z;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===k&&Xs(ye)===M.type){a(U,M.sibling),Z=d(M,B.props),Dl(Z,B),Z.return=U,U=Z;break e}a(U,M);break}else i(U,M);M=M.sibling}B.type===Y?(Z=Ks(B.props.children,U.mode,Z,B.key),Z.return=U,U=Z):(Z=bc(B.type,B.key,B.props,null,U.mode,Z),Dl(Z,B),Z.return=U,U=Z)}return v(U);case G:e:{for(ye=B.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(U,M.sibling),Z=d(M,B.children||[]),Z.return=U,U=Z;break e}else{a(U,M);break}else i(U,M);M=M.sibling}Z=rf(B,U.mode,Z),Z.return=U,U=Z}return v(U);case k:return B=Xs(B),et(U,M,B,Z)}if(ct(B))return me(U,M,B,Z);if(P(B)){if(ye=P(B),typeof ye!="function")throw Error(s(150));return B=ye.call(B),_e(U,M,B,Z)}if(typeof B.then=="function")return et(U,M,Ic(B),Z);if(B.$$typeof===ae)return et(U,M,wc(U,B),Z);Cc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(U,M.sibling),Z=d(M,B),Z.return=U,U=Z):(a(U,M),Z=nf(B,U.mode,Z),Z.return=U,U=Z),v(U)):a(U,M)}return function(U,M,B,Z){try{Nl=0;var ye=et(U,M,B,Z);return ao=null,ye}catch(pe){if(pe===so||pe===Rc)throw pe;var He=bn(29,pe,null,U.mode);return He.lanes=Z,He.return=U,He}}}var Js=M0(!0),V0=M0(!1),Ui=!1;function gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=Tc(t),_0(t,null,a),i}return Ec(t,l,i,a),Tc(t)}function Ol(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,al(t,a)}}function vf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var _f=!1;function Ll(){if(_f){var t=io;if(t!==null)throw t}}function Ml(t,i,a,l){_f=!1;var d=t.updateQueue;Ui=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var N=A,H=N.next;N.next=null,v===null?f=H:v.next=H,v=N;var X=t.alternate;X!==null&&(X=X.updateQueue,A=X.lastBaseUpdate,A!==v&&(A===null?X.firstBaseUpdate=H:A.next=H,X.lastBaseUpdate=N))}if(f!==null){var ee=d.baseState;v=0,X=H=N=null,A=f;do{var F=A.lane&-536870913,$=F!==A.lane;if($?(Oe&F)===F:(l&F)===F){F!==0&&F===ro&&(_f=!0),X!==null&&(X=X.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var me=t,_e=A;F=i;var et=a;switch(_e.tag){case 1:if(me=_e.payload,typeof me=="function"){ee=me.call(et,ee,F);break e}ee=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=_e.payload,F=typeof me=="function"?me.call(et,ee,F):me,F==null)break e;ee=b({},ee,F);break e;case 2:Ui=!0}}F=A.callback,F!==null&&(t.flags|=64,$&&(t.flags|=8192),$=d.callbacks,$===null?d.callbacks=[F]:$.push(F))}else $={lane:F,tag:A.tag,payload:A.payload,callback:A.callback,next:null},X===null?(H=X=$,N=ee):X=X.next=$,v|=F;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;$=A,A=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);X===null&&(N=ee),d.baseState=N,d.firstBaseUpdate=H,d.lastBaseUpdate=X,f===null&&(d.shared.lanes=0),Ki|=v,t.lanes=v,t.memoizedState=ee}}function j0(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function P0(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)j0(a[t],i)}var oo=V(null),Nc=V(0);function U0(t,i){t=ci,le(Nc,t),le(oo,i),ci=t|i.baseLanes}function Ef(){le(Nc,ci),le(oo,oo.current)}function Tf(){ci=Nc.current,te(oo),te(Nc)}var An=V(null),Hn=null;function Hi(t){var i=t.alternate;le(Et,Et.current&1),le(An,t),Hn===null&&(i===null||oo.current!==null||i.memoizedState!==null)&&(Hn=t)}function bf(t){le(Et,Et.current),le(An,t),Hn===null&&(Hn=t)}function z0(t){t.tag===22?(le(Et,Et.current),le(An,t),Hn===null&&(Hn=t)):qi()}function qi(){le(Et,Et.current),le(An,An.current)}function Sn(t){te(An),Hn===t&&(Hn=null),te(Et)}var Et=V(0);function Dc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||km(a)||Im(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ni=0,Re=null,Ze=null,It=null,Oc=!1,lo=!1,ea=!1,Lc=0,Vl=0,uo=null,wA=0;function dt(){throw Error(s(321))}function Af(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Tn(t[a],i[a]))return!1;return!0}function Sf(t,i,a,l,d,f){return ni=f,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?Ay:Uf,ea=!1,f=a(l,d),ea=!1,lo&&(f=H0(i,a,l,d)),B0(t),f}function B0(t){W.H=Ul;var i=Ze!==null&&Ze.next!==null;if(ni=0,It=Ze=Re=null,Oc=!1,Vl=0,uo=null,i)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&Sc(t)&&(Ct=!0))}function H0(t,i,a,l){Re=t;var d=0;do{if(lo&&(uo=null),Vl=0,lo=!1,25<=d)throw Error(s(301));if(d+=1,It=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}W.H=Sy,f=i(a,l)}while(lo);return f}function xA(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?jl(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Re.flags|=1024),i}function wf(){var t=Lc!==0;return Lc=0,t}function xf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Rf(t){if(Oc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Oc=!1}ni=0,It=Ze=Re=null,lo=!1,Vl=Lc=0,uo=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Re.memoizedState=It=t:It=It.next=t,It}function Tt(){if(Ze===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=It===null?Re.memoizedState:It.next;if(i!==null)It=i,Ze=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},It===null?Re.memoizedState=It=t:It=It.next=t}return It}function Mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(t){var i=Vl;return Vl+=1,uo===null&&(uo=[]),t=D0(uo,t,i),i=Re,(It===null?i.memoizedState:It.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?Ay:Uf),t}function Vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jl(t);if(t.$$typeof===ae)return Kt(t)}throw Error(s(438,String(t)))}function kf(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Mc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=D;return i.index++,a}function ri(t,i){return typeof i=="function"?i(t):i}function jc(t){var i=Tt();return If(i,Ze,t)}function If(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}i.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{i=d.next;var A=v=null,N=null,H=i,X=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Oe&ee)===ee:(ni&ee)===ee){var F=H.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===ro&&(X=!0);else if((ni&F)===F){H=H.next,F===ro&&(X=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(A=N=ee,v=f):N=N.next=ee,Re.lanes|=F,Ki|=F;ee=H.action,ea&&a(f,ee),f=H.hasEagerState?H.eagerState:a(f,ee)}else F={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(A=N=F,v=f):N=N.next=F,Re.lanes|=ee,Ki|=ee;H=H.next}while(H!==null&&H!==i);if(N===null?v=f:N.next=A,!Tn(f,t.memoizedState)&&(Ct=!0,X&&(a=io,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=N,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Cf(t){var i=Tt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do f=t(f,v.action),v=v.next;while(v!==d);Tn(f,i.memoizedState)||(Ct=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function q0(t,i,a){var l=Re,d=Tt(),f=Pe;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!Tn((Ze||d).memoizedState,a);if(v&&(d.memoizedState=a,Ct=!0),d=d.queue,Of(K0.bind(null,l,d,t),[t]),d.getSnapshot!==i||v||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,co(9,{destroy:void 0},G0.bind(null,l,d,a,i),null),nt===null)throw Error(s(349));f||(ni&127)!==0||F0(l,i,a)}return a}function F0(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=Mc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function G0(t,i,a,l){i.value=a,i.getSnapshot=l,Q0(i)&&$0(t)}function K0(t,i,a){return a(function(){Q0(i)&&$0(t)})}function Q0(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Tn(t,a)}catch{return!0}}function $0(t){var i=Gs(t,2);i!==null&&pn(i,t,2)}function Nf(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),ea){Dn(!0);try{a()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:t},i}function Y0(t,i,a,l){return t.baseState=a,If(t,Ze,typeof l=="function"?l:ri)}function RA(t,i,a,l,d){if(zc(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};W.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,W0(i,f)):(f.next=a.next,i.pending=a.next=f)}}function W0(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var f=W.T,v={};W.T=v;try{var A=a(d,l),N=W.S;N!==null&&N(v,A),X0(t,i,A)}catch(H){Df(t,i,H)}finally{f!==null&&v.types!==null&&(f.types=v.types),W.T=f}}else try{f=a(d,l),X0(t,i,f)}catch(H){Df(t,i,H)}}function X0(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Z0(t,i,l)},function(l){return Df(t,i,l)}):Z0(t,i,a)}function Z0(t,i,a){i.status="fulfilled",i.value=a,J0(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,W0(t,a)))}function Df(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,J0(i),i=i.next;while(i!==l)}t.action=null}function J0(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ey(t,i){return i}function ty(t,i){if(Pe){var a=nt.formState;if(a!==null){e:{var l=Re;if(Pe){if(it){t:{for(var d=it,f=Bn;d.nodeType!==8;){if(!f){d=null;break t}if(d=qn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){it=qn(d.nextSibling),l=d.data==="F!";break e}}ji(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ey,lastRenderedState:i},a.queue=l,a=Ey.bind(null,Re,l),l.dispatch=a,l=Nf(!1),f=Pf.bind(null,Re,!1,l.queue),l=on(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=RA.bind(null,Re,d,f,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function ny(t){var i=Tt();return ry(i,Ze,t)}function ry(t,i,a){if(i=If(t,i,ey)[0],t=jc(ri)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=jl(i)}catch(v){throw v===so?Rc:v}else l=i;i=Tt();var d=i.queue,f=d.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,co(9,{destroy:void 0},kA.bind(null,d,a),null)),[l,f,t]}function kA(t,i){t.action=i}function iy(t){var i=Tt(),a=Ze;if(a!==null)return ry(i,a,t);Tt(),i=i.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function co(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=Mc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function sy(){return Tt().memoizedState}function Pc(t,i,a,l){var d=on();Re.flags|=t,d.memoizedState=co(1|i,{destroy:void 0},a,l===void 0?null:l)}function Uc(t,i,a,l){var d=Tt();l=l===void 0?null:l;var f=d.memoizedState.inst;Ze!==null&&l!==null&&Af(l,Ze.memoizedState.deps)?d.memoizedState=co(i,f,a,l):(Re.flags|=t,d.memoizedState=co(1|i,f,a,l))}function ay(t,i){Pc(8390656,8,t,i)}function Of(t,i){Uc(2048,8,t,i)}function IA(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=Mc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function oy(t){var i=Tt().memoizedState;return IA({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ly(t,i){return Uc(4,2,t,i)}function uy(t,i){return Uc(4,4,t,i)}function cy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function hy(t,i,a){a=a!=null?a.concat([t]):null,Uc(4,4,cy.bind(null,i,t),a)}function Lf(){}function dy(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Af(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function fy(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Af(i,l[1]))return l[0];if(l=t(),ea){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,i],l}function Mf(t,i,a){return a===void 0||(ni&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=m1(),Re.lanes|=t,Ki|=t,a)}function my(t,i,a,l){return Tn(a,i)?a:oo.current!==null?(t=Mf(t,a,l),Tn(t,i)||(Ct=!0),t):(ni&42)===0||(ni&1073741824)!==0&&(Oe&261930)===0?(Ct=!0,t.memoizedState=a):(t=m1(),Re.lanes|=t,Ki|=t,i)}function py(t,i,a,l,d){var f=q.p;q.p=f!==0&&8>f?f:8;var v=W.T,A={};W.T=A,Pf(t,!1,i,a);try{var N=d(),H=W.S;if(H!==null&&H(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=SA(N,l);Pl(t,i,X,Rn(t))}else Pl(t,i,l,Rn(t))}catch(ee){Pl(t,i,{then:function(){},status:"rejected",reason:ee},Rn())}finally{q.p=f,v!==null&&A.types!==null&&(v.types=A.types),W.T=v}}function CA(){}function Vf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var d=gy(t).queue;py(t,d,i,de,a===null?CA:function(){return yy(t),a(l)})}function gy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function yy(t){var i=gy(t);i.next===null&&(i=t.alternate.memoizedState),Pl(t,i.next.queue,{},Rn())}function jf(){return Kt(tu)}function vy(){return Tt().memoizedState}function _y(){return Tt().memoizedState}function NA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Rn();t=zi(a);var l=Bi(i,t,a);l!==null&&(pn(l,i,a),Ol(l,i,a)),i={cache:df()},t.payload=i;return}i=i.return}}function DA(t,i,a){var l=Rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},zc(t)?Ty(i,a):(a=ef(t,i,a,l),a!==null&&(pn(a,t,l),by(a,i,l)))}function Ey(t,i,a){var l=Rn();Pl(t,i,a,l)}function Pl(t,i,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(zc(t))Ty(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,A=f(v,a);if(d.hasEagerState=!0,d.eagerState=A,Tn(A,v))return Ec(t,i,d,0),nt===null&&_c(),!1}catch{}if(a=ef(t,i,d,l),a!==null)return pn(a,t,l),by(a,i,l),!0}return!1}function Pf(t,i,a,l){if(l={lane:2,revertLane:gm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zc(t)){if(i)throw Error(s(479))}else i=ef(t,a,l,2),i!==null&&pn(i,t,2)}function zc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function Ty(t,i){lo=Oc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function by(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,al(t,a)}}var Ul={readContext:Kt,use:Vc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Ul.useEffectEvent=dt;var Ay={readContext:Kt,use:Vc,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:ay,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Pc(4194308,4,cy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Pc(4194308,4,t,i)},useInsertionEffect:function(t,i){Pc(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(ea){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var d=a(i);if(ea){Dn(!0);try{a(i)}finally{Dn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=DA.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=Nf(t);var i=t.queue,a=Ey.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Lf,useDeferredValue:function(t,i){var a=on();return Mf(a,t,i)},useTransition:function(){var t=Nf(!1);return t=py.bind(null,Re,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,d=on();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(Oe&127)!==0||F0(l,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,ay(K0.bind(null,l,f,t),[t]),l.flags|=2048,co(9,{destroy:void 0},G0.bind(null,l,f,a,i),null),a},useId:function(){var t=on(),i=nt.identifierPrefix;if(Pe){var a=Mr,l=Lr;a=(l&~(1<<32-vt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Lc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=wA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:jf,useFormState:ty,useActionState:ty,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Pf.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:kf,useCacheRefresh:function(){return on().memoizedState=NA.bind(null,Re)},useEffectEvent:function(t){var i=on(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Uf={readContext:Kt,use:Vc,useCallback:dy,useContext:Kt,useEffect:Of,useImperativeHandle:hy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:fy,useReducer:jc,useRef:sy,useState:function(){return jc(ri)},useDebugValue:Lf,useDeferredValue:function(t,i){var a=Tt();return my(a,Ze.memoizedState,t,i)},useTransition:function(){var t=jc(ri)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:jl(t),i]},useSyncExternalStore:q0,useId:vy,useHostTransitionStatus:jf,useFormState:ny,useActionState:ny,useOptimistic:function(t,i){var a=Tt();return Y0(a,Ze,t,i)},useMemoCache:kf,useCacheRefresh:_y};Uf.useEffectEvent=oy;var Sy={readContext:Kt,use:Vc,useCallback:dy,useContext:Kt,useEffect:Of,useImperativeHandle:hy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:fy,useReducer:Cf,useRef:sy,useState:function(){return Cf(ri)},useDebugValue:Lf,useDeferredValue:function(t,i){var a=Tt();return Ze===null?Mf(a,t,i):my(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Cf(ri)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:jl(t),i]},useSyncExternalStore:q0,useId:vy,useHostTransitionStatus:jf,useFormState:iy,useActionState:iy,useOptimistic:function(t,i){var a=Tt();return Ze!==null?Y0(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:_y};Sy.useEffectEvent=oy;function zf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Bf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Rn(),d=zi(l);d.payload=i,a!=null&&(d.callback=a),i=Bi(t,d,l),i!==null&&(pn(i,t,l),Ol(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Rn(),d=zi(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Bi(t,d,l),i!==null&&(pn(i,t,l),Ol(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Rn(),l=zi(a);l.tag=2,i!=null&&(l.callback=i),i=Bi(t,l,a),i!==null&&(pn(i,t,a),Ol(i,t,a))}};function wy(t,i,a,l,d,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):i.prototype&&i.prototype.isPureReactComponent?!wl(a,l)||!wl(d,f):!0}function xy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Bf.enqueueReplaceState(i,i.state,null)}function ta(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function Ry(t){vc(t)}function ky(t){console.error(t)}function Iy(t){vc(t)}function Bc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Cy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Hf(t,i,a){return a=zi(a),a.tag=3,a.payload={element:null},a.callback=function(){Bc(t,i)},a}function Ny(t){return t=zi(t),t.tag=3,t}function Dy(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){Cy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Cy(i,a,l),typeof d!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function OA(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&no(i,a,d,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?Jc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===kc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),fm(t,l,d)),!1;case 22:return a.flags|=65536,l===kc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),fm(t,l,d)),!1}throw Error(s(435,a.tag))}return fm(t,l,d),Jc(),!1}if(Pe)return i=An.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==of&&(t=Error(s(422),{cause:l}),kl(Pn(t,a)))):(l!==of&&(i=Error(s(423),{cause:l}),kl(Pn(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Pn(l,a),d=Hf(t.stateNode,l,d),vf(t,d),ft!==4&&(ft=2)),!1;var f=Error(s(520),{cause:l});if(f=Pn(f,a),Ql===null?Ql=[f]:Ql.push(f),ft!==4&&(ft=2),i===null)return!0;l=Pn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Hf(a.stateNode,l,t),vf(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Qi===null||!Qi.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Ny(d),Dy(d,t,a,l),vf(a,d),!1}a=a.return}while(a!==null);return!1}var qf=Error(s(461)),Ct=!1;function Qt(t,i,a,l){i.child=t===null?V0(i,null,a,l):Js(i,t.child,a,l)}function Oy(t,i,a,l,d){a=a.render;var f=i.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return Ys(i),l=Sf(t,i,a,v,f,d),A=wf(),t!==null&&!Ct?(xf(t,i,d),ii(t,i,d)):(Pe&&A&&sf(i),i.flags|=1,Qt(t,i,l,d),i.child)}function Ly(t,i,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!tf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,My(t,i,f,l,d)):(t=bc(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Xf(t,d)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:wl,a(v,l)&&t.ref===i.ref)return ii(t,i,d)}return i.flags|=1,t=Zr(f,l),t.ref=i.ref,t.return=i,i.child=t}function My(t,i,a,l,d){if(t!==null){var f=t.memoizedProps;if(wl(f,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=f,Xf(t,d))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,ii(t,i,d)}return Ff(t,i,a,l,d)}function Vy(t,i,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,i.child=null;return jy(t,i,f,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&xc(i,f!==null?f.cachePool:null),f!==null?U0(i,f):Ef(),z0(i);else return l=i.lanes=536870912,jy(t,i,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(xc(i,f.cachePool),U0(i,f),qi(),i.memoizedState=null):(t!==null&&xc(i,null),Ef(),qi());return Qt(t,i,d,a),i.child}function zl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function jy(t,i,a,l,d){var f=mf();return f=f===null?null:{parent:kt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&xc(i,null),Ef(),z0(i),t!==null&&no(t,i,l,!0),i.childLanes=d,null}function Hc(t,i){return i=Fc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Py(t,i,a){return Js(i,t.child,null,a),t=Hc(i,i.pendingProps),t.flags|=2,Sn(i),i.memoizedState=null,t}function LA(t,i,a){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Hc(i,l),i.lanes=536870912,zl(null,t);if(bf(i),(t=it)?(t=W1(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:Lr,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},a=T0(t),a.return=i,i.child=a,Gt=i,it=null)):t=null,t===null)throw ji(i);return i.lanes=536870912,null}return Hc(i,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(bf(i),d)if(i.flags&256)i.flags&=-257,i=Py(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ct||no(t,i,a,!1),d=(a&t.childLanes)!==0,Ct||d){if(l=nt,l!==null&&(v=ol(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,Gs(t,v),pn(l,t,v),qf;Jc(),i=Py(t,i,a)}else t=f.treeContext,it=qn(v.nextSibling),Gt=i,Pe=!0,Vi=null,Bn=!1,t!==null&&S0(i,t),i=Hc(i,l),i.flags|=4096;return i}return t=Zr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function qc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Ff(t,i,a,l,d){return Ys(i),a=Sf(t,i,a,l,void 0,d),l=wf(),t!==null&&!Ct?(xf(t,i,d),ii(t,i,d)):(Pe&&l&&sf(i),i.flags|=1,Qt(t,i,a,d),i.child)}function Uy(t,i,a,l,d,f){return Ys(i),i.updateQueue=null,a=H0(i,l,a,d),B0(t),l=wf(),t!==null&&!Ct?(xf(t,i,f),ii(t,i,f)):(Pe&&l&&sf(i),i.flags|=1,Qt(t,i,a,f),i.child)}function zy(t,i,a,l,d){if(Ys(i),i.stateNode===null){var f=Za,v=a.contextType;typeof v=="object"&&v!==null&&(f=Kt(v)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Bf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},gf(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?Kt(v):Za,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(zf(i,a,v,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Bf.enqueueReplaceState(f,f.state,null),Ml(i,l,f,d),Ll(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var A=i.memoizedProps,N=ta(a,A);f.props=N;var H=f.context,X=a.contextType;v=Za,typeof X=="object"&&X!==null&&(v=Kt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof f.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(A||H!==v)&&xy(i,f,l,v),Ui=!1;var F=i.memoizedState;f.state=F,Ml(i,l,f,d),Ll(),H=i.memoizedState,A||F!==H||Ui?(typeof ee=="function"&&(zf(i,a,ee,l),H=i.memoizedState),(N=Ui||wy(i,a,N,l,F,H,v))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),f.props=l,f.state=H,f.context=v,l=N):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,yf(t,i),v=i.memoizedProps,X=ta(a,v),f.props=X,ee=i.pendingProps,F=f.context,H=a.contextType,N=Za,typeof H=="object"&&H!==null&&(N=Kt(H)),A=a.getDerivedStateFromProps,(H=typeof A=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==ee||F!==N)&&xy(i,f,l,N),Ui=!1,F=i.memoizedState,f.state=F,Ml(i,l,f,d),Ll();var $=i.memoizedState;v!==ee||F!==$||Ui||t!==null&&t.dependencies!==null&&Sc(t.dependencies)?(typeof A=="function"&&(zf(i,a,A,l),$=i.memoizedState),(X=Ui||wy(i,a,X,l,F,$,N)||t!==null&&t.dependencies!==null&&Sc(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,$,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,$,N)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),f.props=l,f.state=$,f.context=N,l=X):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,qc(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=Js(i,t.child,null,d),i.child=Js(i,null,a,d)):Qt(t,i,a,d),i.memoizedState=f.state,t=i.child):t=ii(t,i,d),t}function By(t,i,a,l){return Qs(),i.flags|=256,Qt(t,i,a,l),i.child}var Gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(t){return{baseLanes:t,cachePool:C0()}}function Qf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=xn),t}function Hy(t,i,a){var l=i.pendingProps,d=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),v&&(d=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(d?Hi(i):qi(),(t=it)?(t=W1(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:Lr,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},a=T0(t),a.return=i,i.child=a,Gt=i,it=null)):t=null,t===null)throw ji(i);return Im(t)?i.lanes=32:i.lanes=536870912,null}var A=l.children;return l=l.fallback,d?(qi(),d=i.mode,A=Fc({mode:"hidden",children:A},d),l=Ks(l,d,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,l=i.child,l.memoizedState=Kf(a),l.childLanes=Qf(t,v,a),i.memoizedState=Gf,zl(null,l)):(Hi(i),$f(i,A))}var N=t.memoizedState;if(N!==null&&(A=N.dehydrated,A!==null)){if(f)i.flags&256?(Hi(i),i.flags&=-257,i=Yf(t,i,a)):i.memoizedState!==null?(qi(),i.child=t.child,i.flags|=128,i=null):(qi(),A=l.fallback,d=i.mode,l=Fc({mode:"visible",children:l.children},d),A=Ks(A,d,a,null),A.flags|=2,l.return=i,A.return=i,l.sibling=A,i.child=l,Js(i,t.child,null,a),l=i.child,l.memoizedState=Kf(a),l.childLanes=Qf(t,v,a),i.memoizedState=Gf,i=zl(null,l));else if(Hi(i),Im(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(s(419)),l.stack="",l.digest=v,kl({value:l,source:null,stack:null}),i=Yf(t,i,a)}else if(Ct||no(t,i,a,!1),v=(a&t.childLanes)!==0,Ct||v){if(v=nt,v!==null&&(l=ol(v,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Gs(t,l),pn(v,t,l),qf;km(A)||Jc(),i=Yf(t,i,a)}else km(A)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,it=qn(A.nextSibling),Gt=i,Pe=!0,Vi=null,Bn=!1,t!==null&&S0(i,t),i=$f(i,l.children),i.flags|=4096);return i}return d?(qi(),A=l.fallback,d=i.mode,N=t.child,H=N.sibling,l=Zr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?A=Zr(H,A):(A=Ks(A,d,a,null),A.flags|=2),A.return=i,l.return=i,l.sibling=A,i.child=l,zl(null,l),l=i.child,A=t.child.memoizedState,A===null?A=Kf(a):(d=A.cachePool,d!==null?(N=kt._currentValue,d=d.parent!==N?{parent:N,pool:N}:d):d=C0(),A={baseLanes:A.baseLanes|a,cachePool:d}),l.memoizedState=A,l.childLanes=Qf(t,v,a),i.memoizedState=Gf,zl(t.child,l)):(Hi(i),a=t.child,t=a.sibling,a=Zr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function $f(t,i){return i=Fc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Fc(t,i){return t=bn(22,t,null,i),t.lanes=0,t}function Yf(t,i,a){return Js(i,t.child,null,a),t=$f(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function qy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),cf(t.return,i,a)}function Wf(t,i,a,l,d,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=d,v.treeForkCount=f)}function Fy(t,i,a){var l=i.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var v=Et.current,A=(v&2)!==0;if(A?(v=v&1|2,i.flags|=128):v&=1,le(Et,v),Qt(t,i,l,a),l=Pe?Rl:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qy(t,a,i);else if(t.tag===19)qy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&Dc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Wf(i,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Dc(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Wf(i,!0,a,null,f,l);break;case"together":Wf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ii(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ki|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(no(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Zr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Zr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Xf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Sc(t)))}function MA(t,i,a){switch(i.tag){case 3:Mt(i,i.stateNode.containerInfo),Pi(i,kt,t.memoizedState.cache),Qs();break;case 27:case 5:Rs(i);break;case 4:Mt(i,i.stateNode.containerInfo);break;case 10:Pi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,bf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Hi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Hy(t,i,a):(Hi(i),t=ii(t,i,a),t!==null?t.sibling:null);Hi(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(no(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return Fy(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),le(Et,Et.current),l)break;return null;case 22:return i.lanes=0,Vy(t,i,a,i.pendingProps);case 24:Pi(i,kt,t.memoizedState.cache)}return ii(t,i,a)}function Gy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!Xf(t,a)&&(i.flags&128)===0)return Ct=!1,MA(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,Pe&&(i.flags&1048576)!==0&&A0(i,Rl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Xs(i.elementType),i.type=t,typeof t=="function")tf(t)?(l=ta(t,l),i.tag=1,i=zy(null,i,t,l,a)):(i.tag=0,i=Ff(null,i,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===se){i.tag=11,i=Oy(null,i,t,l,a);break e}else if(d===I){i.tag=14,i=Ly(null,i,t,l,a);break e}}throw i=We(t)||t,Error(s(306,i,""))}}return i;case 0:return Ff(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=ta(l,i.pendingProps),zy(t,i,l,d,a);case 3:e:{if(Mt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;d=f.element,yf(t,i),Ml(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Pi(i,kt,l),l!==f.cache&&hf(i,[kt],a,!0),Ll(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=By(t,i,l,a);break e}else if(l!==d){d=Pn(Error(s(424)),i),kl(d),i=By(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,it=qn(t.firstChild),Gt=i,Pe=!0,Vi=null,Bn=!0,a=V0(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Qs(),l===d){i=ii(t,i,a);break e}Qt(t,i,l,a)}i=i.child}return i;case 26:return qc(t,i),t===null?(a=nv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=ah(ke.current).createElement(a),l[wt]=i,l[Ut]=t,$t(l,a,t),xt(l),i.stateNode=l):i.memoizedState=nv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Rs(i),t===null&&Pe&&(l=i.stateNode=J1(i.type,i.pendingProps,ke.current),Gt=i,Bn=!0,d=it,Xi(i.type)?(Cm=d,it=qn(l.firstChild)):it=d),Qt(t,i,i.pendingProps.children,a),qc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((d=l=it)&&(l=hS(l,i.type,i.pendingProps,Bn),l!==null?(i.stateNode=l,Gt=i,it=qn(l.firstChild),Bn=!1,d=!0):d=!1),d||ji(i)),Rs(i),d=i.type,f=i.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,wm(d,f)?l=null:v!==null&&wm(d,v)&&(i.flags|=32),i.memoizedState!==null&&(d=Sf(t,i,xA,null,null,a),tu._currentValue=d),qc(t,i),Qt(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=it)&&(a=dS(a,i.pendingProps,Bn),a!==null?(i.stateNode=a,Gt=i,it=null,t=!0):t=!1),t||ji(i)),null;case 13:return Hy(t,i,a);case 4:return Mt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Js(i,null,l,a):Qt(t,i,l,a),i.child;case 11:return Oy(t,i,i.type,i.pendingProps,a);case 7:return Qt(t,i,i.pendingProps,a),i.child;case 8:return Qt(t,i,i.pendingProps.children,a),i.child;case 12:return Qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Pi(i,i.type,l.value),Qt(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,Ys(i),d=Kt(d),l=l(d),i.flags|=1,Qt(t,i,l,a),i.child;case 14:return Ly(t,i,i.type,i.pendingProps,a);case 15:return My(t,i,i.type,i.pendingProps,a);case 19:return Fy(t,i,a);case 31:return LA(t,i,a);case 22:return Vy(t,i,a,i.pendingProps);case 24:return Ys(i),l=Kt(kt),t===null?(d=mf(),d===null&&(d=nt,f=df(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),i.memoizedState={parent:l,cache:d},gf(i),Pi(i,kt,d)):((t.lanes&a)!==0&&(yf(t,i),Ml(i,null,null,a),Ll()),d=t.memoizedState,f=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Pi(i,kt,l)):(l=f.cache,Pi(i,kt,l),l!==d.cache&&hf(i,[kt],a,!0))),Qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function si(t){t.flags|=4}function Zf(t,i,a,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(v1())t.flags|=8192;else throw Zs=kc,pf}else t.flags&=-16777217}function Ky(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ov(i))if(v1())t.flags|=8192;else throw Zs=kc,pf}function Gc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Xu():536870912,t.lanes|=i,po|=i)}function Bl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function VA(t,i,a){var l=i.pendingProps;switch(af(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ti(kt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(to(i)?si(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lf())),st(i),null;case 26:var d=i.type,f=i.memoizedState;return t===null?(si(i),f!==null?(st(i),Ky(i,f)):(st(i),Zf(i,d,null,l,a))):f?f!==t.memoizedState?(si(i),st(i),Ky(i,f)):(st(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&si(i),st(i),Zf(i,d,t,l,a)),null;case 27:if(Oa(i),a=ke.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&si(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=fe.current,to(i)?w0(i):(t=J1(d,l,a),i.stateNode=t,si(i))}return st(i),null;case 5:if(Oa(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&si(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(f=fe.current,to(i))w0(i);else{var v=ah(ke.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}f[wt]=i,f[Ut]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=f;e:switch($t(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&si(i)}}return st(i),Zf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&si(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ke.current,to(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=Gt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[wt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||H1(t.nodeValue,a)),t||ji(i,!0)}else t=ah(t).createTextNode(l),t[wt]=i,i.stateNode=t}return st(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=to(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[wt]=i}else Qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),t=!1}else a=lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Sn(i),i):(Sn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=to(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[wt]=i}else Qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),d=!1}else d=lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Sn(i),i):(Sn(i),null)}return Sn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Gc(i,i.updateQueue),st(i),null);case 4:return at(),t===null&&Em(i.stateNode.containerInfo),st(i),null;case 10:return ti(i.type),st(i),null;case 19:if(te(Et),l=i.memoizedState,l===null)return st(i),null;if(d=(i.flags&128)!==0,f=l.rendering,f===null)if(d)Bl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Dc(t),f!==null){for(i.flags|=128,Bl(l,!1),t=f.updateQueue,i.updateQueue=t,Gc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)E0(a,t),a=a.sibling;return le(Et,Et.current&1|2),Pe&&Jr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&sn()>Wc&&(i.flags|=128,d=!0,Bl(l,!1),i.lanes=4194304)}else{if(!d)if(t=Dc(f),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,Gc(i,t),Bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Pe)return st(i),null}else 2*sn()-l.renderingStartTime>Wc&&a!==536870912&&(i.flags|=128,d=!0,Bl(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(t=l.last,t!==null?t.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,a=Et.current,le(Et,d?a&1|2:a&1),Pe&&Jr(i,l.treeForkCount),t):(st(i),null);case 22:case 23:return Sn(i),Tf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&Gc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&te(Ws),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ti(kt),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function jA(t,i){switch(af(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ti(kt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Oa(i),null;case 31:if(i.memoizedState!==null){if(Sn(i),i.alternate===null)throw Error(s(340));Qs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Sn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Qs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(Et),null;case 4:return at(),null;case 10:return ti(i.type),null;case 22:case 23:return Sn(i),Tf(),t!==null&&te(Ws),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ti(kt),null;case 25:return null;default:return null}}function Qy(t,i){switch(af(i),i.tag){case 3:ti(kt),at();break;case 26:case 27:case 5:Oa(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Sn(i);break;case 13:Sn(i);break;case 19:te(Et);break;case 10:ti(i.type);break;case 22:case 23:Sn(i),Tf(),t!==null&&te(Ws);break;case 24:ti(kt)}}function Hl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==d)}}catch(A){Ye(i,i.return,A)}}function Fi(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,d=i;var N=a,H=A;try{H()}catch(X){Ye(d,N,X)}}}l=l.next}while(l!==f)}}catch(X){Ye(i,i.return,X)}}function $y(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{P0(i,a)}catch(l){Ye(t,t.return,l)}}}function Yy(t,i,a){a.props=ta(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function ql(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){Ye(t,i,d)}}function Vr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Ye(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Ye(t,i,d)}else a.current=null}function Wy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Ye(t,t.return,d)}}function Jf(t,i,a){try{var l=t.stateNode;sS(l,t.type,a,i),l[Ut]=i}catch(d){Ye(t,t.return,d)}}function Xy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xi(t.type)||t.tag===4}function em(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tm(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Jn));else if(l!==4&&(l===27&&Xi(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(tm(t,i,a),t=t.sibling;t!==null;)tm(t,i,a),t=t.sibling}function Kc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Xi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Kc(t,i,a),t=t.sibling;t!==null;)Kc(t,i,a),t=t.sibling}function Zy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);$t(i,l,a),i[wt]=t,i[Ut]=a}catch(f){Ye(t,t.return,f)}}var ai=!1,Nt=!1,nm=!1,Jy=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function PA(t,i){if(t=t.containerInfo,Am=fh,t=h0(t),$d(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,A=-1,N=-1,H=0,X=0,ee=t,F=null;t:for(;;){for(var $;ee!==a||d!==0&&ee.nodeType!==3||(A=v+d),ee!==f||l!==0&&ee.nodeType!==3||(N=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),($=ee.firstChild)!==null;)F=ee,ee=$;for(;;){if(ee===t)break t;if(F===a&&++H===d&&(A=v),F===f&&++X===l&&(N=v),($=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=$}a=A===-1||N===-1?null:{start:A,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sm={focusedElem:t,selectionRange:a},fh=!1,Bt=i;Bt!==null;)if(i=Bt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Bt=t;else for(;Bt!==null;){switch(i=Bt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var me=ta(a.type,d);t=l.getSnapshotBeforeUpdate(me,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ye(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Rm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Bt=t;break}Bt=i.return}}function e1(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:li(t,a),l&4&&Hl(5,a);break;case 1:if(li(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Ye(a,a.return,v)}else{var d=ta(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ye(a,a.return,v)}}l&64&&$y(a),l&512&&ql(a,a.return);break;case 3:if(li(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{P0(t,i)}catch(v){Ye(a,a.return,v)}}break;case 27:i===null&&l&4&&Zy(a);case 26:case 5:li(t,a),i===null&&l&4&&Wy(a),l&512&&ql(a,a.return);break;case 12:li(t,a);break;case 31:li(t,a),l&4&&r1(t,a);break;case 13:li(t,a),l&4&&i1(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=QA.bind(null,a),fS(t,a))));break;case 22:if(l=a.memoizedState!==null||ai,!l){i=i!==null&&i.memoizedState!==null||Nt,d=ai;var f=Nt;ai=l,(Nt=i)&&!f?ui(t,a,(a.subtreeFlags&8772)!==0):li(t,a),ai=d,Nt=f}break;case 30:break;default:li(t,a)}}function t1(t){var i=t.alternate;i!==null&&(t.alternate=null,t1(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Pa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,hn=!1;function oi(t,i,a){for(a=a.child;a!==null;)n1(t,i,a),a=a.sibling}function n1(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Nt||Vr(a,i),oi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Vr(a,i);var l=lt,d=hn;Xi(a.type)&&(lt=a.stateNode,hn=!1),oi(t,i,a),Zl(a.stateNode),lt=l,hn=d;break;case 5:Nt||Vr(a,i);case 6:if(l=lt,d=hn,lt=null,oi(t,i,a),lt=l,hn=d,lt!==null)if(hn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){Ye(a,i,f)}else try{lt.removeChild(a.stateNode)}catch(f){Ye(a,i,f)}break;case 18:lt!==null&&(hn?(t=lt,$1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ao(t)):$1(lt,a.stateNode));break;case 4:l=lt,d=hn,lt=a.stateNode.containerInfo,hn=!0,oi(t,i,a),lt=l,hn=d;break;case 0:case 11:case 14:case 15:Fi(2,a,i),Nt||Fi(4,a,i),oi(t,i,a);break;case 1:Nt||(Vr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Yy(a,i,l)),oi(t,i,a);break;case 21:oi(t,i,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,oi(t,i,a),Nt=l;break;default:oi(t,i,a)}}function r1(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ao(t)}catch(a){Ye(i,i.return,a)}}}function i1(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ao(t)}catch(a){Ye(i,i.return,a)}}function UA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Jy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Jy),i;default:throw Error(s(435,t.tag))}}function Qc(t,i){var a=UA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var d=$A.bind(null,t,l);l.then(d,d)}})}function dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(Xi(A.type)){lt=A.stateNode,hn=!1;break e}break;case 5:lt=A.stateNode,hn=!1;break e;case 3:case 4:lt=A.stateNode.containerInfo,hn=!0;break e}A=A.return}if(lt===null)throw Error(s(160));n1(f,v,d),lt=null,hn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)s1(i,t),i=i.sibling}var sr=null;function s1(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),fn(t),l&4&&(Fi(3,t,t.return),Hl(3,t),Fi(5,t,t.return));break;case 1:dn(i,t),fn(t),l&512&&(Nt||a===null||Vr(a,a.return)),l&64&&ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=sr;if(dn(i,t),fn(t),l&512&&(Nt||a===null||Vr(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[br]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),$t(f,l,a),f[wt]=t,xt(f),l=f;break e;case"link":var v=sv("link","href",d).get(l+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(f=v[A],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break t}}f=d.createElement(l),$t(f,l,a),d.head.appendChild(f);break;case"meta":if(v=sv("meta","content",d).get(l+(a.content||""))){for(A=0;A<v.length;A++)if(f=v[A],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break t}}f=d.createElement(l),$t(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[wt]=t,xt(f),l=f}t.stateNode=l}else av(d,t.type,t.stateNode);else t.stateNode=iv(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?av(d,t.type,t.stateNode):iv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(i,t),fn(t),l&512&&(Nt||a===null||Vr(a,a.return)),a!==null&&l&4&&Jf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,t),fn(t),l&512&&(Nt||a===null||Vr(a,a.return)),t.flags&32){d=t.stateNode;try{cn(d,"")}catch(me){Ye(t,t.return,me)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Jf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(nm=!0);break;case 6:if(dn(i,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){Ye(t,t.return,me)}}break;case 3:if(uh=null,d=sr,sr=oh(i.containerInfo),dn(i,t),sr=d,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ao(i.containerInfo)}catch(me){Ye(t,t.return,me)}nm&&(nm=!1,a1(t));break;case 4:l=sr,sr=oh(t.stateNode.containerInfo),dn(i,t),fn(t),sr=l;break;case 12:dn(i,t),fn(t);break;case 31:dn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qc(t,l)));break;case 13:dn(i,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Yc=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qc(t,l)));break;case 22:d=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=ai,X=Nt;if(ai=H||d,Nt=X||N,dn(i,t),Nt=X,ai=H,fn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||N||ai||Nt||na(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(f=N.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=N.stateNode;var ee=N.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;A.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(me){Ye(N,N.return,me)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(me){Ye(N,N.return,me)}}}else if(i.tag===18){if(a===null){N=i;try{var $=N.stateNode;d?Y1($,!0):Y1(N.stateNode,!1)}catch(me){Ye(N,N.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qc(t,a))));break;case 19:dn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qc(t,l)));break;case 30:break;case 21:break;default:dn(i,t),fn(t)}}function fn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Xy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=em(t);Kc(t,f,d);break;case 5:var v=a.stateNode;a.flags&32&&(cn(v,""),a.flags&=-33);var A=em(t);Kc(t,A,v);break;case 3:case 4:var N=a.stateNode.containerInfo,H=em(t);tm(t,H,N);break;default:throw Error(s(161))}}catch(X){Ye(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function a1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;a1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function li(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)e1(t,i.alternate,i),i=i.sibling}function na(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Fi(4,i,i.return),na(i);break;case 1:Vr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Yy(i,i.return,a),na(i);break;case 27:Zl(i.stateNode);case 26:case 5:Vr(i,i.return),na(i);break;case 22:i.memoizedState===null&&na(i);break;case 30:na(i);break;default:na(i)}t=t.sibling}}function ui(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:ui(d,f,a),Hl(4,f);break;case 1:if(ui(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){Ye(l,l.return,H)}if(l=f,d=l.updateQueue,d!==null){var A=l.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)j0(N[d],A)}catch(H){Ye(l,l.return,H)}}a&&v&64&&$y(f),ql(f,f.return);break;case 27:Zy(f);case 26:case 5:ui(d,f,a),a&&l===null&&v&4&&Wy(f),ql(f,f.return);break;case 12:ui(d,f,a);break;case 31:ui(d,f,a),a&&v&4&&r1(d,f);break;case 13:ui(d,f,a),a&&v&4&&i1(d,f);break;case 22:f.memoizedState===null&&ui(d,f,a),ql(f,f.return);break;case 30:break;default:ui(d,f,a)}i=i.sibling}}function rm(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Il(a))}function im(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Il(t))}function ar(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)o1(t,i,a,l),i=i.sibling}function o1(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:ar(t,i,a,l),d&2048&&Hl(9,i);break;case 1:ar(t,i,a,l);break;case 3:ar(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Il(t)));break;case 12:if(d&2048){ar(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,v=f.id,A=f.onPostCommit;typeof A=="function"&&A(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ye(i,i.return,N)}}else ar(t,i,a,l);break;case 31:ar(t,i,a,l);break;case 13:ar(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?ar(t,i,a,l):Fl(t,i):f._visibility&2?ar(t,i,a,l):(f._visibility|=2,ho(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&rm(v,i);break;case 24:ar(t,i,a,l),d&2048&&im(i.alternate,i);break;default:ar(t,i,a,l)}}function ho(t,i,a,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,v=i,A=a,N=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:ho(f,v,A,N,d),Hl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?ho(f,v,A,N,d):Fl(f,v):(X._visibility|=2,ho(f,v,A,N,d)),d&&H&2048&&rm(v.alternate,v);break;case 24:ho(f,v,A,N,d),d&&H&2048&&im(v.alternate,v);break;default:ho(f,v,A,N,d)}i=i.sibling}}function Fl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:Fl(a,l),d&2048&&rm(l.alternate,l);break;case 24:Fl(a,l),d&2048&&im(l.alternate,l);break;default:Fl(a,l)}i=i.sibling}}var Gl=8192;function fo(t,i,a){if(t.subtreeFlags&Gl)for(t=t.child;t!==null;)l1(t,i,a),t=t.sibling}function l1(t,i,a){switch(t.tag){case 26:fo(t,i,a),t.flags&Gl&&t.memoizedState!==null&&wS(a,sr,t.memoizedState,t.memoizedProps);break;case 5:fo(t,i,a);break;case 3:case 4:var l=sr;sr=oh(t.stateNode.containerInfo),fo(t,i,a),sr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Gl,Gl=16777216,fo(t,i,a),Gl=l):fo(t,i,a));break;default:fo(t,i,a)}}function u1(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Kl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,h1(l,t)}u1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)c1(t),t=t.sibling}function c1(t){switch(t.tag){case 0:case 11:case 15:Kl(t),t.flags&2048&&Fi(9,t,t.return);break;case 3:Kl(t);break;case 12:Kl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,$c(t)):Kl(t);break;default:Kl(t)}}function $c(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,h1(l,t)}u1(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Fi(8,i,i.return),$c(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,$c(i));break;default:$c(i)}t=t.sibling}}function h1(t,i){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Fi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var d=l.sibling,f=l.return;if(t1(l),l===a){Bt=null;break e}if(d!==null){d.return=f,Bt=d;break e}Bt=f}}}var zA={getCacheForType:function(t){var i=Kt(kt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Kt(kt).controller.signal}},BA=typeof WeakMap=="function"?WeakMap:Map,Ge=0,nt=null,Ne=null,Oe=0,$e=0,wn=null,Gi=!1,mo=!1,sm=!1,ci=0,ft=0,Ki=0,ra=0,am=0,xn=0,po=0,Ql=null,mn=null,om=!1,Yc=0,d1=0,Wc=1/0,Xc=null,Qi=null,jt=0,$i=null,go=null,hi=0,lm=0,um=null,f1=null,$l=0,cm=null;function Rn(){return(Ge&2)!==0&&Oe!==0?Oe&-Oe:W.T!==null?gm():Zu()}function m1(){if(xn===0)if((Oe&536870912)===0||Pe){var t=Cs;Cs<<=1,(Cs&3932160)===0&&(Cs=262144),xn=t}else xn=536870912;return t=An.current,t!==null&&(t.flags|=32),xn}function pn(t,i,a){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(yo(t,0),Yi(t,Oe,xn,!1)),Ns(t,a),((Ge&2)===0||t!==nt)&&(t===nt&&((Ge&2)===0&&(ra|=a),ft===4&&Yi(t,Oe,xn,!1)),jr(t))}function p1(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Wn(t,i),d=l?FA(t,i):dm(t,i,!0),f=l;do{if(d===0){mo&&!l&&Yi(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!HA(a)){d=dm(t,i,!1),f=!1;continue}if(d===2){if(f=i,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var A=t;d=Ql;var N=A.current.memoizedState.isDehydrated;if(N&&(yo(A,v).flags|=256),v=dm(A,v,!1),v!==2){if(sm&&!N){A.errorRecoveryDisabledLanes|=f,ra|=f,d=4;break e}f=mn,mn=d,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){yo(t,0),Yi(t,i,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Yi(l,i,xn,!Gi);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=Yc+300-sn(),10<d)){if(Yi(l,i,xn,!Gi),_r(l,0,!0)!==0)break e;hi=i,l.timeoutHandle=K1(g1.bind(null,l,a,mn,Xc,om,i,xn,ra,po,Gi,f,"Throttled",-0,0),d);break e}g1(l,a,mn,Xc,om,i,xn,ra,po,Gi,f,null,-0,0)}}break}while(!0);jr(t)}function g1(t,i,a,l,d,f,v,A,N,H,X,ee,F,$){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},l1(i,f,ee);var me=(f&62914560)===f?Yc-sn():(f&4194048)===f?d1-sn():0;if(me=xS(ee,me),me!==null){hi=f,t.cancelPendingCommit=me(S1.bind(null,t,i,f,a,l,d,v,A,N,X,ee,null,F,$)),Yi(t,f,v,!H);return}}S1(t,i,f,a,l,d,v,A,N)}function HA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!Tn(f(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yi(t,i,a,l){i&=~am,i&=~ra,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var f=31-vt(d),v=1<<f;l[f]=-1,d&=~v}a!==0&&Ds(t,a,i)}function Zc(){return(Ge&6)===0?(Yl(0),!1):!0}function hm(){if(Ne!==null){if($e===0)var t=Ne.return;else t=Ne,ei=$s=null,Rf(t),ao=null,Nl=0,t=Ne;for(;t!==null;)Qy(t.alternate,t),t=t.return;Ne=null}}function yo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,lS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hi=0,hm(),nt=t,Ne=a=Zr(t.current,null),Oe=i,$e=0,wn=null,Gi=!1,mo=Wn(t,i),sm=!1,po=xn=am=ra=Ki=ft=0,mn=Ql=null,om=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-vt(l),f=1<<d;i|=t[d],l&=~f}return ci=i,_c(),a}function y1(t,i){Re=null,W.H=Ul,i===so||i===Rc?(i=O0(),$e=3):i===pf?(i=O0(),$e=4):$e=i===qf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wn=i,Ne===null&&(ft=1,Bc(t,Pn(i,t.current)))}function v1(){var t=An.current;return t===null?!0:(Oe&4194048)===Oe?Hn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Hn:!1}function _1(){var t=W.H;return W.H=Ul,t===null?Ul:t}function E1(){var t=W.A;return W.A=zA,t}function Jc(){ft=4,Gi||(Oe&4194048)!==Oe&&An.current!==null||(mo=!0),(Ki&134217727)===0&&(ra&134217727)===0||nt===null||Yi(nt,Oe,xn,!1)}function dm(t,i,a){var l=Ge;Ge|=2;var d=_1(),f=E1();(nt!==t||Oe!==i)&&(Xc=null,yo(t,i)),i=!1;var v=ft;e:do try{if($e!==0&&Ne!==null){var A=Ne,N=wn;switch($e){case 8:hm(),v=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(i=!0);var H=$e;if($e=0,wn=null,vo(t,A,N,H),a&&mo){v=0;break e}break;default:H=$e,$e=0,wn=null,vo(t,A,N,H)}}qA(),v=ft;break}catch(X){y1(t,X)}while(!0);return i&&t.shellSuspendCounter++,ei=$s=null,Ge=l,W.H=d,W.A=f,Ne===null&&(nt=null,Oe=0,_c()),v}function qA(){for(;Ne!==null;)T1(Ne)}function FA(t,i){var a=Ge;Ge|=2;var l=_1(),d=E1();nt!==t||Oe!==i?(Xc=null,Wc=sn()+500,yo(t,i)):mo=Wn(t,i);e:do try{if($e!==0&&Ne!==null){i=Ne;var f=wn;t:switch($e){case 1:$e=0,wn=null,vo(t,i,f,1);break;case 2:case 9:if(N0(f)){$e=0,wn=null,b1(i);break}i=function(){$e!==2&&$e!==9||nt!==t||($e=7),jr(t)},f.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:N0(f)?($e=0,wn=null,b1(i)):($e=0,wn=null,vo(t,i,f,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var A=Ne;if(v?ov(v):A.stateNode.complete){$e=0,wn=null;var N=A.sibling;if(N!==null)Ne=N;else{var H=A.return;H!==null?(Ne=H,eh(H)):Ne=null}break t}}$e=0,wn=null,vo(t,i,f,5);break;case 6:$e=0,wn=null,vo(t,i,f,6);break;case 8:hm(),ft=6;break e;default:throw Error(s(462))}}GA();break}catch(X){y1(t,X)}while(!0);return ei=$s=null,W.H=l,W.A=d,Ge=a,Ne!==null?0:(nt=null,Oe=0,_c(),ft)}function GA(){for(;Ne!==null&&!Bd();)T1(Ne)}function T1(t){var i=Gy(t.alternate,t,ci);t.memoizedProps=t.pendingProps,i===null?eh(t):Ne=i}function b1(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Uy(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=Uy(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:Rf(i);default:Qy(a,i),i=Ne=E0(i,ci),i=Gy(a,i,ci)}t.memoizedProps=t.pendingProps,i===null?eh(t):Ne=i}function vo(t,i,a,l){ei=$s=null,Rf(i),ao=null,Nl=0;var d=i.return;try{if(OA(t,d,i,a,Oe)){ft=1,Bc(t,Pn(a,t.current)),Ne=null;return}}catch(f){if(d!==null)throw Ne=d,f;ft=1,Bc(t,Pn(a,t.current)),Ne=null;return}i.flags&32768?(Pe||l===1?t=!0:mo||(Oe&536870912)!==0?t=!1:(Gi=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),A1(i,t)):eh(i)}function eh(t){var i=t;do{if((i.flags&32768)!==0){A1(i,Gi);return}t=i.return;var a=VA(i.alternate,i,ci);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ft===0&&(ft=5)}function A1(t,i){do{var a=jA(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ft=6,Ne=null}function S1(t,i,a,l,d,f,v,A,N){t.cancelPendingCommit=null;do th();while(jt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Jd,Fd(t,a,f,v,A,N),t===nt&&(Ne=nt=null,Oe=0),go=i,$i=t,hi=a,lm=f,um=d,f1=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,YA(wi,function(){return I1(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,d=q.p,q.p=2,v=Ge,Ge|=4;try{PA(t,i,a)}finally{Ge=v,q.p=d,W.T=l}}jt=1,w1(),x1(),R1()}}function w1(){if(jt===1){jt=0;var t=$i,i=go,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=q.p;q.p=2;var d=Ge;Ge|=4;try{s1(i,t);var f=Sm,v=h0(t.containerInfo),A=f.focusedElem,N=f.selectionRange;if(v!==A&&A&&A.ownerDocument&&c0(A.ownerDocument.documentElement,A)){if(N!==null&&$d(A)){var H=N.start,X=N.end;if(X===void 0&&(X=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min(X,A.value.length);else{var ee=A.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var $=F.getSelection(),me=A.textContent.length,_e=Math.min(N.start,me),et=N.end===void 0?_e:Math.min(N.end,me);!$.extend&&_e>et&&(v=et,et=_e,_e=v);var U=u0(A,_e),M=u0(A,et);if(U&&M&&($.rangeCount!==1||$.anchorNode!==U.node||$.anchorOffset!==U.offset||$.focusNode!==M.node||$.focusOffset!==M.offset)){var B=ee.createRange();B.setStart(U.node,U.offset),$.removeAllRanges(),_e>et?($.addRange(B),$.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),$.addRange(B))}}}}for(ee=[],$=A;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ee.length;A++){var Z=ee[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}fh=!!Am,Sm=Am=null}finally{Ge=d,q.p=l,W.T=a}}t.current=i,jt=2}}function x1(){if(jt===2){jt=0;var t=$i,i=go,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=q.p;q.p=2;var d=Ge;Ge|=4;try{e1(t,i.alternate,i)}finally{Ge=d,q.p=l,W.T=a}}jt=3}}function R1(){if(jt===4||jt===3){jt=0,Gu();var t=$i,i=go,a=hi,l=f1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,go=$i=null,k1(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Qi=null),$r(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Yn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,d=q.p,q.p=2,W.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var A=l[v];f(A.value,{componentStack:A.stack})}}finally{W.T=i,q.p=d}}(hi&3)!==0&&th(),jr(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===cm?$l++:($l=0,cm=t):$l=0,Yl(0)}}function k1(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Il(i)))}function th(){return w1(),x1(),R1(),I1()}function I1(){if(jt!==5)return!1;var t=$i,i=lm;lm=0;var a=$r(hi),l=W.T,d=q.p;try{q.p=32>a?32:a,W.T=null,a=um,um=null;var f=$i,v=hi;if(jt=0,go=$i=null,hi=0,(Ge&6)!==0)throw Error(s(331));var A=Ge;if(Ge|=4,c1(f.current),o1(f,f.current,v,a),Ge=A,Yl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Yn,f)}catch{}return!0}finally{q.p=d,W.T=l,k1(t,i)}}function C1(t,i,a){i=Pn(a,i),i=Hf(t.stateNode,i,2),t=Bi(t,i,2),t!==null&&(Ns(t,2),jr(t))}function Ye(t,i,a){if(t.tag===3)C1(t,t,a);else for(;i!==null;){if(i.tag===3){C1(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Qi===null||!Qi.has(l))){t=Pn(a,t),a=Ny(2),l=Bi(i,a,2),l!==null&&(Dy(a,l,i,t),Ns(l,2),jr(l));break}}i=i.return}}function fm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new BA;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(sm=!0,d.add(a),t=KA.bind(null,t,i,a),i.then(t,t))}function KA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Oe&a)===a&&(ft===4||ft===3&&(Oe&62914560)===Oe&&300>sn()-Yc?(Ge&2)===0&&yo(t,0):am|=a,po===Oe&&(po=0)),jr(t)}function N1(t,i){i===0&&(i=Xu()),t=Gs(t,i),t!==null&&(Ns(t,i),jr(t))}function QA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),N1(t,a)}function $A(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),N1(t,a)}function YA(t,i){return Vt(t,i)}var nh=null,_o=null,mm=!1,rh=!1,pm=!1,Wi=0;function jr(t){t!==_o&&t.next===null&&(_o===null?nh=_o=t:_o=_o.next=t),rh=!0,mm||(mm=!0,XA())}function Yl(t,i){if(!pm&&rh){pm=!0;do for(var a=!1,l=nh;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var v=l.suspendedLanes,A=l.pingedLanes;f=(1<<31-vt(42|t)+1)-1,f&=d&~(v&~A),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,M1(l,f))}else f=Oe,f=_r(l,l===nt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Wn(l,f)||(a=!0,M1(l,f));l=l.next}while(a);pm=!1}}function WA(){D1()}function D1(){rh=mm=!1;var t=0;Wi!==0&&oS()&&(t=Wi);for(var i=sn(),a=null,l=nh;l!==null;){var d=l.next,f=O1(l,i);f===0?(l.next=null,a===null?nh=d:a.next=d,d===null&&(_o=a)):(a=l,(t!==0||(f&3)!==0)&&(rh=!0)),l=d}jt!==0&&jt!==5||Yl(t),Wi!==0&&(Wi=0)}function O1(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-vt(f),A=1<<v,N=d[v];N===-1?((A&a)===0||(A&l)!==0)&&(d[v]=qd(A,i)):N<=i&&(t.expiredLanes|=A),f&=~A}if(i=nt,a=Oe,a=_r(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Si(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Si(l),$r(a)){case 2:case 8:a=sl;break;case 32:a=wi;break;case 268435456:a=Ku;break;default:a=wi}return l=L1.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Si(l),t.callbackPriority=2,t.callbackNode=null,2}function L1(t,i){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(th()&&t.callbackNode!==a)return null;var l=Oe;return l=_r(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(p1(t,l,i),O1(t,sn()),t.callbackNode!=null&&t.callbackNode===a?L1.bind(null,t):null)}function M1(t,i){if(th())return null;p1(t,i,!0)}function XA(){uS(function(){(Ge&6)!==0?Vt(il,WA):D1()})}function gm(){if(Wi===0){var t=ro;t===0&&(t=yr,yr<<=1,(yr&261888)===0&&(yr=256)),Wi=t}return Wi}function V1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ha(""+t)}function j1(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ZA(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var f=V1((d[Ut]||null).action),v=l.submitter;v&&(i=(i=v[Ut]||null)?V1(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var A=new Cr("action","action",null,l,d);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Wi!==0){var N=v?j1(d,v):new FormData(d);Vf(a,{pending:!0,data:N,method:d.method,action:f},null,N)}}else typeof f=="function"&&(A.preventDefault(),N=v?j1(d,v):new FormData(d),Vf(a,{pending:!0,data:N,method:d.method,action:f},f,N))},currentTarget:d}]})}}for(var ym=0;ym<Zd.length;ym++){var vm=Zd[ym],JA=vm.toLowerCase(),eS=vm[0].toUpperCase()+vm.slice(1);ir(JA,"on"+eS)}ir(m0,"onAnimationEnd"),ir(p0,"onAnimationIteration"),ir(g0,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(gA,"onTransitionRun"),ir(yA,"onTransitionStart"),ir(vA,"onTransitionCancel"),ir(y0,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function P1(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var v=l.length-1;0<=v;v--){var A=l[v],N=A.instance,H=A.currentTarget;if(A=A.listener,N!==f&&d.isPropagationStopped())break e;f=A,d.currentTarget=H;try{f(d)}catch(X){vc(X)}d.currentTarget=null,f=N}else for(v=0;v<l.length;v++){if(A=l[v],N=A.instance,H=A.currentTarget,A=A.listener,N!==f&&d.isPropagationStopped())break e;f=A,d.currentTarget=H;try{f(d)}catch(X){vc(X)}d.currentTarget=null,f=N}}}}function De(t,i){var a=i[ja];a===void 0&&(a=i[ja]=new Set);var l=t+"__bubble";a.has(l)||(U1(i,t,2,!1),a.add(l))}function _m(t,i,a){var l=0;i&&(l|=4),U1(a,t,l,i)}var ih="_reactListening"+Math.random().toString(36).slice(2);function Em(t){if(!t[ih]){t[ih]=!0,ll.forEach(function(a){a!=="selectionchange"&&(tS.has(a)||_m(a,!1,t),_m(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ih]||(i[ih]=!0,_m("selectionchange",!1,i))}}function U1(t,i,a,l){switch(mv(i)){case 2:var d=IS;break;case 8:d=CS;break;default:d=Mm}a=d.bind(null,i,a,t),d=void 0,!js||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function Tm(t,i,a,l,d){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===d)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;A!==null;){if(v=Ar(A),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=f=v;continue e}A=A.parentNode}}l=l.return}Ni(function(){var H=f,X=Ln(a),ee=[];e:{var F=v0.get(t);if(F!==void 0){var $=Cr,me=t;switch(t){case"keypress":if(Us(a)===0)break e;case"keydown":case"keyup":$=pc;break;case"focusin":me="focus",$=Bs;break;case"focusout":me="blur",$=Bs;break;case"beforeblur":case"afterblur":$=Bs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case m0:case p0:case g0:$=lc;break;case y0:$=w;break;case"scroll":case"scrollend":$=El;break;case"wheel":$=K;break;case"copy":case"cut":case"paste":$=uc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Xr;break;case"toggle":case"beforetoggle":$=xe}var _e=(i&4)!==0,et=!_e&&(t==="scroll"||t==="scrollend"),U=_e?F!==null?F+"Capture":null:F;_e=[];for(var M=H,B;M!==null;){var Z=M;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||U===null||(Z=er(M,U),Z!=null&&_e.push(Xl(M,Z,B))),et)break;M=M.return}0<_e.length&&(F=new $(F,me,null,a,X),ee.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",F&&a!==yl&&(me=a.relatedTarget||a.fromElement)&&(Ar(me)||me[Tr]))break e;if(($||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,$?(me=a.relatedTarget||a.toElement,$=H,me=me?Ar(me):null,me!==null&&(et=u(me),_e=me.tag,me!==et||_e!==5&&_e!==27&&_e!==6)&&(me=null)):($=null,me=H),$!==me)){if(_e=Tl,Z="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Xr,Z="onPointerLeave",U="onPointerEnter",M="pointer"),et=$==null?F:_n($),B=me==null?F:_n(me),F=new _e(Z,M+"leave",$,a,X),F.target=et,F.relatedTarget=B,Z=null,Ar(X)===H&&(_e=new _e(U,M+"enter",me,a,X),_e.target=B,_e.relatedTarget=et,Z=_e),et=Z,$&&me)t:{for(_e=nS,U=$,M=me,B=0,Z=U;Z;Z=_e(Z))B++;Z=0;for(var ye=M;ye;ye=_e(ye))Z++;for(;0<B-Z;)U=_e(U),B--;for(;0<Z-B;)M=_e(M),Z--;for(;B--;){if(U===M||M!==null&&U===M.alternate){_e=U;break t}U=_e(U),M=_e(M)}_e=null}else _e=null;$!==null&&z1(ee,F,$,_e,!1),me!==null&&et!==null&&z1(ee,et,me,_e,!0)}}e:{if(F=H?_n(H):window,$=F.nodeName&&F.nodeName.toLowerCase(),$==="select"||$==="input"&&F.type==="file")var He=r0;else if(t0(F))if(i0)He=fA;else{He=hA;var pe=cA}else $=F.nodeName,!$||$.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Ba(H.elementType)&&(He=r0):He=dA;if(He&&(He=He(t,H))){n0(ee,He,a,X);break e}pe&&pe(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&ml(F,"number",F.value)}switch(pe=H?_n(H):window,t){case"focusin":(t0(pe)||pe.contentEditable==="true")&&(Ya=pe,Yd=H,xl=null);break;case"focusout":xl=Yd=Ya=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":Wd=!1,d0(ee,a,X);break;case"selectionchange":if(pA)break;case"keydown":case"keyup":d0(ee,a,X)}var Ie;if(Fe)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else $a?Hs(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Or&&a.locale!=="ko"&&($a||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&$a&&(Ie=_l()):(Ir=X,vl="value"in Ir?Ir.value:Ir.textContent,$a=!0)),pe=sh(H,Le),0<pe.length&&(Le=new Dr(Le,t,null,a,X),ee.push({event:Le,listeners:pe}),Ie?Le.data=Ie:(Ie=Qa(a),Ie!==null&&(Le.data=Ie)))),(Ie=Vn?aA(t,a):oA(t,a))&&(Le=sh(H,"onBeforeInput"),0<Le.length&&(pe=new Dr("onBeforeInput","beforeinput",null,a,X),ee.push({event:pe,listeners:Le}),pe.data=Ie)),ZA(ee,t,H,a,X)}P1(ee,i)})}function Xl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function sh(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=er(t,a),d!=null&&l.unshift(Xl(t,d,f)),d=er(t,i),d!=null&&l.push(Xl(t,d,f))),t.tag===3)return l;t=t.return}return[]}function nS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function z1(t,i,a,l,d){for(var f=i._reactName,v=[];a!==null&&a!==l;){var A=a,N=A.alternate,H=A.stateNode;if(A=A.tag,N!==null&&N===l)break;A!==5&&A!==26&&A!==27||H===null||(N=H,d?(H=er(a,f),H!=null&&v.unshift(Xl(a,H,N))):d||(H=er(a,f),H!=null&&v.push(Xl(a,H,N)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var rS=/\r\n?/g,iS=/\u0000|\uFFFD/g;function B1(t){return(typeof t=="string"?t:""+t).replace(rS,`
`).replace(iS,"")}function H1(t,i){return i=B1(i),B1(t)===i}function Je(t,i,a,l,d,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&cn(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,l);break;case"style":gl(t,l,f);break;case"data":if(i!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ha(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",d.name,d,null),Je(t,i,"formEncType",d.formEncType,d,null),Je(t,i,"formMethod",d.formMethod,d,null),Je(t,i,"formTarget",d.formTarget,d,null)):(Je(t,i,"encType",d.encType,d,null),Je(t,i,"method",d.method,d,null),Je(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ha(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),Ua(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ua(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=sc.get(a)||a,Ua(t,a,l))}}function bm(t,i,a,l,d,f){switch(a){case"style":gl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ul.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),f=t[Ut]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ua(t,a,l)}}}function $t(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,f,v,a,null)}}d&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var A=f=v=d=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":d=X;break;case"type":v=X;break;case"checked":N=X;break;case"defaultChecked":H=X;break;case"value":f=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Je(t,i,l,X,a,null)}}nc(t,f,A,N,H,v,d,!1);return;case"select":De("invalid",t),l=v=f=null;for(d in a)if(a.hasOwnProperty(d)&&(A=a[d],A!=null))switch(d){case"value":f=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:Je(t,i,d,A,a,null)}i=f,a=v,t.multiple=!!l,i!=null?Ri(t,!!l,i,!1):a!=null&&Ri(t,!!l,a,!0);return;case"textarea":De("invalid",t),f=d=l=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":d=A;break;case"children":f=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Je(t,i,v,A,a,null)}ki(t,l,d,f);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,i,N,l,a,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<Wl.length;l++)De(Wl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,H,l,a,null)}return;default:if(Ba(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&bm(t,i,X,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Je(t,i,A,l,a,null))}function sS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,A=null,N=null,H=null,X=null;for($ in a){var ee=a[$];if(a.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty($)||Je(t,i,$,null,l,ee)}}for(var F in l){var $=l[F];if(ee=a[F],l.hasOwnProperty(F)&&($!=null||ee!=null))switch(F){case"type":f=$;break;case"name":d=$;break;case"checked":H=$;break;case"defaultChecked":X=$;break;case"value":v=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==ee&&Je(t,i,F,$,l,ee)}}za(t,v,A,N,H,X,f,d);return;case"select":$=v=A=F=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":$=N;default:l.hasOwnProperty(f)||Je(t,i,f,null,l,N)}for(d in l)if(f=l[d],N=a[d],l.hasOwnProperty(d)&&(f!=null||N!=null))switch(d){case"value":F=f;break;case"defaultValue":A=f;break;case"multiple":v=f;default:f!==N&&Je(t,i,d,f,l,N)}i=A,a=v,l=$,F!=null?Ri(t,!!a,F,!1):!!l!=!!a&&(i!=null?Ri(t,!!a,i,!0):Ri(t,!!a,a?[]:"",!1));return;case"textarea":$=F=null;for(A in a)if(d=a[A],a.hasOwnProperty(A)&&d!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Je(t,i,A,null,l,d)}for(v in l)if(d=l[v],f=a[v],l.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":F=d;break;case"defaultValue":$=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&Je(t,i,v,d,l,f)}rc(t,F,$);return;case"option":for(var me in a)F=a[me],a.hasOwnProperty(me)&&F!=null&&!l.hasOwnProperty(me)&&(me==="selected"?t.selected=!1:Je(t,i,me,null,l,F));for(N in l)F=l[N],$=a[N],l.hasOwnProperty(N)&&F!==$&&(F!=null||$!=null)&&(N==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":Je(t,i,N,F,l,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&Je(t,i,_e,null,l,F);for(H in l)if(F=l[H],$=a[H],l.hasOwnProperty(H)&&F!==$&&(F!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Je(t,i,H,F,l,$)}return;default:if(Ba(i)){for(var et in a)F=a[et],a.hasOwnProperty(et)&&F!==void 0&&!l.hasOwnProperty(et)&&bm(t,i,et,void 0,l,F);for(X in l)F=l[X],$=a[X],!l.hasOwnProperty(X)||F===$||F===void 0&&$===void 0||bm(t,i,X,F,l,$);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&Je(t,i,U,null,l,F);for(ee in l)F=l[ee],$=a[ee],!l.hasOwnProperty(ee)||F===$||F==null&&$==null||Je(t,i,ee,F,l,$)}function q1(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,v=d.initiatorType,A=d.duration;if(f&&A&&q1(v)){for(v=0,A=d.responseEnd,l+=1;l<a.length;l++){var N=a[l],H=N.startTime;if(H>A)break;var X=N.transferSize,ee=N.initiatorType;X&&q1(ee)&&(N=N.responseEnd,v+=X*(N<A?1:(A-H)/(N-H)))}if(--l,i+=8*(f+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Am=null,Sm=null;function ah(t){return t.nodeType===9?t:t.ownerDocument}function F1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G1(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function wm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xm=null;function oS(){var t=window.event;return t&&t.type==="popstate"?t===xm?!1:(xm=t,!0):(xm=null,!1)}var K1=typeof setTimeout=="function"?setTimeout:void 0,lS=typeof clearTimeout=="function"?clearTimeout:void 0,Q1=typeof Promise=="function"?Promise:void 0,uS=typeof queueMicrotask=="function"?queueMicrotask:typeof Q1<"u"?function(t){return Q1.resolve(null).then(t).catch(cS)}:K1;function cS(t){setTimeout(function(){throw t})}function Xi(t){return t==="head"}function $1(t,i){var a=i,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),Ao(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Zl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Zl(a);for(var f=a.firstChild;f;){var v=f.nextSibling,A=f.nodeName;f[br]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Zl(t.ownerDocument.body);a=d}while(a);Ao(i)}function Y1(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Rm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rm(a),Pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function hS(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[br])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function dS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function W1(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=qn(t.nextSibling),t===null))return null;return t}function km(t){return t.data==="$?"||t.data==="$~"}function Im(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function fS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Cm=null;function X1(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return qn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Z1(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function J1(t,i,a){switch(i=ah(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Zl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Pa(t)}var Fn=new Map,ev=new Set;function oh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var di=q.d;q.d={f:mS,r:pS,D:gS,C:yS,L:vS,m:_S,X:TS,S:ES,M:bS};function mS(){var t=di.f(),i=Zc();return t||i}function pS(t){var i=On(t);i!==null&&i.tag===5&&i.type==="form"?yy(i):di.r(t)}var Eo=typeof document>"u"?null:document;function tv(t,i,a){var l=Eo;if(l&&typeof i=="string"&&i){var d=un(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),ev.has(d)||(ev.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),$t(i,"link",t),xt(i),l.head.appendChild(i)))}}function gS(t){di.D(t),tv("dns-prefetch",t,null)}function yS(t,i){di.C(t,i),tv("preconnect",t,i)}function vS(t,i,a){di.L(t,i,a);var l=Eo;if(l&&t&&i){var d='link[rel="preload"][as="'+un(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+un(a.imageSizes)+'"]')):d+='[href="'+un(t)+'"]';var f=d;switch(i){case"style":f=To(t);break;case"script":f=bo(t)}Fn.has(f)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Fn.set(f,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(Jl(f))||i==="script"&&l.querySelector(eu(f))||(i=l.createElement("link"),$t(i,"link",t),xt(i),l.head.appendChild(i)))}}function _S(t,i){di.m(t,i);var a=Eo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=bo(t)}if(!Fn.has(f)&&(t=b({rel:"modulepreload",href:t},i),Fn.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(eu(f)))return}l=a.createElement("link"),$t(l,"link",t),xt(l),a.head.appendChild(l)}}}function ES(t,i,a){di.S(t,i,a);var l=Eo;if(l&&t){var d=Sr(l).hoistableStyles,f=To(t);i=i||"default";var v=d.get(f);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(Jl(f)))A.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Fn.get(f))&&Nm(t,a);var N=v=l.createElement("link");xt(N),$t(N,"link",t),N._p=new Promise(function(H,X){N.onload=H,N.onerror=X}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,lh(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:A},d.set(f,v)}}}function TS(t,i){di.X(t,i);var a=Eo;if(a&&t){var l=Sr(a).hoistableScripts,d=bo(t),f=l.get(d);f||(f=a.querySelector(eu(d)),f||(t=b({src:t,async:!0},i),(i=Fn.get(d))&&Dm(t,i),f=a.createElement("script"),xt(f),$t(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function bS(t,i){di.M(t,i);var a=Eo;if(a&&t){var l=Sr(a).hoistableScripts,d=bo(t),f=l.get(d);f||(f=a.querySelector(eu(d)),f||(t=b({src:t,async:!0,type:"module"},i),(i=Fn.get(d))&&Dm(t,i),f=a.createElement("script"),xt(f),$t(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function nv(t,i,a,l){var d=(d=ke.current)?oh(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=To(a.href),a=Sr(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=To(a.href);var f=Sr(d).hoistableStyles,v=f.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=d.querySelector(Jl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),f||AS(d,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=bo(a),a=Sr(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function To(t){return'href="'+un(t)+'"'}function Jl(t){return'link[rel="stylesheet"]['+t+"]"}function rv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function AS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),$t(i,"link",a),xt(i),t.head.appendChild(i))}function bo(t){return'[src="'+un(t)+'"]'}function eu(t){return"script[async]"+t}function iv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return i.instance=l,xt(l),l;var d=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),$t(l,"style",d),lh(l,a.precedence,t),i.instance=l;case"stylesheet":d=To(a.href);var f=t.querySelector(Jl(d));if(f)return i.state.loading|=4,i.instance=f,xt(f),f;l=rv(a),(d=Fn.get(d))&&Nm(l,d),f=(t.ownerDocument||t).createElement("link"),xt(f);var v=f;return v._p=new Promise(function(A,N){v.onload=A,v.onerror=N}),$t(f,"link",l),i.state.loading|=4,lh(f,a.precedence,t),i.instance=f;case"script":return f=bo(a.src),(d=t.querySelector(eu(f)))?(i.instance=d,xt(d),d):(l=a,(d=Fn.get(f))&&(l=b({},a),Dm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),xt(d),$t(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,lh(l,a.precedence,t));return i.instance}function lh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===i)f=A;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Dm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var uh=null;function sv(t,i,a){if(uh===null){var l=new Map,d=uh=new Map;d.set(a,l)}else d=uh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[br]||f[wt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=t+v;var A=l.get(v);A?A.push(f):l.set(v,[f])}}return l}function av(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function SS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ov(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function wS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=To(l.href),f=i.querySelector(Jl(d));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=ch.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,xt(f);return}f=i.ownerDocument||i,l=rv(l),(d=Fn.get(d))&&Nm(l,d),f=f.createElement("link"),xt(f);var v=f;v._p=new Promise(function(A,N){v.onload=A,v.onerror=N}),$t(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ch.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Om=0;function xS(t,i){return t.stylesheets&&t.count===0&&dh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&dh(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Om===0&&(Om=62500*aS());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&dh(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Om?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function ch(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hh=null;function dh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hh=new Map,i.forEach(RS,t),hh=null,ch.call(t))}function RS(t,i){if(!(i.state.loading&4)){var a=hh.get(t);if(a)var l=a.get(null);else{a=new Map,hh.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}d=i.instance,v=d.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,d),a.set(v,d),this.count++,l=ch.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var tu={$$typeof:ae,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function kS(t,i,a,l,d,f,v,A,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Er(0),this.hiddenUpdates=Er(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function lv(t,i,a,l,d,f,v,A,N,H,X,ee){return t=new kS(t,i,a,v,N,H,X,ee,A),i=1,f===!0&&(i|=24),f=bn(3,null,null,i),t.current=f,f.stateNode=t,i=df(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},gf(f),t}function uv(t){return t?(t=Za,t):Za}function cv(t,i,a,l,d,f){d=uv(d),l.context===null?l.context=d:l.pendingContext=d,l=zi(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Bi(t,l,i),a!==null&&(pn(a,t,i),Ol(a,t,i))}function hv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Lm(t,i){hv(t,i),(t=t.alternate)&&hv(t,i)}function dv(t){if(t.tag===13||t.tag===31){var i=Gs(t,67108864);i!==null&&pn(i,t,67108864),Lm(t,67108864)}}function fv(t){if(t.tag===13||t.tag===31){var i=Rn();i=Os(i);var a=Gs(t,i);a!==null&&pn(a,t,i),Lm(t,i)}}var fh=!0;function IS(t,i,a,l){var d=W.T;W.T=null;var f=q.p;try{q.p=2,Mm(t,i,a,l)}finally{q.p=f,W.T=d}}function CS(t,i,a,l){var d=W.T;W.T=null;var f=q.p;try{q.p=8,Mm(t,i,a,l)}finally{q.p=f,W.T=d}}function Mm(t,i,a,l){if(fh){var d=Vm(l);if(d===null)Tm(t,i,l,mh,a),pv(t,l);else if(DS(d,t,i,a,l))l.stopPropagation();else if(pv(t,l),i&4&&-1<NS.indexOf(t)){for(;d!==null;){var f=On(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=vr(f.pendingLanes);if(v!==0){var A=f;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var N=1<<31-vt(v);A.entanglements[1]|=N,v&=~N}jr(f),(Ge&6)===0&&(Wc=sn()+500,Yl(0))}}break;case 31:case 13:A=Gs(f,2),A!==null&&pn(A,f,2),Zc(),Lm(f,2)}if(f=Vm(l),f===null&&Tm(t,i,l,mh,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else Tm(t,i,l,null,a)}}function Vm(t){return t=Ln(t),jm(t)}var mh=null;function jm(t){if(mh=null,t=Ar(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return mh=t,null}function mv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Is()){case il:return 2;case sl:return 8;case wi:case Hd:return 32;case Ku:return 268435456;default:return 32}default:return 32}}var Pm=!1,Zi=null,Ji=null,es=null,nu=new Map,ru=new Map,ts=[],NS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pv(t,i){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":nu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(i.pointerId)}}function iu(t,i,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},i!==null&&(i=On(i),i!==null&&dv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function DS(t,i,a,l,d){switch(i){case"focusin":return Zi=iu(Zi,t,i,a,l,d),!0;case"dragenter":return Ji=iu(Ji,t,i,a,l,d),!0;case"mouseover":return es=iu(es,t,i,a,l,d),!0;case"pointerover":var f=d.pointerId;return nu.set(f,iu(nu.get(f)||null,t,i,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,ru.set(f,iu(ru.get(f)||null,t,i,a,l,d)),!0}return!1}function gv(t){var i=Ar(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Xn(t.priority,function(){fv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Xn(t.priority,function(){fv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ph(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Vm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);yl=l,a.target.dispatchEvent(l),yl=null}else return i=On(a),i!==null&&dv(i),t.blockedOn=a,!1;i.shift()}return!0}function yv(t,i,a){ph(t)&&a.delete(i)}function OS(){Pm=!1,Zi!==null&&ph(Zi)&&(Zi=null),Ji!==null&&ph(Ji)&&(Ji=null),es!==null&&ph(es)&&(es=null),nu.forEach(yv),ru.forEach(yv)}function gh(t,i){t.blockedOn===i&&(t.blockedOn=null,Pm||(Pm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,OS)))}var yh=null;function vv(t){yh!==t&&(yh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){yh===t&&(yh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(jm(l||a)===null)continue;break}var f=On(a);f!==null&&(t.splice(i,3),i-=3,Vf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Ao(t){function i(N){return gh(N,t)}Zi!==null&&gh(Zi,t),Ji!==null&&gh(Ji,t),es!==null&&gh(es,t),nu.forEach(i),ru.forEach(i);for(var a=0;a<ts.length;a++){var l=ts[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ts.length&&(a=ts[0],a.blockedOn===null);)gv(a),a.blockedOn===null&&ts.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],v=d[Ut]||null;if(typeof f=="function")v||vv(a);else if(v){var A=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[Ut]||null)A=v.formAction;else if(jm(d)!==null)continue}else A=v.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),vv(a)}}}function _v(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function Um(t){this._internalRoot=t}vh.prototype.render=Um.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Rn();cv(a,l,t,i,null,null)},vh.prototype.unmount=Um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;cv(t.current,2,null,t,null,null),Zc(),i[Tr]=null}};function vh(t){this._internalRoot=t}vh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Zu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ts.length&&i!==0&&i<ts[a].priority;a++);ts.splice(a,0,t),a===0&&gv(t)}};var Ev=e.version;if(Ev!=="19.2.3")throw Error(s(527,Ev,"19.2.3"));q.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var LS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{Yn=_h.inject(LS),qt=_h}catch{}}return au.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",d=Ry,f=ky,v=Iy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=lv(t,1,!1,null,null,a,l,null,d,f,v,_v),t[Tr]=i.current,Em(t),new Um(i)},au.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,d="",f=Ry,v=ky,A=Iy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=lv(t,1,!0,i,a??null,l,d,N,f,v,A,_v),i.context=uv(null),a=i.current,l=Rn(),l=Os(l),d=zi(l),d.callback=null,Bi(a,d,l),a=l,i.current.lanes=a,Ns(i,a),jr(i),t[Tr]=i.current,Em(t),new vh(i)},au.version="19.2.3",au}var Cv;function GS(){if(Cv)return Hm.exports;Cv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hm.exports=FS(),Hm.exports}var KS=GS();var Nv="popstate";function QS(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return hp("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Tu(o)}return YS(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Qn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $S(){return Math.random().toString(36).substring(2,10)}function Dv(r,e){return{usr:r.state,key:r.key,idx:e}}function hp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?qo(e):e,state:n,key:e&&e.key||s||$S()}}function Tu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function qo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function YS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,p=E();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function E(){return(h.state||{idx:null}).idx}function b(){m="POP";let Q=E(),ie=Q==null?null:Q-p;p=Q,g&&g({action:m,location:Y.location,delta:ie})}function x(Q,ie){m="PUSH";let re=hp(Y.location,Q,ie);p=E()+1;let ae=Dv(re,p),se=Y.createHref(re);try{h.pushState(ae,"",se)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;o.location.assign(se)}u&&g&&g({action:m,location:Y.location,delta:1})}function L(Q,ie){m="REPLACE";let re=hp(Y.location,Q,ie);p=E();let ae=Dv(re,p),se=Y.createHref(re);h.replaceState(ae,"",se),u&&g&&g({action:m,location:Y.location,delta:0})}function G(Q){return WS(Q)}let Y={get action(){return m},get location(){return r(o,h)},listen(Q){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Nv,b),g=Q,()=>{o.removeEventListener(Nv,b),g=null}},createHref(Q){return e(o,Q)},createURL:G,encodeLocation(Q){let ie=G(Q);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:x,replace:L,go(Q){return h.go(Q)}};return Y}function WS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Tu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function wE(r,e,n="/"){return XS(r,e,n,!1)}function XS(r,e,n,s){let o=typeof e=="string"?qo(e):e,u=vi(o.pathname||"/",n);if(u==null)return null;let h=xE(r);ZS(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=uw(u);m=ow(h[g],p,s)}return m}function xE(r,e=[],n=[],s="",o=!1){let u=(h,m,g=o,p)=>{let E={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=gi([s,E.relativePath]),x=n.concat(E);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),xE(h.children,e,x,b,g)),!(h.path==null&&!h.index)&&e.push({path:b,score:sw(b,h.index),routesMeta:x})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of RE(h.path))u(h,m,!0,g)}),e}function RE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=RE(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function ZS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:aw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var JS=/^:[\w-]+$/,ew=3,tw=2,nw=1,rw=10,iw=-2,Ov=r=>r==="*";function sw(r,e){let n=r.split("/"),s=n.length;return n.some(Ov)&&(s+=iw),e&&(s+=tw),n.filter(o=>!Ov(o)).reduce((o,u)=>o+(JS.test(u)?ew:u===""?nw:rw),s)}function aw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function ow(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),x=g.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=Uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:gi([u,b.pathname]),pathnameBase:fw(gi([u,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(u=gi([u,b.pathnameBase]))}return h}function Uh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=lw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:b},x)=>{if(E==="*"){let G=m[x]||"";h=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const L=m[x];return b&&!L?p[E]=void 0:p[E]=(L||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:r}}function lw(r,e=!1,n=!0){Qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function uw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function vi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var kE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cw=r=>kE.test(r);function hw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?qo(r):r,u;if(n)if(cw(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=Lv(n.substring(1),"/"):u=Lv(n,e)}else u=e;return{pathname:u,search:mw(s),hash:pw(o)}}function Lv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Km(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bp(r){let e=dw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Hp(r,e,n,s=!1){let o;typeof r=="string"?o=qo(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),Km("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Km("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Km("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),b-=1;o.pathname=x.join("/")}m=b>=0?e[b]:"/"}let g=hw(o,m),p=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var gi=r=>r.join("/").replace(/\/\/+/g,"/"),fw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),mw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,pw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,gw=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function yw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function vw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var IE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function CE(r,e){let n=r;if(typeof n!="string"||!kE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(IE)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=vi(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Qn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NE=["POST","PUT","PATCH","DELETE"];new Set(NE);var _w=["GET",...NE];new Set(_w);var Fo=j.createContext(null);Fo.displayName="DataRouter";var cd=j.createContext(null);cd.displayName="DataRouterState";var Ew=j.createContext(!1),DE=j.createContext({isTransitioning:!1});DE.displayName="ViewTransition";var Tw=j.createContext(new Map);Tw.displayName="Fetchers";var bw=j.createContext(null);bw.displayName="Await";var Nn=j.createContext(null);Nn.displayName="Navigation";var Ou=j.createContext(null);Ou.displayName="Location";var Kr=j.createContext({outlet:null,matches:[],isDataRoute:!1});Kr.displayName="Route";var qp=j.createContext(null);qp.displayName="RouteError";var OE="REACT_ROUTER_ERROR",Aw="REDIRECT",Sw="ROUTE_ERROR_RESPONSE";function ww(r){if(r.startsWith(`${OE}:${Aw}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function xw(r){if(r.startsWith(`${OE}:${Sw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new gw(e.status,e.statusText,e.data)}catch{}}function Rw(r,{relative:e}={}){ut(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Nn),{hash:o,pathname:u,search:h}=Lu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:gi([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Go(){return j.useContext(Ou)!=null}function Ai(){return ut(Go(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Ou).location}var LE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ME(r){j.useContext(Nn).static||j.useLayoutEffect(r)}function Fp(){let{isDataRoute:r}=j.useContext(Kr);return r?zw():kw()}function kw(){ut(Go(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(Fo),{basename:e,navigator:n}=j.useContext(Nn),{matches:s}=j.useContext(Kr),{pathname:o}=Ai(),u=JSON.stringify(Bp(s)),h=j.useRef(!1);return ME(()=>{h.current=!0}),j.useCallback((g,p={})=>{if(Qn(h.current,LE),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=Hp(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:gi([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,r])}j.createContext(null);function Lu(r,{relative:e}={}){let{matches:n}=j.useContext(Kr),{pathname:s}=Ai(),o=JSON.stringify(Bp(n));return j.useMemo(()=>Hp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Iw(r,e){return VE(r,e)}function VE(r,e,n,s,o){ut(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(Nn),{matches:h}=j.useContext(Kr),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let re=b&&b.path||"";PE(p,!b||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let x=Ai(),L;if(e){let re=typeof e=="string"?qo(e):e;ut(E==="/"||re.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${re.pathname}" was given in the \`location\` prop.`),L=re}else L=x;let G=L.pathname||"/",Y=G;if(E!=="/"){let re=E.replace(/^\//,"").split("/");Y="/"+G.replace(/^\//,"").split("/").slice(re.length).join("/")}let Q=wE(r,{pathname:Y});Qn(b||Q!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),Qn(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ie=Lw(Q&&Q.map(re=>Object.assign({},re,{params:Object.assign({},g,re.params),pathname:gi([E,u.encodeLocation?u.encodeLocation(re.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?E:gi([E,u.encodeLocation?u.encodeLocation(re.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathnameBase])})),h,n,s,o);return e&&ie?j.createElement(Ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},ie):ie}function Cw(){let r=Uw(),e=yw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,h)}var Nw=j.createElement(Cw,null),jE=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=xw(r.digest);n&&(r=n)}let e=r!==void 0?j.createElement(Kr.Provider,{value:this.props.routeContext},j.createElement(qp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?j.createElement(Dw,{error:r},e):e}};jE.contextType=Ew;var Qm=new WeakMap;function Dw({children:r,error:e}){let{basename:n}=j.useContext(Nn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=ww(e.digest);if(s){let o=Qm.get(e);if(o)throw o;let u=CE(s.location,n);if(IE&&!Qm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Qm.set(e,h),h}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Ow({routeContext:r,match:e,children:n}){let s=j.useContext(Fo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Kr.Provider,{value:r},n)}function Lw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let E=u.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);ut(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let b=u[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=E),b.route.id){let{loaderData:x,errors:L}=n,G=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!L||L[b.route.id]===void 0);if(b.route.lazy||G){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&s?(E,b)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:vw(n.matches),errorInfo:b})}:void 0;return u.reduceRight((E,b,x)=>{let L,G=!1,Y=null,Q=null;n&&(L=h&&b.route.id?h[b.route.id]:void 0,Y=b.route.errorElement||Nw,m&&(g<0&&x===0?(PE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,Q=null):g===x&&(G=!0,Q=b.route.hydrateFallbackElement||null)));let ie=e.concat(u.slice(0,x+1)),re=()=>{let ae;return L?ae=Y:G?ae=Q:b.route.Component?ae=j.createElement(b.route.Component,null):b.route.element?ae=b.route.element:ae=E,j.createElement(Ow,{match:b,routeContext:{outlet:E,matches:ie,isDataRoute:n!=null},children:ae})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?j.createElement(jE,{location:n.location,revalidation:n.revalidation,component:Y,error:L,children:re(),routeContext:{outlet:null,matches:ie,isDataRoute:!0},onError:p}):re()},null)}function Gp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mw(r){let e=j.useContext(Fo);return ut(e,Gp(r)),e}function Vw(r){let e=j.useContext(cd);return ut(e,Gp(r)),e}function jw(r){let e=j.useContext(Kr);return ut(e,Gp(r)),e}function Kp(r){let e=jw(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Pw(){return Kp("useRouteId")}function Uw(){let r=j.useContext(qp),e=Vw("useRouteError"),n=Kp("useRouteError");return r!==void 0?r:e.errors?.[n]}function zw(){let{router:r}=Mw("useNavigate"),e=Kp("useNavigate"),n=j.useRef(!1);return ME(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{Qn(n.current,LE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Mv={};function PE(r,e,n){!e&&!Mv[r]&&(Mv[r]=!0,Qn(!1,n))}j.memo(Bw);function Bw({routes:r,future:e,state:n,onError:s}){return VE(r,void 0,n,s,e)}function UE({to:r,replace:e,state:n,relative:s}){ut(Go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(Nn);Qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(Kr),{pathname:h}=Ai(),m=Fp(),g=Hp(r,Bp(u),h,s==="path"),p=JSON.stringify(g);return j.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function fi(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ut(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=j.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=qo(n));let{pathname:p="/",search:E="",hash:b="",state:x=null,key:L="default"}=n,G=j.useMemo(()=>{let Y=vi(p,m);return Y==null?null:{location:{pathname:Y,search:E,hash:b,state:x,key:L},navigationType:s}},[m,p,E,b,x,L,s]);return Qn(G!=null,`<Router basename="${m}"> is not able to match the URL "${p}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:j.createElement(Nn.Provider,{value:g},j.createElement(Ou.Provider,{children:e,value:G}))}function qw({children:r,location:e}){return Iw(dp(r),e)}function dp(r,e=[]){let n=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){n.push.apply(n,dp(s.props.children,u));return}ut(s.type===fi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=dp(s.props.children,u)),n.push(h)}),n}var Rh="get",kh="application/x-www-form-urlencoded";function hd(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Fw(r){return hd(r)&&r.tagName.toLowerCase()==="button"}function Gw(r){return hd(r)&&r.tagName.toLowerCase()==="form"}function Kw(r){return hd(r)&&r.tagName.toLowerCase()==="input"}function Qw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function $w(r,e){return r.button===0&&(!e||e==="_self")&&!Qw(r)}var Eh=null;function Yw(){if(Eh===null)try{new FormData(document.createElement("form"),0),Eh=!1}catch{Eh=!0}return Eh}var Ww=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $m(r){return r!=null&&!Ww.has(r)?(Qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kh}"`),null):r}function Xw(r,e){let n,s,o,u,h;if(Gw(r)){let m=r.getAttribute("action");s=m?vi(m,e):null,n=r.getAttribute("method")||Rh,o=$m(r.getAttribute("enctype"))||kh,u=new FormData(r)}else if(Fw(r)||Kw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?vi(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Rh,o=$m(r.getAttribute("formenctype"))||$m(m.getAttribute("enctype"))||kh,u=new FormData(m,r),!Yw()){let{name:p,type:E,value:b}=r;if(E==="image"){let x=p?`${p}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else p&&u.append(p,b)}}else{if(hd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rh,s=null,o=kh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Zw(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&vi(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Jw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ex(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function tx(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Jw(u,n);return h.links?h.links():[]}return[]}));return sx(s.flat(1).filter(ex).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Vv(r,e,n,s,o,u){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function nx(r,e,{includeHydrateFallback:n}={}){return rx(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function rx(r){return[...new Set(r)]}function ix(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function sx(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(ix(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function zE(){let r=j.useContext(Fo);return Qp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ax(){let r=j.useContext(cd);return Qp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var $p=j.createContext(void 0);$p.displayName="FrameworkContext";function BE(){let r=j.useContext($p);return Qp(r,"You must render this element inside a <HydratedRouter> element"),r}function ox(r,e){let n=j.useContext($p),[s,o]=j.useState(!1),[u,h]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:b}=e,x=j.useRef(null);j.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Y=ie=>{ie.forEach(re=>{h(re.isIntersecting)})},Q=new IntersectionObserver(Y,{threshold:.5});return x.current&&Q.observe(x.current),()=>{Q.disconnect()}}},[r]),j.useEffect(()=>{if(s){let Y=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let L=()=>{o(!0)},G=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:ou(m,L),onBlur:ou(g,G),onMouseEnter:ou(p,L),onMouseLeave:ou(E,G),onTouchStart:ou(b,L)}]:[!1,x,{}]}function ou(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function lx({page:r,...e}){let{router:n}=zE(),s=j.useMemo(()=>wE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?j.createElement(cx,{page:r,matches:s,...e}):null}function ux(r){let{manifest:e,routeModules:n}=BE(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return tx(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function cx({page:r,matches:e,...n}){let s=Ai(),{future:o,manifest:u,routeModules:h}=BE(),{basename:m}=zE(),{loaderData:g,matches:p}=ax(),E=j.useMemo(()=>Vv(r,e,p,u,s,"data"),[r,e,p,u,s]),b=j.useMemo(()=>Vv(r,e,p,u,s,"assets"),[r,e,p,u,s]),x=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Y=new Set,Q=!1;if(e.forEach(re=>{let ae=u.routes[re.route.id];!ae||!ae.hasLoader||(!E.some(se=>se.route.id===re.route.id)&&re.route.id in g&&h[re.route.id]?.shouldRevalidate||ae.hasClientLoader?Q=!0:Y.add(re.route.id))}),Y.size===0)return[];let ie=Zw(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return Q&&Y.size>0&&ie.searchParams.set("_routes",e.filter(re=>Y.has(re.route.id)).map(re=>re.route.id).join(",")),[ie.pathname+ie.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,e,r,h]),L=j.useMemo(()=>nx(b,u),[b,u]),G=ux(b);return j.createElement(j.Fragment,null,x.map(Y=>j.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...n})),L.map(Y=>j.createElement("link",{key:Y,rel:"modulepreload",href:Y,...n})),G.map(({key:Y,link:Q})=>j.createElement("link",{key:Y,nonce:n.nonce,...Q})))}function hx(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dx&&(window.__reactRouterVersion="7.12.0")}catch{}function fx({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=j.useRef();o.current==null&&(o.current=QS({window:s,v5Compat:!0}));let u=o.current,[h,m]=j.useState({action:u.action,location:u.location}),g=j.useCallback(p=>{n===!1?m(p):j.startTransition(()=>m(p))},[n]);return j.useLayoutEffect(()=>u.listen(g),[u,g]),j.createElement(Hw,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var HE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zh=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:x,...L},G){let{basename:Y,unstable_useTransitions:Q}=j.useContext(Nn),ie=typeof p=="string"&&HE.test(p),re=CE(p,Y);p=re.to;let ae=Rw(p,{relative:o}),[se,ge,he]=ox(s,L),I=yx(p,{replace:h,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:Q});function k(D){e&&e(D),D.defaultPrevented||I(D)}let R=j.createElement("a",{...L,...he,href:re.absoluteURL||ae,onClick:re.isExternal||u?e:k,ref:hx(G,ge),target:g,"data-discover":!ie&&n==="render"?"true":void 0});return se&&!ie?j.createElement(j.Fragment,null,R,j.createElement(lx,{page:ae})):R});zh.displayName="Link";var mx=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},E){let b=Lu(h,{relative:p.relative}),x=Ai(),L=j.useContext(cd),{navigator:G,basename:Y}=j.useContext(Nn),Q=L!=null&&bx(b)&&m===!0,ie=G.encodeLocation?G.encodeLocation(b).pathname:b.pathname,re=x.pathname,ae=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(re=re.toLowerCase(),ae=ae?ae.toLowerCase():null,ie=ie.toLowerCase()),ae&&Y&&(ae=vi(ae,Y)||ae);const se=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let ge=re===ie||!o&&re.startsWith(ie)&&re.charAt(se)==="/",he=ae!=null&&(ae===ie||!o&&ae.startsWith(ie)&&ae.charAt(ie.length)==="/"),I={isActive:ge,isPending:he,isTransitioning:Q},k=ge?e:void 0,R;typeof s=="function"?R=s(I):R=[s,ge?"active":null,he?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(I):u;return j.createElement(zh,{...p,"aria-current":k,className:R,ref:E,style:D,to:h,viewTransition:m},typeof g=="function"?g(I):g)});mx.displayName="NavLink";var px=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Rh,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:x,...L},G)=>{let{unstable_useTransitions:Y}=j.useContext(Nn),Q=Ex(),ie=Tx(m,{relative:p}),re=h.toLowerCase()==="get"?"get":"post",ae=typeof m=="string"&&HE.test(m),se=ge=>{if(g&&g(ge),ge.defaultPrevented)return;ge.preventDefault();let he=ge.nativeEvent.submitter,I=he?.getAttribute("formmethod")||h,k=()=>Q(he||ge.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:x});Y&&n!==!1?j.startTransition(()=>k()):k()};return j.createElement("form",{ref:G,method:re,action:ie,onSubmit:s?g:se,...L,"data-discover":!ae&&r==="render"?"true":void 0})});px.displayName="Form";function gx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qE(r){let e=j.useContext(Fo);return ut(e,gx(r)),e}function yx(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=Fp(),E=Ai(),b=Lu(r,{relative:u});return j.useCallback(x=>{if($w(x,e)){x.preventDefault();let L=n!==void 0?n:Tu(E)===Tu(b),G=()=>p(r,{replace:L,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});g?j.startTransition(()=>G()):G()}},[E,p,b,n,s,e,r,o,u,h,m,g])}var vx=0,_x=()=>`__${String(++vx)}__`;function Ex(){let{router:r}=qE("useSubmit"),{basename:e}=j.useContext(Nn),n=Pw(),s=r.fetch,o=r.navigate;return j.useCallback(async(u,h={})=>{let{action:m,method:g,encType:p,formData:E,body:b}=Xw(u,e);if(h.navigate===!1){let x=h.fetcherKey||_x();await s(x,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:b,formMethod:h.method||g,formEncType:h.encType||p,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:b,formMethod:h.method||g,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function Tx(r,{relative:e}={}){let{basename:n}=j.useContext(Nn),s=j.useContext(Kr);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Lu(r||".",{relative:e})},h=Ai();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:gi([n,u.pathname])),Tu(u)}function bx(r,{relative:e}={}){let n=j.useContext(DE);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=qE("useViewTransitionState"),o=Lu(r,{relative:e});if(!n.isTransitioning)return!1;let u=vi(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=vi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Uh(o.pathname,h)!=null||Uh(o.pathname,u)!=null}const Ax=()=>{};var jv={};const FE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Sx=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},GE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let x=(m&15)<<2|p>>6,L=p&63;g||(L=64,h||(x=64)),s.push(n[E],n[b],n[x],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(FE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Sx(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||b==null)throw new wx;const x=u<<2|m>>4;if(s.push(x),p!==64){const L=m<<4&240|p>>2;if(s.push(L),b!==64){const G=p<<6&192|b;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class wx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xx=function(r){const e=FE(r);return GE.encodeByteArray(e,!0)},Bh=function(r){return xx(r).replace(/\./g,"")},KE=function(r){try{return GE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Rx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const kx=()=>Rx().__FIREBASE_DEFAULTS__,Ix=()=>{if(typeof process>"u"||typeof jv>"u")return;const r=jv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Cx=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&KE(r[1]);return e&&JSON.parse(e)},dd=()=>{try{return Ax()||kx()||Ix()||Cx()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},QE=r=>dd()?.emulatorHosts?.[r],Nx=r=>{const e=QE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},$E=()=>dd()?.config,YE=r=>dd()?.[`_${r}`];class Dx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ko(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WE(r){return(await fetch(r,{credentials:"include"})).ok}function Ox(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Bh(JSON.stringify(n)),Bh(JSON.stringify(h)),""].join(".")}const pu={};function Lx(){const r={prod:[],emulator:[]};for(const e of Object.keys(pu))pu[e]?r.emulator.push(e):r.prod.push(e);return r}function Mx(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Pv=!1;function XE(r,e){if(typeof window>"u"||typeof document>"u"||!Ko(window.location.host)||pu[r]===e||pu[r]||Pv)return;pu[r]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=Lx().prod.length>0;function h(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,L){x.setAttribute("width","24"),x.setAttribute("id",L),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Pv=!0,h()},x}function E(x,L){x.setAttribute("id",L),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=Mx(s),L=n("text"),G=document.getElementById(L)||document.createElement("span"),Y=n("learnmore"),Q=document.getElementById(Y)||document.createElement("a"),ie=n("preprendIcon"),re=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ae=x.element;m(ae),E(Q,Y);const se=p();g(re,ie),ae.append(re,G,Q,se),document.body.appendChild(ae)}u?(G.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function jx(){const r=dd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Px(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Ux(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zx(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Bx(){return!jx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JE(){try{return typeof indexedDB=="object"}catch{return!1}}function eT(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function Hx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const qx="FirebaseError";class mr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=qx,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ga.prototype.create)}}class ga{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Fx(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new mr(o,m,s)}}function Fx(r,e){return r.replace(Gx,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Gx=/\{\$([^}]+)}/g;function Kx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ms(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(Uv(u)&&Uv(h)){if(!ms(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Uv(r){return r!==null&&typeof r=="object"}function Mu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function uu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function cu(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Qx(r,e){const n=new $x(r,e);return n.subscribe.bind(n)}class $x{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Yx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Ym),o.error===void 0&&(o.error=Ym),o.complete===void 0&&(o.complete=Ym);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yx(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Ym(){}const Wx=1e3,Xx=2,Zx=14400*1e3,Jx=.5;function zv(r,e=Wx,n=Xx){const s=e*Math.pow(n,r),o=Math.round(Jx*s*(Math.random()-.5)*2);return Math.min(Zx,s+o)}function yt(r){return r&&r._delegate?r._delegate:r}class hr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const sa="[DEFAULT]";class eR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Dx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nR(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tR(r){return r===sa?void 0:r}function nR(r){return r.instantiationMode==="EAGER"}class rR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const iR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},sR=Me.INFO,aR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},oR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=aR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fd{constructor(e){this.name=e,this._logLevel=sR,this._logHandler=oR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const lR=(r,e)=>e.some(n=>r instanceof n);let Bv,Hv;function uR(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cR(){return Hv||(Hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tT=new WeakMap,fp=new WeakMap,nT=new WeakMap,Wm=new WeakMap,Yp=new WeakMap;function hR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(us(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&tT.set(n,r)}).catch(()=>{}),Yp.set(e,r),e}function dR(r){if(fp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});fp.set(r,e)}let mp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return fp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||nT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function fR(r){mp=r(mp)}function mR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Xm(this),e,...n);return nT.set(s,e.sort?e.sort():[e]),us(s)}:cR().includes(r)?function(...e){return r.apply(Xm(this),e),us(tT.get(this))}:function(...e){return us(r.apply(Xm(this),e))}}function pR(r){return typeof r=="function"?mR(r):(r instanceof IDBTransaction&&dR(r),lR(r,uR())?new Proxy(r,mp):r)}function us(r){if(r instanceof IDBRequest)return hR(r);if(Wm.has(r))return Wm.get(r);const e=pR(r);return e!==r&&(Wm.set(r,e),Yp.set(e,r)),e}const Xm=r=>Yp.get(r);function rT(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=us(h);return s&&h.addEventListener("upgradeneeded",g=>{s(us(h.result),g.oldVersion,g.newVersion,us(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const gR=["get","getKey","getAll","getAllKeys","count"],yR=["put","add","delete","clear"],Zm=new Map;function qv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=yR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||gR.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Zm.set(e,u),u}fR(r=>({...r,get:(e,n,s)=>qv(e,n)||r.get(e,n,s),has:(e,n)=>!!qv(e,n)||r.has(e,n)}));class vR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_R(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function _R(r){return r.getComponent()?.type==="VERSION"}const pp="@firebase/app",Fv="0.14.7";const _i=new fd("@firebase/app"),ER="@firebase/app-compat",TR="@firebase/analytics-compat",bR="@firebase/analytics",AR="@firebase/app-check-compat",SR="@firebase/app-check",wR="@firebase/auth",xR="@firebase/auth-compat",RR="@firebase/database",kR="@firebase/data-connect",IR="@firebase/database-compat",CR="@firebase/functions",NR="@firebase/functions-compat",DR="@firebase/installations",OR="@firebase/installations-compat",LR="@firebase/messaging",MR="@firebase/messaging-compat",VR="@firebase/performance",jR="@firebase/performance-compat",PR="@firebase/remote-config",UR="@firebase/remote-config-compat",zR="@firebase/storage",BR="@firebase/storage-compat",HR="@firebase/firestore",qR="@firebase/ai",FR="@firebase/firestore-compat",GR="firebase",KR="12.8.0";const gp="[DEFAULT]",QR={[pp]:"fire-core",[ER]:"fire-core-compat",[bR]:"fire-analytics",[TR]:"fire-analytics-compat",[SR]:"fire-app-check",[AR]:"fire-app-check-compat",[wR]:"fire-auth",[xR]:"fire-auth-compat",[RR]:"fire-rtdb",[kR]:"fire-data-connect",[IR]:"fire-rtdb-compat",[CR]:"fire-fn",[NR]:"fire-fn-compat",[DR]:"fire-iid",[OR]:"fire-iid-compat",[LR]:"fire-fcm",[MR]:"fire-fcm-compat",[VR]:"fire-perf",[jR]:"fire-perf-compat",[PR]:"fire-rc",[UR]:"fire-rc-compat",[zR]:"fire-gcs",[BR]:"fire-gcs-compat",[HR]:"fire-fst",[FR]:"fire-fst-compat",[qR]:"fire-vertex","fire-js":"fire-js",[GR]:"fire-js-all"};const Hh=new Map,$R=new Map,yp=new Map;function Gv(r,e){try{r.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Fr(r){const e=r.name;if(yp.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,r);for(const n of Hh.values())Gv(n,r);for(const n of $R.values())Gv(n,r);return!0}function ya(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function or(r){return r==null?!1:r.settings!==void 0}const YR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new ga("app","Firebase",YR);class WR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}const Qo=KR;function iT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:gp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw cs.create("bad-app-name",{appName:String(o)});if(n||(n=$E()),!n)throw cs.create("no-options");const u=Hh.get(o);if(u){if(ms(n,u.options)&&ms(s,u.config))return u;throw cs.create("duplicate-app",{appName:o})}const h=new rR(o);for(const g of yp.values())h.addComponent(g);const m=new WR(n,s,h);return Hh.set(o,m),m}function Wp(r=gp){const e=Hh.get(r);if(!e&&r===gp&&$E())return iT();if(!e)throw cs.create("no-app",{appName:r});return e}function Kn(r,e,n){let s=QR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(h.join(" "));return}Fr(new hr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const XR="firebase-heartbeat-database",ZR=1,bu="firebase-heartbeat-store";let Jm=null;function sT(){return Jm||(Jm=rT(XR,ZR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(bu)}catch(n){console.warn(n)}}}}).catch(r=>{throw cs.create("idb-open",{originalErrorMessage:r.message})})),Jm}async function JR(r){try{const n=(await sT()).transaction(bu),s=await n.objectStore(bu).get(aT(r));return await n.done,s}catch(e){if(e instanceof mr)_i.warn(e.message);else{const n=cs.create("idb-get",{originalErrorMessage:e?.message});_i.warn(n.message)}}}async function Kv(r,e){try{const s=(await sT()).transaction(bu,"readwrite");await s.objectStore(bu).put(e,aT(r)),await s.done}catch(n){if(n instanceof mr)_i.warn(n.message);else{const s=cs.create("idb-set",{originalErrorMessage:n?.message});_i.warn(s.message)}}}function aT(r){return`${r.name}!${r.options.appId}`}const ek=1024,tk=30;class nk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ik(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Qv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>tk){const o=sk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_i.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Qv(),{heartbeatsToSend:n,unsentEntries:s}=rk(this._heartbeatsCache.heartbeats),o=Bh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return _i.warn(e),""}}}function Qv(){return new Date().toISOString().substring(0,10)}function rk(r,e=ek){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),$v(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),$v(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ik{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JE()?eT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function $v(r){return Bh(JSON.stringify({version:2,heartbeats:r})).length}function sk(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function ak(r){Fr(new hr("platform-logger",e=>new vR(e),"PRIVATE")),Fr(new hr("heartbeat",e=>new nk(e),"PRIVATE")),Kn(pp,Fv,r),Kn(pp,Fv,"esm2020"),Kn("fire-js","")}ak("");function oT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ok=oT,lT=new ga("auth","Firebase",oT());const qh=new fd("@firebase/auth");function lk(r,...e){qh.logLevel<=Me.WARN&&qh.warn(`Auth (${Qo}): ${r}`,...e)}function Ih(r,...e){qh.logLevel<=Me.ERROR&&qh.error(`Auth (${Qo}): ${r}`,...e)}function dr(r,...e){throw Xp(r,...e)}function Ur(r,...e){return Xp(r,...e)}function uT(r,e,n){const s={...ok(),[e]:n};return new ga("auth","Firebase",s).create(e,{appName:r.name})}function hs(r){return uT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return lT.create(r,...e)}function Ee(r,e,...n){if(!r)throw Xp(e,...n)}function mi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ih(e),new Error(e)}function Ei(r,e){r||mi(e)}function vp(){return typeof self<"u"&&self.location?.href||""}function uk(){return Yv()==="http:"||Yv()==="https:"}function Yv(){return typeof self<"u"&&self.location?.protocol||null}function ck(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uk()||ZE()||"connection"in navigator)?navigator.onLine:!0}function hk(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ei(n>e,"Short delay should be less than long delay!"),this.isMobile=Vx()||Ux()}get(){return ck()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zp(r,e){Ei(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class cT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mk=new Vu(3e4,6e4);function va(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function bs(r,e,n,s,o={}){return hT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Mu({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...u};return Px()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Ko(r.emulatorConfig.host)&&(p.credentials="include"),cT.fetch()(await dT(r,r.config.apiHost,n,m),p)})}async function hT(r,e,n){r._canInitEmulator=!1;const s={...dk,...e};try{const o=new gk(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Th(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Th(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Th(r,"user-disabled",h);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw uT(r,E,p);dr(r,E)}}catch(o){if(o instanceof mr)throw o;dr(r,"network-request-failed",{message:String(o)})}}async function md(r,e,n,s,o={}){const u=await bs(r,e,n,s,o);return"mfaPendingCredential"in u&&dr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function dT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Zp(r.config,o):`${r.config.apiScheme}://${o}`;return fk.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function pk(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ur(this.auth,"network-request-failed")),mk.get())})}}function Th(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ur(r,e,s);return o.customData._tokenResponse=n,o}function Wv(r){return r!==void 0&&r.enterprise!==void 0}class yk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vk(r,e){return bs(r,"GET","/v2/recaptchaConfig",va(r,e))}async function _k(r,e){return bs(r,"POST","/v1/accounts:delete",e)}async function Fh(r,e){return bs(r,"POST","/v1/accounts:lookup",e)}function gu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ek(r,e=!1){const n=yt(r),s=await n.getIdToken(e),o=Jp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:gu(ep(o.auth_time)),issuedAtTime:gu(ep(o.iat)),expirationTime:gu(ep(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ep(r){return Number(r)*1e3}function Jp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=KE(n);return o?JSON.parse(o):(Ih("Failed to decode base64 JWT payload"),null)}catch(o){return Ih("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Xv(r){const e=Jp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Au(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof mr&&Tk(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Tk({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class bk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class _p{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gh(r){const e=r.auth,n=await r.getIdToken(),s=await Au(r,Fh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?fT(o.providerUserInfo):[],h=Sk(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new _p(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,E)}async function Ak(r){const e=yt(r);await Gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Sk(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function fT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function wk(r,e){const n=await hT(r,{},async()=>{const s=Mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await dT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ko(r.emulatorConfig.host)&&(g.credentials="include"),cT.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xk(r,e){return bs(r,"POST","/v2/accounts:revokeToken",va(r,e))}class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Xv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await wk(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Io;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return mi("not implemented")}}function rs(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class lr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new bk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _p(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Au(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ek(this,e)}reload(){return Ak(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new lr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Gh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(hs(this.auth));const e=await this.getIdToken();return await Au(this,_k(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:L,providerData:G,stsTokenManager:Y}=n;Ee(b&&Y,e,"internal-error");const Q=Io.fromJSON(this.name,Y);Ee(typeof b=="string",e,"internal-error"),rs(s,e.name),rs(o,e.name),Ee(typeof x=="boolean",e,"internal-error"),Ee(typeof L=="boolean",e,"internal-error"),rs(u,e.name),rs(h,e.name),rs(m,e.name),rs(g,e.name),rs(p,e.name),rs(E,e.name);const ie=new lr({uid:b,auth:e,email:o,emailVerified:x,displayName:s,isAnonymous:L,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:Q,createdAt:p,lastLoginAt:E});return G&&Array.isArray(G)&&(ie.providerData=G.map(re=>({...re}))),g&&(ie._redirectEventId=g),ie}static async _fromIdTokenResponse(e,n,s=!1){const o=new Io;o.updateFromServerResponse(n);const u=new lr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Gh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?fT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Io;m.updateFromIdToken(s);const g=new lr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new _p(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const Zv=new Map;function pi(r){Ei(r instanceof Function,"Expected a class definition");let e=Zv.get(r);return e?(Ei(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Zv.set(r,e),e)}class mT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mT.type="NONE";const Jv=mT;function Ch(r,e,n){return`firebase:${r}:${e}:${n}`}class Co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ch("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fh(this.auth,{idToken:e}).catch(()=>{});return n?lr._fromGetAccountInfoResponse(this.auth,n,e):null}return lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Co(pi(Jv),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||pi(Jv);const h=Ch(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(h);if(E){let b;if(typeof E=="string"){const x=await Fh(e,{idToken:E}).catch(()=>{});if(!x)break;b=await lr._fromGetAccountInfoResponse(e,x,E)}else b=lr._fromJSON(e,E);p!==u&&(m=b),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Co(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new Co(u,e,s))}}function e_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ET(e))return"Blackberry";if(TT(e))return"Webos";if(gT(e))return"Safari";if((e.includes("chrome/")||yT(e))&&!e.includes("edge/"))return"Chrome";if(_T(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function pT(r=rn()){return/firefox\//i.test(r)}function gT(r=rn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yT(r=rn()){return/crios\//i.test(r)}function vT(r=rn()){return/iemobile/i.test(r)}function _T(r=rn()){return/android/i.test(r)}function ET(r=rn()){return/blackberry/i.test(r)}function TT(r=rn()){return/webos/i.test(r)}function eg(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Rk(r=rn()){return eg(r)&&!!window.navigator?.standalone}function kk(){return zx()&&document.documentMode===10}function bT(r=rn()){return eg(r)||_T(r)||TT(r)||ET(r)||/windows phone/i.test(r)||vT(r)}function AT(r,e=[]){let n;switch(r){case"Browser":n=e_(rn());break;case"Worker":n=`${e_(rn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qo}/${s}`}class Ik{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Ck(r,e={}){return bs(r,"GET","/v2/passwordPolicy",va(r,e))}const Nk=6;class Dk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Nk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class Ok{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t_(this),this.idTokenSubscription=new t_(this),this.beforeStateQueue=new Ik(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fh(this,{idToken:e}),s=await lr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(or(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(hs(this));const n=e?yt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ck(this),n=new Dk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ga("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await xk(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&lk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $o(r){return yt(r)}class t_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qx(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lk(r){pd=r}function ST(r){return pd.loadJS(r)}function Mk(){return pd.recaptchaEnterpriseScript}function Vk(){return pd.gapiScript}function jk(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Pk{constructor(){this.enterprise=new Uk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Uk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zk="recaptcha-enterprise",wT="NO_RECAPTCHA";class Bk{constructor(e){this.type=zk,this.auth=$o(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{vk(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new yk(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,h,m){const g=window.grecaptcha;Wv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(wT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Pk().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&Wv(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Mk();g.length!==0&&(g+=m),ST(g).then(()=>{o(m,u,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function n_(r,e,n,s=!1,o=!1){const u=new Bk(r);let h;if(o)h=wT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function r_(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await n_(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await n_(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function Hk(r,e){const n=ya(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ms(u,e??{}))return o;dr(o,"already-initialized")}return n.initialize({options:e})}function qk(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(pi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function Fk(r,e,n){const s=$o(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=xT(e),{host:h,port:m}=Gk(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ms(p,s.config.emulator)&&ms(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ko(h)?(WE(`${u}//${h}${g}`),XE("Auth",!0)):Kk()}function xT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Gk(r){const e=xT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:i_(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:i_(h)}}}function i_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Kk(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class tg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,n){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}async function Qk(r,e){return bs(r,"POST","/v1/accounts:signUp",e)}async function $k(r,e){return md(r,"POST","/v1/accounts:signInWithPassword",va(r,e))}async function Yk(r,e){return md(r,"POST","/v1/accounts:signInWithEmailLink",va(r,e))}async function Wk(r,e){return md(r,"POST","/v1/accounts:signInWithEmailLink",va(r,e))}class Su extends tg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Su(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Su(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return r_(e,n,"signInWithPassword",$k);case"emailLink":return Yk(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return r_(e,s,"signUpPassword",Qk);case"emailLink":return Wk(e,{idToken:n,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function No(r,e){return md(r,"POST","/v1/accounts:signInWithIdp",va(r,e))}const Xk="http://localhost";class ca extends tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ca(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return No(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,No(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,No(e,n)}buildRequest(){const e={requestUri:Xk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mu(n)}return e}}function Zk(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jk(r){const e=uu(cu(r)).link,n=e?uu(cu(e)).deep_link_id:null,s=uu(cu(r)).deep_link_id;return(s?uu(cu(s)).link:null)||s||n||e||r}class ng{constructor(e){const n=uu(cu(e)),s=n.apiKey??null,o=n.oobCode??null,u=Zk(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Jk(e);try{return new ng(n)}catch{return null}}}class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,n){return Su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ng.parseLink(n);return Ee(s,"argument-error"),Su._fromEmailAndCode(e,s.code,s.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class RT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ju extends RT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class is extends ju{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";class ss extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ca._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ss.credential(n,s)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";class as extends ju{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";class os extends ju{constructor(){super("twitter.com")}static credential(e,n){return ca._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return os.credential(n,s)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";class Mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await lr._fromIdTokenResponse(e,s,o),h=s_(s);return new Mo({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=s_(s);return new Mo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function s_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Kh extends mr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Kh(e,n,s,o)}}function kT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Kh._fromErrorAndOperation(r,u,e,s):u})}async function eI(r,e,n=!1){const s=await Au(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Mo._forOperation(r,"link",s)}async function tI(r,e,n=!1){const{auth:s}=r;if(or(s.app))return Promise.reject(hs(s));const o="reauthenticate";try{const u=await Au(r,kT(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const h=Jp(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(r.uid===m,s,"user-mismatch"),Mo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&dr(s,"user-mismatch"),u}}async function IT(r,e,n=!1){if(or(r.app))return Promise.reject(hs(r));const s="signIn",o=await kT(r,s,e),u=await Mo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function nI(r,e){return IT($o(r),e)}async function rI(r){const e=$o(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function iI(r,e,n){return or(r.app)?Promise.reject(hs(r)):nI(yt(r),Yo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&rI(r),s})}function sI(r,e,n,s){return yt(r).onIdTokenChanged(e,n,s)}function aI(r,e,n){return yt(r).beforeAuthStateChanged(e,n)}function oI(r,e,n,s){return yt(r).onAuthStateChanged(e,n,s)}function lI(r){return yt(r).signOut()}const Qh="__sak";class CT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const uI=1e3,cI=10;class NT extends CT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);kk()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},uI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}NT.type="LOCAL";const hI=NT;class DT extends CT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}DT.type="SESSION";const OT=DT;function dI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new gd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,u)),g=await dI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gd.receivers=[];function rg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class fI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=rg("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const x=b;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function zr(){return window}function mI(r){zr().location.href=r}function LT(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function pI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gI(){return navigator?.serviceWorker?.controller||null}function yI(){return LT()?self:null}const MT="firebaseLocalStorageDb",vI=1,$h="firebaseLocalStorage",VT="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yd(r,e){return r.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function _I(){const r=indexedDB.deleteDatabase(MT);return new Pu(r).toPromise()}function Ep(){const r=indexedDB.open(MT,vI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore($h,{keyPath:VT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains($h)?e(s):(s.close(),await _I(),e(await Ep()))})})}async function a_(r,e,n){const s=yd(r,!0).put({[VT]:e,value:n});return new Pu(s).toPromise()}async function EI(r,e){const n=yd(r,!1).get(e),s=await new Pu(n).toPromise();return s===void 0?null:s.value}function o_(r,e){const n=yd(r,!0).delete(e);return new Pu(n).toPromise()}const TI=800,bI=3;class jT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>bI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gd._getInstance(yI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pI(),!this.activeServiceWorker)return;this.sender=new fI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ep();return await a_(e,Qh,"1"),await o_(e,Qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>a_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>EI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>o_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=yd(o,!1).getAll();return new Pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jT.type="LOCAL";const AI=jT;new Vu(3e4,6e4);function SI(r,e){return e?pi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ig extends tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,n){return No(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wI(r){return IT(r.auth,new ig(r),r.bypassAuthState)}function xI(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),tI(n,new ig(r),r.bypassAuthState)}async function RI(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),eI(n,new ig(r),r.bypassAuthState)}class PT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wI;case"linkViaPopup":case"linkViaRedirect":return RI;case"reauthViaPopup":case"reauthViaRedirect":return xI;default:dr(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kI=new Vu(2e3,1e4);class ko extends PT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kI.get())};e()}}ko.currentPopupAction=null;const II="pendingRedirect",Nh=new Map;class CI extends PT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Nh.get(this.auth._key());if(!e){try{const s=await NI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Nh.set(this.auth._key(),e)}return this.bypassAuthState||Nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NI(r,e){const n=LI(e),s=OI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function DI(r,e){Nh.set(r._key(),e)}function OI(r){return pi(r._redirectPersistence)}function LI(r){return Ch(II,r.config.apiKey,r.name)}async function MI(r,e,n=!1){if(or(r.app))return Promise.reject(hs(r));const s=$o(r),o=SI(s,e),h=await new CI(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const VI=600*1e3;class jI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!UT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ur(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VI&&this.cachedEventUids.clear(),this.cachedEventUids.has(l_(e))}saveEventToCache(e){this.cachedEventUids.add(l_(e)),this.lastProcessedEventTime=Date.now()}}function l_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function UT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function PI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UT(r);default:return!1}}async function UI(r,e={}){return bs(r,"GET","/v1/projects",e)}const zI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BI=/^https?/;async function HI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await UI(r);for(const n of e)try{if(qI(n))return}catch{}dr(r,"unauthorized-domain")}function qI(r){const e=vp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!BI.test(n))return!1;if(zI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const FI=new Vu(3e4,6e4);function u_(){const r=zr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function GI(r){return new Promise((e,n)=>{function s(){u_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u_(),n(Ur(r,"network-request-failed"))},timeout:FI.get()})}if(zr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zr().gapi?.load)s();else{const o=jk("iframefcb");return zr()[o]=()=>{gapi.load?s():n(Ur(r,"network-request-failed"))},ST(`${Vk()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function KI(r){return Dh=Dh||GI(r),Dh}const QI=new Vu(5e3,15e3),$I="__/auth/iframe",YI="emulator/auth/iframe",WI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZI(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Zp(e,YI):`https://${r.config.authDomain}/${$I}`,s={apiKey:e.apiKey,appName:r.name,v:Qo},o=XI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Mu(s).slice(1)}`}async function JI(r){const e=await KI(r),n=zr().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:ZI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ur(r,"network-request-failed"),m=zr().setTimeout(()=>{u(h)},QI.get());function g(){zr().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}const eC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tC=500,nC=600,rC="_blank",iC="http://localhost";class c_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sC(r,e,n,s=tC,o=nC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...eC,width:s.toString(),height:o.toString(),top:u,left:h},p=rn().toLowerCase();n&&(m=yT(p)?rC:n),pT(p)&&(e=e||iC,g.scrollbars="yes");const E=Object.entries(g).reduce((x,[L,G])=>`${x}${L}=${G},`,"");if(Rk(p)&&m!=="_self")return aC(e||"",m),new c_(null);const b=window.open(e||"",m,E);Ee(b,r,"popup-blocked");try{b.focus()}catch{}return new c_(b)}function aC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const oC="__/auth/handler",lC="emulator/auth/handler",uC=encodeURIComponent("fac");async function h_(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Qo,eventId:o};if(e instanceof RT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",Kx(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(e instanceof ju){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),p=g?`#${uC}=${encodeURIComponent(g)}`:"";return`${cC(r)}?${Mu(m).slice(1)}${p}`}function cC({config:r}){return r.emulator?Zp(r,lC):`https://${r.authDomain}/${oC}`}const tp="webStorageSupport";class hC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OT,this._completeRedirectFn=MI,this._overrideRedirectResult=DI}async _openPopup(e,n,s,o){Ei(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await h_(e,n,s,vp(),o);return sC(e,u,rg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await h_(e,n,s,vp(),o);return mI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ei(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await JI(e),s=new jI(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tp,{type:tp},o=>{const u=o?.[0]?.[tp];u!==void 0&&n(!!u),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bT()||gT()||eg()}}const dC=hC;var d_="@firebase/auth",f_="1.12.0";class fC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pC(r){Fr(new hr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AT(r)},p=new Ok(s,o,u,g);return qk(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Fr(new hr("auth-internal",e=>{const n=$o(e.getProvider("auth").getImmediate());return(s=>new fC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(d_,f_,mC(r)),Kn(d_,f_,"esm2020")}const gC=300,yC=YE("authIdTokenMaxAge")||gC;let m_=null;const vC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>yC)return;const o=n?.token;m_!==o&&(m_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _C(r=Wp()){const e=ya(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Hk(r,{popupRedirectResolver:dC,persistence:[AI,hI,OT]}),s=YE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=vC(u.toString());aI(n,h,()=>h(n.currentUser)),sI(n,m=>h(m))}}const o=QE("auth");return o&&Fk(n,`http://${o}`),n}function EC(){return document.getElementsByTagName("head")?.[0]??document}Lk({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ur("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",EC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pC("Browser");var TC="firebase",bC="12.8.0";Kn(TC,bC,"app");var p_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ds,zT;(function(){var r;function e(I,k){function R(){}R.prototype=k.prototype,I.F=k.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(D,O,P){for(var C=Array(arguments.length-2),We=2;We<arguments.length;We++)C[We-2]=arguments[We];return k.prototype[O].apply(D,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,k,R){R||(R=0);const D=Array(16);if(typeof k=="string")for(var O=0;O<16;++O)D[O]=k.charCodeAt(R++)|k.charCodeAt(R++)<<8|k.charCodeAt(R++)<<16|k.charCodeAt(R++)<<24;else for(O=0;O<16;++O)D[O]=k[R++]|k[R++]<<8|k[R++]<<16|k[R++]<<24;k=I.g[0],R=I.g[1],O=I.g[2];let P=I.g[3],C;C=k+(P^R&(O^P))+D[0]+3614090360&4294967295,k=R+(C<<7&4294967295|C>>>25),C=P+(O^k&(R^O))+D[1]+3905402710&4294967295,P=k+(C<<12&4294967295|C>>>20),C=O+(R^P&(k^R))+D[2]+606105819&4294967295,O=P+(C<<17&4294967295|C>>>15),C=R+(k^O&(P^k))+D[3]+3250441966&4294967295,R=O+(C<<22&4294967295|C>>>10),C=k+(P^R&(O^P))+D[4]+4118548399&4294967295,k=R+(C<<7&4294967295|C>>>25),C=P+(O^k&(R^O))+D[5]+1200080426&4294967295,P=k+(C<<12&4294967295|C>>>20),C=O+(R^P&(k^R))+D[6]+2821735955&4294967295,O=P+(C<<17&4294967295|C>>>15),C=R+(k^O&(P^k))+D[7]+4249261313&4294967295,R=O+(C<<22&4294967295|C>>>10),C=k+(P^R&(O^P))+D[8]+1770035416&4294967295,k=R+(C<<7&4294967295|C>>>25),C=P+(O^k&(R^O))+D[9]+2336552879&4294967295,P=k+(C<<12&4294967295|C>>>20),C=O+(R^P&(k^R))+D[10]+4294925233&4294967295,O=P+(C<<17&4294967295|C>>>15),C=R+(k^O&(P^k))+D[11]+2304563134&4294967295,R=O+(C<<22&4294967295|C>>>10),C=k+(P^R&(O^P))+D[12]+1804603682&4294967295,k=R+(C<<7&4294967295|C>>>25),C=P+(O^k&(R^O))+D[13]+4254626195&4294967295,P=k+(C<<12&4294967295|C>>>20),C=O+(R^P&(k^R))+D[14]+2792965006&4294967295,O=P+(C<<17&4294967295|C>>>15),C=R+(k^O&(P^k))+D[15]+1236535329&4294967295,R=O+(C<<22&4294967295|C>>>10),C=k+(O^P&(R^O))+D[1]+4129170786&4294967295,k=R+(C<<5&4294967295|C>>>27),C=P+(R^O&(k^R))+D[6]+3225465664&4294967295,P=k+(C<<9&4294967295|C>>>23),C=O+(k^R&(P^k))+D[11]+643717713&4294967295,O=P+(C<<14&4294967295|C>>>18),C=R+(P^k&(O^P))+D[0]+3921069994&4294967295,R=O+(C<<20&4294967295|C>>>12),C=k+(O^P&(R^O))+D[5]+3593408605&4294967295,k=R+(C<<5&4294967295|C>>>27),C=P+(R^O&(k^R))+D[10]+38016083&4294967295,P=k+(C<<9&4294967295|C>>>23),C=O+(k^R&(P^k))+D[15]+3634488961&4294967295,O=P+(C<<14&4294967295|C>>>18),C=R+(P^k&(O^P))+D[4]+3889429448&4294967295,R=O+(C<<20&4294967295|C>>>12),C=k+(O^P&(R^O))+D[9]+568446438&4294967295,k=R+(C<<5&4294967295|C>>>27),C=P+(R^O&(k^R))+D[14]+3275163606&4294967295,P=k+(C<<9&4294967295|C>>>23),C=O+(k^R&(P^k))+D[3]+4107603335&4294967295,O=P+(C<<14&4294967295|C>>>18),C=R+(P^k&(O^P))+D[8]+1163531501&4294967295,R=O+(C<<20&4294967295|C>>>12),C=k+(O^P&(R^O))+D[13]+2850285829&4294967295,k=R+(C<<5&4294967295|C>>>27),C=P+(R^O&(k^R))+D[2]+4243563512&4294967295,P=k+(C<<9&4294967295|C>>>23),C=O+(k^R&(P^k))+D[7]+1735328473&4294967295,O=P+(C<<14&4294967295|C>>>18),C=R+(P^k&(O^P))+D[12]+2368359562&4294967295,R=O+(C<<20&4294967295|C>>>12),C=k+(R^O^P)+D[5]+4294588738&4294967295,k=R+(C<<4&4294967295|C>>>28),C=P+(k^R^O)+D[8]+2272392833&4294967295,P=k+(C<<11&4294967295|C>>>21),C=O+(P^k^R)+D[11]+1839030562&4294967295,O=P+(C<<16&4294967295|C>>>16),C=R+(O^P^k)+D[14]+4259657740&4294967295,R=O+(C<<23&4294967295|C>>>9),C=k+(R^O^P)+D[1]+2763975236&4294967295,k=R+(C<<4&4294967295|C>>>28),C=P+(k^R^O)+D[4]+1272893353&4294967295,P=k+(C<<11&4294967295|C>>>21),C=O+(P^k^R)+D[7]+4139469664&4294967295,O=P+(C<<16&4294967295|C>>>16),C=R+(O^P^k)+D[10]+3200236656&4294967295,R=O+(C<<23&4294967295|C>>>9),C=k+(R^O^P)+D[13]+681279174&4294967295,k=R+(C<<4&4294967295|C>>>28),C=P+(k^R^O)+D[0]+3936430074&4294967295,P=k+(C<<11&4294967295|C>>>21),C=O+(P^k^R)+D[3]+3572445317&4294967295,O=P+(C<<16&4294967295|C>>>16),C=R+(O^P^k)+D[6]+76029189&4294967295,R=O+(C<<23&4294967295|C>>>9),C=k+(R^O^P)+D[9]+3654602809&4294967295,k=R+(C<<4&4294967295|C>>>28),C=P+(k^R^O)+D[12]+3873151461&4294967295,P=k+(C<<11&4294967295|C>>>21),C=O+(P^k^R)+D[15]+530742520&4294967295,O=P+(C<<16&4294967295|C>>>16),C=R+(O^P^k)+D[2]+3299628645&4294967295,R=O+(C<<23&4294967295|C>>>9),C=k+(O^(R|~P))+D[0]+4096336452&4294967295,k=R+(C<<6&4294967295|C>>>26),C=P+(R^(k|~O))+D[7]+1126891415&4294967295,P=k+(C<<10&4294967295|C>>>22),C=O+(k^(P|~R))+D[14]+2878612391&4294967295,O=P+(C<<15&4294967295|C>>>17),C=R+(P^(O|~k))+D[5]+4237533241&4294967295,R=O+(C<<21&4294967295|C>>>11),C=k+(O^(R|~P))+D[12]+1700485571&4294967295,k=R+(C<<6&4294967295|C>>>26),C=P+(R^(k|~O))+D[3]+2399980690&4294967295,P=k+(C<<10&4294967295|C>>>22),C=O+(k^(P|~R))+D[10]+4293915773&4294967295,O=P+(C<<15&4294967295|C>>>17),C=R+(P^(O|~k))+D[1]+2240044497&4294967295,R=O+(C<<21&4294967295|C>>>11),C=k+(O^(R|~P))+D[8]+1873313359&4294967295,k=R+(C<<6&4294967295|C>>>26),C=P+(R^(k|~O))+D[15]+4264355552&4294967295,P=k+(C<<10&4294967295|C>>>22),C=O+(k^(P|~R))+D[6]+2734768916&4294967295,O=P+(C<<15&4294967295|C>>>17),C=R+(P^(O|~k))+D[13]+1309151649&4294967295,R=O+(C<<21&4294967295|C>>>11),C=k+(O^(R|~P))+D[4]+4149444226&4294967295,k=R+(C<<6&4294967295|C>>>26),C=P+(R^(k|~O))+D[11]+3174756917&4294967295,P=k+(C<<10&4294967295|C>>>22),C=O+(k^(P|~R))+D[2]+718787259&4294967295,O=P+(C<<15&4294967295|C>>>17),C=R+(P^(O|~k))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+k&4294967295,I.g[1]=I.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+P&4294967295}s.prototype.v=function(I,k){k===void 0&&(k=I.length);const R=k-this.blockSize,D=this.C;let O=this.h,P=0;for(;P<k;){if(O==0)for(;P<=R;)o(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<k;)if(D[O++]=I.charCodeAt(P++),O==this.blockSize){o(this,D),O=0;break}}else for(;P<k;)if(D[O++]=I[P++],O==this.blockSize){o(this,D),O=0;break}}this.h=O,this.o+=k},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var k=1;k<I.length-8;++k)I[k]=0;k=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=k&255,k/=256;for(this.v(I),I=Array(16),k=0,R=0;R<4;++R)for(let D=0;D<32;D+=8)I[k++]=this.g[R]>>>D&255;return I};function u(I,k){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=k(I)}function h(I,k){this.h=k;const R=[];let D=!0;for(let O=I.length-1;O>=0;O--){const P=I[O]|0;D&&P==k||(R[O]=P,D=!1)}this.g=R}var m={};function g(I){return-128<=I&&I<128?u(I,function(k){return new h([k|0],k<0?-1:0)}):new h([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return Q(p(-I));const k=[];let R=1;for(let D=0;I>=R;D++)k[D]=I/R|0,R*=4294967296;return new h(k,0)}function E(I,k){if(I.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(I.charAt(0)=="-")return Q(E(I.substring(1),k));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(k,8));let D=b;for(let P=0;P<I.length;P+=8){var O=Math.min(8,I.length-P);const C=parseInt(I.substring(P,P+O),k);O<8?(O=p(Math.pow(k,O)),D=D.j(O).add(p(C))):(D=D.j(R),D=D.add(p(C)))}return D}var b=g(0),x=g(1),L=g(16777216);r=h.prototype,r.m=function(){if(Y(this))return-Q(this).m();let I=0,k=1;for(let R=0;R<this.g.length;R++){const D=this.i(R);I+=(D>=0?D:4294967296+D)*k,k*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(G(this))return"0";if(Y(this))return"-"+Q(this).toString(I);const k=p(Math.pow(I,6));var R=this;let D="";for(;;){const O=se(R,k).g;R=ie(R,O.j(k));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=O,G(R))return P+D;for(;P.length<6;)P="0"+P;D=P+D}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function G(I){if(I.h!=0)return!1;for(let k=0;k<I.g.length;k++)if(I.g[k]!=0)return!1;return!0}function Y(I){return I.h==-1}r.l=function(I){return I=ie(this,I),Y(I)?-1:G(I)?0:1};function Q(I){const k=I.g.length,R=[];for(let D=0;D<k;D++)R[D]=~I.g[D];return new h(R,~I.h).add(x)}r.abs=function(){return Y(this)?Q(this):this},r.add=function(I){const k=Math.max(this.g.length,I.g.length),R=[];let D=0;for(let O=0;O<=k;O++){let P=D+(this.i(O)&65535)+(I.i(O)&65535),C=(P>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);D=C>>>16,P&=65535,C&=65535,R[O]=C<<16|P}return new h(R,R[R.length-1]&-2147483648?-1:0)};function ie(I,k){return I.add(Q(k))}r.j=function(I){if(G(this)||G(I))return b;if(Y(this))return Y(I)?Q(this).j(Q(I)):Q(Q(this).j(I));if(Y(I))return Q(this.j(Q(I)));if(this.l(L)<0&&I.l(L)<0)return p(this.m()*I.m());const k=this.g.length+I.g.length,R=[];for(var D=0;D<2*k;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(let O=0;O<I.g.length;O++){const P=this.i(D)>>>16,C=this.i(D)&65535,We=I.i(O)>>>16,ct=I.i(O)&65535;R[2*D+2*O]+=C*ct,re(R,2*D+2*O),R[2*D+2*O+1]+=P*ct,re(R,2*D+2*O+1),R[2*D+2*O+1]+=C*We,re(R,2*D+2*O+1),R[2*D+2*O+2]+=P*We,re(R,2*D+2*O+2)}for(I=0;I<k;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=k;I<2*k;I++)R[I]=0;return new h(R,0)};function re(I,k){for(;(I[k]&65535)!=I[k];)I[k+1]+=I[k]>>>16,I[k]&=65535,k++}function ae(I,k){this.g=I,this.h=k}function se(I,k){if(G(k))throw Error("division by zero");if(G(I))return new ae(b,b);if(Y(I))return k=se(Q(I),k),new ae(Q(k.g),Q(k.h));if(Y(k))return k=se(I,Q(k)),new ae(Q(k.g),k.h);if(I.g.length>30){if(Y(I)||Y(k))throw Error("slowDivide_ only works with positive integers.");for(var R=x,D=k;D.l(I)<=0;)R=ge(R),D=ge(D);var O=he(R,1),P=he(D,1);for(D=he(D,2),R=he(R,2);!G(D);){var C=P.add(D);C.l(I)<=0&&(O=O.add(R),P=C),D=he(D,1),R=he(R,1)}return k=ie(I,O.j(k)),new ae(O,k)}for(O=b;I.l(k)>=0;){for(R=Math.max(1,Math.floor(I.m()/k.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),P=p(R),C=P.j(k);Y(C)||C.l(I)>0;)R-=D,P=p(R),C=P.j(k);G(P)&&(P=x),O=O.add(P),I=ie(I,C)}return new ae(O,I)}r.B=function(I){return se(this,I).h},r.and=function(I){const k=Math.max(this.g.length,I.g.length),R=[];for(let D=0;D<k;D++)R[D]=this.i(D)&I.i(D);return new h(R,this.h&I.h)},r.or=function(I){const k=Math.max(this.g.length,I.g.length),R=[];for(let D=0;D<k;D++)R[D]=this.i(D)|I.i(D);return new h(R,this.h|I.h)},r.xor=function(I){const k=Math.max(this.g.length,I.g.length),R=[];for(let D=0;D<k;D++)R[D]=this.i(D)^I.i(D);return new h(R,this.h^I.h)};function ge(I){const k=I.g.length+1,R=[];for(let D=0;D<k;D++)R[D]=I.i(D)<<1|I.i(D-1)>>>31;return new h(R,I.h)}function he(I,k){const R=k>>5;k%=32;const D=I.g.length-R,O=[];for(let P=0;P<D;P++)O[P]=k>0?I.i(P+R)>>>k|I.i(P+R+1)<<32-k:I.i(P+R);return new h(O,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,zT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=E,ds=h}).apply(typeof p_<"u"?p_:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var BT,hu,HT,Oh,Tp,qT,FT,GT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in _))break e;_=_[z]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&_.push([w,y[w]]);return _}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,_){return c.call.apply(c.bind,arguments)}function p(c,y,_){return p=g,p.apply(null,arguments)}function E(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function b(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(w,z,K){for(var oe=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)oe[xe-2]=arguments[xe];return y.prototype[z].apply(w,oe)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const y=c.length;if(y>0){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function G(c,y){for(let w=1;w<arguments.length;w++){const z=arguments[w];var _=typeof z;if(_=_!="object"?_:z?Array.isArray(z)?"array":_:"null",_=="array"||_=="object"&&typeof z.length=="number"){_=c.length||0;const K=z.length||0;c.length=_+K;for(let oe=0;oe<K;oe++)c[_+oe]=z[oe]}else c.push(z)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(c){h.setTimeout(()=>{throw c},0)}function ie(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class re{constructor(){this.h=this.g=null}add(y,_){const w=ae.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var ae=new Y(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,he=!1,I=new re,k=()=>{const c=Promise.resolve(void 0);ge=()=>{c.then(R)}};function R(){for(var c;c=ie();){try{c.h.call(c.g)}catch(_){Q(_)}var y=ae;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}he=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,y),h.removeEventListener("test",_,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function We(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(We,O),We.prototype.init=function(c,y){const _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),W=0;function q(c,y,_,w,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=z,this.key=++W,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ce(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function Be(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function V(c){const y={};for(const _ in c)y[_]=c[_];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,y){let _,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(_ in w)c[_]=w[_];for(let K=0;K<te.length;K++)_=te[K],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function fe(c){this.src=c,this.g={},this.h=0}fe.prototype.add=function(c,y,_,w,z){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const oe=ke(c,y,w,z);return oe>-1?(y=c[oe],_||(y.fa=!1)):(y=new q(y,this.src,K,!!w,z),y.fa=_,c.push(y)),y};function be(c,y){const _=y.type;if(_ in c.g){var w=c.g[_],z=Array.prototype.indexOf.call(w,y,void 0),K;(K=z>=0)&&Array.prototype.splice.call(w,z,1),K&&(de(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ke(c,y,_,w){for(let z=0;z<c.length;++z){const K=c[z];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==w)return z}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Mt={};function at(c,y,_,w,z){if(Array.isArray(y)){for(let K=0;K<y.length;K++)at(c,y[K],_,w,z);return null}return _=rl(_),c&&c[ct]?c.J(y,_,m(w)?!!w.capture:!1,z):Rs(c,y,_,!1,w,z)}function Rs(c,y,_,w,z,K){if(!y)throw Error("Invalid event type");const oe=m(z)?!!z.capture:!!z;let xe=ks(c);if(xe||(c[Ue]=xe=new fe(c)),_=xe.add(y,_,w,oe,K),_.proxy)return _;if(w=Oa(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)P||(z=oe),z===void 0&&(z=!1),c.addEventListener(y.toString(),w,z);else if(c.attachEvent)c.attachEvent(gr(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Oa(){function c(_){return y.call(c.src,c.listener,_)}const y=tl;return c}function La(c,y,_,w,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)La(c,y[K],_,w,z);else w=m(w)?!!w.capture:!!w,_=rl(_),c&&c[ct]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],_=ke(y,_,w,z),_>-1&&(de(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=ks(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ke(y,_,w,z)),(_=c>-1?y[c]:null)&&Ma(_))}function Ma(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ct])be(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(gr(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=ks(y))?(be(_,c),_.h==0&&(_.src=null,y[Ue]=null)):de(c)}}}function gr(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function tl(c,y){if(c.da)c=!0;else{y=new We(y,this);const _=c.listener,w=c.ha||c.src;c.fa&&Ma(c),c=_.call(w,y)}return c}function ks(c){return c=c[Ue],c instanceof fe?c:null}var nl="__closure_events_fn_"+(Math.random()*1e9>>>0);function rl(c){return typeof c=="function"?c:(c[nl]||(c[nl]=function(y){return c.handleEvent(y)}),c[nl])}function At(){D.call(this),this.i=new fe(this),this.M=this,this.G=null}b(At,D),At.prototype[ct]=!0,At.prototype.removeEventListener=function(c,y,_,w){La(this,c,y,_,w)};function Vt(c,y){var _,w=c.G;if(w)for(_=[];w;w=w.G)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var z=y;y=new O(w,c),le(y,z)}z=!0;let K,oe;if(_)for(oe=_.length-1;oe>=0;oe--)K=y.g=_[oe],z=Si(K,w,!0,y)&&z;if(K=y.g=c,z=Si(K,w,!0,y)&&z,z=Si(K,w,!1,y)&&z,_)for(oe=0;oe<_.length;oe++)K=y.g=_[oe],z=Si(K,w,!1,y)&&z}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let w=0;w<_.length;w++)de(_[w]);delete c.g[y],c.h--}}this.G=null},At.prototype.J=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},At.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function Si(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let K=0;K<y.length;++K){const oe=y[K];if(oe&&!oe.da&&oe.capture==_){const xe=oe.listener,_t=oe.ha||oe.src;oe.fa&&be(c.i,oe),z=xe.call(_t,w)!==!1&&z}}return z&&!w.defaultPrevented}function Bd(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Gu(c){c.g=Bd(()=>{c.g=null,c.i&&(c.i=!1,Gu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class sn extends D{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Gu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(c){D.call(this),this.h=c,this.g={}}b(Is,D);var il=[];function sl(c){Ce(c.g,function(y,_){this.g.hasOwnProperty(_)&&Ma(y)},c),c.g={}}Is.prototype.N=function(){Is.Z.N.call(this),sl(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wi=h.JSON.stringify,Hd=h.JSON.parse,Ku=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Qu(){}function $u(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){O.call(this,"d")}b(qt,O);function Dn(){O.call(this,"c")}b(Dn,O);var vt={},Yu=null;function Va(){return Yu=Yu||new At}vt.Ia="serverreachability";function Wu(c){O.call(this,vt.Ia,c)}b(Wu,O);function yr(c){const y=Va();Vt(y,new Wu(y))}vt.STAT_EVENT="statevent";function Cs(c,y){O.call(this,vt.STAT_EVENT,c),this.stat=y}b(Cs,O);function St(c){const y=Va();Vt(y,new Cs(y,c))}vt.Ja="timingevent";function vr(c,y){O.call(this,vt.Ja,c),this.size=y}b(vr,O);function _r(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function qd(c,y,_,w,z,K){c.info(function(){if(c.g)if(K){var oe="",xe=K.split("&");for(let Fe=0;Fe<xe.length;Fe++){var _t=xe[Fe].split("=");if(_t.length>1){const ot=_t[0];_t=_t[1];const Vn=ot.split("_");oe=Vn.length>=2&&Vn[1]=="type"?oe+(ot+"="+_t+"&"):oe+(ot+"=redacted&")}}}else oe=null;else oe=K;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+_+`
`+oe})}function Xu(c,y,_,w,z,K,oe){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+_+`
`+K+" "+oe})}function Er(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Fd(c,_)+(w?" "+w:"")})}function Ns(c,y){c.info(function(){return"TIMEOUT: "+y})}Wn.prototype.info=function(){};function Fd(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var _=K[c];if(!(_.length<2)){var w=_[1];if(Array.isArray(w)&&!(w.length<1)){var z=w[0];if(z!="noop"&&z!="stop"&&z!="close")for(let oe=1;oe<w.length;oe++)w[oe]=""}}}}return wi(K)}catch{return y}}var Ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ol;function Os(){}b(Os,Qu),Os.prototype.g=function(){return new XMLHttpRequest},ol=new Os;function $r(c){return encodeURIComponent(String(c))}function Zu(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function Xn(c,y,_,w){this.j=c,this.i=y,this.l=_,this.S=w||1,this.V=new Is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var wt={},Ut={};function Tr(c,y,_){c.M=1,c.A=Ls(Rt(y)),c.u=_,c.R=!0,ja(c,null)}function ja(c,y){c.F=Date.now(),br(c),c.B=Rt(c.A);var _=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Ba(_.i,"t",w),c.C=0,_=c.j.L,c.h=new Zn,c.g=fc(c.j,_?y:null,!c.u),c.P>0&&(c.O=new sn(p(c.Y,c,c.g),c.P)),y=c.V,_=c.g,w=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(il[0]=z.toString()),z=il);for(let K=0;K<z.length;K++){const oe=at(_,z[K],w||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),yr(),qd(c.i,c.v,c.B,c.l,c.S,c.u)}Xn.prototype.ba=function(c){c=c.target;const y=this.O;y&&tr(c)==3?y.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{const xe=tr(this.g),_t=this.g.ya(),Fe=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||xe!=4||_t==7||(_t==8||Fe<=0?yr(3):yr(2)),Ar(this);var y=this.g.ca();this.X=y;var _=Gd(this);if(this.o=y==200,Xu(this.i,this.v,this.B,this.l,this.S,xe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,z=this.g;if((w=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var K=w;break t}}K=null}if(c=K)Er(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Sr(this,c);else{this.o=!1,this.m=3,St(12),_n(this),On(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<_.length;)if(ot=ec(this,_),ot==Ut){xe==4&&(this.m=4,St(14),c=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==wt){this.m=4,St(15),Er(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else Er(this.i,this.l,ot,null),Sr(this,ot);if(Ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||_.length!=0||this.h.h||(this.m=1,St(16),c=!1),this.o=this.o&&c,!c)Er(this.i,this.l,_,"[Invalid Chunked Response]"),_n(this),On(this);else if(_.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),bl(oe),oe.P=!0,St(11))}}else Er(this.i,this.l,_,null),Sr(this,_);xe==4&&_n(this),this.o&&!this.K&&(xe==4?uc(this.j,this):(this.o=!1,br(this)))}else Wr(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),_n(this),On(this)}}}catch{}};function Gd(c){if(!Ju(c))return c.g.la();const y=Ft(c.g);if(y==="")return"";let _="";const w=y.length,z=tr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),On(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<w;K++)c.h.h=!0,_+=c.h.i.decode(y[K],{stream:!(z&&K==w-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function Ju(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ec(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?Ut:(_=Number(y.substring(_,w)),isNaN(_)?wt:(w+=1,w+_>y.length?Ut:(y=y.slice(w,w+_),c.C=w+_,y)))}Xn.prototype.cancel=function(){this.K=!0,_n(this)};function br(c){c.T=Date.now()+c.H,Pa(c,c.H)}function Pa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=_r(p(c.aa,c),y)}function Ar(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ns(this.i,this.B),this.M!=2&&(yr(),St(17)),_n(this),this.m=2,On(this)):Pa(this,this.T-c)};function On(c){c.j.I==0||c.K||uc(c.j,c)}function _n(c){Ar(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,sl(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Sr(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||xr(_.h,c))){if(!c.L&&xr(_.h,c)&&_.I==3){try{var w=_.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)Ka(_),Oi(_);else break e;Bs(_),St(18)}}else _.xa=z[1],0<_.xa-_.K&&z[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=_r(p(_.Va,_),6e3));wr(_.h)<=1&&_.ta&&(_.ta=void 0)}else Dr(_,11)}else if((c.L||_.g==c)&&Ka(_),!C(y))for(z=_.Ba.g.parse(y),y=0;y<z.length;y++){let Fe=z[y];const ot=Fe[0];if(!(ot<=_.K))if(_.K=ot,Fe=Fe[1],_.I==2)if(Fe[0]=="c"){_.M=Fe[1],_.ba=Fe[2];const Vn=Fe[3];Vn!=null&&(_.ka=Vn,_.j.info("VER="+_.ka));const Or=Fe[4];Or!=null&&(_.za=Or,_.j.info("SVER="+_.za));const nr=Fe[5];nr!=null&&typeof nr=="number"&&nr>0&&(w=1.5*nr,_.O=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const rr=c.g;if(rr){const Hs=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hs){var K=w.h;K.g||Hs.indexOf("spdy")==-1&&Hs.indexOf("quic")==-1&&Hs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(cl(K,K.h),K.h=null))}if(w.G){const Qa=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(w.wa=Qa,Qe(w.J,w.G,Qa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),w=_;var oe=c;if(w.na=dc(w,w.L?w.ba:null,w.W),oe.L){hl(w.h,oe);var xe=oe,_t=w.O;_t&&(xe.H=_t),xe.D&&(Ar(xe),br(xe)),w.g=oe}else oc(w);_.i.length>0&&Nr(_)}else Fe[0]!="stop"&&Fe[0]!="close"||Dr(_,7);else _.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Dr(_,7):El(_):Fe[0]!="noop"&&_.l&&_.l.qa(Fe),_.A=0)}}yr(4)}catch{}}var xt=class{constructor(c,y){this.g=c,this.map=y}};function ll(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ul(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wr(c){return c.h?1:c.g?c.g.size:0}function xr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function cl(c,y){c.g?c.g.add(y):c.h=y}function hl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ll.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function dl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return L(c.i)}var tc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const w=c[_].indexOf("=");let z,K=null;w>=0?(z=c[_].substring(0,w),K=c[_].substring(w+1)):z=c[_],y(z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function En(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof En?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,xi(this,c.u),this.h=c.h,fl(this,sc(c.i)),this.m=c.m):c&&(y=String(c).match(tc))?(this.l=!1,zt(this,y[1]||"",!0),this.o=Rr(y[2]||""),this.g=Rr(y[3]||"",!0),xi(this,y[4]),this.h=Rr(y[5]||"",!0),fl(this,y[6]||"",!0),this.m=Rr(y[7]||"")):(this.l=!1,this.i=new ki(null,this.l))}En.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ms(y,za,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ms(y,za,!0),"@"),c.push($r(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ms(_,_.charAt(0)=="/"?ml:nc,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ms(_,rc)),c.join("")},En.prototype.resolve=function(c){const y=Rt(this);let _=!!c.j;_?zt(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var w=c.h;if(_)xi(y,c.u);else if(_=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var z=y.h.lastIndexOf("/");z!=-1&&(w=y.h.slice(0,z+1)+w)}if(z=w,z==".."||z==".")w="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){w=z.lastIndexOf("/",0)==0,z=z.split("/");const K=[];for(let oe=0;oe<z.length;){const xe=z[oe++];xe=="."?w&&oe==z.length&&K.push(""):xe==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&oe==z.length&&K.push("")):(K.push(xe),w=!0)}w=K.join("/")}else w=z}return _?y.h=w:_=c.i.toString()!=="",_?fl(y,sc(c.i)):_=!!c.m,_&&(y.m=c.m),y};function Rt(c){return new En(c)}function zt(c,y,_){c.j=_?Rr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function xi(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function fl(c,y,_){y instanceof ki?(c.i=y,Ha(c.i,c.l)):(_||(y=Ms(y,Ri)),c.i=new ki(y,c.l))}function Qe(c,y,_){c.i.set(y,_)}function Ls(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Rr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ms(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,un),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var za=/[#\/\?@]/g,nc=/[#\?:]/g,ml=/[#\?]/g,Ri=/[#\?@]/g,rc=/#/g;function ki(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ua(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=ki.prototype,r.add=function(c,y){cn(this),this.i=null,c=Ii(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function ic(c,y){cn(c),y=Ii(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function pl(c,y){return cn(c),y=Ii(c,y),c.g.has(y)}r.forEach=function(c,y){cn(this),this.g.forEach(function(_,w){_.forEach(function(z){c.call(y,z,w,this)},this)},this)};function gl(c,y){cn(c);let _=[];if(typeof y=="string")pl(c,y)&&(_=_.concat(c.g.get(Ii(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}r.set=function(c,y){return cn(this),this.i=null,c=Ii(this,c),pl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=gl(this,c),c.length>0?String(c[0]):y):y};function Ba(c,y,_){ic(c,y),_.length>0&&(c.i=null,c.g.set(Ii(c,y),L(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var _=y[w];const z=$r(_);_=gl(this,_);for(let K=0;K<_.length;K++){let oe=z;_[K]!==""&&(oe+="="+$r(_[K])),c.push(oe)}}return this.i=c.join("&")};function sc(c){const y=new ki;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Ii(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ha(c,y){y&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(_,w){const z=w.toLowerCase();w!=z&&(ic(this,w),Ba(this,z,_))},c)),c.j=y}function Jn(c,y){const _=new Wn;if(h.Image){const w=new Image;w.onload=E(Ln,_,"TestLoadImage: loaded",!0,y,w),w.onerror=E(Ln,_,"TestLoadImage: error",!1,y,w),w.onabort=E(Ln,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=E(Ln,_,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function yl(c,y){const _=new Wn,w=new AbortController,z=setTimeout(()=>{w.abort(),Ln(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(z),K.ok?Ln(_,"TestPingServer: ok",!0,y):Ln(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Ln(_,"TestPingServer: error",!1,y)})}function Ln(c,y,_,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(_)}catch{}}function Ci(){this.g=new Ku}function kr(c){this.i=c.Sb||null,this.h=c.ab||!1}b(kr,Qu),kr.prototype.g=function(){return new Vs(this.i,this.h)};function Vs(c,y){At.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Vs,At),r=Vs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,er(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function qa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ni(this):er(this),this.readyState==3&&qa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ni(this))},r.Na=function(c){this.g&&(this.response=c,Ni(this))},r.ga=function(){this.g&&Ni(this)};function Ni(c){c.readyState=4,c.l=null,c.j=null,c.B=null,er(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function er(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mn(c){let y="";return Ce(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function js(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Mn(_),typeof c=="string"?_!=null&&$r(_):Qe(c,y,_))}function Xe(c){At.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xe,At);var Ir=/^https?$/i,vl=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ol.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Ps(this,K);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)_.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())_.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(vl,y,void 0)>=0)||w||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of _)this.g.setRequestHeader(K,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Ps(this,K)}};function Ps(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,_l(c),Yr(c)}function _l(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Yr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yr(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Us(this):this.Xa())},r.Xa=function(){Us(this)};function Us(c){if(c.h&&typeof u<"u"){if(c.v&&tr(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),tr(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=K===0){let oe=String(c.D).match(tc)[1]||null;!oe&&h.self&&h.self.location&&(oe=h.self.location.protocol.slice(0,-1)),w=!Ir.test(oe?oe.toLowerCase():"")}_=w}if(_)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var z=tr(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",_l(c)}}finally{Yr(c)}}}}function Yr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||Vt(c,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function tr(c){return c.g?c.g.readyState:0}r.ca=function(){try{return tr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Hd(y)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Wr(c){const y={};c=(c.g&&tr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(C(c[w]))continue;var _=Zu(c[w]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[z]||[];y[z]=K,K.push(_)}Be(y,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cr(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Di(c){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Cr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Cr("baseRetryDelayMs",5e3,c),this.Za=Cr("retryDelaySeedMs",1e4,c),this.Ta=Cr("forwardChannelMaxRetries",2,c),this.va=Cr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ll(c&&c.concurrentRequestLimit),this.Ba=new Ci,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Di.prototype,r.ka=8,r.I=1,r.connect=function(c,y,_,w){St(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.J=dc(this,null,this.W),Nr(this)};function El(c){if(Fa(c),c.I==3){var y=c.V++,_=Rt(c.J);if(Qe(_,"SID",c.M),Qe(_,"RID",y),Qe(_,"TYPE","terminate"),zs(c,_),y=new Xn(c,c.j,y),y.M=2,y.A=Ls(Rt(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&h.Image&&(new Image().src=y.A,_=!0),_||(y.g=fc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),br(y)}hc(c)}function Oi(c){c.g&&(bl(c),c.g.cancel(),c.g=null)}function Fa(c){Oi(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ka(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Nr(c){if(!ul(c.h)&&!c.m){c.m=!0;var y=c.Ea;ge||k(),he||(ge(),he=!0),I.add(y,c),c.D=0}}function Ga(c,y){return wr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=_r(p(c.Ea,c,y),cc(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Xn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=V(K),le(K,this.U)):K=this.U),this.u!==null||this.R||(z.J=K,K=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=ac(this,z,y),_=Rt(this.J),Qe(_,"RID",c),Qe(_,"CVER",22),this.G&&Qe(_,"X-HTTP-Session-Id",this.G),zs(this,_),K&&(this.R?y="headers="+$r(Mn(K))+"&"+y:this.u&&js(_,this.u,K)),cl(this.h,z),this.Ra&&Qe(_,"TYPE","init"),this.S?(Qe(_,"$req",y),Qe(_,"SID","null"),z.U=!0,Tr(z,_,null)):Tr(z,_,y),this.I=2}}else this.I==3&&(c?Tl(this,c):this.i.length==0||ul(this.h)||Tl(this))};function Tl(c,y){var _;y?_=y.l:_=c.V++;const w=Rt(c.J);Qe(w,"SID",c.M),Qe(w,"RID",_),Qe(w,"AID",c.K),zs(c,w),c.u&&c.o&&js(w,c.u,c.o),_=new Xn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=ac(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),cl(c.h,_),Tr(_,w,y)}function zs(c,y){c.H&&Ce(c.H,function(_,w){Qe(y,w,_)}),c.l&&Ce({},function(_,w){Qe(y,w,_)})}function ac(c,y,_){_=Math.min(c.i.length,_);const w=c.l?p(c.l.Ka,c.l,c):null;e:{var z=c.i;let xe=-1;for(;;){const _t=["count="+_];xe==-1?_>0?(xe=z[0].g,_t.push("ofs="+xe)):xe=0:_t.push("ofs="+xe);let Fe=!0;for(let ot=0;ot<_;ot++){var K=z[ot].g;const Vn=z[ot].map;if(K-=xe,K<0)xe=Math.max(0,z[ot].g-100),Fe=!1;else try{K="req"+K+"_"||"";try{var oe=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Or,nr]of oe){let rr=nr;m(nr)&&(rr=wi(nr)),_t.push(K+Or+"="+encodeURIComponent(rr))}}catch(Or){throw _t.push(K+"type="+encodeURIComponent("_badmap")),Or}}catch{w&&w(Vn)}}if(Fe){oe=_t.join("&");break e}}oe=void 0}return c=c.i.splice(0,_),y.G=c,oe}function oc(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ge||k(),he||(ge(),he=!0),I.add(y,c),c.A=0}}function Bs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=_r(p(c.Da,c),cc(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,lc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=_r(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Oi(this),lc(this))};function bl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function lc(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Rt(c.na);Qe(y,"RID","rpc"),Qe(y,"SID",c.M),Qe(y,"AID",c.K),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(y,"TO",c.ia),Qe(y,"TYPE","xmlhttp"),zs(c,y),c.u&&c.o&&js(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Ls(Rt(y)),_.u=null,_.R=!0,ja(_,c)}r.Va=function(){this.C!=null&&(this.C=null,Oi(this),Bs(this),St(19))};function Ka(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function uc(c,y){var _=null;if(c.g==y){Ka(c),bl(c),c.g=null;var w=2}else if(xr(c.h,y))_=y.G,hl(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;w=Va(),Vt(w,new vr(w,_)),Nr(c)}else oc(c);else if(z=y.m,z==3||z==0&&y.X>0||!(w==1&&Ga(c,y)||w==2&&Bs(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Dr(c,5);break;case 4:Dr(c,10);break;case 3:Dr(c,6);break;default:Dr(c,2)}}}function cc(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function Dr(c,y){if(c.j.info("Error code "+y),y==2){var _=p(c.bb,c),w=c.Ua;const z=!w;w=new En(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zt(w,"https"),Ls(w),z?Jn(w.toString(),_):yl(w.toString(),_)}else St(2);c.I=0,c.l&&c.l.pa(y),hc(c),Fa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function hc(c){if(c.I=0,c.ja=[],c.l){const y=dl(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ja,y),G(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function dc(c,y,_){var w=_ instanceof En?Rt(_):new En(_);if(w.g!="")y&&(w.g=y+"."+w.g),xi(w,w.u);else{var z=h.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const K=new En(null);w&&zt(K,w),y&&(K.g=y),z&&xi(K,z),_&&(K.h=_),w=K}return _=c.G,y=c.wa,_&&y&&Qe(w,_,y),Qe(w,"VER",c.ka),zs(c,w),w}function fc(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new kr({ab:_})):new Xe(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}r=mc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Li(){}Li.prototype.g=function(c,y){return new an(c,y)};function an(c,y){At.call(this),this.g=new Di(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Xr(this)}b(an,At),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){El(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=wi(c),c=_);y.i.push(new xt(y.Ya++,c)),y.I==3&&Nr(y)},an.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,an.Z.N.call(this)};function pc(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(pc,qt);function gc(){Dn.call(this),this.status=1}b(gc,Dn);function Xr(c){this.g=c}b(Xr,mc),Xr.prototype.ra=function(){Vt(this.g,"a")},Xr.prototype.qa=function(c){Vt(this.g,new pc(c))},Xr.prototype.pa=function(c){Vt(this.g,new gc)},Xr.prototype.oa=function(){Vt(this.g,"b")},Li.prototype.createWebChannel=Li.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,GT=function(){return new Li},FT=function(){return Va()},qT=vt,Tp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,Oh=Ds,al.COMPLETE="complete",HT=al,$u.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",At.prototype.listen=At.prototype.J,hu=$u,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,BT=Xe}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Wo="12.8.0";function AC(r){Wo=r}const ha=new fd("@firebase/firestore");function So(){return ha.logLevel}function ce(r,...e){if(ha.logLevel<=Me.DEBUG){const n=e.map(sg);ha.debug(`Firestore (${Wo}): ${r}`,...n)}}function Ti(r,...e){if(ha.logLevel<=Me.ERROR){const n=e.map(sg);ha.error(`Firestore (${Wo}): ${r}`,...n)}}function Vo(r,...e){if(ha.logLevel<=Me.WARN){const n=e.map(sg);ha.warn(`Firestore (${Wo}): ${r}`,...n)}}function sg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,KT(r,s,n)}function KT(r,e,n){let s=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ti(s),new Error(s)}function Ke(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||KT(e,o,s)}function we(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class QT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class wC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class xC{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new QT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class RC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class kC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new RC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new g_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new g_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function CC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class ag{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=CC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function bp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return np(o)===np(u)?Ve(o,u):np(o)?1:-1}return Ve(r.length,e.length)}const NC=55296,DC=57343;function np(r){const e=r.charCodeAt(0);return e>=NC&&e<=DC}function jo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const y_="__name__";class Pr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Pr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Pr.isNumericId(e),o=Pr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Pr.extractNumericId(e).compare(Pr.extractNumericId(n)):bp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class rt extends Pr{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const OC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Pr{construct(e,n,s){return new Wt(e,n,s)}static isValidIdentifier(e){return OC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y_}static keyField(){return new Wt([y_])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(rt.fromString(e))}static fromName(e){return new ve(rt.fromString(e).popFirst(5))}static empty(){return new ve(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new rt(e.slice()))}}function $T(r,e,n){if(!n)throw new ue(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function LC(r,e,n,s){if(e===!0&&s===!0)throw new ue(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function v_(r){if(!ve.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function __(r){if(ve.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function YT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function vd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function In(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vd(r);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Lt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Uu(r,e){if(!YT(r))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(J.INVALID_ARGUMENT,n);return!0}const E_=-62135596800,T_=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*T_);return new tt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<E_)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T_}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uu(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-E_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:Lt("string",tt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new tt(0,0))}static max(){return new Ae(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wu=-1;function MC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new tt(n+1,0):new tt(n,s));return new ps(o,ve.empty(),e)}function VC(r){return new ps(r.readTime,r.key,wu)}class ps{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ps(Ae.min(),ve.empty(),wu)}static max(){return new ps(Ae.max(),ve.empty(),wu)}}function jC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const PC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Xo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==PC)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(g=>s(g)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((E=>{h[p]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function zC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zo(r){return r.name==="IndexedDbTransactionError"}class _d{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_d.ce=-1;const og=-1;function Ed(r){return r==null}function Yh(r){return r===0&&1/r==-1/0}function BC(r){return typeof r=="number"&&Number.isInteger(r)&&!Yh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const WT="";function HC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=b_(e)),e=qC(r.get(n),e);return b_(e)}function qC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case WT:n+="";break;default:n+=u}}return n}function b_(r){return r+WT+""}function A_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function As(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function XT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ah(this.root,e,this.comparator,!0)}}class Ah{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new S_(this.data.getIterator())}getIteratorFrom(e){return new S_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class S_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new kn([])}unionWith(e){let n=new Pt(Wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class ZT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ZT("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const FC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const n=FC.exec(r);if(Ke(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(r.seconds),nanos:bt(r.nanos)}}function bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ys(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const JT="server_timestamp",e2="__type__",t2="__previous_value__",n2="__local_write_time__";function lg(r){return(r?.mapValue?.fields||{})[e2]?.stringValue===JT}function Td(r){const e=r.mapValue.fields[t2];return lg(e)?Td(e):e}function xu(r){const e=gs(r.mapValue.fields[n2].timestampValue);return new tt(e.seconds,e.nanos)}class GC{constructor(e,n,s,o,u,h,m,g,p,E,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E,this.apiKey=b}}const Wh="(default)";class Ru{constructor(e,n){this.projectId=e,this.database=n||Wh}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}function KC(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(r.options.projectId,e)}const r2="__type__",QC="__max__",Sh={mapValue:{}},i2="__vector__",Xh="value";function vs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?lg(r)?4:YC(r)?9007199254740991:$C(r)?10:11:Te(28295,{value:r})}function Gr(r,e){if(r===e)return!0;const n=vs(r);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return xu(r).isEqual(xu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=gs(o.timestampValue),m=gs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ys(o.bytesValue).isEqual(ys(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=bt(o.doubleValue),m=bt(u.doubleValue);return h===m?Yh(h)===Yh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return jo(r.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(A_(h)!==A_(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Gr(h[g],m[g])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function ku(r,e){return(r.values||[]).find((n=>Gr(n,e)))!==void 0}function Po(r,e){if(r===e)return 0;const n=vs(r),s=vs(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=bt(u.integerValue||u.doubleValue),g=bt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return w_(r.timestampValue,e.timestampValue);case 4:return w_(xu(r),xu(e));case 5:return bp(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=ys(u),g=ys(h);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Ve(m[p],g[p]);if(E!==0)return E}return Ve(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(bt(u.latitude),bt(h.latitude));return m!==0?m:Ve(bt(u.longitude),bt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return x_(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},p=m[Xh]?.arrayValue,E=g[Xh]?.arrayValue,b=Ve(p?.values?.length||0,E?.values?.length||0);return b!==0?b:x_(p,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Sh.mapValue&&h===Sh.mapValue)return 0;if(u===Sh.mapValue)return 1;if(h===Sh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const x=bp(g[b],E[b]);if(x!==0)return x;const L=Po(m[g[b]],p[E[b]]);if(L!==0)return L}return Ve(g.length,E.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function w_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=gs(r),s=gs(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function x_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Po(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function Uo(r){return Ap(r)}function Ap(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=gs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ys(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ve.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Ap(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Ap(n.fields[h])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function Lh(r){switch(vs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Td(r);return e?16+Lh(e):16;case 5:return 2*r.stringValue.length;case 6:return ys(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Lh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return As(s.fields,((u,h)=>{o+=u.length+Lh(h)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function R_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Sp(r){return!!r&&"integerValue"in r}function ug(r){return!!r&&"arrayValue"in r}function k_(r){return!!r&&"nullValue"in r}function I_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mh(r){return!!r&&"mapValue"in r}function $C(r){return(r?.mapValue?.fields||{})[r2]?.stringValue===i2}function yu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return As(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=yu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yu(r.arrayValue.values[n]);return e}return{...r}}function YC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===QC}class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(n)}setAll(e){let n=Wt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=yu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){As(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new vn(yu(this.value))}}function s2(r){const e=[];return As(r.fields,((n,s)=>{const o=new Wt([n]);if(Mh(s)){const u=s2(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new kn(e)}class nn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Ae.min(),Ae.min(),Ae.min(),vn.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Ae.min(),Ae.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Ae.min(),Ae.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zh{constructor(e,n){this.position=e,this.inclusive=n}}function C_(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),n.key):s=Po(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function N_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Gr(r.position[n],e.position[n]))return!1;return!0}class Iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function WC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class a2{}class Ot extends a2{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new ZC(e,n,s):n==="array-contains"?new t8(e,s):n==="in"?new n8(e,s):n==="not-in"?new r8(e,s):n==="array-contains-any"?new i8(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new JC(e,s):new e8(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Po(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends a2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fr(e,n)}matches(e){return o2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function o2(r){return r.op==="and"}function l2(r){return XC(r)&&o2(r)}function XC(r){for(const e of r.filters)if(e instanceof fr)return!1;return!0}function wp(r){if(r instanceof Ot)return r.field.canonicalString()+r.op.toString()+Uo(r.value);if(l2(r))return r.filters.map((e=>wp(e))).join(",");{const e=r.filters.map((n=>wp(n))).join(",");return`${r.op}(${e})`}}function u2(r,e){return r instanceof Ot?(function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&Gr(s.value,o.value)})(r,e):r instanceof fr?(function(s,o){return o instanceof fr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&u2(h,o.filters[m])),!0):!1})(r,e):void Te(19439)}function c2(r){return r instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Uo(n.value)}`})(r):r instanceof fr?(function(n){return n.op.toString()+" {"+n.getFilters().map(c2).join(" ,")+"}"})(r):"Filter"}class ZC extends Ot{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class JC extends Ot{constructor(e,n){super(e,"in",n),this.keys=h2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class e8 extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=h2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function h2(r,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class t8 extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ug(n)&&ku(n.arrayValue,this.value)}}class n8 extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ku(this.value.arrayValue,n)}}class r8 extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ku(this.value.arrayValue,n)}}class i8 extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ug(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ku(this.value.arrayValue,s)))}}class s8{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function D_(r,e=null,n=[],s=[],o=null,u=null,h=null){return new s8(r,e,n,s,o,u,h)}function cg(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>wp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Uo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Uo(s))).join(",")),e.Te=n}return e.Te}function hg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!WC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!u2(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!N_(r.startAt,e.startAt)&&N_(r.endAt,e.endAt)}function xp(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Jo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function a8(r,e,n,s,o,u,h,m){return new Jo(r,e,n,s,o,u,h,m)}function bd(r){return new Jo(r)}function O_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function o8(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function d2(r){return r.collectionGroup!==null}function vu(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Pt(Wt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Iu(u,s))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new Iu(Wt.keyField(),s))}return e.Ie}function Br(r){const e=we(r);return e.Ee||(e.Ee=l8(e,vu(r))),e.Ee}function l8(r,e){if(r.limitType==="F")return D_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Iu(o.field,u)}));const n=r.endAt?new Zh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Zh(r.startAt.position,r.startAt.inclusive):null;return D_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Rp(r,e){const n=r.filters.concat([e]);return new Jo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function u8(r,e){const n=r.explicitOrderBy.concat([e]);return new Jo(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function kp(r,e,n){return new Jo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ad(r,e){return hg(Br(r),Br(e))&&r.limitType===e.limitType}function f2(r){return`${cg(Br(r))}|lt:${r.limitType}`}function wo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>c2(o))).join(", ")}]`),Ed(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Uo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Uo(o))).join(",")),`Target(${s})`})(Br(r))}; limitType=${r.limitType})`}function Sd(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of vu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const p=C_(h,m,g);return h.inclusive?p<=0:p<0})(s.startAt,vu(s),o)||s.endAt&&!(function(h,m,g){const p=C_(h,m,g);return h.inclusive?p>=0:p>0})(s.endAt,vu(s),o))})(r,e)}function c8(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function m2(r){return(e,n)=>{let s=!1;for(const o of vu(r)){const u=h8(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function h8(r,e,n){const s=r.field.isKeyField()?ve.comparator(e.key,n.key):(function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?Po(g,p):Te(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}class _a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return XT(this.inner)}size(){return this.innerSize}}const d8=new ht(ve.comparator);function bi(){return d8}const p2=new ht(ve.comparator);function du(...r){let e=p2;for(const n of r)e=e.insert(n.key,n);return e}function g2(r){let e=p2;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function aa(){return _u()}function y2(){return _u()}function _u(){return new _a((r=>r.toString()),((r,e)=>r.isEqual(e)))}const f8=new ht(ve.comparator),m8=new Pt(ve.comparator);function je(...r){let e=m8;for(const n of r)e=e.add(n);return e}const p8=new Pt(Ve);function g8(){return p8}function dg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(e)?"-0":e}}function v2(r){return{integerValue:""+r}}function y8(r,e){return BC(e)?v2(e):dg(r,e)}class wd{constructor(){this._=void 0}}function v8(r,e,n){return r instanceof Cu?(function(o,u){const h={fields:{[e2]:{stringValue:JT},[n2]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&lg(u)&&(u=Td(u)),u&&(h.fields[t2]=u),{mapValue:h}})(n,e):r instanceof Nu?E2(r,e):r instanceof Du?T2(r,e):(function(o,u){const h=_2(o,u),m=L_(h)+L_(o.Ae);return Sp(h)&&Sp(o.Ae)?v2(m):dg(o.serializer,m)})(r,e)}function _8(r,e,n){return r instanceof Nu?E2(r,e):r instanceof Du?T2(r,e):n}function _2(r,e){return r instanceof Jh?(function(s){return Sp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Cu extends wd{}class Nu extends wd{constructor(e){super(),this.elements=e}}function E2(r,e){const n=b2(e);for(const s of r.elements)n.some((o=>Gr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Du extends wd{constructor(e){super(),this.elements=e}}function T2(r,e){let n=b2(e);for(const s of r.elements)n=n.filter((o=>!Gr(o,s)));return{arrayValue:{values:n}}}class Jh extends wd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function L_(r){return bt(r.integerValue||r.doubleValue)}function b2(r){return ug(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class E8{constructor(e,n){this.field=e,this.transform=n}}function T8(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Nu&&o instanceof Nu||s instanceof Du&&o instanceof Du?jo(s.elements,o.elements,Gr):s instanceof Jh&&o instanceof Jh?Gr(s.Ae,o.Ae):s instanceof Cu&&o instanceof Cu})(r.transform,e.transform)}class b8{constructor(e,n){this.version=e,this.transformResults=n}}class ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class xd{}function A2(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new fg(r.key,ur.none()):new zu(r.key,r.data,ur.none());{const n=r.data,s=vn.empty();let o=new Pt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ss(r.key,s,new kn(o.toArray()),ur.none())}}function A8(r,e,n){r instanceof zu?(function(o,u,h){const m=o.value.clone(),g=V_(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Ss?(function(o,u,h){if(!Vh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=V_(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(S2(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Eu(r,e,n,s){return r instanceof zu?(function(u,h,m,g){if(!Vh(u.precondition,h))return m;const p=u.value.clone(),E=j_(u.fieldTransforms,g,h);return p.setAll(E),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof Ss?(function(u,h,m,g){if(!Vh(u.precondition,h))return m;const p=j_(u.fieldTransforms,g,h),E=h.data;return E.setAll(S2(u)),E.setAll(p),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,h,m){return Vh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function S8(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=_2(s.transform,o||null);u!=null&&(n===null&&(n=vn.empty()),n.set(s.field,u))}return n||null}function M_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&jo(s,o,((u,h)=>T8(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class zu extends xd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ss extends xd{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function S2(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function V_(r,e,n){const s=new Map;Ke(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,_8(h,m,n[o]))}return s}function j_(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,v8(u,h,e))}return s}class fg extends xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w8 extends xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class x8{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&A8(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Eu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Eu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=y2();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=A2(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,((n,s)=>M_(n,s)))&&jo(this.baseMutations,e.baseMutations,((n,s)=>M_(n,s)))}}class mg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return f8})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new mg(e,n,s,o)}}class R8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class k8{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,ze;function I8(r){switch(r){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function w2(r){if(r===void 0)return Ti("GRPC error has no .code"),J.UNKNOWN;switch(r){case Dt.OK:return J.OK;case Dt.CANCELLED:return J.CANCELLED;case Dt.UNKNOWN:return J.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return J.INTERNAL;case Dt.UNAVAILABLE:return J.UNAVAILABLE;case Dt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Dt.NOT_FOUND:return J.NOT_FOUND;case Dt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Dt.ABORTED:return J.ABORTED;case Dt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Dt.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:r})}}(ze=Dt||(Dt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function C8(){return new TextEncoder}const N8=new ds([4294967295,4294967295],0);function P_(r){const e=C8().encode(r),n=new zT;return n.update(e),new Uint8Array(n.digest())}function U_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ds([n,s],0),new ds([o,u],0)]}class pg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new fu(`Invalid padding: ${n}`);if(s<0)throw new fu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new fu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ds.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ds.fromNumber(s)));return o.compare(N8)===1&&(o=new ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=P_(e),[s,o]=U_(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new pg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=P_(e),[s,o]=U_(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rd{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Bu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Rd(Ae.min(),o,new ht(Ve),bi(),je())}}class Bu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Bu(s,n,je(),je(),je())}}class jh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class x2{constructor(e,n){this.targetId=e,this.Ce=n}}class R2{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class z_{constructor(){this.ve=0,this.Fe=B_(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),s=je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}})),new Bu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=B_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class D8{constructor(e){this.Ge=e,this.ze=new Map,this.je=bi(),this.He=wh(),this.Je=wh(),this.Ze=new ht(Ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(xp(u))if(s===0){const h=new ve(u.path);this.et(n,h,nn.newNoDocument(h,Ae.min()))}else Ke(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ys(s).toUint8Array()}catch(g){if(g instanceof ZT)return Vo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new pg(h,o,u)}catch(g){return Vo(g instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&xp(m.target)){const g=new ve(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,nn.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=je();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Rd(e,n,this.Ze,this.je,s);return this.je=bi(),this.He=wh(),this.Je=wh(),this.Ze=new ht(Ve),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new z_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Pt(Ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Pt(Ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new z_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function wh(){return new ht(ve.comparator)}function B_(){return new ht(ve.comparator)}const O8={asc:"ASCENDING",desc:"DESCENDING"},L8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M8={and:"AND",or:"OR"};class V8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ip(r,e){return r.useProto3Json||Ed(e)?e:{value:e}}function ed(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k2(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function j8(r,e){return ed(r,e.toTimestamp())}function Hr(r){return Ke(!!r,49232),Ae.fromTimestamp((function(n){const s=gs(n);return new tt(s.seconds,s.nanos)})(r))}function gg(r,e){return Cp(r,e).canonicalString()}function Cp(r,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function I2(r){const e=rt.fromString(r);return Ke(L2(e),10190,{key:e.toString()}),e}function Np(r,e){return gg(r.databaseId,e.path)}function rp(r,e){const n=I2(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(N2(n))}function C2(r,e){return gg(r.databaseId,e)}function P8(r){const e=I2(r);return e.length===4?rt.emptyPath():N2(e)}function Dp(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function N2(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function H_(r,e,n){return{name:Np(r,e),fields:n.value.mapValue.fields}}function U8(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(Ke(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const E=p.code===void 0?J.UNKNOWN:w2(p.code);return new ue(E,p.message||"")})(h);n=new R2(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=rp(r,s.document.name),u=Hr(s.document.updateTime),h=s.document.createTime?Hr(s.document.createTime):Ae.min(),m=new vn({mapValue:{fields:s.document.fields}}),g=nn.newFoundDocument(o,u,h,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new jh(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=rp(r,s.document),u=s.readTime?Hr(s.readTime):Ae.min(),h=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new jh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=rp(r,s.document),u=s.removedTargetIds||[];n=new jh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new k8(o,u),m=s.targetId;n=new x2(m,h)}}return n}function z8(r,e){let n;if(e instanceof zu)n={update:H_(r,e.key,e.value)};else if(e instanceof fg)n={delete:Np(r,e.key)};else if(e instanceof Ss)n={update:H_(r,e.key,e.data),updateMask:Y8(e.fieldMask)};else{if(!(e instanceof w8))return Te(16599,{dt:e.type});n={verify:Np(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Cu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Nu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Du)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Jh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:j8(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(r,e.precondition)),n}function B8(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Hr(o.updateTime):Hr(u);return h.isEqual(Ae.min())&&(h=Hr(u)),new b8(h,o.transformResults||[])})(n,e)))):[]}function H8(r,e){return{documents:[C2(r,e.path)]}}function q8(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=C2(r,o);const u=(function(p){if(p.length!==0)return O2(fr.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((E=>(function(x){return{field:xo(x.field),direction:K8(x.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Ip(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function F8(r){let e=P8(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const x=D2(b);return x instanceof fr&&l2(x)?x.getFilters():[x]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((x=>(function(G){return new Iu(Ro(G.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(x)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let x;return x=typeof b=="object"?b.value:b,Ed(x)?null:x})(n.limit));let g=null;n.startAt&&(g=(function(b){const x=!!b.before,L=b.values||[];return new Zh(L,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const x=!b.before,L=b.values||[];return new Zh(L,x)})(n.endAt)),a8(e,o,h,u,m,"F",g,p)}function G8(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function D2(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ro(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ro(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ro(n.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ro(n.unaryFilter.field);return Ot.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ot.create(Ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return fr.create(n.compositeFilter.filters.map((s=>D2(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(r):Te(30097,{filter:r})}function K8(r){return O8[r]}function Q8(r){return L8[r]}function $8(r){return M8[r]}function xo(r){return{fieldPath:r.canonicalString()}}function Ro(r){return Wt.fromServerFormat(r.fieldPath)}function O2(r){return r instanceof Ot?(function(n){if(n.op==="=="){if(I_(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NAN"}};if(k_(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(I_(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NAN"}};if(k_(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(n.field),op:Q8(n.op),value:n.value}}})(r):r instanceof fr?(function(n){const s=n.getFilters().map((o=>O2(o)));return s.length===1?s[0]:{compositeFilter:{op:$8(n.op),filters:s}}})(r):Te(54877,{filter:r})}function Y8(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function L2(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function M2(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ls{constructor(e,n,s,o,u=Ae.min(),h=Ae.min(),m=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class W8{constructor(e){this.yt=e}}function X8(r){const e=F8({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?kp(e,e.limit,"L"):e}class Z8{constructor(){this.Sn=new J8}addToCollectionParentIndex(e,n){return this.Sn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ps.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class J8{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(rt.comparator)).toArray()}}const q_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},V2=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(V2,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class zo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new zo(0)}static ar(){return new zo(-1)}}const F_="LruGarbageCollector",e4=1048576;function G_([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class t4{constructor(e){this.Pr=e,this.buffer=new Pt(G_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();G_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class n4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(F_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zo(n)?ce(F_,"Ignoring IndexedDB error during garbage collection: ",n):await Xo(n)}await this.Ar(3e5)}))}}class r4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(_d.ce);const s=new t4(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(q_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),So()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function i4(r,e){return new r4(r,e)}class s4{constructor(){this.changes=new _a((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class a4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class o4{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Eu(s.mutation,o,kn.empty(),tt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=je()){const o=aa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=du();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=aa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,je())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=bi();const h=_u(),m=(function(){return _u()})();return n.forEach(((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Ss)?u=u.insert(p.key,p):E!==void 0?(h.set(p.key,E.mutation.getFieldMask()),Eu(E.mutation,p,E.mutation.getFieldMask(),tt.now())):h.set(p.key,kn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,E)=>h.set(p,E))),n.forEach(((p,E)=>m.set(p,new a4(E,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=_u();let o=new ht(((h,m)=>h-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||kn.empty();E=m.applyToLocalView(p,E),s.set(g,E);const b=(o.get(m.batchId)||je()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,b=y2();E.forEach((x=>{if(!u.has(x)){const L=A2(n.get(x),s.get(x));L!==null&&b.set(x,L),u=u.add(x)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return o8(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):d2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(aa());let m=wu,g=u;return h.next((p=>ne.forEach(p,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((x=>{g=g.insert(E,x)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,je()))).next((E=>({batchId:m,changes:g2(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let o=du();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=du();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(g=>{const p=(function(b,x){return new Jo(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((b,x)=>{h=h.insert(b,x)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((g,p)=>{const E=p.getKey();h.get(E)===null&&(h=h.insert(E,nn.newInvalidDocument(E)))}));let m=du();return h.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&Eu(E.mutation,p,kn.empty(),tt.now()),Sd(n,p)&&(m=m.insert(g,p))})),m}))}}class l4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ne.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Hr(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:X8(o.bundledQuery),readTime:Hr(o.readTime)}})(n)),ne.resolve()}}class u4{constructor(){this.overlays=new ht(ve.comparator),this.Lr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=aa();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=aa(),u=n.length+1,h=new ve(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((p,E)=>p-E));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=aa(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=aa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return ne.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new R8(n,s));let u=this.Lr.get(n);u===void 0&&(u=je(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class c4{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class yg{constructor(){this.kr=new Pt(Ht.Kr),this.qr=new Pt(Ht.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Ht(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Ht(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ve(new rt([])),s=new Ht(n,e),o=new Ht(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ve(new rt([])),s=new Ht(n,e),o=new Ht(n,e+1);let u=je();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Ht(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ve.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}class h4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Pt(Ht.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new x8(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Ht(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?og:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ht(n,0),o=new Ht(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(Ve);return n.forEach((o=>{const u=new Ht(o,0),h=new Ht(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),ne.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const h=new Ht(new ve(u),0);let m=new Pt(Ve);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)}),h),ne.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ne.forEach(n.mutations,(o=>{const u=new Ht(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Ht(n,0),o=this.Jr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class d4{constructor(e){this.ti=e,this.docs=(function(){return new ht(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=bi();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=bi();const h=n.path,m=new ve(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||jC(VC(E),s)<=0||(o.has(E.key)||Sd(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ni(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new f4(this)}getSize(e){return ne.resolve(this.size)}}class f4 extends s4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class m4{constructor(e){this.persistence=e,this.ri=new _a((n=>cg(n)),hg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ii=0,this.si=new yg,this.targetCount=0,this.oi=zo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ne.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new zo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.lr(n),ne.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this.si.containsKey(n))}}class j2{constructor(e,n){this._i={},this.overlays={},this.ai=new _d(0),this.ui=!1,this.ui=!0,this.ci=new c4,this.referenceDelegate=e(this),this.li=new m4(this),this.indexManager=new Z8,this.remoteDocumentCache=(function(o){return new d4(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new W8(n),this.Pi=new l4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new u4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new h4(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new p4(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ne.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class p4 extends UC{constructor(e){super(),this.currentSequenceNumber=e}}class vg{constructor(e){this.persistence=e,this.Ri=new yg,this.Ai=null}static Vi(e){return new vg(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(s=>{const o=ve.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class td{constructor(e,n){this.persistence=e,this.fi=new _a((s=>HC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=i4(this,n)}static Vi(e,n){return new td(e,n)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ne.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Lh(e.data.value)),n}wr(e,n,s){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class _g{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new _g(e,n.fromCache,s,o)}}class g4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class y4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Bx()?8:zC(rn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new g4;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(So()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(So()<=Me.DEBUG&&ce("QueryEngine","Query:",wo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(So()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(n))):ne.resolve())}gs(e,n){if(O_(n))return ne.resolve(null);let s=Br(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=kp(n,null,"F"),s=Br(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=je(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.bs(n,m);return this.Ss(n,p,h,g.readTime)?this.gs(e,kp(n,null,"F")):this.Ds(e,p,n,g)}))))})))))}ps(e,n,s,o){return O_(n)||o.isEqual(Ae.min())?ne.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?ne.resolve(null):(So()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wo(n)),this.Ds(e,h,n,MC(o,wu)).next((m=>m)))}))}bs(e,n){let s=new Pt(m2(e));return n.forEach(((o,u)=>{Sd(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return So()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",wo(n)),this.fs.getDocumentsMatchingQuery(e,n,ps.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Eg="LocalStore",v4=3e8;class _4{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ht(Ve),this.Fs=new _a((u=>cg(u)),hg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function E4(r,e,n,s){return new _4(r,e,n,s)}async function P2(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let g=je();for(const p of o){h.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ns:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function T4(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const b=p.batch,x=b.keys();let L=ne.resolve();return x.forEach((G=>{L=L.next((()=>E.getEntry(g,G))).next((Y=>{const Q=p.docVersions.get(G);Ke(Q!==null,48541),Y.version.compareTo(Q)<0&&(b.applyToRemoteDocument(Y,p),Y.isValidDocument()&&(Y.setReadTime(p.commitVersion),E.addEntry(Y)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=je();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function U2(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function b4(r,e){const n=we(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,b)=>{const x=o.get(b);if(!x)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,b))));let L=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?L=L.withResumeToken(Xt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(b,L),(function(Y,Q,ie){return Y.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=v4?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(x,L,E)&&m.push(n.li.updateTargetData(u,L))}));let g=bi(),p=je();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(A4(u,h,e.documentUpdates).next((E=>{g=E.Bs,p=E.Ls}))),!s.isEqual(Ae.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.vs=o,u)))}function A4(r,e,n){let s=je(),o=je();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=bi();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ce(Eg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function S4(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=og),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function w4(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new ls(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Op(r,e,n){const s=we(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Zo(h))throw h;ce(Eg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function K_(r,e,n){const s=we(r);let o=Ae.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,E){const b=we(g),x=b.Fs.get(E);return x!==void 0?ne.resolve(b.vs.get(x)):b.li.getTargetData(p,E)})(s,h,Br(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Ae.min(),n?u:je()))).next((m=>(x4(s,c8(e),m),{documents:m,ks:u})))))}function x4(r,e,n){let s=r.Ms.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class Q_{constructor(){this.activeTargetIds=g8()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R4{constructor(){this.vo=new Q_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Q_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class k4{Mo(e){}shutdown(){}}const $_="ConnectivityMonitor";class Y_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce($_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce($_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xh=null;function Lp(){return xh===null?xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():xh++,"0x"+xh.toString(16)}const ip="RestConnection",I4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class C4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Wh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=Lp(),m=this.Qo(e,n.toUriEncodedString());ce(ip,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:p}=new URL(m),E=Ko(p);return this.zo(e,m,g,s,E).then((b=>(ce(ip,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw Vo(ip,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=I4[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class N4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",lu=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Do extends C4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Do.c_){const e=FT();lu(e,qT.STAT_EVENT,(n=>{n.stat===Tp.PROXY?ce(en,"STAT_EVENT: detected buffering proxy"):n.stat===Tp.NOPROXY&&ce(en,"STAT_EVENT: detected no buffering proxy")})),Do.c_=!0}}zo(e,n,s,o,u){const h=Lp();return new Promise(((m,g)=>{const p=new BT;p.setWithCredentials(!0),p.listenOnce(HT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Oh.NO_ERROR:const b=p.getResponseJson();ce(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case Oh.TIMEOUT:ce(en,`RPC '${e}' ${h} timed out`),g(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:const x=p.getStatus();if(ce(en,`RPC '${e}' ${h} failed with status:`,x,"response text:",p.getResponseText()),x>0){let L=p.getResponseJson();Array.isArray(L)&&(L=L[0]);const G=L?.error;if(G&&G.status&&G.message){const Y=(function(ie){const re=ie.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(re)>=0?re:J.UNKNOWN})(G.status);g(new ue(Y,G.message))}else g(new ue(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(en,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);ce(en,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Lp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const p=u.join("");ce(en,`Creating RPC '${e}' stream ${o}: ${p}`,m);const E=h.createWebChannel(p,m);this.I_(E);let b=!1,x=!1;const L=new N4({Ho:G=>{x?ce(en,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(b||(ce(en,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),ce(en,`RPC '${e}' stream ${o} sending:`,G),E.send(G))},Jo:()=>E.close()});return lu(E,hu.EventType.OPEN,(()=>{x||(ce(en,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),lu(E,hu.EventType.CLOSE,(()=>{x||(x=!0,ce(en,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(E))})),lu(E,hu.EventType.ERROR,(G=>{x||(x=!0,Vo(en,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),L.o_(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),lu(E,hu.EventType.MESSAGE,(G=>{if(!x){const Y=G.data[0];Ke(!!Y,16349);const Q=Y,ie=Q?.error||Q[0]?.error;if(ie){ce(en,`RPC '${e}' stream ${o} received error:`,ie);const re=ie.status;let ae=(function(he){const I=Dt[he];if(I!==void 0)return w2(I)})(re),se=ie.message;ae===void 0&&(ae=J.INTERNAL,se="Unknown error status: "+re+" with message "+ie.message),x=!0,L.o_(new ue(ae,se)),E.close()}else ce(en,`RPC '${e}' stream ${o} received:`,Y),L.__(Y)}})),Do.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return GT()}}function D4(r){return new Do(r)}function sp(){return typeof document<"u"?document:null}function kd(r){return new V8(r,!0)}Do.c_=!1;class z2{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const W_="PersistentStream";class B2{constructor(e,n,s,o,u,h,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new z2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Ti(n.toString()),Ti("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(W_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(W_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class O4 extends B2{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=U8(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?Hr(h.readTime):Ae.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Dp(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=xp(g)?{documents:H8(u,g)}:{query:q8(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=k2(u,h.resumeToken);const p=Ip(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Ae.min())>0){m.readTime=ed(u,h.snapshotVersion.toTimestamp());const p=Ip(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=G8(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Dp(this.serializer),n.removeTarget=e,this.K_(n)}}class L4 extends B2{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=B8(e.writeResults,e.commitTime),s=Hr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Dp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>z8(this.serializer,s)))};this.K_(n)}}class M4{}class V4 extends M4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,Cp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(J.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Cp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function j4(r,e,n,s){return new V4(r,e,n,s)}class P4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ti(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const da="RemoteStore";class U4{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{Ea(this)&&(ce(da,"Restarting streams for network reachability change."),await(async function(g){const p=we(g);p.Ea.add(4),await Hu(p),p.Va.set("Unknown"),p.Ea.delete(4),await Id(p)})(this))}))})),this.Va=new P4(s,o)}}async function Id(r){if(Ea(r))for(const e of r.Ra)await e(!0)}async function Hu(r){for(const e of r.Ra)await e(!1)}function H2(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sg(n)?Ag(n):el(n).O_()&&bg(n,e))}function Tg(r,e){const n=we(r),s=el(n);n.Ia.delete(e),s.O_()&&q2(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ea(n)&&n.Va.set("Unknown"))}function bg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}el(r).Z_(e)}function q2(r,e){r.da.$e(e),el(r).X_(e)}function Ag(r){r.da=new D8({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),el(r).start(),r.Va.ua()}function Sg(r){return Ea(r)&&!el(r).x_()&&r.Ia.size>0}function Ea(r){return we(r).Ea.size===0}function F2(r){r.da=void 0}async function z4(r){r.Va.set("Online")}async function B4(r){r.Ia.forEach(((e,n)=>{bg(r,e)}))}async function H4(r,e){F2(r),Sg(r)?(r.Va.ha(e),Ag(r)):r.Va.set("Unknown")}async function q4(r,e,n){if(r.Va.set("Online"),e instanceof R2&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){ce(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await nd(r,s)}else if(e instanceof jh?r.da.Xe(e):e instanceof x2?r.da.st(e):r.da.tt(e),!n.isEqual(Ae.min()))try{const s=await U2(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),q2(u,g);const b=new ls(E.target,g,p,E.sequenceNumber);bg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(da,"Failed to raise snapshot:",s),await nd(r,s)}}async function nd(r,e,n){if(!Zo(e))throw e;r.Ea.add(1),await Hu(r),r.Va.set("Offline"),n||(n=()=>U2(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(da,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Id(r)}))}function G2(r,e){return e().catch((n=>nd(r,n,e)))}async function Cd(r){const e=we(r),n=_s(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:og;for(;F4(e);)try{const o=await S4(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,G4(e,o)}catch(o){await nd(e,o)}K2(e)&&Q2(e)}function F4(r){return Ea(r)&&r.Ta.length<10}function G4(r,e){r.Ta.push(e);const n=_s(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function K2(r){return Ea(r)&&!_s(r).x_()&&r.Ta.length>0}function Q2(r){_s(r).start()}async function K4(r){_s(r).ra()}async function Q4(r){const e=_s(r);for(const n of r.Ta)e.ea(n.mutations)}async function $4(r,e,n){const s=r.Ta.shift(),o=mg.from(s,e,n);await G2(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Cd(r)}async function Y4(r,e){e&&_s(r).Y_&&await(async function(s,o){if((function(h){return I8(h)&&h!==J.ABORTED})(o.code)){const u=s.Ta.shift();_s(s).B_(),await G2(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Cd(s)}})(r,e),K2(r)&&Q2(r)}async function X_(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ce(da,"RemoteStore received new credentials");const s=Ea(n);n.Ea.add(3),await Hu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Id(n)}async function W4(r,e){const n=we(r);e?(n.Ea.delete(2),await Id(n)):e||(n.Ea.add(2),await Hu(n),n.Va.set("Unknown"))}function el(r){return r.ma||(r.ma=(function(n,s,o){const u=we(n);return u.sa(),new O4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:z4.bind(null,r),Yo:B4.bind(null,r),t_:H4.bind(null,r),J_:q4.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Sg(r)?Ag(r):r.Va.set("Unknown")):(await r.ma.stop(),F2(r))}))),r.ma}function _s(r){return r.fa||(r.fa=(function(n,s,o){const u=we(n);return u.sa(),new L4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:K4.bind(null,r),t_:Y4.bind(null,r),ta:Q4.bind(null,r),na:$4.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Cd(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(da,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class wg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new wg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(r,e){if(Ti("AsyncQueue",`${e}: ${r}`),Zo(r))return new ue(J.UNAVAILABLE,`${e}: ${r}`);throw r}class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=du(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Oo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Z_{constructor(){this.ga=new ht(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Bo{constructor(e,n,s,o,u,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Bo(e,n,Oo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class X4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Z4{constructor(){this.queries=J_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=J_(),u.forEach(((h,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function J_(){return new _a((r=>f2(r)),Ad)}async function Rg(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new X4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=xg(h,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Ig(n)}async function kg(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function J4(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&Ig(n)}function eN(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Ig(r){r.Ca.forEach((e=>{e.next()}))}var Mp,eE;(eE=Mp||(Mp={})).Ma="default",eE.Cache="cache";class Cg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Bo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mp.Cache}}class $2{constructor(e){this.key=e}}class Y2{constructor(e){this.key=e}}class tN{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=m2(e),this.tu=new Oo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new Z_,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const x=o.get(E),L=Sd(this.query,b)?b:null,G=!!x&&this.mutatedKeys.has(x.key),Y=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let Q=!1;x&&L?x.data.isEqual(L.data)?G!==Y&&(s.track({type:3,doc:L}),Q=!0):this.su(x,L)||(s.track({type:2,doc:L}),Q=!0,(g&&this.eu(L,g)>0||p&&this.eu(L,p)<0)&&(m=!0)):!x&&L?(s.track({type:0,doc:L}),Q=!0):x&&!L&&(s.track({type:1,doc:x}),Q=!0,(g||p)&&(m=!0)),Q&&(L?(h=h.add(L),u=Y?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,b)=>(function(L,G){const Y=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:Q})}};return Y(L)-Y(G)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Xa;return this.Xa=g,h.length!==0||p?{snapshot:new Bo(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new Y2(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new $2(s))})),n}cu(e){this.Za=e.ks,this.Ya=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ng="SyncEngine";class nN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class rN{constructor(e){this.key=e,this.hu=!1}}class iN{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new _a((m=>f2(m)),Ad),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(ve.comparator),this.Au=new Map,this.Vu=new yg,this.du={},this.mu=new Map,this.fu=zo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sN(r,e,n=!0){const s=tb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await W2(s,e,n,!0),o}async function aN(r,e){const n=tb(r);await W2(n,e,!0,!1)}async function W2(r,e,n,s){const o=await w4(r.localStore,Br(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await oN(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&H2(r.remoteStore,o),m}async function oN(r,e,n,s,o){r.pu=(b,x,L)=>(async function(Y,Q,ie,re){let ae=Q.view.ru(ie);ae.Ss&&(ae=await K_(Y.localStore,Q.query,!1).then((({documents:I})=>Q.view.ru(I,ae))));const se=re&&re.targetChanges.get(Q.targetId),ge=re&&re.targetMismatches.get(Q.targetId)!=null,he=Q.view.applyChanges(ae,Y.isPrimaryClient,se,ge);return nE(Y,Q.targetId,he.au),he.snapshot})(r,b,x,L);const u=await K_(r.localStore,e,!0),h=new tN(e,u.ks),m=h.ru(u.documents),g=Bu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=h.applyChanges(m,r.isPrimaryClient,g);nE(r,n,p.au);const E=new nN(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function lN(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Ad(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Op(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Tg(s.remoteStore,o.targetId),Vp(s,o.targetId)})).catch(Xo)):(Vp(s,o.targetId),await Op(s.localStore,o.targetId,!0))}async function uN(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Tg(n.remoteStore,s.targetId))}async function cN(r,e,n){const s=yN(r);try{const o=await(function(h,m){const g=we(h),p=tt.now(),E=m.reduce(((L,G)=>L.add(G.key)),je());let b,x;return g.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let G=bi(),Y=je();return g.xs.getEntries(L,E).next((Q=>{G=Q,G.forEach(((ie,re)=>{re.isValidDocument()||(Y=Y.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(L,G))).next((Q=>{b=Q;const ie=[];for(const re of m){const ae=S8(re,b.get(re.key).overlayedDocument);ae!=null&&ie.push(new Ss(re.key,ae,s2(ae.value.mapValue),ur.exists(!0)))}return g.mutationQueue.addMutationBatch(L,p,ie,m)})).next((Q=>{x=Q;const ie=Q.applyToLocalDocumentSet(b,Y);return g.documentOverlayCache.saveOverlays(L,Q.batchId,ie)}))})).then((()=>({batchId:x.batchId,changes:g2(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.du[h.currentUser.toKey()];p||(p=new ht(Ve)),p=p.insert(m,g),h.du[h.currentUser.toKey()]=p})(s,o.batchId,n),await qu(s,o.changes),await Cd(s.remoteStore)}catch(o){const u=xg(o,"Failed to persist write");n.reject(u)}}async function X2(r,e){const n=we(r);try{const s=await b4(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ke(h.hu,14607):o.removedDocuments.size>0&&(Ke(h.hu,42227),h.hu=!1))})),await qu(n,s,e)}catch(s){await Xo(s)}}function tE(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=we(h);g.onlineState=m;let p=!1;g.queries.forEach(((E,b)=>{for(const x of b.ba)x.va(m)&&(p=!0)})),p&&Ig(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hN(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ht(ve.comparator);h=h.insert(u,nn.newNoDocument(u,Ae.min()));const m=je().add(u),g=new Rd(Ae.min(),new Map,new ht(Ve),h,m);await X2(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(e),Dg(s)}else await Op(s.localStore,e,!1).then((()=>Vp(s,e,n))).catch(Xo)}async function dN(r,e){const n=we(r),s=e.batch.batchId;try{const o=await T4(n.localStore,e);J2(n,s,null),Z2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await qu(n,o)}catch(o){await Xo(o)}}async function fN(r,e,n){const s=we(r);try{const o=await(function(h,m){const g=we(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((b=>(Ke(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(p,b)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);J2(s,e,n),Z2(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await qu(s,o)}catch(o){await Xo(o)}}function Z2(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function J2(r,e,n){const s=we(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Vp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||eb(r,s)}))}function eb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Tg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Dg(r))}function nE(r,e,n){for(const s of n)s instanceof $2?(r.Vu.addReference(s.key,e),mN(r,s)):s instanceof Y2?(ce(Ng,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||eb(r,s.key)):Te(19791,{wu:s})}function mN(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(ce(Ng,"New document in limbo: "+n),r.Eu.add(s),Dg(r))}function Dg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ve(rt.fromString(e)),s=r.fu.next();r.Au.set(s,new rN(n)),r.Ru=r.Ru.insert(n,s),H2(r.remoteStore,new ls(Br(bd(n.path)),s,"TargetPurposeLimboResolution",_d.ce))}}async function qu(r,e,n){const s=we(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){o.push(p);const E=_g.Es(g.targetId,p);u.push(E)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(g,p){const E=we(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ne.forEach(p,(x=>ne.forEach(x.Ts,(L=>E.persistence.referenceDelegate.addReference(b,x.targetId,L))).next((()=>ne.forEach(x.Is,(L=>E.persistence.referenceDelegate.removeReference(b,x.targetId,L)))))))))}catch(b){if(!Zo(b))throw b;ce(Eg,"Failed to update sequence numbers: "+b)}for(const b of p){const x=b.targetId;if(!b.fromCache){const L=E.vs.get(x),G=L.snapshotVersion,Y=L.withLastLimboFreeSnapshotVersion(G);E.vs=E.vs.insert(x,Y)}}})(s.localStore,u))}async function pN(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ce(Ng,"User change. New user:",e.toKey());const s=await P2(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ue(J.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await qu(n,s.Ns)}}function gN(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return je().add(s.key);{let o=je();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function tb(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=X2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hN.bind(null,e),e.Pu.J_=J4.bind(null,e.eventManager),e.Pu.yu=eN.bind(null,e.eventManager),e}function yN(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fN.bind(null,e),e}class rd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return E4(this.persistence,new y4,e.initialUser,this.serializer)}Cu(e){return new j2(vg.Vi,this.serializer)}Du(e){return new R4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rd.provider={build:()=>new rd};class vN extends rd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof td,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new n4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new j2((s=>td.Vi(s,n)),this.serializer)}}class jp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pN.bind(null,this.syncEngine),await W4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Z4})()}createDatastore(e){const n=kd(e.databaseInfo.databaseId),s=D4(e.databaseInfo);return j4(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new U4(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>tE(this.syncEngine,n,0)),(function(){return Y_.v()?new Y_:new k4})())}createSyncEngine(e,n){return(function(o,u,h,m,g,p,E){const b=new iN(o,u,h,m,g,p);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);ce(da,"RemoteStore shutting down."),s.Ea.add(5),await Hu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jp.provider={build:()=>new jp};class Og{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ti("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Es="FirestoreClient";class _N{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ce(Es,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ce(Es,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=xg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ap(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Es,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await P2(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function rE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await EN(r);ce(Es,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>X_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>X_(e.remoteStore,o))),r._onlineComponents=e}async function EN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Es,"Using user provided OfflineComponentProvider");try{await ap(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Vo("Error using user provided cache. Falling back to memory cache: "+n),await ap(r,new rd)}}else ce(Es,"Using default OfflineComponentProvider"),await ap(r,new vN(void 0));return r._offlineComponents}async function nb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Es,"Using user provided OnlineComponentProvider"),await rE(r,r._uninitializedComponentsProvider._online)):(ce(Es,"Using default OnlineComponentProvider"),await rE(r,new jp))),r._onlineComponents}function TN(r){return nb(r).then((e=>e.syncEngine))}async function id(r){const e=await nb(r),n=e.eventManager;return n.onListen=sN.bind(null,e.syncEngine),n.onUnlisten=lN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uN.bind(null,e.syncEngine),n}function bN(r,e,n,s){const o=new Og(s),u=new Cg(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>Rg(await id(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>kg(await id(r),u)))}}function AN(r,e,n={}){const s=new yi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const E=new Og({next:x=>{E.Nu(),h.enqueueAndForget((()=>kg(u,b)));const L=x.docs.has(m);!L&&x.fromCache?p.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&x.fromCache&&g&&g.source==="server"?p.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new Cg(bd(m.path),E,{includeMetadataChanges:!0,Ka:!0});return Rg(u,b)})(await id(r),r.asyncQueue,e,n,s))),s.promise}function SN(r,e,n={}){const s=new yi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const E=new Og({next:x=>{E.Nu(),h.enqueueAndForget((()=>kg(u,b))),x.fromCache&&g.source==="server"?p.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new Cg(m,E,{includeMetadataChanges:!0,Ka:!0});return Rg(u,b)})(await id(r),r.asyncQueue,e,n,s))),s.promise}function wN(r,e){const n=new yi;return r.asyncQueue.enqueueAndForget((async()=>cN(await TN(r),e,n))),n.promise}function rb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const xN="ComponentProvider",iE=new Map;function RN(r,e,n,s,o){return new GC(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,rb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const ib="firestore.googleapis.com",sE=!0;class aE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ib,this.ssl=sE}else this.host=e.host,this.ssl=e.ssl??sE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=V2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<e4)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new SC;switch(s.type){case"firstParty":return new kC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=iE.get(n);s&&(ce(xN,"Removing Datastore"),iE.delete(n),s.terminate())})(this),Promise.resolve()}}function kN(r,e,n,s={}){r=In(r,Nd);const o=Ko(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(WE(`https://${m}`),XE("Firestore",!0)),u.host!==ib&&u.host!==m&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!ms(g,h)&&(r._setSettings(g),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=tn.MOCK_USER;else{p=Ox(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(b)}r._authCredentials=new wC(new QT(p,E))}}class ws{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Uu(n,gt._jsonSchema))return new gt(e,s||null,new ve(rt.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:Lt("string",gt._jsonSchemaVersion),referencePath:Lt("string")};class fs extends ws{constructor(e,n,s){super(e,n,bd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new ve(e))}withConverter(e){return new fs(this.firestore,e,this._path)}}function xs(r,e,...n){if(r=yt(r),$T("collection","path",e),r instanceof Nd){const s=rt.fromString(e,...n);return __(s),new fs(r,null,s)}{if(!(r instanceof gt||r instanceof fs))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return __(s),new fs(r.firestore,null,s)}}function $n(r,e,...n){if(r=yt(r),arguments.length===1&&(e=ag.newId()),$T("doc","path",e),r instanceof Nd){const s=rt.fromString(e,...n);return v_(s),new gt(r,null,new ve(s))}{if(!(r instanceof gt||r instanceof fs))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return v_(s),new gt(r.firestore,r instanceof fs?r.converter:null,new ve(s))}}const oE="AsyncQueue";class lE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new z2(this,"async_queue_retry"),this._c=()=>{const s=sp();s&&ce(oE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=sp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Zo(e))throw e;ce(oE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ti("INTERNAL UNHANDLED ERROR: ",uE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=wg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:uE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function uE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Ts extends Nd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new lE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lE(e),this._firestoreClient=void 0,await e}}}function IN(r,e){const n=typeof r=="object"?r:Wp(),s=typeof r=="string"?r:Wh,o=ya(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Nx("firestore");u&&kN(o,...u)}return o}function Dd(r){if(r._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||CN(r),r._firestoreClient}function CN(r){const e=r._freezeSettings(),n=RN(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new _N(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Xt.fromBase64String(e))}catch(n){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uu(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Lt("string",Gn._jsonSchemaVersion),bytes:Lt("string")};class Lg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Od{constructor(e){this._methodName=e}}class qr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qr._jsonSchemaVersion}}static fromJSON(e){if(Uu(e,qr._jsonSchema))return new qr(e.latitude,e.longitude)}}qr._jsonSchemaVersion="firestore/geoPoint/1.0",qr._jsonSchema={type:Lt("string",qr._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class cr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uu(e,cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new cr(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cr._jsonSchemaVersion="firestore/vectorValue/1.0",cr._jsonSchema={type:Lt("string",cr._jsonSchemaVersion),vectorValues:Lt("object")};const NN=/^__.*__$/;class DN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new zu(e,this.data,n,this.fieldTransforms)}}class sb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ab(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:r})}}class Mg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return sd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(ab(this.dataSource)&&NN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class ON{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||kd(e)}createContext(e,n,s,o=!1){return new Mg({dataSource:e,methodName:n,targetDoc:s,path:Wt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vg(r){const e=r._freezeSettings(),n=kd(r._databaseId);return new ON(r._databaseId,!!e.ignoreUndefinedProperties,n)}function LN(r,e,n,s,o,u={}){const h=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);Pg("Data must be an object, but it was:",h,s);const m=ob(s,h);let g,p;if(u.merge)g=new kn(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const x=Ho(e,b,n);if(!h.contains(x))throw new ue(J.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);cb(E,x)||E.push(x)}g=new kn(E),p=h.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,p=h.fieldTransforms;return new DN(new vn(m),g,p)}class Ld extends Od{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ld}}class jg extends Od{_toFieldTransform(e){return new E8(e.path,new Cu)}isEqual(e){return e instanceof jg}}function MN(r,e,n,s){const o=r.createContext(1,e,n);Pg("Data must be an object, but it was:",o,s);const u=[],h=vn.empty();As(s,((g,p)=>{const E=ub(e,g,n);p=yt(p);const b=o.childContextForFieldPath(E);if(p instanceof Ld)u.push(E);else{const x=Fu(p,b);x!=null&&(u.push(E),h.set(E,x))}}));const m=new kn(u);return new sb(h,m,o.fieldTransforms)}function VN(r,e,n,s,o,u){const h=r.createContext(1,e,n),m=[Ho(e,s,n)],g=[o];if(u.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(Ho(e,u[x])),g.push(u[x+1]);const p=[],E=vn.empty();for(let x=m.length-1;x>=0;--x)if(!cb(p,m[x])){const L=m[x];let G=g[x];G=yt(G);const Y=h.childContextForFieldPath(L);if(G instanceof Ld)p.push(L);else{const Q=Fu(G,Y);Q!=null&&(p.push(L),E.set(L,Q))}}const b=new kn(p);return new sb(E,b,h.fieldTransforms)}function jN(r,e,n,s=!1){return Fu(n,r.createContext(s?4:3,e))}function Fu(r,e){if(lb(r=yt(r)))return Pg("Unsupported field value:",e,r),ob(r,e);if(r instanceof Od)return(function(s,o){if(!ab(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let g=Fu(m,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return y8(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=tt.fromDate(s);return{timestampValue:ed(o.serializer,u)}}if(s instanceof tt){const u=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ed(o.serializer,u)}}if(s instanceof qr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gn)return{bytesValue:k2(o.serializer,s._byteString)};if(s instanceof gt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof cr)return(function(h,m){const g=h instanceof cr?h.toArray():h;return{mapValue:{fields:{[r2]:{stringValue:i2},[Xh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return dg(m.serializer,E)}))}}}}}})(s,o);if(M2(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${vd(s)}`)})(r,e)}function ob(r,e){const n={};return XT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(r,((s,o)=>{const u=Fu(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function lb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof qr||r instanceof Gn||r instanceof gt||r instanceof Od||r instanceof cr||M2(r))}function Pg(r,e,n){if(!lb(n)||!YT(n)){const s=vd(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function Ho(r,e,n){if((e=yt(e))instanceof Lg)return e._internalPath;if(typeof e=="string")return ub(r,e);throw sd("Field path arguments must be of type string or ",r,!1,void 0,n)}const PN=new RegExp("[~\\*/\\[\\]]");function ub(r,e,n){if(e.search(PN)>=0)throw sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Lg(...e.split("."))._internalPath}catch{throw sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function sd(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ue(J.INVALID_ARGUMENT,m+r+g)}function cb(r,e){return r.some((n=>n.isEqual(e)))}class UN{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return As(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Xh].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new cr(n)}convertGeoPoint(e){return new qr(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Td(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const n=gs(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Ke(L2(s),9688,{name:e});const o=new Ru(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||Ti(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Ug extends UN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function Ta(){return new jg("serverTimestamp")}const cE="@firebase/firestore",hE="4.10.0";function dE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class hb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Ho("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zN extends hb{data(){return super.data()}}function db(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zg{}class fb extends zg{}function mb(r,e,...n){let s=[];e instanceof zg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((g=>g instanceof Hg)).length,m=u.filter((g=>g instanceof Bg)).length;if(h>1||h>0&&m>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Bg extends fb{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Bg(e,n,s)}_apply(e){const n=this._parse(e);return gb(e._query,n),new ws(e.firestore,e.converter,Rp(e._query,n))}_parse(e){const n=Vg(e.firestore);return(function(u,h,m,g,p,E,b){let x;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){mE(b,E);const G=[];for(const Y of b)G.push(fE(g,u,Y));x={arrayValue:{values:G}}}else x=fE(g,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||mE(b,E),x=jN(m,h,b,E==="in"||E==="not-in");return Ot.create(p,E,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Hg extends zg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)gb(h,g),h=Rp(h,g)})(e._query,n),new ws(e.firestore,e.converter,Rp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qg extends fb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iu(u,h)})(e._query,this._field,this._direction);return new ws(e.firestore,e.converter,u8(e._query,n))}}function pb(r,e="asc"){const n=e,s=Ho("orderBy",r);return qg._create(s,n)}function fE(r,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d2(e)&&n.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!ve.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return R_(r,new ve(s))}if(n instanceof gt)return R_(r,n._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vd(n)}.`)}function mE(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gb(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function BN(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class mu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends hb{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ho("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:Lt("string",la._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Ph extends la{data(e={}){return super.data(e)}}class ua{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new mu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ph(this._firestore,this._userDataWriter,s.key,s,new mu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new Ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new mu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new mu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:HN(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ua._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ag.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:Lt("string",ua._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};function Md(r){r=In(r,gt);const e=In(r.firestore,Ts),n=Dd(e);return AN(n,r._key).then((s=>vb(e,r,s)))}function qN(r){r=In(r,ws);const e=In(r.firestore,Ts),n=Dd(e),s=new Ug(e);return db(r._query),SN(n,r._query).then((o=>new ua(e,s,r,o)))}function fa(r,e,n){r=In(r,gt);const s=In(r.firestore,Ts),o=BN(r.converter,e),u=Vg(s);return Gg(s,[LN(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ur.none())])}function Fg(r,e,n,...s){r=In(r,gt);const o=In(r.firestore,Ts),u=Vg(o);let h;return h=typeof(e=yt(e))=="string"||e instanceof Lg?VN(u,"updateDoc",r._key,e,n,s):MN(u,"updateDoc",r._key,e),Gg(o,[h.toMutation(r._key,ur.exists(!0))])}function yb(r){return Gg(In(r.firestore,Ts),[new fg(r._key,ur.none())])}function Vd(r,...e){r=yt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||dE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(dE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(r instanceof gt)h=In(r.firestore,Ts),m=bd(r._key.path),u={next:p=>{e[s]&&e[s](vb(h,r,p))},error:e[s+1],complete:e[s+2]};else{const p=In(r,ws);h=In(p.firestore,Ts),m=p._query;const E=new Ug(h);u={next:b=>{e[s]&&e[s](new ua(h,E,p,b))},error:e[s+1],complete:e[s+2]},db(r._query)}const g=Dd(h);return bN(g,m,o,u)}function Gg(r,e){const n=Dd(r);return wN(n,e)}function vb(r,e,n){const s=n.docs.get(e._key),o=new Ug(r);return new la(r,o,e._key,s,new mu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){AC(Qo),Fr(new hr("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ts(new xC(s.getProvider("auth-internal")),new IC(h,s.getProvider("app-check-internal")),KC(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Kn(cE,hE,e),Kn(cE,hE,"esm2020")})();const _b="@firebase/installations",Kg="0.6.19";const Eb=1e4,Tb=`w:${Kg}`,bb="FIS_v2",FN="https://firebaseinstallations.googleapis.com/v1",GN=3600*1e3,KN="installations",QN="Installations";const $N={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ma=new ga(KN,QN,$N);function Ab(r){return r instanceof mr&&r.code.includes("request-failed")}function Sb({projectId:r}){return`${FN}/projects/${r}/installations`}function wb(r){return{token:r.token,requestStatus:2,expiresIn:WN(r.expiresIn),creationTime:Date.now()}}async function xb(r,e){const s=(await e.json()).error;return ma.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Rb({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function YN(r,{refreshToken:e}){const n=Rb(r);return n.append("Authorization",XN(e)),n}async function kb(r){const e=await r();return e.status>=500&&e.status<600?r():e}function WN(r){return Number(r.replace("s","000"))}function XN(r){return`${bb} ${r}`}async function ZN({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const s=Sb(r),o=Rb(r),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={fid:n,authVersion:bb,appId:r.appId,sdkVersion:Tb},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await kb(()=>fetch(s,m));if(g.ok){const p=await g.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:wb(p.authToken)}}else throw await xb("Create Installation",g)}function Ib(r){return new Promise(e=>{setTimeout(e,r)})}function JN(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const e6=/^[cdef][\w-]{21}$/,Pp="";function t6(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=n6(r);return e6.test(n)?n:Pp}catch{return Pp}}function n6(r){return JN(r).substr(0,22)}function jd(r){return`${r.appName}!${r.appId}`}const Cb=new Map;function Nb(r,e){const n=jd(r);Db(n,e),r6(n,e)}function Db(r,e){const n=Cb.get(r);if(n)for(const s of n)s(e)}function r6(r,e){const n=i6();n&&n.postMessage({key:r,fid:e}),s6()}let oa=null;function i6(){return!oa&&"BroadcastChannel"in self&&(oa=new BroadcastChannel("[Firebase] FID Change"),oa.onmessage=r=>{Db(r.data.key,r.data.fid)}),oa}function s6(){Cb.size===0&&oa&&(oa.close(),oa=null)}const a6="firebase-installations-database",o6=1,pa="firebase-installations-store";let op=null;function Qg(){return op||(op=rT(a6,o6,{upgrade:(r,e)=>{e===0&&r.createObjectStore(pa)}})),op}async function ad(r,e){const n=jd(r),o=(await Qg()).transaction(pa,"readwrite"),u=o.objectStore(pa),h=await u.get(n);return await u.put(e,n),await o.done,(!h||h.fid!==e.fid)&&Nb(r,e.fid),e}async function Ob(r){const e=jd(r),s=(await Qg()).transaction(pa,"readwrite");await s.objectStore(pa).delete(e),await s.done}async function Pd(r,e){const n=jd(r),o=(await Qg()).transaction(pa,"readwrite"),u=o.objectStore(pa),h=await u.get(n),m=e(h);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!h||h.fid!==m.fid)&&Nb(r,m.fid),m}async function $g(r){let e;const n=await Pd(r.appConfig,s=>{const o=l6(s),u=u6(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Pp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function l6(r){const e=r||{fid:t6(),registrationStatus:0};return Lb(e)}function u6(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ma.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=c6(r,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:h6(r)}:{installationEntry:e}}async function c6(r,e){try{const n=await ZN(r,e);return ad(r.appConfig,n)}catch(n){throw Ab(n)&&n.customData.serverCode===409?await Ob(r.appConfig):await ad(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function h6(r){let e=await pE(r.appConfig);for(;e.registrationStatus===1;)await Ib(100),e=await pE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await $g(r);return s||n}return e}function pE(r){return Pd(r,e=>{if(!e)throw ma.create("installation-not-found");return Lb(e)})}function Lb(r){return d6(r)?{fid:r.fid,registrationStatus:0}:r}function d6(r){return r.registrationStatus===1&&r.registrationTime+Eb<Date.now()}async function f6({appConfig:r,heartbeatServiceProvider:e},n){const s=m6(r,n),o=YN(r,n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={installation:{sdkVersion:Tb,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await kb(()=>fetch(s,m));if(g.ok){const p=await g.json();return wb(p)}else throw await xb("Generate Auth Token",g)}function m6(r,{fid:e}){return`${Sb(r)}/${e}/authTokens:generate`}async function Yg(r,e=!1){let n;const s=await Pd(r.appConfig,u=>{if(!Mb(u))throw ma.create("not-registered");const h=u.authToken;if(!e&&y6(h))return u;if(h.requestStatus===1)return n=p6(r,e),u;{if(!navigator.onLine)throw ma.create("app-offline");const m=_6(u);return n=g6(r,m),m}});return n?await n:s.authToken}async function p6(r,e){let n=await gE(r.appConfig);for(;n.authToken.requestStatus===1;)await Ib(100),n=await gE(r.appConfig);const s=n.authToken;return s.requestStatus===0?Yg(r,e):s}function gE(r){return Pd(r,e=>{if(!Mb(e))throw ma.create("not-registered");const n=e.authToken;return E6(n)?{...e,authToken:{requestStatus:0}}:e})}async function g6(r,e){try{const n=await f6(r,e),s={...e,authToken:n};return await ad(r.appConfig,s),n}catch(n){if(Ab(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Ob(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await ad(r.appConfig,s)}throw n}}function Mb(r){return r!==void 0&&r.registrationStatus===2}function y6(r){return r.requestStatus===2&&!v6(r)}function v6(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+GN}function _6(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function E6(r){return r.requestStatus===1&&r.requestTime+Eb<Date.now()}async function T6(r){const e=r,{installationEntry:n,registrationPromise:s}=await $g(e);return s?s.catch(console.error):Yg(e).catch(console.error),n.fid}async function b6(r,e=!1){const n=r;return await A6(n),(await Yg(n,e)).token}async function A6(r){const{registrationPromise:e}=await $g(r);e&&await e}function S6(r){if(!r||!r.options)throw lp("App Configuration");if(!r.name)throw lp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw lp(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function lp(r){return ma.create("missing-app-config-values",{valueName:r})}const Vb="installations",w6="installations-internal",x6=r=>{const e=r.getProvider("app").getImmediate(),n=S6(e),s=ya(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},R6=r=>{const e=r.getProvider("app").getImmediate(),n=ya(e,Vb).getImmediate();return{getId:()=>T6(n),getToken:o=>b6(n,o)}};function k6(){Fr(new hr(Vb,x6,"PUBLIC")),Fr(new hr(w6,R6,"PRIVATE"))}k6();Kn(_b,Kg);Kn(_b,Kg,"esm2020");const od="analytics",I6="firebase_id",C6="origin",N6=60*1e3,D6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wg="https://www.googletagmanager.com/gtag/js";const ln=new fd("@firebase/analytics");const O6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Cn=new ga("analytics","Analytics",O6);function L6(r){if(!r.startsWith(Wg)){const e=Cn.create("invalid-gtag-resource",{gtagURL:r});return ln.warn(e.message),""}return r}function jb(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function M6(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function V6(r,e){const n=M6("firebase-js-sdk-policy",{createScriptURL:L6}),s=document.createElement("script"),o=`${Wg}?l=${r}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function j6(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function P6(r,e,n,s,o,u){const h=s[o];try{if(h)await e[h];else{const g=(await jb(n)).find(p=>p.measurementId===o);g&&await e[g.appId]}}catch(m){ln.error(m)}r("config",o,u)}async function U6(r,e,n,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await jb(n);for(const g of h){const p=m.find(b=>b.measurementId===g),E=p&&e[p.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",s,o||{})}catch(u){ln.error(u)}}function z6(r,e,n,s){async function o(u,...h){try{if(u==="event"){const[m,g]=h;await U6(r,e,n,m,g)}else if(u==="config"){const[m,g]=h;await P6(r,e,n,s,m,g)}else if(u==="consent"){const[m,g]=h;r("consent",m,g)}else if(u==="get"){const[m,g,p]=h;r("get",m,g,p)}else if(u==="set"){const[m]=h;r("set",m)}else r(u,...h)}catch(m){ln.error(m)}}return o}function B6(r,e,n,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=z6(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function H6(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Wg)&&n.src.includes(r))return n;return null}const q6=30,F6=1e3;class G6{constructor(e={},n=F6){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Pb=new G6;function K6(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function Q6(r){const{appId:e,apiKey:n}=r,s={method:"GET",headers:K6(n)},o=D6.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let h="";try{const m=await u.json();m.error?.message&&(h=m.error.message)}catch{}throw Cn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function $6(r,e=Pb,n){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw Cn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Cn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new X6;return setTimeout(async()=>{m.abort()},N6),Ub({appId:s,apiKey:o,measurementId:u},h,m,e)}async function Ub(r,{throttleEndTimeMillis:e,backoffCount:n},s,o=Pb){const{appId:u,measurementId:h}=r;try{await Y6(s,e)}catch(m){if(h)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:h};throw m}try{const m=await Q6(r);return o.deleteThrottleMetadata(u),m}catch(m){const g=m;if(!W6(g)){if(o.deleteThrottleMetadata(u),h)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:h};throw m}const p=Number(g?.customData?.httpStatus)===503?zv(n,o.intervalMillis,q6):zv(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return o.setThrottleMetadata(u,E),ln.debug(`Calling attemptFetch again in ${p} millis`),Ub(r,E,s,o)}}function Y6(r,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),s(Cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function W6(r){if(!(r instanceof mr)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class X6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Z6(r,e,n,s,o){if(o&&o.global){r("event",n,s);return}else{const u=await e,h={...s,send_to:u};r("event",n,h)}}async function J6(r,e,n,s){if(s&&s.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return r("set",o),Promise.resolve()}else{const o=await e;r("config",o,{update:!0,user_properties:n})}}async function eD(){if(JE())try{await eT()}catch(r){return ln.warn(Cn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return ln.warn(Cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function tD(r,e,n,s,o,u,h){const m=$6(r);m.then(x=>{n[x.measurementId]=x.appId,r.options.measurementId&&x.measurementId!==r.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>ln.error(x)),e.push(m);const g=eD().then(x=>{if(x)return s.getId()}),[p,E]=await Promise.all([m,g]);H6(u)||V6(u,p.measurementId),o("js",new Date);const b=h?.config??{};return b[C6]="firebase",b.update=!0,E!=null&&(b[I6]=E),o("config",p.measurementId,b),p.measurementId}class nD{constructor(e){this.app=e}_delete(){return delete Lo[this.app.options.appId],Promise.resolve()}}let Lo={},yE=[];const vE={};let up="dataLayer",rD="gtag",_E,Xg,EE=!1;function iD(){const r=[];if(ZE()&&r.push("This is a browser extension environment."),Hx()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Cn.create("invalid-analytics-context",{errorInfo:e});ln.warn(n.message)}}function sD(r,e,n){iD();const s=r.options.appId;if(!s)throw Cn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Cn.create("no-api-key");if(Lo[s]!=null)throw Cn.create("already-exists",{id:s});if(!EE){j6(up);const{wrappedGtag:u,gtagCore:h}=B6(Lo,yE,vE,up,rD);Xg=u,_E=h,EE=!0}return Lo[s]=tD(r,yE,vE,e,_E,up,n),new nD(r)}function aD(r=Wp()){r=yt(r);const e=ya(r,od);return e.isInitialized()?e.getImmediate():oD(r)}function oD(r,e={}){const n=ya(r,od);if(n.isInitialized()){const o=n.getImmediate();if(ms(e,n.getOptions()))return o;throw Cn.create("already-initialized")}return n.initialize({options:e})}function lD(r,e,n){r=yt(r),J6(Xg,Lo[r.app.options.appId],e,n).catch(s=>ln.error(s))}function uD(r,e,n,s){r=yt(r),Z6(Xg,Lo[r.app.options.appId],e,n,s).catch(o=>ln.error(o))}const TE="@firebase/analytics",bE="0.10.19";function cD(){Fr(new hr(od,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return sD(s,o,n)},"PUBLIC")),Fr(new hr("analytics-internal",r,"PRIVATE")),Kn(TE,bE),Kn(TE,bE,"esm2020");function r(e){try{const n=e.getProvider(od).getImmediate();return{logEvent:(s,o,u)=>uD(n,s,o,u),setUserProperties:(s,o)=>lD(n,s,o)}}catch(n){throw Cn.create("interop-component-reg-failed",{reason:n})}}}cD();const hD={apiKey:"AIzaSyA1AWyQt-mKcZTGJ1MaPrf4IoRxxCpRl8w",authDomain:"brewsy-6e24c.firebaseapp.com",projectId:"brewsy-6e24c",storageBucket:"brewsy-6e24c.firebasestorage.app",messagingSenderId:"965602953101",appId:"1:965602953101:web:50f84823c3a2db81da5fc4",measurementId:"G-9T8DY7JG9C"},Zg=iT(hD),Jg=_C(Zg),Zt=IN(Zg);aD(Zg);const dD=async(r,e)=>{try{return{user:(await iI(Jg,r,e)).user,error:null}}catch(n){return{user:null,error:n}}},fD=async()=>{try{return await lI(Jg),{error:null}}catch(r){return{error:r}}},mD=r=>oI(Jg,r),zb=j.createContext({user:null,loading:!0}),ba=()=>{const r=j.useContext(zb);if(!r)throw new Error("useAuth must be used within AuthProvider");return r},pD=({children:r})=>{const[e,n]=j.useState(null),[s,o]=j.useState(!0);return j.useEffect(()=>mD(h=>{n(h),o(!1)}),[]),T.jsx(zb.Provider,{value:{user:e,loading:s},children:r})},Bb=j.createContext(void 0),gD=({children:r})=>{const[e,n]=j.useState(()=>localStorage.getItem("brewsy-current-space")||"naturopathie"),s=o=>{n(o),localStorage.setItem("brewsy-current-space",o)};return T.jsx(Bb.Provider,{value:{currentSpace:e,setCurrentSpace:s},children:r})},Hb=()=>{const r=j.useContext(Bb);if(r===void 0)throw new Error("useSpace must be used within a SpaceProvider");return r},yD=()=>{const[r,e]=j.useState(""),[n,s]=j.useState(""),[o,u]=j.useState(null),[h,m]=j.useState(!1),g=async p=>{p.preventDefault(),u(null),m(!0);const{error:E}=await dD(r,n);E&&(u("Email ou mot de passe incorrect"),m(!1))};return T.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-card rounded-soft-lg shadow-soft-lg p-8 max-w-md w-full border border-border",children:[T.jsx("h1",{className:"text-3xl font-bold text-peach mb-2 text-center",children:"Cozy Production"}),T.jsx("p",{className:"text-text-secondary text-center mb-6",children:"Connexion"}),T.jsxs("form",{onSubmit:g,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-secondary mb-1",children:"Email"}),T.jsx("input",{id:"email",type:"email",value:r,onChange:p=>e(p.target.value),required:!0,className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all",placeholder:"votre@email.com"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-secondary mb-1",children:"Mot de passe"}),T.jsx("input",{id:"password",type:"password",value:n,onChange:p=>s(p.target.value),required:!0,className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all",placeholder:""})]}),o&&T.jsx("div",{className:"bg-peach-light text-peach-dark px-4 py-2 rounded-soft text-sm border border-peach/30",children:o}),T.jsx("button",{type:"submit",disabled:h,className:"w-full bg-linear-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark disabled:from-text-muted disabled:to-text-muted text-white font-semibold py-3 px-6 rounded-soft shadow-soft hover:shadow-soft-lg transition-all duration-200",children:h?"Connexion...":"Se connecter"})]})]})})},vD=async()=>{const r=$n(Zt,"configs","default"),e=await Md(r);return e.exists()?e.data():null},Ud=async()=>{const r=xs(Zt,"configs","default","transformations");return(await qN(r)).docs.map(n=>({id:n.id,...n.data()}))},qb=(r,e)=>{const n=xs(Zt,"users",r,"stocks");return Vd(n,s=>{const o=s.docs.map(u=>({...u.data()}));e(o)})},cp=async(r,e,n,s)=>{const o=$n(Zt,"users",r,"stocks",e);await fa(o,{crateId:e,label:s,quantity:n,updatedAt:Ta()})},e0=(r,e)=>{const n=xs(Zt,"users",r,"prices");return Vd(n,s=>{const o=s.docs.map(u=>({...u.data()}));e(o)})},_D=async(r,e,n)=>{const s=$n(Zt,"users",r,"prices",e),o=await Md(s),u=o.exists()?o.data().values:[];await fa(s,{crateId:e,values:[...u,n],updatedAt:Ta()})},ED=async(r,e,n)=>{const s=$n(Zt,"users",r,"prices",e),o=await Md(s);if(!o.exists())return;const h=o.data().values.filter((m,g)=>g!==n);h.length===0?await yb(s):await Fg(s,{values:h,updatedAt:Ta()})},Fb=(r,e)=>{const n=xs(Zt,"users",r,"runs"),s=mb(n,pb("startedAt","desc"));return Vd(s,o=>{const u=o.docs.map(h=>({id:h.id,...h.data()}));e(u)})},TD=async(r,e,n,s,o)=>{const u=xs(Zt,"users",r,"runs"),h=o||new Date,m=tt.fromDate(h),g=tt.fromMillis(m.toMillis()+s*60*60*1e3),p={transformationId:e,inputQuantityUsed:n,startedAt:m,durationHours:s,reducedByAction:!1,endsAt:g,status:"RUNNING",createdAt:Ta()};return await fa($n(u),p)},bD=async(r,e,n)=>{const s=$n(Zt,"users",r,"runs",e);await Fg(s,{status:n})},AD=async(r,e,n=1)=>{const s=$n(Zt,"users",r,"runs",e),o=await Md(s);if(!o.exists())return;const u=o.data();if(u.reducedByAction)return;const h=tt.fromMillis(u.endsAt.toMillis()-n*60*60*1e3);await Fg(s,{reducedByAction:!0,endsAt:h})},AE=async(r,e)=>{const n=$n(Zt,"users",r,"runs",e);await yb(n)},Gb=(r,e)=>{const n=xs(Zt,"users",r,"history"),s=mb(n,pb("createdAt","desc"));return Vd(s,o=>{const u=o.docs.map(h=>({id:h.id,...h.data()}));e(u)})},SD=async(r,e,n,s,o)=>{const u=xs(Zt,"users",r,"history"),h={type:"TRANSFORMATION",transformationId:e,startedAt:n,endsAt:s,reducedByAction:o,createdAt:Ta()};await fa($n(u),h)},wD=async(r,e,n,s,o,u,h)=>{const m=xs(Zt,"users",r,"history"),g={type:"SALE",crateId:e,crateLabel:n,quantitySold:s,estimatedValue:o,actualValue:u,createdAt:Ta()};await fa($n(m),g)},xD=(r,e)=>r.input.quantity*e,RD=r=>r,kD=(r,e)=>r.tool.price*e,zd=r=>{if(r.length===0)return 0;const e=r.reduce((n,s)=>n+s,0);return Math.round(e/r.length)},Up=(r,e)=>r*e,ID=(r,e)=>{const n=new Map(e.map(s=>[s.crateId,zd(s.values)]));return r.reduce((s,o)=>{const u=n.get(o.crateId)||0;return s+Up(o.quantity,u)},0)},ld=r=>new Date>=r,Kb=r=>Math.max(0,r.getTime()-Date.now()),Qb=r=>{const e=Math.floor(r/36e5),n=Math.floor(r%(1e3*60*60)/(1e3*60));return e>0?`${e}h ${n}m`:`${n}m`},mt=({children:r,className:e="",onClick:n})=>T.jsx("div",{className:`bg-card rounded-soft-lg shadow-soft border border-border card-hover ${e}`,onClick:n,children:r}),pt=({children:r,className:e=""})=>T.jsx("div",{className:e,children:r}),ud=[{id:"crate_zeed",label:"Zeed",icon:""},{id:"crate_pandoxine",label:"Pandoxine",icon:""},{id:"crate_krakenine",label:"Krakenine",icon:""},{id:"crate_psylocybine",label:"Psylocybine",icon:""}],CD=()=>{const{user:r}=ba(),{currentSpace:e}=Hb(),[n,s]=j.useState([]),[o,u]=j.useState([]),[h,m]=j.useState([]),[g,p]=j.useState([]),[E,b]=j.useState([]),x=Fp(),[,L]=j.useState(0);j.useEffect(()=>{if(!r)return;const R=qb(r.uid,s),D=e0(r.uid,u),O=Fb(r.uid,m),P=Gb(r.uid,b);return()=>{R(),D(),O(),P()}},[r]),j.useEffect(()=>{(async()=>{const D=await Ud();p(D)})()},[]),j.useEffect(()=>{const R=setInterval(()=>{L(Date.now())},1e3);return()=>clearInterval(R)},[]);const G=ID(n,o),Y=h.filter(R=>R.status==="RUNNING"),Q=h.filter(R=>R.status==="DONE"?!1:ld(R.endsAt.toDate())),ie=new Map(o.map(R=>[R.crateId,zd(R.values)])),re=R=>n.find(D=>D.crateId===R),ae=R=>g.find(D=>D.id===R.transformationId),se=h.filter(R=>R.status==="RUNNING"&&!ld(R.endsAt.toDate())),ge=new Date;ge.setDate(ge.getDate()-7);const he=E.filter(R=>{if(R.type!=="SALE")return!1;const D=R.createdAt?.toDate();return D&&D>=ge}),I=he.reduce((R,D)=>D.type!=="SALE"?R:R+D.actualValue,0),k=he.reduce((R,D)=>D.type!=="SALE"?R:R+D.quantitySold,0);return e==="malandrinerie"?T.jsxs("div",{className:"space-y-4",children:[T.jsx("h1",{className:"text-2xl font-bold text-text",children:"Dashboard - Malandrinerie"}),T.jsx(mt,{children:T.jsxs(pt,{className:"p-8 text-center",children:[T.jsx("div",{className:"text-6xl mb-4",children:""}),T.jsx("h2",{className:"text-xl font-semibold text-text mb-2",children:"Espace Malandrinerie"}),T.jsx("p",{className:"text-text-muted mb-4",children:"Cet espace est en cours de dveloppement. Les fonctionnalits (Dashboard, Calculettes, Commandes) seront bientt disponibles !"}),T.jsx("div",{className:"inline-block px-4 py-2 bg-peach-light rounded-soft text-peach-dark text-sm",children:" venir prochainement"})]})})]}):T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-bold text-text",children:"Dashboard - Naturopathie"}),T.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[T.jsxs("div",{className:"flex items-center gap-1.5",children:[T.jsx("span",{className:"text-text-muted",children:"Valeur:"}),T.jsxs("span",{className:"font-bold text-peach",children:[G.toLocaleString()," $"]})]}),T.jsx("div",{className:"w-px h-4 bg-border"}),T.jsxs("div",{className:"flex items-center gap-1.5",children:[T.jsx("span",{className:"text-text-muted",children:"Actives:"}),T.jsx("span",{className:"font-semibold text-lavender",children:Y.length})]}),T.jsxs("div",{className:"flex items-center gap-1.5",children:[T.jsx("span",{className:"text-text-muted",children:"Prtes:"}),T.jsx("span",{className:"font-semibold text-sage",children:Q.length})]})]})]}),Q.length>0&&T.jsx("div",{className:"bg-sage-light border border-sage rounded-soft px-3 py-2 cursor-pointer hover:bg-sage/30 transition-colors",onClick:()=>x("/timers"),children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-lg",children:""}),T.jsxs("span",{className:"text-sm font-semibold text-sage-dark",children:[Q.length," transformation",Q.length>1?"s":""," prte",Q.length>1?"s":"","  rcolter"]})]})}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[T.jsx(mt,{className:"md:col-span-2",children:T.jsxs(pt,{className:"p-3",children:[T.jsx("h2",{className:"text-sm font-semibold text-text mb-2",children:"Stocks"}),T.jsx("div",{className:"space-y-1.5",children:ud.map(R=>{const O=re(R.id)?.quantity||0,P=ie.get(R.id)||0,C=O*P;return T.jsxs("div",{className:"flex items-center justify-between py-2 px-2 rounded hover:bg-surface transition-colors",children:[T.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[T.jsx("span",{className:"text-xl",children:R.icon}),T.jsxs("div",{children:[T.jsx("div",{className:"text-sm font-semibold text-text",children:R.label}),T.jsxs("div",{className:"text-xs text-text-muted",children:[O," ",O>1?"caisses":"caisse"]})]})]}),T.jsx("div",{className:"text-right",children:P>0?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"text-base font-bold text-peach",children:[C.toLocaleString()," $"]}),T.jsxs("div",{className:"text-xs text-text-muted",children:[P.toLocaleString()," $ / u"]})]}):T.jsx("div",{className:"text-xs text-text-muted",children:"Prix non dfini"})})]},R.id)})})]})}),T.jsx(mt,{children:T.jsxs(pt,{className:"p-3",children:[T.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T.jsx("h2",{className:"text-sm font-semibold text-text",children:"7 derniers jours"}),T.jsx("button",{onClick:()=>x("/history"),className:"text-xs text-peach hover:text-peach-dark transition-colors",children:"Historique "})]}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"p-3 bg-peach-light rounded-soft border border-peach/30",children:[T.jsx("div",{className:"text-xs text-text-muted mb-1",children:"Revenus"}),T.jsxs("div",{className:"text-xl font-bold text-peach",children:[I.toLocaleString()," $"]})]}),T.jsxs("div",{className:"p-3 bg-lavender-light rounded-soft border border-lavender/30",children:[T.jsx("div",{className:"text-xs text-text-muted mb-1",children:"Ventes"}),T.jsxs("div",{className:"flex items-baseline gap-2",children:[T.jsx("div",{className:"text-xl font-bold text-lavender-dark",children:he.length}),T.jsxs("div",{className:"text-sm text-text-muted",children:["vente",he.length>1?"s":""]})]}),T.jsxs("div",{className:"text-xs text-text-muted mt-1",children:[k," caisse",k>1?"s":""]})]})]})]})})]}),se.length>0&&T.jsx(mt,{children:T.jsxs(pt,{className:"p-3",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsx("h2",{className:"text-sm font-semibold text-text",children:"En cours"}),T.jsx("button",{onClick:()=>x("/timers"),className:"text-xs text-lavender hover:text-lavender-dark transition-colors",children:"Voir tout "})]}),T.jsx("div",{className:"space-y-2",children:se.slice(0,3).map(R=>{const D=ae(R),O=Kb(R.endsAt.toDate()),P=R.durationHours*60*60*1e3,C=Math.max(0,Math.min(100,(P-O)/P*100));return T.jsxs("div",{className:"bg-surface rounded-soft p-2",children:[T.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-sm font-medium text-text",children:D?.name}),R.reducedByAction&&T.jsx("span",{className:"text-xs",children:""})]}),T.jsx("span",{className:"text-xs font-semibold text-lavender",children:Qb(O)})]}),T.jsx("div",{className:"w-full bg-border rounded-full h-1.5 overflow-hidden",children:T.jsx("div",{className:"h-full bg-linear-to-r from-lavender to-peach transition-all duration-1000",style:{width:`${C}%`}})})]},R.id)})})]})})]})};var ND=j.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),Qr=function(e,n,s){var o=s.get(e);return o?o(n):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function SE(r,e){if(r==null)return{};var n={},s=Object.keys(r),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}var pr=j.forwardRef(function(r,e){var n=r.alt,s=r.color,o=r.size,u=r.weight,h=r.mirrored,m=r.children,g=r.renderPath,p=SE(r,["alt","color","size","weight","mirrored","children","renderPath"]),E=j.useContext(ND),b=E.color,x=b===void 0?"currentColor":b,L=E.size,G=E.weight,Y=G===void 0?"regular":G,Q=E.mirrored,ie=Q===void 0?!1:Q,re=SE(E,["color","size","weight","mirrored"]);return S.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o??L,height:o??L,fill:s??x,viewBox:"0 0 256 256",transform:h||ie?"scale(-1, 1)":void 0},re,p),!!n&&S.createElement("title",null,n),m,S.createElement("rect",{width:"256",height:"256",fill:"none"}),g(u??Y,s??x))});pr.displayName="IconBase";var Aa=new Map;Aa.set("bold",function(r){return S.createElement(S.Fragment,null,S.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),S.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Aa.set("duotone",function(r){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44Z",opacity:"0.2"}),S.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Aa.set("fill",function(){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M224,216a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H88V140H84A68.1,68.1,0,0,1,16,72a28,28,0,0,1,56,0A12,12,0,0,0,84,84h4V56a40,40,0,0,1,80,0v68h4a12,12,0,0,0,12-12,28,28,0,0,1,56,0,68.1,68.1,0,0,1-68,68h-4v28h48A8,8,0,0,1,224,216Z"}))});Aa.set("light",function(r){return S.createElement(S.Fragment,null,S.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),S.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Aa.set("thin",function(r){return S.createElement(S.Fragment,null,S.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),S.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Aa.set("regular",function(r){return S.createElement(S.Fragment,null,S.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var DD=function(e,n){return Qr(e,n,Aa)},$b=j.forwardRef(function(r,e){return S.createElement(pr,Object.assign({ref:e},r,{renderPath:DD}))});$b.displayName="Cactus";var Sa=new Map;Sa.set("bold",function(r){return S.createElement(S.Fragment,null,S.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),S.createElement("line",{x1:"92",y1:"76",x2:"164",y2:"76",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),S.createElement("circle",{cx:"104",cy:"128",r:"16"}),S.createElement("circle",{cx:"152",cy:"128",r:"16"}),S.createElement("circle",{cx:"104",cy:"176",r:"16"}),S.createElement("circle",{cx:"152",cy:"176",r:"16"}))});Sa.set("duotone",function(r){return S.createElement(S.Fragment,null,S.createElement("rect",{x:"80",y:"64",width:"96",height:"48",opacity:"0.2"}),S.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256 0) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("circle",{cx:"88",cy:"148",r:"12"}),S.createElement("circle",{cx:"128",cy:"148",r:"12"}),S.createElement("circle",{cx:"168",cy:"148",r:"12"}),S.createElement("circle",{cx:"88",cy:"188",r:"12"}),S.createElement("circle",{cx:"128",cy:"188",r:"12"}),S.createElement("circle",{cx:"168",cy:"188",r:"12"}))});Sa.set("fill",function(){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M200,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24ZM88,200a12,12,0,1,1,12-12A12,12,0,0,1,88,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,88,160Zm40,40a12,12,0,1,1,12-12A12,12,0,0,1,128,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,128,160Zm40,40a12,12,0,1,1,12-12A12,12,0,0,1,168,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,168,160Zm16-56a8,8,0,0,1-8,8H80a8,8,0,0,1-8-8V64a8,8,0,0,1,8-8h96a8,8,0,0,1,8,8Z"}))});Sa.set("light",function(r){return S.createElement(S.Fragment,null,S.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),S.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),S.createElement("circle",{cx:"88",cy:"148",r:"10"}),S.createElement("circle",{cx:"128",cy:"148",r:"10"}),S.createElement("circle",{cx:"168",cy:"148",r:"10"}),S.createElement("circle",{cx:"88",cy:"188",r:"10"}),S.createElement("circle",{cx:"128",cy:"188",r:"10"}),S.createElement("circle",{cx:"168",cy:"188",r:"10"}))});Sa.set("thin",function(r){return S.createElement(S.Fragment,null,S.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),S.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),S.createElement("circle",{cx:"88",cy:"148",r:"8"}),S.createElement("circle",{cx:"128",cy:"148",r:"8"}),S.createElement("circle",{cx:"168",cy:"148",r:"8"}),S.createElement("circle",{cx:"88",cy:"188",r:"8"}),S.createElement("circle",{cx:"128",cy:"188",r:"8"}),S.createElement("circle",{cx:"168",cy:"188",r:"8"}))});Sa.set("regular",function(r){return S.createElement(S.Fragment,null,S.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("circle",{cx:"88",cy:"148",r:"12"}),S.createElement("circle",{cx:"128",cy:"148",r:"12"}),S.createElement("circle",{cx:"168",cy:"148",r:"12"}),S.createElement("circle",{cx:"88",cy:"188",r:"12"}),S.createElement("circle",{cx:"128",cy:"188",r:"12"}),S.createElement("circle",{cx:"168",cy:"188",r:"12"}))});var OD=function(e,n){return Qr(e,n,Sa)},Yb=j.forwardRef(function(r,e){return S.createElement(pr,Object.assign({ref:e},r,{renderPath:OD}))});Yb.displayName="Calculator";var wa=new Map;wa.set("bold",function(r){return S.createElement(S.Fragment,null,S.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),S.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),S.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),S.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});wa.set("duotone",function(r){return S.createElement(S.Fragment,null,S.createElement("rect",{x:"156",y:"40",width:"56",height:"168",opacity:"0.2"}),S.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});wa.set("fill",function(){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M228,200h-8V40a8,8,0,0,0-8-8H156a8,8,0,0,0-8,8V80H100a8,8,0,0,0-8,8v40H44a8,8,0,0,0-8,8v64H28a8,8,0,0,0,0,16H228a8,8,0,0,0,0-16ZM108,96h40V200H108ZM52,144H92v56H52Z"}))});wa.set("light",function(r){return S.createElement(S.Fragment,null,S.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),S.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),S.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),S.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});wa.set("thin",function(r){return S.createElement(S.Fragment,null,S.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),S.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),S.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),S.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});wa.set("regular",function(r){return S.createElement(S.Fragment,null,S.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var LD=function(e,n){return Qr(e,n,wa)},Wb=j.forwardRef(function(r,e){return S.createElement(pr,Object.assign({ref:e},r,{renderPath:LD}))});Wb.displayName="ChartBar";var xa=new Map;xa.set("bold",function(r){return S.createElement(S.Fragment,null,S.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),S.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),S.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),S.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});xa.set("duotone",function(r){return S.createElement(S.Fragment,null,S.createElement("circle",{cx:"128",cy:"128",r:"88",opacity:"0.2"}),S.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});xa.set("fill",function(){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M136,80v43.4l37.6,21.7a8,8,0,0,1-4,14.9,7.1,7.1,0,0,1-4-1.1l-41.6-24h-.2l-.4-.2-.3-.3-.3-.2-.3-.3-.2-.2c-.2-.1-.3-.3-.4-.4l-.2-.2-.2-.4-.2-.3-.2-.3a.5.5,0,0,1-.2-.4l-.2-.3c0-.1-.1-.2-.1-.4a.4.4,0,0,1-.1-.3l-.2-.4a.4.4,0,0,0-.1-.3c0-.2,0-.3-.1-.4v-.4c0-.2-.1-.3-.1-.4V80a8,8,0,0,1,16,0Zm59.9-19.9a96.2,96.2,0,0,0-135.8,0l-8.3,8.3L37.5,54.1a8,8,0,0,0-8.7-1.8,8.2,8.2,0,0,0-5,7.4v40a8,8,0,0,0,8,8h40a8,8,0,0,0,5.7-13.6L63.1,79.7l8.3-8.3a80,80,0,1,1,0,113.2,7.9,7.9,0,0,0-11.3,0,8,8,0,0,0,0,11.3A96,96,0,0,0,195.9,60.1Z"}))});xa.set("light",function(r){return S.createElement(S.Fragment,null,S.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),S.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),S.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),S.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});xa.set("thin",function(r){return S.createElement(S.Fragment,null,S.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),S.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),S.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),S.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});xa.set("regular",function(r){return S.createElement(S.Fragment,null,S.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var MD=function(e,n){return Qr(e,n,xa)},Xb=j.forwardRef(function(r,e){return S.createElement(pr,Object.assign({ref:e},r,{renderPath:MD}))});Xb.displayName="ClockCounterClockwise";var Ra=new Map;Ra.set("bold",function(r){return S.createElement(S.Fragment,null,S.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),S.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ra.set("duotone",function(r){return S.createElement(S.Fragment,null,S.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ra.set("fill",function(){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M152,120H136V56h8a32.1,32.1,0,0,1,32,32,8,8,0,0,0,16,0,48,48,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40H108a48,48,0,0,0,0,96h12v64H104a32.1,32.1,0,0,1-32-32,8,8,0,0,0-16,0,48,48,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-32,0H108a32,32,0,0,1,0-64h12Zm32,80H136V136h16a32,32,0,0,1,0,64Z"}))});Ra.set("light",function(r){return S.createElement(S.Fragment,null,S.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),S.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ra.set("thin",function(r){return S.createElement(S.Fragment,null,S.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),S.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ra.set("regular",function(r){return S.createElement(S.Fragment,null,S.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var VD=function(e,n){return Qr(e,n,Ra)},Zb=j.forwardRef(function(r,e){return S.createElement(pr,Object.assign({ref:e},r,{renderPath:VD}))});Zb.displayName="CurrencyDollar";var ka=new Map;ka.set("bold",function(r){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M96,160H40a8,8,0,0,1-8-8V104a8,8,0,0,1,8-8H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8V96h56a8,8,0,0,1,8,8v48a8,8,0,0,1-8,8H160v56a8,8,0,0,1-8,8H104a8,8,0,0,1-8-8V160Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});ka.set("duotone",function(r){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M96,160H40a8,8,0,0,1-8-8V104a8,8,0,0,1,8-8H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8V96h56a8,8,0,0,1,8,8v48a8,8,0,0,1-8,8H160v56a8,8,0,0,1-8,8H104a8,8,0,0,1-8-8V160Z",opacity:"0.2"}),S.createElement("path",{d:"M96,160H40a8,8,0,0,1-8-8V104a8,8,0,0,1,8-8H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8V96h56a8,8,0,0,1,8,8v48a8,8,0,0,1-8,8H160v56a8,8,0,0,1-8,8H104a8,8,0,0,1-8-8V160Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});ka.set("fill",function(){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M232,104v48a16,16,0,0,1-16,16H168v48a16,16,0,0,1-16,16H104a16,16,0,0,1-16-16V168H40a16,16,0,0,1-16-16V104A16,16,0,0,1,40,88H88V40a16,16,0,0,1,16-16h48a16,16,0,0,1,16,16V88h48A16,16,0,0,1,232,104Z"}))});ka.set("light",function(r){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M96,160H40a8,8,0,0,1-8-8V104a8,8,0,0,1,8-8H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8V96h56a8,8,0,0,1,8,8v48a8,8,0,0,1-8,8H160v56a8,8,0,0,1-8,8H104a8,8,0,0,1-8-8V160Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});ka.set("thin",function(r){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M96,160H40a8,8,0,0,1-8-8V104a8,8,0,0,1,8-8H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8V96h56a8,8,0,0,1,8,8v48a8,8,0,0,1-8,8H160v56a8,8,0,0,1-8,8H104a8,8,0,0,1-8-8V160Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});ka.set("regular",function(r){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M96,160H40a8,8,0,0,1-8-8V104a8,8,0,0,1,8-8H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8V96h56a8,8,0,0,1,8,8v48a8,8,0,0,1-8,8H160v56a8,8,0,0,1-8,8H104a8,8,0,0,1-8-8V160Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var jD=function(e,n){return Qr(e,n,ka)},Jb=j.forwardRef(function(r,e){return S.createElement(pr,Object.assign({ref:e},r,{renderPath:jD}))});Jb.displayName="FirstAid";var Ia=new Map;Ia.set("bold",function(r){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),S.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),S.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),S.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ia.set("duotone",function(r){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M33.1,74.6A8.1,8.1,0,0,0,32,78.7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.6,7.6,0,0,0,3.9,1h0l.9-106.8L33.1,74.6Z",opacity:"0.2"}),S.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ia.set("fill",function(){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M229.9,70.8h0a.1.1,0,0,1-.1-.1,16.2,16.2,0,0,0-6-5.9l-88-49.5a16,16,0,0,0-15.6,0l-88,49.5a16.2,16.2,0,0,0-6,5.9.1.1,0,0,1-.1.1v.2A15,15,0,0,0,24,78.7v98.6a16.1,16.1,0,0,0,8.2,14l88,49.5a16.5,16.5,0,0,0,7.2,2h1.4a15.7,15.7,0,0,0,7-2l88-49.5a16.1,16.1,0,0,0,8.2-14V78.7A15.6,15.6,0,0,0,229.9,70.8ZM128,29.2,207.7,74,177.1,91.4,96.4,46.9Zm.9,89.6L48.4,74,80,56.2l80.8,44.5Zm7.2,103.5.8-89.6L169,114.4v38.1a8,8,0,0,0,16,0V105.3l31-17.6v89.6Z"}))});Ia.set("light",function(r){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),S.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),S.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),S.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ia.set("thin",function(r){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),S.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),S.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),S.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ia.set("regular",function(r){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var PD=function(e,n){return Qr(e,n,Ia)},eA=j.forwardRef(function(r,e){return S.createElement(pr,Object.assign({ref:e},r,{renderPath:PD}))});eA.displayName="Package";var Ca=new Map;Ca.set("bold",function(r){return S.createElement(S.Fragment,null,S.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),S.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),S.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ca.set("duotone",function(r){return S.createElement(S.Fragment,null,S.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ca.set("fill",function(){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M221.7,133.7l-42,42A8.3,8.3,0,0,1,174,178a7.7,7.7,0,0,1-3-.6,8,8,0,0,1-5-7.4V136H104a8,8,0,0,1,0-16h62V86a8,8,0,0,1,5-7.4,8.2,8.2,0,0,1,8.7,1.7l42,42A8.1,8.1,0,0,1,221.7,133.7ZM104,208H48V48h56a8,8,0,0,0,0-16H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16h56a8,8,0,0,0,0-16Z"}))});Ca.set("light",function(r){return S.createElement(S.Fragment,null,S.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),S.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),S.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ca.set("thin",function(r){return S.createElement(S.Fragment,null,S.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),S.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),S.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ca.set("regular",function(r){return S.createElement(S.Fragment,null,S.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var UD=function(e,n){return Qr(e,n,Ca)},tA=j.forwardRef(function(r,e){return S.createElement(pr,Object.assign({ref:e},r,{renderPath:UD}))});tA.displayName="SignOut";var Na=new Map;Na.set("bold",function(r){return S.createElement(S.Fragment,null,S.createElement("polyline",{points:"72.2 128.2 152.2 40.2 216 40 215.8 103.8 127.8 183.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),S.createElement("line",{x1:"100",y1:"156",x2:"160",y2:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),S.createElement("path",{d:"M82.1,205.5,60.2,227.4a8,8,0,0,1-11.3,0L28.6,207.1a8,8,0,0,1,0-11.3l21.9-21.9a8,8,0,0,0,0-11.4L33.7,145.7a8,8,0,0,1,0-11.4l16.6-16.6a8,8,0,0,1,11.4,0l76.6,76.6a8,8,0,0,1,0,11.4l-16.6,16.6a8,8,0,0,1-11.4,0L93.5,205.5A8,8,0,0,0,82.1,205.5Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Na.set("duotone",function(r){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M82.1,197.5,52.2,227.4a8,8,0,0,1-11.3,0L28.6,215.1a8,8,0,0,1,0-11.3l29.9-29.9a8,8,0,0,0,0-11.4L37.7,141.7a8,8,0,0,1,0-11.4l12.6-12.6a8,8,0,0,1,11.4,0l76.6,76.6a8,8,0,0,1,0,11.4l-12.6,12.6a8,8,0,0,1-11.4,0L93.5,197.5A8,8,0,0,0,82.1,197.5Z",opacity:"0.2"}),S.createElement("polyline",{points:"76.2 132.2 152.2 40.2 216 40 215.8 103.8 123.8 179.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("line",{x1:"100",y1:"156",x2:"160",y2:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("path",{d:"M82.1,197.5,52.2,227.4a8,8,0,0,1-11.3,0L28.6,215.1a8,8,0,0,1,0-11.3l29.9-29.9a8,8,0,0,0,0-11.4L37.7,141.7a8,8,0,0,1,0-11.4l12.6-12.6a8,8,0,0,1,11.4,0l76.6,76.6a8,8,0,0,1,0,11.4l-12.6,12.6a8,8,0,0,1-11.4,0L93.5,197.5A8,8,0,0,0,82.1,197.5Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Na.set("fill",function(){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M221.7,34.3A8.1,8.1,0,0,0,216,32h0l-63.8.2a8.1,8.1,0,0,0-6.2,2.9L75.6,120.3,67.3,112a16.1,16.1,0,0,0-22.6,0L32,124.7a15.9,15.9,0,0,0,0,22.6l20.9,20.9-30,29.9a16.2,16.2,0,0,0,0,22.7l12.3,12.3a16.3,16.3,0,0,0,22.7,0l29.9-30L108.7,224a16.1,16.1,0,0,0,22.6,0L144,211.3a15.9,15.9,0,0,0,0-22.6l-8.3-8.3L220.9,110a8.1,8.1,0,0,0,2.9-6.2L224,40A8.1,8.1,0,0,0,221.7,34.3ZM207.8,100l-83.5,69-13-13,54.4-54.3a8.1,8.1,0,0,0-11.4-11.4L100,144.7l-13-13,69-83.5,52-.2Z"}))});Na.set("light",function(r){return S.createElement(S.Fragment,null,S.createElement("polyline",{points:"76.2 132.2 152.2 40.2 216 40 215.8 103.8 123.8 179.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),S.createElement("line",{x1:"100",y1:"156",x2:"160",y2:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),S.createElement("path",{d:"M82.1,197.5,52.2,227.4a8,8,0,0,1-11.3,0L28.6,215.1a8,8,0,0,1,0-11.3l29.9-29.9a8,8,0,0,0,0-11.4L37.7,141.7a8,8,0,0,1,0-11.4l12.6-12.6a8,8,0,0,1,11.4,0l76.6,76.6a8,8,0,0,1,0,11.4l-12.6,12.6a8,8,0,0,1-11.4,0L93.5,197.5A8,8,0,0,0,82.1,197.5Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Na.set("thin",function(r){return S.createElement(S.Fragment,null,S.createElement("polyline",{points:"76.2 132.2 152.2 40.2 216 40 215.8 103.8 123.8 179.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),S.createElement("line",{x1:"100",y1:"156",x2:"160",y2:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),S.createElement("path",{d:"M82.1,197.5,52.2,227.4a8,8,0,0,1-11.3,0L28.6,215.1a8,8,0,0,1,0-11.3l29.9-29.9a8,8,0,0,0,0-11.4L37.7,141.7a8,8,0,0,1,0-11.4l12.6-12.6a8,8,0,0,1,11.4,0l76.6,76.6a8,8,0,0,1,0,11.4l-12.6,12.6a8,8,0,0,1-11.4,0L93.5,197.5A8,8,0,0,0,82.1,197.5Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Na.set("regular",function(r){return S.createElement(S.Fragment,null,S.createElement("polyline",{points:"76.2 132.2 152.2 40.2 216 40 215.8 103.8 123.8 179.8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("line",{x1:"100",y1:"156",x2:"160",y2:"96",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("path",{d:"M82.1,197.5,52.2,227.4a8,8,0,0,1-11.3,0L28.6,215.1a8,8,0,0,1,0-11.3l29.9-29.9a8,8,0,0,0,0-11.4L37.7,141.7a8,8,0,0,1,0-11.4l12.6-12.6a8,8,0,0,1,11.4,0l76.6,76.6a8,8,0,0,1,0,11.4l-12.6,12.6a8,8,0,0,1-11.4,0L93.5,197.5A8,8,0,0,0,82.1,197.5Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var zD=function(e,n){return Qr(e,n,Na)},nA=j.forwardRef(function(r,e){return S.createElement(pr,Object.assign({ref:e},r,{renderPath:zD}))});nA.displayName="Sword";var Da=new Map;Da.set("bold",function(r){return S.createElement(S.Fragment,null,S.createElement("circle",{cx:"128",cy:"140",r:"88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),S.createElement("line",{x1:"128",y1:"140",x2:"161.9",y2:"106.1",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),S.createElement("line",{x1:"104",y1:"12",x2:"152",y2:"12",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Da.set("duotone",function(r){return S.createElement(S.Fragment,null,S.createElement("circle",{cx:"128",cy:"128",r:"88",opacity:"0.2"}),S.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),S.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Da.set("fill",function(){return S.createElement(S.Fragment,null,S.createElement("path",{d:"M104,16h48a8,8,0,0,0,0-16H104a8,8,0,0,0,0,16Z"}),S.createElement("path",{d:"M128,32a96,96,0,1,0,96,96A96.2,96.2,0,0,0,128,32Zm45.3,62.1-39.6,39.6a8.2,8.2,0,0,1-11.4,0,8.1,8.1,0,0,1,0-11.4l39.6-39.6a8.1,8.1,0,1,1,11.4,11.4Z"}))});Da.set("light",function(r){return S.createElement(S.Fragment,null,S.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),S.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),S.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Da.set("thin",function(r){return S.createElement(S.Fragment,null,S.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),S.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),S.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Da.set("regular",function(r){return S.createElement(S.Fragment,null,S.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:r,strokeMiterlimit:"10",strokeWidth:"16"}),S.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var BD=function(e,n){return Qr(e,n,Da)},rA=j.forwardRef(function(r,e){return S.createElement(pr,Object.assign({ref:e},r,{renderPath:BD}))});rA.displayName="Timer";const HD=({children:r})=>{const e=Ai(),{currentSpace:n,setCurrentSpace:s}=Hb(),o=async()=>{await fD()},u=[{path:"/",label:"Dashboard",Icon:Wb},{path:"/stocks",label:"Stocks",Icon:eA},{path:"/prices",label:"Prix",Icon:Zb},{path:"/calculator",label:"Calculateur",Icon:Yb},{path:"/timers",label:"Transformations",Icon:rA},{path:"/history",label:"Historique",Icon:Xb}],h=m=>e.pathname===m;return T.jsxs("div",{className:"min-h-screen flex flex-col",children:[T.jsx("header",{className:"bg-card sticky top-0 z-10 border-b border-border shadow-soft",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[T.jsxs("h1",{className:"text-2xl font-bold text-peach flex gap-2 items-center",children:[T.jsx($b,{size:24,weight:"duotone"}),"Brewsy"]}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("div",{className:"flex items-center gap-2 bg-surface rounded-soft p-1 shadow-sm border border-border",children:[T.jsxs("button",{onClick:()=>s("naturopathie"),className:`flex items-center gap-2 px-3 py-2 rounded-soft transition-all ${n==="naturopathie"?"bg-sage text-white font-semibold shadow-soft":"text-text-muted hover:text-text hover:bg-card"}`,title:"Espace Naturopathie",children:[T.jsx(Jb,{size:20,weight:n==="naturopathie"?"fill":"duotone"}),T.jsx("span",{className:"hidden sm:inline",children:"Naturo"})]}),T.jsxs("button",{onClick:()=>s("malandrinerie"),className:`flex items-center gap-2 px-3 py-2 rounded-soft transition-all ${n==="malandrinerie"?"bg-peach text-white font-semibold shadow-soft":"text-text-muted hover:text-text hover:bg-card"}`,title:"Espace Malandrinerie",children:[T.jsx(nA,{size:20,weight:n==="malandrinerie"?"fill":"duotone"}),T.jsx("span",{className:"hidden sm:inline",children:"Malandrin"})]})]}),T.jsx("button",{onClick:o,className:"p-2 rounded-soft hover:bg-surface transition-colors text-text-secondary",title:"Dconnexion",children:T.jsx(tA,{size:24,weight:"duotone"})})]})]})}),T.jsxs("div",{className:"flex-1 flex",children:[T.jsx("nav",{className:"w-64 glass-strong p-4 hidden md:block border-r border-border shadow-glass",children:T.jsx("ul",{className:"space-y-2",children:u.map(m=>T.jsx("li",{children:T.jsxs(zh,{to:m.path,className:`flex items-center gap-3 px-4 py-3 rounded-soft transition-colors ${h(m.path)?"bg-sky text-peach-dark font-semibold shadow-glass":"text-text-muted hover:glass"}`,children:[T.jsx(m.Icon,{size:24,weight:h(m.path)?"fill":"duotone"}),T.jsx("span",{children:m.label})]})},m.path))})}),T.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-y-auto",children:T.jsx("div",{className:"max-w-7xl mx-auto",children:r})})]}),T.jsx("nav",{className:"md:hidden glass-strong sticky bottom-0 border-t border-border shadow-glass",children:T.jsx("ul",{className:"flex justify-around py-2",children:u.map(m=>T.jsx("li",{children:T.jsxs(zh,{to:m.path,className:`flex flex-col items-center gap-1 px-3 py-2 rounded-soft transition-colors ${h(m.path)?"text-sky font-semibold":"text-text-muted"}`,children:[T.jsx(m.Icon,{size:24,weight:h(m.path)?"fill":"duotone"}),T.jsx("span",{className:"text-xs",children:m.label})]})},m.path))})})]})},gn=({children:r,variant:e="primary",size:n="md",className:s="",...o})=>{const u="font-semibold rounded-soft transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",h={primary:"bg-gradient-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark text-white shadow-soft",secondary:"bg-surface hover:bg-surface-hover text-text border border-border",outline:"border-2 border-peach text-peach hover:bg-peach-light",danger:"bg-peach hover:bg-peach-dark text-white shadow-soft"},m={sm:"py-1.5 px-3 text-sm",md:"py-2 px-4",lg:"py-3 px-6 text-lg"};return T.jsx("button",{className:`${u} ${h[e]} ${m[n]} ${s}`,...o,children:r})},qD=()=>{const{user:r}=ba(),[e,n]=j.useState([]),[s,o]=j.useState([]),[u,h]=j.useState(null),[m,g]=j.useState("1"),[p,E]=j.useState("0"),[b,x]=j.useState({});j.useEffect(()=>{if(!r)return;const se=qb(r.uid,n),ge=e0(r.uid,o);return()=>{se(),ge()}},[r]);const L=se=>e.find(ge=>ge.crateId===se),G=async(se,ge,he)=>{if(!r)return;const I=L(se),k=Math.max(0,(I?.quantity||0)+he);await cp(r.uid,se,k,ge)},Y=async(se,ge,he)=>{r&&await cp(r.uid,se,Math.max(0,he),ge)},Q=se=>{const he=L(se)?.quantity||0;h(se),g(String(he));const I=re.get(se)||0;E(String(I*he))},ie=async(se,ge)=>{const he=parseInt(m)||0,I=parseInt(p)||0;if(!r||he<=0||I<0)return;const k=L(se);if(!k||k.quantity<he){alert("Stock insuffisant");return}const D=(re.get(se)||0)*he;try{await wD(r.uid,se,ge,he,D,I,void 0),await cp(r.uid,se,k.quantity-he,ge),h(null),g("1"),E("0")}catch(O){console.error("Erreur lors de la vente:",O),alert("Erreur lors de l'enregistrement de la vente")}},re=new Map(s.map(se=>[se.crateId,zd(se.values)])),ae=ud.reduce((se,ge)=>{const he=L(ge.id),I=re.get(ge.id)||0;return se+Up(he?.quantity||0,I)},0);return T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Stocks"}),T.jsxs("div",{className:"text-right",children:[T.jsx("div",{className:"text-sm text-dark-600 dark:text-dark-400",children:"Valeur totale"}),T.jsxs("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:[ae.toLocaleString()," $"]})]})]}),T.jsx("div",{className:"grid grid-cols-1 gap-3",children:ud.map(se=>{const he=L(se.id)?.quantity||0,I=re.get(se.id)||0,k=Up(he,I);return T.jsx(mt,{children:T.jsxs(pt,{className:"p-4",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[T.jsx("span",{className:"text-3xl",children:se.icon}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-semibold text-dark-800 dark:text-dark-100",children:se.label}),I>0&&T.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[I.toLocaleString()," $ / caisse"]})]})]}),T.jsxs("div",{className:"flex items-center gap-1.5",children:[T.jsx("button",{onClick:()=>G(se.id,se.label,-10),className:"w-9 h-9 rounded-soft bg-peach-light hover:bg-peach transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"-10",children:"--"}),T.jsx("button",{onClick:()=>G(se.id,se.label,-1),className:"w-9 h-9 rounded-soft bg-lavender-light hover:bg-lavender transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"-1",children:"-"}),T.jsx("input",{type:"number",value:b[se.id]!==void 0?b[se.id]:he,onChange:R=>{const D=R.target.value;x(O=>({...O,[se.id]:D}))},onBlur:()=>{const R=b[se.id];R!==void 0&&(Y(se.id,se.label,parseInt(R)||0),x(D=>{const O={...D};return delete O[se.id],O}))},onKeyDown:R=>{R.key==="Enter"&&R.currentTarget.blur()},className:"w-20 text-center px-3 py-2 rounded-soft border border-border bg-card text-text font-semibold shadow-sm focus:ring-2 focus:ring-peach/30 focus:border-peach outline-none transition-all"}),T.jsx("button",{onClick:()=>G(se.id,se.label,1),className:"w-9 h-9 rounded-soft bg-sage-light hover:bg-sage transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"+1",children:"+"}),T.jsx("button",{onClick:()=>G(se.id,se.label,10),className:"w-9 h-9 rounded-soft bg-butter-light hover:bg-butter transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"+10",children:"++"})]}),T.jsx("div",{className:"text-right min-w-[100px]",children:T.jsxs("div",{className:"text-lg font-bold text-peach-600 dark:text-peach-400",children:[k.toLocaleString()," $"]})}),T.jsx(gn,{size:"sm",variant:"secondary",onClick:()=>Q(se.id),disabled:he===0,children:" Vendre"})]}),u===se.id&&T.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:T.jsxs("div",{className:"flex items-end gap-2",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Quantit"}),T.jsx("input",{type:"number",min:"1",max:he,value:m,onChange:R=>{const D=R.target.value;g(D);const O=parseInt(D)||0;O>0&&E(String(I*O))},className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Prix total rcolt"}),T.jsx("input",{type:"number",min:"0",value:p,onChange:R=>E(R.target.value),className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),T.jsx(gn,{size:"sm",variant:"secondary",onClick:()=>h(null),children:""}),T.jsx(gn,{size:"sm",onClick:()=>ie(se.id,se.label),children:" Vendre"})]})})]})},se.id)})})]})},FD=()=>{const{user:r}=ba(),[e,n]=j.useState([]),[s,o]=j.useState({});j.useEffect(()=>r?e0(r.uid,n):void 0,[r]);const u=p=>e.find(E=>E.crateId===p),h=async p=>{if(!r)return;const E=s[p],b=parseInt(E);!b||b<=0||(await _D(r.uid,p,b),o({...s,[p]:""}))},m=async(p,E)=>{r&&await ED(r.uid,p,E)},g=(p,E)=>{p.key==="Enter"&&h(E)};return T.jsxs("div",{className:"space-y-4",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Prix moyens"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ud.map(p=>{const E=u(p.id),b=E?zd(E.values):0,x=E?Math.min(...E.values):0,L=E?Math.max(...E.values):0,G=E?.values.length||0;return T.jsx(mt,{children:T.jsxs(pt,{className:"p-4",children:[T.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-2xl",children:p.icon}),T.jsx("h3",{className:"font-semibold text-dark-800 dark:text-dark-100",children:p.label})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("div",{className:"text-xl font-bold text-peach-600 dark:text-peach-400",children:b>0?`${b.toLocaleString()} $`:""}),T.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[G," prix"]})]})]}),G>0&&T.jsxs("div",{className:"flex gap-4 text-xs mb-3 py-2 px-3 bg-butter-50 dark:bg-dark-700 rounded",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-dark-500 dark:text-dark-500",children:"Min:"}),T.jsxs("span",{className:"ml-1 font-semibold text-sage-600 dark:text-sage-400",children:[x.toLocaleString()," $"]})]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-dark-500 dark:text-dark-500",children:"Max:"}),T.jsxs("span",{className:"ml-1 font-semibold text-lavender-600 dark:text-lavender-400",children:[L.toLocaleString()," $"]})]})]}),T.jsxs("div",{className:"flex gap-2 mb-3",children:[T.jsx("input",{type:"number",placeholder:"Nouveau prix",value:s[p.id]||"",onChange:Y=>o({...s,[p.id]:Y.target.value}),onKeyPress:Y=>g(Y,p.id),className:"flex-1 px-3 py-1.5 text-sm rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"}),T.jsx("button",{onClick:()=>h(p.id),className:"px-4 py-1.5 text-sm font-semibold rounded-soft bg-linear-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark text-white transition-all shadow-sm hover:shadow-soft",children:"+"})]}),E&&E.values.length>0&&T.jsxs("div",{className:"space-y-1",children:[E.values.slice(0,3).map((Y,Q)=>T.jsxs("div",{className:"flex items-center justify-between py-1 px-2 text-sm   rounded border border-peach/20 bg-peach/20 dark:border-dark-600",children:[T.jsxs("span",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[Y.toLocaleString()," $"]}),T.jsx("button",{onClick:()=>m(p.id,Q),className:"text-xs px-2 py-0.5 rounded 0 text-dark  dark:hover:bg-red-900/50 transition-colors",children:""})]},Q)),E.values.length>3&&T.jsxs("div",{className:"text-xs text-center text-dark-500 dark:text-dark-500 py-1",children:["+",E.values.length-3," autre(s)"]})]})]})},p.id)})})]})},iA=({label:r,children:e,className:n="",...s})=>T.jsxs("div",{className:"w-full",children:[r&&T.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:r}),T.jsx("select",{className:`w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all ${n}`,...s,children:e})]}),sA=j.forwardRef(({label:r,error:e,className:n="",...s},o)=>T.jsxs("div",{className:"w-full",children:[r&&T.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-200 mb-1",children:r}),T.jsx("input",{ref:o,className:`w-full px-4 py-2 rounded-input border ${e?"border-peach-dark focus:ring-peach-dark":"border-border focus:ring-peach/30"} bg-card text-text focus:outline-none focus:ring-2 focus:border-peach shadow-sm transition-all ${n}`,...s}),e&&T.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:e})]}));sA.displayName="Input";const GD=()=>{const[r,e]=j.useState([]),[n,s]=j.useState(null),[o,u]=j.useState("1");j.useEffect(()=>{h()},[]);const h=async()=>{const x=await Ud();e(x),x.length>0&&s(x[0])},m=x=>{const L=r.find(G=>G.id===x);s(L||null)},g=parseInt(o)||1,p=n?xD(n,g):0,E=RD(g),b=n?kD(n,g):0;return T.jsxs("div",{className:"space-y-4",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Calculateur"}),T.jsx(mt,{children:T.jsx(pt,{className:"p-4",children:T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[T.jsx(iA,{label:"Transformation",value:n?.id||"",onChange:x=>m(x.target.value),children:r.length===0?T.jsx("option",{children:"Chargement..."}):r.map(x=>T.jsxs("option",{value:x.id,children:[x.name," (",x.durationHours,"h)"]},x.id))}),T.jsx(sA,{label:"Nombre",type:"number",min:"1",value:o,onChange:x=>u(x.target.value)})]})})}),n&&T.jsx(mt,{children:T.jsxs(pt,{className:"p-4",children:[T.jsx("h2",{className:"font-semibold text-dark-800 dark:text-dark-100 mb-3",children:n.name}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[T.jsxs("div",{className:"p-2 bg-butter-50 dark:bg-dark-700 rounded",children:[T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Matriau"}),T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.input.quantity," ",n.input.materialName]})]}),T.jsxs("div",{className:"p-2 bg-lavender-50 dark:bg-dark-700 rounded",children:[T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Outil"}),T.jsx("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:n.tool.name})]}),T.jsxs("div",{className:"p-2 bg-sage-50 dark:bg-dark-700 rounded",children:[T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Dure"}),T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.durationHours,"h",T.jsx("span",{className:"text-xs text-dark-400 dark:text-dark-600",children:" (-1h si )"})]})]}),T.jsxs("div",{className:"p-2 bg-sky-50 dark:bg-dark-700 rounded",children:[T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Caisse"}),T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.crate.quantityPerCrate," /caisse"]})]})]})]})}),T.jsx(mt,{children:T.jsxs(pt,{className:"p-4",children:[T.jsxs("h2",{className:"font-semibold text-dark-800 dark:text-dark-100 mb-3",children:["Pour ",g," transformation",g>1?"s":""]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[T.jsxs("div",{className:"p-3 bg-gradient-to-br from-peach-50 to-butter-50 dark:from-peach-900/20 dark:to-butter-900/20 rounded-cozy",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Matriaux ncessaires"}),T.jsx("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:p}),T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:n?.input.materialName})]}),T.jsxs("div",{className:"p-3 bg-gradient-to-br from-lavender-50 to-sage-50 dark:from-lavender-900/20 dark:to-sage-900/20 rounded-cozy",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Outils requis"}),T.jsx("div",{className:"text-2xl font-bold text-lavender-600 dark:text-lavender-400",children:E}),T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:n?.tool.name})]}),n&&n.tool.price>0&&T.jsxs("div",{className:"p-3 bg-gradient-to-br from-sky-50 to-lavender-50 dark:from-sky-900/20 dark:to-lavender-900/20 rounded-cozy",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Cot total"}),T.jsxs("div",{className:"text-2xl font-bold text-sky-600 dark:text-sky-400",children:[b.toLocaleString()," $"]}),T.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[n.tool.price.toLocaleString()," $  ",E]})]})]})]})})]})},KD=({isOpen:r,onClose:e,title:n,children:s,actions:o})=>r?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-dark-900/50 backdrop-blur-sm",onClick:e,children:T.jsxs("div",{className:"bg-card rounded-soft-lg shadow-soft-lg border border-border max-w-md w-full overflow-hidden",onClick:u=>u.stopPropagation(),children:[T.jsxs("div",{className:"px-6 py-4 border-b border-border flex items-center justify-between",children:[T.jsx("h2",{className:"text-lg font-semibold text-text",children:n}),T.jsx("button",{onClick:e,className:"w-8 h-8 rounded-soft flex items-center justify-center hover:bg-surface transition-colors text-text-muted hover:text-text",children:""})]}),T.jsx("div",{className:"px-6 py-4 text-text-secondary",children:s}),o&&T.jsx("div",{className:"px-6 py-4 border-t border-border flex items-center justify-end gap-2",children:o})]})}):null,QD=()=>{const{user:r}=ba(),[e,n]=j.useState([]),[s,o]=j.useState([]),[u,h]=j.useState(null),[m,g]=j.useState(!1),[p,E]=j.useState(""),[b,x]=j.useState("1"),[L,G]=j.useState(""),[Y,Q]=j.useState(""),[ie,re]=j.useState(!1),[ae,se]=j.useState(null),[,ge]=j.useState(Date.now());j.useEffect(()=>{he()},[]),j.useEffect(()=>r?Fb(r.uid,o):void 0,[r]),j.useEffect(()=>{const q=setInterval(()=>{ge(Date.now())},1e3);return()=>clearInterval(q)},[]);const he=async()=>{const[q,de]=await Promise.all([Ud(),vD()]);n(q),h(de),q.length>0&&E(q[0].id)},I=async()=>{if(!r||!p)return;const q=e.find(Ce=>Ce.id===p);if(!q)return;let de;L&&Y?de=new Date(`${L}T${Y}`):L&&(de=new Date(L)),await TD(r.uid,p,parseInt(b)||1,q.durationHours,de),x("1"),G(""),Q(""),g(!1)},k=async q=>{!r||!q||await AD(r.uid,q,u?.rules.timeReductionHours)},R=async q=>{!r||!q.id||(await bD(r.uid,q.id,"DONE"),await SD(r.uid,q.transformationId,q.startedAt,q.endsAt,q.reducedByAction))},D=async q=>{r&&await AE(r.uid,q)},O=q=>{se(q),re(!0)},P=async()=>{!r||!ae||(await AE(r.uid,ae),re(!1),se(null))},C=q=>e.find(de=>de.id===q.transformationId),We=s.filter(q=>q.status==="RUNNING"&&!ld(q.endsAt.toDate())),ct=s.filter(q=>q.status!=="DONE"&&ld(q.endsAt.toDate())),W=s.filter(q=>q.status==="DONE");return T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Transformations"}),T.jsx(gn,{onClick:()=>g(!m),size:"sm",children:m?"":"+ Nouveau"})]}),m&&T.jsx(mt,{children:T.jsxs(pt,{className:"p-4",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[T.jsx(iA,{label:"Type",value:p,onChange:q=>E(q.target.value),children:e.map(q=>T.jsxs("option",{value:q.id,children:[q.name," (",q.durationHours,"h)"]},q.id))}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Productions places"}),T.jsx("input",{type:"number",min:"1",value:b,onChange:q=>x(q.target.value),className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:" Date de dbut (optionnel)"}),T.jsx("input",{type:"date",value:L,onChange:q=>G(q.target.value),className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-lavender/30 focus:border-lavender transition-all hover:border-lavender/50",style:{colorScheme:"light dark"}})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:" Heure de dbut (optionnel)"}),T.jsx("input",{type:"time",value:Y,onChange:q=>Q(q.target.value),className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-lavender/30 focus:border-lavender transition-all hover:border-lavender/50",style:{colorScheme:"light dark"}})]})]}),L&&T.jsxs("div",{className:"mb-3 p-2 bg-lavender-light rounded-soft text-xs text-text-muted",children:[" Si vide, dmarre maintenant. Sinon, dmarre le ",L," ",Y&&` ${Y}`]}),T.jsx(gn,{onClick:I,className:"w-full",children:" Dmarrer"})]})}),ct.length>0&&T.jsxs("div",{className:"space-y-2",children:[T.jsxs("h2",{className:"text-lg font-semibold text-sage-600 dark:text-sage-400",children:[" Prtes (",ct.length,")"]}),ct.map(q=>{const de=C(q);return T.jsx(mt,{className:"border-2 border-sage-400 dark:border-sage-600",children:T.jsx(pt,{className:"p-3",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[de?.name,q.reducedByAction&&T.jsx("span",{className:"ml-2 text-xs",children:""})]}),T.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400",children:[q.inputQuantityUsed," production",q.inputQuantityUsed>1?"s":""]})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx(gn,{size:"sm",variant:"secondary",onClick:()=>R(q),children:"Rcolter"}),T.jsx(gn,{size:"sm",variant:"danger",onClick:()=>q.id&&D(q.id),children:""})]})]})})},q.id)})]}),We.length>0&&T.jsxs("div",{className:"space-y-2",children:[T.jsxs("h2",{className:"text-lg font-semibold text-lavender-600 dark:text-lavender-400",children:["En cours (",We.length,")"]}),We.map(q=>{const de=C(q),Ce=Kb(q.endsAt.toDate()),Be=q.durationHours*60*60*1e3,V=Math.max(0,Math.min(100,(Be-Ce)/Be*100));return T.jsx(mt,{children:T.jsxs(pt,{className:"p-3",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[de?.name,q.reducedByAction&&T.jsx("span",{className:"ml-2 text-xs",children:""})]}),T.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400",children:[q.inputQuantityUsed," production",q.inputQuantityUsed>1?"s":"","  Fin prvue: ",q.endsAt.toDate().toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-sm font-semibold text-lavender-600 dark:text-lavender-400",children:Qb(Ce)}),T.jsx(gn,{variant:"secondary",size:"sm",onClick:()=>q.id&&k(q.id),disabled:q.reducedByAction,title:q.reducedByAction?"Dj arros":"Arroser (-1h)",children:""}),T.jsx(gn,{variant:"danger",size:"sm",onClick:()=>q.id&&O(q.id),title:"Annuler la production",children:"Annuler"})]})]}),T.jsx("div",{className:"w-full bg-surface rounded-full h-2 overflow-hidden border border-border",children:T.jsx("div",{className:"h-full bg-linear-to-r from-lavender to-peach transition-all duration-1000",style:{width:`${V}%`}})})]})},q.id)})]}),W.length>0&&T.jsxs("div",{className:"space-y-2",children:[T.jsxs("h2",{className:"text-sm font-semibold text-dark-600 dark:text-dark-400",children:["Rcentes (",W.slice(0,3).length,")"]}),W.slice(0,3).map(q=>{const de=C(q);return T.jsx(mt,{className:"opacity-60",children:T.jsx(pt,{className:"p-2",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"text-sm",children:[T.jsx("span",{className:"font-semibold text-dark-800 dark:text-dark-100",children:de?.name}),T.jsxs("span",{className:"text-xs text-dark-600 dark:text-dark-400 ml-2",children:[" ",q.inputQuantityUsed," production",q.inputQuantityUsed>1?"s":""]})]}),T.jsx(gn,{variant:"danger",size:"sm",onClick:()=>q.id&&D(q.id),className:"text-xs",children:""})]})})},q.id)})]}),s.length===0&&T.jsx(mt,{children:T.jsxs(pt,{className:"p-8 text-center",children:[T.jsx("div",{className:"text-4xl mb-3",children:""}),T.jsx("p",{className:"text-dark-600 dark:text-dark-400 mb-3",children:"Aucune transformation en cours"}),T.jsx(gn,{onClick:()=>g(!0),size:"sm",children:"Dmarrer une transformation"})]})}),T.jsx(KD,{isOpen:ie,onClose:()=>re(!1),title:"Annuler la production",actions:T.jsxs(T.Fragment,{children:[T.jsx(gn,{variant:"secondary",onClick:()=>re(!1),children:"Non, garder"}),T.jsx(gn,{variant:"danger",onClick:P,children:"Oui, annuler"})]}),children:T.jsx("p",{className:"text-text-secondary",children:"tes-vous sr de vouloir annuler cette production ? Cette action est irrversible."})})]})},$D=()=>{const{user:r}=ba(),[e,n]=j.useState([]),[s,o]=j.useState([]);j.useEffect(()=>{u()},[]),j.useEffect(()=>r?Gb(r.uid,n):void 0,[r]);const u=async()=>{const E=await Ud();o(E)},h=E=>s.find(b=>b.id===E),m=e.reduce((E,b)=>{const x=b.createdAt.toDate().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return E[x]||(E[x]=[]),E[x].push(b),E},{}),g=E=>E.toDate().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),p=E=>{const b=E.startedAt.toDate(),L=E.endsAt.toDate().getTime()-b.getTime();return Math.floor(L/(1e3*60*60))};return T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Historique"}),T.jsxs("div",{className:"text-sm text-dark-600 dark:text-dark-400",children:[e.length," entre",e.length>1?"s":""]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[T.jsx(mt,{children:T.jsx(pt,{className:"p-3",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Total"}),T.jsx("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:e.length})]})})}),T.jsx(mt,{children:T.jsx(pt,{className:"p-3",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Transformations"}),T.jsx("div",{className:"text-2xl font-bold text-lavender-600 dark:text-lavender-400",children:e.filter(E=>E.type==="TRANSFORMATION").length})]})})}),T.jsx(mt,{children:T.jsx(pt,{className:"p-3",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Ventes"}),T.jsx("div",{className:"text-2xl font-bold text-sage-600 dark:text-sage-400",children:e.filter(E=>E.type==="SALE").length})]})})}),T.jsx(mt,{children:T.jsx(pt,{className:"p-3",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Cette semaine"}),T.jsx("div",{className:"text-2xl font-bold text-sky-600 dark:text-sky-400",children:e.filter(E=>{const b=new Date;return b.setDate(b.getDate()-7),E.createdAt.toDate()>b}).length})]})})})]}),T.jsx("div",{className:"space-y-6",children:Object.keys(m).length===0?T.jsx(mt,{children:T.jsx(pt,{children:T.jsxs("div",{className:"text-center py-12",children:[T.jsx("div",{className:"text-6xl mb-4",children:""}),T.jsx("p",{className:"text-dark-600 dark:text-dark-400 mb-2",children:"Aucun historique pour le moment"}),T.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-500",children:"Les transformations et ventes apparatront ici"})]})})}):Object.entries(m).map(([E,b])=>T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold text-dark-700 dark:text-dark-300 mb-3 capitalize",children:E}),T.jsx("div",{className:"space-y-3",children:b.map(x=>{if(x.type==="TRANSFORMATION"){const L=x,G=h(L.transformationId),Y=p(L);return T.jsx(mt,{children:T.jsx(pt,{className:"p-3",children:T.jsx("div",{className:"flex items-start justify-between",children:T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-lavender-400 to-peach-400 flex items-center justify-center text-white text-sm",children:""}),T.jsx("h3",{className:"text-base font-semibold text-dark-800 dark:text-dark-100",children:G?.name||"Transformation inconnue"}),L.reducedByAction&&T.jsx("span",{className:"px-2 py-0.5 bg-sage-100 dark:bg-sage-900/30 text-sage-700 dark:text-sage-300 text-xs rounded-cozy font-semibold",children:""})]}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Dbut"}),T.jsx("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:g(L.startedAt)})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Fin"}),T.jsx("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:g(L.endsAt)})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Dure"}),T.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[Y,"h"]})]})]})]})})})},x.id)}else{const L=x,G=L.actualValue-L.estimatedValue,Y=Math.abs(G)>0;return T.jsx(mt,{className:Y?"border-l-4 border-l-peach-400":"",children:T.jsx(pt,{className:"p-3",children:T.jsx("div",{className:"flex items-start justify-between",children:T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-sage-400 to-peach-400 flex items-center justify-center text-white text-sm",children:""}),T.jsxs("h3",{className:"text-base font-semibold text-dark-800 dark:text-dark-100",children:["Vente de ",L.crateLabel]})]}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm mb-2",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Quantit"}),T.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[L.quantitySold," caisse",L.quantitySold>1?"s":""]})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Valeur estime"}),T.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[L.estimatedValue.toLocaleString()," $"]})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Valeur rcolte"}),T.jsxs("div",{className:`font-semibold ${G>0?"text-sage-600 dark:text-sage-400":G<0?"text-peach-600 dark:text-peach-400":"text-dark-700 dark:text-dark-300"}`,children:[L.actualValue.toLocaleString()," $"]})]}),Y&&T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Diffrence"}),T.jsxs("div",{className:`font-semibold ${G>0?"text-sage-600 dark:text-sage-400":"text-peach-600 dark:text-peach-400"}`,children:[G>0?"+":"",G.toLocaleString()," $"]})]})]}),L.notes&&T.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400 italic bg-dark-50 dark:bg-dark-800 rounded p-2",children:[" ",L.notes]})]})})})},x.id)}})})]},E))})]})},YD=async()=>{try{console.log(" Dbut de l'initialisation Firestore...");const r=$n(Zt,"configs","default");await fa(r,{name:"default",rules:{timeReductionHours:1},updatedAt:Ta()}),console.log(" Config cre");const e=[{id:"zeed",name:"Zeed",input:{materialName:"Feuille",quantity:60},tool:{name:"Pot de terre",price:0},durationHours:48,crate:{name:"Caisse de Zeed",quantityPerCrate:20}},{id:"pandoxine",name:"Pandoxine",input:{materialName:"Viande",quantity:18},tool:{name:"Marmite",price:0},durationHours:96,crate:{name:"Caisse de Pandoxine",quantityPerCrate:12}},{id:"krakenine",name:"Krakenine",input:{materialName:"Huile",quantity:10},tool:{name:"Bidon de chauffe",price:0},durationHours:24,crate:{name:"Caisse de Krakenine",quantityPerCrate:12}},{id:"psylocybine",name:"Psylocybine",input:{materialName:"Champignon",quantity:60},tool:{name:"Sachet de fermentation",price:0},durationHours:72,crate:{name:"Caisse de Psylocybine",quantityPerCrate:20}}];for(const n of e){const s=$n(Zt,"configs","default","transformations",n.id);await fa(s,n),console.log(` Transformation ${n.name} cre`)}return console.log(" Initialisation termine avec succs!"),{success:!0,message:"Toutes les donnes ont t cres avec succs!"}}catch(r){return console.error(" Erreur lors de l'initialisation:",r),{success:!1,message:`Erreur: ${r.message}`}}},WD=()=>{const[r,e]=j.useState(!1),[n,s]=j.useState(null),o=async()=>{e(!0),s(null);const u=await YD();s(u),e(!1)};return T.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:T.jsx(mt,{className:"max-w-2xl w-full",children:T.jsxs(pt,{className:"p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-peach-600 dark:text-peach-400 mb-4",children:" Initialisation Firestore"}),T.jsxs("div",{className:"space-y-4 mb-6",children:[T.jsx("p",{className:"text-dark-700 dark:text-dark-300",children:"Cette page va crer automatiquement toutes les donnes ncessaires dans Firestore:"}),T.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-600 dark:text-dark-400 ml-4",children:[T.jsxs("li",{children:["Collection ",T.jsx("code",{className:"bg-dark-200 dark:bg-dark-700 px-2 py-0.5 rounded",children:"configs/default"})]}),T.jsx("li",{children:"Rgle de rduction de temps (1h)"}),T.jsxs("li",{children:["4 transformations:",T.jsxs("ul",{className:"list-circle list-inside ml-6 mt-1 space-y-1",children:[T.jsx("li",{children:" Zeed (Feuille  48h)"}),T.jsx("li",{children:" Pandoxine (Viande  96h)"}),T.jsx("li",{children:" Krakenine (Huile  24h)"}),T.jsx("li",{children:" Psylocybine (Champignon  72h)"})]})]})]}),T.jsx("div",{className:"bg-butter-50 dark:bg-butter-900/20 border-2 border-butter-400 dark:border-butter-600 rounded-cozy p-4",children:T.jsxs("p",{className:"text-sm text-dark-700 dark:text-dark-300",children:[" ",T.jsx("strong",{children:"Important:"})," N'excutez cette initialisation qu'une seule fois! Si les donnes existent dj, elles seront crases."]})})]}),T.jsx(gn,{onClick:o,disabled:r,className:"w-full mb-4",children:r?"Initialisation en cours...":" Initialiser Firestore"}),n&&T.jsxs("div",{className:`p-4 rounded-cozy ${n.success?"bg-sage-100 dark:bg-sage-900/30 border-2 border-sage-400 dark:border-sage-600":"bg-red-100 dark:bg-red-900/30 border-2 border-red-400 dark:border-red-600"}`,children:[T.jsx("p",{className:`font-semibold mb-2 ${n.success?"text-sage-800 dark:text-sage-200":"text-red-800 dark:text-red-200"}`,children:n.success?" Succs!":" Erreur"}),T.jsx("p",{className:`text-sm ${n.success?"text-sage-700 dark:text-sage-300":"text-red-700 dark:text-red-300"}`,children:n.message}),n.success&&T.jsxs("div",{className:"mt-4 pt-4 border-t border-sage-300 dark:border-sage-700",children:[T.jsx("p",{className:"text-sm text-sage-700 dark:text-sage-300 mb-3",children:" Vous pouvez maintenant:"}),T.jsxs("ul",{className:"text-sm text-sage-600 dark:text-sage-400 space-y-1 ml-4",children:[T.jsxs("li",{children:[" Aller sur la page ",T.jsx("strong",{children:"Stocks"})," et modifier les quantits"]}),T.jsxs("li",{children:[" Aller sur la page ",T.jsx("strong",{children:"Prix"})," et ajouter des prix observs"]}),T.jsxs("li",{children:[" Aller sur le ",T.jsx("strong",{children:"Calculateur"})," pour planifier vos productions"]}),T.jsxs("li",{children:[" Lancer des ",T.jsx("strong",{children:"Transformations"})," avec timers"]})]}),T.jsx("p",{className:"text-xs text-sage-500 dark:text-sage-500 mt-4",children:" Conseil: Fermez cet onglet et rafrachissez l'application principale"})]})]}),T.jsx("div",{className:"mt-6 pt-6 border-t border-dark-200 dark:border-dark-700",children:T.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-500 text-center",children:"Cette page peut tre supprime aprs la premire initialisation"})})]})})})},ia=({children:r})=>{const{user:e,loading:n}=ba();return n?T.jsx("div",{className:"min-h-screen flex items-center justify-center",children:T.jsx("div",{className:"text-xl text-dark-600 dark:text-dark-400",children:"Chargement..."})}):e?T.jsx(HD,{children:r}):T.jsx(UE,{to:"/login",replace:!0})};function XD(){const{user:r,loading:e}=ba();return e?T.jsx("div",{className:"min-h-screen flex items-center justify-center",children:T.jsx("div",{className:"text-xl text-dark-600 dark:text-dark-400",children:"Chargement..."})}):T.jsxs(qw,{children:[T.jsx(fi,{path:"/login",element:r?T.jsx(UE,{to:"/",replace:!0}):T.jsx(yD,{})}),T.jsx(fi,{path:"/",element:T.jsx(ia,{children:T.jsx(CD,{})})}),T.jsx(fi,{path:"/stocks",element:T.jsx(ia,{children:T.jsx(qD,{})})}),T.jsx(fi,{path:"/prices",element:T.jsx(ia,{children:T.jsx(FD,{})})}),T.jsx(fi,{path:"/calculator",element:T.jsx(ia,{children:T.jsx(GD,{})})}),T.jsx(fi,{path:"/timers",element:T.jsx(ia,{children:T.jsx(QD,{})})}),T.jsx(fi,{path:"/history",element:T.jsx(ia,{children:T.jsx($D,{})})}),T.jsx(fi,{path:"/setup",element:T.jsx(ia,{children:T.jsx(WD,{})})})]})}function ZD(){return T.jsx(fx,{basename:"/Brewsy",children:T.jsx(pD,{children:T.jsx(gD,{children:T.jsx(XD,{})})})})}KS.createRoot(document.getElementById("root")).render(T.jsx(j.StrictMode,{children:T.jsx(ZD,{})}));
