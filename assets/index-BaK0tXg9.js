(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function CS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jm={exports:{}},iu={};var vv;function kS(){if(vv)return iu;vv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return iu.Fragment=e,iu.jsx=n,iu.jsxs=n,iu}var Ev;function NS(){return Ev||(Ev=1,jm.exports=kS()),jm.exports}var T=NS(),Um={exports:{}},Se={};var Tv;function DS(){if(Tv)return Se;Tv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),R=Symbol.iterator;function L(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,$={};function ie(V,ee,le){this.props=V,this.context=ee,this.refs=$,this.updater=le||F}ie.prototype.isReactComponent={},ie.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},ie.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ne(){}ne.prototype=ie.prototype;function se(V,ee,le){this.props=V,this.context=ee,this.refs=$,this.updater=le||F}var re=se.prototype=new ne;re.constructor=se,Q(re,ie.prototype),re.isPureReactComponent=!0;var me=Array.isArray;function fe(){}var S={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(V,ee,le){var he=le.ref;return{$$typeof:i,type:V,key:ee,ref:he!==void 0?he:null,props:le}}function O(V,ee){return C(V.type,ee,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function U(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(le){return ee[le]})}var k=/\/+/g;function st(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):ee.toString(36)}function Mt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(fe,fe):(V.status="pending",V.then(function(ee){V.status==="pending"&&(V.status="fulfilled",V.value=ee)},function(ee){V.status==="pending"&&(V.status="rejected",V.reason=ee)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function W(V,ee,le,he,be){var Ie=typeof V;(Ie==="undefined"||Ie==="boolean")&&(V=null);var je=!1;if(V===null)je=!0;else switch(Ie){case"bigint":case"string":case"number":je=!0;break;case"object":switch(V.$$typeof){case i:case e:je=!0;break;case E:return je=V._init,W(je(V._payload),ee,le,he,be)}}if(je)return be=be(V),je=he===""?"."+st(V,0):he,me(be)?(le="",je!=null&&(le=je.replace(k,"$&/")+"/"),W(be,ee,le,"",function(Rs){return Rs})):be!=null&&(D(be)&&(be=O(be,le+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(k,"$&/")+"/")+je)),ee.push(be)),1;je=0;var Lt=he===""?".":he+":";if(me(V))for(var at=0;at<V.length;at++)he=V[at],Ie=Lt+st(he,at),je+=W(he,ee,le,Ie,be);else if(at=L(V),typeof at=="function")for(V=at.call(V),at=0;!(he=V.next()).done;)he=he.value,Ie=Lt+st(he,at++),je+=W(he,ee,le,Ie,be);else if(Ie==="object"){if(typeof V.then=="function")return W(Mt(V),ee,le,he,be);throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return je}function oe(V,ee,le){if(V==null)return V;var he=[],be=0;return W(V,he,"","",function(Ie){return ee.call(le,Ie,be++)}),he}function _e(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(le){(V._status===0||V._status===-1)&&(V._status=1,V._result=le)},function(le){(V._status===0||V._status===-1)&&(V._status=2,V._result=le)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var ze=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ke={map:oe,forEach:function(V,ee,le){oe(V,function(){ee.apply(this,arguments)},le)},count:function(V){var ee=0;return oe(V,function(){ee++}),ee},toArray:function(V){return oe(V,function(ee){return ee})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Se.Activity=b,Se.Children=Ke,Se.Component=ie,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=se,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Se.__COMPILER_RUNTIME={__proto__:null,c:function(V){return S.H.useMemoCache(V)}},Se.cache=function(V){return function(){return V.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(V,ee,le){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var he=Q({},V.props),be=V.key;if(ee!=null)for(Ie in ee.key!==void 0&&(be=""+ee.key),ee)!x.call(ee,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ee.ref===void 0||(he[Ie]=ee[Ie]);var Ie=arguments.length-2;if(Ie===1)he.children=le;else if(1<Ie){for(var je=Array(Ie),Lt=0;Lt<Ie;Lt++)je[Lt]=arguments[Lt+2];he.children=je}return C(V.type,be,he)},Se.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Se.createElement=function(V,ee,le){var he,be={},Ie=null;if(ee!=null)for(he in ee.key!==void 0&&(Ie=""+ee.key),ee)x.call(ee,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(be[he]=ee[he]);var je=arguments.length-2;if(je===1)be.children=le;else if(1<je){for(var Lt=Array(je),at=0;at<je;at++)Lt[at]=arguments[at+2];be.children=Lt}if(V&&V.defaultProps)for(he in je=V.defaultProps,je)be[he]===void 0&&(be[he]=je[he]);return C(V,Ie,be)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(V){return{$$typeof:m,render:V}},Se.isValidElement=D,Se.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:_e}},Se.memo=function(V,ee){return{$$typeof:p,type:V,compare:ee===void 0?null:ee}},Se.startTransition=function(V){var ee=S.T,le={};S.T=le;try{var he=V(),be=S.S;be!==null&&be(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(fe,ze)}catch(Ie){ze(Ie)}finally{ee!==null&&le.types!==null&&(ee.types=le.types),S.T=ee}},Se.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Se.use=function(V){return S.H.use(V)},Se.useActionState=function(V,ee,le){return S.H.useActionState(V,ee,le)},Se.useCallback=function(V,ee){return S.H.useCallback(V,ee)},Se.useContext=function(V){return S.H.useContext(V)},Se.useDebugValue=function(){},Se.useDeferredValue=function(V,ee){return S.H.useDeferredValue(V,ee)},Se.useEffect=function(V,ee){return S.H.useEffect(V,ee)},Se.useEffectEvent=function(V){return S.H.useEffectEvent(V)},Se.useId=function(){return S.H.useId()},Se.useImperativeHandle=function(V,ee,le){return S.H.useImperativeHandle(V,ee,le)},Se.useInsertionEffect=function(V,ee){return S.H.useInsertionEffect(V,ee)},Se.useLayoutEffect=function(V,ee){return S.H.useLayoutEffect(V,ee)},Se.useMemo=function(V,ee){return S.H.useMemo(V,ee)},Se.useOptimistic=function(V,ee){return S.H.useOptimistic(V,ee)},Se.useReducer=function(V,ee,le){return S.H.useReducer(V,ee,le)},Se.useRef=function(V){return S.H.useRef(V)},Se.useState=function(V){return S.H.useState(V)},Se.useSyncExternalStore=function(V,ee,le){return S.H.useSyncExternalStore(V,ee,le)},Se.useTransition=function(){return S.H.useTransition()},Se.version="19.2.3",Se}var bv;function jp(){return bv||(bv=1,Um.exports=DS()),Um.exports}var P=jp();const I=CS(P);var zm={exports:{}},ru={},Bm={exports:{}},qm={};var Av;function OS(){return Av||(Av=1,(function(i){function e(W,oe){var _e=W.length;W.push(oe);e:for(;0<_e;){var ze=_e-1>>>1,Ke=W[ze];if(0<o(Ke,oe))W[ze]=oe,W[_e]=Ke,_e=ze;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var oe=W[0],_e=W.pop();if(_e!==oe){W[0]=_e;e:for(var ze=0,Ke=W.length,V=Ke>>>1;ze<V;){var ee=2*(ze+1)-1,le=W[ee],he=ee+1,be=W[he];if(0>o(le,_e))he<Ke&&0>o(be,le)?(W[ze]=be,W[he]=_e,ze=he):(W[ze]=le,W[ee]=_e,ze=ee);else if(he<Ke&&0>o(be,_e))W[ze]=be,W[he]=_e,ze=he;else break e}}return oe}function o(W,oe){var _e=W.sortIndex-oe.sortIndex;return _e!==0?_e:W.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],p=[],E=1,b=null,R=3,L=!1,F=!1,Q=!1,$=!1,ie=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function re(W){for(var oe=n(p);oe!==null;){if(oe.callback===null)s(p);else if(oe.startTime<=W)s(p),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=n(p)}}function me(W){if(Q=!1,re(W),!F)if(n(g)!==null)F=!0,fe||(fe=!0,U());else{var oe=n(p);oe!==null&&Mt(me,oe.startTime-W)}}var fe=!1,S=-1,x=5,C=-1;function O(){return $?!0:!(i.unstable_now()-C<x)}function D(){if($=!1,fe){var W=i.unstable_now();C=W;var oe=!0;try{e:{F=!1,Q&&(Q=!1,ne(S),S=-1),L=!0;var _e=R;try{t:{for(re(W),b=n(g);b!==null&&!(b.expirationTime>W&&O());){var ze=b.callback;if(typeof ze=="function"){b.callback=null,R=b.priorityLevel;var Ke=ze(b.expirationTime<=W);if(W=i.unstable_now(),typeof Ke=="function"){b.callback=Ke,re(W),oe=!0;break t}b===n(g)&&s(g),re(W)}else s(g);b=n(g)}if(b!==null)oe=!0;else{var V=n(p);V!==null&&Mt(me,V.startTime-W),oe=!1}}break e}finally{b=null,R=_e,L=!1}oe=void 0}}finally{oe?U():fe=!1}}}var U;if(typeof se=="function")U=function(){se(D)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,st=k.port2;k.port1.onmessage=D,U=function(){st.postMessage(null)}}else U=function(){ie(D,0)};function Mt(W,oe){S=ie(function(){W(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_next=function(W){switch(R){case 1:case 2:case 3:var oe=3;break;default:oe=R}var _e=R;R=oe;try{return W()}finally{R=_e}},i.unstable_requestPaint=function(){$=!0},i.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var _e=R;R=W;try{return oe()}finally{R=_e}},i.unstable_scheduleCallback=function(W,oe,_e){var ze=i.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?ze+_e:ze):_e=ze,W){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=_e+Ke,W={id:E++,callback:oe,priorityLevel:W,startTime:_e,expirationTime:Ke,sortIndex:-1},_e>ze?(W.sortIndex=_e,e(p,W),n(g)===null&&W===n(p)&&(Q?(ne(S),S=-1):Q=!0,Mt(me,_e-ze))):(W.sortIndex=Ke,e(g,W),F||L||(F=!0,fe||(fe=!0,U()))),W},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(W){var oe=R;return function(){var _e=R;R=oe;try{return W.apply(this,arguments)}finally{R=_e}}}})(qm)),qm}var Sv;function MS(){return Sv||(Sv=1,Bm.exports=OS()),Bm.exports}var Hm={exports:{}},Jt={};var wv;function LS(){if(wv)return Jt;wv=1;var i=jp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},Jt.flushSync=function(g){var p=h.T,E=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=E,s.d.f()}},Jt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Jt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Jt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin),R=typeof p.integrity=="string"?p.integrity:void 0,L=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:L}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:R,fetchPriority:L,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Jt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Jt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Jt.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Jt.requestFormReset=function(g){s.d.r(g)},Jt.unstable_batchedUpdates=function(g,p){return g(p)},Jt.useFormState=function(g,p,E){return h.H.useFormState(g,p,E)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var xv;function VS(){if(xv)return Hm.exports;xv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Hm.exports=LS(),Hm.exports}var Rv;function PS(){if(Rv)return ru;Rv=1;var i=MS(),e=jp(),n=VS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),t;if(d===l)return g(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,l=d;break}if(A===l){_=!0,l=f,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=f;break}if(A===l){_=!0,l=d,a=f;break}A=A.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,R=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),se=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var k=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===k?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case ie:return"Profiler";case $:return"StrictMode";case me:return"Suspense";case fe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case se:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case re:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S:return r=t.displayName||null,r!==null?r:st(t.type)||"Memo";case x:r=t._payload,t=t._init;try{return st(t(r))}catch{}}return null}var Mt=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},ze=[],Ke=-1;function V(t){return{current:t}}function ee(t){0>Ke||(t.current=ze[Ke],ze[Ke]=null,Ke--)}function le(t,r){Ke++,ze[Ke]=t.current,t.current=r}var he=V(null),be=V(null),Ie=V(null),je=V(null);function Lt(t,r){switch(le(Ie,r),le(be,t),le(he,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?q_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=q_(r),t=H_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(he),le(he,t)}function at(){ee(he),ee(be),ee(Ie)}function Rs(t){t.memoizedState!==null&&le(je,t);var r=he.current,a=H_(r,t.type);r!==a&&(le(be,t),le(he,a))}function Na(t){be.current===t&&(ee(he),ee(be)),je.current===t&&(ee(je),Jl._currentValue=_e)}var Da,Oa;function pi(t){if(Da===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Da=r&&r[1]||"",Oa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Da+t+Oa}var Jo=!1;function Is(t,r){if(!t||Jo)return"";Jo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(K){var H=K}Reflect.construct(t,[],J)}else{try{J.call()}catch(K){H=K}t.call(J.prototype)}}else{try{throw Error()}catch(K){H=K}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var N=_.split(`
`),q=A.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===q.length)for(l=N.length-1,f=q.length-1;1<=l&&0<=f&&N[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==q[f]){var Y=`
`+N[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Jo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?pi(a):""}function el(t,r){switch(t.tag){case 26:case 27:case 5:return pi(t.type);case 16:return pi("Lazy");case 13:return t.child!==r&&r!==null?pi("Suspense Fallback"):pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Is(t.type,!1);case 11:return Is(t.type.render,!1);case 1:return Is(t.type,!0);case 31:return pi("Activity");default:return""}}function tl(t){try{var r="",a=null;do r+=el(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Vt=i.unstable_scheduleCallback,Ar=i.unstable_cancelCallback,zf=i.unstable_shouldYield,Hu=i.unstable_requestPaint,sn=i.unstable_now,Cs=i.unstable_getCurrentPriorityLevel,nl=i.unstable_ImmediatePriority,il=i.unstable_UserBlockingPriority,Sr=i.unstable_NormalPriority,Bf=i.unstable_LowPriority,Fu=i.unstable_IdlePriority,Gu=i.log,Ku=i.unstable_setDisableYieldValue,Yn=null,Ht=null;function Nn(t){if(typeof Gu=="function"&&Ku(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Yn,t)}catch{}}var pt=Math.clz32?Math.clz32:$u,Qu=Math.log,Ma=Math.LN2;function $u(t){return t>>>=0,t===0?32:31-(Qu(t)/Ma|0)|0}var gi=256,ks=262144,At=4194304;function yi(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _i(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=yi(l):(_&=A,_!==0?f=yi(_):a||(a=A&~t,a!==0&&(f=yi(a))))):(A=l&~d,A!==0?f=yi(A):_!==0?f=yi(_):a||(a=l&~t,a!==0&&(f=yi(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Wn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function qf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yu(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function vi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ns(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Hf(t,r,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,N=t.expirationTimes,q=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-pt(a),J=1<<Y;A[Y]=0,N[Y]=-1;var H=q[Y];if(H!==null)for(q[Y]=null,Y=0;Y<H.length;Y++){var K=H[Y];K!==null&&(K.lane&=-536870913)}a&=~J}l!==0&&Ds(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function Ds(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-pt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function rl(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-pt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function sl(t,r){var a=r&-r;return a=(a&42)!==0?1:Os(a),(a&(t.suspendedLanes|r))!==0?0:a}function Os(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wu(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:fv(t.type))}function Xn(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var Zn=Math.random().toString(36).slice(2),St="__reactFiber$"+Zn,Ut="__reactProps$"+Zn,Ei="__reactContainer$"+Zn,La="__reactEvents$"+Zn,Ff="__reactListeners$"+Zn,Xu="__reactHandles$"+Zn,Zu="__reactResources$"+Zn,Ti="__reactMarker$"+Zn;function Va(t){delete t[St],delete t[Ut],delete t[La],delete t[Ff],delete t[Xu]}function bi(t){var r=t[St];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ei]||a[St]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=W_(t);t!==null;){if(a=t[St])return a;t=W_(t)}return r}t=a,a=t.parentNode}return null}function Dn(t){if(t=t[St]||t[Ei]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function _n(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ai(t){var r=t[Zu];return r||(r=t[Zu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function wt(t){t[Ti]=!0}var al=new Set,ol={};function Si(t,r){wi(t,r),wi(t+"Capture",r)}function wi(t,r){for(ol[t]=r,t=0;t<r.length;t++)al.add(r[t])}var ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ul={},cl={};function Ju(t){return bt.call(cl,t)?!0:bt.call(ul,t)?!1:ll.test(t)?cl[t]=!0:(ul[t]=!0,!1)}function Pa(t,r,a){if(Ju(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function vn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function xt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function hl(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Qe(t){if(!t._valueTracker){var r=wr(t)?"checked":"value";t._valueTracker=hl(t,r,""+t[r])}}function Ms(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=wr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ls=/[\n"\\]/g;function un(t){return t.replace(Ls,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ja(t,r,a,l,f,d,_,A){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+zt(r)):t.value!==""+zt(r)&&(t.value=""+zt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?fl(t,_,zt(r)):a!=null?fl(t,_,zt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+zt(A):t.removeAttribute("name")}function ec(t,r,a,l,f,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Qe(t);return}a=a!=null?""+zt(a):"",r=r!=null?""+zt(r):a,A||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function fl(t,r,a){r==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function xr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function tc(t,r,a){if(r!=null&&(r=""+zt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+zt(a):""}function Rr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=zt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function cn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var nc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dl(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||nc.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function ml(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&dl(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&dl(t,d,r[d])}function Ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ic=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ir=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(t){return Ir.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Jn(){}var pl=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,Ri=null;function Vs(t){var r=Dn(t);if(r&&(t=r.stateNode)){var a=t[Ut]||null;e:switch(t=r.stateNode,r.type){case"input":if(ja(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[Ut]||null;if(!f)throw Error(s(90));ja(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ms(l)}break e;case"textarea":tc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&xr(t,!!a.multiple,r,!1)}}}var Ba=!1;function kr(t,r,a){if(Ba)return t(r,a);Ba=!0;try{var l=t(r);return l}finally{if(Ba=!1,(Cr!==null||Ri!==null)&&(Wc(),Cr&&(r=Cr,t=Ri,Ri=Cr=null,Vs(r),t)))for(r=0;r<t.length;r++)Vs(t[r])}}function ei(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(Mn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Ps=!1}var Ii=null,gl=null,js=null;function yl(){if(js)return js;var t,r=gl,a=r.length,l,f="value"in Ii?Ii.value:Ii.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return js=f.slice(t,1<l?1-l:void 0)}function Us(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Qi(){return!0}function ti(){return!1}function Ft(t){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Qi:ti,this.isPropagationStopped=ti,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),r}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Ft($i),Nr=b({},$i,{view:0,detail:0}),_l=Ft(Nr),Dr,qa,ki,Ha=b({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(Dr=t.screenX-ki.screenX,qa=t.screenY-ki.screenY):qa=Dr=0,ki=t),Dr)},movementY:function(t){return"movementY"in t?t.movementY:qa}}),vl=Ft(Ha),zs=b({},Ha,{dataTransfer:0}),rc=Ft(zs),sc=b({},Nr,{relatedTarget:0}),Bs=Ft(sc),El=b({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),ac=Ft(El),Fa=b({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oc=Ft(Fa),lc=b({},$i,{data:0}),Ni=Ft(lc),uc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=hc[t])?!!r[t]:!1}function Or(){return fc}var an=b({},Nr,{key:function(t){if(t.key){var r=uc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(t){return t.type==="keypress"?Us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dc=Ft(an),mc=b({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Ft(mc),c=b({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),y=Ft(c),v=b({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ft(v),z=b({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ft(z),ae=b({},$i,{newState:0,oldState:0}),xe=Ft(ae),gt=[9,13,27,32],He=Mn&&"CompositionEvent"in window,ot=null;Mn&&"documentMode"in document&&(ot=document.documentMode);var Ln=Mn&&"TextEvent"in window&&!ot,Di=Mn&&(!He||ot&&8<ot&&11>=ot),ni=" ",ii=!1;function qs(t,r){switch(t){case"keyup":return gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ka=!1;function J2(t,r){switch(t){case"compositionend":return Ga(r);case"keypress":return r.which!==32?null:(ii=!0,ni);case"textInput":return t=r.data,t===ni&&ii?null:t;default:return null}}function eA(t,r){if(Ka)return t==="compositionend"||!He&&qs(t,r)?(t=yl(),js=gl=Ii=null,Ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Di&&r.locale!=="ko"?null:r.data;default:return null}}var tA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!tA[t.type]:r==="textarea"}function ey(t,r,a,l){Cr?Ri?Ri.push(l):Ri=[l]:Cr=l,r=ih(r,"onChange"),0<r.length&&(a=new Ci("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Tl=null,bl=null;function nA(t){V_(t,0)}function pc(t){var r=_n(t);if(Ms(r))return t}function ty(t,r){if(t==="change")return r}var ny=!1;if(Mn){var Gf;if(Mn){var Kf="oninput"in document;if(!Kf){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),Kf=typeof iy.oninput=="function"}Gf=Kf}else Gf=!1;ny=Gf&&(!document.documentMode||9<document.documentMode)}function ry(){Tl&&(Tl.detachEvent("onpropertychange",sy),bl=Tl=null)}function sy(t){if(t.propertyName==="value"&&pc(bl)){var r=[];ey(r,bl,t,On(t)),kr(nA,r)}}function iA(t,r,a){t==="focusin"?(ry(),Tl=r,bl=a,Tl.attachEvent("onpropertychange",sy)):t==="focusout"&&ry()}function rA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pc(bl)}function sA(t,r){if(t==="click")return pc(r)}function aA(t,r){if(t==="input"||t==="change")return pc(r)}function oA(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var En=typeof Object.is=="function"?Object.is:oA;function Al(t,r){if(En(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!bt.call(r,f)||!En(t[f],r[f]))return!1}return!0}function ay(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oy(t,r){var a=ay(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ay(a)}}function ly(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ly(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function uy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=xi(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=xi(t.document)}return r}function Qf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var lA=Mn&&"documentMode"in document&&11>=document.documentMode,Qa=null,$f=null,Sl=null,Yf=!1;function cy(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yf||Qa==null||Qa!==xi(l)||(l=Qa,"selectionStart"in l&&Qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Sl&&Al(Sl,l)||(Sl=l,l=ih($f,"onSelect"),0<l.length&&(r=new Ci("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Qa)))}function Hs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var $a={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},Wf={},hy={};Mn&&(hy=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Fs(t){if(Wf[t])return Wf[t];if(!$a[t])return t;var r=$a[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in hy)return Wf[t]=r[a];return t}var fy=Fs("animationend"),dy=Fs("animationiteration"),my=Fs("animationstart"),uA=Fs("transitionrun"),cA=Fs("transitionstart"),hA=Fs("transitioncancel"),py=Fs("transitionend"),gy=new Map,Xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xf.push("scrollEnd");function ri(t,r){gy.set(t,r),Si(r,[t])}var gc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],Ya=0,Zf=0;function yc(){for(var t=Ya,r=Zf=Ya=0;r<t;){var a=Vn[r];Vn[r++]=null;var l=Vn[r];Vn[r++]=null;var f=Vn[r];Vn[r++]=null;var d=Vn[r];if(Vn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&yy(a,f,d)}}function _c(t,r,a,l){Vn[Ya++]=t,Vn[Ya++]=r,Vn[Ya++]=a,Vn[Ya++]=l,Zf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jf(t,r,a,l){return _c(t,r,a,l),vc(t)}function Gs(t,r){return _c(t,null,null,r),vc(t)}function yy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-pt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function vc(t){if(50<Kl)throw Kl=0,lm=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Wa={};function fA(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,r,a,l){return new fA(t,r,a,l)}function ed(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,r){var a=t.alternate;return a===null?(a=Tn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function _y(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Ec(t,r,a,l,f,d){var _=0;if(l=t,typeof t=="function")ed(t)&&(_=1);else if(typeof t=="string")_=yS(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Tn(31,a,r,f),t.elementType=C,t.lanes=d,t;case Q:return Ks(a.children,f,d,r);case $:_=8,f|=24;break;case ie:return t=Tn(12,a,r,f|2),t.elementType=ie,t.lanes=d,t;case me:return t=Tn(13,a,r,f),t.elementType=me,t.lanes=d,t;case fe:return t=Tn(19,a,r,f),t.elementType=fe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:_=10;break e;case ne:_=9;break e;case re:_=11;break e;case S:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Tn(_,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Ks(t,r,a,l){return t=Tn(7,t,l,r),t.lanes=a,t}function td(t,r,a){return t=Tn(6,t,null,r),t.lanes=a,t}function vy(t){var r=Tn(18,null,null,0);return r.stateNode=t,r}function nd(t,r,a){return r=Tn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ey=new WeakMap;function Pn(t,r){if(typeof t=="object"&&t!==null){var a=Ey.get(t);return a!==void 0?a:(r={value:t,source:r,stack:tl(r)},Ey.set(t,r),r)}return{value:t,source:r,stack:tl(r)}}var Xa=[],Za=0,Tc=null,wl=0,jn=[],Un=0,Mr=null,Oi=1,Mi="";function Xi(t,r){Xa[Za++]=wl,Xa[Za++]=Tc,Tc=t,wl=r}function Ty(t,r,a){jn[Un++]=Oi,jn[Un++]=Mi,jn[Un++]=Mr,Mr=t;var l=Oi;t=Mi;var f=32-pt(l)-1;l&=~(1<<f),a+=1;var d=32-pt(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Oi=1<<32-pt(r)+f|a<<f|l,Mi=d+t}else Oi=1<<d|a<<f|l,Mi=t}function id(t){t.return!==null&&(Xi(t,1),Ty(t,1,0))}function rd(t){for(;t===Tc;)Tc=Xa[--Za],Xa[Za]=null,wl=Xa[--Za],Xa[Za]=null;for(;t===Mr;)Mr=jn[--Un],jn[Un]=null,Mi=jn[--Un],jn[Un]=null,Oi=jn[--Un],jn[Un]=null}function by(t,r){jn[Un++]=Oi,jn[Un++]=Mi,jn[Un++]=Mr,Oi=r.id,Mi=r.overflow,Mr=t}var Gt=null,it=null,Pe=!1,Lr=null,zn=!1,sd=Error(s(519));function Vr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xl(Pn(r,t)),sd}function Ay(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[St]=t,r[Ut]=l,a){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(a=0;a<$l.length;a++)Ne($l[a],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Ne("invalid",r),ec(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",r);break;case"textarea":Ne("invalid",r),Rr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||z_(r.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",r),Ne("toggle",r)),l.onScroll!=null&&Ne("scroll",r),l.onScrollEnd!=null&&Ne("scrollend",r),l.onClick!=null&&(r.onclick=Jn),r=!0):r=!1,r||Vr(t,!0)}function Sy(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Gt=Gt.return}}function Ja(t){if(t!==Gt)return!1;if(!Pe)return Sy(t),Pe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Am(t.type,t.memoizedProps)),a=!a),a&&it&&Vr(t),Sy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=Y_(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=Y_(t)}else r===27?(r=it,Wr(t.type)?(t=Im,Im=null,it=t):it=r):it=Gt?qn(t.stateNode.nextSibling):null;return!0}function Qs(){it=Gt=null,Pe=!1}function ad(){var t=Lr;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Lr=null),t}function xl(t){Lr===null?Lr=[t]:Lr.push(t)}var od=V(null),$s=null,Zi=null;function Pr(t,r,a){le(od,r._currentValue),r._currentValue=a}function Ji(t){t._currentValue=od.current,ee(od)}function ld(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function ud(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=f;for(var N=0;N<r.length;N++)if(A.context===r[N]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),ld(d.return,a,t),l||(_=null);break e}d=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),ld(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function eo(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var A=f.type;En(f.pendingProps.value,_.value)||(t!==null?t.push(A):t=[A])}}else if(f===je.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Jl):t=[Jl])}f=f.return}t!==null&&ud(r,t,a,l),r.flags|=262144}function bc(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ys(t){$s=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return wy($s,t)}function Ac(t,r){return $s===null&&Ys(t),wy(t,r)}function wy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Zi===null){if(t===null)throw Error(s(308));Zi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Zi=Zi.next=r;return a}var dA=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},mA=i.unstable_scheduleCallback,pA=i.unstable_NormalPriority,Rt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cd(){return{controller:new dA,data:new Map,refCount:0}}function Rl(t){t.refCount--,t.refCount===0&&mA(pA,function(){t.controller.abort()})}var Il=null,hd=0,to=0,no=null;function gA(t,r){if(Il===null){var a=Il=[];hd=0,to=mm(),no={status:"pending",value:void 0,then:function(l){a.push(l)}}}return hd++,r.then(xy,xy),r}function xy(){if(--hd===0&&Il!==null){no!==null&&(no.status="fulfilled");var t=Il;Il=null,to=0,no=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function yA(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ry=W.S;W.S=function(t,r){c_=sn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&gA(t,r),Ry!==null&&Ry(t,r)};var Ws=V(null);function fd(){var t=Ws.current;return t!==null?t:tt.pooledCache}function Sc(t,r){r===null?le(Ws,Ws.current):le(Ws,r.pool)}function Iy(){var t=fd();return t===null?null:{parent:Rt._currentValue,pool:t}}var io=Error(s(460)),dd=Error(s(474)),wc=Error(s(542)),xc={then:function(){}};function Cy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ky(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Jn,Jn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Dy(t),t;default:if(typeof r.status=="string")r.then(Jn,Jn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Dy(t),t}throw Zs=r,io}}function Xs(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zs=a,io):a}}var Zs=null;function Ny(){if(Zs===null)throw Error(s(459));var t=Zs;return Zs=null,t}function Dy(t){if(t===io||t===wc)throw Error(s(483))}var ro=null,Cl=0;function Rc(t){var r=Cl;return Cl+=1,ro===null&&(ro=[]),ky(ro,t,r)}function kl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Ic(t,r){throw r.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Oy(t){function r(j,M){if(t){var B=j.deletions;B===null?(j.deletions=[M],j.flags|=16):B.push(M)}}function a(j,M){if(!t)return null;for(;M!==null;)r(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function f(j,M){return j=Wi(j,M),j.index=0,j.sibling=null,j}function d(j,M,B){return j.index=B,t?(B=j.alternate,B!==null?(B=B.index,B<M?(j.flags|=67108866,M):B):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function A(j,M,B,X){return M===null||M.tag!==6?(M=td(B,j.mode,X),M.return=j,M):(M=f(M,B),M.return=j,M)}function N(j,M,B,X){var ge=B.type;return ge===Q?Y(j,M,B.props.children,X,B.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&Xs(ge)===M.type)?(M=f(M,B.props),kl(M,B),M.return=j,M):(M=Ec(B.type,B.key,B.props,null,j.mode,X),kl(M,B),M.return=j,M)}function q(j,M,B,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=nd(B,j.mode,X),M.return=j,M):(M=f(M,B.children||[]),M.return=j,M)}function Y(j,M,B,X,ge){return M===null||M.tag!==7?(M=Ks(B,j.mode,X,ge),M.return=j,M):(M=f(M,B),M.return=j,M)}function J(j,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=td(""+M,j.mode,B),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case L:return B=Ec(M.type,M.key,M.props,null,j.mode,B),kl(B,M),B.return=j,B;case F:return M=nd(M,j.mode,B),M.return=j,M;case x:return M=Xs(M),J(j,M,B)}if(Mt(M)||U(M))return M=Ks(M,j.mode,B,null),M.return=j,M;if(typeof M.then=="function")return J(j,Rc(M),B);if(M.$$typeof===se)return J(j,Ac(j,M),B);Ic(j,M)}return null}function H(j,M,B,X){var ge=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ge!==null?null:A(j,M,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return B.key===ge?N(j,M,B,X):null;case F:return B.key===ge?q(j,M,B,X):null;case x:return B=Xs(B),H(j,M,B,X)}if(Mt(B)||U(B))return ge!==null?null:Y(j,M,B,X,null);if(typeof B.then=="function")return H(j,M,Rc(B),X);if(B.$$typeof===se)return H(j,M,Ac(j,B),X);Ic(j,B)}return null}function K(j,M,B,X,ge){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return j=j.get(B)||null,A(M,j,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case L:return j=j.get(X.key===null?B:X.key)||null,N(M,j,X,ge);case F:return j=j.get(X.key===null?B:X.key)||null,q(M,j,X,ge);case x:return X=Xs(X),K(j,M,B,X,ge)}if(Mt(X)||U(X))return j=j.get(B)||null,Y(M,j,X,ge,null);if(typeof X.then=="function")return K(j,M,B,Rc(X),ge);if(X.$$typeof===se)return K(j,M,B,Ac(M,X),ge);Ic(M,X)}return null}function de(j,M,B,X){for(var ge=null,Be=null,pe=M,Ce=M=0,Oe=null;pe!==null&&Ce<B.length;Ce++){pe.index>Ce?(Oe=pe,pe=null):Oe=pe.sibling;var qe=H(j,pe,B[Ce],X);if(qe===null){pe===null&&(pe=Oe);break}t&&pe&&qe.alternate===null&&r(j,pe),M=d(qe,M,Ce),Be===null?ge=qe:Be.sibling=qe,Be=qe,pe=Oe}if(Ce===B.length)return a(j,pe),Pe&&Xi(j,Ce),ge;if(pe===null){for(;Ce<B.length;Ce++)pe=J(j,B[Ce],X),pe!==null&&(M=d(pe,M,Ce),Be===null?ge=pe:Be.sibling=pe,Be=pe);return Pe&&Xi(j,Ce),ge}for(pe=l(pe);Ce<B.length;Ce++)Oe=K(pe,j,Ce,B[Ce],X),Oe!==null&&(t&&Oe.alternate!==null&&pe.delete(Oe.key===null?Ce:Oe.key),M=d(Oe,M,Ce),Be===null?ge=Oe:Be.sibling=Oe,Be=Oe);return t&&pe.forEach(function(ts){return r(j,ts)}),Pe&&Xi(j,Ce),ge}function ve(j,M,B,X){if(B==null)throw Error(s(151));for(var ge=null,Be=null,pe=M,Ce=M=0,Oe=null,qe=B.next();pe!==null&&!qe.done;Ce++,qe=B.next()){pe.index>Ce?(Oe=pe,pe=null):Oe=pe.sibling;var ts=H(j,pe,qe.value,X);if(ts===null){pe===null&&(pe=Oe);break}t&&pe&&ts.alternate===null&&r(j,pe),M=d(ts,M,Ce),Be===null?ge=ts:Be.sibling=ts,Be=ts,pe=Oe}if(qe.done)return a(j,pe),Pe&&Xi(j,Ce),ge;if(pe===null){for(;!qe.done;Ce++,qe=B.next())qe=J(j,qe.value,X),qe!==null&&(M=d(qe,M,Ce),Be===null?ge=qe:Be.sibling=qe,Be=qe);return Pe&&Xi(j,Ce),ge}for(pe=l(pe);!qe.done;Ce++,qe=B.next())qe=K(pe,j,Ce,qe.value,X),qe!==null&&(t&&qe.alternate!==null&&pe.delete(qe.key===null?Ce:qe.key),M=d(qe,M,Ce),Be===null?ge=qe:Be.sibling=qe,Be=qe);return t&&pe.forEach(function(IS){return r(j,IS)}),Pe&&Xi(j,Ce),ge}function Je(j,M,B,X){if(typeof B=="object"&&B!==null&&B.type===Q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case L:e:{for(var ge=B.key;M!==null;){if(M.key===ge){if(ge=B.type,ge===Q){if(M.tag===7){a(j,M.sibling),X=f(M,B.props.children),X.return=j,j=X;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&Xs(ge)===M.type){a(j,M.sibling),X=f(M,B.props),kl(X,B),X.return=j,j=X;break e}a(j,M);break}else r(j,M);M=M.sibling}B.type===Q?(X=Ks(B.props.children,j.mode,X,B.key),X.return=j,j=X):(X=Ec(B.type,B.key,B.props,null,j.mode,X),kl(X,B),X.return=j,j=X)}return _(j);case F:e:{for(ge=B.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(j,M.sibling),X=f(M,B.children||[]),X.return=j,j=X;break e}else{a(j,M);break}else r(j,M);M=M.sibling}X=nd(B,j.mode,X),X.return=j,j=X}return _(j);case x:return B=Xs(B),Je(j,M,B,X)}if(Mt(B))return de(j,M,B,X);if(U(B)){if(ge=U(B),typeof ge!="function")throw Error(s(150));return B=ge.call(B),ve(j,M,B,X)}if(typeof B.then=="function")return Je(j,M,Rc(B),X);if(B.$$typeof===se)return Je(j,M,Ac(j,B),X);Ic(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(j,M.sibling),X=f(M,B),X.return=j,j=X):(a(j,M),X=td(B,j.mode,X),X.return=j,j=X),_(j)):a(j,M)}return function(j,M,B,X){try{Cl=0;var ge=Je(j,M,B,X);return ro=null,ge}catch(pe){if(pe===io||pe===wc)throw pe;var Be=Tn(29,pe,null,j.mode);return Be.lanes=X,Be.return=j,Be}}}var Js=Oy(!0),My=Oy(!1),jr=!1;function md(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ur(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=vc(t),yy(t,null,a),r}return _c(t,l,r,a),vc(t)}function Nl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,rl(t,a)}}function gd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var yd=!1;function Dl(){if(yd){var t=no;if(t!==null)throw t}}function Ol(t,r,a,l){yd=!1;var f=t.updateQueue;jr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var N=A,q=N.next;N.next=null,_===null?d=q:_.next=q,_=N;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,A=Y.lastBaseUpdate,A!==_&&(A===null?Y.firstBaseUpdate=q:A.next=q,Y.lastBaseUpdate=N))}if(d!==null){var J=f.baseState;_=0,Y=q=N=null,A=d;do{var H=A.lane&-536870913,K=H!==A.lane;if(K?(De&H)===H:(l&H)===H){H!==0&&H===to&&(yd=!0),Y!==null&&(Y=Y.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var de=t,ve=A;H=r;var Je=a;switch(ve.tag){case 1:if(de=ve.payload,typeof de=="function"){J=de.call(Je,J,H);break e}J=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ve.payload,H=typeof de=="function"?de.call(Je,J,H):de,H==null)break e;J=b({},J,H);break e;case 2:jr=!0}}H=A.callback,H!==null&&(t.flags|=64,K&&(t.flags|=8192),K=f.callbacks,K===null?f.callbacks=[H]:K.push(H))}else K={lane:H,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Y===null?(q=Y=K,N=J):Y=Y.next=K,_|=H;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;K=A,A=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Y===null&&(N=J),f.baseState=N,f.firstBaseUpdate=q,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),Gr|=_,t.lanes=_,t.memoizedState=J}}function Ly(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Vy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ly(a[t],r)}var so=V(null),Cc=V(0);function Py(t,r){t=lr,le(Cc,t),le(so,r),lr=t|r.baseLanes}function _d(){le(Cc,lr),le(so,so.current)}function vd(){lr=Cc.current,ee(so),ee(Cc)}var bn=V(null),Bn=null;function Br(t){var r=t.alternate;le(yt,yt.current&1),le(bn,t),Bn===null&&(r===null||so.current!==null||r.memoizedState!==null)&&(Bn=t)}function Ed(t){le(yt,yt.current),le(bn,t),Bn===null&&(Bn=t)}function jy(t){t.tag===22?(le(yt,yt.current),le(bn,t),Bn===null&&(Bn=t)):qr()}function qr(){le(yt,yt.current),le(bn,bn.current)}function An(t){ee(bn),Bn===t&&(Bn=null),ee(yt)}var yt=V(0);function kc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xm(a)||Rm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var er=0,Re=null,Xe=null,It=null,Nc=!1,ao=!1,ea=!1,Dc=0,Ml=0,oo=null,_A=0;function ht(){throw Error(s(321))}function Td(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!En(t[a],r[a]))return!1;return!0}function bd(t,r,a,l,f,d){return er=d,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=t===null||t.memoizedState===null?T0:Pd,ea=!1,d=a(l,f),ea=!1,ao&&(d=zy(r,a,l,f)),Uy(t),d}function Uy(t){W.H=Pl;var r=Xe!==null&&Xe.next!==null;if(er=0,It=Xe=Re=null,Nc=!1,Ml=0,oo=null,r)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&bc(t)&&(Ct=!0))}function zy(t,r,a,l){Re=t;var f=0;do{if(ao&&(oo=null),Ml=0,ao=!1,25<=f)throw Error(s(301));if(f+=1,It=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=b0,d=r(a,l)}while(ao);return d}function vA(){var t=W.H,r=t.useState()[0];return r=typeof r.then=="function"?Ll(r):r,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Re.flags|=1024),r}function Ad(){var t=Dc!==0;return Dc=0,t}function Sd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function wd(t){if(Nc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Nc=!1}er=0,It=Xe=Re=null,ao=!1,Ml=Dc=0,oo=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Re.memoizedState=It=t:It=It.next=t,It}function _t(){if(Xe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var r=It===null?Re.memoizedState:It.next;if(r!==null)It=r,Xe=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},It===null?Re.memoizedState=It=t:It=It.next=t}return It}function Oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(t){var r=Ml;return Ml+=1,oo===null&&(oo=[]),t=ky(oo,t,r),r=Re,(It===null?r.memoizedState:It.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?T0:Pd),t}function Mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ll(t);if(t.$$typeof===se)return Kt(t)}throw Error(s(438,String(t)))}function xd(t){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Oc(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=O;return r.index++,a}function tr(t,r){return typeof r=="function"?r(t):r}function Lc(t){var r=_t();return Rd(r,Xe,t)}function Rd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var A=_=null,N=null,q=r,Y=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(De&J)===J:(er&J)===J){var H=q.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===to&&(Y=!0);else if((er&H)===H){q=q.next,H===to&&(Y=!0);continue}else J={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(A=N=J,_=d):N=N.next=J,Re.lanes|=H,Gr|=H;J=q.action,ea&&a(d,J),d=q.hasEagerState?q.eagerState:a(d,J)}else H={lane:J,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(A=N=H,_=d):N=N.next=H,Re.lanes|=J,Gr|=J;q=q.next}while(q!==null&&q!==r);if(N===null?_=d:N.next=A,!En(d,t.memoizedState)&&(Ct=!0,Y&&(a=no,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Id(t){var r=_t(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);En(d,r.memoizedState)||(Ct=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function By(t,r,a){var l=Re,f=_t(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!En((Xe||f).memoizedState,a);if(_&&(f.memoizedState=a,Ct=!0),f=f.queue,Nd(Fy.bind(null,l,f,t),[t]),f.getSnapshot!==r||_||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,lo(9,{destroy:void 0},Hy.bind(null,l,f,a,r),null),tt===null)throw Error(s(349));d||(er&127)!==0||qy(l,r,a)}return a}function qy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=Oc(),Re.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Hy(t,r,a,l){r.value=a,r.getSnapshot=l,Gy(r)&&Ky(t)}function Fy(t,r,a){return a(function(){Gy(r)&&Ky(t)})}function Gy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!En(t,a)}catch{return!0}}function Ky(t){var r=Gs(t,2);r!==null&&pn(r,t,2)}function Cd(t){var r=on();if(typeof t=="function"){var a=t;if(t=a(),ea){Nn(!0);try{a()}finally{Nn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:t},r}function Qy(t,r,a,l){return t.baseState=a,Rd(t,Xe,typeof l=="function"?l:tr)}function EA(t,r,a,l,f){if(jc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,$y(r,d)):(d.next=a.next,r.pending=a.next=d)}}function $y(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=W.T,_={};W.T=_;try{var A=a(f,l),N=W.S;N!==null&&N(_,A),Yy(t,r,A)}catch(q){kd(t,r,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),W.T=d}}else try{d=a(f,l),Yy(t,r,d)}catch(q){kd(t,r,q)}}function Yy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wy(t,r,l)},function(l){return kd(t,r,l)}):Wy(t,r,a)}function Wy(t,r,a){r.status="fulfilled",r.value=a,Xy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,$y(t,a)))}function kd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Xy(r),r=r.next;while(r!==l)}t.action=null}function Xy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Zy(t,r){return r}function Jy(t,r){if(Pe){var a=tt.formState;if(a!==null){e:{var l=Re;if(Pe){if(it){t:{for(var f=it,d=zn;f.nodeType!==8;){if(!d){f=null;break t}if(f=qn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){it=qn(f.nextSibling),l=f.data==="F!";break e}}Vr(l)}l=!1}l&&(r=a[0])}}return a=on(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zy,lastRenderedState:r},a.queue=l,a=_0.bind(null,Re,l),l.dispatch=a,l=Cd(!1),d=Vd.bind(null,Re,!1,l.queue),l=on(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=EA.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function e0(t){var r=_t();return t0(r,Xe,t)}function t0(t,r,a){if(r=Rd(t,r,Zy)[0],t=Lc(tr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ll(r)}catch(_){throw _===io?wc:_}else l=r;r=_t();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,lo(9,{destroy:void 0},TA.bind(null,f,a),null)),[l,d,t]}function TA(t,r){t.action=r}function n0(t){var r=_t(),a=Xe;if(a!==null)return t0(r,a,t);_t(),r=r.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function lo(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=Oc(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function i0(){return _t().memoizedState}function Vc(t,r,a,l){var f=on();Re.flags|=t,f.memoizedState=lo(1|r,{destroy:void 0},a,l===void 0?null:l)}function Pc(t,r,a,l){var f=_t();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&Td(l,Xe.memoizedState.deps)?f.memoizedState=lo(r,d,a,l):(Re.flags|=t,f.memoizedState=lo(1|r,d,a,l))}function r0(t,r){Vc(8390656,8,t,r)}function Nd(t,r){Pc(2048,8,t,r)}function bA(t){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=Oc(),Re.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function s0(t){var r=_t().memoizedState;return bA({ref:r,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function a0(t,r){return Pc(4,2,t,r)}function o0(t,r){return Pc(4,4,t,r)}function l0(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function u0(t,r,a){a=a!=null?a.concat([t]):null,Pc(4,4,l0.bind(null,r,t),a)}function Dd(){}function c0(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Td(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function h0(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Td(r,l[1]))return l[0];if(l=t(),ea){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,r],l}function Od(t,r,a){return a===void 0||(er&1073741824)!==0&&(De&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=f_(),Re.lanes|=t,Gr|=t,a)}function f0(t,r,a,l){return En(a,r)?a:so.current!==null?(t=Od(t,a,l),En(t,r)||(Ct=!0),t):(er&42)===0||(er&1073741824)!==0&&(De&261930)===0?(Ct=!0,t.memoizedState=a):(t=f_(),Re.lanes|=t,Gr|=t,r)}function d0(t,r,a,l,f){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=W.T,A={};W.T=A,Vd(t,!1,r,a);try{var N=f(),q=W.S;if(q!==null&&q(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Y=yA(N,l);Vl(t,r,Y,xn(t))}else Vl(t,r,l,xn(t))}catch(J){Vl(t,r,{then:function(){},status:"rejected",reason:J},xn())}finally{oe.p=d,_!==null&&A.types!==null&&(_.types=A.types),W.T=_}}function AA(){}function Md(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=m0(t).queue;d0(t,f,r,_e,a===null?AA:function(){return p0(t),a(l)})}function m0(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:_e},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function p0(t){var r=m0(t);r.next===null&&(r=t.alternate.memoizedState),Vl(t,r.next.queue,{},xn())}function Ld(){return Kt(Jl)}function g0(){return _t().memoizedState}function y0(){return _t().memoizedState}function SA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=xn();t=Ur(a);var l=zr(r,t,a);l!==null&&(pn(l,r,a),Nl(l,r,a)),r={cache:cd()},t.payload=r;return}r=r.return}}function wA(t,r,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},jc(t)?v0(r,a):(a=Jf(t,r,a,l),a!==null&&(pn(a,t,l),E0(a,r,l)))}function _0(t,r,a){var l=xn();Vl(t,r,a,l)}function Vl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(jc(t))v0(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,A=d(_,a);if(f.hasEagerState=!0,f.eagerState=A,En(A,_))return _c(t,r,f,0),tt===null&&yc(),!1}catch{}if(a=Jf(t,r,f,l),a!==null)return pn(a,t,l),E0(a,r,l),!0}return!1}function Vd(t,r,a,l){if(l={lane:2,revertLane:mm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},jc(t)){if(r)throw Error(s(479))}else r=Jf(t,a,l,2),r!==null&&pn(r,t,2)}function jc(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function v0(t,r){ao=Nc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function E0(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,rl(t,a)}}var Pl={readContext:Kt,use:Mc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};Pl.useEffectEvent=ht;var T0={readContext:Kt,use:Mc,useCallback:function(t,r){return on().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:r0,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Vc(4194308,4,l0.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Vc(4194308,4,t,r)},useInsertionEffect:function(t,r){Vc(4,2,t,r)},useMemo:function(t,r){var a=on();r=r===void 0?null:r;var l=t();if(ea){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=on();if(a!==void 0){var f=a(r);if(ea){Nn(!0);try{a(r)}finally{Nn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=wA.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var r=on();return t={current:t},r.memoizedState=t},useState:function(t){t=Cd(t);var r=t.queue,a=_0.bind(null,Re,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Dd,useDeferredValue:function(t,r){var a=on();return Od(a,t,r)},useTransition:function(){var t=Cd(!1);return t=d0.bind(null,Re,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Re,f=on();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(De&127)!==0||qy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,r0(Fy.bind(null,l,d,t),[t]),l.flags|=2048,lo(9,{destroy:void 0},Hy.bind(null,l,d,a,r),null),a},useId:function(){var t=on(),r=tt.identifierPrefix;if(Pe){var a=Mi,l=Oi;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Dc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=_A++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Ld,useFormState:Jy,useActionState:Jy,useOptimistic:function(t){var r=on();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Vd.bind(null,Re,!0,a),a.dispatch=r,[t,r]},useMemoCache:xd,useCacheRefresh:function(){return on().memoizedState=SA.bind(null,Re)},useEffectEvent:function(t){var r=on(),a={impl:t};return r.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Pd={readContext:Kt,use:Mc,useCallback:c0,useContext:Kt,useEffect:Nd,useImperativeHandle:u0,useInsertionEffect:a0,useLayoutEffect:o0,useMemo:h0,useReducer:Lc,useRef:i0,useState:function(){return Lc(tr)},useDebugValue:Dd,useDeferredValue:function(t,r){var a=_t();return f0(a,Xe.memoizedState,t,r)},useTransition:function(){var t=Lc(tr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:Ll(t),r]},useSyncExternalStore:By,useId:g0,useHostTransitionStatus:Ld,useFormState:e0,useActionState:e0,useOptimistic:function(t,r){var a=_t();return Qy(a,Xe,t,r)},useMemoCache:xd,useCacheRefresh:y0};Pd.useEffectEvent=s0;var b0={readContext:Kt,use:Mc,useCallback:c0,useContext:Kt,useEffect:Nd,useImperativeHandle:u0,useInsertionEffect:a0,useLayoutEffect:o0,useMemo:h0,useReducer:Id,useRef:i0,useState:function(){return Id(tr)},useDebugValue:Dd,useDeferredValue:function(t,r){var a=_t();return Xe===null?Od(a,t,r):f0(a,Xe.memoizedState,t,r)},useTransition:function(){var t=Id(tr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:Ll(t),r]},useSyncExternalStore:By,useId:g0,useHostTransitionStatus:Ld,useFormState:n0,useActionState:n0,useOptimistic:function(t,r){var a=_t();return Xe!==null?Qy(a,Xe,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:xd,useCacheRefresh:y0};b0.useEffectEvent=s0;function jd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ud={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=xn(),f=Ur(l);f.payload=r,a!=null&&(f.callback=a),r=zr(t,f,l),r!==null&&(pn(r,t,l),Nl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=xn(),f=Ur(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=zr(t,f,l),r!==null&&(pn(r,t,l),Nl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=xn(),l=Ur(a);l.tag=2,r!=null&&(l.callback=r),r=zr(t,l,a),r!==null&&(pn(r,t,a),Nl(r,t,a))}};function A0(t,r,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Al(a,l)||!Al(f,d):!0}function S0(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Ud.enqueueReplaceState(r,r.state,null)}function ta(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=b({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function w0(t){gc(t)}function x0(t){console.error(t)}function R0(t){gc(t)}function Uc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function I0(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function zd(t,r,a){return a=Ur(a),a.tag=3,a.payload={element:null},a.callback=function(){Uc(t,r)},a}function C0(t){return t=Ur(t),t.tag=3,t}function k0(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){I0(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){I0(r,a,l),typeof f!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function xA(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&eo(r,a,f,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return Bn===null?Xc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===xc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),hm(t,l,f)),!1;case 22:return a.flags|=65536,l===xc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),hm(t,l,f)),!1}throw Error(s(435,a.tag))}return hm(t,l,f),Xc(),!1}if(Pe)return r=bn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==sd&&(t=Error(s(422),{cause:l}),xl(Pn(t,a)))):(l!==sd&&(r=Error(s(423),{cause:l}),xl(Pn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Pn(l,a),f=zd(t.stateNode,l,f),gd(t,f),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Pn(d,a),Gl===null?Gl=[d]:Gl.push(d),ft!==4&&(ft=2),r===null)return!0;l=Pn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=zd(a.stateNode,l,t),gd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Kr===null||!Kr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=C0(f),k0(f,t,a,l),gd(a,f),!1}a=a.return}while(a!==null);return!1}var Bd=Error(s(461)),Ct=!1;function Qt(t,r,a,l){r.child=t===null?My(r,null,a,l):Js(r,t.child,a,l)}function N0(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return Ys(r),l=bd(t,r,a,_,d,f),A=Ad(),t!==null&&!Ct?(Sd(t,r,f),nr(t,r,f)):(Pe&&A&&id(r),r.flags|=1,Qt(t,r,l,f),r.child)}function D0(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!ed(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,O0(t,r,d,l,f)):(t=Ec(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Yd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Al,a(_,l)&&t.ref===r.ref)return nr(t,r,f)}return r.flags|=1,t=Wi(d,l),t.ref=r.ref,t.return=r,r.child=t}function O0(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(Al(d,l)&&t.ref===r.ref)if(Ct=!1,r.pendingProps=l=d,Yd(t,f))(t.flags&131072)!==0&&(Ct=!0);else return r.lanes=t.lanes,nr(t,r,f)}return qd(t,r,a,l,f)}function M0(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return L0(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Sc(r,d!==null?d.cachePool:null),d!==null?Py(r,d):_d(),jy(r);else return l=r.lanes=536870912,L0(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Sc(r,d.cachePool),Py(r,d),qr(),r.memoizedState=null):(t!==null&&Sc(r,null),_d(),qr());return Qt(t,r,f,a),r.child}function jl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function L0(t,r,a,l,f){var d=fd();return d=d===null?null:{parent:Rt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&Sc(r,null),_d(),jy(r),t!==null&&eo(t,r,l,!0),r.childLanes=f,null}function zc(t,r){return r=qc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function V0(t,r,a){return Js(r,t.child,null,a),t=zc(r,r.pendingProps),t.flags|=2,An(r),r.memoizedState=null,t}function RA(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=zc(r,l),r.lanes=536870912,jl(null,t);if(Ed(r),(t=it)?(t=$_(t,zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=vy(t),a.return=r,r.child=a,Gt=r,it=null)):t=null,t===null)throw Vr(r);return r.lanes=536870912,null}return zc(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Ed(r),f)if(r.flags&256)r.flags&=-257,r=V0(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ct||eo(t,r,a,!1),f=(a&t.childLanes)!==0,Ct||f){if(l=tt,l!==null&&(_=sl(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Gs(t,_),pn(l,t,_),Bd;Xc(),r=V0(t,r,a)}else t=d.treeContext,it=qn(_.nextSibling),Gt=r,Pe=!0,Lr=null,zn=!1,t!==null&&by(r,t),r=zc(r,l),r.flags|=4096;return r}return t=Wi(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Bc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function qd(t,r,a,l,f){return Ys(r),a=bd(t,r,a,l,void 0,f),l=Ad(),t!==null&&!Ct?(Sd(t,r,f),nr(t,r,f)):(Pe&&l&&id(r),r.flags|=1,Qt(t,r,a,f),r.child)}function P0(t,r,a,l,f,d){return Ys(r),r.updateQueue=null,a=zy(r,l,a,f),Uy(t),l=Ad(),t!==null&&!Ct?(Sd(t,r,d),nr(t,r,d)):(Pe&&l&&id(r),r.flags|=1,Qt(t,r,a,d),r.child)}function j0(t,r,a,l,f){if(Ys(r),r.stateNode===null){var d=Wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ud,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},md(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):Wa,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(jd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Ud.enqueueReplaceState(d,d.state,null),Ol(r,l,d,f),Dl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var A=r.memoizedProps,N=ta(a,A);d.props=N;var q=d.context,Y=a.contextType;_=Wa,typeof Y=="object"&&Y!==null&&(_=Kt(Y));var J=a.getDerivedStateFromProps;Y=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||q!==_)&&S0(r,d,l,_),jr=!1;var H=r.memoizedState;d.state=H,Ol(r,l,d,f),Dl(),q=r.memoizedState,A||H!==q||jr?(typeof J=="function"&&(jd(r,a,J,l),q=r.memoizedState),(N=jr||A0(r,a,N,l,H,q,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,pd(t,r),_=r.memoizedProps,Y=ta(a,_),d.props=Y,J=r.pendingProps,H=d.context,q=a.contextType,N=Wa,typeof q=="object"&&q!==null&&(N=Kt(q)),A=a.getDerivedStateFromProps,(q=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||H!==N)&&S0(r,d,l,N),jr=!1,H=r.memoizedState,d.state=H,Ol(r,l,d,f),Dl();var K=r.memoizedState;_!==J||H!==K||jr||t!==null&&t.dependencies!==null&&bc(t.dependencies)?(typeof A=="function"&&(jd(r,a,A,l),K=r.memoizedState),(Y=jr||A0(r,a,Y,l,H,K,N)||t!==null&&t.dependencies!==null&&bc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=N,l=Y):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Bc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Js(r,t.child,null,f),r.child=Js(r,null,a,f)):Qt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=nr(t,r,f),t}function U0(t,r,a,l){return Qs(),r.flags|=256,Qt(t,r,a,l),r.child}var Hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fd(t){return{baseLanes:t,cachePool:Iy()}}function Gd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=wn),t}function z0(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Pe){if(f?Br(r):qr(),(t=it)?(t=$_(t,zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=vy(t),a.return=r,r.child=a,Gt=r,it=null)):t=null,t===null)throw Vr(r);return Rm(t)?r.lanes=32:r.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(qr(),f=r.mode,A=qc({mode:"hidden",children:A},f),l=Ks(l,f,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,l=r.child,l.memoizedState=Fd(a),l.childLanes=Gd(t,_,a),r.memoizedState=Hd,jl(null,l)):(Br(r),Kd(r,A))}var N=t.memoizedState;if(N!==null&&(A=N.dehydrated,A!==null)){if(d)r.flags&256?(Br(r),r.flags&=-257,r=Qd(t,r,a)):r.memoizedState!==null?(qr(),r.child=t.child,r.flags|=128,r=null):(qr(),A=l.fallback,f=r.mode,l=qc({mode:"visible",children:l.children},f),A=Ks(A,f,a,null),A.flags|=2,l.return=r,A.return=r,l.sibling=A,r.child=l,Js(r,t.child,null,a),l=r.child,l.memoizedState=Fd(a),l.childLanes=Gd(t,_,a),r.memoizedState=Hd,r=jl(null,l));else if(Br(r),Rm(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,xl({value:l,source:null,stack:null}),r=Qd(t,r,a)}else if(Ct||eo(t,r,a,!1),_=(a&t.childLanes)!==0,Ct||_){if(_=tt,_!==null&&(l=sl(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Gs(t,l),pn(_,t,l),Bd;xm(A)||Xc(),r=Qd(t,r,a)}else xm(A)?(r.flags|=192,r.child=t.child,r=null):(t=N.treeContext,it=qn(A.nextSibling),Gt=r,Pe=!0,Lr=null,zn=!1,t!==null&&by(r,t),r=Kd(r,l.children),r.flags|=4096);return r}return f?(qr(),A=l.fallback,f=r.mode,N=t.child,q=N.sibling,l=Wi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,q!==null?A=Wi(q,A):(A=Ks(A,f,a,null),A.flags|=2),A.return=r,l.return=r,l.sibling=A,r.child=l,jl(null,l),l=r.child,A=t.child.memoizedState,A===null?A=Fd(a):(f=A.cachePool,f!==null?(N=Rt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=Iy(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Gd(t,_,a),r.memoizedState=Hd,jl(t.child,l)):(Br(r),a=t.child,t=a.sibling,a=Wi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function Kd(t,r){return r=qc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function qc(t,r){return t=Tn(22,t,null,r),t.lanes=0,t}function Qd(t,r,a){return Js(r,t.child,null,a),t=Kd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function B0(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),ld(t.return,r,a)}function $d(t,r,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function q0(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,A=(_&2)!==0;if(A?(_=_&1|2,r.flags|=128):_&=1,le(yt,_),Qt(t,r,l,a),l=Pe?wl:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B0(t,a,r);else if(t.tag===19)B0(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&kc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),$d(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&kc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}$d(r,!0,a,null,d,l);break;case"together":$d(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function nr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Gr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(eo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Wi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Wi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Yd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&bc(t)))}function IA(t,r,a){switch(r.tag){case 3:Lt(r,r.stateNode.containerInfo),Pr(r,Rt,t.memoizedState.cache),Qs();break;case 27:case 5:Rs(r);break;case 4:Lt(r,r.stateNode.containerInfo);break;case 10:Pr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Ed(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Br(r),r.flags|=128,null):(a&r.child.childLanes)!==0?z0(t,r,a):(Br(r),t=nr(t,r,a),t!==null?t.sibling:null);Br(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(eo(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return q0(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(yt,yt.current),l)break;return null;case 22:return r.lanes=0,M0(t,r,a,r.pendingProps);case 24:Pr(r,Rt,t.memoizedState.cache)}return nr(t,r,a)}function H0(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ct=!0;else{if(!Yd(t,a)&&(r.flags&128)===0)return Ct=!1,IA(t,r,a);Ct=(t.flags&131072)!==0}else Ct=!1,Pe&&(r.flags&1048576)!==0&&Ty(r,wl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Xs(r.elementType),r.type=t,typeof t=="function")ed(t)?(l=ta(t,l),r.tag=1,r=j0(null,r,t,l,a)):(r.tag=0,r=qd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===re){r.tag=11,r=N0(null,r,t,l,a);break e}else if(f===S){r.tag=14,r=D0(null,r,t,l,a);break e}}throw r=st(t)||t,Error(s(306,r,""))}}return r;case 0:return qd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ta(l,r.pendingProps),j0(t,r,l,f,a);case 3:e:{if(Lt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,pd(t,r),Ol(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Pr(r,Rt,l),l!==d.cache&&ud(r,[Rt],a,!0),Dl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=U0(t,r,l,a);break e}else if(l!==f){f=Pn(Error(s(424)),r),xl(f),r=U0(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,it=qn(t.firstChild),Gt=r,Pe=!0,Lr=null,zn=!0,a=My(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Qs(),l===f){r=nr(t,r,a);break e}Qt(t,r,l,a)}r=r.child}return r;case 26:return Bc(t,r),t===null?(a=ev(r.type,null,r.pendingProps,null))?r.memoizedState=a:Pe||(a=r.type,t=r.pendingProps,l=rh(Ie.current).createElement(a),l[St]=r,l[Ut]=t,$t(l,a,t),wt(l),r.stateNode=l):r.memoizedState=ev(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Rs(r),t===null&&Pe&&(l=r.stateNode=X_(r.type,r.pendingProps,Ie.current),Gt=r,zn=!0,f=it,Wr(r.type)?(Im=f,it=qn(l.firstChild)):it=f),Qt(t,r,r.pendingProps.children,a),Bc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Pe&&((f=l=it)&&(l=rS(l,r.type,r.pendingProps,zn),l!==null?(r.stateNode=l,Gt=r,it=qn(l.firstChild),zn=!1,f=!0):f=!1),f||Vr(r)),Rs(r),f=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Am(f,d)?l=null:_!==null&&Am(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=bd(t,r,vA,null,null,a),Jl._currentValue=f),Bc(t,r),Qt(t,r,l,a),r.child;case 6:return t===null&&Pe&&((t=a=it)&&(a=sS(a,r.pendingProps,zn),a!==null?(r.stateNode=a,Gt=r,it=null,t=!0):t=!1),t||Vr(r)),null;case 13:return z0(t,r,a);case 4:return Lt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Js(r,null,l,a):Qt(t,r,l,a),r.child;case 11:return N0(t,r,r.type,r.pendingProps,a);case 7:return Qt(t,r,r.pendingProps,a),r.child;case 8:return Qt(t,r,r.pendingProps.children,a),r.child;case 12:return Qt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Pr(r,r.type,l.value),Qt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ys(r),f=Kt(f),l=l(f),r.flags|=1,Qt(t,r,l,a),r.child;case 14:return D0(t,r,r.type,r.pendingProps,a);case 15:return O0(t,r,r.type,r.pendingProps,a);case 19:return q0(t,r,a);case 31:return RA(t,r,a);case 22:return M0(t,r,a,r.pendingProps);case 24:return Ys(r),l=Kt(Rt),t===null?(f=fd(),f===null&&(f=tt,d=cd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},md(r),Pr(r,Rt,f)):((t.lanes&a)!==0&&(pd(t,r),Ol(r,null,null,a),Dl()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Pr(r,Rt,l)):(l=d.cache,Pr(r,Rt,l),l!==f.cache&&ud(r,[Rt],a,!0))),Qt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ir(t){t.flags|=4}function Wd(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(g_())t.flags|=8192;else throw Zs=xc,dd}else t.flags&=-16777217}function F0(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!sv(r))if(g_())t.flags|=8192;else throw Zs=xc,dd}function Hc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Yu():536870912,t.lanes|=r,fo|=r)}function Ul(t,r){if(!Pe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function CA(t,r,a){var l=r.pendingProps;switch(rd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ji(Rt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ja(r)?ir(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ad())),rt(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(ir(r),d!==null?(rt(r),F0(r,d)):(rt(r),Wd(r,f,null,l,a))):d?d!==t.memoizedState?(ir(r),rt(r),F0(r,d)):(rt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&ir(r),rt(r),Wd(r,f,t,l,a)),null;case 27:if(Na(r),a=Ie.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ir(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}t=he.current,Ja(r)?Ay(r):(t=X_(f,l,a),r.stateNode=t,ir(r))}return rt(r),null;case 5:if(Na(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ir(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(d=he.current,Ja(r))Ay(r);else{var _=rh(Ie.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[St]=r,d[Ut]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch($t(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ir(r)}}return rt(r),Wd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&ir(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ie.current,Ja(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Gt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[St]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||z_(t.nodeValue,a)),t||Vr(r,!0)}else t=rh(t).createTextNode(l),t[St]=r,r.stateNode=t}return rt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Ja(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=r}else Qs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),t=!1}else a=ad(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(An(r),r):(An(r),null);if((r.flags&128)!==0)throw Error(s(558))}return rt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ja(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[St]=r}else Qs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),f=!1}else f=ad(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(An(r),r):(An(r),null)}return An(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Hc(r,r.updateQueue),rt(r),null);case 4:return at(),t===null&&_m(r.stateNode.containerInfo),rt(r),null;case 10:return Ji(r.type),rt(r),null;case 19:if(ee(yt),l=r.memoizedState,l===null)return rt(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Ul(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=kc(t),d!==null){for(r.flags|=128,Ul(l,!1),t=d.updateQueue,r.updateQueue=t,Hc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)_y(a,t),a=a.sibling;return le(yt,yt.current&1|2),Pe&&Xi(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&sn()>$c&&(r.flags|=128,f=!0,Ul(l,!1),r.lanes=4194304)}else{if(!f)if(t=kc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Hc(r,t),Ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return rt(r),null}else 2*sn()-l.renderingStartTime>$c&&a!==536870912&&(r.flags|=128,f=!0,Ul(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,a=yt.current,le(yt,f?a&1|2:a&1),Pe&&Xi(r,l.treeForkCount),t):(rt(r),null);case 22:case 23:return An(r),vd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),a=r.updateQueue,a!==null&&Hc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ee(Ws),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ji(Rt),rt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function kA(t,r){switch(rd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ji(Rt),at(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Na(r),null;case 31:if(r.memoizedState!==null){if(An(r),r.alternate===null)throw Error(s(340));Qs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(An(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Qs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ee(yt),null;case 4:return at(),null;case 10:return Ji(r.type),null;case 22:case 23:return An(r),vd(),t!==null&&ee(Ws),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Ji(Rt),null;case 25:return null;default:return null}}function G0(t,r){switch(rd(r),r.tag){case 3:Ji(Rt),at();break;case 26:case 27:case 5:Na(r);break;case 4:at();break;case 31:r.memoizedState!==null&&An(r);break;case 13:An(r);break;case 19:ee(yt);break;case 10:Ji(r.type);break;case 22:case 23:An(r),vd(),t!==null&&ee(Ws);break;case 24:Ji(Rt)}}function zl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(A){Ye(r,r.return,A)}}function Hr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=r;var N=a,q=A;try{q()}catch(Y){Ye(f,N,Y)}}}l=l.next}while(l!==d)}}catch(Y){Ye(r,r.return,Y)}}function K0(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Vy(r,a)}catch(l){Ye(t,t.return,l)}}}function Q0(t,r,a){a.props=ta(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,r,l)}}function Bl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ye(t,r,f)}}function Li(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ye(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ye(t,r,f)}else a.current=null}function $0(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ye(t,t.return,f)}}function Xd(t,r,a){try{var l=t.stateNode;ZA(l,t.type,a,r),l[Ut]=r}catch(f){Ye(t,t.return,f)}}function Y0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Wr(t.type)||t.tag===4}function Zd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Y0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Wr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Jn));else if(l!==4&&(l===27&&Wr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Jd(t,r,a),t=t.sibling;t!==null;)Jd(t,r,a),t=t.sibling}function Fc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Wr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Fc(t,r,a),t=t.sibling;t!==null;)Fc(t,r,a),t=t.sibling}function W0(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);$t(r,l,a),r[St]=t,r[Ut]=a}catch(d){Ye(t,t.return,d)}}var rr=!1,kt=!1,em=!1,X0=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function NA(t,r){if(t=t.containerInfo,Tm=hh,t=uy(t),Qf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,A=-1,N=-1,q=0,Y=0,J=t,H=null;t:for(;;){for(var K;J!==a||f!==0&&J.nodeType!==3||(A=_+f),J!==d||l!==0&&J.nodeType!==3||(N=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(K=J.firstChild)!==null;)H=J,J=K;for(;;){if(J===t)break t;if(H===a&&++q===f&&(A=_),H===d&&++Y===l&&(N=_),(K=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=K}a=A===-1||N===-1?null:{start:A,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(bm={focusedElem:t,selectionRange:a},hh=!1,Bt=r;Bt!==null;)if(r=Bt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Bt=t;else for(;Bt!==null;){switch(r=Bt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=ta(a.type,f);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Ye(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)wm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Bt=t;break}Bt=r.return}}function Z0(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ar(t,a),l&4&&zl(5,a);break;case 1:if(ar(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var f=ta(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&K0(a),l&512&&Bl(a,a.return);break;case 3:if(ar(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Vy(t,r)}catch(_){Ye(a,a.return,_)}}break;case 27:r===null&&l&4&&W0(a);case 26:case 5:ar(t,a),r===null&&l&4&&$0(a),l&512&&Bl(a,a.return);break;case 12:ar(t,a);break;case 31:ar(t,a),l&4&&t_(t,a);break;case 13:ar(t,a),l&4&&n_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=zA.bind(null,a),aS(t,a))));break;case 22:if(l=a.memoizedState!==null||rr,!l){r=r!==null&&r.memoizedState!==null||kt,f=rr;var d=kt;rr=l,(kt=r)&&!d?or(t,a,(a.subtreeFlags&8772)!==0):ar(t,a),rr=f,kt=d}break;case 30:break;default:ar(t,a)}}function J0(t){var r=t.alternate;r!==null&&(t.alternate=null,J0(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Va(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,hn=!1;function sr(t,r,a){for(a=a.child;a!==null;)e_(t,r,a),a=a.sibling}function e_(t,r,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:kt||Li(a,r),sr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:kt||Li(a,r);var l=lt,f=hn;Wr(a.type)&&(lt=a.stateNode,hn=!1),sr(t,r,a),Wl(a.stateNode),lt=l,hn=f;break;case 5:kt||Li(a,r);case 6:if(l=lt,f=hn,lt=null,sr(t,r,a),lt=l,hn=f,lt!==null)if(hn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Ye(a,r,d)}else try{lt.removeChild(a.stateNode)}catch(d){Ye(a,r,d)}break;case 18:lt!==null&&(hn?(t=lt,K_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),To(t)):K_(lt,a.stateNode));break;case 4:l=lt,f=hn,lt=a.stateNode.containerInfo,hn=!0,sr(t,r,a),lt=l,hn=f;break;case 0:case 11:case 14:case 15:Hr(2,a,r),kt||Hr(4,a,r),sr(t,r,a);break;case 1:kt||(Li(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Q0(a,r,l)),sr(t,r,a);break;case 21:sr(t,r,a);break;case 22:kt=(l=kt)||a.memoizedState!==null,sr(t,r,a),kt=l;break;default:sr(t,r,a)}}function t_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{To(t)}catch(a){Ye(r,r.return,a)}}}function n_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{To(t)}catch(a){Ye(r,r.return,a)}}function DA(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new X0),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new X0),r;default:throw Error(s(435,t.tag))}}function Gc(t,r){var a=DA(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=BA.bind(null,t,l);l.then(f,f)}})}function fn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=r,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(Wr(A.type)){lt=A.stateNode,hn=!1;break e}break;case 5:lt=A.stateNode,hn=!1;break e;case 3:case 4:lt=A.stateNode.containerInfo,hn=!0;break e}A=A.return}if(lt===null)throw Error(s(160));e_(d,_,f),lt=null,hn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)i_(r,t),r=r.sibling}var si=null;function i_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(r,t),dn(t),l&4&&(Hr(3,t,t.return),zl(3,t),Hr(5,t,t.return));break;case 1:fn(r,t),dn(t),l&512&&(kt||a===null||Li(a,a.return)),l&64&&rr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=si;if(fn(r,t),dn(t),l&512&&(kt||a===null||Li(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ti]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),$t(d,l,a),d[St]=t,wt(d),l=d;break e;case"link":var _=iv("link","href",f).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;case"meta":if(_=iv("meta","content",f).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,wt(d),l=d}t.stateNode=l}else rv(f,t.type,t.stateNode);else t.stateNode=nv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?rv(f,t.type,t.stateNode):nv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xd(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(r,t),dn(t),l&512&&(kt||a===null||Li(a,a.return)),a!==null&&l&4&&Xd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(r,t),dn(t),l&512&&(kt||a===null||Li(a,a.return)),t.flags&32){f=t.stateNode;try{cn(f,"")}catch(de){Ye(t,t.return,de)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Xd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(em=!0);break;case 6:if(fn(r,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){Ye(t,t.return,de)}}break;case 3:if(oh=null,f=si,si=sh(r.containerInfo),fn(r,t),si=f,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{To(r.containerInfo)}catch(de){Ye(t,t.return,de)}em&&(em=!1,r_(t));break;case 4:l=si,si=sh(t.stateNode.containerInfo),fn(r,t),dn(t),si=l;break;case 12:fn(r,t),dn(t);break;case 31:fn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gc(t,l)));break;case 13:fn(r,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qc=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,q=rr,Y=kt;if(rr=q||f,kt=Y||N,fn(r,t),kt=Y,rr=q,dn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||rr||kt||na(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=N.stateNode;var J=N.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;A.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(de){Ye(N,N.return,de)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(de){Ye(N,N.return,de)}}}else if(r.tag===18){if(a===null){N=r;try{var K=N.stateNode;f?Q_(K,!0):Q_(N.stateNode,!1)}catch(de){Ye(N,N.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Gc(t,a))));break;case 19:fn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gc(t,l)));break;case 30:break;case 21:break;default:fn(r,t),dn(t)}}function dn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Y0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Zd(t);Fc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var A=Zd(t);Fc(t,A,_);break;case 3:case 4:var N=a.stateNode.containerInfo,q=Zd(t);Jd(t,q,N);break;default:throw Error(s(161))}}catch(Y){Ye(t,t.return,Y)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function r_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;r_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function ar(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Z0(t,r.alternate,r),r=r.sibling}function na(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Hr(4,r,r.return),na(r);break;case 1:Li(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Q0(r,r.return,a),na(r);break;case 27:Wl(r.stateNode);case 26:case 5:Li(r,r.return),na(r);break;case 22:r.memoizedState===null&&na(r);break;case 30:na(r);break;default:na(r)}t=t.sibling}}function or(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:or(f,d,a),zl(4,d);break;case 1:if(or(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Ye(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Ly(N[f],A)}catch(q){Ye(l,l.return,q)}}a&&_&64&&K0(d),Bl(d,d.return);break;case 27:W0(d);case 26:case 5:or(f,d,a),a&&l===null&&_&4&&$0(d),Bl(d,d.return);break;case 12:or(f,d,a);break;case 31:or(f,d,a),a&&_&4&&t_(f,d);break;case 13:or(f,d,a),a&&_&4&&n_(f,d);break;case 22:d.memoizedState===null&&or(f,d,a),Bl(d,d.return);break;case 30:break;default:or(f,d,a)}r=r.sibling}}function tm(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Rl(a))}function nm(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Rl(t))}function ai(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)s_(t,r,a,l),r=r.sibling}function s_(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ai(t,r,a,l),f&2048&&zl(9,r);break;case 1:ai(t,r,a,l);break;case 3:ai(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Rl(t)));break;case 12:if(f&2048){ai(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ye(r,r.return,N)}}else ai(t,r,a,l);break;case 31:ai(t,r,a,l);break;case 13:ai(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?ai(t,r,a,l):ql(t,r):d._visibility&2?ai(t,r,a,l):(d._visibility|=2,uo(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&tm(_,r);break;case 24:ai(t,r,a,l),f&2048&&nm(r.alternate,r);break;default:ai(t,r,a,l)}}function uo(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,A=a,N=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:uo(d,_,A,N,f),zl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?uo(d,_,A,N,f):ql(d,_):(Y._visibility|=2,uo(d,_,A,N,f)),f&&q&2048&&tm(_.alternate,_);break;case 24:uo(d,_,A,N,f),f&&q&2048&&nm(_.alternate,_);break;default:uo(d,_,A,N,f)}r=r.sibling}}function ql(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:ql(a,l),f&2048&&tm(l.alternate,l);break;case 24:ql(a,l),f&2048&&nm(l.alternate,l);break;default:ql(a,l)}r=r.sibling}}var Hl=8192;function co(t,r,a){if(t.subtreeFlags&Hl)for(t=t.child;t!==null;)a_(t,r,a),t=t.sibling}function a_(t,r,a){switch(t.tag){case 26:co(t,r,a),t.flags&Hl&&t.memoizedState!==null&&_S(a,si,t.memoizedState,t.memoizedProps);break;case 5:co(t,r,a);break;case 3:case 4:var l=si;si=sh(t.stateNode.containerInfo),co(t,r,a),si=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Hl,Hl=16777216,co(t,r,a),Hl=l):co(t,r,a));break;default:co(t,r,a)}}function o_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Fl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,u_(l,t)}o_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)l_(t),t=t.sibling}function l_(t){switch(t.tag){case 0:case 11:case 15:Fl(t),t.flags&2048&&Hr(9,t,t.return);break;case 3:Fl(t);break;case 12:Fl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Kc(t)):Fl(t);break;default:Fl(t)}}function Kc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,u_(l,t)}o_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Hr(8,r,r.return),Kc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Kc(r));break;default:Kc(r)}t=t.sibling}}function u_(t,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Hr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var f=l.sibling,d=l.return;if(J0(l),l===a){Bt=null;break e}if(f!==null){f.return=d,Bt=f;break e}Bt=d}}}var OA={getCacheForType:function(t){var r=Kt(Rt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Kt(Rt).controller.signal}},MA=typeof WeakMap=="function"?WeakMap:Map,Fe=0,tt=null,ke=null,De=0,$e=0,Sn=null,Fr=!1,ho=!1,im=!1,lr=0,ft=0,Gr=0,ia=0,rm=0,wn=0,fo=0,Gl=null,mn=null,sm=!1,Qc=0,c_=0,$c=1/0,Yc=null,Kr=null,Pt=0,Qr=null,mo=null,ur=0,am=0,om=null,h_=null,Kl=0,lm=null;function xn(){return(Fe&2)!==0&&De!==0?De&-De:W.T!==null?mm():Wu()}function f_(){if(wn===0)if((De&536870912)===0||Pe){var t=ks;ks<<=1,(ks&3932160)===0&&(ks=262144),wn=t}else wn=536870912;return t=bn.current,t!==null&&(t.flags|=32),wn}function pn(t,r,a){(t===tt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(po(t,0),$r(t,De,wn,!1)),Ns(t,a),((Fe&2)===0||t!==tt)&&(t===tt&&((Fe&2)===0&&(ia|=a),ft===4&&$r(t,De,wn,!1)),Vi(t))}function d_(t,r,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Wn(t,r),f=l?PA(t,r):cm(t,r,!0),d=l;do{if(f===0){ho&&!l&&$r(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!LA(a)){f=cm(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var A=t;f=Gl;var N=A.current.memoizedState.isDehydrated;if(N&&(po(A,_).flags|=256),_=cm(A,_,!1),_!==2){if(im&&!N){A.errorRecoveryDisabledLanes|=d,ia|=d,f=4;break e}d=mn,mn=f,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){po(t,0),$r(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:$r(l,r,wn,!Fr);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Qc+300-sn(),10<f)){if($r(l,r,wn,!Fr),_i(l,0,!0)!==0)break e;ur=r,l.timeoutHandle=F_(m_.bind(null,l,a,mn,Yc,sm,r,wn,ia,fo,Fr,d,"Throttled",-0,0),f);break e}m_(l,a,mn,Yc,sm,r,wn,ia,fo,Fr,d,null,-0,0)}}break}while(!0);Vi(t)}function m_(t,r,a,l,f,d,_,A,N,q,Y,J,H,K){if(t.timeoutHandle=-1,J=r.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},a_(r,d,J);var de=(d&62914560)===d?Qc-sn():(d&4194048)===d?c_-sn():0;if(de=vS(J,de),de!==null){ur=d,t.cancelPendingCommit=de(b_.bind(null,t,r,d,a,l,f,_,A,N,Y,J,null,H,K)),$r(t,d,_,!q);return}}b_(t,r,d,a,l,f,_,A,N)}function LA(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!En(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $r(t,r,a,l){r&=~rm,r&=~ia,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-pt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Ds(t,a,r)}function Wc(){return(Fe&6)===0?(Ql(0),!1):!0}function um(){if(ke!==null){if($e===0)var t=ke.return;else t=ke,Zi=$s=null,wd(t),ro=null,Cl=0,t=ke;for(;t!==null;)G0(t.alternate,t),t=t.return;ke=null}}function po(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,tS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ur=0,um(),tt=t,ke=a=Wi(t.current,null),De=r,$e=0,Sn=null,Fr=!1,ho=Wn(t,r),im=!1,fo=wn=rm=ia=Gr=ft=0,mn=Gl=null,sm=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-pt(l),d=1<<f;r|=t[f],l&=~d}return lr=r,yc(),a}function p_(t,r){Re=null,W.H=Pl,r===io||r===wc?(r=Ny(),$e=3):r===dd?(r=Ny(),$e=4):$e=r===Bd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Sn=r,ke===null&&(ft=1,Uc(t,Pn(r,t.current)))}function g_(){var t=bn.current;return t===null?!0:(De&4194048)===De?Bn===null:(De&62914560)===De||(De&536870912)!==0?t===Bn:!1}function y_(){var t=W.H;return W.H=Pl,t===null?Pl:t}function __(){var t=W.A;return W.A=OA,t}function Xc(){ft=4,Fr||(De&4194048)!==De&&bn.current!==null||(ho=!0),(Gr&134217727)===0&&(ia&134217727)===0||tt===null||$r(tt,De,wn,!1)}function cm(t,r,a){var l=Fe;Fe|=2;var f=y_(),d=__();(tt!==t||De!==r)&&(Yc=null,po(t,r)),r=!1;var _=ft;e:do try{if($e!==0&&ke!==null){var A=ke,N=Sn;switch($e){case 8:um(),_=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(r=!0);var q=$e;if($e=0,Sn=null,go(t,A,N,q),a&&ho){_=0;break e}break;default:q=$e,$e=0,Sn=null,go(t,A,N,q)}}VA(),_=ft;break}catch(Y){p_(t,Y)}while(!0);return r&&t.shellSuspendCounter++,Zi=$s=null,Fe=l,W.H=f,W.A=d,ke===null&&(tt=null,De=0,yc()),_}function VA(){for(;ke!==null;)v_(ke)}function PA(t,r){var a=Fe;Fe|=2;var l=y_(),f=__();tt!==t||De!==r?(Yc=null,$c=sn()+500,po(t,r)):ho=Wn(t,r);e:do try{if($e!==0&&ke!==null){r=ke;var d=Sn;t:switch($e){case 1:$e=0,Sn=null,go(t,r,d,1);break;case 2:case 9:if(Cy(d)){$e=0,Sn=null,E_(r);break}r=function(){$e!==2&&$e!==9||tt!==t||($e=7),Vi(t)},d.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Cy(d)?($e=0,Sn=null,E_(r)):($e=0,Sn=null,go(t,r,d,7));break;case 5:var _=null;switch(ke.tag){case 26:_=ke.memoizedState;case 5:case 27:var A=ke;if(_?sv(_):A.stateNode.complete){$e=0,Sn=null;var N=A.sibling;if(N!==null)ke=N;else{var q=A.return;q!==null?(ke=q,Zc(q)):ke=null}break t}}$e=0,Sn=null,go(t,r,d,5);break;case 6:$e=0,Sn=null,go(t,r,d,6);break;case 8:um(),ft=6;break e;default:throw Error(s(462))}}jA();break}catch(Y){p_(t,Y)}while(!0);return Zi=$s=null,W.H=l,W.A=f,Fe=a,ke!==null?0:(tt=null,De=0,yc(),ft)}function jA(){for(;ke!==null&&!zf();)v_(ke)}function v_(t){var r=H0(t.alternate,t,lr);t.memoizedProps=t.pendingProps,r===null?Zc(t):ke=r}function E_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=P0(a,r,r.pendingProps,r.type,void 0,De);break;case 11:r=P0(a,r,r.pendingProps,r.type.render,r.ref,De);break;case 5:wd(r);default:G0(a,r),r=ke=_y(r,lr),r=H0(a,r,lr)}t.memoizedProps=t.pendingProps,r===null?Zc(t):ke=r}function go(t,r,a,l){Zi=$s=null,wd(r),ro=null,Cl=0;var f=r.return;try{if(xA(t,f,r,a,De)){ft=1,Uc(t,Pn(a,t.current)),ke=null;return}}catch(d){if(f!==null)throw ke=f,d;ft=1,Uc(t,Pn(a,t.current)),ke=null;return}r.flags&32768?(Pe||l===1?t=!0:ho||(De&536870912)!==0?t=!1:(Fr=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),T_(r,t)):Zc(r)}function Zc(t){var r=t;do{if((r.flags&32768)!==0){T_(r,Fr);return}t=r.return;var a=CA(r.alternate,r,lr);if(a!==null){ke=a;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=t}while(r!==null);ft===0&&(ft=5)}function T_(t,r){do{var a=kA(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);ft=6,ke=null}function b_(t,r,a,l,f,d,_,A,N){t.cancelPendingCommit=null;do Jc();while(Pt!==0);if((Fe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Zf,Hf(t,a,d,_,A,N),t===tt&&(ke=tt=null,De=0),mo=r,Qr=t,ur=a,am=d,om=f,h_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qA(Sr,function(){return R_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=oe.p,oe.p=2,_=Fe,Fe|=4;try{NA(t,r,a)}finally{Fe=_,oe.p=f,W.T=l}}Pt=1,A_(),S_(),w_()}}function A_(){if(Pt===1){Pt=0;var t=Qr,r=mo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=oe.p;oe.p=2;var f=Fe;Fe|=4;try{i_(r,t);var d=bm,_=uy(t.containerInfo),A=d.focusedElem,N=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&ly(A.ownerDocument.documentElement,A)){if(N!==null&&Qf(A)){var q=N.start,Y=N.end;if(Y===void 0&&(Y=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(Y,A.value.length);else{var J=A.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var K=H.getSelection(),de=A.textContent.length,ve=Math.min(N.start,de),Je=N.end===void 0?ve:Math.min(N.end,de);!K.extend&&ve>Je&&(_=Je,Je=ve,ve=_);var j=oy(A,ve),M=oy(A,Je);if(j&&M&&(K.rangeCount!==1||K.anchorNode!==j.node||K.anchorOffset!==j.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var B=J.createRange();B.setStart(j.node,j.offset),K.removeAllRanges(),ve>Je?(K.addRange(B),K.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),K.addRange(B))}}}}for(J=[],K=A;K=K.parentNode;)K.nodeType===1&&J.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<J.length;A++){var X=J[A];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}hh=!!Tm,bm=Tm=null}finally{Fe=f,oe.p=l,W.T=a}}t.current=r,Pt=2}}function S_(){if(Pt===2){Pt=0;var t=Qr,r=mo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=oe.p;oe.p=2;var f=Fe;Fe|=4;try{Z0(t,r.alternate,r)}finally{Fe=f,oe.p=l,W.T=a}}Pt=3}}function w_(){if(Pt===4||Pt===3){Pt=0,Hu();var t=Qr,r=mo,a=ur,l=h_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pt=5:(Pt=0,mo=Qr=null,x_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Kr=null),Ki(a),r=r.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Yn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=W.T,f=oe.p,oe.p=2,W.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{W.T=r,oe.p=f}}(ur&3)!==0&&Jc(),Vi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===lm?Kl++:(Kl=0,lm=t):Kl=0,Ql(0)}}function x_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Rl(r)))}function Jc(){return A_(),S_(),w_(),R_()}function R_(){if(Pt!==5)return!1;var t=Qr,r=am;am=0;var a=Ki(ur),l=W.T,f=oe.p;try{oe.p=32>a?32:a,W.T=null,a=om,om=null;var d=Qr,_=ur;if(Pt=0,mo=Qr=null,ur=0,(Fe&6)!==0)throw Error(s(331));var A=Fe;if(Fe|=4,l_(d.current),s_(d,d.current,_,a),Fe=A,Ql(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Yn,d)}catch{}return!0}finally{oe.p=f,W.T=l,x_(t,r)}}function I_(t,r,a){r=Pn(a,r),r=zd(t.stateNode,r,2),t=zr(t,r,2),t!==null&&(Ns(t,2),Vi(t))}function Ye(t,r,a){if(t.tag===3)I_(t,t,a);else for(;r!==null;){if(r.tag===3){I_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kr===null||!Kr.has(l))){t=Pn(a,t),a=C0(2),l=zr(r,a,2),l!==null&&(k0(a,l,r,t),Ns(l,2),Vi(l));break}}r=r.return}}function hm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new MA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(im=!0,f.add(a),t=UA.bind(null,t,r,a),r.then(t,t))}function UA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(De&a)===a&&(ft===4||ft===3&&(De&62914560)===De&&300>sn()-Qc?(Fe&2)===0&&po(t,0):rm|=a,fo===De&&(fo=0)),Vi(t)}function C_(t,r){r===0&&(r=Yu()),t=Gs(t,r),t!==null&&(Ns(t,r),Vi(t))}function zA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),C_(t,a)}function BA(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),C_(t,a)}function qA(t,r){return Vt(t,r)}var eh=null,yo=null,fm=!1,th=!1,dm=!1,Yr=0;function Vi(t){t!==yo&&t.next===null&&(yo===null?eh=yo=t:yo=yo.next=t),th=!0,fm||(fm=!0,FA())}function Ql(t,r){if(!dm&&th){dm=!0;do for(var a=!1,l=eh;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=f&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,O_(l,d))}else d=De,d=_i(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(a=!0,O_(l,d));l=l.next}while(a);dm=!1}}function HA(){k_()}function k_(){th=fm=!1;var t=0;Yr!==0&&eS()&&(t=Yr);for(var r=sn(),a=null,l=eh;l!==null;){var f=l.next,d=N_(l,r);d===0?(l.next=null,a===null?eh=f:a.next=f,f===null&&(yo=a)):(a=l,(t!==0||(d&3)!==0)&&(th=!0)),l=f}Pt!==0&&Pt!==5||Ql(t),Yr!==0&&(Yr=0)}function N_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),A=1<<_,N=f[_];N===-1?((A&a)===0||(A&l)!==0)&&(f[_]=qf(A,r)):N<=r&&(t.expiredLanes|=A),d&=~A}if(r=tt,a=De,a=_i(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ar(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Ar(l),Ki(a)){case 2:case 8:a=il;break;case 32:a=Sr;break;case 268435456:a=Fu;break;default:a=Sr}return l=D_.bind(null,t),a=Vt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Ar(l),t.callbackPriority=2,t.callbackNode=null,2}function D_(t,r){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Jc()&&t.callbackNode!==a)return null;var l=De;return l=_i(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(d_(t,l,r),N_(t,sn()),t.callbackNode!=null&&t.callbackNode===a?D_.bind(null,t):null)}function O_(t,r){if(Jc())return null;d_(t,r,!0)}function FA(){nS(function(){(Fe&6)!==0?Vt(nl,HA):k_()})}function mm(){if(Yr===0){var t=to;t===0&&(t=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Yr=t}return Yr}function M_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:za(""+t)}function L_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function GA(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=M_((f[Ut]||null).action),_=l.submitter;_&&(r=(r=_[Ut]||null)?M_(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var A=new Ci("action","action",null,l,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yr!==0){var N=_?L_(f,_):new FormData(f);Md(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(A.preventDefault(),N=_?L_(f,_):new FormData(f),Md(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var pm=0;pm<Xf.length;pm++){var gm=Xf[pm],KA=gm.toLowerCase(),QA=gm[0].toUpperCase()+gm.slice(1);ri(KA,"on"+QA)}ri(fy,"onAnimationEnd"),ri(dy,"onAnimationIteration"),ri(my,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(uA,"onTransitionRun"),ri(cA,"onTransitionStart"),ri(hA,"onTransitionCancel"),ri(py,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$A=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function V_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var A=l[_],N=A.instance,q=A.currentTarget;if(A=A.listener,N!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=q;try{d(f)}catch(Y){gc(Y)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(A=l[_],N=A.instance,q=A.currentTarget,A=A.listener,N!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=q;try{d(f)}catch(Y){gc(Y)}f.currentTarget=null,d=N}}}}function Ne(t,r){var a=r[La];a===void 0&&(a=r[La]=new Set);var l=t+"__bubble";a.has(l)||(P_(r,t,2,!1),a.add(l))}function ym(t,r,a){var l=0;r&&(l|=4),P_(a,t,l,r)}var nh="_reactListening"+Math.random().toString(36).slice(2);function _m(t){if(!t[nh]){t[nh]=!0,al.forEach(function(a){a!=="selectionchange"&&($A.has(a)||ym(a,!1,t),ym(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[nh]||(r[nh]=!0,ym("selectionchange",!1,r))}}function P_(t,r,a,l){switch(fv(r)){case 2:var f=bS;break;case 8:f=AS;break;default:f=Om}a=f.bind(null,r,a,t),f=void 0,!Ps||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function vm(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=bi(A),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}A=A.parentNode}}l=l.return}kr(function(){var q=d,Y=On(a),J=[];e:{var H=gy.get(t);if(H!==void 0){var K=Ci,de=t;switch(t){case"keypress":if(Us(a)===0)break e;case"keydown":case"keyup":K=dc;break;case"focusin":de="focus",K=Bs;break;case"focusout":de="blur",K=Bs;break;case"beforeblur":case"afterblur":K=Bs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case fy:case dy:case my:K=ac;break;case py:K=w;break;case"scroll":case"scrollend":K=_l;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=oc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Yi;break;case"toggle":case"beforetoggle":K=xe}var ve=(r&4)!==0,Je=!ve&&(t==="scroll"||t==="scrollend"),j=ve?H!==null?H+"Capture":null:H;ve=[];for(var M=q,B;M!==null;){var X=M;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||j===null||(X=ei(M,j),X!=null&&ve.push(Yl(M,X,B))),Je)break;M=M.return}0<ve.length&&(H=new K(H,de,null,a,Y),J.push({event:H,listeners:ve}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",H&&a!==pl&&(de=a.relatedTarget||a.fromElement)&&(bi(de)||de[Ei]))break e;if((K||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,K?(de=a.relatedTarget||a.toElement,K=q,de=de?bi(de):null,de!==null&&(Je=u(de),ve=de.tag,de!==Je||ve!==5&&ve!==27&&ve!==6)&&(de=null)):(K=null,de=q),K!==de)){if(ve=vl,X="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Yi,X="onPointerLeave",j="onPointerEnter",M="pointer"),Je=K==null?H:_n(K),B=de==null?H:_n(de),H=new ve(X,M+"leave",K,a,Y),H.target=Je,H.relatedTarget=B,X=null,bi(Y)===q&&(ve=new ve(j,M+"enter",de,a,Y),ve.target=B,ve.relatedTarget=Je,X=ve),Je=X,K&&de)t:{for(ve=YA,j=K,M=de,B=0,X=j;X;X=ve(X))B++;X=0;for(var ge=M;ge;ge=ve(ge))X++;for(;0<B-X;)j=ve(j),B--;for(;0<X-B;)M=ve(M),X--;for(;B--;){if(j===M||M!==null&&j===M.alternate){ve=j;break t}j=ve(j),M=ve(M)}ve=null}else ve=null;K!==null&&j_(J,H,K,ve,!1),de!==null&&Je!==null&&j_(J,Je,de,ve,!0)}}e:{if(H=q?_n(q):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var Be=ty;else if(Jg(H))if(ny)Be=aA;else{Be=rA;var pe=iA}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Ua(q.elementType)&&(Be=ty):Be=sA;if(Be&&(Be=Be(t,q))){ey(J,Be,a,Y);break e}pe&&pe(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&fl(H,"number",H.value)}switch(pe=q?_n(q):window,t){case"focusin":(Jg(pe)||pe.contentEditable==="true")&&(Qa=pe,$f=q,Sl=null);break;case"focusout":Sl=$f=Qa=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,cy(J,a,Y);break;case"selectionchange":if(lA)break;case"keydown":case"keyup":cy(J,a,Y)}var Ce;if(He)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ka?qs(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Di&&a.locale!=="ko"&&(Ka||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ka&&(Ce=yl()):(Ii=Y,gl="value"in Ii?Ii.value:Ii.textContent,Ka=!0)),pe=ih(q,Oe),0<pe.length&&(Oe=new Ni(Oe,t,null,a,Y),J.push({event:Oe,listeners:pe}),Ce?Oe.data=Ce:(Ce=Ga(a),Ce!==null&&(Oe.data=Ce)))),(Ce=Ln?J2(t,a):eA(t,a))&&(Oe=ih(q,"onBeforeInput"),0<Oe.length&&(pe=new Ni("onBeforeInput","beforeinput",null,a,Y),J.push({event:pe,listeners:Oe}),pe.data=Ce)),GA(J,t,q,a,Y)}V_(J,r)})}function Yl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function ih(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ei(t,a),f!=null&&l.unshift(Yl(t,f,d)),f=ei(t,r),f!=null&&l.push(Yl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function YA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function j_(t,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var A=a,N=A.alternate,q=A.stateNode;if(A=A.tag,N!==null&&N===l)break;A!==5&&A!==26&&A!==27||q===null||(N=q,f?(q=ei(a,d),q!=null&&_.unshift(Yl(a,q,N))):f||(q=ei(a,d),q!=null&&_.push(Yl(a,q,N)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var WA=/\r\n?/g,XA=/\u0000|\uFFFD/g;function U_(t){return(typeof t=="string"?t:""+t).replace(WA,`
`).replace(XA,"")}function z_(t,r){return r=U_(r),U_(t)===r}function Ze(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&cn(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":ml(t,l,d);break;case"data":if(r!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=za(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ze(t,r,"name",f.name,f,null),Ze(t,r,"formEncType",f.formEncType,f,null),Ze(t,r,"formMethod",f.formMethod,f,null),Ze(t,r,"formTarget",f.formTarget,f,null)):(Ze(t,r,"encType",f.encType,f,null),Ze(t,r,"method",f.method,f,null),Ze(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=za(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=za(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),Pa(t,"popover",l);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Pa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ic.get(a)||a,Pa(t,a,l))}}function Em(t,r,a,l,f,d){switch(a){case"style":ml(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ol.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Pa(t,a,l)}}}function $t(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(t,r,d,_,a,null)}}f&&Ze(t,r,"srcSet",a.srcSet,a,null),l&&Ze(t,r,"src",a.src,a,null);return;case"input":Ne("invalid",t);var A=d=_=f=null,N=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":_=Y;break;case"checked":N=Y;break;case"defaultChecked":q=Y;break;case"value":d=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Ze(t,r,l,Y,a,null)}}ec(t,d,A,N,q,_,f,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:Ze(t,r,f,A,a,null)}r=d,a=_,t.multiple=!!l,r!=null?xr(t,!!l,r,!1):a!=null&&xr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Ze(t,r,_,A,a,null)}Rr(t,l,f,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Ze(t,r,N,l,a,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<$l.length;l++)Ne($l[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(t,r,q,l,a,null)}return;default:if(Ua(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Em(t,r,Y,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Ze(t,r,A,l,a,null))}function ZA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,A=null,N=null,q=null,Y=null;for(K in a){var J=a[K];if(a.hasOwnProperty(K)&&J!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=J;default:l.hasOwnProperty(K)||Ze(t,r,K,null,l,J)}}for(var H in l){var K=l[H];if(J=a[H],l.hasOwnProperty(H)&&(K!=null||J!=null))switch(H){case"type":d=K;break;case"name":f=K;break;case"checked":q=K;break;case"defaultChecked":Y=K;break;case"value":_=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==J&&Ze(t,r,H,K,l,J)}}ja(t,_,A,N,q,Y,d,f);return;case"select":K=_=A=H=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(d)||Ze(t,r,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":H=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==N&&Ze(t,r,f,d,l,N)}r=A,a=_,l=K,H!=null?xr(t,!!a,H,!1):!!l!=!!a&&(r!=null?xr(t,!!a,r,!0):xr(t,!!a,a?[]:"",!1));return;case"textarea":K=H=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ze(t,r,A,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":H=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ze(t,r,_,f,l,d)}tc(t,H,K);return;case"option":for(var de in a)H=a[de],a.hasOwnProperty(de)&&H!=null&&!l.hasOwnProperty(de)&&(de==="selected"?t.selected=!1:Ze(t,r,de,null,l,H));for(N in l)H=l[N],K=a[N],l.hasOwnProperty(N)&&H!==K&&(H!=null||K!=null)&&(N==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":Ze(t,r,N,H,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)H=a[ve],a.hasOwnProperty(ve)&&H!=null&&!l.hasOwnProperty(ve)&&Ze(t,r,ve,null,l,H);for(q in l)if(H=l[q],K=a[q],l.hasOwnProperty(q)&&H!==K&&(H!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:Ze(t,r,q,H,l,K)}return;default:if(Ua(r)){for(var Je in a)H=a[Je],a.hasOwnProperty(Je)&&H!==void 0&&!l.hasOwnProperty(Je)&&Em(t,r,Je,void 0,l,H);for(Y in l)H=l[Y],K=a[Y],!l.hasOwnProperty(Y)||H===K||H===void 0&&K===void 0||Em(t,r,Y,H,l,K);return}}for(var j in a)H=a[j],a.hasOwnProperty(j)&&H!=null&&!l.hasOwnProperty(j)&&Ze(t,r,j,null,l,H);for(J in l)H=l[J],K=a[J],!l.hasOwnProperty(J)||H===K||H==null&&K==null||Ze(t,r,J,H,l,K)}function B_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,A=f.duration;if(d&&A&&B_(_)){for(_=0,A=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],q=N.startTime;if(q>A)break;var Y=N.transferSize,J=N.initiatorType;Y&&B_(J)&&(N=N.responseEnd,_+=Y*(N<A?1:(A-q)/(N-q)))}if(--l,r+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Tm=null,bm=null;function rh(t){return t.nodeType===9?t:t.ownerDocument}function q_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Am(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Sm=null;function eS(){var t=window.event;return t&&t.type==="popstate"?t===Sm?!1:(Sm=t,!0):(Sm=null,!1)}var F_=typeof setTimeout=="function"?setTimeout:void 0,tS=typeof clearTimeout=="function"?clearTimeout:void 0,G_=typeof Promise=="function"?Promise:void 0,nS=typeof queueMicrotask=="function"?queueMicrotask:typeof G_<"u"?function(t){return G_.resolve(null).then(t).catch(iS)}:F_;function iS(t){setTimeout(function(){throw t})}function Wr(t){return t==="head"}function K_(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),To(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Wl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[Ti]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Wl(t.ownerDocument.body);a=f}while(a);To(r)}function Q_(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function wm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wm(a),Va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function rS(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ti])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function sS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function $_(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=qn(t.nextSibling),t===null))return null;return t}function xm(t){return t.data==="$?"||t.data==="$~"}function Rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function aS(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Im=null;function Y_(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return qn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function W_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function X_(t,r,a){switch(r=rh(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Wl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Va(t)}var Hn=new Map,Z_=new Set;function sh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cr=oe.d;oe.d={f:oS,r:lS,D:uS,C:cS,L:hS,m:fS,X:mS,S:dS,M:pS};function oS(){var t=cr.f(),r=Wc();return t||r}function lS(t){var r=Dn(t);r!==null&&r.tag===5&&r.type==="form"?p0(r):cr.r(t)}var _o=typeof document>"u"?null:document;function J_(t,r,a){var l=_o;if(l&&typeof r=="string"&&r){var f=un(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Z_.has(f)||(Z_.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),$t(r,"link",t),wt(r),l.head.appendChild(r)))}}function uS(t){cr.D(t),J_("dns-prefetch",t,null)}function cS(t,r){cr.C(t,r),J_("preconnect",t,r)}function hS(t,r,a){cr.L(t,r,a);var l=_o;if(l&&t&&r){var f='link[rel="preload"][as="'+un(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+un(a.imageSizes)+'"]')):f+='[href="'+un(t)+'"]';var d=f;switch(r){case"style":d=vo(t);break;case"script":d=Eo(t)}Hn.has(d)||(t=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Hn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Xl(d))||r==="script"&&l.querySelector(Zl(d))||(r=l.createElement("link"),$t(r,"link",t),wt(r),l.head.appendChild(r)))}}function fS(t,r){cr.m(t,r);var a=_o;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Eo(t)}if(!Hn.has(d)&&(t=b({rel:"modulepreload",href:t},r),Hn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zl(d)))return}l=a.createElement("link"),$t(l,"link",t),wt(l),a.head.appendChild(l)}}}function dS(t,r,a){cr.S(t,r,a);var l=_o;if(l&&t){var f=Ai(l).hoistableStyles,d=vo(t);r=r||"default";var _=f.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(Xl(d)))A.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Hn.get(d))&&Cm(t,a);var N=_=l.createElement("link");wt(N),$t(N,"link",t),N._p=new Promise(function(q,Y){N.onload=q,N.onerror=Y}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ah(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(d,_)}}}function mS(t,r){cr.X(t,r);var a=_o;if(a&&t){var l=Ai(a).hoistableScripts,f=Eo(t),d=l.get(f);d||(d=a.querySelector(Zl(f)),d||(t=b({src:t,async:!0},r),(r=Hn.get(f))&&km(t,r),d=a.createElement("script"),wt(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function pS(t,r){cr.M(t,r);var a=_o;if(a&&t){var l=Ai(a).hoistableScripts,f=Eo(t),d=l.get(f);d||(d=a.querySelector(Zl(f)),d||(t=b({src:t,async:!0,type:"module"},r),(r=Hn.get(f))&&km(t,r),d=a.createElement("script"),wt(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function ev(t,r,a,l){var f=(f=Ie.current)?sh(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=vo(a.href),a=Ai(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=vo(a.href);var d=Ai(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Xl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),d||gS(f,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Eo(a),a=Ai(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function vo(t){return'href="'+un(t)+'"'}function Xl(t){return'link[rel="stylesheet"]['+t+"]"}function tv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function gS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),$t(r,"link",a),wt(r),t.head.appendChild(r))}function Eo(t){return'[src="'+un(t)+'"]'}function Zl(t){return"script[async]"+t}function nv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return r.instance=l,wt(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),$t(l,"style",f),ah(l,a.precedence,t),r.instance=l;case"stylesheet":f=vo(a.href);var d=t.querySelector(Xl(f));if(d)return r.state.loading|=4,r.instance=d,wt(d),d;l=tv(a),(f=Hn.get(f))&&Cm(l,f),d=(t.ownerDocument||t).createElement("link"),wt(d);var _=d;return _._p=new Promise(function(A,N){_.onload=A,_.onerror=N}),$t(d,"link",l),r.state.loading|=4,ah(d,a.precedence,t),r.instance=d;case"script":return d=Eo(a.src),(f=t.querySelector(Zl(d)))?(r.instance=f,wt(f),f):(l=a,(f=Hn.get(d))&&(l=b({},a),km(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),wt(f),$t(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ah(l,a.precedence,t));return r.instance}function ah(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===r)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Cm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function km(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var oh=null;function iv(t,r,a){if(oh===null){var l=new Map,f=oh=new Map;f.set(a,l)}else f=oh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Ti]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function rv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function yS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function sv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function _S(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=vo(l.href),d=r.querySelector(Xl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=lh.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,wt(d);return}d=r.ownerDocument||r,l=tv(l),(f=Hn.get(f))&&Cm(l,f),d=d.createElement("link"),wt(d);var _=d;_._p=new Promise(function(A,N){_.onload=A,_.onerror=N}),$t(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=lh.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Nm=0;function vS(t,r){return t.stylesheets&&t.count===0&&ch(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ch(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&Nm===0&&(Nm=62500*JA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ch(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Nm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function lh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uh=null;function ch(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uh=new Map,r.forEach(ES,t),uh=null,lh.call(t))}function ES(t,r){if(!(r.state.loading&4)){var a=uh.get(t);if(a)var l=a.get(null);else{a=new Map,uh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=lh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Jl={$$typeof:se,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function TS(t,r,a,l,f,d,_,A,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function av(t,r,a,l,f,d,_,A,N,q,Y,J){return t=new TS(t,r,a,_,N,q,Y,J,A),r=1,d===!0&&(r|=24),d=Tn(3,null,null,r),t.current=d,d.stateNode=t,r=cd(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},md(d),t}function ov(t){return t?(t=Wa,t):Wa}function lv(t,r,a,l,f,d){f=ov(f),l.context===null?l.context=f:l.pendingContext=f,l=Ur(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=zr(t,l,r),a!==null&&(pn(a,t,r),Nl(a,t,r))}function uv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Dm(t,r){uv(t,r),(t=t.alternate)&&uv(t,r)}function cv(t){if(t.tag===13||t.tag===31){var r=Gs(t,67108864);r!==null&&pn(r,t,67108864),Dm(t,67108864)}}function hv(t){if(t.tag===13||t.tag===31){var r=xn();r=Os(r);var a=Gs(t,r);a!==null&&pn(a,t,r),Dm(t,r)}}var hh=!0;function bS(t,r,a,l){var f=W.T;W.T=null;var d=oe.p;try{oe.p=2,Om(t,r,a,l)}finally{oe.p=d,W.T=f}}function AS(t,r,a,l){var f=W.T;W.T=null;var d=oe.p;try{oe.p=8,Om(t,r,a,l)}finally{oe.p=d,W.T=f}}function Om(t,r,a,l){if(hh){var f=Mm(l);if(f===null)vm(t,r,l,fh,a),dv(t,l);else if(wS(f,t,r,a,l))l.stopPropagation();else if(dv(t,l),r&4&&-1<SS.indexOf(t)){for(;f!==null;){var d=Dn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=yi(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var N=1<<31-pt(_);A.entanglements[1]|=N,_&=~N}Vi(d),(Fe&6)===0&&($c=sn()+500,Ql(0))}}break;case 31:case 13:A=Gs(d,2),A!==null&&pn(A,d,2),Wc(),Dm(d,2)}if(d=Mm(l),d===null&&vm(t,r,l,fh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else vm(t,r,l,null,a)}}function Mm(t){return t=On(t),Lm(t)}var fh=null;function Lm(t){if(fh=null,t=bi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return fh=t,null}function fv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cs()){case nl:return 2;case il:return 8;case Sr:case Bf:return 32;case Fu:return 268435456;default:return 32}default:return 32}}var Vm=!1,Xr=null,Zr=null,Jr=null,eu=new Map,tu=new Map,es=[],SS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dv(t,r){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":eu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(r.pointerId)}}function nu(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Dn(r),r!==null&&cv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function wS(t,r,a,l,f){switch(r){case"focusin":return Xr=nu(Xr,t,r,a,l,f),!0;case"dragenter":return Zr=nu(Zr,t,r,a,l,f),!0;case"mouseover":return Jr=nu(Jr,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return eu.set(d,nu(eu.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,tu.set(d,nu(tu.get(d)||null,t,r,a,l,f)),!0}return!1}function mv(t){var r=bi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Xn(t.priority,function(){hv(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Xn(t.priority,function(){hv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);pl=l,a.target.dispatchEvent(l),pl=null}else return r=Dn(a),r!==null&&cv(r),t.blockedOn=a,!1;r.shift()}return!0}function pv(t,r,a){dh(t)&&a.delete(r)}function xS(){Vm=!1,Xr!==null&&dh(Xr)&&(Xr=null),Zr!==null&&dh(Zr)&&(Zr=null),Jr!==null&&dh(Jr)&&(Jr=null),eu.forEach(pv),tu.forEach(pv)}function mh(t,r){t.blockedOn===r&&(t.blockedOn=null,Vm||(Vm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,xS)))}var ph=null;function gv(t){ph!==t&&(ph=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ph===t&&(ph=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Lm(l||a)===null)continue;break}var d=Dn(a);d!==null&&(t.splice(r,3),r-=3,Md(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function To(t){function r(N){return mh(N,t)}Xr!==null&&mh(Xr,t),Zr!==null&&mh(Zr,t),Jr!==null&&mh(Jr,t),eu.forEach(r),tu.forEach(r);for(var a=0;a<es.length;a++){var l=es[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<es.length&&(a=es[0],a.blockedOn===null);)mv(a),a.blockedOn===null&&es.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Ut]||null;if(typeof d=="function")_||gv(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Ut]||null)A=_.formAction;else if(Lm(f)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),gv(a)}}}function yv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Pm(t){this._internalRoot=t}gh.prototype.render=Pm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=xn();lv(a,l,t,r,null,null)},gh.prototype.unmount=Pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;lv(t.current,2,null,t,null,null),Wc(),r[Ei]=null}};function gh(t){this._internalRoot=t}gh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Wu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<es.length&&r!==0&&r<es[a].priority;a++);es.splice(a,0,t),a===0&&mv(t)}};var _v=e.version;if(_v!=="19.2.3")throw Error(s(527,_v,"19.2.3"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var RS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{Yn=yh.inject(RS),Ht=yh}catch{}}return ru.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=w0,d=x0,_=R0;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=av(t,1,!1,null,null,a,l,null,f,d,_,yv),t[Ei]=r.current,_m(t),new Pm(r)},ru.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=w0,_=x0,A=R0,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=av(t,1,!0,r,a??null,l,f,N,d,_,A,yv),r.context=ov(null),a=r.current,l=xn(),l=Os(l),f=Ur(l),f.callback=null,zr(a,f,l),a=l,r.current.lanes=a,Ns(r,a),Vi(r),t[Ei]=r.current,_m(t),new gh(r)},ru.version="19.2.3",ru}var Iv;function jS(){if(Iv)return zm.exports;Iv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),zm.exports=PS(),zm.exports}var US=jS();var Cv="popstate";function zS(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return up("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:vu(o)}return qS(e,n,null,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Qn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BS(){return Math.random().toString(36).substring(2,10)}function kv(i,e){return{usr:i.state,key:i.key,idx:e}}function up(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Bo(e):e,state:n,key:e&&e.key||s||BS()}}function vu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Bo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function qS(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,p=E();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function E(){return(h.state||{idx:null}).idx}function b(){m="POP";let $=E(),ie=$==null?null:$-p;p=$,g&&g({action:m,location:Q.location,delta:ie})}function R($,ie){m="PUSH";let ne=up(Q.location,$,ie);p=E()+1;let se=kv(ne,p),re=Q.createHref(ne);try{h.pushState(se,"",re)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(re)}u&&g&&g({action:m,location:Q.location,delta:1})}function L($,ie){m="REPLACE";let ne=up(Q.location,$,ie);p=E();let se=kv(ne,p),re=Q.createHref(ne);h.replaceState(se,"",re),u&&g&&g({action:m,location:Q.location,delta:0})}function F($){return HS($)}let Q={get action(){return m},get location(){return i(o,h)},listen($){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Cv,b),g=$,()=>{o.removeEventListener(Cv,b),g=null}},createHref($){return e(o,$)},createURL:F,encodeLocation($){let ie=F($);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:R,replace:L,go($){return h.go($)}};return Q}function HS(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:vu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function bE(i,e,n="/"){return FS(i,e,n,!1)}function FS(i,e,n,s){let o=typeof e=="string"?Bo(e):e,u=gr(o.pathname||"/",n);if(u==null)return null;let h=AE(i);GS(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=nw(u);m=ew(h[g],p,s)}return m}function AE(i,e=[],n=[],s="",o=!1){let u=(h,m,g=o,p)=>{let E={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=mr([s,E.relativePath]),R=n.concat(E);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),AE(h.children,e,R,b,g)),!(h.path==null&&!h.index)&&e.push({path:b,score:ZS(b,h.index),routesMeta:R})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of SE(h.path))u(h,m,!0,g)}),e}function SE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=SE(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function GS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:JS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var KS=/^:[\w-]+$/,QS=3,$S=2,YS=1,WS=10,XS=-2,Nv=i=>i==="*";function ZS(i,e){let n=i.split("/"),s=n.length;return n.some(Nv)&&(s+=XS),e&&(s+=$S),n.filter(o=>!Nv(o)).reduce((o,u)=>o+(KS.test(u)?QS:u===""?YS:WS),s)}function JS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function ew(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Ph({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),R=g.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=Ph({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:mr([u,b.pathname]),pathnameBase:aw(mr([u,b.pathnameBase])),route:R}),b.pathnameBase!=="/"&&(u=mr([u,b.pathnameBase]))}return h}function Ph(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=tw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:b},R)=>{if(E==="*"){let F=m[R]||"";h=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const L=m[R];return b&&!L?p[E]=void 0:p[E]=(L||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:i}}function tw(i,e=!1,n=!0){Qn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function nw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function gr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var wE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iw=i=>wE.test(i);function rw(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Bo(i):i,u;if(n)if(iw(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=Dv(n.substring(1),"/"):u=Dv(n,e)}else u=e;return{pathname:u,search:ow(s),hash:lw(o)}}function Dv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Fm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Up(i){let e=sw(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function zp(i,e,n,s=!1){let o;typeof i=="string"?o=Bo(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),Fm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Fm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Fm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),b-=1;o.pathname=R.join("/")}m=b>=0?e[b]:"/"}let g=rw(o,m),p=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var mr=i=>i.join("/").replace(/\/\/+/g,"/"),aw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),ow=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,lw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,uw=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function cw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function hw(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var xE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function RE(i,e){let n=i;if(typeof n!="string"||!wE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(xE)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=gr(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Qn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var IE=["POST","PUT","PATCH","DELETE"];new Set(IE);var fw=["GET",...IE];new Set(fw);var qo=P.createContext(null);qo.displayName="DataRouter";var uf=P.createContext(null);uf.displayName="DataRouterState";var dw=P.createContext(!1),CE=P.createContext({isTransitioning:!1});CE.displayName="ViewTransition";var mw=P.createContext(new Map);mw.displayName="Fetchers";var pw=P.createContext(null);pw.displayName="Await";var kn=P.createContext(null);kn.displayName="Navigation";var Nu=P.createContext(null);Nu.displayName="Location";var Gi=P.createContext({outlet:null,matches:[],isDataRoute:!1});Gi.displayName="Route";var Bp=P.createContext(null);Bp.displayName="RouteError";var kE="REACT_ROUTER_ERROR",gw="REDIRECT",yw="ROUTE_ERROR_RESPONSE";function _w(i){if(i.startsWith(`${kE}:${gw}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function vw(i){if(i.startsWith(`${kE}:${yw}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new uw(e.status,e.statusText,e.data)}catch{}}function Ew(i,{relative:e}={}){ut(Ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(kn),{hash:o,pathname:u,search:h}=Du(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:mr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Ho(){return P.useContext(Nu)!=null}function Tr(){return ut(Ho(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Nu).location}var NE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DE(i){P.useContext(kn).static||P.useLayoutEffect(i)}function qp(){let{isDataRoute:i}=P.useContext(Gi);return i?Ow():Tw()}function Tw(){ut(Ho(),"useNavigate() may be used only in the context of a <Router> component.");let i=P.useContext(qo),{basename:e,navigator:n}=P.useContext(kn),{matches:s}=P.useContext(Gi),{pathname:o}=Tr(),u=JSON.stringify(Up(s)),h=P.useRef(!1);return DE(()=>{h.current=!0}),P.useCallback((g,p={})=>{if(Qn(h.current,NE),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=zp(g,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:mr([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,i])}P.createContext(null);function Du(i,{relative:e}={}){let{matches:n}=P.useContext(Gi),{pathname:s}=Tr(),o=JSON.stringify(Up(n));return P.useMemo(()=>zp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function bw(i,e){return OE(i,e)}function OE(i,e,n,s,o){ut(Ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(kn),{matches:h}=P.useContext(Gi),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let ne=b&&b.path||"";LE(p,!b||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let R=Tr(),L;if(e){let ne=typeof e=="string"?Bo(e):e;ut(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),L=ne}else L=R;let F=L.pathname||"/",Q=F;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");Q="/"+F.replace(/^\//,"").split("/").slice(ne.length).join("/")}let $=bE(i,{pathname:Q});Qn(b||$!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),Qn($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ie=Rw($&&$.map(ne=>Object.assign({},ne,{params:Object.assign({},g,ne.params),pathname:mr([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:mr([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),h,n,s,o);return e&&ie?P.createElement(Nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},ie):ie}function Aw(){let i=Dw(),e=cw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,h)}var Sw=P.createElement(Aw,null),ME=class extends P.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=vw(i.digest);n&&(i=n)}let e=i!==void 0?P.createElement(Gi.Provider,{value:this.props.routeContext},P.createElement(Bp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?P.createElement(ww,{error:i},e):e}};ME.contextType=dw;var Gm=new WeakMap;function ww({children:i,error:e}){let{basename:n}=P.useContext(kn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=_w(e.digest);if(s){let o=Gm.get(e);if(o)throw o;let u=RE(s.location,n);if(xE&&!Gm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Gm.set(e,h),h}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function xw({routeContext:i,match:e,children:n}){let s=P.useContext(qo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Gi.Provider,{value:i},n)}function Rw(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let E=u.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);ut(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let b=u[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=E),b.route.id){let{loaderData:R,errors:L}=n,F=b.route.loader&&!R.hasOwnProperty(b.route.id)&&(!L||L[b.route.id]===void 0);if(b.route.lazy||F){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&s?(E,b)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:hw(n.matches),errorInfo:b})}:void 0;return u.reduceRight((E,b,R)=>{let L,F=!1,Q=null,$=null;n&&(L=h&&b.route.id?h[b.route.id]:void 0,Q=b.route.errorElement||Sw,m&&(g<0&&R===0?(LE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,$=null):g===R&&(F=!0,$=b.route.hydrateFallbackElement||null)));let ie=e.concat(u.slice(0,R+1)),ne=()=>{let se;return L?se=Q:F?se=$:b.route.Component?se=P.createElement(b.route.Component,null):b.route.element?se=b.route.element:se=E,P.createElement(xw,{match:b,routeContext:{outlet:E,matches:ie,isDataRoute:n!=null},children:se})};return n&&(b.route.ErrorBoundary||b.route.errorElement||R===0)?P.createElement(ME,{location:n.location,revalidation:n.revalidation,component:Q,error:L,children:ne(),routeContext:{outlet:null,matches:ie,isDataRoute:!0},onError:p}):ne()},null)}function Hp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iw(i){let e=P.useContext(qo);return ut(e,Hp(i)),e}function Cw(i){let e=P.useContext(uf);return ut(e,Hp(i)),e}function kw(i){let e=P.useContext(Gi);return ut(e,Hp(i)),e}function Fp(i){let e=kw(i),n=e.matches[e.matches.length-1];return ut(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Nw(){return Fp("useRouteId")}function Dw(){let i=P.useContext(Bp),e=Cw("useRouteError"),n=Fp("useRouteError");return i!==void 0?i:e.errors?.[n]}function Ow(){let{router:i}=Iw("useNavigate"),e=Fp("useNavigate"),n=P.useRef(!1);return DE(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{Qn(n.current,NE),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Ov={};function LE(i,e,n){!e&&!Ov[i]&&(Ov[i]=!0,Qn(!1,n))}P.memo(Mw);function Mw({routes:i,future:e,state:n,onError:s}){return OE(i,void 0,n,s,e)}function VE({to:i,replace:e,state:n,relative:s}){ut(Ho(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(kn);Qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(Gi),{pathname:h}=Tr(),m=qp(),g=zp(i,Up(u),h,s==="path"),p=JSON.stringify(g);return P.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function hr(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Lw({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ut(!Ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),g=P.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=Bo(n));let{pathname:p="/",search:E="",hash:b="",state:R=null,key:L="default"}=n,F=P.useMemo(()=>{let Q=gr(p,m);return Q==null?null:{location:{pathname:Q,search:E,hash:b,state:R,key:L},navigationType:s}},[m,p,E,b,R,L,s]);return Qn(F!=null,`<Router basename="${m}"> is not able to match the URL "${p}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:P.createElement(kn.Provider,{value:g},P.createElement(Nu.Provider,{children:e,value:F}))}function Vw({children:i,location:e}){return bw(cp(i),e)}function cp(i,e=[]){let n=[];return P.Children.forEach(i,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,cp(s.props.children,u));return}ut(s.type===hr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=cp(s.props.children,u)),n.push(h)}),n}var wh="get",xh="application/x-www-form-urlencoded";function cf(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function Pw(i){return cf(i)&&i.tagName.toLowerCase()==="button"}function jw(i){return cf(i)&&i.tagName.toLowerCase()==="form"}function Uw(i){return cf(i)&&i.tagName.toLowerCase()==="input"}function zw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Bw(i,e){return i.button===0&&(!e||e==="_self")&&!zw(i)}var _h=null;function qw(){if(_h===null)try{new FormData(document.createElement("form"),0),_h=!1}catch{_h=!0}return _h}var Hw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Km(i){return i!=null&&!Hw.has(i)?(Qn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xh}"`),null):i}function Fw(i,e){let n,s,o,u,h;if(jw(i)){let m=i.getAttribute("action");s=m?gr(m,e):null,n=i.getAttribute("method")||wh,o=Km(i.getAttribute("enctype"))||xh,u=new FormData(i)}else if(Pw(i)||Uw(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?gr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||wh,o=Km(i.getAttribute("formenctype"))||Km(m.getAttribute("enctype"))||xh,u=new FormData(m,i),!qw()){let{name:p,type:E,value:b}=i;if(E==="image"){let R=p?`${p}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else p&&u.append(p,b)}}else{if(cf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wh,s=null,o=xh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Gw(i,e,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&gr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Kw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function $w(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Kw(u,n);return h.links?h.links():[]}return[]}));return Zw(s.flat(1).filter(Qw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Mv(i,e,n,s,o,u){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Yw(i,e,{includeHydrateFallback:n}={}){return Ww(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Ww(i){return[...new Set(i)]}function Xw(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function Zw(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(Xw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function PE(){let i=P.useContext(qo);return Gp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Jw(){let i=P.useContext(uf);return Gp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Kp=P.createContext(void 0);Kp.displayName="FrameworkContext";function jE(){let i=P.useContext(Kp);return Gp(i,"You must render this element inside a <HydratedRouter> element"),i}function ex(i,e){let n=P.useContext(Kp),[s,o]=P.useState(!1),[u,h]=P.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:b}=e,R=P.useRef(null);P.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let Q=ie=>{ie.forEach(ne=>{h(ne.isIntersecting)})},$=new IntersectionObserver(Q,{threshold:.5});return R.current&&$.observe(R.current),()=>{$.disconnect()}}},[i]),P.useEffect(()=>{if(s){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let L=()=>{o(!0)},F=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,R,{}]:[u,R,{onFocus:su(m,L),onBlur:su(g,F),onMouseEnter:su(p,L),onMouseLeave:su(E,F),onTouchStart:su(b,L)}]:[!1,R,{}]}function su(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function tx({page:i,...e}){let{router:n}=PE(),s=P.useMemo(()=>bE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?P.createElement(ix,{page:i,matches:s,...e}):null}function nx(i){let{manifest:e,routeModules:n}=jE(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return $w(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function ix({page:i,matches:e,...n}){let s=Tr(),{future:o,manifest:u,routeModules:h}=jE(),{basename:m}=PE(),{loaderData:g,matches:p}=Jw(),E=P.useMemo(()=>Mv(i,e,p,u,s,"data"),[i,e,p,u,s]),b=P.useMemo(()=>Mv(i,e,p,u,s,"assets"),[i,e,p,u,s]),R=P.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let Q=new Set,$=!1;if(e.forEach(ne=>{let se=u.routes[ne.route.id];!se||!se.hasLoader||(!E.some(re=>re.route.id===ne.route.id)&&ne.route.id in g&&h[ne.route.id]?.shouldRevalidate||se.hasClientLoader?$=!0:Q.add(ne.route.id))}),Q.size===0)return[];let ie=Gw(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return $&&Q.size>0&&ie.searchParams.set("_routes",e.filter(ne=>Q.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[ie.pathname+ie.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,e,i,h]),L=P.useMemo(()=>Yw(b,u),[b,u]),F=nx(b);return P.createElement(P.Fragment,null,R.map(Q=>P.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),L.map(Q=>P.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),F.map(({key:Q,link:$})=>P.createElement("link",{key:Q,nonce:n.nonce,...$})))}function rx(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var sx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sx&&(window.__reactRouterVersion="7.12.0")}catch{}function ax({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=P.useRef();o.current==null&&(o.current=zS({window:s,v5Compat:!0}));let u=o.current,[h,m]=P.useState({action:u.action,location:u.location}),g=P.useCallback(p=>{n===!1?m(p):P.startTransition(()=>m(p))},[n]);return P.useLayoutEffect(()=>u.listen(g),[u,g]),P.createElement(Lw,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var UE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jh=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:R,...L},F){let{basename:Q,unstable_useTransitions:$}=P.useContext(kn),ie=typeof p=="string"&&UE.test(p),ne=RE(p,Q);p=ne.to;let se=Ew(p,{relative:o}),[re,me,fe]=ex(s,L),S=cx(p,{replace:h,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:R,unstable_useTransitions:$});function x(O){e&&e(O),O.defaultPrevented||S(O)}let C=P.createElement("a",{...L,...fe,href:ne.absoluteURL||se,onClick:ne.isExternal||u?e:x,ref:rx(F,me),target:g,"data-discover":!ie&&n==="render"?"true":void 0});return re&&!ie?P.createElement(P.Fragment,null,C,P.createElement(tx,{page:se})):C});jh.displayName="Link";var ox=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},E){let b=Du(h,{relative:p.relative}),R=Tr(),L=P.useContext(uf),{navigator:F,basename:Q}=P.useContext(kn),$=L!=null&&px(b)&&m===!0,ie=F.encodeLocation?F.encodeLocation(b).pathname:b.pathname,ne=R.pathname,se=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),se=se?se.toLowerCase():null,ie=ie.toLowerCase()),se&&Q&&(se=gr(se,Q)||se);const re=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let me=ne===ie||!o&&ne.startsWith(ie)&&ne.charAt(re)==="/",fe=se!=null&&(se===ie||!o&&se.startsWith(ie)&&se.charAt(ie.length)==="/"),S={isActive:me,isPending:fe,isTransitioning:$},x=me?e:void 0,C;typeof s=="function"?C=s(S):C=[s,me?"active":null,fe?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(S):u;return P.createElement(jh,{...p,"aria-current":x,className:C,ref:E,style:O,to:h,viewTransition:m},typeof g=="function"?g(S):g)});ox.displayName="NavLink";var lx=P.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=wh,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:R,...L},F)=>{let{unstable_useTransitions:Q}=P.useContext(kn),$=dx(),ie=mx(m,{relative:p}),ne=h.toLowerCase()==="get"?"get":"post",se=typeof m=="string"&&UE.test(m),re=me=>{if(g&&g(me),me.defaultPrevented)return;me.preventDefault();let fe=me.nativeEvent.submitter,S=fe?.getAttribute("formmethod")||h,x=()=>$(fe||me.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:R});Q&&n!==!1?P.startTransition(()=>x()):x()};return P.createElement("form",{ref:F,method:ne,action:ie,onSubmit:s?g:re,...L,"data-discover":!se&&i==="render"?"true":void 0})});lx.displayName="Form";function ux(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zE(i){let e=P.useContext(qo);return ut(e,ux(i)),e}function cx(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=qp(),E=Tr(),b=Du(i,{relative:u});return P.useCallback(R=>{if(Bw(R,e)){R.preventDefault();let L=n!==void 0?n:vu(E)===vu(b),F=()=>p(i,{replace:L,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});g?P.startTransition(()=>F()):F()}},[E,p,b,n,s,e,i,o,u,h,m,g])}var hx=0,fx=()=>`__${String(++hx)}__`;function dx(){let{router:i}=zE("useSubmit"),{basename:e}=P.useContext(kn),n=Nw(),s=i.fetch,o=i.navigate;return P.useCallback(async(u,h={})=>{let{action:m,method:g,encType:p,formData:E,body:b}=Fw(u,e);if(h.navigate===!1){let R=h.fetcherKey||fx();await s(R,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:b,formMethod:h.method||g,formEncType:h.encType||p,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:b,formMethod:h.method||g,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function mx(i,{relative:e}={}){let{basename:n}=P.useContext(kn),s=P.useContext(Gi);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Du(i||".",{relative:e})},h=Tr();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:mr([n,u.pathname])),vu(u)}function px(i,{relative:e}={}){let n=P.useContext(CE);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=zE("useViewTransitionState"),o=Du(i,{relative:e});if(!n.isTransitioning)return!1;let u=gr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=gr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ph(o.pathname,h)!=null||Ph(o.pathname,u)!=null}const gx=()=>{};var Lv={};const BE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},yx=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},qE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let R=(m&15)<<2|p>>6,L=p&63;g||(L=64,h||(R=64)),s.push(n[E],n[b],n[R],n[L])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(BE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):yx(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||p==null||b==null)throw new _x;const R=u<<2|m>>4;if(s.push(R),p!==64){const L=m<<4&240|p>>2;if(s.push(L),b!==64){const F=p<<6&192|b;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class _x extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vx=function(i){const e=BE(i);return qE.encodeByteArray(e,!0)},Uh=function(i){return vx(i).replace(/\./g,"")},HE=function(i){try{return qE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ex(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Tx=()=>Ex().__FIREBASE_DEFAULTS__,bx=()=>{if(typeof process>"u"||typeof Lv>"u")return;const i=Lv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Ax=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&HE(i[1]);return e&&JSON.parse(e)},hf=()=>{try{return gx()||Tx()||bx()||Ax()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},FE=i=>hf()?.emulatorHosts?.[i],Sx=i=>{const e=FE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},GE=()=>hf()?.config,KE=i=>hf()?.[`_${i}`];class wx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Fo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function QE(i){return(await fetch(i,{credentials:"include"})).ok}function xx(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Uh(JSON.stringify(n)),Uh(JSON.stringify(h)),""].join(".")}const du={};function Rx(){const i={prod:[],emulator:[]};for(const e of Object.keys(du))du[e]?i.emulator.push(e):i.prod.push(e);return i}function Ix(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Vv=!1;function $E(i,e){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||du[i]===e||du[i]||Vv)return;du[i]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=Rx().prod.length>0;function h(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,L){R.setAttribute("width","24"),R.setAttribute("id",L),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function p(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Vv=!0,h()},R}function E(R,L){R.setAttribute("id",L),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function b(){const R=Ix(s),L=n("text"),F=document.getElementById(L)||document.createElement("span"),Q=n("learnmore"),$=document.getElementById(Q)||document.createElement("a"),ie=n("preprendIcon"),ne=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const se=R.element;m(se),E($,Q);const re=p();g(ne,ie),se.append(ne,F,$,re),document.body.appendChild(se)}u?(F.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function kx(){const i=hf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Nx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YE(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Dx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ox(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Mx(){return!kx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WE(){try{return typeof indexedDB=="object"}catch{return!1}}function XE(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function Lx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Vx="FirebaseError";class mi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Vx,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ga.prototype.create)}}class ga{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Px(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new mi(o,m,s)}}function Px(i,e){return i.replace(jx,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const jx=/\{\$([^}]+)}/g;function Ux(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ds(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(Pv(u)&&Pv(h)){if(!ds(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Pv(i){return i!==null&&typeof i=="object"}function Ou(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ou(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function lu(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function zx(i,e){const n=new Bx(i,e);return n.subscribe.bind(n)}class Bx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");qx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Qm),o.error===void 0&&(o.error=Qm),o.complete===void 0&&(o.complete=Qm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qx(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Qm(){}const Hx=1e3,Fx=2,Gx=14400*1e3,Kx=.5;function jv(i,e=Hx,n=Fx){const s=e*Math.pow(n,i),o=Math.round(Kx*s*(Math.random()-.5)*2);return Math.min(Gx,s+o)}function mt(i){return i&&i._delegate?i._delegate:i}class hi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const sa="[DEFAULT]";class Qx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new wx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yx(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$x(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $x(i){return i===sa?void 0:i}function Yx(i){return i.instantiationMode==="EAGER"}class Wx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Qx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const Xx={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Zx=Me.INFO,Jx={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},eR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=Jx[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ff{constructor(e){this.name=e,this._logLevel=Zx,this._logHandler=eR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const tR=(i,e)=>e.some(n=>i instanceof n);let Uv,zv;function nR(){return Uv||(Uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iR(){return zv||(zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZE=new WeakMap,hp=new WeakMap,JE=new WeakMap,$m=new WeakMap,Qp=new WeakMap;function rR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(ls(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&ZE.set(n,i)}).catch(()=>{}),Qp.set(e,i),e}function sR(i){if(hp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});hp.set(i,e)}let fp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return hp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||JE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function aR(i){fp=i(fp)}function oR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Ym(this),e,...n);return JE.set(s,e.sort?e.sort():[e]),ls(s)}:iR().includes(i)?function(...e){return i.apply(Ym(this),e),ls(ZE.get(this))}:function(...e){return ls(i.apply(Ym(this),e))}}function lR(i){return typeof i=="function"?oR(i):(i instanceof IDBTransaction&&sR(i),tR(i,nR())?new Proxy(i,fp):i)}function ls(i){if(i instanceof IDBRequest)return rR(i);if($m.has(i))return $m.get(i);const e=lR(i);return e!==i&&($m.set(i,e),Qp.set(e,i)),e}const Ym=i=>Qp.get(i);function eT(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=ls(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ls(h.result),g.oldVersion,g.newVersion,ls(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const uR=["get","getKey","getAll","getAllKeys","count"],cR=["put","add","delete","clear"],Wm=new Map;function Bv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=cR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||uR.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Wm.set(e,u),u}aR(i=>({...i,get:(e,n,s)=>Bv(e,n)||i.get(e,n,s),has:(e,n)=>!!Bv(e,n)||i.has(e,n)}));class hR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function fR(i){return i.getComponent()?.type==="VERSION"}const dp="@firebase/app",qv="0.14.7";const yr=new ff("@firebase/app"),dR="@firebase/app-compat",mR="@firebase/analytics-compat",pR="@firebase/analytics",gR="@firebase/app-check-compat",yR="@firebase/app-check",_R="@firebase/auth",vR="@firebase/auth-compat",ER="@firebase/database",TR="@firebase/data-connect",bR="@firebase/database-compat",AR="@firebase/functions",SR="@firebase/functions-compat",wR="@firebase/installations",xR="@firebase/installations-compat",RR="@firebase/messaging",IR="@firebase/messaging-compat",CR="@firebase/performance",kR="@firebase/performance-compat",NR="@firebase/remote-config",DR="@firebase/remote-config-compat",OR="@firebase/storage",MR="@firebase/storage-compat",LR="@firebase/firestore",VR="@firebase/ai",PR="@firebase/firestore-compat",jR="firebase",UR="12.8.0";const mp="[DEFAULT]",zR={[dp]:"fire-core",[dR]:"fire-core-compat",[pR]:"fire-analytics",[mR]:"fire-analytics-compat",[yR]:"fire-app-check",[gR]:"fire-app-check-compat",[_R]:"fire-auth",[vR]:"fire-auth-compat",[ER]:"fire-rtdb",[TR]:"fire-data-connect",[bR]:"fire-rtdb-compat",[AR]:"fire-fn",[SR]:"fire-fn-compat",[wR]:"fire-iid",[xR]:"fire-iid-compat",[RR]:"fire-fcm",[IR]:"fire-fcm-compat",[CR]:"fire-perf",[kR]:"fire-perf-compat",[NR]:"fire-rc",[DR]:"fire-rc-compat",[OR]:"fire-gcs",[MR]:"fire-gcs-compat",[LR]:"fire-fst",[PR]:"fire-fst-compat",[VR]:"fire-vertex","fire-js":"fire-js",[jR]:"fire-js-all"};const zh=new Map,BR=new Map,pp=new Map;function Hv(i,e){try{i.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Hi(i){const e=i.name;if(pp.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;pp.set(e,i);for(const n of zh.values())Hv(n,i);for(const n of BR.values())Hv(n,i);return!0}function ya(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function oi(i){return i==null?!1:i.settings!==void 0}const qR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new ga("app","Firebase",qR);class HR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}const Go=UR;function tT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:mp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw us.create("bad-app-name",{appName:String(o)});if(n||(n=GE()),!n)throw us.create("no-options");const u=zh.get(o);if(u){if(ds(n,u.options)&&ds(s,u.config))return u;throw us.create("duplicate-app",{appName:o})}const h=new Wx(o);for(const g of pp.values())h.addComponent(g);const m=new HR(n,s,h);return zh.set(o,m),m}function $p(i=mp){const e=zh.get(i);if(!e&&i===mp&&GE())return tT();if(!e)throw us.create("no-app",{appName:i});return e}function Kn(i,e,n){let s=zR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(h.join(" "));return}Hi(new hi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const FR="firebase-heartbeat-database",GR=1,Eu="firebase-heartbeat-store";let Xm=null;function nT(){return Xm||(Xm=eT(FR,GR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Eu)}catch(n){console.warn(n)}}}}).catch(i=>{throw us.create("idb-open",{originalErrorMessage:i.message})})),Xm}async function KR(i){try{const n=(await nT()).transaction(Eu),s=await n.objectStore(Eu).get(iT(i));return await n.done,s}catch(e){if(e instanceof mi)yr.warn(e.message);else{const n=us.create("idb-get",{originalErrorMessage:e?.message});yr.warn(n.message)}}}async function Fv(i,e){try{const s=(await nT()).transaction(Eu,"readwrite");await s.objectStore(Eu).put(e,iT(i)),await s.done}catch(n){if(n instanceof mi)yr.warn(n.message);else{const s=us.create("idb-set",{originalErrorMessage:n?.message});yr.warn(s.message)}}}function iT(i){return`${i.name}!${i.options.appId}`}const QR=1024,$R=30;class YR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Gv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>$R){const o=ZR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Gv(),{heartbeatsToSend:n,unsentEntries:s}=WR(this._heartbeatsCache.heartbeats),o=Uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return yr.warn(e),""}}}function Gv(){return new Date().toISOString().substring(0,10)}function WR(i,e=QR){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Kv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Kv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class XR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WE()?XE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Fv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Fv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Kv(i){return Uh(JSON.stringify({version:2,heartbeats:i})).length}function ZR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function JR(i){Hi(new hi("platform-logger",e=>new hR(e),"PRIVATE")),Hi(new hi("heartbeat",e=>new YR(e),"PRIVATE")),Kn(dp,qv,i),Kn(dp,qv,"esm2020"),Kn("fire-js","")}JR("");function rT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eI=rT,sT=new ga("auth","Firebase",rT());const Bh=new ff("@firebase/auth");function tI(i,...e){Bh.logLevel<=Me.WARN&&Bh.warn(`Auth (${Go}): ${i}`,...e)}function Rh(i,...e){Bh.logLevel<=Me.ERROR&&Bh.error(`Auth (${Go}): ${i}`,...e)}function fi(i,...e){throw Yp(i,...e)}function ji(i,...e){return Yp(i,...e)}function aT(i,e,n){const s={...eI(),[e]:n};return new ga("auth","Firebase",s).create(e,{appName:i.name})}function cs(i){return aT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return sT.create(i,...e)}function Ee(i,e,...n){if(!i)throw Yp(e,...n)}function fr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Rh(e),new Error(e)}function _r(i,e){i||fr(e)}function gp(){return typeof self<"u"&&self.location?.href||""}function nI(){return Qv()==="http:"||Qv()==="https:"}function Qv(){return typeof self<"u"&&self.location?.protocol||null}function iI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nI()||YE()||"connection"in navigator)?navigator.onLine:!0}function rI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,_r(n>e,"Short delay should be less than long delay!"),this.isMobile=Cx()||Dx()}get(){return iI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wp(i,e){_r(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class oT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const aI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oI=new Mu(3e4,6e4);function _a(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ts(i,e,n,s,o={}){return lT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Ou({key:i.config.apiKey,...h}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:g,...u};return Nx()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&Fo(i.emulatorConfig.host)&&(p.credentials="include"),oT.fetch()(await uT(i,i.config.apiHost,n,m),p)})}async function lT(i,e,n){i._canInitEmulator=!1;const s={...sI,...e};try{const o=new uI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw vh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw vh(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw vh(i,"user-disabled",h);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw aT(i,E,p);fi(i,E)}}catch(o){if(o instanceof mi)throw o;fi(i,"network-request-failed",{message:String(o)})}}async function df(i,e,n,s,o={}){const u=await Ts(i,e,n,s,o);return"mfaPendingCredential"in u&&fi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function uT(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Wp(i.config,o):`${i.config.apiScheme}://${o}`;return aI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function lI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ji(this.auth,"network-request-failed")),oI.get())})}}function vh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ji(i,e,s);return o.customData._tokenResponse=n,o}function $v(i){return i!==void 0&&i.enterprise!==void 0}class cI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hI(i,e){return Ts(i,"GET","/v2/recaptchaConfig",_a(i,e))}async function fI(i,e){return Ts(i,"POST","/v1/accounts:delete",e)}async function qh(i,e){return Ts(i,"POST","/v1/accounts:lookup",e)}function mu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dI(i,e=!1){const n=mt(i),s=await n.getIdToken(e),o=Xp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:mu(Zm(o.auth_time)),issuedAtTime:mu(Zm(o.iat)),expirationTime:mu(Zm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Zm(i){return Number(i)*1e3}function Xp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=HE(n);return o?JSON.parse(o):(Rh("Failed to decode base64 JWT payload"),null)}catch(o){return Rh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Yv(i){const e=Xp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Tu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof mi&&mI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function mI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class pI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class yp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hh(i){const e=i.auth,n=await i.getIdToken(),s=await Tu(i,qh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?cT(o.providerUserInfo):[],h=yI(i.providerData,u),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!h?.length,p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new yp(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(i,E)}async function gI(i){const e=mt(i);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function cT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function _I(i,e){const n=await lT(i,{},async()=>{const s=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await uT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&Fo(i.emulatorConfig.host)&&(g.credentials="include"),oT.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vI(i,e){return Ts(i,"POST","/v2/accounts:revokeToken",_a(i,e))}class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Yv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await _I(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Ro;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return fr("not implemented")}}function ns(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new pI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new yp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Tu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dI(this,e)}reload(){return gI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Hh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(cs(this.auth));const e=await this.getIdToken();return await Tu(this,fI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:R,isAnonymous:L,providerData:F,stsTokenManager:Q}=n;Ee(b&&Q,e,"internal-error");const $=Ro.fromJSON(this.name,Q);Ee(typeof b=="string",e,"internal-error"),ns(s,e.name),ns(o,e.name),Ee(typeof R=="boolean",e,"internal-error"),Ee(typeof L=="boolean",e,"internal-error"),ns(u,e.name),ns(h,e.name),ns(m,e.name),ns(g,e.name),ns(p,e.name),ns(E,e.name);const ie=new li({uid:b,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:L,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:$,createdAt:p,lastLoginAt:E});return F&&Array.isArray(F)&&(ie.providerData=F.map(ne=>({...ne}))),g&&(ie._redirectEventId=g),ie}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ro;o.updateFromServerResponse(n);const u=new li({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Hh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?cT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Ro;m.updateFromIdToken(s);const g=new li({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new yp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const Wv=new Map;function dr(i){_r(i instanceof Function,"Expected a class definition");let e=Wv.get(i);return e?(_r(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Wv.set(i,e),e)}class hT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hT.type="NONE";const Xv=hT;function Ih(i,e,n){return`firebase:${i}:${e}:${n}`}class Io{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ih(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ih("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qh(this.auth,{idToken:e}).catch(()=>{});return n?li._fromGetAccountInfoResponse(this.auth,n,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Io(dr(Xv),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||dr(Xv);const h=Ih(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(h);if(E){let b;if(typeof E=="string"){const R=await qh(e,{idToken:E}).catch(()=>{});if(!R)break;b=await li._fromGetAccountInfoResponse(e,R,E)}else b=li._fromJSON(e,E);p!==u&&(m=b),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Io(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new Io(u,e,s))}}function Zv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yT(e))return"Blackberry";if(_T(e))return"Webos";if(dT(e))return"Safari";if((e.includes("chrome/")||mT(e))&&!e.includes("edge/"))return"Chrome";if(gT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function fT(i=rn()){return/firefox\//i.test(i)}function dT(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mT(i=rn()){return/crios\//i.test(i)}function pT(i=rn()){return/iemobile/i.test(i)}function gT(i=rn()){return/android/i.test(i)}function yT(i=rn()){return/blackberry/i.test(i)}function _T(i=rn()){return/webos/i.test(i)}function Zp(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function EI(i=rn()){return Zp(i)&&!!window.navigator?.standalone}function TI(){return Ox()&&document.documentMode===10}function vT(i=rn()){return Zp(i)||gT(i)||_T(i)||yT(i)||/windows phone/i.test(i)||pT(i)}function ET(i,e=[]){let n;switch(i){case"Browser":n=Zv(rn());break;case"Worker":n=`${Zv(rn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Go}/${s}`}class bI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function AI(i,e={}){return Ts(i,"GET","/v2/passwordPolicy",_a(i,e))}const SI=6;class wI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??SI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class xI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jv(this),this.idTokenSubscription=new Jv(this),this.beforeStateQueue=new bI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qh(this,{idToken:e}),s=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(oi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(cs(this));const n=e?mt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AI(this),n=new wI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ga("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await vI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&dr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ET(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&tI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ko(i){return mt(i)}class Jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=zx(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RI(i){mf=i}function TT(i){return mf.loadJS(i)}function II(){return mf.recaptchaEnterpriseScript}function CI(){return mf.gapiScript}function kI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class NI{constructor(){this.enterprise=new DI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class DI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const OI="recaptcha-enterprise",bT="NO_RECAPTCHA";class MI{constructor(e){this.type=OI,this.auth=Ko(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{hI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new cI(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,h,m){const g=window.grecaptcha;$v(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(bT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&$v(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=II();g.length!==0&&(g+=m),TT(g).then(()=>{o(m,u,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function e1(i,e,n,s=!1,o=!1){const u=new MI(i);let h;if(o)h=bT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function t1(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await e1(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await e1(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(u)})}function LI(i,e){const n=ya(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ds(u,e??{}))return o;fi(o,"already-initialized")}return n.initialize({options:e})}function VI(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(dr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function PI(i,e,n){const s=Ko(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=AT(e),{host:h,port:m}=jI(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ds(p,s.config.emulator)&&ds(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Fo(h)?(QE(`${u}//${h}${g}`),$E("Auth",!0)):UI()}function AT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function jI(i){const e=AT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:n1(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:n1(h)}}}function n1(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function UI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Jp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,n){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}async function zI(i,e){return Ts(i,"POST","/v1/accounts:signUp",e)}async function BI(i,e){return df(i,"POST","/v1/accounts:signInWithPassword",_a(i,e))}async function qI(i,e){return df(i,"POST","/v1/accounts:signInWithEmailLink",_a(i,e))}async function HI(i,e){return df(i,"POST","/v1/accounts:signInWithEmailLink",_a(i,e))}class bu extends Jp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new bu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new bu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return t1(e,n,"signInWithPassword",BI);case"emailLink":return qI(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return t1(e,s,"signUpPassword",zI);case"emailLink":return HI(e,{idToken:n,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Co(i,e){return df(i,"POST","/v1/accounts:signInWithIdp",_a(i,e))}const FI="http://localhost";class ca extends Jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ca(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Co(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Co(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Co(e,n)}buildRequest(){const e={requestUri:FI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ou(n)}return e}}function GI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KI(i){const e=ou(lu(i)).link,n=e?ou(lu(e)).deep_link_id:null,s=ou(lu(i)).deep_link_id;return(s?ou(lu(s)).link:null)||s||n||e||i}class eg{constructor(e){const n=ou(lu(e)),s=n.apiKey??null,o=n.oobCode??null,u=GI(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=KI(e);try{return new eg(n)}catch{return null}}}class Qo{constructor(){this.providerId=Qo.PROVIDER_ID}static credential(e,n){return bu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=eg.parseLink(n);return Ee(s,"argument-error"),bu._fromEmailAndCode(e,s.code,s.tenantId)}}Qo.PROVIDER_ID="password";Qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ST{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Lu extends ST{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class is extends Lu{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";class rs extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ca._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";class ss extends Lu{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";class as extends Lu{constructor(){super("twitter.com")}static credential(e,n){return ca._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return as.credential(n,s)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";class Oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await li._fromIdTokenResponse(e,s,o),h=i1(s);return new Oo({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=i1(s);return new Oo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function i1(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Fh extends mi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Fh(e,n,s,o)}}function wT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(i,u,e,s):u})}async function QI(i,e,n=!1){const s=await Tu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Oo._forOperation(i,"link",s)}async function $I(i,e,n=!1){const{auth:s}=i;if(oi(s.app))return Promise.reject(cs(s));const o="reauthenticate";try{const u=await Tu(i,wT(s,o,e,i),n);Ee(u.idToken,s,"internal-error");const h=Xp(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(i.uid===m,s,"user-mismatch"),Oo._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&fi(s,"user-mismatch"),u}}async function xT(i,e,n=!1){if(oi(i.app))return Promise.reject(cs(i));const s="signIn",o=await wT(i,s,e),u=await Oo._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function YI(i,e){return xT(Ko(i),e)}async function WI(i){const e=Ko(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function XI(i,e,n){return oi(i.app)?Promise.reject(cs(i)):YI(mt(i),Qo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&WI(i),s})}function ZI(i,e,n,s){return mt(i).onIdTokenChanged(e,n,s)}function JI(i,e,n){return mt(i).beforeAuthStateChanged(e,n)}function eC(i,e,n,s){return mt(i).onAuthStateChanged(e,n,s)}function tC(i){return mt(i).signOut()}const Gh="__sak";class RT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const nC=1e3,iC=10;class IT extends RT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);TI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,iC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},nC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IT.type="LOCAL";const rC=IT;class CT extends RT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CT.type="SESSION";const kT=CT;function sC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new pf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,u)),g=await sC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];function tg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class aC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=tg("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const R=b;if(R.data.eventId===p)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Ui(){return window}function oC(i){Ui().location.href=i}function NT(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function lC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uC(){return navigator?.serviceWorker?.controller||null}function cC(){return NT()?self:null}const DT="firebaseLocalStorageDb",hC=1,Kh="firebaseLocalStorage",OT="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gf(i,e){return i.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function fC(){const i=indexedDB.deleteDatabase(DT);return new Vu(i).toPromise()}function _p(){const i=indexedDB.open(DT,hC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Kh,{keyPath:OT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Kh)?e(s):(s.close(),await fC(),e(await _p()))})})}async function r1(i,e,n){const s=gf(i,!0).put({[OT]:e,value:n});return new Vu(s).toPromise()}async function dC(i,e){const n=gf(i,!1).get(e),s=await new Vu(n).toPromise();return s===void 0?null:s.value}function s1(i,e){const n=gf(i,!0).delete(e);return new Vu(n).toPromise()}const mC=800,pC=3;class MT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _p(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>pC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(cC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lC(),!this.activeServiceWorker)return;this.sender=new aC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _p();return await r1(e,Gh,"1"),await s1(e,Gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>r1(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>dC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>s1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=gf(o,!1).getAll();return new Vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MT.type="LOCAL";const gC=MT;new Mu(3e4,6e4);function yC(i,e){return e?dr(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class ng extends Jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _C(i){return xT(i.auth,new ng(i),i.bypassAuthState)}function vC(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),$I(n,new ng(i),i.bypassAuthState)}async function EC(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),QI(n,new ng(i),i.bypassAuthState)}class LT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _C;case"linkViaPopup":case"linkViaRedirect":return EC;case"reauthViaPopup":case"reauthViaRedirect":return vC;default:fi(this.auth,"internal-error")}}resolve(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const TC=new Mu(2e3,1e4);class xo extends LT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,xo.currentPopupAction&&xo.currentPopupAction.cancel(),xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const e=tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TC.get())};e()}}xo.currentPopupAction=null;const bC="pendingRedirect",Ch=new Map;class AC extends LT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const s=await SC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SC(i,e){const n=RC(e),s=xC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function wC(i,e){Ch.set(i._key(),e)}function xC(i){return dr(i._redirectPersistence)}function RC(i){return Ih(bC,i.config.apiKey,i.name)}async function IC(i,e,n=!1){if(oi(i.app))return Promise.reject(cs(i));const s=Ko(i),o=yC(s,e),h=await new AC(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const CC=600*1e3;class kC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!VT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ji(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CC&&this.cachedEventUids.clear(),this.cachedEventUids.has(a1(e))}saveEventToCache(e){this.cachedEventUids.add(a1(e)),this.lastProcessedEventTime=Date.now()}}function a1(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function VT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function NC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VT(i);default:return!1}}async function DC(i,e={}){return Ts(i,"GET","/v1/projects",e)}const OC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MC=/^https?/;async function LC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await DC(i);for(const n of e)try{if(VC(n))return}catch{}fi(i,"unauthorized-domain")}function VC(i){const e=gp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!MC.test(n))return!1;if(OC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const PC=new Mu(3e4,6e4);function o1(){const i=Ui().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function jC(i){return new Promise((e,n)=>{function s(){o1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o1(),n(ji(i,"network-request-failed"))},timeout:PC.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)s();else{const o=kI("iframefcb");return Ui()[o]=()=>{gapi.load?s():n(ji(i,"network-request-failed"))},TT(`${CI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw kh=null,e})}let kh=null;function UC(i){return kh=kh||jC(i),kh}const zC=new Mu(5e3,15e3),BC="__/auth/iframe",qC="emulator/auth/iframe",HC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GC(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Wp(e,qC):`https://${i.config.authDomain}/${BC}`,s={apiKey:e.apiKey,appName:i.name,v:Go},o=FC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ou(s).slice(1)}`}async function KC(i){const e=await UC(i),n=Ui().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:GC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ji(i,"network-request-failed"),m=Ui().setTimeout(()=>{u(h)},zC.get());function g(){Ui().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}const QC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$C=500,YC=600,WC="_blank",XC="http://localhost";class l1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZC(i,e,n,s=$C,o=YC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...QC,width:s.toString(),height:o.toString(),top:u,left:h},p=rn().toLowerCase();n&&(m=mT(p)?WC:n),fT(p)&&(e=e||XC,g.scrollbars="yes");const E=Object.entries(g).reduce((R,[L,F])=>`${R}${L}=${F},`,"");if(EI(p)&&m!=="_self")return JC(e||"",m),new l1(null);const b=window.open(e||"",m,E);Ee(b,i,"popup-blocked");try{b.focus()}catch{}return new l1(b)}function JC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const ek="__/auth/handler",tk="emulator/auth/handler",nk=encodeURIComponent("fac");async function u1(i,e,n,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Go,eventId:o};if(e instanceof ST){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",Ux(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(e instanceof Lu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),p=g?`#${nk}=${encodeURIComponent(g)}`:"";return`${ik(i)}?${Ou(m).slice(1)}${p}`}function ik({config:i}){return i.emulator?Wp(i,tk):`https://${i.authDomain}/${ek}`}const Jm="webStorageSupport";class rk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kT,this._completeRedirectFn=IC,this._overrideRedirectResult=wC}async _openPopup(e,n,s,o){_r(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await u1(e,n,s,gp(),o);return ZC(e,u,tg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await u1(e,n,s,gp(),o);return oC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(_r(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await KC(e),s=new kC(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jm,{type:Jm},o=>{const u=o?.[0]?.[Jm];u!==void 0&&n(!!u),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vT()||dT()||Zp()}}const sk=rk;var c1="@firebase/auth",h1="1.12.0";class ak{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ok(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lk(i){Hi(new hi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ET(i)},p=new xI(s,o,u,g);return VI(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Hi(new hi("auth-internal",e=>{const n=Ko(e.getProvider("auth").getImmediate());return(s=>new ak(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(c1,h1,ok(i)),Kn(c1,h1,"esm2020")}const uk=300,ck=KE("authIdTokenMaxAge")||uk;let f1=null;const hk=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ck)return;const o=n?.token;f1!==o&&(f1=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function fk(i=$p()){const e=ya(i,"auth");if(e.isInitialized())return e.getImmediate();const n=LI(i,{popupRedirectResolver:sk,persistence:[gC,rC,kT]}),s=KE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=hk(u.toString());JI(n,h,()=>h(n.currentUser)),ZI(n,m=>h(m))}}const o=FE("auth");return o&&PI(n,`http://${o}`),n}function dk(){return document.getElementsByTagName("head")?.[0]??document}RI({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ji("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",dk().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lk("Browser");var mk="firebase",pk="12.8.0";Kn(mk,pk,"app");var d1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hs,PT;(function(){var i;function e(S,x){function C(){}C.prototype=x.prototype,S.F=x.prototype,S.prototype=new C,S.prototype.constructor=S,S.D=function(O,D,U){for(var k=Array(arguments.length-2),st=2;st<arguments.length;st++)k[st-2]=arguments[st];return x.prototype[D].apply(O,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,x,C){C||(C=0);const O=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)O[D]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(D=0;D<16;++D)O[D]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=S.g[0],C=S.g[1],D=S.g[2];let U=S.g[3],k;k=x+(U^C&(D^U))+O[0]+3614090360&4294967295,x=C+(k<<7&4294967295|k>>>25),k=U+(D^x&(C^D))+O[1]+3905402710&4294967295,U=x+(k<<12&4294967295|k>>>20),k=D+(C^U&(x^C))+O[2]+606105819&4294967295,D=U+(k<<17&4294967295|k>>>15),k=C+(x^D&(U^x))+O[3]+3250441966&4294967295,C=D+(k<<22&4294967295|k>>>10),k=x+(U^C&(D^U))+O[4]+4118548399&4294967295,x=C+(k<<7&4294967295|k>>>25),k=U+(D^x&(C^D))+O[5]+1200080426&4294967295,U=x+(k<<12&4294967295|k>>>20),k=D+(C^U&(x^C))+O[6]+2821735955&4294967295,D=U+(k<<17&4294967295|k>>>15),k=C+(x^D&(U^x))+O[7]+4249261313&4294967295,C=D+(k<<22&4294967295|k>>>10),k=x+(U^C&(D^U))+O[8]+1770035416&4294967295,x=C+(k<<7&4294967295|k>>>25),k=U+(D^x&(C^D))+O[9]+2336552879&4294967295,U=x+(k<<12&4294967295|k>>>20),k=D+(C^U&(x^C))+O[10]+4294925233&4294967295,D=U+(k<<17&4294967295|k>>>15),k=C+(x^D&(U^x))+O[11]+2304563134&4294967295,C=D+(k<<22&4294967295|k>>>10),k=x+(U^C&(D^U))+O[12]+1804603682&4294967295,x=C+(k<<7&4294967295|k>>>25),k=U+(D^x&(C^D))+O[13]+4254626195&4294967295,U=x+(k<<12&4294967295|k>>>20),k=D+(C^U&(x^C))+O[14]+2792965006&4294967295,D=U+(k<<17&4294967295|k>>>15),k=C+(x^D&(U^x))+O[15]+1236535329&4294967295,C=D+(k<<22&4294967295|k>>>10),k=x+(D^U&(C^D))+O[1]+4129170786&4294967295,x=C+(k<<5&4294967295|k>>>27),k=U+(C^D&(x^C))+O[6]+3225465664&4294967295,U=x+(k<<9&4294967295|k>>>23),k=D+(x^C&(U^x))+O[11]+643717713&4294967295,D=U+(k<<14&4294967295|k>>>18),k=C+(U^x&(D^U))+O[0]+3921069994&4294967295,C=D+(k<<20&4294967295|k>>>12),k=x+(D^U&(C^D))+O[5]+3593408605&4294967295,x=C+(k<<5&4294967295|k>>>27),k=U+(C^D&(x^C))+O[10]+38016083&4294967295,U=x+(k<<9&4294967295|k>>>23),k=D+(x^C&(U^x))+O[15]+3634488961&4294967295,D=U+(k<<14&4294967295|k>>>18),k=C+(U^x&(D^U))+O[4]+3889429448&4294967295,C=D+(k<<20&4294967295|k>>>12),k=x+(D^U&(C^D))+O[9]+568446438&4294967295,x=C+(k<<5&4294967295|k>>>27),k=U+(C^D&(x^C))+O[14]+3275163606&4294967295,U=x+(k<<9&4294967295|k>>>23),k=D+(x^C&(U^x))+O[3]+4107603335&4294967295,D=U+(k<<14&4294967295|k>>>18),k=C+(U^x&(D^U))+O[8]+1163531501&4294967295,C=D+(k<<20&4294967295|k>>>12),k=x+(D^U&(C^D))+O[13]+2850285829&4294967295,x=C+(k<<5&4294967295|k>>>27),k=U+(C^D&(x^C))+O[2]+4243563512&4294967295,U=x+(k<<9&4294967295|k>>>23),k=D+(x^C&(U^x))+O[7]+1735328473&4294967295,D=U+(k<<14&4294967295|k>>>18),k=C+(U^x&(D^U))+O[12]+2368359562&4294967295,C=D+(k<<20&4294967295|k>>>12),k=x+(C^D^U)+O[5]+4294588738&4294967295,x=C+(k<<4&4294967295|k>>>28),k=U+(x^C^D)+O[8]+2272392833&4294967295,U=x+(k<<11&4294967295|k>>>21),k=D+(U^x^C)+O[11]+1839030562&4294967295,D=U+(k<<16&4294967295|k>>>16),k=C+(D^U^x)+O[14]+4259657740&4294967295,C=D+(k<<23&4294967295|k>>>9),k=x+(C^D^U)+O[1]+2763975236&4294967295,x=C+(k<<4&4294967295|k>>>28),k=U+(x^C^D)+O[4]+1272893353&4294967295,U=x+(k<<11&4294967295|k>>>21),k=D+(U^x^C)+O[7]+4139469664&4294967295,D=U+(k<<16&4294967295|k>>>16),k=C+(D^U^x)+O[10]+3200236656&4294967295,C=D+(k<<23&4294967295|k>>>9),k=x+(C^D^U)+O[13]+681279174&4294967295,x=C+(k<<4&4294967295|k>>>28),k=U+(x^C^D)+O[0]+3936430074&4294967295,U=x+(k<<11&4294967295|k>>>21),k=D+(U^x^C)+O[3]+3572445317&4294967295,D=U+(k<<16&4294967295|k>>>16),k=C+(D^U^x)+O[6]+76029189&4294967295,C=D+(k<<23&4294967295|k>>>9),k=x+(C^D^U)+O[9]+3654602809&4294967295,x=C+(k<<4&4294967295|k>>>28),k=U+(x^C^D)+O[12]+3873151461&4294967295,U=x+(k<<11&4294967295|k>>>21),k=D+(U^x^C)+O[15]+530742520&4294967295,D=U+(k<<16&4294967295|k>>>16),k=C+(D^U^x)+O[2]+3299628645&4294967295,C=D+(k<<23&4294967295|k>>>9),k=x+(D^(C|~U))+O[0]+4096336452&4294967295,x=C+(k<<6&4294967295|k>>>26),k=U+(C^(x|~D))+O[7]+1126891415&4294967295,U=x+(k<<10&4294967295|k>>>22),k=D+(x^(U|~C))+O[14]+2878612391&4294967295,D=U+(k<<15&4294967295|k>>>17),k=C+(U^(D|~x))+O[5]+4237533241&4294967295,C=D+(k<<21&4294967295|k>>>11),k=x+(D^(C|~U))+O[12]+1700485571&4294967295,x=C+(k<<6&4294967295|k>>>26),k=U+(C^(x|~D))+O[3]+2399980690&4294967295,U=x+(k<<10&4294967295|k>>>22),k=D+(x^(U|~C))+O[10]+4293915773&4294967295,D=U+(k<<15&4294967295|k>>>17),k=C+(U^(D|~x))+O[1]+2240044497&4294967295,C=D+(k<<21&4294967295|k>>>11),k=x+(D^(C|~U))+O[8]+1873313359&4294967295,x=C+(k<<6&4294967295|k>>>26),k=U+(C^(x|~D))+O[15]+4264355552&4294967295,U=x+(k<<10&4294967295|k>>>22),k=D+(x^(U|~C))+O[6]+2734768916&4294967295,D=U+(k<<15&4294967295|k>>>17),k=C+(U^(D|~x))+O[13]+1309151649&4294967295,C=D+(k<<21&4294967295|k>>>11),k=x+(D^(C|~U))+O[4]+4149444226&4294967295,x=C+(k<<6&4294967295|k>>>26),k=U+(C^(x|~D))+O[11]+3174756917&4294967295,U=x+(k<<10&4294967295|k>>>22),k=D+(x^(U|~C))+O[2]+718787259&4294967295,D=U+(k<<15&4294967295|k>>>17),k=C+(U^(D|~x))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+x&4294967295,S.g[1]=S.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+D&4294967295,S.g[3]=S.g[3]+U&4294967295}s.prototype.v=function(S,x){x===void 0&&(x=S.length);const C=x-this.blockSize,O=this.C;let D=this.h,U=0;for(;U<x;){if(D==0)for(;U<=C;)o(this,S,U),U+=this.blockSize;if(typeof S=="string"){for(;U<x;)if(O[D++]=S.charCodeAt(U++),D==this.blockSize){o(this,O),D=0;break}}else for(;U<x;)if(O[D++]=S[U++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=x},s.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var x=1;x<S.length-8;++x)S[x]=0;x=this.o*8;for(var C=S.length-8;C<S.length;++C)S[C]=x&255,x/=256;for(this.v(S),S=Array(16),x=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)S[x++]=this.g[C]>>>O&255;return S};function u(S,x){var C=m;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=x(S)}function h(S,x){this.h=x;const C=[];let O=!0;for(let D=S.length-1;D>=0;D--){const U=S[D]|0;O&&U==x||(C[D]=U,O=!1)}this.g=C}var m={};function g(S){return-128<=S&&S<128?u(S,function(x){return new h([x|0],x<0?-1:0)}):new h([S|0],S<0?-1:0)}function p(S){if(isNaN(S)||!isFinite(S))return b;if(S<0)return $(p(-S));const x=[];let C=1;for(let O=0;S>=C;O++)x[O]=S/C|0,C*=4294967296;return new h(x,0)}function E(S,x){if(S.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(S.charAt(0)=="-")return $(E(S.substring(1),x));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(x,8));let O=b;for(let U=0;U<S.length;U+=8){var D=Math.min(8,S.length-U);const k=parseInt(S.substring(U,U+D),x);D<8?(D=p(Math.pow(x,D)),O=O.j(D).add(p(k))):(O=O.j(C),O=O.add(p(k)))}return O}var b=g(0),R=g(1),L=g(16777216);i=h.prototype,i.m=function(){if(Q(this))return-$(this).m();let S=0,x=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);S+=(O>=0?O:4294967296+O)*x,x*=4294967296}return S},i.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(F(this))return"0";if(Q(this))return"-"+$(this).toString(S);const x=p(Math.pow(S,6));var C=this;let O="";for(;;){const D=re(C,x).g;C=ie(C,D.j(x));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(S);if(C=D,F(C))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},i.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function F(S){if(S.h!=0)return!1;for(let x=0;x<S.g.length;x++)if(S.g[x]!=0)return!1;return!0}function Q(S){return S.h==-1}i.l=function(S){return S=ie(this,S),Q(S)?-1:F(S)?0:1};function $(S){const x=S.g.length,C=[];for(let O=0;O<x;O++)C[O]=~S.g[O];return new h(C,~S.h).add(R)}i.abs=function(){return Q(this)?$(this):this},i.add=function(S){const x=Math.max(this.g.length,S.g.length),C=[];let O=0;for(let D=0;D<=x;D++){let U=O+(this.i(D)&65535)+(S.i(D)&65535),k=(U>>>16)+(this.i(D)>>>16)+(S.i(D)>>>16);O=k>>>16,U&=65535,k&=65535,C[D]=k<<16|U}return new h(C,C[C.length-1]&-2147483648?-1:0)};function ie(S,x){return S.add($(x))}i.j=function(S){if(F(this)||F(S))return b;if(Q(this))return Q(S)?$(this).j($(S)):$($(this).j(S));if(Q(S))return $(this.j($(S)));if(this.l(L)<0&&S.l(L)<0)return p(this.m()*S.m());const x=this.g.length+S.g.length,C=[];for(var O=0;O<2*x;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<S.g.length;D++){const U=this.i(O)>>>16,k=this.i(O)&65535,st=S.i(D)>>>16,Mt=S.i(D)&65535;C[2*O+2*D]+=k*Mt,ne(C,2*O+2*D),C[2*O+2*D+1]+=U*Mt,ne(C,2*O+2*D+1),C[2*O+2*D+1]+=k*st,ne(C,2*O+2*D+1),C[2*O+2*D+2]+=U*st,ne(C,2*O+2*D+2)}for(S=0;S<x;S++)C[S]=C[2*S+1]<<16|C[2*S];for(S=x;S<2*x;S++)C[S]=0;return new h(C,0)};function ne(S,x){for(;(S[x]&65535)!=S[x];)S[x+1]+=S[x]>>>16,S[x]&=65535,x++}function se(S,x){this.g=S,this.h=x}function re(S,x){if(F(x))throw Error("division by zero");if(F(S))return new se(b,b);if(Q(S))return x=re($(S),x),new se($(x.g),$(x.h));if(Q(x))return x=re(S,$(x)),new se($(x.g),x.h);if(S.g.length>30){if(Q(S)||Q(x))throw Error("slowDivide_ only works with positive integers.");for(var C=R,O=x;O.l(S)<=0;)C=me(C),O=me(O);var D=fe(C,1),U=fe(O,1);for(O=fe(O,2),C=fe(C,2);!F(O);){var k=U.add(O);k.l(S)<=0&&(D=D.add(C),U=k),O=fe(O,1),C=fe(C,1)}return x=ie(S,D.j(x)),new se(D,x)}for(D=b;S.l(x)>=0;){for(C=Math.max(1,Math.floor(S.m()/x.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=p(C),k=U.j(x);Q(k)||k.l(S)>0;)C-=O,U=p(C),k=U.j(x);F(U)&&(U=R),D=D.add(U),S=ie(S,k)}return new se(D,S)}i.B=function(S){return re(this,S).h},i.and=function(S){const x=Math.max(this.g.length,S.g.length),C=[];for(let O=0;O<x;O++)C[O]=this.i(O)&S.i(O);return new h(C,this.h&S.h)},i.or=function(S){const x=Math.max(this.g.length,S.g.length),C=[];for(let O=0;O<x;O++)C[O]=this.i(O)|S.i(O);return new h(C,this.h|S.h)},i.xor=function(S){const x=Math.max(this.g.length,S.g.length),C=[];for(let O=0;O<x;O++)C[O]=this.i(O)^S.i(O);return new h(C,this.h^S.h)};function me(S){const x=S.g.length+1,C=[];for(let O=0;O<x;O++)C[O]=S.i(O)<<1|S.i(O-1)>>>31;return new h(C,S.h)}function fe(S,x){const C=x>>5;x%=32;const O=S.g.length-C,D=[];for(let U=0;U<O;U++)D[U]=x>0?S.i(U+C)>>>x|S.i(U+C+1)<<32-x:S.i(U+C);return new h(D,S.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,PT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=E,hs=h}).apply(typeof d1<"u"?d1:typeof self<"u"?self:typeof window<"u"?window:{});var Eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jT,uu,UT,Nh,vp,zT,BT,qT;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eh=="object"&&Eh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in v))break e;v=v[z]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&v.push([w,y[w]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,v){return c.call.apply(c.bind,arguments)}function p(c,y,v){return p=g,p.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function b(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(w,z,G){for(var ae=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ae[xe-2]=arguments[xe];return y.prototype[z].apply(w,ae)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const y=c.length;if(y>0){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function F(c,y){for(let w=1;w<arguments.length;w++){const z=arguments[w];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const G=z.length||0;c.length=v+G;for(let ae=0;ae<G;ae++)c[v+ae]=z[ae]}else c.push(z)}}class Q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(c){h.setTimeout(()=>{throw c},0)}function ie(){var c=S;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,v){const w=se.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var se=new Q(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let me,fe=!1,S=new ne,x=()=>{const c=Promise.resolve(void 0);me=()=>{c.then(C)}};function C(){for(var c;c=ie();){try{c.h.call(c.g)}catch(v){$(v)}var y=se;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}fe=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function k(c){return/^[\s\xa0]*$/.test(c)}function st(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(st,D),st.prototype.init=function(c,y){const v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Mt="closure_listenable_"+(Math.random()*1e6|0),W=0;function oe(c,y,v,w,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=z,this.key=++W,this.da=this.fa=!1}function _e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function Ke(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,y){let v,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(v in w)c[v]=w[v];for(let G=0;G<ee.length;G++)v=ee[G],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,y,v,w,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const ae=Ie(c,y,w,z);return ae>-1?(y=c[ae],v||(y.fa=!1)):(y=new oe(y,this.src,G,!!w,z),y.fa=v,c.push(y)),y};function be(c,y){const v=y.type;if(v in c.g){var w=c.g[v],z=Array.prototype.indexOf.call(w,y,void 0),G;(G=z>=0)&&Array.prototype.splice.call(w,z,1),G&&(_e(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ie(c,y,v,w){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==w)return z}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Lt={};function at(c,y,v,w,z){if(Array.isArray(y)){for(let G=0;G<y.length;G++)at(c,y[G],v,w,z);return null}return v=tl(v),c&&c[Mt]?c.J(y,v,m(w)?!!w.capture:!1,z):Rs(c,y,v,!1,w,z)}function Rs(c,y,v,w,z,G){if(!y)throw Error("Invalid event type");const ae=m(z)?!!z.capture:!!z;let xe=Is(c);if(xe||(c[je]=xe=new he(c)),v=xe.add(y,v,w,ae,G),v.proxy)return v;if(w=Na(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)U||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),w,z);else if(c.attachEvent)c.attachEvent(pi(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Na(){function c(v){return y.call(c.src,c.listener,v)}const y=Jo;return c}function Da(c,y,v,w,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)Da(c,y[G],v,w,z);else w=m(w)?!!w.capture:!!w,v=tl(v),c&&c[Mt]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],v=Ie(y,v,w,z),v>-1&&(_e(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=Is(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ie(y,v,w,z)),(v=c>-1?y[c]:null)&&Oa(v))}function Oa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Mt])be(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(pi(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=Is(y))?(be(v,c),v.h==0&&(v.src=null,y[je]=null)):_e(c)}}}function pi(c){return c in Lt?Lt[c]:Lt[c]="on"+c}function Jo(c,y){if(c.da)c=!0;else{y=new st(y,this);const v=c.listener,w=c.ha||c.src;c.fa&&Oa(c),c=v.call(w,y)}return c}function Is(c){return c=c[je],c instanceof he?c:null}var el="__closure_events_fn_"+(Math.random()*1e9>>>0);function tl(c){return typeof c=="function"?c:(c[el]||(c[el]=function(y){return c.handleEvent(y)}),c[el])}function bt(){O.call(this),this.i=new he(this),this.M=this,this.G=null}b(bt,O),bt.prototype[Mt]=!0,bt.prototype.removeEventListener=function(c,y,v,w){Da(this,c,y,v,w)};function Vt(c,y){var v,w=c.G;if(w)for(v=[];w;w=w.G)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var z=y;y=new D(w,c),le(y,z)}z=!0;let G,ae;if(v)for(ae=v.length-1;ae>=0;ae--)G=y.g=v[ae],z=Ar(G,w,!0,y)&&z;if(G=y.g=c,z=Ar(G,w,!0,y)&&z,z=Ar(G,w,!1,y)&&z,v)for(ae=0;ae<v.length;ae++)G=y.g=v[ae],z=Ar(G,w,!1,y)&&z}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let w=0;w<v.length;w++)_e(v[w]);delete c.g[y],c.h--}}this.G=null},bt.prototype.J=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},bt.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function Ar(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let G=0;G<y.length;++G){const ae=y[G];if(ae&&!ae.da&&ae.capture==v){const xe=ae.listener,gt=ae.ha||ae.src;ae.fa&&be(c.i,ae),z=xe.call(gt,w)!==!1&&z}}return z&&!w.defaultPrevented}function zf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Hu(c){c.g=zf(()=>{c.g=null,c.i&&(c.i=!1,Hu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class sn extends O{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Hu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(c){O.call(this),this.h=c,this.g={}}b(Cs,O);var nl=[];function il(c){ze(c.g,function(y,v){this.g.hasOwnProperty(v)&&Oa(y)},c),c.g={}}Cs.prototype.N=function(){Cs.Z.N.call(this),il(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sr=h.JSON.stringify,Bf=h.JSON.parse,Fu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Gu(){}function Ku(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){D.call(this,"d")}b(Ht,D);function Nn(){D.call(this,"c")}b(Nn,D);var pt={},Qu=null;function Ma(){return Qu=Qu||new bt}pt.Ia="serverreachability";function $u(c){D.call(this,pt.Ia,c)}b($u,D);function gi(c){const y=Ma();Vt(y,new $u(y))}pt.STAT_EVENT="statevent";function ks(c,y){D.call(this,pt.STAT_EVENT,c),this.stat=y}b(ks,D);function At(c){const y=Ma();Vt(y,new ks(y,c))}pt.Ja="timingevent";function yi(c,y){D.call(this,pt.Ja,c),this.size=y}b(yi,D);function _i(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function qf(c,y,v,w,z,G){c.info(function(){if(c.g)if(G){var ae="",xe=G.split("&");for(let He=0;He<xe.length;He++){var gt=xe[He].split("=");if(gt.length>1){const ot=gt[0];gt=gt[1];const Ln=ot.split("_");ae=Ln.length>=2&&Ln[1]=="type"?ae+(ot+"="+gt+"&"):ae+(ot+"=redacted&")}}}else ae=null;else ae=G;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+v+`
`+ae})}function Yu(c,y,v,w,z,G,ae){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+v+`
`+G+" "+ae})}function vi(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Hf(c,v)+(w?" "+w:"")})}function Ns(c,y){c.info(function(){return"TIMEOUT: "+y})}Wn.prototype.info=function(){};function Hf(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var z=w[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ae=1;ae<w.length;ae++)w[ae]=""}}}}return Sr(G)}catch{return y}}var Ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},rl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sl;function Os(){}b(Os,Gu),Os.prototype.g=function(){return new XMLHttpRequest},sl=new Os;function Ki(c){return encodeURIComponent(String(c))}function Wu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Xn(c,y,v,w){this.j=c,this.i=y,this.l=v,this.S=w||1,this.V=new Cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var St={},Ut={};function Ei(c,y,v){c.M=1,c.A=Ms(xt(y)),c.u=v,c.R=!0,La(c,null)}function La(c,y){c.F=Date.now(),Ti(c),c.B=xt(c.A);var v=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Ua(v.i,"t",w),c.C=0,v=c.j.L,c.h=new Zn,c.g=hc(c.j,v?y:null,!c.u),c.P>0&&(c.O=new sn(p(c.Y,c,c.g),c.P)),y=c.V,v=c.g,w=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(nl[0]=z.toString()),z=nl);for(let G=0;G<z.length;G++){const ae=at(v,z[G],w||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),gi(),qf(c.i,c.v,c.B,c.l,c.S,c.u)}Xn.prototype.ba=function(c){c=c.target;const y=this.O;y&&ti(c)==3?y.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{const xe=ti(this.g),gt=this.g.ya(),He=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||xe!=4||gt==7||(gt==8||He<=0?gi(3):gi(2)),bi(this);var y=this.g.ca();this.X=y;var v=Ff(this);if(this.o=y==200,Yu(this.i,this.v,this.B,this.l,this.S,xe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,z=this.g;if((w=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(w)){var G=w;break t}}G=null}if(c=G)vi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,c);else{this.o=!1,this.m=3,At(12),_n(this),Dn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=Zu(this,v),ot==Ut){xe==4&&(this.m=4,At(14),c=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==St){this.m=4,At(15),vi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else vi(this.i,this.l,ot,null),Ai(this,ot);if(Xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||v.length!=0||this.h.h||(this.m=1,At(16),c=!1),this.o=this.o&&c,!c)vi(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),El(ae),ae.P=!0,At(11))}}else vi(this.i,this.l,v,null),Ai(this,v);xe==4&&_n(this),this.o&&!this.K&&(xe==4?oc(this.j,this):(this.o=!1,Ti(this)))}else $i(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),_n(this),Dn(this)}}}catch{}};function Ff(c){if(!Xu(c))return c.g.la();const y=Ft(c.g);if(y==="")return"";let v="";const w=y.length,z=ti(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),Dn(c),"";c.h.i=new h.TextDecoder}for(let G=0;G<w;G++)c.h.h=!0,v+=c.h.i.decode(y[G],{stream:!(z&&G==w-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Xu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Zu(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?Ut:(v=Number(y.substring(v,w)),isNaN(v)?St:(w+=1,w+v>y.length?Ut:(y=y.slice(w,w+v),c.C=w+v,y)))}Xn.prototype.cancel=function(){this.K=!0,_n(this)};function Ti(c){c.T=Date.now()+c.H,Va(c,c.H)}function Va(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=_i(p(c.aa,c),y)}function bi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ns(this.i,this.B),this.M!=2&&(gi(),At(17)),_n(this),this.m=2,Dn(this)):Va(this,this.T-c)};function Dn(c){c.j.I==0||c.K||oc(c.j,c)}function _n(c){bi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,il(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Ai(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||wi(v.h,c))){if(!c.L&&wi(v.h,c)&&v.I==3){try{var w=v.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Fa(v),Dr(v);else break e;Bs(v),At(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=_i(p(v.Va,v),6e3));Si(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((c.L||v.g==c)&&Fa(v),!k(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let He=z[y];const ot=He[0];if(!(ot<=v.K))if(v.K=ot,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const Ln=He[3];Ln!=null&&(v.ka=Ln,v.j.info("VER="+v.ka));const Di=He[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const ni=He[5];ni!=null&&typeof ni=="number"&&ni>0&&(w=1.5*ni,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const ii=c.g;if(ii){const qs=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var G=w.h;G.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ll(G,G.h),G.h=null))}if(w.G){const Ga=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Ga&&(w.wa=Ga,Qe(w.J,w.G,Ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var ae=c;if(w.na=cc(w,w.L?w.ba:null,w.W),ae.L){ul(w.h,ae);var xe=ae,gt=w.O;gt&&(xe.H=gt),xe.D&&(bi(xe),Ti(xe)),w.g=ae}else sc(w);v.i.length>0&&ki(v)}else He[0]!="stop"&&He[0]!="close"||Ni(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ni(v,7):_l(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}gi(4)}catch{}}var wt=class{constructor(c,y){this.g=c,this.map=y}};function al(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ol(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Si(c){return c.h?1:c.g?c.g.size:0}function wi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ll(c,y){c.g?c.g.add(y):c.h=y}function ul(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}al.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return L(c.i)}var Ju=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const w=c[v].indexOf("=");let z,G=null;w>=0?(z=c[v].substring(0,w),G=c[v].substring(w+1)):z=c[v],y(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof vn?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,wr(this,c.u),this.h=c.h,hl(this,ic(c.i)),this.m=c.m):c&&(y=String(c).match(Ju))?(this.l=!1,zt(this,y[1]||"",!0),this.o=xi(y[2]||""),this.g=xi(y[3]||"",!0),wr(this,y[4]),this.h=xi(y[5]||"",!0),hl(this,y[6]||"",!0),this.m=xi(y[7]||"")):(this.l=!1,this.i=new Rr(null,this.l))}vn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ls(y,ja,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ls(y,ja,!0),"@"),c.push(Ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ls(v,v.charAt(0)=="/"?fl:ec,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ls(v,tc)),c.join("")},vn.prototype.resolve=function(c){const y=xt(this);let v=!!c.j;v?zt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var w=c.h;if(v)wr(y,c.u);else if(v=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var z=y.h.lastIndexOf("/");z!=-1&&(w=y.h.slice(0,z+1)+w)}if(z=w,z==".."||z==".")w="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){w=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let ae=0;ae<z.length;){const xe=z[ae++];xe=="."?w&&ae==z.length&&G.push(""):xe==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),w&&ae==z.length&&G.push("")):(G.push(xe),w=!0)}w=G.join("/")}else w=z}return v?y.h=w:v=c.i.toString()!=="",v?hl(y,ic(c.i)):v=!!c.m,v&&(y.m=c.m),y};function xt(c){return new vn(c)}function zt(c,y,v){c.j=v?xi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function wr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function hl(c,y,v){y instanceof Rr?(c.i=y,za(c.i,c.l)):(v||(y=Ls(y,xr)),c.i=new Rr(y,c.l))}function Qe(c,y,v){c.i.set(y,v)}function Ms(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function xi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ls(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,un),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ja=/[#\/\?@]/g,ec=/[#\?:]/g,fl=/[#\?]/g,xr=/[#\?@]/g,tc=/#/g;function Rr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Pa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Rr.prototype,i.add=function(c,y){cn(this),this.i=null,c=Ir(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function nc(c,y){cn(c),y=Ir(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function dl(c,y){return cn(c),y=Ir(c,y),c.g.has(y)}i.forEach=function(c,y){cn(this),this.g.forEach(function(v,w){v.forEach(function(z){c.call(y,z,w,this)},this)},this)};function ml(c,y){cn(c);let v=[];if(typeof y=="string")dl(c,y)&&(v=v.concat(c.g.get(Ir(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}i.set=function(c,y){return cn(this),this.i=null,c=Ir(this,c),dl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=ml(this,c),c.length>0?String(c[0]):y):y};function Ua(c,y,v){nc(c,y),v.length>0&&(c.i=null,c.g.set(Ir(c,y),L(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var v=y[w];const z=Ki(v);v=ml(this,v);for(let G=0;G<v.length;G++){let ae=z;v[G]!==""&&(ae+="="+Ki(v[G])),c.push(ae)}}return this.i=c.join("&")};function ic(c){const y=new Rr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Ir(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function za(c,y){y&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(v,w){const z=w.toLowerCase();w!=z&&(nc(this,w),Ua(this,z,v))},c)),c.j=y}function Jn(c,y){const v=new Wn;if(h.Image){const w=new Image;w.onload=E(On,v,"TestLoadImage: loaded",!0,y,w),w.onerror=E(On,v,"TestLoadImage: error",!1,y,w),w.onabort=E(On,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=E(On,v,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function pl(c,y){const v=new Wn,w=new AbortController,z=setTimeout(()=>{w.abort(),On(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(G=>{clearTimeout(z),G.ok?On(v,"TestPingServer: ok",!0,y):On(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),On(v,"TestPingServer: error",!1,y)})}function On(c,y,v,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(v)}catch{}}function Cr(){this.g=new Fu}function Ri(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Ri,Gu),Ri.prototype.g=function(){return new Vs(this.i,this.h)};function Vs(c,y){bt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Vs,bt),i=Vs.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ei(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,kr(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ba(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ba(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?kr(this):ei(this),this.readyState==3&&Ba(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,kr(this))},i.Na=function(c){this.g&&(this.response=c,kr(this))},i.ga=function(){this.g&&kr(this)};function kr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ei(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mn(c){let y="";return ze(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Ps(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Mn(v),typeof c=="string"?v!=null&&Ki(v):Qe(c,y,v))}function We(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(We,bt);var Ii=/^https?$/i,gl=["POST","PUT"];i=We.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sl.g(),this.g.onreadystatechange=R(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){js(this,G);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)v.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())v.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(gl,y,void 0)>=0)||w||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of v)this.g.setRequestHeader(G,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){js(this,G)}};function js(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,yl(c),Qi(c)}function yl(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Qi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),We.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Us(this):this.Xa())},i.Xa=function(){Us(this)};function Us(c){if(c.h&&typeof u<"u"){if(c.v&&ti(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),ti(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=G===0){let ae=String(c.D).match(Ju)[1]||null;!ae&&h.self&&h.self.location&&(ae=h.self.location.protocol.slice(0,-1)),w=!Ii.test(ae?ae.toLowerCase():"")}v=w}if(v)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var z=ti(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",yl(c)}}finally{Qi(c)}}}}function Qi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Vt(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ti(c){return c.g?c.g.readyState:0}i.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Bf(y)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(c){const y={};c=(c.g&&ti(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(k(c[w]))continue;var v=Wu(c[w]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[z]||[];y[z]=G,G.push(v)}Ke(y,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Nr(c){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,c),this.Za=Ci("retryDelaySeedMs",1e4,c),this.Ta=Ci("forwardChannelMaxRetries",2,c),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new al(c&&c.concurrentRequestLimit),this.Ba=new Cr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Nr.prototype,i.ka=8,i.I=1,i.connect=function(c,y,v,w){At(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=cc(this,null,this.W),ki(this)};function _l(c){if(qa(c),c.I==3){var y=c.V++,v=xt(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",y),Qe(v,"TYPE","terminate"),zs(c,v),y=new Xn(c,c.j,y),y.M=2,y.A=Ms(xt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=hc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ti(y)}uc(c)}function Dr(c){c.g&&(El(c),c.g.cancel(),c.g=null)}function qa(c){Dr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Fa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function ki(c){if(!ol(c.h)&&!c.m){c.m=!0;var y=c.Ea;me||x(),fe||(me(),fe=!0),S.add(y,c),c.D=0}}function Ha(c,y){return Si(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=_i(p(c.Ea,c,y),lc(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Xn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=V(G),le(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=rc(this,z,y),v=xt(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),zs(this,v),G&&(this.R?y="headers="+Ki(Mn(G))+"&"+y:this.u&&Ps(v,this.u,G)),ll(this.h,z),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",y),Qe(v,"SID","null"),z.U=!0,Ei(z,v,null)):Ei(z,v,y),this.I=2}}else this.I==3&&(c?vl(this,c):this.i.length==0||ol(this.h)||vl(this))};function vl(c,y){var v;y?v=y.l:v=c.V++;const w=xt(c.J);Qe(w,"SID",c.M),Qe(w,"RID",v),Qe(w,"AID",c.K),zs(c,w),c.u&&c.o&&Ps(w,c.u,c.o),v=new Xn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=rc(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ll(c.h,v),Ei(v,w,y)}function zs(c,y){c.H&&ze(c.H,function(v,w){Qe(y,w,v)}),c.l&&ze({},function(v,w){Qe(y,w,v)})}function rc(c,y,v){v=Math.min(c.i.length,v);const w=c.l?p(c.l.Ka,c.l,c):null;e:{var z=c.i;let xe=-1;for(;;){const gt=["count="+v];xe==-1?v>0?(xe=z[0].g,gt.push("ofs="+xe)):xe=0:gt.push("ofs="+xe);let He=!0;for(let ot=0;ot<v;ot++){var G=z[ot].g;const Ln=z[ot].map;if(G-=xe,G<0)xe=Math.max(0,z[ot].g-100),He=!1;else try{G="req"+G+"_"||"";try{var ae=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Di,ni]of ae){let ii=ni;m(ni)&&(ii=Sr(ni)),gt.push(G+Di+"="+encodeURIComponent(ii))}}catch(Di){throw gt.push(G+"type="+encodeURIComponent("_badmap")),Di}}catch{w&&w(Ln)}}if(He){ae=gt.join("&");break e}}ae=void 0}return c=c.i.splice(0,v),y.G=c,ae}function sc(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;me||x(),fe||(me(),fe=!0),S.add(y,c),c.A=0}}function Bs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=_i(p(c.Da,c),lc(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,ac(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=_i(p(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Dr(this),ac(this))};function El(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function ac(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=xt(c.na);Qe(y,"RID","rpc"),Qe(y,"SID",c.M),Qe(y,"AID",c.K),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(y,"TO",c.ia),Qe(y,"TYPE","xmlhttp"),zs(c,y),c.u&&c.o&&Ps(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ms(xt(y)),v.u=null,v.R=!0,La(v,c)}i.Va=function(){this.C!=null&&(this.C=null,Dr(this),Bs(this),At(19))};function Fa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function oc(c,y){var v=null;if(c.g==y){Fa(c),El(c),c.g=null;var w=2}else if(wi(c.h,y))v=y.G,ul(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;w=Ma(),Vt(w,new yi(w,v)),ki(c)}else sc(c);else if(z=y.m,z==3||z==0&&y.X>0||!(w==1&&Ha(c,y)||w==2&&Bs(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function lc(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ni(c,y){if(c.j.info("Error code "+y),y==2){var v=p(c.bb,c),w=c.Ua;const z=!w;w=new vn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zt(w,"https"),Ms(w),z?Jn(w.toString(),v):pl(w.toString(),v)}else At(2);c.I=0,c.l&&c.l.pa(y),uc(c),qa(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function uc(c){if(c.I=0,c.ja=[],c.l){const y=cl(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ja,y),F(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function cc(c,y,v){var w=v instanceof vn?xt(v):new vn(v);if(w.g!="")y&&(w.g=y+"."+w.g),wr(w,w.u);else{var z=h.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const G=new vn(null);w&&zt(G,w),y&&(G.g=y),z&&wr(G,z),v&&(G.h=v),w=G}return v=c.G,y=c.wa,v&&y&&Qe(w,v,y),Qe(w,"VER",c.ka),zs(c,w),w}function hc(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new We(new Ri({ab:v})):new We(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function fc(){}i=fc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Or(){}Or.prototype.g=function(c,y){return new an(c,y)};function an(c,y){bt.call(this),this.g=new Nr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!k(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!k(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Yi(this)}b(an,bt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){_l(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Sr(c),c=v);y.i.push(new wt(y.Ya++,c)),y.I==3&&ki(y)},an.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,an.Z.N.call(this)};function dc(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(dc,Ht);function mc(){Nn.call(this),this.status=1}b(mc,Nn);function Yi(c){this.g=c}b(Yi,fc),Yi.prototype.ra=function(){Vt(this.g,"a")},Yi.prototype.qa=function(c){Vt(this.g,new dc(c))},Yi.prototype.pa=function(c){Vt(this.g,new mc)},Yi.prototype.oa=function(){Vt(this.g,"b")},Or.prototype.createWebChannel=Or.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,qT=function(){return new Or},BT=function(){return Ma()},zT=pt,vp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,Nh=Ds,rl.COMPLETE="complete",UT=rl,Ku.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,uu=Ku,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,jT=We}).apply(typeof Eh<"u"?Eh:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let $o="12.8.0";function gk(i){$o=i}const ha=new ff("@firebase/firestore");function bo(){return ha.logLevel}function ce(i,...e){if(ha.logLevel<=Me.DEBUG){const n=e.map(ig);ha.debug(`Firestore (${$o}): ${i}`,...n)}}function vr(i,...e){if(ha.logLevel<=Me.ERROR){const n=e.map(ig);ha.error(`Firestore (${$o}): ${i}`,...n)}}function Mo(i,...e){if(ha.logLevel<=Me.WARN){const n=e.map(ig);ha.warn(`Firestore (${$o}): ${i}`,...n)}}function ig(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Te(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,HT(i,s,n)}function HT(i,e,n){let s=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw vr(s),new Error(s)}function Ge(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||HT(e,o,s)}function we(i,e){return i}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class FT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class _k{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vk{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new pr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new pr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new FT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class Ek{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Tk{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Ek(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class m1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new m1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new m1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ak(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class rg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Ak(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Le(i,e){return i<e?-1:i>e?1:0}function Ep(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return ep(o)===ep(u)?Le(o,u):ep(o)?1:-1}return Le(i.length,e.length)}const Sk=55296,wk=57343;function ep(i){const e=i.charCodeAt(0);return e>=Sk&&e<=wk}function Lo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const p1="__name__";class Pi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Pi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=Pi.isNumericId(e),o=Pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Pi.extractNumericId(e).compare(Pi.extractNumericId(n)):Ep(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class nt extends Pi{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const xk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Pi{construct(e,n,s){return new Wt(e,n,s)}static isValidIdentifier(e){return xk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p1}static keyField(){return new Wt([p1])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ue(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}function GT(i,e,n){if(!n)throw new ue(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Rk(i,e,n,s){if(e===!0&&s===!0)throw new ue(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function g1(i){if(!ye.isDocumentKey(i))throw new ue(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function y1(i){if(ye.isDocumentKey(i))throw new ue(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function KT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function yf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function In(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yf(i);throw new ue(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Ot(i,e){const n={typeString:i};return e&&(n.value=e),n}function Pu(i,e){if(!KT(i))throw new ue(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(Z.INVALID_ARGUMENT,n);return!0}const _1=-62135596800,v1=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*v1);return new et(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_1)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v1}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:Ot("string",et._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new et(0,0))}static max(){return new Ae(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Au=-1;function Ik(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new et(n+1,0):new et(n,s));return new ms(o,ye.empty(),e)}function Ck(i){return new ms(i.readTime,i.key,Au)}class ms{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ms(Ae.min(),ye.empty(),Au)}static max(){return new ms(Ae.max(),ye.empty(),Au)}}function kk(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:Le(i.largestBatchId,e.largestBatchId))}const Nk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Yo(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==Nk)throw i;ce("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(g=>s(g)))})),h=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((E=>{h[p]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function Ok(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wo(i){return i.name==="IndexedDbTransactionError"}class _f{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_f.ce=-1;const sg=-1;function vf(i){return i==null}function Qh(i){return i===0&&1/i==-1/0}function Mk(i){return typeof i=="number"&&Number.isInteger(i)&&!Qh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const QT="";function Lk(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=E1(e)),e=Vk(i.get(n),e);return E1(e)}function Vk(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case QT:n+="";break;default:n+=u}}return n}function E1(i){return i+QT+""}function T1(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function bs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function $T(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Th(this.root,e,this.comparator,!1)}getReverseIterator(){return new Th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Th(this.root,e,this.comparator,!0)}}class Th{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b1(this.data.getIterator())}getIteratorFrom(e){return new b1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class b1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new jt(Wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class YT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new YT("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const Pk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const n=Pk.exec(i);if(Ge(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function gs(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}const WT="server_timestamp",XT="__type__",ZT="__previous_value__",JT="__local_write_time__";function ag(i){return(i?.mapValue?.fields||{})[XT]?.stringValue===WT}function Ef(i){const e=i.mapValue.fields[ZT];return ag(e)?Ef(e):e}function Su(i){const e=ps(i.mapValue.fields[JT].timestampValue);return new et(e.seconds,e.nanos)}class jk{constructor(e,n,s,o,u,h,m,g,p,E,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E,this.apiKey=b}}const $h="(default)";class wu{constructor(e,n){this.projectId=e,this.database=n||$h}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===$h}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}function Uk(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new ue(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(i.options.projectId,e)}const eb="__type__",zk="__max__",bh={mapValue:{}},tb="__vector__",Yh="value";function ys(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ag(i)?4:qk(i)?9007199254740991:Bk(i)?10:11:Te(28295,{value:i})}function Fi(i,e){if(i===e)return!0;const n=ys(i);if(n!==ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Su(i).isEqual(Su(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ps(o.timestampValue),m=ps(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return gs(o.bytesValue).isEqual(gs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=vt(o.doubleValue),m=vt(u.doubleValue);return h===m?Qh(h)===Qh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return Lo(i.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(T1(h)!==T1(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Fi(h[g],m[g])))return!1;return!0})(i,e);default:return Te(52216,{left:i})}}function xu(i,e){return(i.values||[]).find((n=>Fi(n,e)))!==void 0}function Vo(i,e){if(i===e)return 0;const n=ys(i),s=ys(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=vt(u.integerValue||u.doubleValue),g=vt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return A1(i.timestampValue,e.timestampValue);case 4:return A1(Su(i),Su(e));case 5:return Ep(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=gs(u),g=gs(h);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Le(m[p],g[p]);if(E!==0)return E}return Le(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Le(vt(u.latitude),vt(h.latitude));return m!==0?m:Le(vt(u.longitude),vt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return S1(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},p=m[Yh]?.arrayValue,E=g[Yh]?.arrayValue,b=Le(p?.values?.length||0,E?.values?.length||0);return b!==0?b:S1(p,E)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===bh.mapValue&&h===bh.mapValue)return 0;if(u===bh.mapValue)return 1;if(h===bh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const R=Ep(g[b],E[b]);if(R!==0)return R;const L=Vo(m[g[b]],p[E[b]]);if(L!==0)return L}return Le(g.length,E.length)})(i.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function A1(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Le(i,e);const n=ps(i),s=ps(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function S1(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Vo(n[o],s[o]);if(u)return u}return Le(n.length,s.length)}function Po(i){return Tp(i)}function Tp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=ps(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return gs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ye.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Tp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Tp(n.fields[h])}`;return o+"}"})(i.mapValue):Te(61005,{value:i})}function Dh(i){switch(ys(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(i);return e?16+Dh(e):16;case 5:return 2*i.stringValue.length;case 6:return gs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Dh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return bs(s.fields,((u,h)=>{o+=u.length+Dh(h)})),o})(i.mapValue);default:throw Te(13486,{value:i})}}function w1(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function bp(i){return!!i&&"integerValue"in i}function og(i){return!!i&&"arrayValue"in i}function x1(i){return!!i&&"nullValue"in i}function R1(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Oh(i){return!!i&&"mapValue"in i}function Bk(i){return(i?.mapValue?.fields||{})[eb]?.stringValue===tb}function pu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return bs(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=pu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pu(i.arrayValue.values[n]);return e}return{...i}}function qk(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===zk}class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(n)}setAll(e){let n=Wt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=pu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){bs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new yn(pu(this.value))}}function nb(i){const e=[];return bs(i.fields,((n,s)=>{const o=new Wt([n]);if(Oh(s)){const u=nb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Rn(e)}class nn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Ae.min(),Ae.min(),Ae.min(),yn.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Ae.min(),Ae.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Ae.min(),Ae.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wh{constructor(e,n){this.position=e,this.inclusive=n}}function I1(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=Vo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function C1(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Fi(i.position[n],e.position[n]))return!1;return!0}class Ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function Hk(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ib{}class Dt extends ib{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Gk(e,n,s):n==="array-contains"?new $k(e,s):n==="in"?new Yk(e,s):n==="not-in"?new Wk(e,s):n==="array-contains-any"?new Xk(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Kk(e,s):new Qk(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vo(n,this.value)):n!==null&&ys(this.value)===ys(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends ib{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new di(e,n)}matches(e){return rb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rb(i){return i.op==="and"}function sb(i){return Fk(i)&&rb(i)}function Fk(i){for(const e of i.filters)if(e instanceof di)return!1;return!0}function Ap(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+Po(i.value);if(sb(i))return i.filters.map((e=>Ap(e))).join(",");{const e=i.filters.map((n=>Ap(n))).join(",");return`${i.op}(${e})`}}function ab(i,e){return i instanceof Dt?(function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&Fi(s.value,o.value)})(i,e):i instanceof di?(function(s,o){return o instanceof di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&ab(h,o.filters[m])),!0):!1})(i,e):void Te(19439)}function ob(i){return i instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Po(n.value)}`})(i):i instanceof di?(function(n){return n.op.toString()+" {"+n.getFilters().map(ob).join(" ,")+"}"})(i):"Filter"}class Gk extends Dt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class Kk extends Dt{constructor(e,n){super(e,"in",n),this.keys=lb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Qk extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=lb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function lb(i,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class $k extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return og(n)&&xu(n.arrayValue,this.value)}}class Yk extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class Wk extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xu(this.value.arrayValue,n)}}class Xk extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!og(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>xu(this.value.arrayValue,s)))}}class Zk{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function k1(i,e=null,n=[],s=[],o=null,u=null,h=null){return new Zk(i,e,n,s,o,u,h)}function lg(i){const e=we(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Ap(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Po(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Po(s))).join(",")),e.Te=n}return e.Te}function ug(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Hk(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!ab(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!C1(i.startAt,e.startAt)&&C1(i.endAt,e.endAt)}function Sp(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Xo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Jk(i,e,n,s,o,u,h,m){return new Xo(i,e,n,s,o,u,h,m)}function Tf(i){return new Xo(i)}function N1(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function eN(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function ub(i){return i.collectionGroup!==null}function gu(i){const e=we(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new jt(Wt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ru(u,s))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new Ru(Wt.keyField(),s))}return e.Ie}function zi(i){const e=we(i);return e.Ee||(e.Ee=tN(e,gu(i))),e.Ee}function tN(i,e){if(i.limitType==="F")return k1(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ru(o.field,u)}));const n=i.endAt?new Wh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Wh(i.startAt.position,i.startAt.inclusive):null;return k1(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function wp(i,e){const n=i.filters.concat([e]);return new Xo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function nN(i,e){const n=i.explicitOrderBy.concat([e]);return new Xo(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function xp(i,e,n){return new Xo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function bf(i,e){return ug(zi(i),zi(e))&&i.limitType===e.limitType}function cb(i){return`${lg(zi(i))}|lt:${i.limitType}`}function Ao(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>ob(o))).join(", ")}]`),vf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Po(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Po(o))).join(",")),`Target(${s})`})(zi(i))}; limitType=${i.limitType})`}function Af(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of gu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const p=I1(h,m,g);return h.inclusive?p<=0:p<0})(s.startAt,gu(s),o)||s.endAt&&!(function(h,m,g){const p=I1(h,m,g);return h.inclusive?p>=0:p>0})(s.endAt,gu(s),o))})(i,e)}function iN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function hb(i){return(e,n)=>{let s=!1;for(const o of gu(i)){const u=rN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function rN(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?Vo(g,p):Te(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}class va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return $T(this.inner)}size(){return this.innerSize}}const sN=new ct(ye.comparator);function Er(){return sN}const fb=new ct(ye.comparator);function cu(...i){let e=fb;for(const n of i)e=e.insert(n.key,n);return e}function db(i){let e=fb;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function aa(){return yu()}function mb(){return yu()}function yu(){return new va((i=>i.toString()),((i,e)=>i.isEqual(e)))}const aN=new ct(ye.comparator),oN=new jt(ye.comparator);function Ve(...i){let e=oN;for(const n of i)e=e.add(n);return e}const lN=new jt(Le);function uN(){return lN}function cg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function pb(i){return{integerValue:""+i}}function cN(i,e){return Mk(e)?pb(e):cg(i,e)}class Sf{constructor(){this._=void 0}}function hN(i,e,n){return i instanceof Iu?(function(o,u){const h={fields:{[XT]:{stringValue:WT},[JT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ag(u)&&(u=Ef(u)),u&&(h.fields[ZT]=u),{mapValue:h}})(n,e):i instanceof Cu?yb(i,e):i instanceof ku?_b(i,e):(function(o,u){const h=gb(o,u),m=D1(h)+D1(o.Ae);return bp(h)&&bp(o.Ae)?pb(m):cg(o.serializer,m)})(i,e)}function fN(i,e,n){return i instanceof Cu?yb(i,e):i instanceof ku?_b(i,e):n}function gb(i,e){return i instanceof Xh?(function(s){return bp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Iu extends Sf{}class Cu extends Sf{constructor(e){super(),this.elements=e}}function yb(i,e){const n=vb(e);for(const s of i.elements)n.some((o=>Fi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ku extends Sf{constructor(e){super(),this.elements=e}}function _b(i,e){let n=vb(e);for(const s of i.elements)n=n.filter((o=>!Fi(o,s)));return{arrayValue:{values:n}}}class Xh extends Sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function D1(i){return vt(i.integerValue||i.doubleValue)}function vb(i){return og(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class dN{constructor(e,n){this.field=e,this.transform=n}}function mN(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Cu&&o instanceof Cu||s instanceof ku&&o instanceof ku?Lo(s.elements,o.elements,Fi):s instanceof Xh&&o instanceof Xh?Fi(s.Ae,o.Ae):s instanceof Iu&&o instanceof Iu})(i.transform,e.transform)}class pN{constructor(e,n){this.version=e,this.transformResults=n}}class ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class wf{}function Eb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new hg(i.key,ui.none()):new ju(i.key,i.data,ui.none());{const n=i.data,s=yn.empty();let o=new jt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new As(i.key,s,new Rn(o.toArray()),ui.none())}}function gN(i,e,n){i instanceof ju?(function(o,u,h){const m=o.value.clone(),g=M1(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof As?(function(o,u,h){if(!Mh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=M1(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Tb(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function _u(i,e,n,s){return i instanceof ju?(function(u,h,m,g){if(!Mh(u.precondition,h))return m;const p=u.value.clone(),E=L1(u.fieldTransforms,g,h);return p.setAll(E),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(i,e,n,s):i instanceof As?(function(u,h,m,g){if(!Mh(u.precondition,h))return m;const p=L1(u.fieldTransforms,g,h),E=h.data;return E.setAll(Tb(u)),E.setAll(p),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,n,s):(function(u,h,m){return Mh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function yN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=gb(s.transform,o||null);u!=null&&(n===null&&(n=yn.empty()),n.set(s.field,u))}return n||null}function O1(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Lo(s,o,((u,h)=>mN(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ju extends wf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends wf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Tb(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function M1(i,e,n){const s=new Map;Ge(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,fN(h,m,n[o]))}return s}function L1(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,hN(u,h,e))}return s}class hg extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _N extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&gN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=_u(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=_u(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=mb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=Eb(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,((n,s)=>O1(n,s)))&&Lo(this.baseMutations,e.baseMutations,((n,s)=>O1(n,s)))}}class fg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return aN})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new fg(e,n,s,o)}}class EN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,Ue;function bN(i){switch(i){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function bb(i){if(i===void 0)return vr("GRPC error has no .code"),Z.UNKNOWN;switch(i){case Nt.OK:return Z.OK;case Nt.CANCELLED:return Z.CANCELLED;case Nt.UNKNOWN:return Z.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return Z.INTERNAL;case Nt.UNAVAILABLE:return Z.UNAVAILABLE;case Nt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Nt.NOT_FOUND:return Z.NOT_FOUND;case Nt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Nt.ABORTED:return Z.ABORTED;case Nt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Nt.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:i})}}(Ue=Nt||(Nt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function AN(){return new TextEncoder}const SN=new hs([4294967295,4294967295],0);function V1(i){const e=AN().encode(i),n=new PT;return n.update(e),new Uint8Array(n.digest())}function P1(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new hs([n,s],0),new hs([o,u],0)]}class dg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new hu(`Invalid padding: ${n}`);if(s<0)throw new hu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new hu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=hs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(hs.fromNumber(s)));return o.compare(SN)===1&&(o=new hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=V1(e),[s,o]=P1(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new dg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=V1(e),[s,o]=P1(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new xf(Ae.min(),o,new ct(Le),Er(),Ve())}}class Uu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Uu(s,n,Ve(),Ve(),Ve())}}class Lh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Ab{constructor(e,n){this.targetId=e,this.Ce=n}}class Sb{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class j1{constructor(){this.ve=0,this.Fe=U1(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}})),new Uu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=U1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class wN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Er(),this.He=Ah(),this.Je=Ah(),this.Ze=new ct(Le)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Sp(u))if(s===0){const h=new ye(u.path);this.et(n,h,nn.newNoDocument(h,Ae.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=gs(s).toUint8Array()}catch(g){if(g instanceof YT)return Mo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new dg(h,o,u)}catch(g){return Mo(g instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Sp(m.target)){const g=new ye(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,nn.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=Ve();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new xf(e,n,this.Ze,this.je,s);return this.je=Er(),this.He=Ah(),this.Je=Ah(),this.Ze=new ct(Le),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new j1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new jt(Le),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new jt(Le),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new j1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ah(){return new ct(ye.comparator)}function U1(){return new ct(ye.comparator)}const xN={asc:"ASCENDING",desc:"DESCENDING"},RN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IN={and:"AND",or:"OR"};class CN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rp(i,e){return i.useProto3Json||vf(e)?e:{value:e}}function Zh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function kN(i,e){return Zh(i,e.toTimestamp())}function Bi(i){return Ge(!!i,49232),Ae.fromTimestamp((function(n){const s=ps(n);return new et(s.seconds,s.nanos)})(i))}function mg(i,e){return Ip(i,e).canonicalString()}function Ip(i,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function xb(i){const e=nt.fromString(i);return Ge(Nb(e),10190,{key:e.toString()}),e}function Cp(i,e){return mg(i.databaseId,e.path)}function tp(i,e){const n=xb(e);if(n.get(1)!==i.databaseId.projectId)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(Ib(n))}function Rb(i,e){return mg(i.databaseId,e)}function NN(i){const e=xb(i);return e.length===4?nt.emptyPath():Ib(e)}function kp(i){return new nt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ib(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function z1(i,e,n){return{name:Cp(i,e),fields:n.value.mapValue.fields}}function DN(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const E=p.code===void 0?Z.UNKNOWN:bb(p.code);return new ue(E,p.message||"")})(h);n=new Sb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=tp(i,s.document.name),u=Bi(s.document.updateTime),h=s.document.createTime?Bi(s.document.createTime):Ae.min(),m=new yn({mapValue:{fields:s.document.fields}}),g=nn.newFoundDocument(o,u,h,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new Lh(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=tp(i,s.document),u=s.readTime?Bi(s.readTime):Ae.min(),h=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Lh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=tp(i,s.document),u=s.removedTargetIds||[];n=new Lh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new TN(o,u),m=s.targetId;n=new Ab(m,h)}}return n}function ON(i,e){let n;if(e instanceof ju)n={update:z1(i,e.key,e.value)};else if(e instanceof hg)n={delete:Cp(i,e.key)};else if(e instanceof As)n={update:z1(i,e.key,e.data),updateMask:qN(e.fieldMask)};else{if(!(e instanceof _N))return Te(16599,{dt:e.type});n={verify:Cp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Iu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Cu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ku)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Xh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:kN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(i,e.precondition)),n}function MN(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Bi(o.updateTime):Bi(u);return h.isEqual(Ae.min())&&(h=Bi(u)),new pN(h,o.transformResults||[])})(n,e)))):[]}function LN(i,e){return{documents:[Rb(i,e.path)]}}function VN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Rb(i,o);const u=(function(p){if(p.length!==0)return kb(di.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((E=>(function(R){return{field:So(R.field),direction:UN(R.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Rp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function PN(i){let e=NN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const R=Cb(b);return R instanceof di&&sb(R)?R.getFilters():[R]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((R=>(function(F){return new Ru(wo(F.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let R;return R=typeof b=="object"?b.value:b,vf(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(b){const R=!!b.before,L=b.values||[];return new Wh(L,R)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const R=!b.before,L=b.values||[];return new Wh(L,R)})(n.endAt)),Jk(e,o,h,u,m,"F",g,p)}function jN(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Cb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=wo(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=wo(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=wo(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=wo(n.unaryFilter.field);return Dt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Dt.create(wo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return di.create(n.compositeFilter.filters.map((s=>Cb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(i):Te(30097,{filter:i})}function UN(i){return xN[i]}function zN(i){return RN[i]}function BN(i){return IN[i]}function So(i){return{fieldPath:i.canonicalString()}}function wo(i){return Wt.fromServerFormat(i.fieldPath)}function kb(i){return i instanceof Dt?(function(n){if(n.op==="=="){if(R1(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(x1(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(R1(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(x1(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:zN(n.op),value:n.value}}})(i):i instanceof di?(function(n){const s=n.getFilters().map((o=>kb(o)));return s.length===1?s[0]:{compositeFilter:{op:BN(n.op),filters:s}}})(i):Te(54877,{filter:i})}function qN(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Nb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function Db(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class os{constructor(e,n,s,o,u=Ae.min(),h=Ae.min(),m=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class HN{constructor(e){this.yt=e}}function FN(i){const e=PN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?xp(e,e.limit,"L"):e}class GN{constructor(){this.Sn=new KN}addToCollectionParentIndex(e,n){return this.Sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ms.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class KN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new jt(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jt(nt.comparator)).toArray()}}const B1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ob=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(Ob,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class jo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new jo(0)}static ar(){return new jo(-1)}}const q1="LruGarbageCollector",QN=1048576;function H1([i,e],[n,s]){const o=Le(i,n);return o===0?Le(e,s):o}class $N{constructor(e){this.Pr=e,this.buffer=new jt(H1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();H1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(q1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wo(n)?ce(q1,"Ignoring IndexedDB error during garbage collection: ",n):await Yo(n)}await this.Ar(3e5)}))}}class WN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(_f.ce);const s=new $N(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(B1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),bo()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function XN(i,e){return new WN(i,e)}class ZN{constructor(){this.changes=new va((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class JN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class e4{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&_u(s.mutation,o,Rn.empty(),et.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const o=aa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=cu();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=aa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Er();const h=yu(),m=(function(){return yu()})();return n.forEach(((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof As)?u=u.insert(p.key,p):E!==void 0?(h.set(p.key,E.mutation.getFieldMask()),_u(E.mutation,p,E.mutation.getFieldMask(),et.now())):h.set(p.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,E)=>h.set(p,E))),n.forEach(((p,E)=>m.set(p,new JN(E,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=yu();let o=new ct(((h,m)=>h-m)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||Rn.empty();E=m.applyToLocalView(p,E),s.set(g,E);const b=(o.get(m.batchId)||Ve()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,b=mb();E.forEach((R=>{if(!u.has(R)){const L=Eb(n.get(R),s.get(R));L!==null&&b.set(R,L),u=u.add(R)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,b))}return te.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return eN(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ub(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(aa());let m=Au,g=u;return h.next((p=>te.forEach(p,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{g=g.insert(E,R)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Ve()))).next((E=>({batchId:m,changes:db(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=cu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=cu();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(g=>{const p=(function(b,R){return new Xo(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((b,R)=>{h=h.insert(b,R)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((g,p)=>{const E=p.getKey();h.get(E)===null&&(h=h.insert(E,nn.newInvalidDocument(E)))}));let m=cu();return h.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&_u(E.mutation,p,Rn.empty(),et.now()),Af(n,p)&&(m=m.insert(g,p))})),m}))}}class t4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return te.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:FN(o.bundledQuery),readTime:Bi(o.readTime)}})(n)),te.resolve()}}class n4{constructor(){this.overlays=new ct(ye.comparator),this.Lr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=aa();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=aa(),u=n.length+1,h=new ye(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((p,E)=>p-E));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=aa(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=aa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return te.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new EN(n,s));let u=this.Lr.get(n);u===void 0&&(u=Ve(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class i4{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class pg{constructor(){this.kr=new jt(qt.Kr),this.qr=new jt(qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new qt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ye(new nt([])),s=new qt(n,e),o=new qt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new nt([])),s=new qt(n,e),o=new qt(n,e+1);let u=Ve();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new qt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||Le(e.Hr,n.Hr)}static Ur(e,n){return Le(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}class r4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new jt(qt.Kr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new vN(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?sg:this.Yn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jt(Le);return n.forEach((o=>{const u=new qt(o,0),h=new qt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),te.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new qt(new ye(u),0);let m=new jt(Le);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)}),h),te.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return te.forEach(n.mutations,(o=>{const u=new qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new qt(n,0),o=this.Jr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class s4{constructor(e){this.ti=e,this.docs=(function(){return new ct(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=Er();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Er();const h=n.path,m=new ye(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||kk(Ck(E),s)<=0||(o.has(E.key)||Af(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ni(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new a4(this)}getSize(e){return te.resolve(this.size)}}class a4 extends ZN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class o4{constructor(e){this.persistence=e,this.ri=new va((n=>lg(n)),ug),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ii=0,this.si=new pg,this.targetCount=0,this.oi=jo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),te.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.lr(n),te.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.si.containsKey(n))}}class Mb{constructor(e,n){this._i={},this.overlays={},this.ai=new _f(0),this.ui=!1,this.ui=!0,this.ci=new i4,this.referenceDelegate=e(this),this.li=new o4(this),this.indexManager=new GN,this.remoteDocumentCache=(function(o){return new s4(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new HN(n),this.Pi=new t4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new n4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new r4(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new l4(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return te.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class l4 extends Dk{constructor(e){super(),this.currentSequenceNumber=e}}class gg{constructor(e){this.persistence=e,this.Ri=new pg,this.Ai=null}static Vi(e){return new gg(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,(s=>{const o=ye.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Jh{constructor(e,n){this.persistence=e,this.fi=new va((s=>Lk(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=XN(this,n)}static Vi(e,n){return new Jh(e,n)}Ti(){}Ii(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return te.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dh(e.data.value)),n}wr(e,n,s){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class yg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new yg(e,n.fromCache,s,o)}}class u4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class c4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Mx()?8:Ok(rn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new u4;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(bo()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(bo()<=Me.DEBUG&&ce("QueryEngine","Query:",Ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(bo()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):te.resolve())}gs(e,n){if(N1(n))return te.resolve(null);let s=zi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=xp(n,null,"F"),s=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ve(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.bs(n,m);return this.Ss(n,p,h,g.readTime)?this.gs(e,xp(n,null,"F")):this.Ds(e,p,n,g)}))))})))))}ps(e,n,s,o){return N1(n)||o.isEqual(Ae.min())?te.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?te.resolve(null):(bo()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ao(n)),this.Ds(e,h,n,Ik(o,Au)).next((m=>m)))}))}bs(e,n){let s=new jt(hb(e));return n.forEach(((o,u)=>{Af(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return bo()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ao(n)),this.fs.getDocumentsMatchingQuery(e,n,ms.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const _g="LocalStore",h4=3e8;class f4{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ct(Le),this.Fs=new va((u=>lg(u)),ug),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new e4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function d4(i,e,n,s){return new f4(i,e,n,s)}async function Lb(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let g=Ve();for(const p of o){h.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ns:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function m4(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const b=p.batch,R=b.keys();let L=te.resolve();return R.forEach((F=>{L=L.next((()=>E.getEntry(g,F))).next((Q=>{const $=p.docVersions.get(F);Ge($!==null,48541),Q.version.compareTo($)<0&&(b.applyToRemoteDocument(Q,p),Q.isValidDocument()&&(Q.setReadTime(p.commitVersion),E.addEntry(Q)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Ve();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Vb(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function p4(i,e){const n=we(i),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,b)=>{const R=o.get(b);if(!R)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,b))));let L=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?L=L.withResumeToken(Xt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(b,L),(function(Q,$,ie){return Q.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=h4?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(R,L,E)&&m.push(n.li.updateTargetData(u,L))}));let g=Er(),p=Ve();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(g4(u,h,e.documentUpdates).next((E=>{g=E.Bs,p=E.Ls}))),!s.isEqual(Ae.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.vs=o,u)))}function g4(i,e,n){let s=Ve(),o=Ve();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Er();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ce(_g,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function y4(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=sg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function _4(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new os(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Np(i,e,n){const s=we(i),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Wo(h))throw h;ce(_g,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function F1(i,e,n){const s=we(i);let o=Ae.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,E){const b=we(g),R=b.Fs.get(E);return R!==void 0?te.resolve(b.vs.get(R)):b.li.getTargetData(p,E)})(s,h,zi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Ae.min(),n?u:Ve()))).next((m=>(v4(s,iN(e),m),{documents:m,ks:u})))))}function v4(i,e,n){let s=i.Ms.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Ms.set(e,s)}class G1{constructor(){this.activeTargetIds=uN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E4{constructor(){this.vo=new G1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new G1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class T4{Mo(e){}shutdown(){}}const K1="ConnectivityMonitor";class Q1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(K1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(K1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sh=null;function Dp(){return Sh===null?Sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sh++,"0x"+Sh.toString(16)}const np="RestConnection",b4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class A4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===$h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=Dp(),m=this.Qo(e,n.toUriEncodedString());ce(np,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:p}=new URL(m),E=Fo(p);return this.zo(e,m,g,s,E).then((b=>(ce(np,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw Mo(np,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=b4[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class S4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",au=(i,e,n)=>{i.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ko extends A4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ko.c_){const e=BT();au(e,zT.STAT_EVENT,(n=>{n.stat===vp.PROXY?ce(en,"STAT_EVENT: detected buffering proxy"):n.stat===vp.NOPROXY&&ce(en,"STAT_EVENT: detected no buffering proxy")})),ko.c_=!0}}zo(e,n,s,o,u){const h=Dp();return new Promise(((m,g)=>{const p=new jT;p.setWithCredentials(!0),p.listenOnce(UT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Nh.NO_ERROR:const b=p.getResponseJson();ce(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case Nh.TIMEOUT:ce(en,`RPC '${e}' ${h} timed out`),g(new ue(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Nh.HTTP_ERROR:const R=p.getStatus();if(ce(en,`RPC '${e}' ${h} failed with status:`,R,"response text:",p.getResponseText()),R>0){let L=p.getResponseJson();Array.isArray(L)&&(L=L[0]);const F=L?.error;if(F&&F.status&&F.message){const Q=(function(ie){const ne=ie.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ne)>=0?ne:Z.UNKNOWN})(F.status);g(new ue(Q,F.message))}else g(new ue(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ue(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(en,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);ce(en,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Dp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const p=u.join("");ce(en,`Creating RPC '${e}' stream ${o}: ${p}`,m);const E=h.createWebChannel(p,m);this.I_(E);let b=!1,R=!1;const L=new S4({Ho:F=>{R?ce(en,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(b||(ce(en,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),ce(en,`RPC '${e}' stream ${o} sending:`,F),E.send(F))},Jo:()=>E.close()});return au(E,uu.EventType.OPEN,(()=>{R||(ce(en,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),au(E,uu.EventType.CLOSE,(()=>{R||(R=!0,ce(en,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(E))})),au(E,uu.EventType.ERROR,(F=>{R||(R=!0,Mo(en,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),L.o_(new ue(Z.UNAVAILABLE,"The operation could not be completed")))})),au(E,uu.EventType.MESSAGE,(F=>{if(!R){const Q=F.data[0];Ge(!!Q,16349);const $=Q,ie=$?.error||$[0]?.error;if(ie){ce(en,`RPC '${e}' stream ${o} received error:`,ie);const ne=ie.status;let se=(function(fe){const S=Nt[fe];if(S!==void 0)return bb(S)})(ne),re=ie.message;se===void 0&&(se=Z.INTERNAL,re="Unknown error status: "+ne+" with message "+ie.message),R=!0,L.o_(new ue(se,re)),E.close()}else ce(en,`RPC '${e}' stream ${o} received:`,Q),L.__(Q)}})),ko.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return qT()}}function w4(i){return new ko(i)}function ip(){return typeof document<"u"?document:null}function Rf(i){return new CN(i,!0)}ko.c_=!1;class Pb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const $1="PersistentStream";class jb{constructor(e,n,s,o,u,h,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Pb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce($1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce($1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class x4 extends jb{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=DN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?Bi(h.readTime):Ae.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=kp(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=Sp(g)?{documents:LN(u,g)}:{query:VN(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=wb(u,h.resumeToken);const p=Rp(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Zh(u,h.snapshotVersion.toTimestamp());const p=Rp(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=jN(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=kp(this.serializer),n.removeTarget=e,this.K_(n)}}class R4 extends jb{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=MN(e.writeResults,e.commitTime),s=Bi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=kp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>ON(this.serializer,s)))};this.K_(n)}}class I4{}class C4 extends I4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,Ip(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(Z.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Ip(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(Z.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function k4(i,e,n,s){return new C4(i,e,n,s)}class N4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const fa="RemoteStore";class D4{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{Ea(this)&&(ce(fa,"Restarting streams for network reachability change."),await(async function(g){const p=we(g);p.Ea.add(4),await zu(p),p.Va.set("Unknown"),p.Ea.delete(4),await If(p)})(this))}))})),this.Va=new N4(s,o)}}async function If(i){if(Ea(i))for(const e of i.Ra)await e(!0)}async function zu(i){for(const e of i.Ra)await e(!1)}function Ub(i,e){const n=we(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),bg(n)?Tg(n):Zo(n).O_()&&Eg(n,e))}function vg(i,e){const n=we(i),s=Zo(n);n.Ia.delete(e),s.O_()&&zb(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ea(n)&&n.Va.set("Unknown"))}function Eg(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zo(i).Z_(e)}function zb(i,e){i.da.$e(e),Zo(i).X_(e)}function Tg(i){i.da=new wN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Zo(i).start(),i.Va.ua()}function bg(i){return Ea(i)&&!Zo(i).x_()&&i.Ia.size>0}function Ea(i){return we(i).Ea.size===0}function Bb(i){i.da=void 0}async function O4(i){i.Va.set("Online")}async function M4(i){i.Ia.forEach(((e,n)=>{Eg(i,e)}))}async function L4(i,e){Bb(i),bg(i)?(i.Va.ha(e),Tg(i)):i.Va.set("Unknown")}async function V4(i,e,n){if(i.Va.set("Online"),e instanceof Sb&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(s){ce(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ef(i,s)}else if(e instanceof Lh?i.da.Xe(e):e instanceof Ab?i.da.st(e):i.da.tt(e),!n.isEqual(Ae.min()))try{const s=await Vb(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),zb(u,g);const b=new os(E.target,g,p,E.sequenceNumber);Eg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ce(fa,"Failed to raise snapshot:",s),await ef(i,s)}}async function ef(i,e,n){if(!Wo(e))throw e;i.Ea.add(1),await zu(i),i.Va.set("Offline"),n||(n=()=>Vb(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ce(fa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await If(i)}))}function qb(i,e){return e().catch((n=>ef(i,n,e)))}async function Cf(i){const e=we(i),n=_s(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sg;for(;P4(e);)try{const o=await y4(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,j4(e,o)}catch(o){await ef(e,o)}Hb(e)&&Fb(e)}function P4(i){return Ea(i)&&i.Ta.length<10}function j4(i,e){i.Ta.push(e);const n=_s(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function Hb(i){return Ea(i)&&!_s(i).x_()&&i.Ta.length>0}function Fb(i){_s(i).start()}async function U4(i){_s(i).ra()}async function z4(i){const e=_s(i);for(const n of i.Ta)e.ea(n.mutations)}async function B4(i,e,n){const s=i.Ta.shift(),o=fg.from(s,e,n);await qb(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Cf(i)}async function q4(i,e){e&&_s(i).Y_&&await(async function(s,o){if((function(h){return bN(h)&&h!==Z.ABORTED})(o.code)){const u=s.Ta.shift();_s(s).B_(),await qb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Cf(s)}})(i,e),Hb(i)&&Fb(i)}async function Y1(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),ce(fa,"RemoteStore received new credentials");const s=Ea(n);n.Ea.add(3),await zu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await If(n)}async function H4(i,e){const n=we(i);e?(n.Ea.delete(2),await If(n)):e||(n.Ea.add(2),await zu(n),n.Va.set("Unknown"))}function Zo(i){return i.ma||(i.ma=(function(n,s,o){const u=we(n);return u.sa(),new x4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:O4.bind(null,i),Yo:M4.bind(null,i),t_:L4.bind(null,i),J_:V4.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),bg(i)?Tg(i):i.Va.set("Unknown")):(await i.ma.stop(),Bb(i))}))),i.ma}function _s(i){return i.fa||(i.fa=(function(n,s,o){const u=we(n);return u.sa(),new R4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:U4.bind(null,i),t_:q4.bind(null,i),ta:z4.bind(null,i),na:B4.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await Cf(i)):(await i.fa.stop(),i.Ta.length>0&&(ce(fa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Ag{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Ag(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(i,e){if(vr("AsyncQueue",`${e}: ${i}`),Wo(i))return new ue(Z.UNAVAILABLE,`${e}: ${i}`);throw i}class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=cu(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new No;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class W1{constructor(){this.ga=new ct(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Uo{constructor(e,n,s,o,u,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Uo(e,n,No.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class F4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class G4{constructor(){this.queries=X1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=X1(),u.forEach(((h,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new ue(Z.ABORTED,"Firestore shutting down"))}}function X1(){return new va((i=>cb(i)),bf)}async function wg(i,e){const n=we(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new F4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Sg(h,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Rg(n)}async function xg(i,e){const n=we(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function K4(i,e){const n=we(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&Rg(n)}function Q4(i,e,n){const s=we(i),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Rg(i){i.Ca.forEach((e=>{e.next()}))}var Op,Z1;(Z1=Op||(Op={})).Ma="default",Z1.Cache="cache";class Ig{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Op.Cache}}class Gb{constructor(e){this.key=e}}class Kb{constructor(e){this.key=e}}class $4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.eu=hb(e),this.tu=new No(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new W1,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const R=o.get(E),L=Af(this.query,b)?b:null,F=!!R&&this.mutatedKeys.has(R.key),Q=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let $=!1;R&&L?R.data.isEqual(L.data)?F!==Q&&(s.track({type:3,doc:L}),$=!0):this.su(R,L)||(s.track({type:2,doc:L}),$=!0,(g&&this.eu(L,g)>0||p&&this.eu(L,p)<0)&&(m=!0)):!R&&L?(s.track({type:0,doc:L}),$=!0):R&&!L&&(s.track({type:1,doc:R}),$=!0,(g||p)&&(m=!0)),$&&(L?(h=h.add(L),u=Q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,b)=>(function(L,F){const Q=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:$})}};return Q(L)-Q(F)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Xa;return this.Xa=g,h.length!==0||p?{snapshot:new Uo(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new Kb(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new Gb(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Cg="SyncEngine";class Y4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class W4{constructor(e){this.key=e,this.hu=!1}}class X4{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new va((m=>cb(m)),bf),this.Iu=new Map,this.Eu=new Set,this.Ru=new ct(ye.comparator),this.Au=new Map,this.Vu=new pg,this.du={},this.mu=new Map,this.fu=jo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Z4(i,e,n=!0){const s=Zb(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Qb(s,e,n,!0),o}async function J4(i,e){const n=Zb(i);await Qb(n,e,!0,!1)}async function Qb(i,e,n,s){const o=await _4(i.localStore,zi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await e6(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&Ub(i.remoteStore,o),m}async function e6(i,e,n,s,o){i.pu=(b,R,L)=>(async function(Q,$,ie,ne){let se=$.view.ru(ie);se.Ss&&(se=await F1(Q.localStore,$.query,!1).then((({documents:S})=>$.view.ru(S,se))));const re=ne&&ne.targetChanges.get($.targetId),me=ne&&ne.targetMismatches.get($.targetId)!=null,fe=$.view.applyChanges(se,Q.isPrimaryClient,re,me);return eE(Q,$.targetId,fe.au),fe.snapshot})(i,b,R,L);const u=await F1(i.localStore,e,!0),h=new $4(e,u.ks),m=h.ru(u.documents),g=Uu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),p=h.applyChanges(m,i.isPrimaryClient,g);eE(i,n,p.au);const E=new Y4(e,n,h);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),p.snapshot}async function t6(i,e,n){const s=we(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!bf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Np(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&vg(s.remoteStore,o.targetId),Mp(s,o.targetId)})).catch(Yo)):(Mp(s,o.targetId),await Np(s.localStore,o.targetId,!0))}async function n6(i,e){const n=we(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),vg(n.remoteStore,s.targetId))}async function i6(i,e,n){const s=c6(i);try{const o=await(function(h,m){const g=we(h),p=et.now(),E=m.reduce(((L,F)=>L.add(F.key)),Ve());let b,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let F=Er(),Q=Ve();return g.xs.getEntries(L,E).next(($=>{F=$,F.forEach(((ie,ne)=>{ne.isValidDocument()||(Q=Q.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(L,F))).next(($=>{b=$;const ie=[];for(const ne of m){const se=yN(ne,b.get(ne.key).overlayedDocument);se!=null&&ie.push(new As(ne.key,se,nb(se.value.mapValue),ui.exists(!0)))}return g.mutationQueue.addMutationBatch(L,p,ie,m)})).next(($=>{R=$;const ie=$.applyToLocalDocumentSet(b,Q);return g.documentOverlayCache.saveOverlays(L,$.batchId,ie)}))})).then((()=>({batchId:R.batchId,changes:db(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.du[h.currentUser.toKey()];p||(p=new ct(Le)),p=p.insert(m,g),h.du[h.currentUser.toKey()]=p})(s,o.batchId,n),await Bu(s,o.changes),await Cf(s.remoteStore)}catch(o){const u=Sg(o,"Failed to persist write");n.reject(u)}}async function $b(i,e){const n=we(i);try{const s=await p4(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await Bu(n,s,e)}catch(s){await Yo(s)}}function J1(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=we(h);g.onlineState=m;let p=!1;g.queries.forEach(((E,b)=>{for(const R of b.ba)R.va(m)&&(p=!0)})),p&&Rg(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function r6(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ct(ye.comparator);h=h.insert(u,nn.newNoDocument(u,Ae.min()));const m=Ve().add(u),g=new xf(Ae.min(),new Map,new ct(Le),h,m);await $b(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(e),kg(s)}else await Np(s.localStore,e,!1).then((()=>Mp(s,e,n))).catch(Yo)}async function s6(i,e){const n=we(i),s=e.batch.batchId;try{const o=await m4(n.localStore,e);Wb(n,s,null),Yb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Bu(n,o)}catch(o){await Yo(o)}}async function a6(i,e,n){const s=we(i);try{const o=await(function(h,m){const g=we(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((b=>(Ge(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(p,b)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);Wb(s,e,n),Yb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Bu(s,o)}catch(o){await Yo(o)}}function Yb(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Wb(i,e,n){const s=we(i);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Mp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((s=>{i.Vu.containsKey(s)||Xb(i,s)}))}function Xb(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(vg(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),kg(i))}function eE(i,e,n){for(const s of n)s instanceof Gb?(i.Vu.addReference(s.key,e),o6(i,s)):s instanceof Kb?(ce(Cg,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,e),i.Vu.containsKey(s.key)||Xb(i,s.key)):Te(19791,{wu:s})}function o6(i,e){const n=e.key,s=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(s)||(ce(Cg,"New document in limbo: "+n),i.Eu.add(s),kg(i))}function kg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ye(nt.fromString(e)),s=i.fu.next();i.Au.set(s,new W4(n)),i.Ru=i.Ru.insert(n,s),Ub(i.remoteStore,new os(zi(Tf(n.path)),s,"TargetPurposeLimboResolution",_f.ce))}}async function Bu(i,e,n){const s=we(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){o.push(p);const E=yg.Es(g.targetId,p);u.push(E)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(g,p){const E=we(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>te.forEach(p,(R=>te.forEach(R.Ts,(L=>E.persistence.referenceDelegate.addReference(b,R.targetId,L))).next((()=>te.forEach(R.Is,(L=>E.persistence.referenceDelegate.removeReference(b,R.targetId,L)))))))))}catch(b){if(!Wo(b))throw b;ce(_g,"Failed to update sequence numbers: "+b)}for(const b of p){const R=b.targetId;if(!b.fromCache){const L=E.vs.get(R),F=L.snapshotVersion,Q=L.withLastLimboFreeSnapshotVersion(F);E.vs=E.vs.insert(R,Q)}}})(s.localStore,u))}async function l6(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){ce(Cg,"User change. New user:",e.toKey());const s=await Lb(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ue(Z.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bu(n,s.Ns)}}function u6(i,e){const n=we(i),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Zb(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=$b.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r6.bind(null,e),e.Pu.J_=K4.bind(null,e.eventManager),e.Pu.yu=Q4.bind(null,e.eventManager),e}function c6(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a6.bind(null,e),e}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return d4(this.persistence,new c4,e.initialUser,this.serializer)}Cu(e){return new Mb(gg.Vi,this.serializer)}Du(e){return new E4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class h6 extends tf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new YN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new Mb((s=>Jh.Vi(s,n)),this.serializer)}}class Lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>J1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=l6.bind(null,this.syncEngine),await H4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new G4})()}createDatastore(e){const n=Rf(e.databaseInfo.databaseId),s=w4(e.databaseInfo);return k4(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new D4(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>J1(this.syncEngine,n,0)),(function(){return Q1.v()?new Q1:new T4})())}createSyncEngine(e,n){return(function(o,u,h,m,g,p,E){const b=new X4(o,u,h,m,g,p);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);ce(fa,"RemoteStore shutting down."),s.Ea.add(5),await zu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lp.provider={build:()=>new Lp};class Ng{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const vs="FirestoreClient";class f6{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ce(vs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ce(vs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Sg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function rp(i,e){i.asyncQueue.verifyOperationInProgress(),ce(vs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Lb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function tE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await d6(i);ce(vs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>Y1(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>Y1(e.remoteStore,o))),i._onlineComponents=e}async function d6(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(vs,"Using user provided OfflineComponentProvider");try{await rp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await rp(i,new tf)}}else ce(vs,"Using default OfflineComponentProvider"),await rp(i,new h6(void 0));return i._offlineComponents}async function Jb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(vs,"Using user provided OnlineComponentProvider"),await tE(i,i._uninitializedComponentsProvider._online)):(ce(vs,"Using default OnlineComponentProvider"),await tE(i,new Lp))),i._onlineComponents}function m6(i){return Jb(i).then((e=>e.syncEngine))}async function nf(i){const e=await Jb(i),n=e.eventManager;return n.onListen=Z4.bind(null,e.syncEngine),n.onUnlisten=t6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=J4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=n6.bind(null,e.syncEngine),n}function p6(i,e,n,s){const o=new Ng(s),u=new Ig(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>wg(await nf(i),u))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>xg(await nf(i),u)))}}function g6(i,e,n={}){const s=new pr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const E=new Ng({next:R=>{E.Nu(),h.enqueueAndForget((()=>xg(u,b)));const L=R.docs.has(m);!L&&R.fromCache?p.reject(new ue(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&R.fromCache&&g&&g.source==="server"?p.reject(new ue(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(R)},error:R=>p.reject(R)}),b=new Ig(Tf(m.path),E,{includeMetadataChanges:!0,Ka:!0});return wg(u,b)})(await nf(i),i.asyncQueue,e,n,s))),s.promise}function y6(i,e,n={}){const s=new pr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const E=new Ng({next:R=>{E.Nu(),h.enqueueAndForget((()=>xg(u,b))),R.fromCache&&g.source==="server"?p.reject(new ue(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(R)},error:R=>p.reject(R)}),b=new Ig(m,E,{includeMetadataChanges:!0,Ka:!0});return wg(u,b)})(await nf(i),i.asyncQueue,e,n,s))),s.promise}function _6(i,e){const n=new pr;return i.asyncQueue.enqueueAndForget((async()=>i6(await m6(i),e,n))),n.promise}function e2(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const v6="ComponentProvider",nE=new Map;function E6(i,e,n,s,o){return new jk(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,e2(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const t2="firestore.googleapis.com",iE=!0;class rE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t2,this.ssl=iE}else this.host=e.host,this.ssl=e.ssl??iE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ob;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QN)throw new ue(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e2(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new yk;switch(s.type){case"firstParty":return new Tk(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=nE.get(n);s&&(ce(v6,"Removing Datastore"),nE.delete(n),s.terminate())})(this),Promise.resolve()}}function T6(i,e,n,s={}){i=In(i,kf);const o=Fo(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(QE(`https://${m}`),$E("Firestore",!0)),u.host!==t2&&u.host!==m&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!ds(g,h)&&(i._setSettings(g),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=tn.MOCK_USER;else{p=xx(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ue(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(b)}i._authCredentials=new _k(new FT(p,E))}}class Ss{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ss(this.firestore,e,this._query)}}class dt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Pu(n,dt._jsonSchema))return new dt(e,s||null,new ye(nt.fromString(n.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:Ot("string",dt._jsonSchemaVersion),referencePath:Ot("string")};class fs extends Ss{constructor(e,n,s){super(e,n,Tf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new ye(e))}withConverter(e){return new fs(this.firestore,e,this._path)}}function ws(i,e,...n){if(i=mt(i),GT("collection","path",e),i instanceof kf){const s=nt.fromString(e,...n);return y1(s),new fs(i,null,s)}{if(!(i instanceof dt||i instanceof fs))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return y1(s),new fs(i.firestore,null,s)}}function $n(i,e,...n){if(i=mt(i),arguments.length===1&&(e=rg.newId()),GT("doc","path",e),i instanceof kf){const s=nt.fromString(e,...n);return g1(s),new dt(i,null,new ye(s))}{if(!(i instanceof dt||i instanceof fs))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return g1(s),new dt(i.firestore,i instanceof fs?i.converter:null,new ye(s))}}const sE="AsyncQueue";class aE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Pb(this,"async_queue_retry"),this._c=()=>{const s=ip();s&&ce(sE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ip();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ip();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new pr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Wo(e))throw e;ce(sE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,vr("INTERNAL UNHANDLED ERROR: ",oE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ag.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:oE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function oE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Es extends kf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new aE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aE(e),this._firestoreClient=void 0,await e}}}function b6(i,e){const n=typeof i=="object"?i:$p(),s=typeof i=="string"?i:$h,o=ya(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Sx("firestore");u&&T6(o,...u)}return o}function Nf(i){if(i._terminated)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||A6(i),i._firestoreClient}function A6(i){const e=i._freezeSettings(),n=E6(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new f6(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Xt.fromBase64String(e))}catch(n){throw new ue(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Ot("string",Gn._jsonSchemaVersion),bytes:Ot("string")};class Dg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Df{constructor(e){this._methodName=e}}class qi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Ot("string",qi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class ci{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ci(e.vectorValues);throw new ue(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:Ot("string",ci._jsonSchemaVersion),vectorValues:Ot("object")};const S6=/^__.*__$/;class w6{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,n,this.fieldTransforms):new ju(e,this.data,n,this.fieldTransforms)}}class n2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new As(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function i2(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:i})}}class Og{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return rf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(i2(this.dataSource)&&S6.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class x6{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Rf(e)}createContext(e,n,s,o=!1){return new Og({dataSource:e,methodName:n,targetDoc:s,path:Wt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mg(i){const e=i._freezeSettings(),n=Rf(i._databaseId);return new x6(i._databaseId,!!e.ignoreUndefinedProperties,n)}function R6(i,e,n,s,o,u={}){const h=i.createContext(u.merge||u.mergeFields?2:0,e,n,o);Vg("Data must be an object, but it was:",h,s);const m=r2(s,h);let g,p;if(u.merge)g=new Rn(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const R=zo(e,b,n);if(!h.contains(R))throw new ue(Z.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);o2(E,R)||E.push(R)}g=new Rn(E),p=h.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,p=h.fieldTransforms;return new w6(new yn(m),g,p)}class Of extends Df{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Of}}class Lg extends Df{_toFieldTransform(e){return new dN(e.path,new Iu)}isEqual(e){return e instanceof Lg}}function I6(i,e,n,s){const o=i.createContext(1,e,n);Vg("Data must be an object, but it was:",o,s);const u=[],h=yn.empty();bs(s,((g,p)=>{const E=a2(e,g,n);p=mt(p);const b=o.childContextForFieldPath(E);if(p instanceof Of)u.push(E);else{const R=qu(p,b);R!=null&&(u.push(E),h.set(E,R))}}));const m=new Rn(u);return new n2(h,m,o.fieldTransforms)}function C6(i,e,n,s,o,u){const h=i.createContext(1,e,n),m=[zo(e,s,n)],g=[o];if(u.length%2!=0)throw new ue(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(zo(e,u[R])),g.push(u[R+1]);const p=[],E=yn.empty();for(let R=m.length-1;R>=0;--R)if(!o2(p,m[R])){const L=m[R];let F=g[R];F=mt(F);const Q=h.childContextForFieldPath(L);if(F instanceof Of)p.push(L);else{const $=qu(F,Q);$!=null&&(p.push(L),E.set(L,$))}}const b=new Rn(p);return new n2(E,b,h.fieldTransforms)}function k6(i,e,n,s=!1){return qu(n,i.createContext(s?4:3,e))}function qu(i,e){if(s2(i=mt(i)))return Vg("Unsupported field value:",e,i),r2(i,e);if(i instanceof Df)return(function(s,o){if(!i2(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let g=qu(m,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=mt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return cN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=et.fromDate(s);return{timestampValue:Zh(o.serializer,u)}}if(s instanceof et){const u=new et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zh(o.serializer,u)}}if(s instanceof qi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gn)return{bytesValue:wb(o.serializer,s._byteString)};if(s instanceof dt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ci)return(function(h,m){const g=h instanceof ci?h.toArray():h;return{mapValue:{fields:{[eb]:{stringValue:tb},[Yh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return cg(m.serializer,E)}))}}}}}})(s,o);if(Db(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${yf(s)}`)})(i,e)}function r2(i,e){const n={};return $T(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(i,((s,o)=>{const u=qu(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function s2(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof et||i instanceof qi||i instanceof Gn||i instanceof dt||i instanceof Df||i instanceof ci||Db(i))}function Vg(i,e,n){if(!s2(n)||!KT(n)){const s=yf(n);throw s==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+s)}}function zo(i,e,n){if((e=mt(e))instanceof Dg)return e._internalPath;if(typeof e=="string")return a2(i,e);throw rf("Field path arguments must be of type string or ",i,!1,void 0,n)}const N6=new RegExp("[~\\*/\\[\\]]");function a2(i,e,n){if(e.search(N6)>=0)throw rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Dg(...e.split("."))._internalPath}catch{throw rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function rf(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ue(Z.INVALID_ARGUMENT,m+i+g)}function o2(i,e){return i.some((n=>n.isEqual(e)))}class D6{convertValue(e,n="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return bs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Yh].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new ci(n)}convertGeoPoint(e){return new qi(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ef(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const n=ps(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ge(Nb(s),9688,{name:e});const o=new wu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||vr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Pg extends D6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function Ta(){return new Lg("serverTimestamp")}const lE="@firebase/firestore",uE="4.10.0";function cE(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class l2{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new O6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(zo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class O6 extends l2{data(){return super.data()}}function u2(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jg{}class c2 extends jg{}function h2(i,e,...n){let s=[];e instanceof jg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((g=>g instanceof zg)).length,m=u.filter((g=>g instanceof Ug)).length;if(h>1||h>0&&m>0)throw new ue(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Ug extends c2{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ug(e,n,s)}_apply(e){const n=this._parse(e);return d2(e._query,n),new Ss(e.firestore,e.converter,wp(e._query,n))}_parse(e){const n=Mg(e.firestore);return(function(u,h,m,g,p,E,b){let R;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){fE(b,E);const F=[];for(const Q of b)F.push(hE(g,u,Q));R={arrayValue:{values:F}}}else R=hE(g,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||fE(b,E),R=k6(m,h,b,E==="in"||E==="not-in");return Dt.create(p,E,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class zg extends jg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)d2(h,g),h=wp(h,g)})(e._query,n),new Ss(e.firestore,e.converter,wp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bg extends c2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new ue(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ru(u,h)})(e._query,this._field,this._direction);return new Ss(e.firestore,e.converter,nN(e._query,n))}}function f2(i,e="asc"){const n=e,s=zo("orderBy",i);return Bg._create(s,n)}function hE(i,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new ue(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ub(e)&&n.indexOf("/")!==-1)throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!ye.isDocumentKey(s))throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return w1(i,new ye(s))}if(n instanceof dt)return w1(i,n._key);throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yf(n)}.`)}function fE(i,e){if(!Array.isArray(i)||i.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function d2(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function M6(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class fu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends l2{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(zo("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:Ot("string",la._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Vh extends la{data(e={}){return super.data(e)}}class ua{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new fu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Vh(this._firestore,this._userDataWriter,s.key,s,new fu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new Vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new fu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new fu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:L6(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ua._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function L6(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:Ot("string",ua._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};function Mf(i){i=In(i,dt);const e=In(i.firestore,Es),n=Nf(e);return g6(n,i._key).then((s=>p2(e,i,s)))}function V6(i){i=In(i,Ss);const e=In(i.firestore,Es),n=Nf(e),s=new Pg(e);return u2(i._query),y6(n,i._query).then((o=>new ua(e,s,i,o)))}function da(i,e,n){i=In(i,dt);const s=In(i.firestore,Es),o=M6(i.converter,e),u=Mg(s);return Hg(s,[R6(u,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,ui.none())])}function qg(i,e,n,...s){i=In(i,dt);const o=In(i.firestore,Es),u=Mg(o);let h;return h=typeof(e=mt(e))=="string"||e instanceof Dg?C6(u,"updateDoc",i._key,e,n,s):I6(u,"updateDoc",i._key,e),Hg(o,[h.toMutation(i._key,ui.exists(!0))])}function m2(i){return Hg(In(i.firestore,Es),[new hg(i._key,ui.none())])}function Lf(i,...e){i=mt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||cE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(cE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(i instanceof dt)h=In(i.firestore,Es),m=Tf(i._key.path),u={next:p=>{e[s]&&e[s](p2(h,i,p))},error:e[s+1],complete:e[s+2]};else{const p=In(i,Ss);h=In(p.firestore,Es),m=p._query;const E=new Pg(h);u={next:b=>{e[s]&&e[s](new ua(h,E,p,b))},error:e[s+1],complete:e[s+2]},u2(i._query)}const g=Nf(h);return p6(g,m,o,u)}function Hg(i,e){const n=Nf(i);return _6(n,e)}function p2(i,e,n){const s=n.docs.get(e._key),o=new Pg(i);return new la(i,o,e._key,s,new fu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){gk(Go),Hi(new hi("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Es(new vk(s.getProvider("auth-internal")),new bk(h,s.getProvider("app-check-internal")),Uk(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Kn(lE,uE,e),Kn(lE,uE,"esm2020")})();const g2="@firebase/installations",Fg="0.6.19";const y2=1e4,_2=`w:${Fg}`,v2="FIS_v2",P6="https://firebaseinstallations.googleapis.com/v1",j6=3600*1e3,U6="installations",z6="Installations";const B6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ma=new ga(U6,z6,B6);function E2(i){return i instanceof mi&&i.code.includes("request-failed")}function T2({projectId:i}){return`${P6}/projects/${i}/installations`}function b2(i){return{token:i.token,requestStatus:2,expiresIn:H6(i.expiresIn),creationTime:Date.now()}}async function A2(i,e){const s=(await e.json()).error;return ma.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function S2({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function q6(i,{refreshToken:e}){const n=S2(i);return n.append("Authorization",F6(e)),n}async function w2(i){const e=await i();return e.status>=500&&e.status<600?i():e}function H6(i){return Number(i.replace("s","000"))}function F6(i){return`${v2} ${i}`}async function G6({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=T2(i),o=S2(i),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={fid:n,authVersion:v2,appId:i.appId,sdkVersion:_2},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await w2(()=>fetch(s,m));if(g.ok){const p=await g.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:b2(p.authToken)}}else throw await A2("Create Installation",g)}function x2(i){return new Promise(e=>{setTimeout(e,i)})}function K6(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}const Q6=/^[cdef][\w-]{21}$/,Vp="";function $6(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=Y6(i);return Q6.test(n)?n:Vp}catch{return Vp}}function Y6(i){return K6(i).substr(0,22)}function Vf(i){return`${i.appName}!${i.appId}`}const R2=new Map;function I2(i,e){const n=Vf(i);C2(n,e),W6(n,e)}function C2(i,e){const n=R2.get(i);if(n)for(const s of n)s(e)}function W6(i,e){const n=X6();n&&n.postMessage({key:i,fid:e}),Z6()}let oa=null;function X6(){return!oa&&"BroadcastChannel"in self&&(oa=new BroadcastChannel("[Firebase] FID Change"),oa.onmessage=i=>{C2(i.data.key,i.data.fid)}),oa}function Z6(){R2.size===0&&oa&&(oa.close(),oa=null)}const J6="firebase-installations-database",eD=1,pa="firebase-installations-store";let sp=null;function Gg(){return sp||(sp=eT(J6,eD,{upgrade:(i,e)=>{e===0&&i.createObjectStore(pa)}})),sp}async function sf(i,e){const n=Vf(i),o=(await Gg()).transaction(pa,"readwrite"),u=o.objectStore(pa),h=await u.get(n);return await u.put(e,n),await o.done,(!h||h.fid!==e.fid)&&I2(i,e.fid),e}async function k2(i){const e=Vf(i),s=(await Gg()).transaction(pa,"readwrite");await s.objectStore(pa).delete(e),await s.done}async function Pf(i,e){const n=Vf(i),o=(await Gg()).transaction(pa,"readwrite"),u=o.objectStore(pa),h=await u.get(n),m=e(h);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!h||h.fid!==m.fid)&&I2(i,m.fid),m}async function Kg(i){let e;const n=await Pf(i.appConfig,s=>{const o=tD(s),u=nD(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Vp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function tD(i){const e=i||{fid:$6(),registrationStatus:0};return N2(e)}function nD(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ma.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=iD(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:rD(i)}:{installationEntry:e}}async function iD(i,e){try{const n=await G6(i,e);return sf(i.appConfig,n)}catch(n){throw E2(n)&&n.customData.serverCode===409?await k2(i.appConfig):await sf(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function rD(i){let e=await dE(i.appConfig);for(;e.registrationStatus===1;)await x2(100),e=await dE(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Kg(i);return s||n}return e}function dE(i){return Pf(i,e=>{if(!e)throw ma.create("installation-not-found");return N2(e)})}function N2(i){return sD(i)?{fid:i.fid,registrationStatus:0}:i}function sD(i){return i.registrationStatus===1&&i.registrationTime+y2<Date.now()}async function aD({appConfig:i,heartbeatServiceProvider:e},n){const s=oD(i,n),o=q6(i,n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={installation:{sdkVersion:_2,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await w2(()=>fetch(s,m));if(g.ok){const p=await g.json();return b2(p)}else throw await A2("Generate Auth Token",g)}function oD(i,{fid:e}){return`${T2(i)}/${e}/authTokens:generate`}async function Qg(i,e=!1){let n;const s=await Pf(i.appConfig,u=>{if(!D2(u))throw ma.create("not-registered");const h=u.authToken;if(!e&&cD(h))return u;if(h.requestStatus===1)return n=lD(i,e),u;{if(!navigator.onLine)throw ma.create("app-offline");const m=fD(u);return n=uD(i,m),m}});return n?await n:s.authToken}async function lD(i,e){let n=await mE(i.appConfig);for(;n.authToken.requestStatus===1;)await x2(100),n=await mE(i.appConfig);const s=n.authToken;return s.requestStatus===0?Qg(i,e):s}function mE(i){return Pf(i,e=>{if(!D2(e))throw ma.create("not-registered");const n=e.authToken;return dD(n)?{...e,authToken:{requestStatus:0}}:e})}async function uD(i,e){try{const n=await aD(i,e),s={...e,authToken:n};return await sf(i.appConfig,s),n}catch(n){if(E2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await k2(i.appConfig);else{const s={...e,authToken:{requestStatus:0}};await sf(i.appConfig,s)}throw n}}function D2(i){return i!==void 0&&i.registrationStatus===2}function cD(i){return i.requestStatus===2&&!hD(i)}function hD(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+j6}function fD(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function dD(i){return i.requestStatus===1&&i.requestTime+y2<Date.now()}async function mD(i){const e=i,{installationEntry:n,registrationPromise:s}=await Kg(e);return s?s.catch(console.error):Qg(e).catch(console.error),n.fid}async function pD(i,e=!1){const n=i;return await gD(n),(await Qg(n,e)).token}async function gD(i){const{registrationPromise:e}=await Kg(i);e&&await e}function yD(i){if(!i||!i.options)throw ap("App Configuration");if(!i.name)throw ap("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw ap(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function ap(i){return ma.create("missing-app-config-values",{valueName:i})}const O2="installations",_D="installations-internal",vD=i=>{const e=i.getProvider("app").getImmediate(),n=yD(e),s=ya(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},ED=i=>{const e=i.getProvider("app").getImmediate(),n=ya(e,O2).getImmediate();return{getId:()=>mD(n),getToken:o=>pD(n,o)}};function TD(){Hi(new hi(O2,vD,"PUBLIC")),Hi(new hi(_D,ED,"PRIVATE"))}TD();Kn(g2,Fg);Kn(g2,Fg,"esm2020");const af="analytics",bD="firebase_id",AD="origin",SD=60*1e3,wD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$g="https://www.googletagmanager.com/gtag/js";const ln=new ff("@firebase/analytics");const xD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Cn=new ga("analytics","Analytics",xD);function RD(i){if(!i.startsWith($g)){const e=Cn.create("invalid-gtag-resource",{gtagURL:i});return ln.warn(e.message),""}return i}function M2(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function ID(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function CD(i,e){const n=ID("firebase-js-sdk-policy",{createScriptURL:RD}),s=document.createElement("script"),o=`${$g}?l=${i}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function kD(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function ND(i,e,n,s,o,u){const h=s[o];try{if(h)await e[h];else{const g=(await M2(n)).find(p=>p.measurementId===o);g&&await e[g.appId]}}catch(m){ln.error(m)}i("config",o,u)}async function DD(i,e,n,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await M2(n);for(const g of h){const p=m.find(b=>b.measurementId===g),E=p&&e[p.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){ln.error(u)}}function OD(i,e,n,s){async function o(u,...h){try{if(u==="event"){const[m,g]=h;await DD(i,e,n,m,g)}else if(u==="config"){const[m,g]=h;await ND(i,e,n,s,m,g)}else if(u==="consent"){const[m,g]=h;i("consent",m,g)}else if(u==="get"){const[m,g,p]=h;i("get",m,g,p)}else if(u==="set"){const[m]=h;i("set",m)}else i(u,...h)}catch(m){ln.error(m)}}return o}function MD(i,e,n,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=OD(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function LD(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($g)&&n.src.includes(i))return n;return null}const VD=30,PD=1e3;class jD{constructor(e={},n=PD){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const L2=new jD;function UD(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function zD(i){const{appId:e,apiKey:n}=i,s={method:"GET",headers:UD(n)},o=wD.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let h="";try{const m=await u.json();m.error?.message&&(h=m.error.message)}catch{}throw Cn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function BD(i,e=L2,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Cn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Cn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new FD;return setTimeout(async()=>{m.abort()},SD),V2({appId:s,apiKey:o,measurementId:u},h,m,e)}async function V2(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=L2){const{appId:u,measurementId:h}=i;try{await qD(s,e)}catch(m){if(h)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:h};throw m}try{const m=await zD(i);return o.deleteThrottleMetadata(u),m}catch(m){const g=m;if(!HD(g)){if(o.deleteThrottleMetadata(u),h)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:h};throw m}const p=Number(g?.customData?.httpStatus)===503?jv(n,o.intervalMillis,VD):jv(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return o.setThrottleMetadata(u,E),ln.debug(`Calling attemptFetch again in ${p} millis`),V2(i,E,s,o)}}function qD(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(Cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function HD(i){if(!(i instanceof mi)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class FD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function GD(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await e,h={...s,send_to:u};i("event",n,h)}}async function KD(i,e,n,s){if(s&&s.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return i("set",o),Promise.resolve()}else{const o=await e;i("config",o,{update:!0,user_properties:n})}}async function QD(){if(WE())try{await XE()}catch(i){return ln.warn(Cn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return ln.warn(Cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $D(i,e,n,s,o,u,h){const m=BD(i);m.then(R=>{n[R.measurementId]=R.appId,i.options.measurementId&&R.measurementId!==i.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>ln.error(R)),e.push(m);const g=QD().then(R=>{if(R)return s.getId()}),[p,E]=await Promise.all([m,g]);LD(u)||CD(u,p.measurementId),o("js",new Date);const b=h?.config??{};return b[AD]="firebase",b.update=!0,E!=null&&(b[bD]=E),o("config",p.measurementId,b),p.measurementId}class YD{constructor(e){this.app=e}_delete(){return delete Do[this.app.options.appId],Promise.resolve()}}let Do={},pE=[];const gE={};let op="dataLayer",WD="gtag",yE,Yg,_E=!1;function XD(){const i=[];if(YE()&&i.push("This is a browser extension environment."),Lx()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Cn.create("invalid-analytics-context",{errorInfo:e});ln.warn(n.message)}}function ZD(i,e,n){XD();const s=i.options.appId;if(!s)throw Cn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Cn.create("no-api-key");if(Do[s]!=null)throw Cn.create("already-exists",{id:s});if(!_E){kD(op);const{wrappedGtag:u,gtagCore:h}=MD(Do,pE,gE,op,WD);Yg=u,yE=h,_E=!0}return Do[s]=$D(i,pE,gE,e,yE,op,n),new YD(i)}function JD(i=$p()){i=mt(i);const e=ya(i,af);return e.isInitialized()?e.getImmediate():e8(i)}function e8(i,e={}){const n=ya(i,af);if(n.isInitialized()){const o=n.getImmediate();if(ds(e,n.getOptions()))return o;throw Cn.create("already-initialized")}return n.initialize({options:e})}function t8(i,e,n){i=mt(i),KD(Yg,Do[i.app.options.appId],e,n).catch(s=>ln.error(s))}function n8(i,e,n,s){i=mt(i),GD(Yg,Do[i.app.options.appId],e,n,s).catch(o=>ln.error(o))}const vE="@firebase/analytics",EE="0.10.19";function i8(){Hi(new hi(af,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return ZD(s,o,n)},"PUBLIC")),Hi(new hi("analytics-internal",i,"PRIVATE")),Kn(vE,EE),Kn(vE,EE,"esm2020");function i(e){try{const n=e.getProvider(af).getImmediate();return{logEvent:(s,o,u)=>n8(n,s,o,u),setUserProperties:(s,o)=>t8(n,s,o)}}catch(n){throw Cn.create("interop-component-reg-failed",{reason:n})}}}i8();const r8={apiKey:"AIzaSyA1AWyQt-mKcZTGJ1MaPrf4IoRxxCpRl8w",authDomain:"brewsy-6e24c.firebaseapp.com",projectId:"brewsy-6e24c",storageBucket:"brewsy-6e24c.firebasestorage.app",messagingSenderId:"965602953101",appId:"1:965602953101:web:50f84823c3a2db81da5fc4",measurementId:"G-9T8DY7JG9C"},Wg=tT(r8),Xg=fk(Wg),Zt=b6(Wg);JD(Wg);const s8=async(i,e)=>{try{return{user:(await XI(Xg,i,e)).user,error:null}}catch(n){return{user:null,error:n}}},a8=async()=>{try{return await tC(Xg),{error:null}}catch(i){return{error:i}}},o8=i=>eC(Xg,i),P2=P.createContext({user:null,loading:!0}),ba=()=>{const i=P.useContext(P2);if(!i)throw new Error("useAuth must be used within AuthProvider");return i},l8=({children:i})=>{const[e,n]=P.useState(null),[s,o]=P.useState(!0);return P.useEffect(()=>o8(h=>{n(h),o(!1)}),[]),T.jsx(P2.Provider,{value:{user:e,loading:s},children:i})},u8=()=>{const[i,e]=P.useState(""),[n,s]=P.useState(""),[o,u]=P.useState(null),[h,m]=P.useState(!1),g=async p=>{p.preventDefault(),u(null),m(!0);const{error:E}=await s8(i,n);E&&(u("Email ou mot de passe incorrect"),m(!1))};return T.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-card rounded-soft-lg shadow-soft-lg p-8 max-w-md w-full border border-border",children:[T.jsx("h1",{className:"text-3xl font-bold text-peach mb-2 text-center",children:"Cozy Production"}),T.jsx("p",{className:"text-text-secondary text-center mb-6",children:"Connexion"}),T.jsxs("form",{onSubmit:g,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-secondary mb-1",children:"Email"}),T.jsx("input",{id:"email",type:"email",value:i,onChange:p=>e(p.target.value),required:!0,className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all",placeholder:"votre@email.com"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-secondary mb-1",children:"Mot de passe"}),T.jsx("input",{id:"password",type:"password",value:n,onChange:p=>s(p.target.value),required:!0,className:"w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all",placeholder:""})]}),o&&T.jsx("div",{className:"bg-peach-light text-peach-dark px-4 py-2 rounded-soft text-sm border border-peach/30",children:o}),T.jsx("button",{type:"submit",disabled:h,className:"w-full bg-linear-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark disabled:from-text-muted disabled:to-text-muted text-white font-semibold py-3 px-6 rounded-soft shadow-soft hover:shadow-soft-lg transition-all duration-200",children:h?"Connexion...":"Se connecter"})]})]})})},c8=async()=>{const i=$n(Zt,"configs","default"),e=await Mf(i);return e.exists()?e.data():null},jf=async()=>{const i=ws(Zt,"configs","default","transformations");return(await V6(i)).docs.map(n=>({id:n.id,...n.data()}))},j2=(i,e)=>{const n=ws(Zt,"users",i,"stocks");return Lf(n,s=>{const o=s.docs.map(u=>({...u.data()}));e(o)})},lp=async(i,e,n,s)=>{const o=$n(Zt,"users",i,"stocks",e);await da(o,{crateId:e,label:s,quantity:n,updatedAt:Ta()})},Zg=(i,e)=>{const n=ws(Zt,"users",i,"prices");return Lf(n,s=>{const o=s.docs.map(u=>({...u.data()}));e(o)})},h8=async(i,e,n)=>{const s=$n(Zt,"users",i,"prices",e),o=await Mf(s),u=o.exists()?o.data().values:[];await da(s,{crateId:e,values:[...u,n],updatedAt:Ta()})},f8=async(i,e,n)=>{const s=$n(Zt,"users",i,"prices",e),o=await Mf(s);if(!o.exists())return;const h=o.data().values.filter((m,g)=>g!==n);h.length===0?await m2(s):await qg(s,{values:h,updatedAt:Ta()})},U2=(i,e)=>{const n=ws(Zt,"users",i,"runs"),s=h2(n,f2("startedAt","desc"));return Lf(s,o=>{const u=o.docs.map(h=>({id:h.id,...h.data()}));e(u)})},d8=async(i,e,n,s)=>{const o=ws(Zt,"users",i,"runs"),u=et.now(),h=et.fromMillis(u.toMillis()+s*60*60*1e3),m={transformationId:e,inputQuantityUsed:n,startedAt:u,durationHours:s,reducedByAction:!1,endsAt:h,status:"RUNNING",createdAt:Ta()};return await da($n(o),m)},m8=async(i,e,n)=>{const s=$n(Zt,"users",i,"runs",e);await qg(s,{status:n})},p8=async(i,e,n=1)=>{const s=$n(Zt,"users",i,"runs",e),o=await Mf(s);if(!o.exists())return;const u=o.data();if(u.reducedByAction)return;const h=et.fromMillis(u.endsAt.toMillis()-n*60*60*1e3);await qg(s,{reducedByAction:!0,endsAt:h})},g8=async(i,e)=>{const n=$n(Zt,"users",i,"runs",e);await m2(n)},z2=(i,e)=>{const n=ws(Zt,"users",i,"history"),s=h2(n,f2("createdAt","desc"));return Lf(s,o=>{const u=o.docs.map(h=>({id:h.id,...h.data()}));e(u)})},y8=async(i,e,n,s,o)=>{const u=ws(Zt,"users",i,"history"),h={type:"TRANSFORMATION",transformationId:e,startedAt:n,endsAt:s,reducedByAction:o,createdAt:Ta()};await da($n(u),h)},_8=async(i,e,n,s,o,u,h)=>{const m=ws(Zt,"users",i,"history"),g={type:"SALE",crateId:e,crateLabel:n,quantitySold:s,estimatedValue:o,actualValue:u,createdAt:Ta()};await da($n(m),g)},v8=(i,e)=>i.input.quantity*e,E8=i=>i,T8=(i,e)=>i.tool.price*e,Uf=i=>{if(i.length===0)return 0;const e=i.reduce((n,s)=>n+s,0);return Math.round(e/i.length)},Pp=(i,e)=>i*e,b8=(i,e)=>{const n=new Map(e.map(s=>[s.crateId,Uf(s.values)]));return i.reduce((s,o)=>{const u=n.get(o.crateId)||0;return s+Pp(o.quantity,u)},0)},of=i=>new Date>=i,B2=i=>Math.max(0,i.getTime()-Date.now()),q2=i=>{const e=Math.floor(i/36e5),n=Math.floor(i%(1e3*60*60)/(1e3*60));return e>0?`${e}h ${n}m`:`${n}m`},Et=({children:i,className:e="",onClick:n})=>T.jsx("div",{className:`bg-card rounded-soft-lg shadow-soft border border-border card-hover ${e}`,onClick:n,children:i}),Tt=({children:i,className:e=""})=>T.jsx("div",{className:e,children:i}),lf=[{id:"crate_zeed",label:"Zeed",icon:""},{id:"crate_pandoxine",label:"Pandoxine",icon:""},{id:"crate_krakenine",label:"Krakenine",icon:""},{id:"crate_psylocybine",label:"Psylocybine",icon:""}],A8=()=>{const{user:i}=ba(),[e,n]=P.useState([]),[s,o]=P.useState([]),[u,h]=P.useState([]),[m,g]=P.useState([]),[p,E]=P.useState([]),b=qp(),[,R]=P.useState(0);P.useEffect(()=>{if(!i)return;const x=j2(i.uid,n),C=Zg(i.uid,o),O=U2(i.uid,h),D=z2(i.uid,E);return()=>{x(),C(),O(),D()}},[i]),P.useEffect(()=>{(async()=>{const C=await jf();g(C)})()},[]),P.useEffect(()=>{const x=setInterval(()=>{R(Date.now())},1e3);return()=>clearInterval(x)},[]);const L=b8(e,s),F=u.filter(x=>x.status==="RUNNING"),Q=u.filter(x=>x.status==="DONE"?!1:of(x.endsAt.toDate())),$=new Map(s.map(x=>[x.crateId,Uf(x.values)])),ie=x=>e.find(C=>C.crateId===x),ne=x=>m.find(C=>C.id===x.transformationId),se=u.filter(x=>x.status==="RUNNING"&&!of(x.endsAt.toDate())),re=new Date;re.setDate(re.getDate()-7);const me=p.filter(x=>{if(x.type!=="SALE")return!1;const C=x.createdAt?.toDate();return C&&C>=re}),fe=me.reduce((x,C)=>C.type!=="SALE"?x:x+C.actualValue,0),S=me.reduce((x,C)=>C.type!=="SALE"?x:x+C.quantitySold,0);return T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-bold text-text",children:"Dashboard"}),T.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[T.jsxs("div",{className:"flex items-center gap-1.5",children:[T.jsx("span",{className:"text-text-muted",children:"Valeur:"}),T.jsxs("span",{className:"font-bold text-peach",children:[L.toLocaleString()," $"]})]}),T.jsx("div",{className:"w-px h-4 bg-border"}),T.jsxs("div",{className:"flex items-center gap-1.5",children:[T.jsx("span",{className:"text-text-muted",children:"Actives:"}),T.jsx("span",{className:"font-semibold text-lavender",children:F.length})]}),T.jsxs("div",{className:"flex items-center gap-1.5",children:[T.jsx("span",{className:"text-text-muted",children:"Prtes:"}),T.jsx("span",{className:"font-semibold text-sage",children:Q.length})]})]})]}),Q.length>0&&T.jsx("div",{className:"bg-sage-light border border-sage rounded-soft px-3 py-2 cursor-pointer hover:bg-sage/30 transition-colors",onClick:()=>b("/timers"),children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-lg",children:""}),T.jsxs("span",{className:"text-sm font-semibold text-sage-dark",children:[Q.length," transformation",Q.length>1?"s":""," prte",Q.length>1?"s":"","  rcolter"]})]})}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[T.jsx(Et,{className:"md:col-span-2",children:T.jsxs(Tt,{className:"p-3",children:[T.jsx("h2",{className:"text-sm font-semibold text-text mb-2",children:"Stocks"}),T.jsx("div",{className:"space-y-1.5",children:lf.map(x=>{const O=ie(x.id)?.quantity||0,D=$.get(x.id)||0,U=O*D;return T.jsxs("div",{className:"flex items-center justify-between py-2 px-2 rounded hover:bg-surface transition-colors",children:[T.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[T.jsx("span",{className:"text-xl",children:x.icon}),T.jsxs("div",{children:[T.jsx("div",{className:"text-sm font-semibold text-text",children:x.label}),T.jsxs("div",{className:"text-xs text-text-muted",children:[O," ",O>1?"caisses":"caisse"]})]})]}),T.jsx("div",{className:"text-right",children:D>0?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"text-base font-bold text-peach",children:[U.toLocaleString()," $"]}),T.jsxs("div",{className:"text-xs text-text-muted",children:[D.toLocaleString()," $ / u"]})]}):T.jsx("div",{className:"text-xs text-text-muted",children:"Prix non dfini"})})]},x.id)})})]})}),T.jsx(Et,{children:T.jsxs(Tt,{className:"p-3",children:[T.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T.jsx("h2",{className:"text-sm font-semibold text-text",children:"7 derniers jours"}),T.jsx("button",{onClick:()=>b("/history"),className:"text-xs text-peach hover:text-peach-dark transition-colors",children:"Historique "})]}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"p-3 bg-peach-light rounded-soft border border-peach/30",children:[T.jsx("div",{className:"text-xs text-text-muted mb-1",children:"Revenus"}),T.jsxs("div",{className:"text-xl font-bold text-peach",children:[fe.toLocaleString()," $"]})]}),T.jsxs("div",{className:"p-3 bg-lavender-light rounded-soft border border-lavender/30",children:[T.jsx("div",{className:"text-xs text-text-muted mb-1",children:"Ventes"}),T.jsxs("div",{className:"flex items-baseline gap-2",children:[T.jsx("div",{className:"text-xl font-bold text-lavender-dark",children:me.length}),T.jsxs("div",{className:"text-sm text-text-muted",children:["vente",me.length>1?"s":""]})]}),T.jsxs("div",{className:"text-xs text-text-muted mt-1",children:[S," caisse",S>1?"s":""]})]})]})]})})]}),se.length>0&&T.jsx(Et,{children:T.jsxs(Tt,{className:"p-3",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsx("h2",{className:"text-sm font-semibold text-text",children:"En cours"}),T.jsx("button",{onClick:()=>b("/timers"),className:"text-xs text-lavender hover:text-lavender-dark transition-colors",children:"Voir tout "})]}),T.jsx("div",{className:"space-y-2",children:se.slice(0,3).map(x=>{const C=ne(x),O=B2(x.endsAt.toDate()),D=x.durationHours*60*60*1e3,U=Math.max(0,Math.min(100,(D-O)/D*100));return T.jsxs("div",{className:"bg-surface rounded-soft p-2",children:[T.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-sm font-medium text-text",children:C?.name}),x.reducedByAction&&T.jsx("span",{className:"text-xs",children:""})]}),T.jsx("span",{className:"text-xs font-semibold text-lavender",children:q2(O)})]}),T.jsx("div",{className:"w-full bg-border rounded-full h-1.5 overflow-hidden",children:T.jsx("div",{className:"h-full bg-linear-to-r from-lavender to-peach transition-all duration-1000",style:{width:`${U}%`}})})]},x.id)})})]})})]})};var S8=P.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),xs=function(e,n,s){var o=s.get(e);return o?o(n):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function TE(i,e){if(i==null)return{};var n={},s=Object.keys(i),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var br=P.forwardRef(function(i,e){var n=i.alt,s=i.color,o=i.size,u=i.weight,h=i.mirrored,m=i.children,g=i.renderPath,p=TE(i,["alt","color","size","weight","mirrored","children","renderPath"]),E=P.useContext(S8),b=E.color,R=b===void 0?"currentColor":b,L=E.size,F=E.weight,Q=F===void 0?"regular":F,$=E.mirrored,ie=$===void 0?!1:$,ne=TE(E,["color","size","weight","mirrored"]);return I.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o??L,height:o??L,fill:s??R,viewBox:"0 0 256 256",transform:h||ie?"scale(-1, 1)":void 0},ne,p),!!n&&I.createElement("title",null,n),m,I.createElement("rect",{width:"256",height:"256",fill:"none"}),g(u??Q,s??R))});br.displayName="IconBase";var Aa=new Map;Aa.set("bold",function(i){return I.createElement(I.Fragment,null,I.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),I.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Aa.set("duotone",function(i){return I.createElement(I.Fragment,null,I.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44Z",opacity:"0.2"}),I.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Aa.set("fill",function(){return I.createElement(I.Fragment,null,I.createElement("path",{d:"M224,216a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H88V140H84A68.1,68.1,0,0,1,16,72a28,28,0,0,1,56,0A12,12,0,0,0,84,84h4V56a40,40,0,0,1,80,0v68h4a12,12,0,0,0,12-12,28,28,0,0,1,56,0,68.1,68.1,0,0,1-68,68h-4v28h48A8,8,0,0,1,224,216Z"}))});Aa.set("light",function(i){return I.createElement(I.Fragment,null,I.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),I.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Aa.set("thin",function(i){return I.createElement(I.Fragment,null,I.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),I.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Aa.set("regular",function(i){return I.createElement(I.Fragment,null,I.createElement("line",{x1:"40",y1:"216",x2:"216",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("path",{d:"M96,216V132H84A60,60,0,0,1,24,72h0A20.1,20.1,0,0,1,44,52h0A20.1,20.1,0,0,1,64,72h0A20.1,20.1,0,0,0,84,92H96V56a32,32,0,0,1,32-32h0a32,32,0,0,1,32,32v76h12a20.1,20.1,0,0,0,20-20h0a20.1,20.1,0,0,1,20-20h0a20.1,20.1,0,0,1,20,20h0a60,60,0,0,1-60,60H160v44",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var w8=function(e,n){return xs(e,n,Aa)},H2=P.forwardRef(function(i,e){return I.createElement(br,Object.assign({ref:e},i,{renderPath:w8}))});H2.displayName="Cactus";var Sa=new Map;Sa.set("bold",function(i){return I.createElement(I.Fragment,null,I.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),I.createElement("line",{x1:"92",y1:"76",x2:"164",y2:"76",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),I.createElement("circle",{cx:"104",cy:"128",r:"16"}),I.createElement("circle",{cx:"152",cy:"128",r:"16"}),I.createElement("circle",{cx:"104",cy:"176",r:"16"}),I.createElement("circle",{cx:"152",cy:"176",r:"16"}))});Sa.set("duotone",function(i){return I.createElement(I.Fragment,null,I.createElement("rect",{x:"80",y:"64",width:"96",height:"48",opacity:"0.2"}),I.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256 0) rotate(90)",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("circle",{cx:"88",cy:"148",r:"12"}),I.createElement("circle",{cx:"128",cy:"148",r:"12"}),I.createElement("circle",{cx:"168",cy:"148",r:"12"}),I.createElement("circle",{cx:"88",cy:"188",r:"12"}),I.createElement("circle",{cx:"128",cy:"188",r:"12"}),I.createElement("circle",{cx:"168",cy:"188",r:"12"}))});Sa.set("fill",function(){return I.createElement(I.Fragment,null,I.createElement("path",{d:"M200,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24ZM88,200a12,12,0,1,1,12-12A12,12,0,0,1,88,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,88,160Zm40,40a12,12,0,1,1,12-12A12,12,0,0,1,128,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,128,160Zm40,40a12,12,0,1,1,12-12A12,12,0,0,1,168,200Zm0-40a12,12,0,1,1,12-12A12,12,0,0,1,168,160Zm16-56a8,8,0,0,1-8,8H80a8,8,0,0,1-8-8V64a8,8,0,0,1,8-8h96a8,8,0,0,1,8,8Z"}))});Sa.set("light",function(i){return I.createElement(I.Fragment,null,I.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),I.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),I.createElement("circle",{cx:"88",cy:"148",r:"10"}),I.createElement("circle",{cx:"128",cy:"148",r:"10"}),I.createElement("circle",{cx:"168",cy:"148",r:"10"}),I.createElement("circle",{cx:"88",cy:"188",r:"10"}),I.createElement("circle",{cx:"128",cy:"188",r:"10"}),I.createElement("circle",{cx:"168",cy:"188",r:"10"}))});Sa.set("thin",function(i){return I.createElement(I.Fragment,null,I.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),I.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),I.createElement("circle",{cx:"88",cy:"148",r:"8"}),I.createElement("circle",{cx:"128",cy:"148",r:"8"}),I.createElement("circle",{cx:"168",cy:"148",r:"8"}),I.createElement("circle",{cx:"88",cy:"188",r:"8"}),I.createElement("circle",{cx:"128",cy:"188",r:"8"}),I.createElement("circle",{cx:"168",cy:"188",r:"8"}))});Sa.set("regular",function(i){return I.createElement(I.Fragment,null,I.createElement("rect",{x:"80",y:"64",width:"96",height:"48",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",transform:"translate(256) rotate(90)",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("circle",{cx:"88",cy:"148",r:"12"}),I.createElement("circle",{cx:"128",cy:"148",r:"12"}),I.createElement("circle",{cx:"168",cy:"148",r:"12"}),I.createElement("circle",{cx:"88",cy:"188",r:"12"}),I.createElement("circle",{cx:"128",cy:"188",r:"12"}),I.createElement("circle",{cx:"168",cy:"188",r:"12"}))});var x8=function(e,n){return xs(e,n,Sa)},F2=P.forwardRef(function(i,e){return I.createElement(br,Object.assign({ref:e},i,{renderPath:x8}))});F2.displayName="Calculator";var wa=new Map;wa.set("bold",function(i){return I.createElement(I.Fragment,null,I.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),I.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),I.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),I.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});wa.set("duotone",function(i){return I.createElement(I.Fragment,null,I.createElement("rect",{x:"156",y:"40",width:"56",height:"168",opacity:"0.2"}),I.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});wa.set("fill",function(){return I.createElement(I.Fragment,null,I.createElement("path",{d:"M228,200h-8V40a8,8,0,0,0-8-8H156a8,8,0,0,0-8,8V80H100a8,8,0,0,0-8,8v40H44a8,8,0,0,0-8,8v64H28a8,8,0,0,0,0,16H228a8,8,0,0,0,0-16ZM108,96h40V200H108ZM52,144H92v56H52Z"}))});wa.set("light",function(i){return I.createElement(I.Fragment,null,I.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),I.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),I.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),I.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});wa.set("thin",function(i){return I.createElement(I.Fragment,null,I.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),I.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),I.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),I.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});wa.set("regular",function(i){return I.createElement(I.Fragment,null,I.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var R8=function(e,n){return xs(e,n,wa)},G2=P.forwardRef(function(i,e){return I.createElement(br,Object.assign({ref:e},i,{renderPath:R8}))});G2.displayName="ChartBar";var xa=new Map;xa.set("bold",function(i){return I.createElement(I.Fragment,null,I.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),I.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),I.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),I.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});xa.set("duotone",function(i){return I.createElement(I.Fragment,null,I.createElement("circle",{cx:"128",cy:"128",r:"88",opacity:"0.2"}),I.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});xa.set("fill",function(){return I.createElement(I.Fragment,null,I.createElement("path",{d:"M136,80v43.4l37.6,21.7a8,8,0,0,1-4,14.9,7.1,7.1,0,0,1-4-1.1l-41.6-24h-.2l-.4-.2-.3-.3-.3-.2-.3-.3-.2-.2c-.2-.1-.3-.3-.4-.4l-.2-.2-.2-.4-.2-.3-.2-.3a.5.5,0,0,1-.2-.4l-.2-.3c0-.1-.1-.2-.1-.4a.4.4,0,0,1-.1-.3l-.2-.4a.4.4,0,0,0-.1-.3c0-.2,0-.3-.1-.4v-.4c0-.2-.1-.3-.1-.4V80a8,8,0,0,1,16,0Zm59.9-19.9a96.2,96.2,0,0,0-135.8,0l-8.3,8.3L37.5,54.1a8,8,0,0,0-8.7-1.8,8.2,8.2,0,0,0-5,7.4v40a8,8,0,0,0,8,8h40a8,8,0,0,0,5.7-13.6L63.1,79.7l8.3-8.3a80,80,0,1,1,0,113.2,7.9,7.9,0,0,0-11.3,0,8,8,0,0,0,0,11.3A96,96,0,0,0,195.9,60.1Z"}))});xa.set("light",function(i){return I.createElement(I.Fragment,null,I.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),I.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),I.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),I.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});xa.set("thin",function(i){return I.createElement(I.Fragment,null,I.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),I.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),I.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),I.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});xa.set("regular",function(i){return I.createElement(I.Fragment,null,I.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var I8=function(e,n){return xs(e,n,xa)},K2=P.forwardRef(function(i,e){return I.createElement(br,Object.assign({ref:e},i,{renderPath:I8}))});K2.displayName="ClockCounterClockwise";var Ra=new Map;Ra.set("bold",function(i){return I.createElement(I.Fragment,null,I.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),I.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ra.set("duotone",function(i){return I.createElement(I.Fragment,null,I.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ra.set("fill",function(){return I.createElement(I.Fragment,null,I.createElement("path",{d:"M152,120H136V56h8a32.1,32.1,0,0,1,32,32,8,8,0,0,0,16,0,48,48,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40H108a48,48,0,0,0,0,96h12v64H104a32.1,32.1,0,0,1-32-32,8,8,0,0,0-16,0,48,48,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-32,0H108a32,32,0,0,1,0-64h12Zm32,80H136V136h16a32,32,0,0,1,0,64Z"}))});Ra.set("light",function(i){return I.createElement(I.Fragment,null,I.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),I.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ra.set("thin",function(i){return I.createElement(I.Fragment,null,I.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),I.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ra.set("regular",function(i){return I.createElement(I.Fragment,null,I.createElement("line",{x1:"128",y1:"24",x2:"128",y2:"232",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("path",{d:"M184,88a40,40,0,0,0-40-40H108a40,40,0,0,0,0,80h44a40,40,0,0,1,0,80H104a40,40,0,0,1-40-40",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var C8=function(e,n){return xs(e,n,Ra)},Q2=P.forwardRef(function(i,e){return I.createElement(br,Object.assign({ref:e},i,{renderPath:C8}))});Q2.displayName="CurrencyDollar";var Ia=new Map;Ia.set("bold",function(i){return I.createElement(I.Fragment,null,I.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),I.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),I.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),I.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ia.set("duotone",function(i){return I.createElement(I.Fragment,null,I.createElement("path",{d:"M33.1,74.6A8.1,8.1,0,0,0,32,78.7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.6,7.6,0,0,0,3.9,1h0l.9-106.8L33.1,74.6Z",opacity:"0.2"}),I.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ia.set("fill",function(){return I.createElement(I.Fragment,null,I.createElement("path",{d:"M229.9,70.8h0a.1.1,0,0,1-.1-.1,16.2,16.2,0,0,0-6-5.9l-88-49.5a16,16,0,0,0-15.6,0l-88,49.5a16.2,16.2,0,0,0-6,5.9.1.1,0,0,1-.1.1v.2A15,15,0,0,0,24,78.7v98.6a16.1,16.1,0,0,0,8.2,14l88,49.5a16.5,16.5,0,0,0,7.2,2h1.4a15.7,15.7,0,0,0,7-2l88-49.5a16.1,16.1,0,0,0,8.2-14V78.7A15.6,15.6,0,0,0,229.9,70.8ZM128,29.2,207.7,74,177.1,91.4,96.4,46.9Zm.9,89.6L48.4,74,80,56.2l80.8,44.5Zm7.2,103.5.8-89.6L169,114.4v38.1a8,8,0,0,0,16,0V105.3l31-17.6v89.6Z"}))});Ia.set("light",function(i){return I.createElement(I.Fragment,null,I.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),I.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),I.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),I.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ia.set("thin",function(i){return I.createElement(I.Fragment,null,I.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),I.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),I.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),I.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ia.set("regular",function(i){return I.createElement(I.Fragment,null,I.createElement("path",{d:"M224,177.3V78.7a8.1,8.1,0,0,0-4.1-7l-88-49.5a7.8,7.8,0,0,0-7.8,0l-88,49.5a8.1,8.1,0,0,0-4.1,7v98.6a8.1,8.1,0,0,0,4.1,7l88,49.5a7.8,7.8,0,0,0,7.8,0l88-49.5A8.1,8.1,0,0,0,224,177.3Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("polyline",{points:"177 152.5 177 100.5 80 47",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("polyline",{points:"222.9 74.6 128.9 128 33.1 74.6",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("line",{x1:"128.9",y1:"128",x2:"128",y2:"234.8",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var k8=function(e,n){return xs(e,n,Ia)},$2=P.forwardRef(function(i,e){return I.createElement(br,Object.assign({ref:e},i,{renderPath:k8}))});$2.displayName="Package";var Ca=new Map;Ca.set("bold",function(i){return I.createElement(I.Fragment,null,I.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),I.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),I.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ca.set("duotone",function(i){return I.createElement(I.Fragment,null,I.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ca.set("fill",function(){return I.createElement(I.Fragment,null,I.createElement("path",{d:"M221.7,133.7l-42,42A8.3,8.3,0,0,1,174,178a7.7,7.7,0,0,1-3-.6,8,8,0,0,1-5-7.4V136H104a8,8,0,0,1,0-16h62V86a8,8,0,0,1,5-7.4,8.2,8.2,0,0,1,8.7,1.7l42,42A8.1,8.1,0,0,1,221.7,133.7ZM104,208H48V48h56a8,8,0,0,0,0-16H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16h56a8,8,0,0,0,0-16Z"}))});Ca.set("light",function(i){return I.createElement(I.Fragment,null,I.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),I.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),I.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ca.set("thin",function(i){return I.createElement(I.Fragment,null,I.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),I.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),I.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ca.set("regular",function(i){return I.createElement(I.Fragment,null,I.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var N8=function(e,n){return xs(e,n,Ca)},Y2=P.forwardRef(function(i,e){return I.createElement(br,Object.assign({ref:e},i,{renderPath:N8}))});Y2.displayName="SignOut";var ka=new Map;ka.set("bold",function(i){return I.createElement(I.Fragment,null,I.createElement("circle",{cx:"128",cy:"140",r:"88",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),I.createElement("line",{x1:"128",y1:"140",x2:"161.9",y2:"106.1",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),I.createElement("line",{x1:"104",y1:"12",x2:"152",y2:"12",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});ka.set("duotone",function(i){return I.createElement(I.Fragment,null,I.createElement("circle",{cx:"128",cy:"128",r:"88",opacity:"0.2"}),I.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:i,strokeMiterlimit:"10",strokeWidth:"16"}),I.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});ka.set("fill",function(){return I.createElement(I.Fragment,null,I.createElement("path",{d:"M104,16h48a8,8,0,0,0,0-16H104a8,8,0,0,0,0,16Z"}),I.createElement("path",{d:"M128,32a96,96,0,1,0,96,96A96.2,96.2,0,0,0,128,32Zm45.3,62.1-39.6,39.6a8.2,8.2,0,0,1-11.4,0,8.1,8.1,0,0,1,0-11.4l39.6-39.6a8.1,8.1,0,1,1,11.4,11.4Z"}))});ka.set("light",function(i){return I.createElement(I.Fragment,null,I.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),I.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),I.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});ka.set("thin",function(i){return I.createElement(I.Fragment,null,I.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),I.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),I.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});ka.set("regular",function(i){return I.createElement(I.Fragment,null,I.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:i,strokeMiterlimit:"10",strokeWidth:"16"}),I.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),I.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var D8=function(e,n){return xs(e,n,ka)},W2=P.forwardRef(function(i,e){return I.createElement(br,Object.assign({ref:e},i,{renderPath:D8}))});W2.displayName="Timer";const O8=({children:i})=>{const e=Tr(),n=async()=>{await a8()},s=[{path:"/",label:"Dashboard",Icon:G2},{path:"/stocks",label:"Stocks",Icon:$2},{path:"/prices",label:"Prix",Icon:Q2},{path:"/calculator",label:"Calculateur",Icon:F2},{path:"/timers",label:"Transformations",Icon:W2},{path:"/history",label:"Historique",Icon:K2}],o=u=>e.pathname===u;return T.jsxs("div",{className:"min-h-screen flex flex-col",children:[T.jsx("header",{className:"bg-card sticky top-0 z-10 border-b border-border shadow-soft",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[T.jsxs("h1",{className:"text-2xl font-bold text-peach flex gap-2 items-center",children:["              ",T.jsx(H2,{size:24,weight:"duotone"}),"Brewsy "]}),T.jsx("div",{className:"flex items-center gap-3",children:T.jsx("button",{onClick:n,className:"p-2 rounded-soft hover:bg-surface transition-colors text-text-secondary",title:"Dconnexion",children:T.jsx(Y2,{size:24,weight:"duotone"})})})]})}),T.jsxs("div",{className:"flex-1 flex",children:[T.jsx("nav",{className:"w-64 glass-strong p-4 hidden md:block border-r border-border shadow-glass",children:T.jsx("ul",{className:"space-y-2",children:s.map(u=>T.jsx("li",{children:T.jsxs(jh,{to:u.path,className:`flex items-center gap-3 px-4 py-3 rounded-soft transition-colors ${o(u.path)?"bg-sky text-peach-dark font-semibold shadow-glass":"text-text-muted hover:glass"}`,children:[T.jsx(u.Icon,{size:24,weight:o(u.path)?"fill":"duotone"}),T.jsx("span",{children:u.label})]})},u.path))})}),T.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-y-auto",children:T.jsx("div",{className:"max-w-7xl mx-auto",children:i})})]}),T.jsx("nav",{className:"md:hidden glass-strong sticky bottom-0 border-t border-border shadow-glass",children:T.jsx("ul",{className:"flex justify-around py-2",children:s.map(u=>T.jsx("li",{children:T.jsxs(jh,{to:u.path,className:`flex flex-col items-center gap-1 px-3 py-2 rounded-soft transition-colors ${o(u.path)?"text-sky font-semibold":"text-text-muted"}`,children:[T.jsx(u.Icon,{size:24,weight:o(u.path)?"fill":"duotone"}),T.jsx("span",{className:"text-xs",children:u.label})]})},u.path))})})]})},Fn=({children:i,variant:e="primary",size:n="md",className:s="",...o})=>{const u="font-semibold rounded-soft transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",h={primary:"bg-gradient-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark text-white shadow-soft",secondary:"bg-surface hover:bg-surface-hover text-text border border-border",outline:"border-2 border-peach text-peach hover:bg-peach-light",danger:"bg-peach hover:bg-peach-dark text-white shadow-soft"},m={sm:"py-1.5 px-3 text-sm",md:"py-2 px-4",lg:"py-3 px-6 text-lg"};return T.jsx("button",{className:`${u} ${h[e]} ${m[n]} ${s}`,...o,children:i})},M8=()=>{const{user:i}=ba(),[e,n]=P.useState([]),[s,o]=P.useState([]),[u,h]=P.useState(null),[m,g]=P.useState("1"),[p,E]=P.useState("0"),[b,R]=P.useState({});P.useEffect(()=>{if(!i)return;const re=j2(i.uid,n),me=Zg(i.uid,o);return()=>{re(),me()}},[i]);const L=re=>e.find(me=>me.crateId===re),F=async(re,me,fe)=>{if(!i)return;const S=L(re),x=Math.max(0,(S?.quantity||0)+fe);await lp(i.uid,re,x,me)},Q=async(re,me,fe)=>{i&&await lp(i.uid,re,Math.max(0,fe),me)},$=re=>{const fe=L(re)?.quantity||0;h(re),g(String(fe));const S=ne.get(re)||0;E(String(S*fe))},ie=async(re,me)=>{const fe=parseInt(m)||0,S=parseInt(p)||0;if(!i||fe<=0||S<0)return;const x=L(re);if(!x||x.quantity<fe){alert("Stock insuffisant");return}const O=(ne.get(re)||0)*fe;try{await _8(i.uid,re,me,fe,O,S,void 0),await lp(i.uid,re,x.quantity-fe,me),h(null),g("1"),E("0")}catch(D){console.error("Erreur lors de la vente:",D),alert("Erreur lors de l'enregistrement de la vente")}},ne=new Map(s.map(re=>[re.crateId,Uf(re.values)])),se=lf.reduce((re,me)=>{const fe=L(me.id),S=ne.get(me.id)||0;return re+Pp(fe?.quantity||0,S)},0);return T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Stocks"}),T.jsxs("div",{className:"text-right",children:[T.jsx("div",{className:"text-sm text-dark-600 dark:text-dark-400",children:"Valeur totale"}),T.jsxs("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:[se.toLocaleString()," $"]})]})]}),T.jsx("div",{className:"grid grid-cols-1 gap-3",children:lf.map(re=>{const fe=L(re.id)?.quantity||0,S=ne.get(re.id)||0,x=Pp(fe,S);return T.jsx(Et,{children:T.jsxs(Tt,{className:"p-4",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[T.jsx("span",{className:"text-3xl",children:re.icon}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-semibold text-dark-800 dark:text-dark-100",children:re.label}),S>0&&T.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[S.toLocaleString()," $ / caisse"]})]})]}),T.jsxs("div",{className:"flex items-center gap-1.5",children:[T.jsx("button",{onClick:()=>F(re.id,re.label,-10),className:"w-9 h-9 rounded-soft bg-peach-light hover:bg-peach transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"-10",children:"--"}),T.jsx("button",{onClick:()=>F(re.id,re.label,-1),className:"w-9 h-9 rounded-soft bg-lavender-light hover:bg-lavender transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"-1",children:"-"}),T.jsx("input",{type:"number",value:b[re.id]!==void 0?b[re.id]:fe,onChange:C=>{const O=C.target.value;R(D=>({...D,[re.id]:O}))},onBlur:()=>{const C=b[re.id];C!==void 0&&(Q(re.id,re.label,parseInt(C)||0),R(O=>{const D={...O};return delete D[re.id],D}))},onKeyDown:C=>{C.key==="Enter"&&C.currentTarget.blur()},className:"w-20 text-center px-3 py-2 rounded-soft border border-border bg-card text-text font-semibold shadow-sm focus:ring-2 focus:ring-peach/30 focus:border-peach outline-none transition-all"}),T.jsx("button",{onClick:()=>F(re.id,re.label,1),className:"w-9 h-9 rounded-soft bg-sage-light hover:bg-sage transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"+1",children:"+"}),T.jsx("button",{onClick:()=>F(re.id,re.label,10),className:"w-9 h-9 rounded-soft bg-butter-light hover:bg-butter transition-all text-text font-semibold shadow-sm hover:shadow-soft",title:"+10",children:"++"})]}),T.jsx("div",{className:"text-right min-w-[100px]",children:T.jsxs("div",{className:"text-lg font-bold text-peach-600 dark:text-peach-400",children:[x.toLocaleString()," $"]})}),T.jsx(Fn,{size:"sm",variant:"secondary",onClick:()=>$(re.id),disabled:fe===0,children:" Vendre"})]}),u===re.id&&T.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:T.jsxs("div",{className:"flex items-end gap-2",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Quantit"}),T.jsx("input",{type:"number",min:"1",max:fe,value:m,onChange:C=>{const O=C.target.value;g(O);const D=parseInt(O)||0;D>0&&E(String(S*D))},className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Prix total rcolt"}),T.jsx("input",{type:"number",min:"0",value:p,onChange:C=>E(C.target.value),className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]}),T.jsx(Fn,{size:"sm",variant:"secondary",onClick:()=>h(null),children:""}),T.jsx(Fn,{size:"sm",onClick:()=>ie(re.id,re.label),children:" Vendre"})]})})]})},re.id)})})]})},L8=()=>{const{user:i}=ba(),[e,n]=P.useState([]),[s,o]=P.useState({});P.useEffect(()=>i?Zg(i.uid,n):void 0,[i]);const u=p=>e.find(E=>E.crateId===p),h=async p=>{if(!i)return;const E=s[p],b=parseInt(E);!b||b<=0||(await h8(i.uid,p,b),o({...s,[p]:""}))},m=async(p,E)=>{i&&await f8(i.uid,p,E)},g=(p,E)=>{p.key==="Enter"&&h(E)};return T.jsxs("div",{className:"space-y-4",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Prix moyens"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:lf.map(p=>{const E=u(p.id),b=E?Uf(E.values):0,R=E?Math.min(...E.values):0,L=E?Math.max(...E.values):0,F=E?.values.length||0;return T.jsx(Et,{children:T.jsxs(Tt,{className:"p-4",children:[T.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-2xl",children:p.icon}),T.jsx("h3",{className:"font-semibold text-dark-800 dark:text-dark-100",children:p.label})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("div",{className:"text-xl font-bold text-peach-600 dark:text-peach-400",children:b>0?`${b.toLocaleString()} $`:""}),T.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[F," prix"]})]})]}),F>0&&T.jsxs("div",{className:"flex gap-4 text-xs mb-3 py-2 px-3 bg-butter-50 dark:bg-dark-700 rounded",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-dark-500 dark:text-dark-500",children:"Min:"}),T.jsxs("span",{className:"ml-1 font-semibold text-sage-600 dark:text-sage-400",children:[R.toLocaleString()," $"]})]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-dark-500 dark:text-dark-500",children:"Max:"}),T.jsxs("span",{className:"ml-1 font-semibold text-lavender-600 dark:text-lavender-400",children:[L.toLocaleString()," $"]})]})]}),T.jsxs("div",{className:"flex gap-2 mb-3",children:[T.jsx("input",{type:"number",placeholder:"Nouveau prix",value:s[p.id]||"",onChange:Q=>o({...s,[p.id]:Q.target.value}),onKeyPress:Q=>g(Q,p.id),className:"flex-1 px-3 py-1.5 text-sm rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"}),T.jsx("button",{onClick:()=>h(p.id),className:"px-4 py-1.5 text-sm font-semibold rounded-soft bg-linear-to-r from-peach to-lavender hover:from-peach-dark hover:to-lavender-dark text-white transition-all shadow-sm hover:shadow-soft",children:"+"})]}),E&&E.values.length>0&&T.jsxs("div",{className:"space-y-1",children:[E.values.slice(0,3).map((Q,$)=>T.jsxs("div",{className:"flex items-center justify-between py-1 px-2 text-sm   rounded border border-peach/20 bg-peach/20 dark:border-dark-600",children:[T.jsxs("span",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[Q.toLocaleString()," $"]}),T.jsx("button",{onClick:()=>m(p.id,$),className:"text-xs px-2 py-0.5 rounded 0 text-dark  dark:hover:bg-red-900/50 transition-colors",children:""})]},$)),E.values.length>3&&T.jsxs("div",{className:"text-xs text-center text-dark-500 dark:text-dark-500 py-1",children:["+",E.values.length-3," autre(s)"]})]})]})},p.id)})})]})},X2=({label:i,children:e,className:n="",...s})=>T.jsxs("div",{className:"w-full",children:[i&&T.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:i}),T.jsx("select",{className:`w-full px-4 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all ${n}`,...s,children:e})]}),Z2=P.forwardRef(({label:i,error:e,className:n="",...s},o)=>T.jsxs("div",{className:"w-full",children:[i&&T.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-200 mb-1",children:i}),T.jsx("input",{ref:o,className:`w-full px-4 py-2 rounded-input border ${e?"border-peach-dark focus:ring-peach-dark":"border-border focus:ring-peach/30"} bg-card text-text focus:outline-none focus:ring-2 focus:border-peach shadow-sm transition-all ${n}`,...s}),e&&T.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:e})]}));Z2.displayName="Input";const V8=()=>{const[i,e]=P.useState([]),[n,s]=P.useState(null),[o,u]=P.useState("1");P.useEffect(()=>{h()},[]);const h=async()=>{const R=await jf();e(R),R.length>0&&s(R[0])},m=R=>{const L=i.find(F=>F.id===R);s(L||null)},g=parseInt(o)||1,p=n?v8(n,g):0,E=E8(g),b=n?T8(n,g):0;return T.jsxs("div",{className:"space-y-4",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Calculateur"}),T.jsx(Et,{children:T.jsx(Tt,{className:"p-4",children:T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[T.jsx(X2,{label:"Transformation",value:n?.id||"",onChange:R=>m(R.target.value),children:i.length===0?T.jsx("option",{children:"Chargement..."}):i.map(R=>T.jsxs("option",{value:R.id,children:[R.name," (",R.durationHours,"h)"]},R.id))}),T.jsx(Z2,{label:"Nombre",type:"number",min:"1",value:o,onChange:R=>u(R.target.value)})]})})}),n&&T.jsx(Et,{children:T.jsxs(Tt,{className:"p-4",children:[T.jsx("h2",{className:"font-semibold text-dark-800 dark:text-dark-100 mb-3",children:n.name}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[T.jsxs("div",{className:"p-2 bg-butter-50 dark:bg-dark-700 rounded",children:[T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Matriau"}),T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.input.quantity," ",n.input.materialName]})]}),T.jsxs("div",{className:"p-2 bg-lavender-50 dark:bg-dark-700 rounded",children:[T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Outil"}),T.jsx("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:n.tool.name})]}),T.jsxs("div",{className:"p-2 bg-sage-50 dark:bg-dark-700 rounded",children:[T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Dure"}),T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.durationHours,"h",T.jsx("span",{className:"text-xs text-dark-400 dark:text-dark-600",children:" (-1h si )"})]})]}),T.jsxs("div",{className:"p-2 bg-sky-50 dark:bg-dark-700 rounded",children:[T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:"Caisse"}),T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[n.crate.quantityPerCrate," /caisse"]})]})]})]})}),T.jsx(Et,{children:T.jsxs(Tt,{className:"p-4",children:[T.jsxs("h2",{className:"font-semibold text-dark-800 dark:text-dark-100 mb-3",children:["Pour ",g," transformation",g>1?"s":""]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[T.jsxs("div",{className:"p-3 bg-gradient-to-br from-peach-50 to-butter-50 dark:from-peach-900/20 dark:to-butter-900/20 rounded-cozy",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Matriaux ncessaires"}),T.jsx("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:p}),T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:n?.input.materialName})]}),T.jsxs("div",{className:"p-3 bg-gradient-to-br from-lavender-50 to-sage-50 dark:from-lavender-900/20 dark:to-sage-900/20 rounded-cozy",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Outils requis"}),T.jsx("div",{className:"text-2xl font-bold text-lavender-600 dark:text-lavender-400",children:E}),T.jsx("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:n?.tool.name})]}),n&&n.tool.price>0&&T.jsxs("div",{className:"p-3 bg-gradient-to-br from-sky-50 to-lavender-50 dark:from-sky-900/20 dark:to-lavender-900/20 rounded-cozy",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Cot total"}),T.jsxs("div",{className:"text-2xl font-bold text-sky-600 dark:text-sky-400",children:[b.toLocaleString()," $"]}),T.jsxs("div",{className:"text-xs text-dark-500 dark:text-dark-500",children:[n.tool.price.toLocaleString()," $  ",E]})]})]})]})})]})},P8=()=>{const{user:i}=ba(),[e,n]=P.useState([]),[s,o]=P.useState([]),[u,h]=P.useState(null),[m,g]=P.useState(!1),[p,E]=P.useState(""),[b,R]=P.useState("1"),[,L]=P.useState(Date.now());P.useEffect(()=>{F()},[]),P.useEffect(()=>i?U2(i.uid,o):void 0,[i]),P.useEffect(()=>{const S=setInterval(()=>{L(Date.now())},1e3);return()=>clearInterval(S)},[]);const F=async()=>{const[S,x]=await Promise.all([jf(),c8()]);n(S),h(x),S.length>0&&E(S[0].id)},Q=async()=>{if(!i||!p)return;const S=e.find(x=>x.id===p);S&&(await d8(i.uid,p,parseInt(b)||1,S.durationHours),R("1"),g(!1))},$=async S=>{!i||!S||await p8(i.uid,S,u?.rules.timeReductionHours)},ie=async S=>{!i||!S.id||(await m8(i.uid,S.id,"DONE"),await y8(i.uid,S.transformationId,S.startedAt,S.endsAt,S.reducedByAction))},ne=async S=>{i&&await g8(i.uid,S)},se=S=>e.find(x=>x.id===S.transformationId),re=s.filter(S=>S.status==="RUNNING"&&!of(S.endsAt.toDate())),me=s.filter(S=>S.status!=="DONE"&&of(S.endsAt.toDate())),fe=s.filter(S=>S.status==="DONE");return T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Transformations"}),T.jsx(Fn,{onClick:()=>g(!m),size:"sm",children:m?"":"+ Nouveau"})]}),m&&T.jsx(Et,{children:T.jsxs(Tt,{className:"p-4",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[T.jsx(X2,{label:"Type",value:p,onChange:S=>E(S.target.value),children:e.map(S=>T.jsxs("option",{value:S.id,children:[S.name," (",S.durationHours,"h)"]},S.id))}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Productions places"}),T.jsx("input",{type:"number",min:"1",value:b,onChange:S=>R(S.target.value),className:"w-full px-3 py-2 rounded-input border border-border bg-card text-text shadow-sm focus:outline-none focus:ring-2 focus:ring-peach/30 focus:border-peach transition-all"})]})]}),T.jsx(Fn,{onClick:Q,className:"w-full",children:" Dmarrer"})]})}),me.length>0&&T.jsxs("div",{className:"space-y-2",children:[T.jsxs("h2",{className:"text-lg font-semibold text-sage-600 dark:text-sage-400",children:[" Prtes (",me.length,")"]}),me.map(S=>{const x=se(S);return T.jsx(Et,{className:"border-2 border-sage-400 dark:border-sage-600",children:T.jsx(Tt,{className:"p-3",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[x?.name,S.reducedByAction&&T.jsx("span",{className:"ml-2 text-xs",children:""})]}),T.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400",children:[S.inputQuantityUsed," production",S.inputQuantityUsed>1?"s":""]})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx(Fn,{size:"sm",variant:"secondary",onClick:()=>ie(S),children:"Rcolter"}),T.jsx(Fn,{size:"sm",variant:"danger",onClick:()=>S.id&&ne(S.id),children:""})]})]})})},S.id)})]}),re.length>0&&T.jsxs("div",{className:"space-y-2",children:[T.jsxs("h2",{className:"text-lg font-semibold text-lavender-600 dark:text-lavender-400",children:["En cours (",re.length,")"]}),re.map(S=>{const x=se(S),C=B2(S.endsAt.toDate()),O=S.durationHours*60*60*1e3,D=Math.max(0,Math.min(100,(O-C)/O*100));return T.jsx(Et,{children:T.jsxs(Tt,{className:"p-3",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"font-semibold text-dark-800 dark:text-dark-100",children:[x?.name,S.reducedByAction&&T.jsx("span",{className:"ml-2 text-xs",children:""})]}),T.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400",children:[S.inputQuantityUsed," production",S.inputQuantityUsed>1?"s":"","  Fin prvue: ",S.endsAt.toDate().toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-sm font-semibold text-lavender-600 dark:text-lavender-400",children:q2(C)}),T.jsx(Fn,{variant:"secondary",size:"sm",onClick:()=>S.id&&$(S.id),disabled:S.reducedByAction,title:S.reducedByAction?"Dj arros":"Arroser (-1h)",children:""}),T.jsx(Fn,{variant:"danger",size:"sm",onClick:()=>S.id&&ne(S.id),children:""})]})]}),T.jsx("div",{className:"w-full bg-surface rounded-full h-2 overflow-hidden border border-border",children:T.jsx("div",{className:"h-full bg-linear-to-r from-lavender to-peach transition-all duration-1000",style:{width:`${D}%`}})})]})},S.id)})]}),fe.length>0&&T.jsxs("div",{className:"space-y-2",children:[T.jsxs("h2",{className:"text-sm font-semibold text-dark-600 dark:text-dark-400",children:["Rcentes (",fe.slice(0,3).length,")"]}),fe.slice(0,3).map(S=>{const x=se(S);return T.jsx(Et,{className:"opacity-60",children:T.jsx(Tt,{className:"p-2",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"text-sm",children:[T.jsx("span",{className:"font-semibold text-dark-800 dark:text-dark-100",children:x?.name}),T.jsxs("span",{className:"text-xs text-dark-600 dark:text-dark-400 ml-2",children:[" ",S.inputQuantityUsed," production",S.inputQuantityUsed>1?"s":""]})]}),T.jsx(Fn,{variant:"danger",size:"sm",onClick:()=>S.id&&ne(S.id),className:"text-xs",children:""})]})})},S.id)})]}),s.length===0&&T.jsx(Et,{children:T.jsxs(Tt,{className:"p-8 text-center",children:[T.jsx("div",{className:"text-4xl mb-3",children:""}),T.jsx("p",{className:"text-dark-600 dark:text-dark-400 mb-3",children:"Aucune transformation en cours"}),T.jsx(Fn,{onClick:()=>g(!0),size:"sm",children:"Dmarrer une transformation"})]})})]})},j8=()=>{const{user:i}=ba(),[e,n]=P.useState([]),[s,o]=P.useState([]);P.useEffect(()=>{u()},[]),P.useEffect(()=>i?z2(i.uid,n):void 0,[i]);const u=async()=>{const E=await jf();o(E)},h=E=>s.find(b=>b.id===E),m=e.reduce((E,b)=>{const R=b.createdAt.toDate().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return E[R]||(E[R]=[]),E[R].push(b),E},{}),g=E=>E.toDate().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),p=E=>{const b=E.startedAt.toDate(),L=E.endsAt.toDate().getTime()-b.getTime();return Math.floor(L/(1e3*60*60))};return T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-800 dark:text-dark-100",children:"Historique"}),T.jsxs("div",{className:"text-sm text-dark-600 dark:text-dark-400",children:[e.length," entre",e.length>1?"s":""]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[T.jsx(Et,{children:T.jsx(Tt,{className:"p-3",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Total"}),T.jsx("div",{className:"text-2xl font-bold text-peach-600 dark:text-peach-400",children:e.length})]})})}),T.jsx(Et,{children:T.jsx(Tt,{className:"p-3",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Transformations"}),T.jsx("div",{className:"text-2xl font-bold text-lavender-600 dark:text-lavender-400",children:e.filter(E=>E.type==="TRANSFORMATION").length})]})})}),T.jsx(Et,{children:T.jsx(Tt,{className:"p-3",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Ventes"}),T.jsx("div",{className:"text-2xl font-bold text-sage-600 dark:text-sage-400",children:e.filter(E=>E.type==="SALE").length})]})})}),T.jsx(Et,{children:T.jsx(Tt,{className:"p-3",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-xs text-dark-600 dark:text-dark-400 mb-1",children:"Cette semaine"}),T.jsx("div",{className:"text-2xl font-bold text-sky-600 dark:text-sky-400",children:e.filter(E=>{const b=new Date;return b.setDate(b.getDate()-7),E.createdAt.toDate()>b}).length})]})})})]}),T.jsx("div",{className:"space-y-6",children:Object.keys(m).length===0?T.jsx(Et,{children:T.jsx(Tt,{children:T.jsxs("div",{className:"text-center py-12",children:[T.jsx("div",{className:"text-6xl mb-4",children:""}),T.jsx("p",{className:"text-dark-600 dark:text-dark-400 mb-2",children:"Aucun historique pour le moment"}),T.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-500",children:"Les transformations et ventes apparatront ici"})]})})}):Object.entries(m).map(([E,b])=>T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold text-dark-700 dark:text-dark-300 mb-3 capitalize",children:E}),T.jsx("div",{className:"space-y-3",children:b.map(R=>{if(R.type==="TRANSFORMATION"){const L=R,F=h(L.transformationId),Q=p(L);return T.jsx(Et,{children:T.jsx(Tt,{className:"p-3",children:T.jsx("div",{className:"flex items-start justify-between",children:T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-lavender-400 to-peach-400 flex items-center justify-center text-white text-sm",children:""}),T.jsx("h3",{className:"text-base font-semibold text-dark-800 dark:text-dark-100",children:F?.name||"Transformation inconnue"}),L.reducedByAction&&T.jsx("span",{className:"px-2 py-0.5 bg-sage-100 dark:bg-sage-900/30 text-sage-700 dark:text-sage-300 text-xs rounded-cozy font-semibold",children:""})]}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Dbut"}),T.jsx("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:g(L.startedAt)})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Fin"}),T.jsx("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:g(L.endsAt)})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Dure"}),T.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[Q,"h"]})]})]})]})})})},R.id)}else{const L=R,F=L.actualValue-L.estimatedValue,Q=Math.abs(F)>0;return T.jsx(Et,{className:Q?"border-l-4 border-l-peach-400":"",children:T.jsx(Tt,{className:"p-3",children:T.jsx("div",{className:"flex items-start justify-between",children:T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-sage-400 to-peach-400 flex items-center justify-center text-white text-sm",children:""}),T.jsxs("h3",{className:"text-base font-semibold text-dark-800 dark:text-dark-100",children:["Vente de ",L.crateLabel]})]}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm mb-2",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Quantit"}),T.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[L.quantitySold," caisse",L.quantitySold>1?"s":""]})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Valeur estime"}),T.jsxs("div",{className:"font-semibold text-dark-700 dark:text-dark-300",children:[L.estimatedValue.toLocaleString()," $"]})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Valeur rcolte"}),T.jsxs("div",{className:`font-semibold ${F>0?"text-sage-600 dark:text-sage-400":F<0?"text-peach-600 dark:text-peach-400":"text-dark-700 dark:text-dark-300"}`,children:[L.actualValue.toLocaleString()," $"]})]}),Q&&T.jsxs("div",{children:[T.jsx("div",{className:"text-dark-500 dark:text-dark-500 text-xs",children:"Diffrence"}),T.jsxs("div",{className:`font-semibold ${F>0?"text-sage-600 dark:text-sage-400":"text-peach-600 dark:text-peach-400"}`,children:[F>0?"+":"",F.toLocaleString()," $"]})]})]}),L.notes&&T.jsxs("div",{className:"text-xs text-dark-600 dark:text-dark-400 italic bg-dark-50 dark:bg-dark-800 rounded p-2",children:[" ",L.notes]})]})})})},R.id)}})})]},E))})]})},U8=async()=>{try{console.log(" Dbut de l'initialisation Firestore...");const i=$n(Zt,"configs","default");await da(i,{name:"default",rules:{timeReductionHours:1},updatedAt:Ta()}),console.log(" Config cre");const e=[{id:"zeed",name:"Zeed",input:{materialName:"Feuille",quantity:60},tool:{name:"Pot de terre",price:0},durationHours:48,crate:{name:"Caisse de Zeed",quantityPerCrate:20}},{id:"pandoxine",name:"Pandoxine",input:{materialName:"Viande",quantity:18},tool:{name:"Marmite",price:0},durationHours:96,crate:{name:"Caisse de Pandoxine",quantityPerCrate:12}},{id:"krakenine",name:"Krakenine",input:{materialName:"Huile",quantity:10},tool:{name:"Bidon de chauffe",price:0},durationHours:24,crate:{name:"Caisse de Krakenine",quantityPerCrate:12}},{id:"psylocybine",name:"Psylocybine",input:{materialName:"Champignon",quantity:60},tool:{name:"Sachet de fermentation",price:0},durationHours:72,crate:{name:"Caisse de Psylocybine",quantityPerCrate:20}}];for(const n of e){const s=$n(Zt,"configs","default","transformations",n.id);await da(s,n),console.log(` Transformation ${n.name} cre`)}return console.log(" Initialisation termine avec succs!"),{success:!0,message:"Toutes les donnes ont t cres avec succs!"}}catch(i){return console.error(" Erreur lors de l'initialisation:",i),{success:!1,message:`Erreur: ${i.message}`}}},z8=()=>{const[i,e]=P.useState(!1),[n,s]=P.useState(null),o=async()=>{e(!0),s(null);const u=await U8();s(u),e(!1)};return T.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:T.jsx(Et,{className:"max-w-2xl w-full",children:T.jsxs(Tt,{className:"p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-peach-600 dark:text-peach-400 mb-4",children:" Initialisation Firestore"}),T.jsxs("div",{className:"space-y-4 mb-6",children:[T.jsx("p",{className:"text-dark-700 dark:text-dark-300",children:"Cette page va crer automatiquement toutes les donnes ncessaires dans Firestore:"}),T.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-600 dark:text-dark-400 ml-4",children:[T.jsxs("li",{children:["Collection ",T.jsx("code",{className:"bg-dark-200 dark:bg-dark-700 px-2 py-0.5 rounded",children:"configs/default"})]}),T.jsx("li",{children:"Rgle de rduction de temps (1h)"}),T.jsxs("li",{children:["4 transformations:",T.jsxs("ul",{className:"list-circle list-inside ml-6 mt-1 space-y-1",children:[T.jsx("li",{children:" Zeed (Feuille  48h)"}),T.jsx("li",{children:" Pandoxine (Viande  96h)"}),T.jsx("li",{children:" Krakenine (Huile  24h)"}),T.jsx("li",{children:" Psylocybine (Champignon  72h)"})]})]})]}),T.jsx("div",{className:"bg-butter-50 dark:bg-butter-900/20 border-2 border-butter-400 dark:border-butter-600 rounded-cozy p-4",children:T.jsxs("p",{className:"text-sm text-dark-700 dark:text-dark-300",children:[" ",T.jsx("strong",{children:"Important:"})," N'excutez cette initialisation qu'une seule fois! Si les donnes existent dj, elles seront crases."]})})]}),T.jsx(Fn,{onClick:o,disabled:i,className:"w-full mb-4",children:i?"Initialisation en cours...":" Initialiser Firestore"}),n&&T.jsxs("div",{className:`p-4 rounded-cozy ${n.success?"bg-sage-100 dark:bg-sage-900/30 border-2 border-sage-400 dark:border-sage-600":"bg-red-100 dark:bg-red-900/30 border-2 border-red-400 dark:border-red-600"}`,children:[T.jsx("p",{className:`font-semibold mb-2 ${n.success?"text-sage-800 dark:text-sage-200":"text-red-800 dark:text-red-200"}`,children:n.success?" Succs!":" Erreur"}),T.jsx("p",{className:`text-sm ${n.success?"text-sage-700 dark:text-sage-300":"text-red-700 dark:text-red-300"}`,children:n.message}),n.success&&T.jsxs("div",{className:"mt-4 pt-4 border-t border-sage-300 dark:border-sage-700",children:[T.jsx("p",{className:"text-sm text-sage-700 dark:text-sage-300 mb-3",children:" Vous pouvez maintenant:"}),T.jsxs("ul",{className:"text-sm text-sage-600 dark:text-sage-400 space-y-1 ml-4",children:[T.jsxs("li",{children:[" Aller sur la page ",T.jsx("strong",{children:"Stocks"})," et modifier les quantits"]}),T.jsxs("li",{children:[" Aller sur la page ",T.jsx("strong",{children:"Prix"})," et ajouter des prix observs"]}),T.jsxs("li",{children:[" Aller sur le ",T.jsx("strong",{children:"Calculateur"})," pour planifier vos productions"]}),T.jsxs("li",{children:[" Lancer des ",T.jsx("strong",{children:"Transformations"})," avec timers"]})]}),T.jsx("p",{className:"text-xs text-sage-500 dark:text-sage-500 mt-4",children:" Conseil: Fermez cet onglet et rafrachissez l'application principale"})]})]}),T.jsx("div",{className:"mt-6 pt-6 border-t border-dark-200 dark:border-dark-700",children:T.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-500 text-center",children:"Cette page peut tre supprime aprs la premire initialisation"})})]})})})},ra=({children:i})=>{const{user:e,loading:n}=ba();return n?T.jsx("div",{className:"min-h-screen flex items-center justify-center",children:T.jsx("div",{className:"text-xl text-dark-600 dark:text-dark-400",children:"Chargement..."})}):e?T.jsx(O8,{children:i}):T.jsx(VE,{to:"/login",replace:!0})};function B8(){const{user:i,loading:e}=ba();return e?T.jsx("div",{className:"min-h-screen flex items-center justify-center",children:T.jsx("div",{className:"text-xl text-dark-600 dark:text-dark-400",children:"Chargement..."})}):T.jsxs(Vw,{children:[T.jsx(hr,{path:"/login",element:i?T.jsx(VE,{to:"/",replace:!0}):T.jsx(u8,{})}),T.jsx(hr,{path:"/",element:T.jsx(ra,{children:T.jsx(A8,{})})}),T.jsx(hr,{path:"/stocks",element:T.jsx(ra,{children:T.jsx(M8,{})})}),T.jsx(hr,{path:"/prices",element:T.jsx(ra,{children:T.jsx(L8,{})})}),T.jsx(hr,{path:"/calculator",element:T.jsx(ra,{children:T.jsx(V8,{})})}),T.jsx(hr,{path:"/timers",element:T.jsx(ra,{children:T.jsx(P8,{})})}),T.jsx(hr,{path:"/history",element:T.jsx(ra,{children:T.jsx(j8,{})})}),T.jsx(hr,{path:"/setup",element:T.jsx(ra,{children:T.jsx(z8,{})})})]})}function q8(){return T.jsx(ax,{basename:"/Brewsy",children:T.jsx(l8,{children:T.jsx(B8,{})})})}US.createRoot(document.getElementById("root")).render(T.jsx(P.StrictMode,{children:T.jsx(q8,{})}));
